(function(modules){function webpackJsonpCallback(data){var chunkIds=data[0];var moreModules=data[1];var moduleId,chunkId,i=0,resolves=[];for(;i<chunkIds.length;i++){chunkId=chunkIds[i];if(Object.prototype.hasOwnProperty.call(installedChunks,chunkId)&&installedChunks[chunkId]){resolves.push(installedChunks[chunkId][0])}installedChunks[chunkId]=0}for(moduleId in moreModules){if(Object.prototype.hasOwnProperty.call(moreModules,moduleId)){modules[moduleId]=moreModules[moduleId]}}if(parentJsonpFunction)parentJsonpFunction(data);while(resolves.length){resolves.shift()()}}var installedModules={};var installedChunks={2:0};function jsonpScriptSrc(chunkId){return __webpack_require__.p+"securityAnalyticsDashboards.chunk."+chunkId+".js"}function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.e=function requireEnsure(chunkId){var promises=[];var installedChunkData=installedChunks[chunkId];if(installedChunkData!==0){if(installedChunkData){promises.push(installedChunkData[2])}else{var promise=new Promise((function(resolve,reject){installedChunkData=installedChunks[chunkId]=[resolve,reject]}));promises.push(installedChunkData[2]=promise);var script=document.createElement("script");var onScriptComplete;script.charset="utf-8";script.timeout=120;if(__webpack_require__.nc){script.setAttribute("nonce",__webpack_require__.nc)}script.src=jsonpScriptSrc(chunkId);var error=new Error;onScriptComplete=function(event){script.onerror=script.onload=null;clearTimeout(timeout);var chunk=installedChunks[chunkId];if(chunk!==0){if(chunk){var errorType=event&&(event.type==="load"?"missing":event.type);var realSrc=event&&event.target&&event.target.src;error.message="Loading chunk "+chunkId+" failed.\n("+errorType+": "+realSrc+")";error.name="ChunkLoadError";error.type=errorType;error.request=realSrc;chunk[1](error)}installedChunks[chunkId]=undefined}};var timeout=setTimeout((function(){onScriptComplete({type:"timeout",target:script})}),12e4);script.onerror=script.onload=onScriptComplete;document.head.appendChild(script)}}return Promise.all(promises)};__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";__webpack_require__.oe=function(err){console.error(err);throw err};var jsonpArray=window["securityAnalyticsDashboards_bundle_jsonpfunction"]=window["securityAnalyticsDashboards_bundle_jsonpfunction"]||[];var oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback;jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;return __webpack_require__(__webpack_require__.s=210)})([function(module,exports){module.exports=__osdSharedDeps__.React},function(module,exports){module.exports=__osdSharedDeps__.ElasticEui},function(module,exports,__webpack_require__){var toPropertyKey=__webpack_require__(227);function _defineProperty(obj,key,value){key=toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}module.exports=_defineProperty,module.exports.__esModule=true,module.exports["default"]=module.exports},function(module,exports){module.exports=__osdSharedDeps__.OsdI18n},function(module,exports,__webpack_require__){var toPropertyKey=__webpack_require__(212);function _defineProperty(obj,key,value){key=toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}module.exports=_defineProperty,module.exports.__esModule=true,module.exports["default"]=module.exports},function(module,exports,__webpack_require__){"use strict";module.exports=function(cssWithMappingToString){var list=[];list.toString=function toString(){return this.map((function(item){var content=cssWithMappingToString(item);if(item[2]){return"@media ".concat(item[2]," {").concat(content,"}")}return content})).join("")};list.i=function(modules,mediaQuery,dedupe){if(typeof modules==="string"){modules=[[null,modules,""]]}var alreadyImportedModules={};if(dedupe){for(var i=0;i<this.length;i++){var id=this[i][0];if(id!=null){alreadyImportedModules[id]=true}}}for(var _i=0;_i<modules.length;_i++){var item=[].concat(modules[_i]);if(dedupe&&alreadyImportedModules[item[0]]){continue}if(mediaQuery){if(!item[2]){item[2]=mediaQuery}else{item[2]="".concat(mediaQuery," and ").concat(item[2])}}list.push(item)}};return list}},function(module,exports){module.exports=__osdSharedDeps__.Rxjs},function(module,exports){module.exports=__osdSharedDeps__.RxjsOperators},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"u",(function(){return MAX_RECENTLY_USED_TIME_RANGES}));__webpack_require__.d(__webpack_exports__,"j",(function(){return DEFAULT_DATE_RANGE}));__webpack_require__.d(__webpack_exports__,"i",(function(){return DATE_TIME_FILTER_KEY}));__webpack_require__.d(__webpack_exports__,"y",(function(){return PLUGIN_NAME}));__webpack_require__.d(__webpack_exports__,"w",(function(){return OS_NOTIFICATION_PLUGIN}));__webpack_require__.d(__webpack_exports__,"k",(function(){return DEFAULT_EMPTY_DATA}));__webpack_require__.d(__webpack_exports__,"x",(function(){return OVERVIEW_NAV_ID}));__webpack_require__.d(__webpack_exports__,"s",(function(){return GET_STARTED_NAV_ID}));__webpack_require__.d(__webpack_exports__,"B",(function(){return THREAT_ALERTS_NAV_ID}));__webpack_require__.d(__webpack_exports__,"q",(function(){return FINDINGS_NAV_ID}));__webpack_require__.d(__webpack_exports__,"f",(function(){return CORRELATIONS_NAV_ID}));__webpack_require__.d(__webpack_exports__,"n",(function(){return DETECTORS_NAV_ID}));__webpack_require__.d(__webpack_exports__,"m",(function(){return DETECTION_RULE_NAV_ID}));__webpack_require__.d(__webpack_exports__,"g",(function(){return CORRELATIONS_RULE_NAV_ID}));__webpack_require__.d(__webpack_exports__,"C",(function(){return THREAT_INTEL_NAV_ID}));__webpack_require__.d(__webpack_exports__,"t",(function(){return LOG_TYPES_NAV_ID}));__webpack_require__.d(__webpack_exports__,"M",(function(){return setDarkMode}));__webpack_require__.d(__webpack_exports__,"z",(function(){return ROUTES}));__webpack_require__.d(__webpack_exports__,"v",(function(){return NOTIFICATIONS_HREF}));__webpack_require__.d(__webpack_exports__,"G",(function(){return getNotificationDetailsHref}));__webpack_require__.d(__webpack_exports__,"e",(function(){return BREADCRUMBS}));__webpack_require__.d(__webpack_exports__,"A",(function(){return SortDirection}));__webpack_require__.d(__webpack_exports__,"L",(function(){return scheduleUnitText}));__webpack_require__.d(__webpack_exports__,"o",(function(){return EMPTY_DEFAULT_DETECTOR}));__webpack_require__.d(__webpack_exports__,"p",(function(){return EMPTY_DEFAULT_DETECTOR_HIT}));__webpack_require__.d(__webpack_exports__,"c",(function(){return ALERT_STATE}));__webpack_require__.d(__webpack_exports__,"K",(function(){return logTypesWithDashboards}));__webpack_require__.d(__webpack_exports__,"I",(function(){return logTypeCategoryDescription}));__webpack_require__.d(__webpack_exports__,"H",(function(){return logTypeCategories}));__webpack_require__.d(__webpack_exports__,"J",(function(){return logTypesByCategories}));__webpack_require__.d(__webpack_exports__,"E",(function(){return defaultColorForVisualizations}));__webpack_require__.d(__webpack_exports__,"F",(function(){return defaultIntervalUnitOptions}));__webpack_require__.d(__webpack_exports__,"r",(function(){return FindingTabId}));__webpack_require__.d(__webpack_exports__,"d",(function(){return AlertTabId}));__webpack_require__.d(__webpack_exports__,"a",(function(){return ALERT_SEVERITY_OPTIONS}));__webpack_require__.d(__webpack_exports__,"b",(function(){return ALERT_SEVERITY_PROPS}));__webpack_require__.d(__webpack_exports__,"D",(function(){return dataSourceObservable}));__webpack_require__.d(__webpack_exports__,"h",(function(){return DATA_SOURCE_NOT_SET_ERROR}));__webpack_require__.d(__webpack_exports__,"l",(function(){return DEFAULT_MESSAGE_SOURCE}));var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4);var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);var _elastic_eui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1);var _elastic_eui__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__);var rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6);var rxjs__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(rxjs__WEBPACK_IMPORTED_MODULE_2__);var _osd_i18n__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3);var _osd_i18n__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_osd_i18n__WEBPACK_IMPORTED_MODULE_3__);function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const DATE_MATH_FORMAT="YYYY-MM-DDTHH:mm:ss.SSSZ";const MAX_RECENTLY_USED_TIME_RANGES=5;const DEFAULT_DATE_RANGE={start:"now-24h",end:"now"};const DATE_TIME_FILTER_KEY="security_analytics_time_filter";const PLUGIN_NAME="opensearch_security_analytics_dashboards";const OS_NOTIFICATION_PLUGIN="opensearch-notifications";const DEFAULT_EMPTY_DATA="-";const OVERVIEW_NAV_ID=`sa_overview`;const GET_STARTED_NAV_ID=`get_started`;const THREAT_ALERTS_NAV_ID=`threat_alerts`;const FINDINGS_NAV_ID=`findings`;const CORRELATIONS_NAV_ID=`correlations`;const DETECTORS_NAV_ID=`detectors`;const DETECTION_RULE_NAV_ID=`detection_rules`;const CORRELATIONS_RULE_NAV_ID=`correlation_rules`;const THREAT_INTEL_NAV_ID=`threat_intelligence`;const LOG_TYPES_NAV_ID=`log_types`;let isDarkMode=false;function setDarkMode(isDarkModeSetting){isDarkMode=isDarkModeSetting}const ROUTES=Object.freeze({ROOT:"/",ALERTS:"/alerts",DETECTORS:"/detectors",FINDINGS:"/findings",OVERVIEW:"/overview",GETTING_STARTED:"/getting-started",RULES:"/rules",RULES_CREATE:"/create-rule",RULES_EDIT:"/edit-rule",RULES_IMPORT:"/import-rule",RULES_DUPLICATE:"/duplicate-rule",DETECTORS_CREATE:"/create-detector",DETECTOR_DETAILS:"/detector-details",EDIT_DETECTOR_DETAILS:"/edit-detector-details",EDIT_DETECTOR_RULES:"/edit-detector-rules",EDIT_FIELD_MAPPINGS:"/edit-field-mappings",EDIT_DETECTOR_ALERT_TRIGGERS:"/edit-alert-triggers",CORRELATIONS:"/correlations",CORRELATION_RULES:"/correlations/rules",CORRELATION_RULE_CREATE:"/correlations/create-rule",CORRELATION_RULE_EDIT:"/correlations/rule",LOG_TYPES:"/log-types",LOG_TYPES_CREATE:"/create-log-type",THREAT_INTEL_OVERVIEW:"/threat-intel",THREAT_INTEL_ADD_CUSTOM_SOURCE:"/add-threat-intel-source",THREAT_INTEL_CREATE_SCAN_CONFIG:"/create-scan-config",THREAT_INTEL_EDIT_SCAN_CONFIG:"/edit-scan-config",THREAT_INTEL_SOURCE_DETAILS:"/threat-intel-source",get LANDING_PAGE(){return this.OVERVIEW}});const NOTIFICATIONS_HREF="notifications-dashboards#/channels";const getNotificationDetailsHref=channelId=>`notifications-dashboards#/channels-details/${channelId}`;const BREADCRUMBS=Object.freeze({SECURITY_ANALYTICS:{text:"Security Analytics",href:`#${ROUTES.OVERVIEW}`},OVERVIEW:{text:"Overview",href:`#${ROUTES.OVERVIEW}`},GETTING_STARTED:{text:"Get started",href:`#${ROUTES.GETTING_STARTED}`},FINDINGS:{text:"Findings",href:`#${ROUTES.FINDINGS}`},DETECTORS:{text:"Threat detectors",href:`#${ROUTES.DETECTORS}`},DETECTORS_CREATE:{text:"Create detector",href:`#${ROUTES.DETECTORS_CREATE}`},EDIT_DETECTOR_DETAILS:{text:"Edit detector details"},DETECTORS_DETAILS:(name,detectorId)=>({text:`${name}`,href:`#${ROUTES.DETECTOR_DETAILS}/${detectorId}`}),DETECTORS_EDIT_DETAILS:(name,detectorId)=>({text:`${name}`,href:`#${ROUTES.EDIT_DETECTOR_DETAILS}/${detectorId}`}),RULES:{text:"Detection rules",href:`#${ROUTES.RULES}`},ALERTS:{text:"Threat alerts",href:`#${ROUTES.ALERTS}`},RULES_CREATE:{text:"Create detection rule",href:`#${ROUTES.RULES_CREATE}`},RULES_EDIT:{text:"Edit rule",href:`#${ROUTES.RULES_EDIT}`},RULE_EDIT_DETAILS:name=>({text:`${name}`,href:`#${ROUTES.RULES_EDIT}`}),RULES_DUPLICATE:{text:"Duplicate rule",href:`#${ROUTES.RULES_DUPLICATE}`},RULES_IMPORT:{text:"Import rule",href:`#${ROUTES.RULES_IMPORT}`},CORRELATIONS:{text:"Correlations",href:`#${ROUTES.CORRELATIONS}`},CORRELATION_RULES:{text:"Correlation rules",href:`#${ROUTES.CORRELATION_RULES}`},CORRELATIONS_RULE_CREATE:action=>({text:`${action} correlation rule`,href:`#${ROUTES.CORRELATION_RULE_CREATE}`}),LOG_TYPES:{text:"Log types",href:`#${ROUTES.LOG_TYPES}`},LOG_TYPE_CREATE:{text:"Create log type",href:`#${ROUTES.LOG_TYPES_CREATE}`},THREAT_INTEL_OVERVIEW:{text:"Threat intelligence",href:`#${ROUTES.THREAT_INTEL_OVERVIEW}`},THREAT_INTEL_ADD_CUSTOM_SOURCE:{text:"Add threat intel source",href:`#${ROUTES.THREAT_INTEL_ADD_CUSTOM_SOURCE}`},THREAT_INTEL_SETUP_SCAN_CONFIG:{text:"Set up real-time scan",href:`#${ROUTES.THREAT_INTEL_CREATE_SCAN_CONFIG}`},THREAT_INTEL_EDIT_SCAN_CONFIG:{text:"Edit real-time scan",href:`#${ROUTES.THREAT_INTEL_EDIT_SCAN_CONFIG}`},THREAT_INTEL_SOURCE_DETAILS:(name,id)=>({text:`${name}`,href:`#${ROUTES.THREAT_INTEL_SOURCE_DETAILS}/${id}`})});let SortDirection=function(SortDirection){SortDirection["ASC"]="asc";SortDirection["DESC"]="desc";return SortDirection}({});const FixedTimeunitOptions=[{value:"ms",text:"Millisecond(s)"},{value:"s",text:"Second(s)"},{value:"m",text:"Minute(s)"},{value:"h",text:"Hour(s)"},{value:"d",text:"Day(s)"}];const CalendarTimeunitOptions=[{value:"m",text:"Minute"},{value:"h",text:"Hour"},{value:"d",text:"Day"},{value:"w",text:"Week"},{value:"M",text:"Month"},{value:"q",text:"Quarter"},{value:"y",text:"Year"}];let IntervalType=function(IntervalType){IntervalType["FIXED"]="fixed";IntervalType["CALENDAR"]="calendar";return IntervalType}({});const scheduleUnitText={MINUTES:"minute",HOURS:"hour",DAYS:"day",WEEKS:"week",MONTHS:"month",QUARTERS:"quarter",YEARS:"year"};const EMPTY_DEFAULT_PERIOD_SCHEDULE={period:{interval:1,unit:"MINUTES"}};const EMPTY_DEFAULT_DETECTOR_INPUT={detector_input:{description:"",indices:[],pre_packaged_rules:[],custom_rules:[]}};const EMPTY_DEFAULT_DETECTOR={type:"detector",detector_type:"network",name:"",enabled:true,createdBy:"",schedule:EMPTY_DEFAULT_PERIOD_SCHEDULE,inputs:[EMPTY_DEFAULT_DETECTOR_INPUT],triggers:[],threat_intel_enabled:false};const EMPTY_DEFAULT_DETECTOR_HIT={_id:"",_index:"",_source:_objectSpread(_objectSpread({},EMPTY_DEFAULT_DETECTOR),{},{last_update_time:0,enabled_time:0})};const ALERT_STATE=Object.freeze({ACTIVE:"ACTIVE",ACKNOWLEDGED:"ACKNOWLEDGED",COMPLETED:"COMPLETED",ERROR:"ERROR",DELETED:"DELETED"});const logTypesWithDashboards=new Set(["network","cloudtrail","s3"]);const pendingDashboardCreations={};const logTypeCategoryDescription=[{name:"Access Management",description:"User access, authentication, group management"},{name:"Applications",description:"Application lifecycle, API, and web resources activities"},{name:"Cloud Services",description:"Services managed by cloud providers"},{name:"Network Activity",description:"DNS, HTTP, Email, SSH, FTP, DHCP, RDP"},{name:"System Activity",description:"System monitoring logs"},{name:"Other",description:"Logs not covered in other categories"}];const logTypeCategories=[];const logTypesByCategories={};const defaultColorForVisualizations=Object(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["euiPaletteColorBlind"])()[0];const defaultIntervalUnitOptions={MINUTES:{value:"MINUTES",text:"Minutes"},HOURS:{value:"HOURS",text:"Hours"},DAYS:{value:"DAYS",text:"Days"}};let FindingTabId=function(FindingTabId){FindingTabId["DetectionRules"]="detection-rules";FindingTabId["ThreatIntel"]="threat-intel";return FindingTabId}({});let AlertTabId=function(AlertTabId){AlertTabId["DetectionRules"]="detection-rules";AlertTabId["ThreatIntel"]="threat-intel";AlertTabId["Correlations"]="correlations";return AlertTabId}({});const paletteColors=Object(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["euiPaletteForStatus"])(5);const ALERT_SEVERITY_OPTIONS={HIGHEST:{id:"1",value:"1",label:"1 (Highest)",text:"1 (Highest)"},HIGH:{id:"2",value:"2",label:"2 (High)",text:"2 (High)"},MEDIUM:{id:"3",value:"3",label:"3 (Medium)",text:"3 (Medium)"},LOW:{id:"4",value:"4",label:"4 (Low)",text:"4 (Low)"},LOWEST:{id:"5",value:"5",label:"5 (Lowest)",text:"5 (Lowest)"}};const ALERT_SEVERITY_PROPS={[ALERT_SEVERITY_OPTIONS.HIGHEST.value]:{badgeLabel:"Highest",color:{background:paletteColors[4],text:"white"}},[ALERT_SEVERITY_OPTIONS.HIGH.value]:{badgeLabel:"High",color:{background:paletteColors[3],text:"white"}},[ALERT_SEVERITY_OPTIONS.MEDIUM.value]:{badgeLabel:"Medium",color:{background:paletteColors[2],text:"black"}},[ALERT_SEVERITY_OPTIONS.LOW.value]:{badgeLabel:"Low",color:{background:paletteColors[1],text:"white"}},[ALERT_SEVERITY_OPTIONS.LOWEST.value]:{badgeLabel:"Lowest",color:{background:paletteColors[0],text:"white"}}};const LocalCluster={label:_osd_i18n__WEBPACK_IMPORTED_MODULE_3__["i18n"].translate("dataSource.localCluster",{defaultMessage:"Local cluster"}),id:""};const dataSourceObservable=new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"]({});const DATA_SOURCE_NOT_SET_ERROR="Data source is not set";const DEFAULT_MESSAGE_SOURCE={MESSAGE_BODY:`- Triggered alert condition: {{ctx.trigger.name}}\n - Severity: {{ctx.trigger.severity}}\n - Threat detector: {{ctx.detector.name}}\n - Description: {{ctx.detector.description}}\n - Detector data sources: {{ctx.detector.datasources}}`,MESSAGE_SUBJECT:`Triggered alert condition:  {{ctx.trigger.name}} - Severity: {{ctx.trigger.severity}} - Threat detector: {{ctx.detector.name}}`}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return dataSourceInfo}));__webpack_require__.d(__webpack_exports__,"u",(function(){return setUISettings}));__webpack_require__.d(__webpack_exports__,"k",(function(){return getUseUpdatedUx}));__webpack_require__.d(__webpack_exports__,"h",(function(){return getNavigationUI}));__webpack_require__.d(__webpack_exports__,"r",(function(){return setNavigationUI}));__webpack_require__.d(__webpack_exports__,"b",(function(){return getApplication}));__webpack_require__.d(__webpack_exports__,"l",(function(){return setApplication}));__webpack_require__.d(__webpack_exports__,"c",(function(){return getBreadCrumbsSetter}));__webpack_require__.d(__webpack_exports__,"m",(function(){return setBreadCrumbsSetter}));__webpack_require__.d(__webpack_exports__,"e",(function(){return getChrome}));__webpack_require__.d(__webpack_exports__,"o",(function(){return setChrome}));__webpack_require__.d(__webpack_exports__,"f",(function(){return getContentManagement}));__webpack_require__.d(__webpack_exports__,"p",(function(){return setContentManagement}));__webpack_require__.d(__webpack_exports__,"d",(function(){return getBrowserServices}));__webpack_require__.d(__webpack_exports__,"n",(function(){return setBrowserServices}));__webpack_require__.d(__webpack_exports__,"i",(function(){return getNotifications}));__webpack_require__.d(__webpack_exports__,"s",(function(){return setNotifications}));__webpack_require__.d(__webpack_exports__,"j",(function(){return getSavedObjectsClient}));__webpack_require__.d(__webpack_exports__,"t",(function(){return setSavedObjectsClient}));__webpack_require__.d(__webpack_exports__,"g",(function(){return getDataSourceManagementPlugin}));__webpack_require__.d(__webpack_exports__,"q",(function(){return setDataSourceManagementPlugin}));var defineProperty=__webpack_require__(2);var defineProperty_default=__webpack_require__.n(defineProperty);class defer_Defer{constructor(){defineProperty_default()(this,"resolve",void 0);defineProperty_default()(this,"reject",void 0);defineProperty_default()(this,"promise",new Promise((resolve,reject)=>{this.resolve=resolve;this.reject=reject}))}}const defer=()=>new defer_Defer;var external_osdSharedDeps_Lodash_=__webpack_require__(11);const field_wildcard_makeRegEx=Object(external_osdSharedDeps_Lodash_["memoize"])((function makeRegEx(glob){const globRegex=glob.split("*").map(external_osdSharedDeps_Lodash_["escapeRegExp"]).join(".*");return new RegExp(`^${globRegex}$`)}));function fieldWildcardMatcher(){let globs=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];let metaFields=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return function matcher(val){if(metaFields.indexOf(val)!==-1){return false}return globs.some(p=>field_wildcard_makeRegEx(p).test(`${val}`))}}function fieldWildcardFilter(){let globs=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];let metaFields=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];const matcher=fieldWildcardMatcher(globs,metaFields);return function filter(val){return!matcher(val)}}const of=async promise=>{try{return[await promise,undefined,true]}catch(error){return[undefined,error,false]}};var external_osdSharedDeps_Rxjs_=__webpack_require__(6);var external_osdSharedDeps_RxjsOperators_=__webpack_require__(7);var deep_freeze_strict=__webpack_require__(181);var deep_freeze_strict_default=__webpack_require__.n(deep_freeze_strict);function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const $$observable=typeof Symbol==="function"&&Symbol.observable||"@@observable";const $$setActionType="@@SET";const isProduction=typeof window==="object"?"production"==="production":false||"production"==="production";const defaultFreeze=isProduction?value=>value:value=>{const isFreezable=value!==null&&typeof value==="object";if(isFreezable)return deep_freeze_strict_default()(value);return value};function createStateContainer(defaultState){let pureTransitions=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let pureSelectors=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};let options=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};const{freeze:freeze=defaultFreeze}=options;const data$=new external_osdSharedDeps_Rxjs_["BehaviorSubject"](freeze(defaultState));const state$=data$.pipe(Object(external_osdSharedDeps_RxjsOperators_["skip"])(1));const get=()=>data$.getValue();const container={get:get,state$:state$,getState:()=>data$.getValue(),set:state=>{container.dispatch({type:$$setActionType,args:[state]})},reducer:(state,action)=>{if(action.type===$$setActionType){return freeze(action.args[0])}const pureTransition=pureTransitions[action.type];return pureTransition?freeze(pureTransition(state)(...action.args)):state},replaceReducer:nextReducer=>container.reducer=nextReducer,dispatch:action=>data$.next(container.reducer(get(),action)),transitions:Object.keys(pureTransitions).reduce((acc,type)=>_objectSpread(_objectSpread({},acc),{},{[type]:function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return container.dispatch({type:type,args:args})}}),{}),selectors:Object.keys(pureSelectors).reduce((acc,selector)=>_objectSpread(_objectSpread({},acc),{},{[selector]:function(){return pureSelectors[selector](get())(...arguments)}}),{}),addMiddleware:middleware=>container.dispatch=middleware(container)(container.dispatch),subscribe:listener=>{const subscription=state$.subscribe(listener);return()=>subscription.unsubscribe()},[$$observable]:state$};return container}var external_osdSharedDeps_React_=__webpack_require__(0);var external_osdSharedDeps_React_default=__webpack_require__.n(external_osdSharedDeps_React_);var useObservable=__webpack_require__(15);var useObservable_default=__webpack_require__.n(useObservable);var fast_deep_equal=__webpack_require__(127);var fast_deep_equal_default=__webpack_require__.n(fast_deep_equal);function create_state_container_react_helpers_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function create_state_container_react_helpers_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?create_state_container_react_helpers_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):create_state_container_react_helpers_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const{useContext:useContext,useLayoutEffect:useLayoutEffect,useRef:useRef,createElement:h}=external_osdSharedDeps_React_default.a;const useContainerState=container=>useObservable_default()(container.state$,container.get());const useContainerSelector=function(container,selector){let comparator=arguments.length>2&&arguments[2]!==undefined?arguments[2]:fast_deep_equal_default.a;const{state$:state$,get:get}=container;const lastValueRef=useRef(get());const[value,setValue]=external_osdSharedDeps_React_default.a.useState(()=>{const newValue=selector(get());lastValueRef.current=newValue;return newValue});useLayoutEffect(()=>{const subscription=state$.subscribe(currentState=>{const newValue=selector(currentState);if(!comparator(lastValueRef.current,newValue)){lastValueRef.current=newValue;setValue(newValue)}});return()=>subscription.unsubscribe()},[state$,comparator]);return value};const createStateContainerReactHelpers=()=>{const context=external_osdSharedDeps_React_default.a.createContext(null);const useContainer=()=>useContext(context);const useState=()=>{const container=useContainer();return useContainerState(container)};const useTransitions=()=>useContainer().transitions;const useSelector=function(selector){let comparator=arguments.length>1&&arguments[1]!==undefined?arguments[1]:fast_deep_equal_default.a;const container=useContainer();return useContainerSelector(container,selector,comparator)};const connect=mapStateToProp=>component=>props=>h(component,create_state_container_react_helpers_objectSpread(create_state_container_react_helpers_objectSpread({},useSelector(mapStateToProp)),props));return{Provider:context.Provider,Consumer:context.Consumer,context:context,useContainer:useContainer,useState:useState,useTransitions:useTransitions,useSelector:useSelector,connect:connect}};class OsdError extends Error{constructor(message){super(message);Object.setPrototypeOf(this,new.target.prototype)}}class DuplicateField extends OsdError{constructor(name){super(`The field "${name}" already exists in this mapping`)}}class errors_SavedObjectNotFound extends OsdError{constructor(type,id,link){const idMsg=id?` (id: ${id})`:"";let message=`Could not locate that ${type}${idMsg}`;if(link){message+=`, [click here to re-create it](${link})`}super(message);defineProperty_default()(this,"savedObjectType",void 0);defineProperty_default()(this,"savedObjectId",void 0);this.savedObjectType=type;this.savedObjectId=id}}class InvalidJSONProperty extends OsdError{constructor(message){super(message)}}const createGetterSetter=name=>{let value;const get=()=>{if(!value)throw new Error(`${name} was not set.`);return value};const set=newValue=>{value=newValue};return[get,set]};function distinctUntilChangedWithInitialValue(initialValue,compare){return input$=>Object(external_osdSharedDeps_Rxjs_["scheduled"])([isPromise(initialValue)?Object(external_osdSharedDeps_Rxjs_["from"])(initialValue):[initialValue],input$],external_osdSharedDeps_Rxjs_["queueScheduler"]).pipe(Object(external_osdSharedDeps_RxjsOperators_["concatAll"])(),Object(external_osdSharedDeps_RxjsOperators_["distinctUntilChanged"])(compare),Object(external_osdSharedDeps_RxjsOperators_["skip"])(1))}function isPromise(value){return!!value&&typeof value==="object"&&"then"in value&&typeof value.then==="function"&&!("subscribe"in value)}function encodeUriQuery(val){let pctEncodeSpaces=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;return encodeURIComponent(val).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,pctEncodeSpaces?"%20":"+")}const encodeQuery=function(query){let encodeFunction=arguments.length>1&&arguments[1]!==undefined?arguments[1]:encodeUriQuery;return Object(external_osdSharedDeps_Lodash_["transform"])(query,(result,value,key)=>{if(key){const singleValue=Array.isArray(value)?value.join(","):value;result[key]=encodeFunction(singleValue===undefined||singleValue===null?"":singleValue,true)}})};const url={encodeQuery:encodeQuery,encodeUriQuery:encodeUriQuery};const now=typeof performance==="object"?performance.now.bind(performance):Date.now;function pad(hash,len){while(hash.length<len){hash="0"+hash}return hash}function fold(hash,text){let i;let chr;let len;if(text.length===0){return hash}for(i=0,len=text.length;i<len;i++){chr=text.charCodeAt(i);hash=(hash<<5)-hash+chr;hash|=0}return hash<0?hash*-2:hash}function foldObject(hash,o,seen){function foldKey(h,key){return foldValue(h,o[key],key,seen)}return Object.keys(o).sort().reduce(foldKey,hash)}function foldValue(input,value,key,seen){const hash=fold(fold(fold(input,key),calculate_object_hash_toString(value)),typeof value);if(value===null){return fold(hash,"null")}if(value===undefined){return fold(hash,"undefined")}if(typeof value==="object"){if(key==="vis"&&value.constructor.name==="Vis"){return hash}if(seen.indexOf(value)!==-1){return fold(hash,"[Circular]"+key)}seen.push(value);return foldObject(hash,value,seen)}return fold(hash,value.toString())}function calculate_object_hash_toString(o){return Object.prototype.toString.call(o)}function sum(o){return pad(foldValue(0,o,"",[]).toString(16),8)}const calculateObjectHash=sum;var helpers=__webpack_require__(42);const dataSourceInfo={activeDataSource:{id:""}};const[getUISettings,setUISettings]=createGetterSetter("UISettings");const getUseUpdatedUx=()=>getUISettings().get("home:useNewHomePage",false);const[getNavigationUI,setNavigationUI]=createGetterSetter("navigation");const[getApplication,setApplication]=createGetterSetter("application");const[getBreadCrumbsSetter,setBreadCrumbsSetter]=createGetterSetter("breadCrumbSetter");const[getChrome,setChrome]=createGetterSetter("chrome");const[getContentManagement,setContentManagement]=createGetterSetter("contentManagement");const[getBrowserServices,setBrowserServices]=createGetterSetter("browserServices");const[getNotifications,setNotifications]=createGetterSetter("Notifications");const[getSavedObjectsClient,setSavedObjectsClient]=createGetterSetter("SavedObjectsClient");const[getDataSourceManagementPlugin,setDataSourceManagementPlugin]=Object(helpers["b"])()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return API}));__webpack_require__.d(__webpack_exports__,"b",(function(){return DEFAULT_METRICS_COUNTER}));var _types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(34);let CLUSTER=function(CLUSTER){CLUSTER["ADMIN"]="admin";CLUSTER["SA"]="opensearch_security_analytics";CLUSTER["DATA"]="data";return CLUSTER}({});const BASE_API_PATH="/_plugins/_security_analytics";const API={DETECTORS_BASE:`${BASE_API_PATH}/detectors`,CORRELATION_BASE:`${BASE_API_PATH}/correlation/rules`,SEARCH_DETECTORS:`${BASE_API_PATH}/detectors/_search`,INDICES_BASE:`${BASE_API_PATH}/indices`,ALIASES_BASE:`${BASE_API_PATH}/aliases`,FINDINGS_BASE:`${BASE_API_PATH}/findings`,GET_FINDINGS:`${BASE_API_PATH}/findings/_search`,DOCUMENT_IDS_QUERY:`${BASE_API_PATH}/document_ids_query`,TIME_RANGE_QUERY:`${BASE_API_PATH}/time_range_query`,MAPPINGS_BASE:`${BASE_API_PATH}/mappings`,MAPPINGS_VIEW:`${BASE_API_PATH}/mappings/view`,GET_ALERTS:`${BASE_API_PATH}/alerts`,RULES_BASE:`${BASE_API_PATH}/rules`,CHANNELS:`${BASE_API_PATH}/_notifications/channels`,PLUGINS:`${BASE_API_PATH}/_notifications/plugins`,NOTIFICATION_FEATURES:`${BASE_API_PATH}/_notifications/features`,ACKNOWLEDGE_ALERTS:`${BASE_API_PATH}/detectors/{detector_id}/_acknowledge/alerts`,UPDATE_ALIASES:`${BASE_API_PATH}/update_aliases`,CORRELATIONS:`${BASE_API_PATH}/correlations`,LOGTYPE_BASE:`${BASE_API_PATH}/logtype`,METRICS:`/api/security_analytics/stats`,GET_CORRELATION_ALERTS:`${BASE_API_PATH}/correlationAlerts`,ACK_CORRELATION_ALERTS:`${BASE_API_PATH}/_acknowledge/correlationAlerts`,THREAT_INTEL_BASE:`${BASE_API_PATH}/threat_intel`};const PLUGIN_PROPERTY_NAME="securityAnalytics";const METHOD_NAMES={CREATE_RULE:"createRule",DELETE_RULE:"deleteRule",GET_RULE:"getRule",GET_RULES:"getRules",UPDATE_RULE:"updateRules",CREATE_DETECTOR:"createDetector",DELETE_DETECTOR:"deleteDetector",GET_DETECTOR:"getDetector",SEARCH_DETECTORS:"searchDetectors",UPDATE_DETECTOR:"updateDetector",GET_CORRELATION_RULES:"getCorrelationRules",CREATE_CORRELATION_RULE:"createCorrelationRule",UPDATE_CORRELATION_RULE:"updateCorrelationRule",DELETE_CORRELATION_RULE:"deleteCorrelationRule",GET_CORRELATED_FINDINGS:"getCorrelatedFindings",GET_ALL_CORRELATIONS:"getAllCorrelations",GET_CORRELATION_ALERTS:"getAllCorrelationAlerts",ACK_CORRELATION_ALERTS:"acknowledgeCorrelationAlerts",GET_FINDINGS:"getFindings",GET_MAPPINGS_VIEW:"getFieldMappingsView",CREATE_MAPPINGS:"createMappings",GET_MAPPINGS:"getMappings",GET_INDEX_ALIAS_MAPPINGS:"getIndexAliasMappings",GET_ALERTS:"getAlerts",ACKNOWLEDGE_ALERTS:"acknowledgeAlerts",GET_CHANNEl:"getChannel",GET_CHANNElS:"getChannels",GET_FEATURES:"getFeatures",SEARCH_LOGTYPES:"searchLogTypes",CREATE_LOGTYPE:"createLogType",UPDATE_LOGTYPE:"updateLogType",DELETE_LOGTYPE:"deleteLogType",ADD_THREAT_INTEL_SOURCE:"addThreatIntelSource",UPDATE_THREAT_INTEL_SOURCE:"updateThreatIntelSource",SEARCH_THREAT_INTEL_SOURCES:"searchThreatIntelSources",GET_THREAT_INTEL_SOURCE:"getThreatIntelSource",DELETE_THREAT_INTEL_SOURCE:"deleteThreatIntelSource",REFRESH_THREAT_INTEL_SOURCE:"refreshThreatIntelSource",GET_THREAT_INTEL_IOCS:"getThreatIntelIoCs",CREATE_THREAT_INTEL_MONITOR:"createThreatIntelMonitor",UPDATE_THREAT_INTEL_MONITOR:"updateThreatIntelMonitor",SEARCH_THREAT_INTEL_MONITORS:"searchThreatIntelMonitors",DELETE_THREAT_INTEL_MONITOR:"deleteThreatIntelMonitor",GET_THREAT_INTEL_FINDINGS:"getThreatIntelFindings",GET_THREAT_INTEL_ALERTS:"getThreatIntelAlerts",UPDATE_THREAT_INTEL_ALERTS_STATE:"updateThreatIntelAlertsStatus"};const CLIENT_RULE_METHODS={CREATE_RULE:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.CREATE_RULE}`,DELETE_RULE:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.DELETE_RULE}`,GET_RULE:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.GET_RULE}`,GET_RULES:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.GET_RULES}`,UPDATE_RULE:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.UPDATE_RULE}`};const CLIENT_DETECTOR_METHODS={CREATE_DETECTOR:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.CREATE_DETECTOR}`,DELETE_DETECTOR:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.DELETE_DETECTOR}`,GET_DETECTOR:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.GET_DETECTOR}`,SEARCH_DETECTORS:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.SEARCH_DETECTORS}`,UPDATE_DETECTOR:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.UPDATE_DETECTOR}`,GET_FINDINGS:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.GET_FINDINGS}`};const CLIENT_CORRELATION_METHODS={GET_CORRELATION_RULES:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.GET_CORRELATION_RULES}`,CREATE_CORRELATION_RULE:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.CREATE_CORRELATION_RULE}`,UPDATE_CORRELATION_RULE:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.UPDATE_CORRELATION_RULE}`,DELETE_CORRELATION_RULE:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.DELETE_CORRELATION_RULE}`,GET_CORRELATED_FINDINGS:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.GET_CORRELATED_FINDINGS}`,GET_ALL_CORRELATIONS:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.GET_ALL_CORRELATIONS}`,GET_CORRELATION_ALERTS:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.GET_CORRELATION_ALERTS}`,ACK_CORRELATION_ALERTS:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.ACK_CORRELATION_ALERTS}`};const CLIENT_FIELD_MAPPINGS_METHODS={GET_MAPPINGS_VIEW:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.GET_MAPPINGS_VIEW}`,CREATE_MAPPINGS:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.CREATE_MAPPINGS}`,GET_MAPPINGS:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.GET_MAPPINGS}`,GET_INDEX_ALIAS_MAPPINGS:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.GET_INDEX_ALIAS_MAPPINGS}`};const CLIENT_ALERTS_METHODS={ACKNOWLEDGE_ALERTS:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.ACKNOWLEDGE_ALERTS}`,GET_ALERTS:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.GET_ALERTS}`};const CLIENT_NOTIFICATIONS_METHODS={GET_CHANNEL:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.GET_CHANNEl}`,GET_CHANNELS:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.GET_CHANNElS}`,GET_FEATURES:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.GET_FEATURES}`};const CLIENT_LOGTYPE_METHODS={SEARCH_LOGTYPES:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.SEARCH_LOGTYPES}`,CREATE_LOGTYPE:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.CREATE_LOGTYPE}`,UPDATE_LOGTYPE:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.UPDATE_LOGTYPE}`,DELETE_LOGTYPE:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.DELETE_LOGTYPE}`};const CLIENT_THREAT_INTEL_METHODS={ADD_THREAT_INTEL_SOURCE:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.ADD_THREAT_INTEL_SOURCE}`,UPDATE_THREAT_INTEL_SOURCE:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.UPDATE_THREAT_INTEL_SOURCE}`,SEARCH_THREAT_INTEL_SOURCES:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.SEARCH_THREAT_INTEL_SOURCES}`,GET_THREAT_INTEL_SOURCE:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.GET_THREAT_INTEL_SOURCE}`,DELETE_THREAT_INTEL_SOURCE:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.DELETE_THREAT_INTEL_SOURCE}`,REFRESH_THREAT_INTEL_SOURCE:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.REFRESH_THREAT_INTEL_SOURCE}`,GET_THREAT_INTEL_IOCS:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.GET_THREAT_INTEL_IOCS}`,CREATE_THREAT_INTEL_MONITOR:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.CREATE_THREAT_INTEL_MONITOR}`,UPDATE_THREAT_INTEL_MONITOR:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.UPDATE_THREAT_INTEL_MONITOR}`,SEARCH_THREAT_INTEL_MONITORS:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.SEARCH_THREAT_INTEL_MONITORS}`,DELETE_THREAT_INTEL_MONITOR:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.DELETE_THREAT_INTEL_MONITOR}`,GET_THREAT_INTEL_FINDINGS:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.GET_THREAT_INTEL_FINDINGS}`,GET_THREAT_INTEL_ALERTS:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.GET_THREAT_INTEL_ALERTS}`,UPDATE_THREAT_INTEL_ALERTS_STATE:`${PLUGIN_PROPERTY_NAME}.${METHOD_NAMES.UPDATE_THREAT_INTEL_ALERTS_STATE}`};const DEFAULT_METRICS_COUNTER={CreateDetector:{[_types__WEBPACK_IMPORTED_MODULE_0__["b"].started]:0,[_types__WEBPACK_IMPORTED_MODULE_0__["b"].sourceSelected]:0,[_types__WEBPACK_IMPORTED_MODULE_0__["b"].rulesConfigured]:0,[_types__WEBPACK_IMPORTED_MODULE_0__["b"].fieldMappingsConfigured]:0,[_types__WEBPACK_IMPORTED_MODULE_0__["b"].threatIntelConfigured]:0,[_types__WEBPACK_IMPORTED_MODULE_0__["b"].stepTwoInitiated]:0,[_types__WEBPACK_IMPORTED_MODULE_0__["b"].triggerConfigured]:0,[_types__WEBPACK_IMPORTED_MODULE_0__["b"].createClicked]:0}}},function(module,exports){module.exports=__osdSharedDeps__.Lodash},function(module,exports,__webpack_require__){"use strict";var isOldIE=function isOldIE(){var memo;return function memorize(){if(typeof memo==="undefined"){memo=Boolean(window&&document&&document.all&&!window.atob)}return memo}}();var getTarget=function getTarget(){var memo={};return function memorize(target){if(typeof memo[target]==="undefined"){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement){try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}}memo[target]=styleTarget}return memo[target]}}();var stylesInDom=[];function getIndexByIdentifier(identifier){var result=-1;for(var i=0;i<stylesInDom.length;i++){if(stylesInDom[i].identifier===identifier){result=i;break}}return result}function modulesToDom(list,options){var idCountMap={};var identifiers=[];for(var i=0;i<list.length;i++){var item=list[i];var id=options.base?item[0]+options.base:item[0];var count=idCountMap[id]||0;var identifier="".concat(id," ").concat(count);idCountMap[id]=count+1;var index=getIndexByIdentifier(identifier);var obj={css:item[1],media:item[2],sourceMap:item[3]};if(index!==-1){stylesInDom[index].references++;stylesInDom[index].updater(obj)}else{stylesInDom.push({identifier:identifier,updater:addStyle(obj,options),references:1})}identifiers.push(identifier)}return identifiers}function insertStyleElement(options){var style=document.createElement("style");var attributes=options.attributes||{};if(typeof attributes.nonce==="undefined"){var nonce=true?__webpack_require__.nc:undefined;if(nonce){attributes.nonce=nonce}}Object.keys(attributes).forEach((function(key){style.setAttribute(key,attributes[key])}));if(typeof options.insert==="function"){options.insert(style)}else{var target=getTarget(options.insert||"head");if(!target){throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.")}target.appendChild(style)}return style}function removeStyleElement(style){if(style.parentNode===null){return false}style.parentNode.removeChild(style)}var replaceText=function replaceText(){var textStore=[];return function replace(index,replacement){textStore[index]=replacement;return textStore.filter(Boolean).join("\n")}}();function applyToSingletonTag(style,index,remove,obj){var css=remove?"":obj.media?"@media ".concat(obj.media," {").concat(obj.css,"}"):obj.css;if(style.styleSheet){style.styleSheet.cssText=replaceText(index,css)}else{var cssNode=document.createTextNode(css);var childNodes=style.childNodes;if(childNodes[index]){style.removeChild(childNodes[index])}if(childNodes.length){style.insertBefore(cssNode,childNodes[index])}else{style.appendChild(cssNode)}}}function applyToTag(style,options,obj){var css=obj.css;var media=obj.media;var sourceMap=obj.sourceMap;if(media){style.setAttribute("media",media)}else{style.removeAttribute("media")}if(sourceMap&&typeof btoa!=="undefined"){css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")}if(style.styleSheet){style.styleSheet.cssText=css}else{while(style.firstChild){style.removeChild(style.firstChild)}style.appendChild(document.createTextNode(css))}}var singleton=null;var singletonCounter=0;function addStyle(obj,options){var style;var update;var remove;if(options.singleton){var styleIndex=singletonCounter++;style=singleton||(singleton=insertStyleElement(options));update=applyToSingletonTag.bind(null,style,styleIndex,false);remove=applyToSingletonTag.bind(null,style,styleIndex,true)}else{style=insertStyleElement(options);update=applyToTag.bind(null,style,options);remove=function remove(){removeStyleElement(style)}}update(obj);return function updateStyle(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap){return}update(obj=newObj)}else{remove()}}}module.exports=function(list,options){options=options||{};if(!options.singleton&&typeof options.singleton!=="boolean"){options.singleton=isOldIE()}list=list||[];var lastIdentifiers=modulesToDom(list,options);return function update(newList){newList=newList||[];if(Object.prototype.toString.call(newList)!=="[object Array]"){return}for(var i=0;i<lastIdentifiers.length;i++){var identifier=lastIdentifiers[i];var index=getIndexByIdentifier(identifier);stylesInDom[index].references--}var newLastIdentifiers=modulesToDom(newList,options);for(var _i=0;_i<lastIdentifiers.length;_i++){var _identifier=lastIdentifiers[_i];var _index=getIndexByIdentifier(_identifier);if(stylesInDom[_index].references===0){stylesInDom[_index].updater();stylesInDom.splice(_index,1)}}lastIdentifiers=newLastIdentifiers}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"A",(function(){return renderTime}));__webpack_require__.d(__webpack_exports__,"e",(function(){return createTextDetailsGroup}));__webpack_require__.d(__webpack_exports__,"w",(function(){return parseSchedule}));__webpack_require__.d(__webpack_exports__,"F",(function(){return translateToRuleItems}));__webpack_require__.d(__webpack_exports__,"B",(function(){return renderVisualization}));__webpack_require__.d(__webpack_exports__,"d",(function(){return createSelectComponent}));__webpack_require__.d(__webpack_exports__,"c",(function(){return capitalizeFirstLetter}));__webpack_require__.d(__webpack_exports__,"g",(function(){return errorNotificationToast}));__webpack_require__.d(__webpack_exports__,"E",(function(){return successNotificationToast}));__webpack_require__.d(__webpack_exports__,"r",(function(){return getPlugins}));__webpack_require__.d(__webpack_exports__,"h",(function(){return formatRuleType}));__webpack_require__.d(__webpack_exports__,"s",(function(){return getSeverityBadge}));__webpack_require__.d(__webpack_exports__,"q",(function(){return getLogTypeOptions}));__webpack_require__.d(__webpack_exports__,"p",(function(){return getLogTypeFilterOptions}));__webpack_require__.d(__webpack_exports__,"o",(function(){return getLogTypeCategoryOptions}));__webpack_require__.d(__webpack_exports__,"y",(function(){return removeDetectionType}));__webpack_require__.d(__webpack_exports__,"a",(function(){return addDetectionType}));__webpack_require__.d(__webpack_exports__,"v",(function(){return isThreatIntelQuery}));__webpack_require__.d(__webpack_exports__,"j",(function(){return getDataSources}));__webpack_require__.d(__webpack_exports__,"k",(function(){return getDuration}));__webpack_require__.d(__webpack_exports__,"D",(function(){return setIsNotificationPluginInstalled}));__webpack_require__.d(__webpack_exports__,"n",(function(){return getIsNotificationPluginInstalled}));__webpack_require__.d(__webpack_exports__,"m",(function(){return getFieldsForIndex}));__webpack_require__.d(__webpack_exports__,"z",(function(){return renderIoCType}));__webpack_require__.d(__webpack_exports__,"C",(function(){return setBreadcrumbs}));__webpack_require__.d(__webpack_exports__,"f",(function(){return dataSourceFilterFn}));__webpack_require__.d(__webpack_exports__,"i",(function(){return getAlertSeverityBadge}));__webpack_require__.d(__webpack_exports__,"t",(function(){return getTruncatedText}));__webpack_require__.d(__webpack_exports__,"x",(function(){return registerThreatAlertsCard}));__webpack_require__.d(__webpack_exports__,"l",(function(){return getEuiEmptyPrompt}));__webpack_require__.d(__webpack_exports__,"u",(function(){return initializeServices}));__webpack_require__.d(__webpack_exports__,"b",(function(){return buildRouteUrl}));var defineProperty=__webpack_require__(4);var defineProperty_default=__webpack_require__.n(defineProperty);var external_osdSharedDeps_ElasticEui_=__webpack_require__(1);var external_osdSharedDeps_Moment_=__webpack_require__(52);var external_osdSharedDeps_Moment_default=__webpack_require__.n(external_osdSharedDeps_Moment_);var external_osdSharedDeps_React_=__webpack_require__(0);var external_osdSharedDeps_React_default=__webpack_require__.n(external_osdSharedDeps_React_);var constants=__webpack_require__(8);var public_services=__webpack_require__(36);var utils_constants=__webpack_require__(19);var external_osdSharedDeps_Lodash_=__webpack_require__(11);var external_osdSharedDeps_Lodash_default=__webpack_require__.n(external_osdSharedDeps_Lodash_);var DataStore=__webpack_require__(38);const LogCategoryOptionView=_ref=>{let{categoryName:categoryName}=_ref;const inputRef=Object(external_osdSharedDeps_React_["useRef"])(null);Object(external_osdSharedDeps_React_["useEffect"])(()=>{var _inputRef$current;(_inputRef$current=inputRef.current)===null||_inputRef$current===void 0||(_inputRef$current=_inputRef$current.closest("button.euiFilterSelectItem"))===null||_inputRef$current===void 0||_inputRef$current.setAttribute("disabled","true")},[inputRef.current]);return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTitle"],{size:"xxs"},external_osdSharedDeps_React_default.a.createElement("h4",{ref:inputRef},categoryName))};var helpers=__webpack_require__(25);var external_osdSharedDeps_Theme_=__webpack_require__(26);var datemath_target=__webpack_require__(88);var target_default=__webpack_require__.n(datemath_target);var common_constants=__webpack_require__(58);var vega=__webpack_require__(128);var vega_lite=__webpack_require__(182);var vega_tooltip=__webpack_require__(183);var vega_interpreter=__webpack_require__(184);var services_utils_constants=__webpack_require__(9);var DetectorService=__webpack_require__(81);var CorrelationService=__webpack_require__(84);var FindingsService=__webpack_require__(82);var RuleService=__webpack_require__(83);var SavedObjectService=__webpack_require__(86);var server_utils_constants=__webpack_require__(10);var common_helpers=__webpack_require__(42);class MetricsService_MetricsService{constructor(httpClient){var _getSecurityAnalytics;this.httpClient=httpClient;defineProperty_default()(this,"newMetricsAvailable",false);defineProperty_default()(this,"metricsCounter",external_osdSharedDeps_Lodash_default.a.cloneDeep(server_utils_constants["b"]));defineProperty_default()(this,"emitTimer",undefined);defineProperty_default()(this,"uxTelemetryIntervalInMs",void 0);defineProperty_default()(this,"emitMetrics",()=>{if(this.newMetricsAvailable){this.httpClient.post(`..${server_utils_constants["a"].METRICS}`,{body:JSON.stringify(this.metricsCounter)});this.metricsCounter=external_osdSharedDeps_Lodash_default.a.cloneDeep(server_utils_constants["b"])}this.newMetricsAvailable=false});this.uxTelemetryIntervalInMs=(((_getSecurityAnalytics=Object(common_helpers["c"])())===null||_getSecurityAnalytics===void 0?void 0:_getSecurityAnalytics.uxTelemetryInterval)||0)*6e4}setupEmitMetricsTimer(){if(this.emitTimer){return}this.emitTimer=setInterval(this.emitMetrics,this.uxTelemetryIntervalInMs);window.onbeforeunload=this.emitMetrics}updateMetrics(metrics){if(!this.uxTelemetryIntervalInMs){return}this.metricsCounter=Object(common_helpers["a"])(metrics,this.metricsCounter);this.newMetricsAvailable=true;this.setupEmitMetricsTimer()}}var ThreatIntelService=__webpack_require__(85);var semver=__webpack_require__(185);var semver_default=__webpack_require__.n(semver);var opensearch_dashboards=__webpack_require__(129);function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const DataSourceThreatAlertsCard=_ref=>{let{getDataSourceMenu:getDataSourceMenu,detectorService:detectorService}=_ref;const DataSourceSelector=Object(external_osdSharedDeps_React_["useMemo"])(()=>{if(getDataSourceMenu){return getDataSourceMenu()}return null},[getDataSourceMenu]);const notifications=Object(services_utils_constants["i"])();const[loading,setLoading]=Object(external_osdSharedDeps_React_["useState"])(false);const[dataSource,setDataSource]=Object(external_osdSharedDeps_React_["useState"])();const[alerts,setAlerts]=Object(external_osdSharedDeps_React_["useState"])([]);const getAlerts=async()=>{try{const detectorsRes=await detectorService.getDetectors(dataSource);if(detectorsRes.ok){const detectors={};const detectorIds=detectorsRes.response.hits.hits.map(hit=>{detectors[hit._id]=_objectSpread(_objectSpread({},hit._source),{},{id:hit._id});return hit._id});let alerts=[];for(let id of detectorIds){const alertsRes=await DataStore["a"].alerts.getAlertsForThreatAlertsCard(id,detectors[id].name,undefined,undefined,25,dataSource);alerts=alerts.concat(alertsRes)}alerts.sort((a,b)=>new Date(b.start_time).getTime()-new Date(a.start_time).getTime());setAlerts(alerts.slice(0,25));setLoading(false)}else{errorNotificationToast(notifications,"retrieve","detectors",detectorsRes.error);setLoading(false)}}catch(e){errorNotificationToast(notifications,"retrieve","alerts",e);setLoading(false)}};Object(external_osdSharedDeps_React_["useEffect"])(()=>{setLoading(true);getAlerts()},[dataSource]);const onDataSourceSelected=Object(external_osdSharedDeps_React_["useCallback"])(options=>{var _options$;if((dataSource===null||dataSource===void 0?void 0:dataSource.id)===undefined||(dataSource===null||dataSource===void 0?void 0:dataSource.id)!==((_options$=options[0])===null||_options$===void 0?void 0:_options$.id)){setDataSource(options[0])}},[dataSource]);const columns=[{field:"start_time",name:"Time",sortable:true,align:"left",render:start_time=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s"},renderTime(start_time))},{field:"trigger_name",name:"Alert trigger",sortable:false,align:"left",render:triggerName=>external_osdSharedDeps_React_default.a.createElement("span",{style:{color:"#006BB4"},className:"eui-textTruncate"},getTruncatedText(triggerName))},{field:"severity",name:"Alert severity",sortable:true,align:"left",render:getAlertSeverityBadge}];return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPanel"],{hasBorder:false,hasShadow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{style:{height:"100%"},direction:"column",justifyContent:"spaceBetween",alignItems:"flexStart",gutterSize:"xs"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false,style:{width:"100%",height:"90%"}},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{direction:"column",style:{height:"100%"}},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"s",justifyContent:"spaceBetween"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_osdSharedDeps_React_default.a.createElement("h3",null,"Recent threat alerts"))),DataSourceSelector&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(DataSourceSelector,{componentType:"DataSourceSelectable",componentConfig:{savedObjects:Object(services_utils_constants["j"])(),notifications:Object(services_utils_constants["i"])(),onSelectedDataSources:onDataSourceSelected,fullWidth:false,dataSourceFilter:dataSourceFilterFn,activeOption:dataSource?[{id:dataSource.id}]:undefined}})))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{style:{overflow:"scroll"}},loading?external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiLoadingContent"],null):external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiBasicTable"],{tableCaption:"threat_alerts",items:alerts,columns:columns})))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiLink"],{href:Object(services_utils_constants["b"])().getUrlForApp(constants["B"],{path:"#/dashboard"}),target:"_blank"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s",className:"eui-displayInline"},"View all")))))};function helpers_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function helpers_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?helpers_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):helpers_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const parseStringsToOptions=strings=>strings.map(str=>({id:str,label:str}));const renderTime=time=>{const momentTime=external_osdSharedDeps_Moment_default()(time);if(time&&momentTime.isValid())return momentTime.format("MM/DD/YY h:mm a");return constants["k"]};function createTextDetailsGroup(data){const createFormRow=function(label,content,url){let target=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"_self";const dataTestSubj=label.toLowerCase().replace(/ /g,"-");return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCompressedFormRow"],{fullWidth:true,label:label},url?external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiLink"],{href:url,"data-test-subj":`text-details-group-content-${dataTestSubj}`,target:target},content!==null&&content!==void 0?content:constants["k"]):external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{"data-test-subj":`text-details-group-content-${dataTestSubj}`,size:"s"},content!==null&&content!==void 0?content:constants["k"]))};return data.length<=1?!data.length?null:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,createFormRow(data[0].label,data[0].content,data[0].url,data[0].target),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"})):external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{className:"detailsFormRow"},data.map((_ref,index)=>{let{label:label,content:content,url:url,target:target}=_ref;return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{key:index,grow:true},createFormRow(label,content,url,target))})),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}))}const pluralize=function(count,singular){let plural=arguments.length>2&&arguments[2]!==undefined?arguments[2]:singular+"s";return[1,-1].includes(Number(count))?singular:plural};function parseSchedule(_ref2){let{period:{interval:interval,unit:unit}}=_ref2;return`Every ${interval} ${pluralize(interval,constants["L"][unit])}`}function translateToRuleItems(prePackagedRules,customRules,detectorType,isEnabled){let ruleItemInfos=prePackagedRules.map(rule=>helpers_objectSpread(helpers_objectSpread({},rule),{},{enabled:isEnabled(rule),prePackaged:true}));ruleItemInfos=ruleItemInfos.concat(customRules.map(rule=>helpers_objectSpread(helpers_objectSpread({},rule),{},{enabled:isEnabled(rule),prePackaged:false})));return ruleItemInfosToItems(detectorType,ruleItemInfos)}function ruleItemInfosToItems(detectorType,ruleItemsInfo){if(ruleItemsInfo){return ruleItemsInfo.map(itemInfo=>({id:itemInfo._id,active:itemInfo.enabled,description:itemInfo._source.description,library:itemInfo.prePackaged?"Standard":"Custom",logType:detectorType.toLowerCase(),name:itemInfo._source.title,severity:itemInfo._source.level,ruleInfo:itemInfo}))}return[]}function getUpdatedEnabledRuleIds(existingEnabledIds,ruleId,isActive){let newEnabledIds;const wasActive=existingEnabledIds.has(ruleId);if(wasActive&&!isActive){const clonedIds=new Set(existingEnabledIds);clonedIds.delete(ruleId);newEnabledIds=[...clonedIds]}else if(!wasActive&&isActive){const clonedIds=new Set(existingEnabledIds);clonedIds.add(ruleId);newEnabledIds=[...clonedIds]}return newEnabledIds}async function renderVisualization(spec,containerId){let view;try{setDefaultColors(spec);renderVegaSpec(Object(vega_lite["compile"])(helpers_objectSpread(helpers_objectSpread({},spec),{},{width:"container",height:400})).spec).catch(err=>console.error(err))}catch(error){console.error(error)}async function renderVegaSpec(spec){let chartColoredItems=[];const handler=new vega_tooltip["Handler"]({formatTooltip:(value,sanitize)=>{let tooltipData=helpers_objectSpread({},value);let values=Object.entries(tooltipData);if(!values.length)return"";const tooltipItem=chartColoredItems.filter(groupItem=>external_osdSharedDeps_Lodash_default.a.isEqual(groupItem.tooltip,tooltipData));const color=tooltipItem.length?tooltipItem[0].fill||tooltipItem[0].stroke:"transparent";const firstItem=values.pop()||["",""];let rowData="";values.forEach(item=>{rowData+=`\n            <tr>\n              <td>${sanitize(item[0])}</td>\n              <td>${sanitize(item[1])}</td>\n            </tr>\n          `});return`\n          <div class="vg-tooltip-innerContainer">\n            <div class="vg-tooltip-header">\n              <table>\n                <tr>\n                  <td><div class="vg-tooltip-color" style="background-color: ${color}"></div></td>\n                  <td>${sanitize(firstItem[0])}</td>\n                  <td>${sanitize(firstItem[1])}</td>\n                </tr>\n              </table>\n            </div>\n            <div class="vg-tooltip-body">\n             <table>${rowData}</table>\n            </div>\n          </div>\n        `}});view=new vega["View"](Object(vega["parse"])(spec,undefined,{expr:vega_interpreter["expressionInterpreter"]}),{renderer:"canvas",container:`#${containerId}`,hover:true});view.tooltip(handler.call);return view.runAsync().then(view=>{const items=view.scenegraph().root.items[0].items||[];const groups=items.filter(item=>item.name&&item.name.match(/^(layer_).*(_marks)$/));for(let item of groups){chartColoredItems=chartColoredItems.concat(item.items)}})}}function createSelectComponent(options,value,id,onChange){return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexEnd",alignItems:"center"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCompressedSelect"],{id:id,options:options,value:value,onChange:onChange,prepend:"Group by"})))}const capitalizeFirstLetter=str=>{if(!str){return""}return`${str.charAt(0).toUpperCase()}${str.slice(1).toLowerCase()}`};const errorNotificationToast=function(notifications,actionName,objectName){let errorMessage=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"";let displayTime=arguments.length>4&&arguments[4]!==undefined?arguments[4]:5e3;if(errorMessage.toLowerCase().includes("no living connections")){return}const message=`Failed to ${actionName} ${objectName}:`;console.error(message,errorMessage);notifications===null||notifications===void 0||notifications.toasts.addDanger({title:message,text:errorMessage,toastLifeTimeMs:displayTime})};const successNotificationToast=function(notifications,actionName,objectName){let successMessage=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"";let displayTime=arguments.length>4&&arguments[4]!==undefined?arguments[4]:5e3;notifications===null||notifications===void 0||notifications.toasts.addSuccess({title:`Successfully ${actionName} ${objectName}`,text:successMessage,toastLifeTimeMs:displayTime})};const getPlugins=async opensearchService=>{try{const pluginsResponse=await opensearchService.getPlugins();if(pluginsResponse.ok){return pluginsResponse.response.map(plugin=>plugin.component)}else{return[]}}catch(e){return[]}};const formatRuleType=matchingRuleType=>{const logType=utils_constants["e"].find(ruleType=>ruleType.value.toLowerCase()===matchingRuleType.toLowerCase());if(logType){return`${logType.category}: ${Object(helpers["a"])(logType.value)}`}return constants["k"]};const getSeverityBadge=severity=>{const severityLevel=utils_constants["b"].find(sev=>sev.value===severity);return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiBadge"],{color:severityLevel===null||severityLevel===void 0?void 0:severityLevel.color.background,style:{color:severityLevel===null||severityLevel===void 0?void 0:severityLevel.color.text}},(severityLevel===null||severityLevel===void 0?void 0:severityLevel.name)||constants["k"])};function formatToLogTypeOptions(logTypesByCategories){return constants["H"].map(category=>{const logTypes=logTypesByCategories[category];return{label:category,value:category,options:logTypes.map(_ref3=>{let{name:name}=_ref3;return{label:Object(helpers["a"])(name),value:name.toLowerCase()}}).sort((a,b)=>a.label<b.label?-1:a.label>b.label?1:0)}})}async function getLogTypeOptions(){await DataStore["a"].logTypes.getLogTypes();return formatToLogTypeOptions(constants["J"])}function getLogTypeFilterOptions(){const options=[];formatToLogTypeOptions(constants["J"]).forEach(categoryData=>{const categoryName=categoryData.label;const logTypes=categoryData.options;for(let i=0;i<logTypes.length;i++){if(i===0){options.push({value:logTypes.map(logType=>logType.value).join(" or "),view:external_osdSharedDeps_React_default.a.createElement(LogCategoryOptionView,{categoryName:categoryName})})}options.push({value:logTypes[i].value,view:external_osdSharedDeps_React_default.a.createElement("span",{className:"euiFlexItem euiFilterSelectItem__content",style:{paddingLeft:20}},Object(helpers["a"])(logTypes[i].label))})}});return options}function getLogTypeCategoryOptions(){return constants["I"].map(_ref4=>{let{name:name,description:description}=_ref4;return{value:name,inputDisplay:name,dropdownDisplay:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,external_osdSharedDeps_React_default.a.createElement("strong",null,name),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s",color:"subdued"},external_osdSharedDeps_React_default.a.createElement("p",{className:"ouiTextColor--subdued"},description)))}})}function removeDetectionType(trigger,detectionType){const detectionTypes=new Set(trigger.detection_types);detectionTypes.delete(detectionType);return Array.from(detectionTypes)}function addDetectionType(trigger,detectionType){const detectionTypes=new Set(trigger.detection_types);detectionTypes.add(detectionType);return Array.from(detectionTypes)}function isThreatIntelQuery(queryId){return queryId===null||queryId===void 0?void 0:queryId.startsWith("threat_intel_")}async function getDataSources(indexService,notifications){const dataSourceOptions=[];try{const aliasesResponse=await indexService.getAliases();const indicesResponse=await indexService.getIndices();if(aliasesResponse.ok){const aliases=aliasesResponse.response.aliases.filter(_ref5=>{let{index:index}=_ref5;return!index.startsWith(".")});const aliasOptions=aliases.map(_ref6=>{let{alias:alias,index:index}=_ref6;return{label:alias,index:index,value:alias}});dataSourceOptions.push({label:"Aliases",options:aliasOptions})}else{errorNotificationToast(notifications,"retrieve","aliases",aliasesResponse.error);return{ok:false,error:aliasesResponse.error}}if(indicesResponse.ok){const indices=indicesResponse.response.indices;const indexOptions=indices.map(_ref7=>{let{index:index}=_ref7;return{label:index,value:index}}).filter(_ref8=>{let{label:label}=_ref8;return!label.startsWith(".")});dataSourceOptions.push({label:"Indices",options:indexOptions})}else{errorNotificationToast(notifications,"retrieve","indices",indicesResponse.error);return{ok:false,error:indicesResponse.error}}return{ok:true,dataSources:dataSourceOptions}}catch(error){errorNotificationToast(notifications,"retrieve","indices",error);return{ok:false,error:error}}}function setDefaultColors(spec){const setValue=getValueSetter(spec.config);setValue(Object(external_osdSharedDeps_ElasticEui_["euiPaletteColorBlind"])(),"range","category");setValue(constants["E"],"mark","color");setValue(external_osdSharedDeps_Theme_["euiThemeVars"].euiTextColor,"text","fill");setValue(external_osdSharedDeps_Theme_["euiThemeVars"].euiColorDarkestShade,"title","color");setValue(external_osdSharedDeps_Theme_["euiThemeVars"].euiColorDarkShade,"style","guide-label","fill");setValue(external_osdSharedDeps_Theme_["euiThemeVars"].euiColorDarkestShade,"style","guide-title","fill");setValue(external_osdSharedDeps_Theme_["euiThemeVars"].euiColorDarkestShade,"style","group-title","fill");setValue(external_osdSharedDeps_Theme_["euiThemeVars"].euiColorDarkestShade,"style","group-subtitle","fill");setValue(external_osdSharedDeps_Theme_["euiThemeVars"].euiColorChartLines,"axis","tickColor");setValue(external_osdSharedDeps_Theme_["euiThemeVars"].euiColorChartLines,"axis","domainColor");setValue(external_osdSharedDeps_Theme_["euiThemeVars"].euiColorChartLines,"axis","gridColor");setValue("transparent","background");setValue(external_osdSharedDeps_Theme_["euiThemeVars"].euiColorDarkestShade,"legend","titleColor");setValue(external_osdSharedDeps_Theme_["euiThemeVars"].euiColorDarkShade,"legend","labelColor")}function getValueSetter(baseObject){return function(value){var _ref9;let o=baseObject;for(let i=0;i<(arguments.length<=1?0:arguments.length-1)-1;i++){const field=i+1<1||arguments.length<=i+1?undefined:arguments[i+1];const subObj=o[field];if(subObj===undefined){o[field]={}}else if(!external_osdSharedDeps_Lodash_default.a.isPlainObject(subObj)){return}o=o[field]}const lastField=(_ref9=(arguments.length<=1?0:arguments.length-1)-1+1,_ref9<1||arguments.length<=_ref9?undefined:arguments[_ref9]);if(o[lastField]===undefined){o[lastField]=value}}}function getDuration(_ref10){let{startTime:startTime,endTime:endTime}=_ref10;const startMoment=target_default.a.parse(startTime);const endMoment=target_default.a.parse(endTime);return{startTime:startMoment.valueOf(),endTime:endMoment.valueOf()}}let isNotificationPluginInstalled=false;function setIsNotificationPluginInstalled(isInstalled){isNotificationPluginInstalled=isInstalled}function getIsNotificationPluginInstalled(){return isNotificationPluginInstalled}async function getFieldsForIndex(fieldMappingService,indexName){let fields=[];if(indexName){const result=await fieldMappingService.getIndexAliasFields(indexName);if(result!==null&&result!==void 0&&result.ok){var _result$response;fields=(_result$response=result.response)===null||_result$response===void 0?void 0:_result$response.map(field=>({label:field,value:field}))}return fields}return fields}function renderIoCType(iocType){return common_constants["b"][iocType]||constants["k"]}function setBreadcrumbs(crumbs){Object(services_utils_constants["c"])()(Object(services_utils_constants["k"])()?crumbs:[constants["e"].SECURITY_ANALYTICS,...crumbs])}function dataSourceFilterFn(dataSource){try{var _dataSource$attribute,_dataSource$attribute2;const dataSourceVersion=(dataSource===null||dataSource===void 0||(_dataSource$attribute=dataSource.attributes)===null||_dataSource$attribute===void 0?void 0:_dataSource$attribute.dataSourceVersion)||"";const installedPlugins=(dataSource===null||dataSource===void 0||(_dataSource$attribute2=dataSource.attributes)===null||_dataSource$attribute2===void 0?void 0:_dataSource$attribute2.installedPlugins)||[];return opensearch_dashboards["a"].every(plugin=>installedPlugins.includes(plugin))&&semver_default.a.satisfies(dataSourceVersion,opensearch_dashboards["b"])}catch(error){return false}}function getSeverityText(severity){return external_osdSharedDeps_Lodash_default.a.get(external_osdSharedDeps_Lodash_default.a.find(constants["a"],{value:severity}),"text")}function getBadgeText(severity){var _ALERT_SEVERITY_PROPS;return((_ALERT_SEVERITY_PROPS=constants["b"][severity])===null||_ALERT_SEVERITY_PROPS===void 0?void 0:_ALERT_SEVERITY_PROPS.badgeLabel)||constants["k"]}function getAlertSeverityColor(severity){var _ALERT_SEVERITY_PROPS2;return((_ALERT_SEVERITY_PROPS2=constants["b"][severity])===null||_ALERT_SEVERITY_PROPS2===void 0?void 0:_ALERT_SEVERITY_PROPS2.color)||{background:"white",text:"black"}}function getAlertSeverityBadge(severity){const severityColor=getAlertSeverityColor(severity);return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiBadge"],{color:severityColor.background,style:{padding:"1px 5px",color:severityColor.text}},getBadgeText(severity))}const getTruncatedText=function(text){let textLength=arguments.length>1&&arguments[1]!==undefined?arguments[1]:14;return`${text.slice(0,textLength)}${text.length>textLength?"...":""}`};function registerThreatAlertsCard(){Object(services_utils_constants["f"])().registerContentProvider({id:`analytics_all_recent_threat_alerts_card_content`,getTargetArea:()=>"all_overview/service_cards",getContent:()=>({id:"analytics_all_recent_threat_alerts_card",kind:"custom",order:20,render:()=>{var _getDataSourceManagem;return external_osdSharedDeps_React_default.a.createElement(DataSourceThreatAlertsCard,{getDataSourceMenu:(_getDataSourceManagem=Object(services_utils_constants["g"])())===null||_getDataSourceManagem===void 0?void 0:_getDataSourceManagem.ui.getDataSourceMenu,detectorService:Object(services_utils_constants["d"])().detectorsService})},width:16})})}function getEuiEmptyPrompt(message){return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiEmptyPrompt"],{style:{position:"relative"},body:external_osdSharedDeps_React_default.a.createElement("div",{style:{display:"flex",justifyContent:"center",padding:"32px"}},external_osdSharedDeps_React_default.a.createElement("p",{style:{position:"absolute",top:"calc(50% - 20px)"}},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_osdSharedDeps_React_default.a.createElement("p",{style:{margin:0}},message),external_osdSharedDeps_React_default.a.createElement("p",{style:{margin:0}},"Adjust the time range to see more results."))))})}function initializeServices(coreStart,indexPattern){const{http:http,savedObjects:savedObjects}=coreStart;const detectorsService=new DetectorService["a"](http);const correlationsService=new CorrelationService["a"](http);const indexService=new public_services["d"](http);const findingsService=new FindingsService["a"](http,coreStart.notifications);const opensearchService=new public_services["g"](http,savedObjects.client);const fieldMappingService=new public_services["b"](http);const alertsService=new public_services["a"](http,coreStart.notifications);const ruleService=new RuleService["a"](http);const notificationsService=new public_services["f"](http);const savedObjectsService=new SavedObjectService["a"](savedObjects.client,indexService);const indexPatternsService=new public_services["c"](indexPattern);const logTypeService=new public_services["e"](http);const metricsService=new MetricsService_MetricsService(http);const threatIntelService=new ThreatIntelService["a"](http,coreStart.notifications);const services={detectorsService:detectorsService,correlationsService:correlationsService,indexService:indexService,fieldMappingService:fieldMappingService,findingsService:findingsService,opensearchService:opensearchService,ruleService:ruleService,alertService:alertsService,notificationsService:notificationsService,savedObjectsService:savedObjectsService,indexPatternsService:indexPatternsService,logTypeService:logTypeService,metricsService:metricsService,threatIntelService:threatIntelService};Object(services_utils_constants["n"])(services);DataStore["a"].init(services,coreStart.notifications)}const buildRouteUrl=(appId,route)=>{const useUpdatedUx=Object(services_utils_constants["k"])();if(useUpdatedUx){return Object(services_utils_constants["b"])().getUrlForApp(appId,{path:`#${route}`})}else{return`#${route}`}}},function(module,exports){module.exports=__osdSharedDeps__.OsdI18nReact},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(186);var react_1=__webpack_require__(0);var useIsomorphicLayoutEffect_1=tslib_1.__importDefault(__webpack_require__(195));function useObservable(observable$,initialValue){var _a=react_1.useState(initialValue),value=_a[0],update=_a[1];useIsomorphicLayoutEffect_1.default((function(){var s=observable$.subscribe(update);return function(){return s.unsubscribe()}}),[observable$]);return value}exports.default=useObservable},function(module,exports){module.exports=__osdSharedDeps__.ReactDom},function(module,exports,__webpack_require__){var objectWithoutPropertiesLoose=__webpack_require__(245);function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}module.exports=_objectWithoutProperties,module.exports.__esModule=true,module.exports["default"]=module.exports},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){"use strict";var hasOwn={}.hasOwnProperty;function classNames(){var classes=[];for(var i=0;i<arguments.length;i++){var arg=arguments[i];if(!arg)continue;var argType=typeof arg;if(argType==="string"||argType==="number"){classes.push(arg)}else if(Array.isArray(arg)){if(arg.length){var inner=classNames.apply(null,arg);if(inner){classes.push(inner)}}}else if(argType==="object"){if(arg.toString===Object.prototype.toString){for(var key in arg){if(hasOwn.call(arg,key)&&arg[key]){classes.push(key)}}}else{classes.push(arg.toString())}}}return classes.join(" ")}if(true&&module.exports){classNames.default=classNames;module.exports=classNames}else if(true){!(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}else{}})()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"e",(function(){return ruleTypes}));__webpack_require__.d(__webpack_exports__,"a",(function(){return RuleSeverityPriority}));__webpack_require__.d(__webpack_exports__,"b",(function(){return ruleSeverity}));__webpack_require__.d(__webpack_exports__,"c",(function(){return ruleSource}));__webpack_require__.d(__webpack_exports__,"d",(function(){return ruleStatus}));__webpack_require__.d(__webpack_exports__,"f",(function(){return sigmaRuleLogSourceFields}));var _elastic_eui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);var _elastic_eui__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__);const ruleTypes=[];const paletteColors=Object(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__["euiPaletteForStatus"])(5);let RuleSeverityValue=function(RuleSeverityValue){RuleSeverityValue["Critical"]="critical";RuleSeverityValue["High"]="high";RuleSeverityValue["Medium"]="medium";RuleSeverityValue["Low"]="low";RuleSeverityValue["Informational"]="informational";return RuleSeverityValue}({});const RuleSeverityPriority={[RuleSeverityValue.Critical]:"1",[RuleSeverityValue.High]:"2",[RuleSeverityValue.Medium]:"3",[RuleSeverityValue.Low]:"4",[RuleSeverityValue.Informational]:"5"};const ruleSeverity=[{name:"Critical",value:RuleSeverityValue.Critical,priority:RuleSeverityPriority[RuleSeverityValue.Critical],color:{background:paletteColors[4],text:"white"}},{name:"High",value:RuleSeverityValue.High,priority:RuleSeverityPriority[RuleSeverityValue.High],color:{background:paletteColors[3],text:"white"}},{name:"Medium",value:RuleSeverityValue.Medium,priority:RuleSeverityPriority[RuleSeverityValue.Medium],color:{background:paletteColors[2],text:"black"}},{name:"Low",value:RuleSeverityValue.Low,priority:RuleSeverityPriority[RuleSeverityValue.Low],color:{background:paletteColors[1],text:"white"}},{name:"Informational",value:RuleSeverityValue.Informational,priority:RuleSeverityPriority[RuleSeverityValue.Informational],color:{background:paletteColors[0],text:"white"}}];const ruleSource=["Standard","Custom"];const ruleStatus=["experimental","test","stable"];const sigmaRuleLogSourceFields=["product","category","service"]},function(module,exports,__webpack_require__){"use strict";var punycode=__webpack_require__(229);function Url(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r","\n","\t"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:true,"javascript:":true},hostlessProtocol={javascript:true,"javascript:":true},slashedProtocol={http:true,https:true,ftp:true,gopher:true,file:true,"http:":true,"https:":true,"ftp:":true,"gopher:":true,"file:":true},querystring=__webpack_require__(230);function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&typeof url==="object"&&url instanceof Url){return url}var u=new Url;u.parse(url,parseQueryString,slashesDenoteHost);return u}Url.prototype.parse=function(url,parseQueryString,slashesDenoteHost){if(typeof url!=="string"){throw new TypeError("Parameter 'url' must be a string, not "+typeof url)}var queryIndex=url.indexOf("?"),splitter=queryIndex!==-1&&queryIndex<url.indexOf("#")?"?":"#",uSplit=url.split(splitter),slashRegex=/\\/g;uSplit[0]=uSplit[0].replace(slashRegex,"/");url=uSplit.join(splitter);var rest=url;rest=rest.trim();if(!slashesDenoteHost&&url.split("#").length===1){var simplePath=simplePathPattern.exec(rest);if(simplePath){this.path=rest;this.href=rest;this.pathname=simplePath[1];if(simplePath[2]){this.search=simplePath[2];if(parseQueryString){this.query=querystring.parse(this.search.substr(1))}else{this.query=this.search.substr(1)}}else if(parseQueryString){this.search="";this.query={}}return this}}var proto=protocolPattern.exec(rest);if(proto){proto=proto[0];var lowerProto=proto.toLowerCase();this.protocol=lowerProto;rest=rest.substr(proto.length)}if(slashesDenoteHost||proto||rest.match(/^\/\/[^@/]+@[^@/]+/)){var slashes=rest.substr(0,2)==="//";if(slashes&&!(proto&&hostlessProtocol[proto])){rest=rest.substr(2);this.slashes=true}}if(!hostlessProtocol[proto]&&(slashes||proto&&!slashedProtocol[proto])){var hostEnd=-1;for(var i=0;i<hostEndingChars.length;i++){var hec=rest.indexOf(hostEndingChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd)){hostEnd=hec}}var auth,atSign;if(hostEnd===-1){atSign=rest.lastIndexOf("@")}else{atSign=rest.lastIndexOf("@",hostEnd)}if(atSign!==-1){auth=rest.slice(0,atSign);rest=rest.slice(atSign+1);this.auth=decodeURIComponent(auth)}hostEnd=-1;for(var i=0;i<nonHostChars.length;i++){var hec=rest.indexOf(nonHostChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd)){hostEnd=hec}}if(hostEnd===-1){hostEnd=rest.length}this.host=rest.slice(0,hostEnd);rest=rest.slice(hostEnd);this.parseHost();this.hostname=this.hostname||"";var ipv6Hostname=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!ipv6Hostname){var hostparts=this.hostname.split(/\./);for(var i=0,l=hostparts.length;i<l;i++){var part=hostparts[i];if(!part){continue}if(!part.match(hostnamePartPattern)){var newpart="";for(var j=0,k=part.length;j<k;j++){if(part.charCodeAt(j)>127){newpart+="x"}else{newpart+=part[j]}}if(!newpart.match(hostnamePartPattern)){var validParts=hostparts.slice(0,i);var notHost=hostparts.slice(i+1);var bit=part.match(hostnamePartStart);if(bit){validParts.push(bit[1]);notHost.unshift(bit[2])}if(notHost.length){rest="/"+notHost.join(".")+rest}this.hostname=validParts.join(".");break}}}}if(this.hostname.length>hostnameMaxLen){this.hostname=""}else{this.hostname=this.hostname.toLowerCase()}if(!ipv6Hostname){this.hostname=punycode.toASCII(this.hostname)}var p=this.port?":"+this.port:"";var h=this.hostname||"";this.host=h+p;this.href+=this.host;if(ipv6Hostname){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(rest[0]!=="/"){rest="/"+rest}}}if(!unsafeProtocol[lowerProto]){for(var i=0,l=autoEscape.length;i<l;i++){var ae=autoEscape[i];if(rest.indexOf(ae)===-1){continue}var esc=encodeURIComponent(ae);if(esc===ae){esc=escape(ae)}rest=rest.split(ae).join(esc)}}var hash=rest.indexOf("#");if(hash!==-1){this.hash=rest.substr(hash);rest=rest.slice(0,hash)}var qm=rest.indexOf("?");if(qm!==-1){this.search=rest.substr(qm);this.query=rest.substr(qm+1);if(parseQueryString){this.query=querystring.parse(this.query)}rest=rest.slice(0,qm)}else if(parseQueryString){this.search="";this.query={}}if(rest){this.pathname=rest}if(slashedProtocol[lowerProto]&&this.hostname&&!this.pathname){this.pathname="/"}if(this.pathname||this.search){var p=this.pathname||"";var s=this.search||"";this.path=p+s}this.href=this.format();return this};function urlFormat(obj){if(typeof obj==="string"){obj=urlParse(obj)}if(!(obj instanceof Url)){return Url.prototype.format.call(obj)}return obj.format()}Url.prototype.format=function(){var auth=this.auth||"";if(auth){auth=encodeURIComponent(auth);auth=auth.replace(/%3A/i,":");auth+="@"}var protocol=this.protocol||"",pathname=this.pathname||"",hash=this.hash||"",host=false,query="";if(this.host){host=auth+this.host}else if(this.hostname){host=auth+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]");if(this.port){host+=":"+this.port}}if(this.query&&typeof this.query==="object"&&Object.keys(this.query).length){query=querystring.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:false})}var search=this.search||query&&"?"+query||"";if(protocol&&protocol.substr(-1)!==":"){protocol+=":"}if(this.slashes||(!protocol||slashedProtocol[protocol])&&host!==false){host="//"+(host||"");if(pathname&&pathname.charAt(0)!=="/"){pathname="/"+pathname}}else if(!host){host=""}if(hash&&hash.charAt(0)!=="#"){hash="#"+hash}if(search&&search.charAt(0)!=="?"){search="?"+search}pathname=pathname.replace(/[?#]/g,(function(match){return encodeURIComponent(match)}));search=search.replace("#","%23");return protocol+host+pathname+search+hash};function urlResolve(source,relative){return urlParse(source,false,true).resolve(relative)}Url.prototype.resolve=function(relative){return this.resolveObject(urlParse(relative,false,true)).format()};function urlResolveObject(source,relative){if(!source){return relative}return urlParse(source,false,true).resolveObject(relative)}Url.prototype.resolveObject=function(relative){if(typeof relative==="string"){var rel=new Url;rel.parse(relative,false,true);relative=rel}var result=new Url;var tkeys=Object.keys(this);for(var tk=0;tk<tkeys.length;tk++){var tkey=tkeys[tk];result[tkey]=this[tkey]}result.hash=relative.hash;if(relative.href===""){result.href=result.format();return result}if(relative.slashes&&!relative.protocol){var rkeys=Object.keys(relative);for(var rk=0;rk<rkeys.length;rk++){var rkey=rkeys[rk];if(rkey!=="protocol"){result[rkey]=relative[rkey]}}if(slashedProtocol[result.protocol]&&result.hostname&&!result.pathname){result.pathname="/";result.path=result.pathname}result.href=result.format();return result}if(relative.protocol&&relative.protocol!==result.protocol){if(!slashedProtocol[relative.protocol]){var keys=Object.keys(relative);for(var v=0;v<keys.length;v++){var k=keys[v];result[k]=relative[k]}result.href=result.format();return result}result.protocol=relative.protocol;if(!relative.host&&!hostlessProtocol[relative.protocol]){var relPath=(relative.pathname||"").split("/");while(relPath.length&&!(relative.host=relPath.shift())){}if(!relative.host){relative.host=""}if(!relative.hostname){relative.hostname=""}if(relPath[0]!==""){relPath.unshift("")}if(relPath.length<2){relPath.unshift("")}result.pathname=relPath.join("/")}else{result.pathname=relative.pathname}result.search=relative.search;result.query=relative.query;result.host=relative.host||"";result.auth=relative.auth;result.hostname=relative.hostname||relative.host;result.port=relative.port;if(result.pathname||result.search){var p=result.pathname||"";var s=result.search||"";result.path=p+s}result.slashes=result.slashes||relative.slashes;result.href=result.format();return result}var isSourceAbs=result.pathname&&result.pathname.charAt(0)==="/",isRelAbs=relative.host||relative.pathname&&relative.pathname.charAt(0)==="/",mustEndAbs=isRelAbs||isSourceAbs||result.host&&relative.pathname,removeAllDots=mustEndAbs,srcPath=result.pathname&&result.pathname.split("/")||[],relPath=relative.pathname&&relative.pathname.split("/")||[],psychotic=result.protocol&&!slashedProtocol[result.protocol];if(psychotic){result.hostname="";result.port=null;if(result.host){if(srcPath[0]===""){srcPath[0]=result.host}else{srcPath.unshift(result.host)}}result.host="";if(relative.protocol){relative.hostname=null;relative.port=null;if(relative.host){if(relPath[0]===""){relPath[0]=relative.host}else{relPath.unshift(relative.host)}}relative.host=null}mustEndAbs=mustEndAbs&&(relPath[0]===""||srcPath[0]==="")}if(isRelAbs){result.host=relative.host||relative.host===""?relative.host:result.host;result.hostname=relative.hostname||relative.hostname===""?relative.hostname:result.hostname;result.search=relative.search;result.query=relative.query;srcPath=relPath}else if(relPath.length){if(!srcPath){srcPath=[]}srcPath.pop();srcPath=srcPath.concat(relPath);result.search=relative.search;result.query=relative.query}else if(relative.search!=null){if(psychotic){result.host=srcPath.shift();result.hostname=result.host;var authInHost=result.host&&result.host.indexOf("@")>0?result.host.split("@"):false;if(authInHost){result.auth=authInHost.shift();result.hostname=authInHost.shift();result.host=result.hostname}}result.search=relative.search;result.query=relative.query;if(result.pathname!==null||result.search!==null){result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")}result.href=result.format();return result}if(!srcPath.length){result.pathname=null;if(result.search){result.path="/"+result.search}else{result.path=null}result.href=result.format();return result}var last=srcPath.slice(-1)[0];var hasTrailingSlash=(result.host||relative.host||srcPath.length>1)&&(last==="."||last==="..")||last==="";var up=0;for(var i=srcPath.length;i>=0;i--){last=srcPath[i];if(last==="."){srcPath.splice(i,1)}else if(last===".."){srcPath.splice(i,1);up++}else if(up){srcPath.splice(i,1);up--}}if(!mustEndAbs&&!removeAllDots){for(;up--;up){srcPath.unshift("..")}}if(mustEndAbs&&srcPath[0]!==""&&(!srcPath[0]||srcPath[0].charAt(0)!=="/")){srcPath.unshift("")}if(hasTrailingSlash&&srcPath.join("/").substr(-1)!=="/"){srcPath.push("")}var isAbsolute=srcPath[0]===""||srcPath[0]&&srcPath[0].charAt(0)==="/";if(psychotic){result.hostname=isAbsolute?"":srcPath.length?srcPath.shift():"";result.host=result.hostname;var authInHost=result.host&&result.host.indexOf("@")>0?result.host.split("@"):false;if(authInHost){result.auth=authInHost.shift();result.hostname=authInHost.shift();result.host=result.hostname}}mustEndAbs=mustEndAbs||result.host&&srcPath.length;if(mustEndAbs&&!isAbsolute){srcPath.unshift("")}if(srcPath.length>0){result.pathname=srcPath.join("/")}else{result.pathname=null;result.path=null}if(result.pathname!==null||result.search!==null){result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")}result.auth=relative.auth||result.auth;result.slashes=result.slashes||relative.slashes;result.href=result.format();return result};Url.prototype.parseHost=function(){var host=this.host;var port=portPattern.exec(host);if(port){port=port[0];if(port!==":"){this.port=port.substr(1)}host=host.substr(0,host.length-port.length)}if(host){this.hostname=host}};exports.parse=urlParse;exports.resolve=urlResolve;exports.resolveObject=urlResolveObject;exports.format=urlFormat;exports.Url=Url},function(module,exports,__webpack_require__){"use strict";var YAMLException=__webpack_require__(54);var TYPE_CONSTRUCTOR_OPTIONS=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"];var YAML_NODE_KINDS=["scalar","sequence","mapping"];function compileStyleAliases(map){var result={};if(map!==null){Object.keys(map).forEach((function(style){map[style].forEach((function(alias){result[String(alias)]=style}))}))}return result}function Type(tag,options){options=options||{};Object.keys(options).forEach((function(name){if(TYPE_CONSTRUCTOR_OPTIONS.indexOf(name)===-1){throw new YAMLException('Unknown option "'+name+'" is met in definition of "'+tag+'" YAML type.')}}));this.tag=tag;this.kind=options["kind"]||null;this.resolve=options["resolve"]||function(){return true};this.construct=options["construct"]||function(data){return data};this.instanceOf=options["instanceOf"]||null;this.predicate=options["predicate"]||null;this.represent=options["represent"]||null;this.defaultStyle=options["defaultStyle"]||null;this.styleAliases=compileStyleAliases(options["styleAliases"]||null);if(YAML_NODE_KINDS.indexOf(this.kind)===-1){throw new YAMLException('Unknown kind "'+this.kind+'" is specified for "'+tag+'" YAML type.')}}module.exports=Type},function(module,exports){function _extends(){module.exports=_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target},module.exports.__esModule=true,module.exports["default"]=module.exports;return _extends.apply(this,arguments)}module.exports=_extends,module.exports.__esModule=true,module.exports["default"]=module.exports},function(module,exports,__webpack_require__){const debug=__webpack_require__(64);const{MAX_LENGTH:MAX_LENGTH,MAX_SAFE_INTEGER:MAX_SAFE_INTEGER}=__webpack_require__(63);const{safeRe:re,t:t}=__webpack_require__(53);const parseOptions=__webpack_require__(99);const{compareIdentifiers:compareIdentifiers}=__webpack_require__(153);class SemVer{constructor(version,options){options=parseOptions(options);if(version instanceof SemVer){if(version.loose===!!options.loose&&version.includePrerelease===!!options.includePrerelease){return version}else{version=version.version}}else if(typeof version!=="string"){throw new TypeError(`Invalid version. Must be a string. Got type "${typeof version}".`)}if(version.length>MAX_LENGTH){throw new TypeError(`version is longer than ${MAX_LENGTH} characters`)}debug("SemVer",version,options);this.options=options;this.loose=!!options.loose;this.includePrerelease=!!options.includePrerelease;const m=version.trim().match(options.loose?re[t.LOOSE]:re[t.FULL]);if(!m){throw new TypeError(`Invalid Version: ${version}`)}this.raw=version;this.major=+m[1];this.minor=+m[2];this.patch=+m[3];if(this.major>MAX_SAFE_INTEGER||this.major<0){throw new TypeError("Invalid major version")}if(this.minor>MAX_SAFE_INTEGER||this.minor<0){throw new TypeError("Invalid minor version")}if(this.patch>MAX_SAFE_INTEGER||this.patch<0){throw new TypeError("Invalid patch version")}if(!m[4]){this.prerelease=[]}else{this.prerelease=m[4].split(".").map(id=>{if(/^[0-9]+$/.test(id)){const num=+id;if(num>=0&&num<MAX_SAFE_INTEGER){return num}}return id})}this.build=m[5]?m[5].split("."):[];this.format()}format(){this.version=`${this.major}.${this.minor}.${this.patch}`;if(this.prerelease.length){this.version+=`-${this.prerelease.join(".")}`}return this.version}toString(){return this.version}compare(other){debug("SemVer.compare",this.version,this.options,other);if(!(other instanceof SemVer)){if(typeof other==="string"&&other===this.version){return 0}other=new SemVer(other,this.options)}if(other.version===this.version){return 0}return this.compareMain(other)||this.comparePre(other)}compareMain(other){if(!(other instanceof SemVer)){other=new SemVer(other,this.options)}return compareIdentifiers(this.major,other.major)||compareIdentifiers(this.minor,other.minor)||compareIdentifiers(this.patch,other.patch)}comparePre(other){if(!(other instanceof SemVer)){other=new SemVer(other,this.options)}if(this.prerelease.length&&!other.prerelease.length){return-1}else if(!this.prerelease.length&&other.prerelease.length){return 1}else if(!this.prerelease.length&&!other.prerelease.length){return 0}let i=0;do{const a=this.prerelease[i];const b=other.prerelease[i];debug("prerelease compare",i,a,b);if(a===undefined&&b===undefined){return 0}else if(b===undefined){return 1}else if(a===undefined){return-1}else if(a===b){continue}else{return compareIdentifiers(a,b)}}while(++i)}compareBuild(other){if(!(other instanceof SemVer)){other=new SemVer(other,this.options)}let i=0;do{const a=this.build[i];const b=other.build[i];debug("prerelease compare",i,a,b);if(a===undefined&&b===undefined){return 0}else if(b===undefined){return 1}else if(a===undefined){return-1}else if(a===b){continue}else{return compareIdentifiers(a,b)}}while(++i)}inc(release,identifier,identifierBase){switch(release){case"premajor":this.prerelease.length=0;this.patch=0;this.minor=0;this.major++;this.inc("pre",identifier,identifierBase);break;case"preminor":this.prerelease.length=0;this.patch=0;this.minor++;this.inc("pre",identifier,identifierBase);break;case"prepatch":this.prerelease.length=0;this.inc("patch",identifier,identifierBase);this.inc("pre",identifier,identifierBase);break;case"prerelease":if(this.prerelease.length===0){this.inc("patch",identifier,identifierBase)}this.inc("pre",identifier,identifierBase);break;case"major":if(this.minor!==0||this.patch!==0||this.prerelease.length===0){this.major++}this.minor=0;this.patch=0;this.prerelease=[];break;case"minor":if(this.patch!==0||this.prerelease.length===0){this.minor++}this.patch=0;this.prerelease=[];break;case"patch":if(this.prerelease.length===0){this.patch++}this.prerelease=[];break;case"pre":{const base=Number(identifierBase)?1:0;if(!identifier&&identifierBase===false){throw new Error("invalid increment argument: identifier is empty")}if(this.prerelease.length===0){this.prerelease=[base]}else{let i=this.prerelease.length;while(--i>=0){if(typeof this.prerelease[i]==="number"){this.prerelease[i]++;i=-2}}if(i===-1){if(identifier===this.prerelease.join(".")&&identifierBase===false){throw new Error("invalid increment argument: identifier already exists")}this.prerelease.push(base)}}if(identifier){let prerelease=[identifier,base];if(identifierBase===false){prerelease=[identifier]}if(compareIdentifiers(this.prerelease[0],identifier)===0){if(isNaN(this.prerelease[1])){this.prerelease=prerelease}}else{this.prerelease=prerelease}}break}default:throw new Error(`invalid increment argument: ${release}`)}this.raw=this.format();if(this.build.length){this.raw+=`+${this.build.join(".")}`}return this}}module.exports=SemVer},function(module,exports,__webpack_require__){const debug=__webpack_require__(77);const{MAX_LENGTH:MAX_LENGTH,MAX_SAFE_INTEGER:MAX_SAFE_INTEGER}=__webpack_require__(76);const{safeRe:re,t:t}=__webpack_require__(56);const parseOptions=__webpack_require__(118);const{compareIdentifiers:compareIdentifiers}=__webpack_require__(173);class SemVer{constructor(version,options){options=parseOptions(options);if(version instanceof SemVer){if(version.loose===!!options.loose&&version.includePrerelease===!!options.includePrerelease){return version}else{version=version.version}}else if(typeof version!=="string"){throw new TypeError(`Invalid version. Must be a string. Got type "${typeof version}".`)}if(version.length>MAX_LENGTH){throw new TypeError(`version is longer than ${MAX_LENGTH} characters`)}debug("SemVer",version,options);this.options=options;this.loose=!!options.loose;this.includePrerelease=!!options.includePrerelease;const m=version.trim().match(options.loose?re[t.LOOSE]:re[t.FULL]);if(!m){throw new TypeError(`Invalid Version: ${version}`)}this.raw=version;this.major=+m[1];this.minor=+m[2];this.patch=+m[3];if(this.major>MAX_SAFE_INTEGER||this.major<0){throw new TypeError("Invalid major version")}if(this.minor>MAX_SAFE_INTEGER||this.minor<0){throw new TypeError("Invalid minor version")}if(this.patch>MAX_SAFE_INTEGER||this.patch<0){throw new TypeError("Invalid patch version")}if(!m[4]){this.prerelease=[]}else{this.prerelease=m[4].split(".").map(id=>{if(/^[0-9]+$/.test(id)){const num=+id;if(num>=0&&num<MAX_SAFE_INTEGER){return num}}return id})}this.build=m[5]?m[5].split("."):[];this.format()}format(){this.version=`${this.major}.${this.minor}.${this.patch}`;if(this.prerelease.length){this.version+=`-${this.prerelease.join(".")}`}return this.version}toString(){return this.version}compare(other){debug("SemVer.compare",this.version,this.options,other);if(!(other instanceof SemVer)){if(typeof other==="string"&&other===this.version){return 0}other=new SemVer(other,this.options)}if(other.version===this.version){return 0}return this.compareMain(other)||this.comparePre(other)}compareMain(other){if(!(other instanceof SemVer)){other=new SemVer(other,this.options)}return compareIdentifiers(this.major,other.major)||compareIdentifiers(this.minor,other.minor)||compareIdentifiers(this.patch,other.patch)}comparePre(other){if(!(other instanceof SemVer)){other=new SemVer(other,this.options)}if(this.prerelease.length&&!other.prerelease.length){return-1}else if(!this.prerelease.length&&other.prerelease.length){return 1}else if(!this.prerelease.length&&!other.prerelease.length){return 0}let i=0;do{const a=this.prerelease[i];const b=other.prerelease[i];debug("prerelease compare",i,a,b);if(a===undefined&&b===undefined){return 0}else if(b===undefined){return 1}else if(a===undefined){return-1}else if(a===b){continue}else{return compareIdentifiers(a,b)}}while(++i)}compareBuild(other){if(!(other instanceof SemVer)){other=new SemVer(other,this.options)}let i=0;do{const a=this.build[i];const b=other.build[i];debug("prerelease compare",i,a,b);if(a===undefined&&b===undefined){return 0}else if(b===undefined){return 1}else if(a===undefined){return-1}else if(a===b){continue}else{return compareIdentifiers(a,b)}}while(++i)}inc(release,identifier,identifierBase){switch(release){case"premajor":this.prerelease.length=0;this.patch=0;this.minor=0;this.major++;this.inc("pre",identifier,identifierBase);break;case"preminor":this.prerelease.length=0;this.patch=0;this.minor++;this.inc("pre",identifier,identifierBase);break;case"prepatch":this.prerelease.length=0;this.inc("patch",identifier,identifierBase);this.inc("pre",identifier,identifierBase);break;case"prerelease":if(this.prerelease.length===0){this.inc("patch",identifier,identifierBase)}this.inc("pre",identifier,identifierBase);break;case"major":if(this.minor!==0||this.patch!==0||this.prerelease.length===0){this.major++}this.minor=0;this.patch=0;this.prerelease=[];break;case"minor":if(this.patch!==0||this.prerelease.length===0){this.minor++}this.patch=0;this.prerelease=[];break;case"patch":if(this.prerelease.length===0){this.patch++}this.prerelease=[];break;case"pre":{const base=Number(identifierBase)?1:0;if(!identifier&&identifierBase===false){throw new Error("invalid increment argument: identifier is empty")}if(this.prerelease.length===0){this.prerelease=[base]}else{let i=this.prerelease.length;while(--i>=0){if(typeof this.prerelease[i]==="number"){this.prerelease[i]++;i=-2}}if(i===-1){if(identifier===this.prerelease.join(".")&&identifierBase===false){throw new Error("invalid increment argument: identifier already exists")}this.prerelease.push(base)}}if(identifier){let prerelease=[identifier,base];if(identifierBase===false){prerelease=[identifier]}if(compareIdentifiers(this.prerelease[0],identifier)===0){if(isNaN(this.prerelease[1])){this.prerelease=prerelease}}else{this.prerelease=prerelease}}break}default:throw new Error(`invalid increment argument: ${release}`)}this.raw=this.format();if(this.build.length){this.raw+=`+${this.build.join(".")}`}return this}}module.exports=SemVer},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return getLogTypesTableColumns}));__webpack_require__.d(__webpack_exports__,"c",(function(){return getLogTypesTableSearchConfig}));__webpack_require__.d(__webpack_exports__,"a",(function(){return getLogTypeLabel}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var _elastic_eui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1);var _elastic_eui__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__);var lodash__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11);var lodash__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);var _Rules_utils_constants__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(19);var _utils_constants__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8);var _constants__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(140);const getLogTypesTableColumns=(showDetails,deleteLogType)=>[{field:"name",name:"Name",sortable:true,render:(name,item)=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiLink"],{onClick:()=>showDetails(item.id)},getLogTypeLabel(name))},{field:"description",name:"Description",truncateText:false},{field:"category",name:"Category",truncateText:false},{field:"source",name:"Source",render:source=>Object(lodash__WEBPACK_IMPORTED_MODULE_2__["capitalize"])(source)},{name:"Actions",actions:[{render:item=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiToolTip"],{content:"Delete"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiSmallButtonIcon"],{"aria-label":"Delete log type",iconType:"trash",color:"danger",onClick:()=>deleteLogType(item)}))}]}];const getLogTypesTableSearchConfig=()=>({box:{placeholder:"Search log types",schema:true,compressed:true},filters:[{type:"field_value_selection",field:"category",name:"Category",compressed:true,multiSelect:"or",options:_utils_constants__WEBPACK_IMPORTED_MODULE_4__["H"].map(category=>({value:category}))},{type:"field_value_selection",field:"source",name:"Source",compressed:true,multiSelect:"or",options:_Rules_utils_constants__WEBPACK_IMPORTED_MODULE_3__["c"].map(source=>({value:source}))}]});const getLogTypeLabel=name=>!name?_utils_constants__WEBPACK_IMPORTED_MODULE_4__["k"]:_constants__WEBPACK_IMPORTED_MODULE_5__["c"][name.toLowerCase()]||Object(lodash__WEBPACK_IMPORTED_MODULE_2__["startCase"])(name)},function(module,exports){module.exports=__osdSharedDeps__.Theme},,function(module,exports,__webpack_require__){const SemVer=__webpack_require__(23);const compare=(a,b,loose)=>new SemVer(a,loose).compare(new SemVer(b,loose));module.exports=compare},function(module,exports,__webpack_require__){class Range{constructor(range,options){options=parseOptions(options);if(range instanceof Range){if(range.loose===!!options.loose&&range.includePrerelease===!!options.includePrerelease){return range}else{return new Range(range.raw,options)}}if(range instanceof Comparator){this.raw=range.value;this.set=[[range]];this.format();return this}this.options=options;this.loose=!!options.loose;this.includePrerelease=!!options.includePrerelease;this.raw=range.trim().split(/\s+/).join(" ");this.set=this.raw.split("||").map(r=>this.parseRange(r.trim())).filter(c=>c.length);if(!this.set.length){throw new TypeError(`Invalid SemVer Range: ${this.raw}`)}if(this.set.length>1){const first=this.set[0];this.set=this.set.filter(c=>!isNullSet(c[0]));if(this.set.length===0){this.set=[first]}else if(this.set.length>1){for(const c of this.set){if(c.length===1&&isAny(c[0])){this.set=[c];break}}}}this.format()}format(){this.range=this.set.map(comps=>comps.join(" ").trim()).join("||").trim();return this.range}toString(){return this.range}parseRange(range){const memoOpts=(this.options.includePrerelease&&FLAG_INCLUDE_PRERELEASE)|(this.options.loose&&FLAG_LOOSE);const memoKey=memoOpts+":"+range;const cached=cache.get(memoKey);if(cached){return cached}const loose=this.options.loose;const hr=loose?re[t.HYPHENRANGELOOSE]:re[t.HYPHENRANGE];range=range.replace(hr,hyphenReplace(this.options.includePrerelease));debug("hyphen replace",range);range=range.replace(re[t.COMPARATORTRIM],comparatorTrimReplace);debug("comparator trim",range);range=range.replace(re[t.TILDETRIM],tildeTrimReplace);debug("tilde trim",range);range=range.replace(re[t.CARETTRIM],caretTrimReplace);debug("caret trim",range);let rangeList=range.split(" ").map(comp=>parseComparator(comp,this.options)).join(" ").split(/\s+/).map(comp=>replaceGTE0(comp,this.options));if(loose){rangeList=rangeList.filter(comp=>{debug("loose invalid filter",comp,this.options);return!!comp.match(re[t.COMPARATORLOOSE])})}debug("range list",rangeList);const rangeMap=new Map;const comparators=rangeList.map(comp=>new Comparator(comp,this.options));for(const comp of comparators){if(isNullSet(comp)){return[comp]}rangeMap.set(comp.value,comp)}if(rangeMap.size>1&&rangeMap.has("")){rangeMap.delete("")}const result=[...rangeMap.values()];cache.set(memoKey,result);return result}intersects(range,options){if(!(range instanceof Range)){throw new TypeError("a Range is required")}return this.set.some(thisComparators=>isSatisfiable(thisComparators,options)&&range.set.some(rangeComparators=>isSatisfiable(rangeComparators,options)&&thisComparators.every(thisComparator=>rangeComparators.every(rangeComparator=>thisComparator.intersects(rangeComparator,options)))))}test(version){if(!version){return false}if(typeof version==="string"){try{version=new SemVer(version,this.options)}catch(er){return false}}for(let i=0;i<this.set.length;i++){if(testSet(this.set[i],version,this.options)){return true}}return false}}module.exports=Range;const LRU=__webpack_require__(400);const cache=new LRU({max:1e3});const parseOptions=__webpack_require__(99);const Comparator=__webpack_require__(66);const debug=__webpack_require__(64);const SemVer=__webpack_require__(23);const{safeRe:re,t:t,comparatorTrimReplace:comparatorTrimReplace,tildeTrimReplace:tildeTrimReplace,caretTrimReplace:caretTrimReplace}=__webpack_require__(53);const{FLAG_INCLUDE_PRERELEASE:FLAG_INCLUDE_PRERELEASE,FLAG_LOOSE:FLAG_LOOSE}=__webpack_require__(63);const isNullSet=c=>c.value==="<0.0.0-0";const isAny=c=>c.value==="";const isSatisfiable=(comparators,options)=>{let result=true;const remainingComparators=comparators.slice();let testComparator=remainingComparators.pop();while(result&&remainingComparators.length){result=remainingComparators.every(otherComparator=>testComparator.intersects(otherComparator,options));testComparator=remainingComparators.pop()}return result};const parseComparator=(comp,options)=>{debug("comp",comp,options);comp=replaceCarets(comp,options);debug("caret",comp);comp=replaceTildes(comp,options);debug("tildes",comp);comp=replaceXRanges(comp,options);debug("xrange",comp);comp=replaceStars(comp,options);debug("stars",comp);return comp};const isX=id=>!id||id.toLowerCase()==="x"||id==="*";const replaceTildes=(comp,options)=>comp.trim().split(/\s+/).map(c=>replaceTilde(c,options)).join(" ");const replaceTilde=(comp,options)=>{const r=options.loose?re[t.TILDELOOSE]:re[t.TILDE];return comp.replace(r,(_,M,m,p,pr)=>{debug("tilde",comp,_,M,m,p,pr);let ret;if(isX(M)){ret=""}else if(isX(m)){ret=`>=${M}.0.0 <${+M+1}.0.0-0`}else if(isX(p)){ret=`>=${M}.${m}.0 <${M}.${+m+1}.0-0`}else if(pr){debug("replaceTilde pr",pr);ret=`>=${M}.${m}.${p}-${pr} <${M}.${+m+1}.0-0`}else{ret=`>=${M}.${m}.${p} <${M}.${+m+1}.0-0`}debug("tilde return",ret);return ret})};const replaceCarets=(comp,options)=>comp.trim().split(/\s+/).map(c=>replaceCaret(c,options)).join(" ");const replaceCaret=(comp,options)=>{debug("caret",comp,options);const r=options.loose?re[t.CARETLOOSE]:re[t.CARET];const z=options.includePrerelease?"-0":"";return comp.replace(r,(_,M,m,p,pr)=>{debug("caret",comp,_,M,m,p,pr);let ret;if(isX(M)){ret=""}else if(isX(m)){ret=`>=${M}.0.0${z} <${+M+1}.0.0-0`}else if(isX(p)){if(M==="0"){ret=`>=${M}.${m}.0${z} <${M}.${+m+1}.0-0`}else{ret=`>=${M}.${m}.0${z} <${+M+1}.0.0-0`}}else if(pr){debug("replaceCaret pr",pr);if(M==="0"){if(m==="0"){ret=`>=${M}.${m}.${p}-${pr} <${M}.${m}.${+p+1}-0`}else{ret=`>=${M}.${m}.${p}-${pr} <${M}.${+m+1}.0-0`}}else{ret=`>=${M}.${m}.${p}-${pr} <${+M+1}.0.0-0`}}else{debug("no pr");if(M==="0"){if(m==="0"){ret=`>=${M}.${m}.${p}${z} <${M}.${m}.${+p+1}-0`}else{ret=`>=${M}.${m}.${p}${z} <${M}.${+m+1}.0-0`}}else{ret=`>=${M}.${m}.${p} <${+M+1}.0.0-0`}}debug("caret return",ret);return ret})};const replaceXRanges=(comp,options)=>{debug("replaceXRanges",comp,options);return comp.split(/\s+/).map(c=>replaceXRange(c,options)).join(" ")};const replaceXRange=(comp,options)=>{comp=comp.trim();const r=options.loose?re[t.XRANGELOOSE]:re[t.XRANGE];return comp.replace(r,(ret,gtlt,M,m,p,pr)=>{debug("xRange",comp,ret,gtlt,M,m,p,pr);const xM=isX(M);const xm=xM||isX(m);const xp=xm||isX(p);const anyX=xp;if(gtlt==="="&&anyX){gtlt=""}pr=options.includePrerelease?"-0":"";if(xM){if(gtlt===">"||gtlt==="<"){ret="<0.0.0-0"}else{ret="*"}}else if(gtlt&&anyX){if(xm){m=0}p=0;if(gtlt===">"){gtlt=">=";if(xm){M=+M+1;m=0;p=0}else{m=+m+1;p=0}}else if(gtlt==="<="){gtlt="<";if(xm){M=+M+1}else{m=+m+1}}if(gtlt==="<"){pr="-0"}ret=`${gtlt+M}.${m}.${p}${pr}`}else if(xm){ret=`>=${M}.0.0${pr} <${+M+1}.0.0-0`}else if(xp){ret=`>=${M}.${m}.0${pr} <${M}.${+m+1}.0-0`}debug("xRange return",ret);return ret})};const replaceStars=(comp,options)=>{debug("replaceStars",comp,options);return comp.trim().replace(re[t.STAR],"")};const replaceGTE0=(comp,options)=>{debug("replaceGTE0",comp,options);return comp.trim().replace(re[options.includePrerelease?t.GTE0PRE:t.GTE0],"")};const hyphenReplace=incPr=>($0,from,fM,fm,fp,fpr,fb,to,tM,tm,tp,tpr,tb)=>{if(isX(fM)){from=""}else if(isX(fm)){from=`>=${fM}.0.0${incPr?"-0":""}`}else if(isX(fp)){from=`>=${fM}.${fm}.0${incPr?"-0":""}`}else if(fpr){from=`>=${from}`}else{from=`>=${from}${incPr?"-0":""}`}if(isX(tM)){to=""}else if(isX(tm)){to=`<${+tM+1}.0.0-0`}else if(isX(tp)){to=`<${tM}.${+tm+1}.0-0`}else if(tpr){to=`<=${tM}.${tm}.${tp}-${tpr}`}else if(incPr){to=`<${tM}.${tm}.${+tp+1}-0`}else{to=`<=${to}`}return`${from} ${to}`.trim()};const testSet=(set,version,options)=>{for(let i=0;i<set.length;i++){if(!set[i].test(version)){return false}}if(version.prerelease.length&&!options.includePrerelease){for(let i=0;i<set.length;i++){debug(set[i].semver);if(set[i].semver===Comparator.ANY){continue}if(set[i].semver.prerelease.length>0){const allowed=set[i].semver;if(allowed.major===version.major&&allowed.minor===version.minor&&allowed.patch===version.patch){return true}}}return false}return true}},function(module,exports,__webpack_require__){const SemVer=__webpack_require__(24);const compare=(a,b,loose)=>new SemVer(a,loose).compare(new SemVer(b,loose));module.exports=compare},function(module,exports,__webpack_require__){class Range{constructor(range,options){options=parseOptions(options);if(range instanceof Range){if(range.loose===!!options.loose&&range.includePrerelease===!!options.includePrerelease){return range}else{return new Range(range.raw,options)}}if(range instanceof Comparator){this.raw=range.value;this.set=[[range]];this.format();return this}this.options=options;this.loose=!!options.loose;this.includePrerelease=!!options.includePrerelease;this.raw=range.trim().split(/\s+/).join(" ");this.set=this.raw.split("||").map(r=>this.parseRange(r.trim())).filter(c=>c.length);if(!this.set.length){throw new TypeError(`Invalid SemVer Range: ${this.raw}`)}if(this.set.length>1){const first=this.set[0];this.set=this.set.filter(c=>!isNullSet(c[0]));if(this.set.length===0){this.set=[first]}else if(this.set.length>1){for(const c of this.set){if(c.length===1&&isAny(c[0])){this.set=[c];break}}}}this.format()}format(){this.range=this.set.map(comps=>comps.join(" ").trim()).join("||").trim();return this.range}toString(){return this.range}parseRange(range){const memoOpts=(this.options.includePrerelease&&FLAG_INCLUDE_PRERELEASE)|(this.options.loose&&FLAG_LOOSE);const memoKey=memoOpts+":"+range;const cached=cache.get(memoKey);if(cached){return cached}const loose=this.options.loose;const hr=loose?re[t.HYPHENRANGELOOSE]:re[t.HYPHENRANGE];range=range.replace(hr,hyphenReplace(this.options.includePrerelease));debug("hyphen replace",range);range=range.replace(re[t.COMPARATORTRIM],comparatorTrimReplace);debug("comparator trim",range);range=range.replace(re[t.TILDETRIM],tildeTrimReplace);debug("tilde trim",range);range=range.replace(re[t.CARETTRIM],caretTrimReplace);debug("caret trim",range);let rangeList=range.split(" ").map(comp=>parseComparator(comp,this.options)).join(" ").split(/\s+/).map(comp=>replaceGTE0(comp,this.options));if(loose){rangeList=rangeList.filter(comp=>{debug("loose invalid filter",comp,this.options);return!!comp.match(re[t.COMPARATORLOOSE])})}debug("range list",rangeList);const rangeMap=new Map;const comparators=rangeList.map(comp=>new Comparator(comp,this.options));for(const comp of comparators){if(isNullSet(comp)){return[comp]}rangeMap.set(comp.value,comp)}if(rangeMap.size>1&&rangeMap.has("")){rangeMap.delete("")}const result=[...rangeMap.values()];cache.set(memoKey,result);return result}intersects(range,options){if(!(range instanceof Range)){throw new TypeError("a Range is required")}return this.set.some(thisComparators=>isSatisfiable(thisComparators,options)&&range.set.some(rangeComparators=>isSatisfiable(rangeComparators,options)&&thisComparators.every(thisComparator=>rangeComparators.every(rangeComparator=>thisComparator.intersects(rangeComparator,options)))))}test(version){if(!version){return false}if(typeof version==="string"){try{version=new SemVer(version,this.options)}catch(er){return false}}for(let i=0;i<this.set.length;i++){if(testSet(this.set[i],version,this.options)){return true}}return false}}module.exports=Range;const LRU=__webpack_require__(558);const cache=new LRU({max:1e3});const parseOptions=__webpack_require__(118);const Comparator=__webpack_require__(79);const debug=__webpack_require__(77);const SemVer=__webpack_require__(24);const{safeRe:re,t:t,comparatorTrimReplace:comparatorTrimReplace,tildeTrimReplace:tildeTrimReplace,caretTrimReplace:caretTrimReplace}=__webpack_require__(56);const{FLAG_INCLUDE_PRERELEASE:FLAG_INCLUDE_PRERELEASE,FLAG_LOOSE:FLAG_LOOSE}=__webpack_require__(76);const isNullSet=c=>c.value==="<0.0.0-0";const isAny=c=>c.value==="";const isSatisfiable=(comparators,options)=>{let result=true;const remainingComparators=comparators.slice();let testComparator=remainingComparators.pop();while(result&&remainingComparators.length){result=remainingComparators.every(otherComparator=>testComparator.intersects(otherComparator,options));testComparator=remainingComparators.pop()}return result};const parseComparator=(comp,options)=>{debug("comp",comp,options);comp=replaceCarets(comp,options);debug("caret",comp);comp=replaceTildes(comp,options);debug("tildes",comp);comp=replaceXRanges(comp,options);debug("xrange",comp);comp=replaceStars(comp,options);debug("stars",comp);return comp};const isX=id=>!id||id.toLowerCase()==="x"||id==="*";const replaceTildes=(comp,options)=>comp.trim().split(/\s+/).map(c=>replaceTilde(c,options)).join(" ");const replaceTilde=(comp,options)=>{const r=options.loose?re[t.TILDELOOSE]:re[t.TILDE];return comp.replace(r,(_,M,m,p,pr)=>{debug("tilde",comp,_,M,m,p,pr);let ret;if(isX(M)){ret=""}else if(isX(m)){ret=`>=${M}.0.0 <${+M+1}.0.0-0`}else if(isX(p)){ret=`>=${M}.${m}.0 <${M}.${+m+1}.0-0`}else if(pr){debug("replaceTilde pr",pr);ret=`>=${M}.${m}.${p}-${pr} <${M}.${+m+1}.0-0`}else{ret=`>=${M}.${m}.${p} <${M}.${+m+1}.0-0`}debug("tilde return",ret);return ret})};const replaceCarets=(comp,options)=>comp.trim().split(/\s+/).map(c=>replaceCaret(c,options)).join(" ");const replaceCaret=(comp,options)=>{debug("caret",comp,options);const r=options.loose?re[t.CARETLOOSE]:re[t.CARET];const z=options.includePrerelease?"-0":"";return comp.replace(r,(_,M,m,p,pr)=>{debug("caret",comp,_,M,m,p,pr);let ret;if(isX(M)){ret=""}else if(isX(m)){ret=`>=${M}.0.0${z} <${+M+1}.0.0-0`}else if(isX(p)){if(M==="0"){ret=`>=${M}.${m}.0${z} <${M}.${+m+1}.0-0`}else{ret=`>=${M}.${m}.0${z} <${+M+1}.0.0-0`}}else if(pr){debug("replaceCaret pr",pr);if(M==="0"){if(m==="0"){ret=`>=${M}.${m}.${p}-${pr} <${M}.${m}.${+p+1}-0`}else{ret=`>=${M}.${m}.${p}-${pr} <${M}.${+m+1}.0-0`}}else{ret=`>=${M}.${m}.${p}-${pr} <${+M+1}.0.0-0`}}else{debug("no pr");if(M==="0"){if(m==="0"){ret=`>=${M}.${m}.${p}${z} <${M}.${m}.${+p+1}-0`}else{ret=`>=${M}.${m}.${p}${z} <${M}.${+m+1}.0-0`}}else{ret=`>=${M}.${m}.${p} <${+M+1}.0.0-0`}}debug("caret return",ret);return ret})};const replaceXRanges=(comp,options)=>{debug("replaceXRanges",comp,options);return comp.split(/\s+/).map(c=>replaceXRange(c,options)).join(" ")};const replaceXRange=(comp,options)=>{comp=comp.trim();const r=options.loose?re[t.XRANGELOOSE]:re[t.XRANGE];return comp.replace(r,(ret,gtlt,M,m,p,pr)=>{debug("xRange",comp,ret,gtlt,M,m,p,pr);const xM=isX(M);const xm=xM||isX(m);const xp=xm||isX(p);const anyX=xp;if(gtlt==="="&&anyX){gtlt=""}pr=options.includePrerelease?"-0":"";if(xM){if(gtlt===">"||gtlt==="<"){ret="<0.0.0-0"}else{ret="*"}}else if(gtlt&&anyX){if(xm){m=0}p=0;if(gtlt===">"){gtlt=">=";if(xm){M=+M+1;m=0;p=0}else{m=+m+1;p=0}}else if(gtlt==="<="){gtlt="<";if(xm){M=+M+1}else{m=+m+1}}if(gtlt==="<"){pr="-0"}ret=`${gtlt+M}.${m}.${p}${pr}`}else if(xm){ret=`>=${M}.0.0${pr} <${+M+1}.0.0-0`}else if(xp){ret=`>=${M}.${m}.0${pr} <${M}.${+m+1}.0-0`}debug("xRange return",ret);return ret})};const replaceStars=(comp,options)=>{debug("replaceStars",comp,options);return comp.trim().replace(re[t.STAR],"")};const replaceGTE0=(comp,options)=>{debug("replaceGTE0",comp,options);return comp.trim().replace(re[options.includePrerelease?t.GTE0PRE:t.GTE0],"")};const hyphenReplace=incPr=>($0,from,fM,fm,fp,fpr,fb,to,tM,tm,tp,tpr,tb)=>{if(isX(fM)){from=""}else if(isX(fm)){from=`>=${fM}.0.0${incPr?"-0":""}`}else if(isX(fp)){from=`>=${fM}.${fm}.0${incPr?"-0":""}`}else if(fpr){from=`>=${from}`}else{from=`>=${from}${incPr?"-0":""}`}if(isX(tM)){to=""}else if(isX(tm)){to=`<${+tM+1}.0.0-0`}else if(isX(tp)){to=`<${tM}.${+tm+1}.0-0`}else if(tpr){to=`<=${tM}.${tm}.${tp}-${tpr}`}else if(incPr){to=`<${tM}.${tm}.${+tp+1}-0`}else{to=`<=${to}`}return`${from} ${to}`.trim()};const testSet=(set,version,options)=>{for(let i=0;i<set.length;i++){if(!set[i].test(version)){return false}}if(version.prerelease.length&&!options.includePrerelease){for(let i=0;i<set.length;i++){debug(set[i].semver);if(set[i].semver===Comparator.ANY){continue}if(set[i].semver.prerelease.length>0){const allowed=set[i].semver;if(allowed.major===version.major&&allowed.minor===version.minor&&allowed.patch===version.patch){return true}}}return false}return true}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DEFAULT_APP_CATEGORIES}));__webpack_require__.d(__webpack_exports__,"b",(function(){return DEFAULT_NAV_GROUPS}));__webpack_require__.d(__webpack_exports__,"c",(function(){return SECURITY_ANALYTICS_USE_CASE_ID}));var core_public=__webpack_require__(214);var defineProperty=__webpack_require__(2);var defineProperty_default=__webpack_require__.n(defineProperty);var external_osdSharedDeps_React_=__webpack_require__(0);var external_osdSharedDeps_React_default=__webpack_require__.n(external_osdSharedDeps_React_);var external_osdSharedDeps_ReactDom_=__webpack_require__(16);var external_osdSharedDeps_ReactDom_default=__webpack_require__.n(external_osdSharedDeps_ReactDom_);var external_osdSharedDeps_OsdI18nReact_=__webpack_require__(14);var external_osdSharedDeps_Rxjs_=__webpack_require__(6);var external_osdSharedDeps_RxjsOperators_=__webpack_require__(7);var url_url=__webpack_require__(20);var url_default=__webpack_require__.n(url_url);var external_osdSharedDeps_ElasticEui_=__webpack_require__(1);const defaultWrapperClass="osdMountWrapper";const MountWrapper=_ref=>{let{mount:mount,className:className=defaultWrapperClass}=_ref;const element=Object(external_osdSharedDeps_React_["useRef"])(null);Object(external_osdSharedDeps_React_["useEffect"])(()=>mount(element.current),[mount]);return external_osdSharedDeps_React_default.a.createElement("div",{className:className,ref:element})};const mountReactNode=node=>element=>{Object(external_osdSharedDeps_ReactDom_["render"])(external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["I18nProvider"],null,node),element);return()=>Object(external_osdSharedDeps_ReactDom_["unmountComponentAtNode"])(element)};const OPENSEARCH_DASHBOARDS_ASK_OPENSEARCH_LINK="https://forum.opensearch.org/";const GITHUB_CREATE_ISSUE_LINK="https://github.com/opensearch-project/OpenSearch-Dashboards/issues/new/choose";let RightNavigationOrder=function(RightNavigationOrder){RightNavigationOrder[RightNavigationOrder["Settings"]=10]="Settings";RightNavigationOrder[RightNavigationOrder["DevTool"]=20]="DevTool";return RightNavigationOrder}({});let HeaderControlsContainer=function(HeaderControlsContainer){HeaderControlsContainer["LEFT"]="left";HeaderControlsContainer["CENTER"]="center";HeaderControlsContainer["RIGHT"]="right";HeaderControlsContainer["BADGE"]="badge";HeaderControlsContainer["DESCRIPTION"]="description";HeaderControlsContainer["BOTTOM"]="bottom";return HeaderControlsContainer}({});let HeaderVariant=function(HeaderVariant){HeaderVariant["PAGE"]="page";HeaderVariant["APPLICATION"]="application";return HeaderVariant}({});var external_osdSharedDeps_Lodash_=__webpack_require__(11);const defaultTitle=[];const titleSeparator=" - ";class doc_title_service_DocTitleService{constructor(){defineProperty_default()(this,"document",{title:""});defineProperty_default()(this,"baseTitle","")}start(_ref){let{document:document}=_ref;this.document=document;this.baseTitle=document.title;return{change:title=>{this.applyTitle(title)},reset:()=>{this.applyTitle(defaultTitle)}}}applyTitle(title){this.document.title=this.render(title)}render(title){const parts=[...Object(external_osdSharedDeps_Lodash_["isString"])(title)?[title]:title,this.baseTitle];return Object(external_osdSharedDeps_Lodash_["compact"])(Object(external_osdSharedDeps_Lodash_["flattenDeep"])(parts)).join(titleSeparator)}}class nav_controls_service_NavControlsService{constructor(){defineProperty_default()(this,"stop$",new external_osdSharedDeps_Rxjs_["ReplaySubject"](1))}start(){const navControlsLeft$=new external_osdSharedDeps_Rxjs_["BehaviorSubject"](new Set);const navControlsRight$=new external_osdSharedDeps_Rxjs_["BehaviorSubject"](new Set);const navControlsCenter$=new external_osdSharedDeps_Rxjs_["BehaviorSubject"](new Set);const navControlsExpandedRight$=new external_osdSharedDeps_Rxjs_["BehaviorSubject"](new Set);const navControlsExpandedCenter$=new external_osdSharedDeps_Rxjs_["BehaviorSubject"](new Set);const navControlsLeftBottom$=new external_osdSharedDeps_Rxjs_["BehaviorSubject"](new Set);const navControlsPrimaryHeaderRight$=new external_osdSharedDeps_Rxjs_["BehaviorSubject"](new Set);return{registerLeft:navControl=>navControlsLeft$.next(new Set([...navControlsLeft$.value.values(),navControl])),registerRight:navControl=>navControlsRight$.next(new Set([...navControlsRight$.value.values(),navControl])),registerCenter:navControl=>navControlsCenter$.next(new Set([...navControlsCenter$.value.values(),navControl])),registerExpandedRight:navControl=>navControlsExpandedRight$.next(new Set([...navControlsExpandedRight$.value.values(),navControl])),registerExpandedCenter:navControl=>navControlsExpandedCenter$.next(new Set([...navControlsExpandedCenter$.value.values(),navControl])),registerLeftBottom:navControl=>navControlsLeftBottom$.next(new Set([...navControlsLeftBottom$.value.values(),navControl])),registerPrimaryHeaderRight:navControl=>navControlsPrimaryHeaderRight$.next(new Set([...navControlsPrimaryHeaderRight$.value.values(),navControl])),getLeft$:()=>navControlsLeft$.pipe(Object(external_osdSharedDeps_RxjsOperators_["map"])(controls=>Object(external_osdSharedDeps_Lodash_["sortBy"])([...controls.values()],"order")),Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(this.stop$)),getRight$:()=>navControlsRight$.pipe(Object(external_osdSharedDeps_RxjsOperators_["map"])(controls=>Object(external_osdSharedDeps_Lodash_["sortBy"])([...controls.values()],"order")),Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(this.stop$)),getCenter$:()=>navControlsCenter$.pipe(Object(external_osdSharedDeps_RxjsOperators_["map"])(controls=>Object(external_osdSharedDeps_Lodash_["sortBy"])([...controls.values()],"order")),Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(this.stop$)),getExpandedRight$:()=>navControlsExpandedRight$.pipe(Object(external_osdSharedDeps_RxjsOperators_["map"])(controls=>Object(external_osdSharedDeps_Lodash_["sortBy"])([...controls.values()],"order")),Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(this.stop$)),getExpandedCenter$:()=>navControlsExpandedCenter$.pipe(Object(external_osdSharedDeps_RxjsOperators_["map"])(controls=>Object(external_osdSharedDeps_Lodash_["sortBy"])([...controls.values()],"order")),Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(this.stop$)),getLeftBottom$:()=>navControlsLeftBottom$.pipe(Object(external_osdSharedDeps_RxjsOperators_["map"])(controls=>Object(external_osdSharedDeps_Lodash_["sortBy"])([...controls.values()],"order")),Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(this.stop$)),getPrimaryHeaderRight$:()=>navControlsPrimaryHeaderRight$.pipe(Object(external_osdSharedDeps_RxjsOperators_["map"])(controls=>Object(external_osdSharedDeps_Lodash_["sortBy"])([...controls.values()],"order")),Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(this.stop$))}}stop(){this.stop$.next()}}function pick(obj,keys){return keys.reduce((acc,key)=>{if(obj.hasOwnProperty(key)){acc[key]=obj[key]}return acc},{})}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}class nav_link_NavLinkWrapper{constructor(properties){defineProperty_default()(this,"id",void 0);defineProperty_default()(this,"properties",void 0);if(!properties||!properties.id){throw new Error("`id` is required.")}this.id=properties.id;this.properties=Object.freeze(properties)}update(newProps){newProps=pick(newProps,["disabled","hidden","url","href"]);return new nav_link_NavLinkWrapper(_objectSpread(_objectSpread({},this.properties),newProps))}}var objectWithoutProperties=__webpack_require__(17);var objectWithoutProperties_default=__webpack_require__.n(objectWithoutProperties);var node_modules_history=__webpack_require__(177);var external_osdSharedDeps_ReactRouterDom_=__webpack_require__(51);var useObservable=__webpack_require__(15);var useObservable_default=__webpack_require__.n(useObservable);let AppStatus=function(AppStatus){AppStatus[AppStatus["accessible"]=0]="accessible";AppStatus[AppStatus["inaccessible"]=1]="inaccessible";return AppStatus}({});let AppNavLinkStatus=function(AppNavLinkStatus){AppNavLinkStatus[AppNavLinkStatus["default"]=0]="default";AppNavLinkStatus[AppNavLinkStatus["visible"]=1]="visible";AppNavLinkStatus[AppNavLinkStatus["disabled"]=2]="disabled";AppNavLinkStatus[AppNavLinkStatus["hidden"]=3]="hidden";return AppNavLinkStatus}({});let WorkspaceAvailability=function(WorkspaceAvailability){WorkspaceAvailability[WorkspaceAvailability["outsideWorkspace"]=2]="outsideWorkspace";WorkspaceAvailability[WorkspaceAvailability["insideWorkspace"]=1]="insideWorkspace";return WorkspaceAvailability}({});let AppLeaveActionType=function(AppLeaveActionType){AppLeaveActionType["confirm"]="confirm";AppLeaveActionType["default"]="default";return AppLeaveActionType}({});const AppNotFound=()=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPage"],{style:{minHeight:"100%"},"data-test-subj":"appNotFoundPageContent"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPageBody"],{component:"main"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPageContent"],{verticalPosition:"center",horizontalPosition:"center"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiEmptyPrompt"],{iconType:"alert",iconColor:"danger",title:external_osdSharedDeps_React_default.a.createElement("h2",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"core.application.appNotFound.title",defaultMessage:"Application Not Found"})),body:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_osdSharedDeps_React_default.a.createElement("p",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"core.application.appNotFound.pageDescription",defaultMessage:"No application was found at this URL. Try going back or choosing an app from the menu."})))}))));var app_container=__webpack_require__(246);const AppContainer=_ref=>{let{mounter:mounter,appId:appId,appPath:appPath,setAppLeaveHandler:setAppLeaveHandler,setAppActionMenu:setAppActionMenu,setAppLeftControls:setAppLeftControls,setAppCenterControls:setAppCenterControls,setAppRightControls:setAppRightControls,setAppBadgeControls:setAppBadgeControls,setAppDescriptionControls:setAppDescriptionControls,setAppBottomControls:setAppBottomControls,createScopedHistory:createScopedHistory,appStatus:appStatus,setIsMounting:setIsMounting}=_ref;const[showSpinner,setShowSpinner]=Object(external_osdSharedDeps_React_["useState"])(true);const[appNotFound,setAppNotFound]=Object(external_osdSharedDeps_React_["useState"])(false);const elementRef=Object(external_osdSharedDeps_React_["useRef"])(null);const unmountRef=Object(external_osdSharedDeps_React_["useRef"])(null);Object(external_osdSharedDeps_React_["useLayoutEffect"])(()=>{const unmount=()=>{if(unmountRef.current){unmountRef.current();unmountRef.current=null}};if(!mounter||appStatus!==AppStatus.accessible){return setAppNotFound(true)}setAppNotFound(false);setIsMounting(true);if(mounter.unmountBeforeMounting){unmount()}const mount=async()=>{setShowSpinner(true);try{unmountRef.current=await mounter.mount({appBasePath:mounter.appBasePath,history:createScopedHistory(appPath),element:elementRef.current,onAppLeave:handler=>setAppLeaveHandler(appId,handler),setHeaderActionMenu:menuMount=>setAppActionMenu(appId,menuMount),setHeaderLeftControls:menuMount=>setAppLeftControls(appId,menuMount),setHeaderCenterControls:menuMount=>setAppCenterControls(appId,menuMount),setHeaderRightControls:menuMount=>setAppRightControls(appId,menuMount),setHeaderBadgeControls:menuMount=>setAppBadgeControls(appId,menuMount),setHeaderDescriptionControls:menuMount=>setAppDescriptionControls(appId,menuMount),setHeaderBottomControls:menuMount=>setAppBottomControls(appId,menuMount)})||null}catch(e){console.error(e)}finally{if(elementRef.current){setShowSpinner(false);setIsMounting(false)}}};mount();return unmount},[appId,appStatus,mounter,createScopedHistory,setAppLeaveHandler,setAppActionMenu,setAppLeftControls,setAppRightControls,setAppCenterControls,setAppBadgeControls,setAppDescriptionControls,setAppBottomControls,appPath,setIsMounting]);return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_["Fragment"],null,appNotFound&&external_osdSharedDeps_React_default.a.createElement(AppNotFound,null),showSpinner&&external_osdSharedDeps_React_default.a.createElement("div",{className:"appContainer__loading"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiLoadingSpinner"],{"aria-label":"Loading application",size:"xl"})),external_osdSharedDeps_React_default.a.createElement("div",{key:appId,ref:elementRef}))};function scoped_history_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function scoped_history_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?scoped_history_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):scoped_history_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}class scoped_history_ScopedHistory{constructor(parentHistory,basePath){var _this=this;this.parentHistory=parentHistory;this.basePath=basePath;defineProperty_default()(this,"isActive",true);defineProperty_default()(this,"listeners",new Set);defineProperty_default()(this,"locationKeys",[]);defineProperty_default()(this,"currentLocationKeyIndex",0);defineProperty_default()(this,"createSubHistory",basePath=>new scoped_history_ScopedHistory(this,basePath));defineProperty_default()(this,"push",(pathOrLocation,state)=>{this.verifyActive();if(typeof pathOrLocation==="string"){this.parentHistory.push(this.prependBasePath(pathOrLocation),state)}else{this.parentHistory.push(this.prependBasePath(pathOrLocation))}});defineProperty_default()(this,"replace",(pathOrLocation,state)=>{this.verifyActive();if(typeof pathOrLocation==="string"){this.parentHistory.replace(this.prependBasePath(pathOrLocation),state)}else{this.parentHistory.replace(this.prependBasePath(pathOrLocation))}});defineProperty_default()(this,"go",n=>{this.verifyActive();if(n===0){this.parentHistory.go(n)}else if(n<0){if(this.currentLocationKeyIndex+1+n>=1){this.parentHistory.go(n)}}else if(n<=this.currentLocationKeyIndex+this.locationKeys.length-1){this.parentHistory.go(n)}});defineProperty_default()(this,"goBack",()=>{this.verifyActive();this.go(-1)});defineProperty_default()(this,"goForward",()=>{this.verifyActive();this.go(1)});defineProperty_default()(this,"block",prompt=>{throw new Error(`history.block is not supported. Please use the AppMountParameters.onAppLeave API.`)});defineProperty_default()(this,"listen",listener=>{this.verifyActive();this.listeners.add(listener);return()=>{this.listeners.delete(listener)}});defineProperty_default()(this,"createHref",(function(location){let{prependBasePath:prependBasePath=true}=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_this.verifyActive();if(prependBasePath){location=_this.prependBasePath(location);if(location.pathname===undefined){location.pathname=_this.basePath}}return _this.parentHistory.createHref(location)}));const parentPath=this.parentHistory.location.pathname;if(!parentPath.startsWith(basePath)){throw new Error(`Browser location [${parentPath}] is not currently in expected basePath [${basePath}]`)}this.locationKeys.push(this.parentHistory.location.key);this.setupHistoryListener()}get length(){this.verifyActive();return this.locationKeys.length}get location(){this.verifyActive();return this.stripBasePath(this.parentHistory.location)}get action(){this.verifyActive();return this.parentHistory.action}prependBasePath(pathOrLocation){if(typeof pathOrLocation==="string"){return this.prependBasePathToString(pathOrLocation)}else{return scoped_history_objectSpread(scoped_history_objectSpread({},pathOrLocation),{},{pathname:pathOrLocation.pathname!==undefined?this.prependBasePathToString(pathOrLocation.pathname):undefined})}}prependBasePathToString(path){return path.length?`${this.basePath}/${path}`.replace(/\/{2,}/g,"/"):this.basePath}stripBasePath(location){return scoped_history_objectSpread(scoped_history_objectSpread({},location),{},{pathname:location.pathname.replace(new RegExp(`^${this.basePath}`),"")})}verifyActive(){if(!this.isActive){throw new Error(`ScopedHistory instance has fell out of navigation scope for basePath: ${this.basePath}`)}}setupHistoryListener(){const unlisten=this.parentHistory.listen((location,action)=>{if(!location.pathname.startsWith(this.basePath)){unlisten();this.isActive=false;return}if(action==="PUSH"){this.locationKeys=[...this.locationKeys.slice(0,this.currentLocationKeyIndex+1),location.key];this.currentLocationKeyIndex=this.locationKeys.indexOf(location.key)}else if(action==="POP"){this.currentLocationKeyIndex=this.locationKeys.indexOf(location.key)}else if(action==="REPLACE"){this.locationKeys[this.currentLocationKeyIndex]=location.key}else{throw new Error(`Unrecognized history action: ${action}`)}[...this.listeners].forEach(listener=>{listener(this.stripBasePath(location),action)})})}}const AppRouter=_ref=>{let{history:history,mounters:mounters,setAppLeaveHandler:setAppLeaveHandler,setAppActionMenu:setAppActionMenu,setAppLeftControls:setAppLeftControls,setAppCenterControls:setAppCenterControls,setAppRightControls:setAppRightControls,setAppBadgeControls:setAppBadgeControls,setAppDescriptionControls:setAppDescriptionControls,setAppBottomControls:setAppBottomControls,appStatuses$:appStatuses$,setIsMounting:setIsMounting}=_ref;const appStatuses=useObservable_default()(appStatuses$,new Map);const createScopedHistory=Object(external_osdSharedDeps_React_["useMemo"])(()=>appPath=>new scoped_history_ScopedHistory(history,appPath),[history]);return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ReactRouterDom_["Router"],{history:history},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ReactRouterDom_["Switch"],null,[...mounters].map(_ref2=>{let[appId,mounter]=_ref2;return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ReactRouterDom_["Route"],{key:mounter.appRoute,path:mounter.appRoute,exact:mounter.exactRoute,render:_ref3=>{var _appStatuses$get;let{match:{path:path}}=_ref3;return external_osdSharedDeps_React_default.a.createElement(AppContainer,{appPath:path,appStatus:(_appStatuses$get=appStatuses.get(appId))!==null&&_appStatuses$get!==void 0?_appStatuses$get:AppStatus.inaccessible,createScopedHistory:createScopedHistory,appId:appId,mounter:mounter,setAppLeaveHandler:setAppLeaveHandler,setAppLeftControls:setAppLeftControls,setAppCenterControls:setAppCenterControls,setAppRightControls:setAppRightControls,setAppBadgeControls:setAppBadgeControls,setAppDescriptionControls:setAppDescriptionControls,setAppBottomControls:setAppBottomControls,setAppActionMenu:setAppActionMenu,setIsMounting:setIsMounting})}})}),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ReactRouterDom_["Route"],{path:"/app/:appId",render:_ref4=>{var _appStatuses$get2;let{match:{params:{appId:appId},url:url}}=_ref4;const[id,mounter]=mounters.has(appId)?[appId,mounters.get(appId)]:[];return external_osdSharedDeps_React_default.a.createElement(AppContainer,{appPath:url,appId:id!==null&&id!==void 0?id:appId,appStatus:(_appStatuses$get2=appStatuses.get(appId))!==null&&_appStatuses$get2!==void 0?_appStatuses$get2:AppStatus.inaccessible,createScopedHistory:createScopedHistory,mounter:mounter,setAppLeaveHandler:setAppLeaveHandler,setAppLeftControls:setAppLeftControls,setAppCenterControls:setAppCenterControls,setAppRightControls:setAppRightControls,setAppBadgeControls:setAppBadgeControls,setAppDescriptionControls:setAppDescriptionControls,setAppBottomControls:setAppBottomControls,setAppActionMenu:setAppActionMenu,setIsMounting:setIsMounting})}})))};function deepFreeze(object){for(const value of Object.values(object)){if(value!==null&&typeof value==="object"){deepFreeze(value)}}return Object.freeze(object)}class capabilities_service_CapabilitiesService{async start(_ref){let{appIds:appIds,http:http}=_ref;const capabilities=await http.post("/api/core/capabilities",{body:JSON.stringify({applications:appIds})});return{capabilities:deepFreeze(capabilities)}}}const appLeaveActionFactory={confirm(text,title,callback){return{type:AppLeaveActionType.confirm,text:text,title:title,callback:callback}},default(){return{type:AppLeaveActionType.default}}};function isConfirmAction(action){return action.type===AppLeaveActionType.confirm}function getLeaveAction(handler){if(!handler){return appLeaveActionFactory.default()}return handler(appLeaveActionFactory)}const removeSlashes=function(url){let{trailing:trailing=false,leading:leading=false,duplicates:duplicates=true}=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(duplicates){url=url.replace(/\/{2,}/g,"/")}if(trailing){url=url.replace(/\/$/,"")}if(leading){url=url.replace(/^\//,"")}return url};const appendAppPath=function(appBasePath){let path=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";path=path===""||path.startsWith("#")||path.startsWith("?")?path:`/${path}`;const removeTrailing=path.indexOf("#")===-1&&appBasePath.indexOf("#")===-1;return removeSlashes(`${appBasePath}${path}`,{trailing:removeTrailing,duplicates:true,leading:false})};const _excluded=["updater$","mount"];function get_app_info_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function get_app_info_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?get_app_info_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):get_app_info_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function getAppInfo(app){const navLinkStatus=app.navLinkStatus===AppNavLinkStatus.default?app.status===AppStatus.inaccessible?AppNavLinkStatus.hidden:AppNavLinkStatus.visible:app.navLinkStatus;const{updater$:updater$,mount:mount}=app,infos=objectWithoutProperties_default()(app,_excluded);return get_app_info_objectSpread(get_app_info_objectSpread({},infos),{},{status:app.status,navLinkStatus:navLinkStatus,appRoute:app.appRoute})}function modifyUrl(url,urlModifier){const parsed=Object(url_url["parse"])(url,true);const meaningfulParts={auth:parsed.auth,hash:parsed.hash,hostname:parsed.hostname,pathname:parsed.pathname,port:parsed.port,protocol:parsed.protocol,query:parsed.query||{},slashes:parsed.slashes};const modifiedParts=urlModifier(meaningfulParts)||meaningfulParts;return Object(url_url["format"])({auth:modifiedParts.auth,hash:modifiedParts.hash,hostname:modifiedParts.hostname,pathname:modifiedParts.pathname,port:modifiedParts.port,protocol:modifiedParts.protocol,query:modifiedParts.query,slashes:modifiedParts.slashes})}function isRelativeUrl(candidatePath){const all=Object(url_url["parse"])(candidatePath,false,true);const{protocol:protocol,hostname:hostname,port:port}=all;if(protocol!==null||hostname!==null||port!==null){return false}return true}function getUrlOrigin(url){const obj=Object(url_url["parse"])(url);if(!obj.protocol&&!obj.hostname){return null}return`${obj.protocol}//${obj.hostname}${obj.port?`:${obj.port}`:""}`}const parseAppUrl=function(url,basePath,apps){let currentUrl=arguments.length>3&&arguments[3]!==undefined?arguments[3]:window.location.href;const currentOrigin=getUrlOrigin(currentUrl);if(!currentOrigin){throw new Error("when manually provided, currentUrl must be valid url with an origin")}const currentPath=currentUrl.substring(currentOrigin.length);if(url.startsWith(currentOrigin)){url=url.substring(currentOrigin.length)}if(!url.startsWith("/")){url=Object(url_url["resolve"])(currentPath,url)}const basePathValue=basePath.get();if(basePathValue&&!url.startsWith(basePathValue)){return undefined}url=basePath.remove(url);if(!url.startsWith("/")){return undefined}for(const app of apps.values()){const appPath=app.appRoute||`/app/${app.id}`;if(url.startsWith(appPath)){const path=url.substr(appPath.length);return{app:app.id,path:path.length?path:undefined}}}};const relativeToAbsolute=url=>{const a=document.createElement("a");a.setAttribute("href",url);return a.href};const application_service_excluded=["updater$"];function application_service_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function application_service_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?application_service_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):application_service_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const isAppMountDeprecated=mount=>mount.length===2;function filterAvailable(m,capabilities){return new Map([...m].filter(_ref=>{let[id]=_ref;return capabilities.navLinks[id]===undefined||capabilities.navLinks[id]===true}))}const findMounter=(mounters,appRoute)=>[...mounters].find(_ref2=>{let[,mounter]=_ref2;return mounter.appRoute===appRoute});const getAppUrl=function(mounters,appId){var _mounters$get;let path=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";const appBasePath=(_mounters$get=mounters.get(appId))!==null&&_mounters$get!==void 0&&_mounters$get.appRoute?`/${mounters.get(appId).appRoute}`:`/app/${appId}`;return appendAppPath(appBasePath,path)};const allApplicationsFilter="__ALL__";class application_service_ApplicationService{constructor(){defineProperty_default()(this,"apps",new Map);defineProperty_default()(this,"mounters",new Map);defineProperty_default()(this,"capabilities",new capabilities_service_CapabilitiesService);defineProperty_default()(this,"appInternalStates",new Map);defineProperty_default()(this,"currentAppId$",new external_osdSharedDeps_Rxjs_["BehaviorSubject"](undefined));defineProperty_default()(this,"currentActionMenu$",new external_osdSharedDeps_Rxjs_["BehaviorSubject"](undefined));defineProperty_default()(this,"currentLeftControls$",new external_osdSharedDeps_Rxjs_["BehaviorSubject"](undefined));defineProperty_default()(this,"currentCenterControls$",new external_osdSharedDeps_Rxjs_["BehaviorSubject"](undefined));defineProperty_default()(this,"currentRightControls$",new external_osdSharedDeps_Rxjs_["BehaviorSubject"](undefined));defineProperty_default()(this,"currentBadgeControls$",new external_osdSharedDeps_Rxjs_["BehaviorSubject"](undefined));defineProperty_default()(this,"currentDescriptionControls$",new external_osdSharedDeps_Rxjs_["BehaviorSubject"](undefined));defineProperty_default()(this,"currentBottomControls$",new external_osdSharedDeps_Rxjs_["BehaviorSubject"](undefined));defineProperty_default()(this,"statusUpdaters$",new external_osdSharedDeps_Rxjs_["BehaviorSubject"](new Map));defineProperty_default()(this,"subscriptions",[]);defineProperty_default()(this,"stop$",new external_osdSharedDeps_Rxjs_["Subject"]);defineProperty_default()(this,"registrationClosed",false);defineProperty_default()(this,"history",void 0);defineProperty_default()(this,"mountContext",void 0);defineProperty_default()(this,"navigate",void 0);defineProperty_default()(this,"redirectTo",void 0);defineProperty_default()(this,"setAppLeaveHandler",(appId,handler)=>{var _this$appInternalStat;this.appInternalStates.set(appId,application_service_objectSpread(application_service_objectSpread({},(_this$appInternalStat=this.appInternalStates.get(appId))!==null&&_this$appInternalStat!==void 0?_this$appInternalStat:{}),{},{leaveHandler:handler}))});defineProperty_default()(this,"setAppActionMenu",(appId,mount)=>{var _this$appInternalStat2;this.appInternalStates.set(appId,application_service_objectSpread(application_service_objectSpread({},(_this$appInternalStat2=this.appInternalStates.get(appId))!==null&&_this$appInternalStat2!==void 0?_this$appInternalStat2:{}),{},{actionMenu:mount}));this.refreshCurrentActionMenu()});defineProperty_default()(this,"refreshCurrentActionMenu",()=>{var _this$appInternalStat3;const appId=this.currentAppId$.getValue();const currentActionMenu=appId?(_this$appInternalStat3=this.appInternalStates.get(appId))===null||_this$appInternalStat3===void 0?void 0:_this$appInternalStat3.actionMenu:undefined;this.currentActionMenu$.next(currentActionMenu)});defineProperty_default()(this,"setAppLeftControls",(appPath,mount)=>this.setAppControls(appPath,mount,HeaderControlsContainer.LEFT));defineProperty_default()(this,"setAppCenterControls",(appPath,mount)=>this.setAppControls(appPath,mount,HeaderControlsContainer.CENTER));defineProperty_default()(this,"setAppRightControls",(appPath,mount)=>this.setAppControls(appPath,mount,HeaderControlsContainer.RIGHT));defineProperty_default()(this,"setAppBadgeControls",(appPath,mount)=>this.setAppControls(appPath,mount,HeaderControlsContainer.BADGE));defineProperty_default()(this,"setAppDescriptionControls",(appPath,mount)=>this.setAppControls(appPath,mount,HeaderControlsContainer.DESCRIPTION));defineProperty_default()(this,"setAppBottomControls",(appPath,mount)=>this.setAppControls(appPath,mount,HeaderControlsContainer.BOTTOM));defineProperty_default()(this,"setAppControls",(appPath,mount,container)=>{var _this$appInternalStat4;if(!appPath)return;this.appInternalStates.set(appPath,application_service_objectSpread(application_service_objectSpread({},(_this$appInternalStat4=this.appInternalStates.get(appPath))!==null&&_this$appInternalStat4!==void 0?_this$appInternalStat4:{}),{},{[`${container}Controls`]:mount}));this.refreshCurrentControls(container)});defineProperty_default()(this,"refreshCurrentControls",container=>{var _this$appInternalStat5,_this$appInternalStat6,_this$appInternalStat7,_this$appInternalStat8,_this$appInternalStat9,_this$appInternalStat10;const appId=this.currentAppId$.getValue();switch(container){case HeaderControlsContainer.LEFT:return this.currentLeftControls$.next(appId?(_this$appInternalStat5=this.appInternalStates.get(appId))===null||_this$appInternalStat5===void 0?void 0:_this$appInternalStat5.leftControls:undefined);case HeaderControlsContainer.CENTER:return this.currentCenterControls$.next(appId?(_this$appInternalStat6=this.appInternalStates.get(appId))===null||_this$appInternalStat6===void 0?void 0:_this$appInternalStat6.centerControls:undefined);case HeaderControlsContainer.RIGHT:return this.currentRightControls$.next(appId?(_this$appInternalStat7=this.appInternalStates.get(appId))===null||_this$appInternalStat7===void 0?void 0:_this$appInternalStat7.rightControls:undefined);case HeaderControlsContainer.BADGE:return this.currentBadgeControls$.next(appId?(_this$appInternalStat8=this.appInternalStates.get(appId))===null||_this$appInternalStat8===void 0?void 0:_this$appInternalStat8.badgeControls:undefined);case HeaderControlsContainer.DESCRIPTION:return this.currentDescriptionControls$.next(appId?(_this$appInternalStat9=this.appInternalStates.get(appId))===null||_this$appInternalStat9===void 0?void 0:_this$appInternalStat9.descriptionControls:undefined);case HeaderControlsContainer.BOTTOM:return this.currentBottomControls$.next(appId?(_this$appInternalStat10=this.appInternalStates.get(appId))===null||_this$appInternalStat10===void 0?void 0:_this$appInternalStat10.bottomControls:undefined)}});defineProperty_default()(this,"onBeforeUnload",event=>{var _this$appInternalStat11;const currentAppId=this.currentAppId$.value;if(currentAppId===undefined){return}const action=getLeaveAction((_this$appInternalStat11=this.appInternalStates.get(currentAppId))===null||_this$appInternalStat11===void 0?void 0:_this$appInternalStat11.leaveHandler);if(isConfirmAction(action)){event.preventDefault();event.returnValue=action.text}})}setup(_ref3){let{context:context,http:{basePath:basePath},redirectTo:redirectTo=(path=>{window.location.assign(path)}),history:history}=_ref3;const basename=basePath.get();this.history=history||Object(node_modules_history["createBrowserHistory"])({basename:basename});this.navigate=(url,state,replace)=>replace?this.history.replace(url,state):this.history.push(url,state);this.redirectTo=redirectTo;this.mountContext=context.createContextContainer();const registerStatusUpdater=(application,updater$)=>{const updaterId=Symbol();const subscription=updater$.subscribe(updater=>{const nextValue=new Map(this.statusUpdaters$.getValue());nextValue.set(updaterId,{application:application,updater:updater});this.statusUpdaters$.next(nextValue)});this.subscriptions.push(subscription)};const wrapMount=(plugin,app)=>{let handler;if(isAppMountDeprecated(app.mount)){handler=this.mountContext.createHandler(plugin,app.mount);if(false){}}else{handler=app.mount}return async params=>{this.currentAppId$.next(app.id);return handler(params)}};return{registerMountContext:this.mountContext.registerContext,register:(plugin,app)=>{var _app$status,_app$navLinkStatus,_app$exactRoute;app=application_service_objectSpread({appRoute:`/app/${app.id}`},app);if(this.registrationClosed){throw new Error(`Applications cannot be registered after "setup"`)}else if(this.apps.has(app.id)){throw new Error(`An application is already registered with the id "${app.id}"`)}else if(findMounter(this.mounters,app.appRoute)){throw new Error(`An application is already registered with the appRoute "${app.appRoute}"`)}else if(basename&&app.appRoute.startsWith(`${basename}/`)){throw new Error("Cannot register an application route that includes HTTP base path")}const{updater$:updater$}=app,appProps=objectWithoutProperties_default()(app,application_service_excluded);this.apps.set(app.id,application_service_objectSpread(application_service_objectSpread({},appProps),{},{status:(_app$status=app.status)!==null&&_app$status!==void 0?_app$status:AppStatus.accessible,navLinkStatus:(_app$navLinkStatus=app.navLinkStatus)!==null&&_app$navLinkStatus!==void 0?_app$navLinkStatus:AppNavLinkStatus.default}));if(updater$){registerStatusUpdater(app.id,updater$)}this.mounters.set(app.id,{appRoute:app.appRoute,appBasePath:basePath.prepend(app.appRoute),exactRoute:(_app$exactRoute=app.exactRoute)!==null&&_app$exactRoute!==void 0?_app$exactRoute:false,mount:wrapMount(plugin,app),unmountBeforeMounting:false})},registerAppUpdater:appUpdater$=>registerStatusUpdater(allApplicationsFilter,appUpdater$)}}async start(_ref4){var _this=this;let{http:http,overlays:overlays,workspaces:workspaces}=_ref4;if(!this.mountContext){throw new Error("ApplicationService#setup() must be invoked before start.")}const httpLoadingCount$=new external_osdSharedDeps_Rxjs_["BehaviorSubject"](0);http.addLoadingCountSource(httpLoadingCount$);this.registrationClosed=true;window.addEventListener("beforeunload",this.onBeforeUnload);const{capabilities:capabilities}=await this.capabilities.start({appIds:[...this.mounters.keys()],http:http});const availableMounters=filterAvailable(this.mounters,capabilities);const availableApps=filterAvailable(this.apps,capabilities);const applications$=new external_osdSharedDeps_Rxjs_["BehaviorSubject"](availableApps);this.statusUpdaters$.pipe(Object(external_osdSharedDeps_RxjsOperators_["map"])(statusUpdaters=>new Map([...availableApps].map(_ref5=>{let[id,app]=_ref5;return[id,updateStatus(app,[...statusUpdaters.values()])]})))).subscribe(apps=>applications$.next(apps));const applicationStatuses$=applications$.pipe(Object(external_osdSharedDeps_RxjsOperators_["map"])(apps=>new Map([...apps.entries()].map(_ref6=>{let[id,app]=_ref6;return[id,app.status]}))),Object(external_osdSharedDeps_RxjsOperators_["shareReplay"])(1));const navigateToApp=async function(appId){let{path:path,state:state,replace:replace=false}=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const currentAppId=_this.currentAppId$.value;const navigatingToSameApp=currentAppId===appId;const shouldNavigate=navigatingToSameApp?true:await _this.shouldNavigate(overlays);if(shouldNavigate){const targetApp=applications$.value.get(appId);if(workspaces.currentWorkspaceId$.value&&(targetApp===null||targetApp===void 0?void 0:targetApp.workspaceAvailability)===WorkspaceAvailability.outsideWorkspace){window.location.assign(http.basePath.prepend(getAppUrl(availableMounters,appId,path),{withoutClientBasePath:true}));return}if(path===undefined){var _applications$$value$;path=(_applications$$value$=applications$.value.get(appId))===null||_applications$$value$===void 0?void 0:_applications$$value$.defaultPath}if(!navigatingToSameApp){_this.appInternalStates.delete(_this.currentAppId$.value)}_this.navigate(getAppUrl(availableMounters,appId,path),state,replace);_this.currentAppId$.next(appId)}};this.currentAppId$.subscribe(()=>this.refreshCurrentActionMenu());this.currentAppId$.subscribe(()=>this.refreshCurrentControls(HeaderControlsContainer.LEFT));this.currentAppId$.subscribe(()=>this.refreshCurrentControls(HeaderControlsContainer.CENTER));this.currentAppId$.subscribe(()=>this.refreshCurrentControls(HeaderControlsContainer.RIGHT));this.currentAppId$.subscribe(()=>this.refreshCurrentControls(HeaderControlsContainer.BADGE));this.currentAppId$.subscribe(()=>this.refreshCurrentControls(HeaderControlsContainer.DESCRIPTION));this.currentAppId$.subscribe(()=>this.refreshCurrentControls(HeaderControlsContainer.BOTTOM));return{applications$:applications$.pipe(Object(external_osdSharedDeps_RxjsOperators_["map"])(apps=>new Map([...apps.entries()].map(_ref7=>{let[id,app]=_ref7;return[id,getAppInfo(app)]}))),Object(external_osdSharedDeps_RxjsOperators_["shareReplay"])(1)),capabilities:capabilities,currentAppId$:this.currentAppId$.pipe(Object(external_osdSharedDeps_RxjsOperators_["filter"])(appId=>appId!==undefined),Object(external_osdSharedDeps_RxjsOperators_["distinctUntilChanged"])(),Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(this.stop$)),currentActionMenu$:this.currentActionMenu$.pipe(Object(external_osdSharedDeps_RxjsOperators_["distinctUntilChanged"])(),Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(this.stop$)),currentLeftControls$:this.currentLeftControls$.pipe(Object(external_osdSharedDeps_RxjsOperators_["distinctUntilChanged"])(),Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(this.stop$)),currentCenterControls$:this.currentCenterControls$.pipe(Object(external_osdSharedDeps_RxjsOperators_["distinctUntilChanged"])(),Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(this.stop$)),currentRightControls$:this.currentRightControls$.pipe(Object(external_osdSharedDeps_RxjsOperators_["distinctUntilChanged"])(),Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(this.stop$)),currentBadgeControls$:this.currentBadgeControls$.pipe(Object(external_osdSharedDeps_RxjsOperators_["distinctUntilChanged"])(),Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(this.stop$)),currentDescriptionControls$:this.currentDescriptionControls$.pipe(Object(external_osdSharedDeps_RxjsOperators_["distinctUntilChanged"])(),Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(this.stop$)),currentBottomControls$:this.currentBottomControls$.pipe(Object(external_osdSharedDeps_RxjsOperators_["distinctUntilChanged"])(),Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(this.stop$)),setAppLeftControls:mount=>this.setAppLeftControls(this.currentAppId$.value,mount),setAppCenterControls:mount=>this.setAppCenterControls(this.currentAppId$.value,mount),setAppRightControls:mount=>this.setAppRightControls(this.currentAppId$.value,mount),setAppBadgeControls:mount=>this.setAppBadgeControls(this.currentAppId$.value,mount),setAppDescriptionControls:mount=>this.setAppDescriptionControls(this.currentAppId$.value,mount),setAppBottomControls:mount=>this.setAppBottomControls(this.currentAppId$.value,mount),history:this.history,registerMountContext:this.mountContext.registerContext,getUrlForApp:function(appId){let{path:path,absolute:absolute=false}=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const targetApp=applications$.value.get(appId);const relUrl=http.basePath.prepend(getAppUrl(availableMounters,appId,path),{withoutClientBasePath:(targetApp===null||targetApp===void 0?void 0:targetApp.workspaceAvailability)===WorkspaceAvailability.outsideWorkspace});return absolute?relativeToAbsolute(relUrl):relUrl},navigateToApp:navigateToApp,navigateToUrl:async url=>{const appInfo=parseAppUrl(url,http.basePath,this.apps);if(appInfo){return navigateToApp(appInfo.app,{path:appInfo.path})}else{return this.redirectTo(url)}},getComponent:()=>{if(!this.history){return null}return external_osdSharedDeps_React_default.a.createElement(AppRouter,{history:this.history,mounters:availableMounters,appStatuses$:applicationStatuses$,setAppLeaveHandler:this.setAppLeaveHandler,setAppActionMenu:this.setAppActionMenu,setAppLeftControls:this.setAppLeftControls,setAppCenterControls:this.setAppCenterControls,setAppRightControls:this.setAppRightControls,setAppBadgeControls:this.setAppBadgeControls,setAppDescriptionControls:this.setAppDescriptionControls,setAppBottomControls:this.setAppBottomControls,setIsMounting:isMounting=>httpLoadingCount$.next(isMounting?1:0)})}}}async shouldNavigate(overlays){var _this$appInternalStat12;const currentAppId=this.currentAppId$.value;if(currentAppId===undefined){return true}const action=getLeaveAction((_this$appInternalStat12=this.appInternalStates.get(currentAppId))===null||_this$appInternalStat12===void 0?void 0:_this$appInternalStat12.leaveHandler);if(isConfirmAction(action)){const confirmed=await overlays.openConfirm(action.text,{title:action.title,"data-test-subj":"appLeaveConfirmModal"});if(!confirmed){return false}if(action!==null&&action!==void 0&&action.callback){action.callback()}}return true}stop(){this.stop$.next();this.currentAppId$.complete();this.currentActionMenu$.complete();this.currentLeftControls$.complete();this.currentCenterControls$.complete();this.currentRightControls$.complete();this.currentBadgeControls$.complete();this.currentDescriptionControls$.complete();this.currentBottomControls$.complete();this.statusUpdaters$.complete();this.subscriptions.forEach(sub=>sub.unsubscribe());window.removeEventListener("beforeunload",this.onBeforeUnload)}}const updateStatus=(app,statusUpdaters)=>{let changes={};statusUpdaters.forEach(wrapper=>{if(wrapper.application!==allApplicationsFilter&&wrapper.application!==app.id){return}const fields=wrapper.updater(app);if(fields){var _changes$status,_fields$status,_changes$navLinkStatu,_fields$navLinkStatus;changes=application_service_objectSpread(application_service_objectSpread(application_service_objectSpread({},changes),fields),{},{status:Math.max((_changes$status=changes.status)!==null&&_changes$status!==void 0?_changes$status:0,(_fields$status=fields.status)!==null&&_fields$status!==void 0?_fields$status:0),navLinkStatus:Math.max((_changes$navLinkStatu=changes.navLinkStatus)!==null&&_changes$navLinkStatu!==void 0?_changes$navLinkStatu:0,(_fields$navLinkStatus=fields.navLinkStatus)!==null&&_fields$navLinkStatus!==void 0?_fields$navLinkStatus:0)})}});return application_service_objectSpread(application_service_objectSpread({},app),changes)};function to_nav_link_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function to_nav_link_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?to_nav_link_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):to_nav_link_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function toNavLink(app,basePath){const useAppStatus=app.navLinkStatus===AppNavLinkStatus.default;let relativeBaseUrl=basePath.prepend(app.appRoute);if(app.workspaceAvailability===WorkspaceAvailability.outsideWorkspace){relativeBaseUrl=basePath.prepend(app.appRoute,{withoutClientBasePath:true})}const url=to_nav_link_relativeToAbsolute(appendAppPath(relativeBaseUrl,app.defaultPath));const baseUrl=to_nav_link_relativeToAbsolute(relativeBaseUrl);return new nav_link_NavLinkWrapper(to_nav_link_objectSpread(to_nav_link_objectSpread({},app),{},{hidden:useAppStatus?app.status===AppStatus.inaccessible:app.navLinkStatus===AppNavLinkStatus.hidden,disabled:useAppStatus?false:app.navLinkStatus===AppNavLinkStatus.disabled,baseUrl:baseUrl,href:url,url:url}))}function to_nav_link_relativeToAbsolute(url){const a=document.createElement("a");a.setAttribute("href",url);return a.href}class nav_links_service_NavLinksService{constructor(){defineProperty_default()(this,"stop$",new external_osdSharedDeps_Rxjs_["ReplaySubject"](1))}start(_ref){let{application:application,http:http}=_ref;const appLinks$=application.applications$.pipe(Object(external_osdSharedDeps_RxjsOperators_["map"])(apps=>new Map([...apps].filter(_ref2=>{let[,app]=_ref2;return!app.chromeless}).map(_ref3=>{let[appId,app]=_ref3;return[appId,toNavLink(app,http.basePath)]}))));const linkUpdaters$=new external_osdSharedDeps_Rxjs_["BehaviorSubject"]([]);const navLinks$=new external_osdSharedDeps_Rxjs_["BehaviorSubject"](new Map);Object(external_osdSharedDeps_Rxjs_["combineLatest"])([appLinks$,linkUpdaters$]).pipe(Object(external_osdSharedDeps_RxjsOperators_["map"])(_ref4=>{let[appLinks,linkUpdaters]=_ref4;return linkUpdaters.reduce((links,updater)=>updater(links),appLinks)})).subscribe(navlinks=>{navLinks$.next(navlinks)});const forceAppSwitcherNavigation$=new external_osdSharedDeps_Rxjs_["BehaviorSubject"](false);return{getNavLinks$:()=>navLinks$.pipe(Object(external_osdSharedDeps_RxjsOperators_["map"])(sortNavLinks),Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(this.stop$)),get(id){const link=navLinks$.value.get(id);return link&&link.properties},getAll(){return sortNavLinks(navLinks$.value)},has(id){return navLinks$.value.has(id)},showOnly(id){if(!this.has(id)){return}const updater=navLinks=>new Map([...navLinks.entries()].filter(_ref5=>{let[linkId]=_ref5;return linkId===id}));linkUpdaters$.next([...linkUpdaters$.value,updater])},update(id,values){if(!this.has(id)){return}const updater=navLinks=>new Map([...navLinks.entries()].map(_ref6=>{let[linkId,link]=_ref6;return[linkId,link.id===id?link.update(values):link]}));linkUpdaters$.next([...linkUpdaters$.value,updater]);return this.get(id)},enableForcedAppSwitcherNavigation(){forceAppSwitcherNavigation$.next(true)},getForceAppSwitcherNavigation$(){return forceAppSwitcherNavigation$.asObservable()}}}stop(){this.stop$.next()}}function sortNavLinks(navLinks){return Object(external_osdSharedDeps_Lodash_["sortBy"])([...navLinks.values()].map(link=>link.properties),"order")}class persisted_log_PersistedLog{constructor(name,options){let storage=arguments.length>2&&arguments[2]!==undefined?arguments[2]:localStorage;defineProperty_default()(this,"name",void 0);defineProperty_default()(this,"maxLength",void 0);defineProperty_default()(this,"isEqual",void 0);defineProperty_default()(this,"storage",void 0);defineProperty_default()(this,"items$",void 0);this.name=name;this.maxLength=typeof options.maxLength==="string"?this.maxLength=parseInt(options.maxLength,10):options.maxLength;this.isEqual=options.isEqual||external_osdSharedDeps_Lodash_["isEqual"];this.storage=storage;this.items$=new external_osdSharedDeps_Rxjs_["BehaviorSubject"](this.loadItems());if(this.maxLength!==undefined&&!isNaN(this.maxLength)){this.items$.next(Object(external_osdSharedDeps_Lodash_["take"])(this.items$.value,this.maxLength))}}add(val){if(val==null){return this.items$.value}const nextItems=[val,...[...this.items$.value].filter(item=>!this.isEqual(item,val))].slice(0,this.maxLength);this.storage.setItem(this.name,JSON.stringify(nextItems));this.items$.next(nextItems);return nextItems}get(){return Object(external_osdSharedDeps_Lodash_["cloneDeep"])(this.items$.value)}get$(){return this.items$.pipe(Object(external_osdSharedDeps_RxjsOperators_["map"])(items=>Object(external_osdSharedDeps_Lodash_["cloneDeep"])(items)))}loadItems(){try{return JSON.parse(this.storage.getItem(this.name)||"[]")}catch{return[]}}}function shareWeakReplay(bufferSize){return source=>{let subject;const stop$=new external_osdSharedDeps_Rxjs_["Subject"];return new external_osdSharedDeps_Rxjs_["Observable"](observer=>{if(!subject){subject=new external_osdSharedDeps_Rxjs_["ReplaySubject"](bufferSize)}subject.subscribe(observer).add(()=>{if(!subject){return}if(subject.observers.length===0){stop$.next()}if(subject.closed||subject.isStopped){subject=undefined}});if(subject&&subject.observers.length===1){source.pipe(Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(stop$)).subscribe(subject)}})}}var sha256=__webpack_require__(152);function context_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function context_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?context_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):context_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}class context_ContextContainer{constructor(pluginDependencies,coreId){var _this=this;this.pluginDependencies=pluginDependencies;this.coreId=coreId;defineProperty_default()(this,"contextProviders",new Map);defineProperty_default()(this,"contextNamesBySource",void 0);defineProperty_default()(this,"registerContext",(source,contextName,provider)=>{if(this.contextProviders.has(contextName)){throw new Error(`Context provider for ${contextName} has already been registered.`)}if(source!==this.coreId&&!this.pluginDependencies.has(source)){throw new Error(`Cannot register context for unknown plugin: ${source.toString()}`)}this.contextProviders.set(contextName,{provider:provider,source:source});this.contextNamesBySource.set(source,[...this.contextNamesBySource.get(source)||[],contextName]);return this});defineProperty_default()(this,"createHandler",(source,handler)=>{if(source!==this.coreId&&!this.pluginDependencies.has(source)){throw new Error(`Cannot create handler for unknown plugin: ${source.toString()}`)}return async function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}const context=await _this.buildContext(source,...args);return handler(context,...args)}});this.contextNamesBySource=new Map([[coreId,[]]])}async buildContext(source){for(var _len2=arguments.length,contextArgs=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){contextArgs[_key2-1]=arguments[_key2]}const contextsToBuild=new Set(this.getContextNamesForSource(source));return[...this.contextProviders].sort(sortByCoreFirst(this.coreId)).filter(_ref=>{let[contextName]=_ref;return contextsToBuild.has(contextName)}).reduce(async(contextPromise,_ref2)=>{let[contextName,{provider:provider,source:providerSource}]=_ref2;const resolvedContext=await contextPromise;const exposedContext=pick(resolvedContext,[...this.getContextNamesForSource(providerSource)]);return context_objectSpread(context_objectSpread({},resolvedContext),{},{[contextName]:await provider(exposedContext,...contextArgs)})},Promise.resolve({}))}getContextNamesForSource(source){if(source===this.coreId){return this.getContextNamesForCore()}else{return this.getContextNamesForPluginId(source)}}getContextNamesForCore(){return new Set(this.contextNamesBySource.get(this.coreId))}getContextNamesForPluginId(pluginId){const pluginDeps=this.pluginDependencies.get(pluginId);if(!pluginDeps){throw new Error(`Cannot create context for unknown plugin: ${pluginId.toString()}`)}return new Set([...this.contextNamesBySource.get(this.coreId),...this.contextNamesBySource.get(pluginId)||[],...Object(external_osdSharedDeps_Lodash_["flatten"])(pluginDeps.map(p=>this.contextNamesBySource.get(p)||[]))])}}const sortByCoreFirst=coreId=>(_ref3,_ref4)=>{let[leftName,leftProvider]=_ref3;let[rightName,rightProvider]=_ref4;if(leftProvider.source===coreId){return rightProvider.source===coreId?0:-1}else{return rightProvider.source===coreId?1:0}};var external_osdSharedDeps_OsdI18n_=__webpack_require__(3);const DEFAULT_APP_CATEGORIES=Object.freeze({opensearchDashboards:{id:"opensearchDashboards",label:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.opensearchDashboardsNavList.label",{defaultMessage:"OpenSearch Dashboards"}),euiIconType:"inputOutput",order:1e3},enterpriseSearch:{id:"enterpriseSearch",label:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.enterpriseSearchNavList.label",{defaultMessage:"Enterprise Search"}),order:2e3,euiIconType:"logoEnterpriseSearch"},observability:{id:"observability",label:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.observabilityNavList.label",{defaultMessage:"Observability"}),euiIconType:"logoObservability",order:3e3},security:{id:"securitySolution",label:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.securityNavList.label",{defaultMessage:"Security"}),order:4e3,euiIconType:"logoSecurity"},management:{id:"management",label:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.managementNavList.label",{defaultMessage:"Management"}),order:5e3,euiIconType:"managementApp"},investigate:{id:"investigate",label:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.investigate.label",{defaultMessage:"Investigate"}),order:2e3},dashboardAndReport:{id:"visualizeAndReport",label:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.visualizeAndReport.label",{defaultMessage:"Visualize and report"}),order:2e3},visualizeAndReport:{id:"visualizeAndReport",label:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.visualizeAndReport.label",{defaultMessage:"Visualize and report"}),order:1e3},analyzeSearch:{id:"analyzeSearch",label:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.analyzeSearch.label",{defaultMessage:"Analyze search"}),order:4e3},detect:{id:"detect",label:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.detect.label",{defaultMessage:"Detect"}),order:8e3},configure:{id:"configure",label:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.configure.label",{defaultMessage:"Configure"}),order:3e3},manage:{id:"manage",label:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.manageNav.label",{defaultMessage:"Manage"}),order:8e3},manageData:{id:"manageData",label:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.manageDataNav.label",{defaultMessage:"Manage data"}),order:1e3},manageWorkspace:{id:"manageWorkspace",label:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.manageWorkspaceNav.label",{defaultMessage:"Manage workspace"}),order:9e3}});const WORKSPACE_TYPE="workspace";const WORKSPACE_PATH_PREFIX="/w";const getWorkspaceIdFromUrl=(url,basePath)=>{const regexp=new RegExp(`^${basePath||""}/w/([^/]*)`);const urlObject=new URL(url);const matchedResult=urlObject.pathname.match(regexp);if(matchedResult){return matchedResult[1]}return""};const cleanWorkspaceId=path=>path.replace(/^\/w\/([^\/]*)/,"");const formatUrlWithWorkspaceId=(url,workspaceId,basePath)=>{const newUrl=new URL(url,window.location.href);newUrl.pathname=basePath.remove(newUrl.pathname);if(workspaceId){newUrl.pathname=`${WORKSPACE_PATH_PREFIX}/${workspaceId}${newUrl.pathname}`}else{newUrl.pathname=cleanWorkspaceId(newUrl.pathname)}newUrl.pathname=basePath.prepend(newUrl.pathname,{withoutClientBasePath:true});return newUrl.toString()};let UiSettingScope=function(UiSettingScope){UiSettingScope["GLOBAL"]="global";UiSettingScope["USER"]="user";UiSettingScope["WORKSPACE"]="workspace";return UiSettingScope}({});let PermissionModeId=function(PermissionModeId){PermissionModeId["Read"]="read";PermissionModeId["ReadAndWrite"]="read+write";PermissionModeId["Owner"]="owner";return PermissionModeId}({});let WorkspacePermissionMode=function(WorkspacePermissionMode){WorkspacePermissionMode["Read"]="read";WorkspacePermissionMode["Write"]="write";WorkspacePermissionMode["LibraryRead"]="library_read";WorkspacePermissionMode["LibraryWrite"]="library_write";return WorkspacePermissionMode}({});let NavGroupType=function(NavGroupType){NavGroupType["SYSTEM"]="system";return NavGroupType}({});let NavGroupStatus=function(NavGroupStatus){NavGroupStatus[NavGroupStatus["Visible"]=0]="Visible";NavGroupStatus[NavGroupStatus["Hidden"]=1]="Hidden";return NavGroupStatus}({});const ALL_USE_CASE_ID="all";const OBSERVABILITY_USE_CASE_ID="observability";const SECURITY_ANALYTICS_USE_CASE_ID="security-analytics";const ESSENTIAL_USE_CASE_ID="essentials";const SEARCH_USE_CASE_ID="search";const defaultNavGroups={dataAdministration:{id:"dataAdministration",title:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.group.dataAdministration.title",{defaultMessage:"Data administration"}),description:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.group.dataAdministration.description",{defaultMessage:"Apply policies or security on your data."}),order:1e3,type:NavGroupType.SYSTEM,icon:"database"},settingsAndSetup:{id:"settingsAndSetup",title:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.group.settingsAndSetup.title",{defaultMessage:"Settings and setup"}),description:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.group.settingsAndSetup.description",{defaultMessage:"Set up your cluster with index patterns."}),order:2e3,type:NavGroupType.SYSTEM,icon:"gear"},all:{id:ALL_USE_CASE_ID,title:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.group.all.title",{defaultMessage:"Analytics"}),description:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.group.all.description",{defaultMessage:"If you arent sure where to start with OpenSearch, or if you have needs that cut across multiple use cases."}),order:3e3,icon:"wsAnalytics"},observability:{id:OBSERVABILITY_USE_CASE_ID,title:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.group.observability.title",{defaultMessage:"Observability"}),description:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.group.observability.description",{defaultMessage:"Gain visibility into system health, performance, and reliability through monitoring of logs, metrics and traces."}),order:4e3,icon:"wsObservability"},"security-analytics":{id:SECURITY_ANALYTICS_USE_CASE_ID,title:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.group.security.analytics.title",{defaultMessage:"Security Analytics"}),description:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.group.security.analytics.description",{defaultMessage:"Detect and investigate potential security threats and vulnerabilities across your systems and data."}),order:5e3,icon:"wsSecurityAnalytics"},essentials:{id:ESSENTIAL_USE_CASE_ID,title:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.group.essential.title",{defaultMessage:"Essentials"}),description:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.group.essential.description",{defaultMessage:"Analyze data to derive insights, identify patterns and trends, and make data-driven decisions."}),order:7e3,icon:"wsEssentials"},search:{id:SEARCH_USE_CASE_ID,title:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.group.search.title",{defaultMessage:"Search"}),description:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.group.search.description",{defaultMessage:"Quickly find and explore relevant information across your organization's data sources."}),order:6e3,icon:"wsSearch"}};const DEFAULT_NAV_GROUPS=Object.freeze(defaultNavGroups);const debounce=(func,delay,leading)=>{let timerId;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}if(!timerId&&leading){func(...args)}clearTimeout(timerId);timerId=setTimeout(()=>func(...args),delay)}};const useObservableValue=(observableValue$,initialValue)=>{const initialValueRef=Object(external_osdSharedDeps_React_["useRef"])(initialValue?{value:initialValue}:undefined);const observable$=Object(external_osdSharedDeps_React_["useMemo"])(()=>observableValue$.pipe(Object(external_osdSharedDeps_RxjsOperators_["map"])(value=>({value:value}))),[observableValue$]);const observableValue=useObservable_default()(observable$,initialValueRef.current);return observableValue===null||observableValue===void 0?void 0:observableValue.value};async function createLogKey(type,optionalIdentifier){const baseKey=`opensearchDashboards.history.${type}`;if(!optionalIdentifier){return baseKey}const protectedIdentifier=(new sha256["a"]).update(optionalIdentifier,"utf8").digest("base64");return`${baseKey}-${protectedIdentifier}`}function recently_accessed_service_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function recently_accessed_service_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?recently_accessed_service_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):recently_accessed_service_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}class recently_accessed_service_RecentlyAccessedService{async start(_ref){let{http:http,workspaces:workspaces,application:application}=_ref;const logKey=await createLogKey("recentlyAccessed",http.basePath.getBasePath());const history=new persisted_log_PersistedLog(logKey,{maxLength:20,isEqual:(oldItem,newItem)=>oldItem.id===newItem.id});const workspaceEnabled=application.capabilities.workspaces.enabled;return{add:(link,label,id,meta)=>{const currentWorkspaceId=workspaces.currentWorkspaceId$.getValue();history.add(recently_accessed_service_objectSpread(recently_accessed_service_objectSpread({link:link,label:label,id:id},currentWorkspaceId&&{workspaceId:currentWorkspaceId}),meta&&{meta:recently_accessed_service_objectSpread({lastAccessedTime:Date.now()},meta)}))},get:()=>history.get().filter(item=>workspaceEnabled?!!item.workspaceId:true),get$:()=>history.get$().pipe(Object(external_osdSharedDeps_RxjsOperators_["map"])(items=>items.filter(item=>workspaceEnabled?!!item.workspaceId:true)))}}}var classnames=__webpack_require__(18);var classnames_default=__webpack_require__.n(classnames);class loading_indicator_LoadingIndicator extends external_osdSharedDeps_React_default.a.Component{constructor(){super(...arguments);defineProperty_default()(this,"loadingCountSubscription",void 0);defineProperty_default()(this,"state",{visible:false})}componentDidMount(){this.loadingCountSubscription=this.props.loadingCount$.subscribe(count=>{this.setState({visible:count>0})})}componentWillUnmount(){if(this.loadingCountSubscription){this.loadingCountSubscription.unsubscribe();this.loadingCountSubscription=undefined}}render(){const className=classnames_default()(!this.state.visible&&"osdLoadingIndicator-hidden");const testSubj=this.state.visible?"globalLoadingIndicator":"globalLoadingIndicator-hidden";const ariaHidden=this.state.visible?false:true;const ariaLabel=external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.loadingIndicatorAriaLabel",{defaultMessage:"Loading content"});return!this.props.showAsBar?external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiLoadingSpinner"],{className:className,"data-test-subj":testSubj,"aria-hidden":ariaHidden,"aria-label":ariaLabel}):external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiProgress"],{className:className,"data-test-subj":testSubj,"aria-hidden":ariaHidden,"aria-label":ariaLabel,position:"fixed",color:"accent",size:"xs"})}}defineProperty_default()(loading_indicator_LoadingIndicator,"defaultProps",{showAsBar:false});var helpers_extends=__webpack_require__(22);var extends_default=__webpack_require__.n(helpers_extends);class priority_map_PriorityMap{constructor(map){defineProperty_default()(this,"map",void 0);this.map=map?new Map(sortEntries(map)):new Map}add(key,value){return new priority_map_PriorityMap(new Map(sortEntries([...this.map,[key,value]])))}remove(key){return new priority_map_PriorityMap(new Map([...this.map].filter(_ref=>{let[itemKey]=_ref;return itemKey!==key})))}has(key){return this.map.has(key)}[Symbol.iterator](){return this.map[Symbol.iterator]()}values(){return this.map.values()}}const sortEntries=map=>Object(external_osdSharedDeps_Lodash_["sortBy"])([...map],"1.priority").reverse();const BannersList=_ref=>{let{banners$:banners$}=_ref;const[banners,setBanners]=Object(external_osdSharedDeps_React_["useState"])([]);Object(external_osdSharedDeps_React_["useEffect"])(()=>{const subscription=banners$.subscribe(setBanners);return()=>subscription.unsubscribe()},[banners$]);if(banners.length===0){return null}return external_osdSharedDeps_React_default.a.createElement("div",{className:"osdGlobalBannerList"},banners.map(banner=>external_osdSharedDeps_React_default.a.createElement(BannerItem,{key:banner.id,banner:banner})))};const BannerItem=_ref2=>{let{banner:banner}=_ref2;const element=Object(external_osdSharedDeps_React_["useRef"])(null);Object(external_osdSharedDeps_React_["useEffect"])(()=>banner.mount(element.current),[banner]);return external_osdSharedDeps_React_default.a.createElement("div",{"data-test-priority":banner.priority,className:"osdGlobalBannerList__item",ref:element})};const ReactMarkdownLazy=external_osdSharedDeps_React_default.a.lazy(()=>__webpack_require__.e(3).then(__webpack_require__.t.bind(null,996,7)));class user_banner_service_UserBannerService{constructor(){defineProperty_default()(this,"settingsSubscription",void 0)}start(_ref){let{banners:banners,i18n:i18n,uiSettings:uiSettings}=_ref;let id;let timeout;const dismiss=()=>{banners.remove(id);clearTimeout(timeout)};const updateBanner=()=>{const content=uiSettings.get("notifications:banner");const lifetime=uiSettings.get("notifications:lifetime:banner");if(typeof content!=="string"||content.length===0||typeof lifetime!=="number"){dismiss();return}id=banners.replace(id,el=>{external_osdSharedDeps_ReactDom_default.a.render(external_osdSharedDeps_React_default.a.createElement(i18n.Context,null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCallOut"],{title:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"core.ui.overlays.banner.attentionTitle",defaultMessage:"Attention"}),iconType:"help"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Suspense,{fallback:external_osdSharedDeps_React_default.a.createElement("div",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiLoadingSpinner"],null))},external_osdSharedDeps_React_default.a.createElement(ReactMarkdownLazy,{renderers:{root:external_osdSharedDeps_React_["Fragment"]},source:content.trim()})),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiButton"],{type:"primary",size:"s",onClick:()=>banners.remove(id)},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"core.ui.overlays.banner.closeButtonLabel",defaultMessage:"Close"})))),el);timeout=setTimeout(dismiss,lifetime);return()=>external_osdSharedDeps_ReactDom_default.a.unmountComponentAtNode(el)},100)};updateBanner();this.settingsSubscription=uiSettings.getUpdate$().pipe(Object(external_osdSharedDeps_RxjsOperators_["filter"])(_ref2=>{let{key:key}=_ref2;return key==="notifications:banner"||key==="notifications:lifetime:banner"})).subscribe(()=>updateBanner())}stop(){if(this.settingsSubscription){this.settingsSubscription.unsubscribe();this.settingsSubscription=undefined}}}class banners_service_OverlayBannersService{constructor(){defineProperty_default()(this,"userBanner",new user_banner_service_UserBannerService)}start(_ref){let{i18n:i18n,uiSettings:uiSettings}=_ref;let uniqueId=0;const genId=()=>`${uniqueId++}`;const banners$=new external_osdSharedDeps_Rxjs_["BehaviorSubject"](new priority_map_PriorityMap);const service={add:function(mount){let priority=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;const id=genId();const nextBanner={id:id,mount:mount,priority:priority};banners$.next(banners$.value.add(id,nextBanner));return id},remove:id=>{if(!banners$.value.has(id)){return false}banners$.next(banners$.value.remove(id));return true},replace(id,mount){let priority=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;if(!id||!banners$.value.has(id)){return this.add(mount,priority)}const nextId=genId();const nextBanner={id:nextId,mount:mount,priority:priority};banners$.next(banners$.value.remove(id).add(nextId,nextBanner));return nextId},get$(){return banners$.pipe(Object(external_osdSharedDeps_RxjsOperators_["map"])(bannerMap=>[...bannerMap.values()]))},getComponent(){return external_osdSharedDeps_React_default.a.createElement(BannersList,{banners$:this.get$()})}};this.userBanner.start({banners:service,i18n:i18n,uiSettings:uiSettings});return service}stop(){this.userBanner.stop()}}class flyout_service_FlyoutRef{constructor(){defineProperty_default()(this,"onClose",void 0);defineProperty_default()(this,"closeSubject",new external_osdSharedDeps_Rxjs_["Subject"]);this.onClose=this.closeSubject.toPromise()}close(){if(!this.closeSubject.closed){this.closeSubject.next();this.closeSubject.complete()}return this.onClose}}class flyout_service_FlyoutService{constructor(){defineProperty_default()(this,"activeFlyout",null);defineProperty_default()(this,"targetDomElement",null)}start(_ref){var _this=this;let{i18n:i18n,targetDomElement:targetDomElement}=_ref;this.targetDomElement=targetDomElement;return{open:function(mount){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(_this.activeFlyout){_this.activeFlyout.close();_this.cleanupDom()}const flyout=new flyout_service_FlyoutRef;flyout.onClose.then(()=>{if(_this.activeFlyout===flyout){_this.cleanupDom()}});_this.activeFlyout=flyout;Object(external_osdSharedDeps_ReactDom_["render"])(external_osdSharedDeps_React_default.a.createElement(i18n.Context,null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlyout"],extends_default()({},options,{onClose:()=>flyout.close()}),external_osdSharedDeps_React_default.a.createElement(MountWrapper,{mount:mount,className:"osdOverlayMountWrapper"}))),_this.targetDomElement);return flyout},close:()=>{if(this.activeFlyout){this.activeFlyout.close();this.cleanupDom()}}}}cleanupDom(){if(this.targetDomElement!=null){Object(external_osdSharedDeps_ReactDom_["unmountComponentAtNode"])(this.targetDomElement);this.targetDomElement.innerHTML=""}this.activeFlyout=null}}function modal_service_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function modal_service_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?modal_service_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):modal_service_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}class modal_service_ModalRef{constructor(){defineProperty_default()(this,"onClose",void 0);defineProperty_default()(this,"closeSubject",new external_osdSharedDeps_Rxjs_["Subject"]);this.onClose=this.closeSubject.toPromise()}close(){if(!this.closeSubject.closed){this.closeSubject.next();this.closeSubject.complete()}return this.onClose}}class modal_service_ModalService{constructor(){defineProperty_default()(this,"activeModal",null);defineProperty_default()(this,"targetDomElement",null)}start(_ref){var _this=this;let{i18n:i18n,targetDomElement:targetDomElement}=_ref;this.targetDomElement=targetDomElement;return{open:function(mount){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(_this.activeModal){_this.activeModal.close();_this.cleanupDom()}const modal=new modal_service_ModalRef;modal.onClose.then(()=>{if(_this.activeModal===modal){_this.cleanupDom()}});_this.activeModal=modal;Object(external_osdSharedDeps_ReactDom_["render"])(external_osdSharedDeps_React_default.a.createElement(i18n.Context,null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiModal"],extends_default()({},options,{onClose:()=>modal.close()}),external_osdSharedDeps_React_default.a.createElement(MountWrapper,{mount:mount,className:"osdOverlayMountWrapper"}))),targetDomElement);return modal},openConfirm:(message,options)=>{if(this.activeModal){this.activeModal.close();this.cleanupDom()}return new Promise((resolve,reject)=>{let resolved=false;const closeModal=confirmed=>{resolved=true;modal.close();resolve(confirmed)};const modal=new modal_service_ModalRef;modal.onClose.then(()=>{if(this.activeModal===modal){this.cleanupDom()}if(!resolved){closeModal(false)}});this.activeModal=modal;const props=modal_service_objectSpread(modal_service_objectSpread({},options),{},{children:typeof message==="string"?message:external_osdSharedDeps_React_default.a.createElement(MountWrapper,{mount:message,className:"osdOverlayMountWrapper"}),onCancel:()=>closeModal(false),onConfirm:()=>closeModal(true),cancelButtonText:(options===null||options===void 0?void 0:options.cancelButtonText)||external_osdSharedDeps_OsdI18n_["i18n"].translate("core.overlays.confirm.cancelButton",{defaultMessage:"Cancel"}),confirmButtonText:(options===null||options===void 0?void 0:options.confirmButtonText)||external_osdSharedDeps_OsdI18n_["i18n"].translate("core.overlays.confirm.okButton",{defaultMessage:"Confirm"})});Object(external_osdSharedDeps_ReactDom_["render"])(external_osdSharedDeps_React_default.a.createElement(i18n.Context,null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiConfirmModal"],props)),targetDomElement)})}}}cleanupDom(){if(this.targetDomElement!=null){Object(external_osdSharedDeps_ReactDom_["unmountComponentAtNode"])(this.targetDomElement);this.targetDomElement.innerHTML=""}this.activeModal=null}}var components_sidecar=__webpack_require__(269);var resizable_button=__webpack_require__(282);function isMouseEvent(event){return typeof event==="object"&&"pageX"in event&&"pageY"in event}const getPosition=(event,isHorizontal)=>{const clientX=isMouseEvent(event)?event.clientX:event.touches[0].clientX;const clientY=isMouseEvent(event)?event.clientY:event.touches[0].clientY;return isHorizontal?clientX:clientY};const getOsdSidecarPaddingStyle=config=>{if(!(config!==null&&config!==void 0&&config.isHidden)&&((config===null||config===void 0?void 0:config.dockedMode)===SIDECAR_DOCKED_MODE.LEFT||(config===null||config===void 0?void 0:config.dockedMode)===SIDECAR_DOCKED_MODE.RIGHT)){const{dockedMode:dockedMode,paddingSize:paddingSize}=config;return{[`padding${dockedMode===SIDECAR_DOCKED_MODE.LEFT?"Left":"Right"}`]:paddingSize}}return{}};const MIN_SIDECAR_SIZE=350;const ResizableButton=_ref=>{let{dockedMode:dockedMode,onResize:onResize,flyoutSize:flyoutSize}=_ref;const isHorizontal=dockedMode!==SIDECAR_DOCKED_MODE.TAKEOVER;const classes=classnames_default()("sidecar-resizableButton",{"resizableButton--vertical":!isHorizontal,"resizableButton--horizontal":isHorizontal});const initialMouseXorY=Object(external_osdSharedDeps_React_["useRef"])(0);const initialFlyoutSize=Object(external_osdSharedDeps_React_["useRef"])(flyoutSize);const setFocus=e=>e.currentTarget.focus();const onMouseDown=Object(external_osdSharedDeps_React_["useCallback"])(event=>{const onMouseUp=()=>{initialMouseXorY.current=0;window.removeEventListener("mousemove",onMouseMove);window.removeEventListener("mouseup",onMouseUp);window.removeEventListener("touchmove",onMouseMove);window.removeEventListener("touchend",onMouseUp)};const onMouseMove=e=>{let offset;if(dockedMode===SIDECAR_DOCKED_MODE.LEFT){offset=getPosition(e,isHorizontal)-initialMouseXorY.current}else{offset=initialMouseXorY.current-getPosition(e,isHorizontal)}const newFlyoutSize=initialFlyoutSize.current+offset;onResize(Math.max(newFlyoutSize,MIN_SIDECAR_SIZE))};window.addEventListener("mousemove",onMouseMove);window.addEventListener("mouseup",onMouseUp);window.addEventListener("touchmove",onMouseMove);window.addEventListener("touchend",onMouseUp);initialMouseXorY.current=getPosition(event,isHorizontal);initialFlyoutSize.current=flyoutSize},[isHorizontal,flyoutSize,dockedMode,onResize]);return external_osdSharedDeps_React_default.a.createElement("button",{className:classes,"data-test-subj":"resizableButton",type:"button",onClick:setFocus,onMouseDown:onMouseDown,onTouchStart:onMouseDown})};const Sidecar=_ref=>{var _sidecarConfig$paddin;let{sidecarConfig$:sidecarConfig$,options:options,setSidecarConfig:setSidecarConfig,i18n:i18n,mount:mount}=_ref;const sidecarConfig=useObservable_default()(sidecarConfig$,undefined);const classes=classnames_default()("osdSidecarFlyout",{"osdSidecarFlyout--dockedRight":(sidecarConfig===null||sidecarConfig===void 0?void 0:sidecarConfig.dockedMode)===SIDECAR_DOCKED_MODE.RIGHT,"osdSidecarFlyout--dockedLeft":(sidecarConfig===null||sidecarConfig===void 0?void 0:sidecarConfig.dockedMode)===SIDECAR_DOCKED_MODE.LEFT,"osdSidecarFlyout--dockedTakeover":(sidecarConfig===null||sidecarConfig===void 0?void 0:sidecarConfig.dockedMode)===SIDECAR_DOCKED_MODE.TAKEOVER,"osdSidecarFlyout--hide":(sidecarConfig===null||sidecarConfig===void 0?void 0:sidecarConfig.isHidden)===true},options.className);const handleResize=Object(external_osdSharedDeps_React_["useCallback"])(newSize=>{setSidecarConfig({paddingSize:newSize})},[setSidecarConfig]);const flyoutSizeStyle=Object(external_osdSharedDeps_React_["useMemo"])(()=>(sidecarConfig===null||sidecarConfig===void 0?void 0:sidecarConfig.dockedMode)===SIDECAR_DOCKED_MODE.TAKEOVER?{height:sidecarConfig===null||sidecarConfig===void 0?void 0:sidecarConfig.paddingSize}:{width:sidecarConfig===null||sidecarConfig===void 0?void 0:sidecarConfig.paddingSize},[sidecarConfig]);return external_osdSharedDeps_React_default.a.createElement(i18n.Context,null,external_osdSharedDeps_React_default.a.createElement("div",{"data-test-subj":options["data-test-subj"],style:flyoutSizeStyle,className:classes},external_osdSharedDeps_React_default.a.createElement(ResizableButton,{onResize:handleResize,dockedMode:sidecarConfig===null||sidecarConfig===void 0?void 0:sidecarConfig.dockedMode,flyoutSize:(_sidecarConfig$paddin=sidecarConfig===null||sidecarConfig===void 0?void 0:sidecarConfig.paddingSize)!==null&&_sidecarConfig$paddin!==void 0?_sidecarConfig$paddin:0}),external_osdSharedDeps_React_default.a.createElement(MountWrapper,{mount:mount,className:"osdSidecarMountWrapper"})))};function sidecar_service_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function sidecar_service_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?sidecar_service_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):sidecar_service_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}class sidecar_service_SidecarRef{constructor(){defineProperty_default()(this,"onClose",void 0);defineProperty_default()(this,"closeSubject",new external_osdSharedDeps_Rxjs_["Subject"]);this.onClose=this.closeSubject.toPromise()}close(){if(!this.closeSubject.closed){this.closeSubject.next();this.closeSubject.complete()}return this.onClose}}let SIDECAR_DOCKED_MODE=function(SIDECAR_DOCKED_MODE){SIDECAR_DOCKED_MODE["LEFT"]="left";SIDECAR_DOCKED_MODE["RIGHT"]="right";SIDECAR_DOCKED_MODE["TAKEOVER"]="takeover";return SIDECAR_DOCKED_MODE}({});class sidecar_service_SidecarService{constructor(){defineProperty_default()(this,"activeSidecar",null);defineProperty_default()(this,"targetDomElement",null);defineProperty_default()(this,"stop$",new external_osdSharedDeps_Rxjs_["ReplaySubject"](1))}start(_ref){let{i18n:i18n,targetDomElement:targetDomElement}=_ref;this.targetDomElement=targetDomElement;const sidecarConfig$=new external_osdSharedDeps_Rxjs_["BehaviorSubject"](undefined);const getSidecarConfig$=()=>sidecarConfig$.pipe(Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(this.stop$));const setSidecarConfig=config=>{if(sidecarConfig$.value||!sidecarConfig$.value&&config.dockedMode&&config.paddingSize){sidecarConfig$.next(sidecar_service_objectSpread(sidecar_service_objectSpread({},sidecarConfig$.value),config))}};return{getSidecarConfig$:getSidecarConfig$,setSidecarConfig:setSidecarConfig,open:(mount,options)=>{if(this.activeSidecar){setSidecarConfig({paddingSize:0});this.activeSidecar.close();this.cleanupDom()}const sidecar=new sidecar_service_SidecarRef;setSidecarConfig(options.config);sidecar.onClose.then(()=>{if(this.activeSidecar===sidecar){this.cleanupDom()}});this.activeSidecar=sidecar;Object(external_osdSharedDeps_ReactDom_["render"])(external_osdSharedDeps_React_default.a.createElement(Sidecar,{sidecarConfig$:sidecarConfig$,setSidecarConfig:setSidecarConfig,options:options,i18n:i18n,mount:mount}),this.targetDomElement);return sidecar},hide:()=>{setSidecarConfig({isHidden:true})},show:()=>{setSidecarConfig({isHidden:false})}}}cleanupDom(){if(this.targetDomElement!=null){Object(external_osdSharedDeps_ReactDom_["unmountComponentAtNode"])(this.targetDomElement);this.targetDomElement.innerHTML=""}this.activeSidecar=null}}class overlay_service_OverlayService{constructor(){defineProperty_default()(this,"bannersService",new banners_service_OverlayBannersService);defineProperty_default()(this,"modalService",new modal_service_ModalService);defineProperty_default()(this,"flyoutService",new flyout_service_FlyoutService);defineProperty_default()(this,"sidecarService",new sidecar_service_SidecarService)}start(_ref){let{i18n:i18n,targetDomElement:targetDomElement,uiSettings:uiSettings}=_ref;const flyoutElement=document.createElement("div");targetDomElement.appendChild(flyoutElement);const flyouts=this.flyoutService.start({i18n:i18n,targetDomElement:flyoutElement});const banners=this.bannersService.start({i18n:i18n,uiSettings:uiSettings});const modalElement=document.createElement("div");targetDomElement.appendChild(modalElement);const modals=this.modalService.start({i18n:i18n,targetDomElement:modalElement});const sidecarElement=document.createElement("div");targetDomElement.appendChild(sidecarElement);const sidecars=this.sidecarService.start({i18n:i18n,targetDomElement:sidecarElement});return{banners:banners,openFlyout:flyouts.open.bind(flyouts),closeFlyout:flyouts.close.bind(flyouts),openModal:modals.open.bind(modals),openConfirm:modals.openConfirm.bind(modals),sidecar:sidecars}}}var collapsible_nav=__webpack_require__(295);function nav_link_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function nav_link_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?nav_link_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nav_link_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const isModifiedOrPrevented=event=>event.metaKey||event.altKey||event.ctrlKey||event.shiftKey||event.defaultPrevented;const aliasedApps={discover:["data-explorer"]};const isActiveNavLink=(appId,linkId)=>{var _aliasedApps$linkId;return!!(appId===linkId||(_aliasedApps$linkId=aliasedApps[linkId])!==null&&_aliasedApps$linkId!==void 0&&_aliasedApps$linkId.includes(appId||""))};function createEuiListItem(_ref){let{link:link,appId:appId,basePath:basePath,onClick:onClick=(()=>{}),navigateToApp:navigateToApp,dataTestSubj:dataTestSubj,externalLink:externalLink=false}=_ref;const{href:href,id:id,title:title,disabled:disabled,euiIconType:euiIconType,icon:icon,tooltip:tooltip}=link;return nav_link_objectSpread({label:tooltip!==null&&tooltip!==void 0?tooltip:title,href:href,onClick(event){if(!isModifiedOrPrevented(event)){onClick(event)}if(!externalLink&&event.button===0&&!isModifiedOrPrevented(event)){event.preventDefault();navigateToApp(id)}},isActive:isActiveNavLink(appId,id),isDisabled:disabled,"data-test-subj":dataTestSubj},basePath&&{iconType:euiIconType,icon:!euiIconType&&icon?external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiIcon"],{type:basePath.prepend(`/${icon}`),size:"m"}):undefined})}function createRecentNavLink(recentLink,navLinks,basePath,navigateToUrl){let workspaceEnabled=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;const{link:link,label:label,workspaceId:workspaceId}=recentLink;const href=to_nav_link_relativeToAbsolute(basePath.prepend(workspaceEnabled?formatUrlWithWorkspaceId(link,workspaceId||"",basePath):link,{withoutClientBasePath:true}));const navLink=navLinks.find(nl=>href.startsWith(nl.baseUrl));let titleAndAriaLabel=label;if(navLink){titleAndAriaLabel=external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.recentLinks.linkItem.screenReaderLabel",{defaultMessage:"{recentlyAccessedItemLinklabel}, type: {pageType}",values:{recentlyAccessedItemLinklabel:label,pageType:navLink.title}})}return{href:href,label:label,title:titleAndAriaLabel,"aria-label":titleAndAriaLabel,iconType:navLink===null||navLink===void 0?void 0:navLink.euiIconType,onClick(event){if(event.button===0&&!isModifiedOrPrevented(event)){event.preventDefault();navigateToUrl(href)}}}}const utils_excluded=["undefined"];function utils_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function utils_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?utils_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):utils_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const sortBy=key=>(a,b)=>a[key]>b[key]?1:b[key]>a[key]?-1:0;const groupBy=(array,getKey)=>array.reduce((result,currentValue)=>{const groupKey=String(getKey(currentValue));if(!result[groupKey]){result[groupKey]=[]}result[groupKey].push(currentValue);return result},{});const LinkItemType={LINK:"link",CATEGORY:"category",PARENT_LINK:"parentLink"};function getAllCategories(allCategorizedLinks){const allCategories={};for(const[key,value]of Object.entries(allCategorizedLinks)){allCategories[key]=value[0].category}return allCategories}function fulfillRegistrationLinksToChromeNavLinks(registerNavLinks,navLinks){const allExistingNavLinkId=navLinks.map(link=>link.id);return registerNavLinks.filter(navLink=>allExistingNavLinkId.includes(navLink.id)).map(navLink=>utils_objectSpread(utils_objectSpread({},navLinks[allExistingNavLinkId.indexOf(navLink.id)]),navLink))||[]}const getOrderedLinks=navLinks=>navLinks.sort(sortBy("order"));function walkLinkItemsTree(props,callback){props.linkItems.forEach(item=>{callback({parentItem:props.parentItem,currentItem:item});if(item.itemType===LinkItemType.PARENT_LINK){walkLinkItemsTree({linkItems:item.links,parentItem:item},callback)}else if(item.itemType===LinkItemType.CATEGORY){walkLinkItemsTree({linkItems:item.links||[],parentItem:item},callback)}})}const generateItemTypeByLink=(navLink,navLinksGroupedByParentNavLink)=>{const navLinksUnderParentId=navLinksGroupedByParentNavLink[navLink.id];if(navLinksUnderParentId){return{itemType:LinkItemType.PARENT_LINK,link:navLink,links:getOrderedLinks(navLinksUnderParentId||[]).map(navLinkUnderParentId=>generateItemTypeByLink(navLinkUnderParentId,navLinksGroupedByParentNavLink)),order:navLink.order}}else{return{itemType:LinkItemType.LINK,link:navLink,order:navLink.order}}};function getOrderedLinksOrCategories(navLinks){const allNavLinksWithParentNavLink=navLinks.filter(navLink=>navLink.parentNavLinkId);const navLinksGroupedByParentNavLink=groupBy(allNavLinksWithParentNavLink,navLink=>navLink.parentNavLinkId);const groupedNavLinks=groupBy(navLinks.filter(item=>!item.parentNavLinkId),link=>{var _link$category;return link===null||link===void 0||(_link$category=link.category)===null||_link$category===void 0?void 0:_link$category.id});const{undefined:unknowns=[]}=groupedNavLinks,allCategorizedLinks=objectWithoutProperties_default()(groupedNavLinks,utils_excluded);const categoryDictionary=getAllCategories(allCategorizedLinks);const unusedParentNavLinks=Object.keys(navLinksGroupedByParentNavLink).filter(navLinkId=>!navLinks.find(navLink=>navLink.id===navLinkId));const result=[...unknowns.map(linkWithoutCategory=>generateItemTypeByLink(linkWithoutCategory,navLinksGroupedByParentNavLink)),...Object.keys(allCategorizedLinks).map(categoryKey=>{var _categoryDictionary$c;return{itemType:LinkItemType.CATEGORY,category:categoryDictionary[categoryKey],order:(_categoryDictionary$c=categoryDictionary[categoryKey])===null||_categoryDictionary$c===void 0?void 0:_categoryDictionary$c.order,links:getOrderedLinks(allCategorizedLinks[categoryKey]).map(navLink=>generateItemTypeByLink(navLink,navLinksGroupedByParentNavLink))}}),...unusedParentNavLinks.reduce((total,groupId)=>[...total,...navLinksGroupedByParentNavLink[groupId].map(navLink=>generateItemTypeByLink(navLink,navLinksGroupedByParentNavLink))],[])];return result.sort(sortBy("order"))}const getSortedNavLinks=(navLinks,enricher)=>{const sortedNavLinksTree=getOrderedLinksOrCategories(navLinks);const acc=[];walkLinkItemsTree({linkItems:sortedNavLinksTree},props=>{const{currentItem:currentItem,parentItem:parentItem}=props;const enricheredResult=enricher?enricher(currentItem,parentItem):currentItem;if(enricheredResult.itemType===LinkItemType.LINK||enricheredResult.itemType===LinkItemType.PARENT_LINK){if(enricheredResult.link){acc.push(enricheredResult.link)}}});return acc};const getVisibleUseCases=navGroupMap=>Object.values(navGroupMap).filter(navGroup=>navGroup.status!==NavGroupStatus.Hidden&&navGroup.type===undefined);function getCategoryLocalStorageKey(id){return`core.navGroup.${id}`}function getIsCategoryOpen(id,storage){var _storage$getItem;const value=(_storage$getItem=storage.getItem(getCategoryLocalStorageKey(id)))!==null&&_storage$getItem!==void 0?_storage$getItem:"true";return value==="true"}function setIsCategoryOpen(id,isOpen,storage){storage.setItem(getCategoryLocalStorageKey(id),`${isOpen}`)}const collapsible_nav_excluded=["basePath","collapsibleNavHeaderRender","id","isLocked","isNavOpen","homeHref","storage","onIsLockedUpdate","closeNav","navigateToApp","navigateToUrl","logos","workspaceEnabled"],_excluded2=["undefined"],_excluded3=["iconType","onClick"];function collapsible_nav_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function collapsible_nav_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?collapsible_nav_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):collapsible_nav_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function collapsible_nav_getAllCategories(allCategorizedLinks){const allCategories={};for(const[key,value]of Object.entries(allCategorizedLinks)){allCategories[key]=value[0].category}return allCategories}function getOrderedCategories(mainCategories,categoryDictionary){return Object(external_osdSharedDeps_Lodash_["sortBy"])(Object.keys(mainCategories),categoryName=>{var _categoryDictionary$c;return(_categoryDictionary$c=categoryDictionary[categoryName])===null||_categoryDictionary$c===void 0?void 0:_categoryDictionary$c.order})}function CollapsibleNav(_ref){let{basePath:basePath,collapsibleNavHeaderRender:collapsibleNavHeaderRender,id:id,isLocked:isLocked,isNavOpen:isNavOpen,homeHref:homeHref,storage:storage=window.localStorage,onIsLockedUpdate:onIsLockedUpdate,closeNav:closeNav,navigateToApp:navigateToApp,navigateToUrl:navigateToUrl,logos:logos,workspaceEnabled:workspaceEnabled}=_ref,observables=objectWithoutProperties_default()(_ref,collapsible_nav_excluded);const navLinks=useObservable_default()(observables.navLinks$,[]).filter(link=>!link.hidden);const recentlyAccessed=useObservable_default()(observables.recentlyAccessed$,[]);const customNavLink=useObservable_default()(observables.customNavLink$,undefined);const appId=useObservable_default()(observables.appId$,"");const lockRef=Object(external_osdSharedDeps_React_["useRef"])(null);const groupedNavLinks=Object(external_osdSharedDeps_Lodash_["groupBy"])(navLinks,link=>{var _link$category;return link===null||link===void 0||(_link$category=link.category)===null||_link$category===void 0?void 0:_link$category.id});const{undefined:unknowns=[]}=groupedNavLinks,allCategorizedLinks=objectWithoutProperties_default()(groupedNavLinks,_excluded2);const categoryDictionary=collapsible_nav_getAllCategories(allCategorizedLinks);const orderedCategories=getOrderedCategories(allCategorizedLinks,categoryDictionary);const readyForEUI=function(link){let needsIcon=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;return createEuiListItem(collapsible_nav_objectSpread({link:link,appId:appId,dataTestSubj:"collapsibleNavAppLink",navigateToApp:navigateToApp,onClick:closeNav},needsIcon&&{basePath:basePath}))};return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCollapsibleNav"],{"data-test-subj":"collapsibleNav",id:id,"aria-label":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.primaryNav.screenReaderLabel",{defaultMessage:"Primary"}),isOpen:isNavOpen,isDocked:isLocked,onClose:closeNav,outsideClickCloses:false},collapsibleNavHeaderRender&&collapsibleNavHeaderRender(),customNavLink&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_["Fragment"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false,style:{flexShrink:0}},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCollapsibleNavGroup"],{background:"light",className:"eui-yScroll",style:{maxHeight:"40vh"}},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiListGroup"],{listItems:[createEuiListItem({link:customNavLink,basePath:basePath,navigateToApp:navigateToApp,dataTestSubj:"collapsibleNavCustomNavLink",onClick:closeNav,externalLink:true})],maxWidth:"none",color:"text",gutterSize:"none",size:"s"}))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHorizontalRule"],{margin:"none"})),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCollapsibleNavGroup"],{key:"recentlyViewed",background:"light",title:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.recentlyViewed",{defaultMessage:"Recently viewed"}),isCollapsible:true,initialIsOpen:getIsCategoryOpen("recentlyViewed",storage),onToggle:isCategoryOpen=>setIsCategoryOpen("recentlyViewed",isCategoryOpen,storage),"data-test-subj":"collapsibleNavGroup-recentlyViewed"},recentlyAccessed.length>0?external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiListGroup"],{"aria-label":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.recentlyViewedAriaLabel",{defaultMessage:"Recently viewed links"}),listItems:recentlyAccessed.map(link=>{const _createRecentNavLink=createRecentNavLink(link,navLinks,basePath,navigateToUrl,!!workspaceEnabled),{iconType:iconType,onClick:onClick}=_createRecentNavLink,hydratedLink=objectWithoutProperties_default()(_createRecentNavLink,_excluded3);return collapsible_nav_objectSpread(collapsible_nav_objectSpread({},hydratedLink),{},{"data-test-subj":"collapsibleNavAppLink--recent",onClick:event=>{if(!isModifiedOrPrevented(event)){closeNav();onClick(event)}}})}),maxWidth:"none",color:"subdued",gutterSize:"none",size:"s",className:"osdCollapsibleNav__recentsListGroup"}):external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s",color:"subdued",style:{padding:"0 8px 8px"}},external_osdSharedDeps_React_default.a.createElement("p",null,external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.EmptyRecentlyViewed",{defaultMessage:"No recently viewed items"})))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHorizontalRule"],{margin:"none"}),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{className:"eui-yScroll"},orderedCategories.map(categoryName=>{const category=categoryDictionary[categoryName];const opensearchLinkLogo=category.id==="opensearchDashboards"?logos.Mark.url:category.euiIconType;return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCollapsibleNavGroup"],{key:category.id,iconType:opensearchLinkLogo,title:category.label,isCollapsible:true,initialIsOpen:getIsCategoryOpen(category.id,storage),onToggle:isCategoryOpen=>setIsCategoryOpen(category.id,isCategoryOpen,storage),"data-test-subj":`collapsibleNavGroup-${category.id}`,"data-test-opensearch-logo":opensearchLinkLogo},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiListGroup"],{"aria-label":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.primaryNavSection.screenReaderLabel",{defaultMessage:"Primary navigation links, {category}",values:{category:category.label}}),listItems:allCategorizedLinks[categoryName].map(link=>readyForEUI(link)),maxWidth:"none",color:"subdued",gutterSize:"none",size:"s"}))}),unknowns.map((link,i)=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCollapsibleNavGroup"],{"data-test-subj":`collapsibleNavGroup-noCategory`,key:i},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiListGroup"],{flush:true},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiListGroupItem"],extends_default()({color:"text",size:"s"},readyForEUI(link,true)))))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiShowFor"],{sizes:["l","xl","xxl","xxxl"]},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCollapsibleNavGroup"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiListGroup"],{flush:true},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiListGroupItem"],{"data-test-subj":"collapsible-nav-lock",buttonRef:lockRef,size:"xs",color:"subdued",label:isLocked?external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.primaryNavSection.undockLabel",{defaultMessage:"Undock navigation"}):external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.primaryNavSection.dockLabel",{defaultMessage:"Dock navigation"}),"aria-label":isLocked?external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.primaryNavSection.undockAriaLabel",{defaultMessage:"Undock primary navigation"}):external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.primaryNavSection.dockAriaLabel",{defaultMessage:"Dock primary navigation"}),onClick:()=>{onIsLockedUpdate(!isLocked);if(lockRef.current){lockRef.current.focus()}},iconType:isLocked?"lock":"lockOpen"}))))))}var collapsible_nav_group_enabled=__webpack_require__(98);const CollapsibleNavTop=_ref=>{let{collapsibleNavHeaderRender:collapsibleNavHeaderRender,currentNavGroup:currentNavGroup,navigateToApp:navigateToApp,logos:logos,onClickShrink:onClickShrink,shouldShrinkNavigation:shouldShrinkNavigation,homeLink:homeLink}=_ref;const homeIcon=logos.Mark.url;const homeLinkProps=Object(external_osdSharedDeps_React_["useMemo"])(()=>{if(homeLink){const propsForHomeIcon=createEuiListItem({link:homeLink,appId:"home",dataTestSubj:"collapsibleNavHome",navigateToApp:navigateToApp});return{"data-test-subj":propsForHomeIcon["data-test-subj"],onClick:propsForHomeIcon.onClick}}return{}},[homeLink,navigateToApp]);const onIconClick=Object(external_osdSharedDeps_React_["useCallback"])(e=>{var _homeLinkProps$onClic;(_homeLinkProps$onClic=homeLinkProps.onClick)===null||_homeLinkProps$onClic===void 0||_homeLinkProps$onClic.call(homeLinkProps,e)},[homeLinkProps]);return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPanel"],{color:"transparent",hasBorder:false,hasShadow:false,className:"navGroupEnabledNavTopWrapper"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"xs"}),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{responsive:false,justifyContent:"spaceBetween"},!shouldShrinkNavigation?external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiButtonEmpty"],extends_default()({flush:"both"},homeLinkProps,{onClick:onIconClick,className:"navGroupEnabledHomeIcon"}),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiIcon"],{type:homeIcon,size:"xl","data-test-subj":`collapsibleNavIcon-${homeIcon}`}))):null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiButtonIcon"],{onClick:onClickShrink,iconType:shouldShrinkNavigation?"menu":"menuLeft",color:"subdued",display:"empty","aria-label":"shrink-button","data-test-subj":"collapsibleNavShrinkButton",size:"xs"}))),((currentNavGroup===null||currentNavGroup===void 0?void 0:currentNavGroup.type)||collapsibleNavHeaderRender)&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],null),currentNavGroup!==null&&currentNavGroup!==void 0&&currentNavGroup.type?external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_osdSharedDeps_React_default.a.createElement("h3",null,currentNavGroup.title)):collapsibleNavHeaderRender===null||collapsibleNavHeaderRender===void 0?void 0:collapsibleNavHeaderRender()))};class header_extension_HeaderExtension extends external_osdSharedDeps_React_default.a.Component{constructor(){super(...arguments);defineProperty_default()(this,"ref",external_osdSharedDeps_React_default.a.createRef());defineProperty_default()(this,"unrender",void 0)}componentDidMount(){this.renderExtension()}componentDidUpdate(prevProps){if(this.props.extension===prevProps.extension){return}this.unrenderExtension();this.renderExtension()}componentWillUnmount(){this.unrenderExtension()}render(){return external_osdSharedDeps_React_default.a.createElement("div",{ref:this.ref})}renderExtension(){if(!this.ref.current){throw new Error("<HeaderExtension /> mounted without ref")}if(this.props.extension){this.unrender=this.props.extension(this.ref.current)}}unrenderExtension(){if(this.unrender){this.unrender();this.unrender=undefined}}}function HeaderNavControls(_ref){let{navControls$:navControls$,side:side,className:className}=_ref;const navControls=useObservable_default()(navControls$,[]);if(!navControls){return null}return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,navControls.map((navControl,index)=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHeaderSectionItem"],{key:index,border:side?side==="left"?"right":"left":"none",className:className},external_osdSharedDeps_React_default.a.createElement(header_extension_HeaderExtension,{extension:navControl.mount}))))}function collapsible_nav_groups_label_getIsCategoryOpen(storageKey){let storage=arguments.length>1&&arguments[1]!==undefined?arguments[1]:window.localStorage;return getIsCategoryOpen(storageKey,storage)}function CollapsibleNavGroupsLabel(props){const{collapsible:collapsible,storageKey:storageKey,storage:storage=window.localStorage,label:label,onToggle:onToggle}=props;const[,setRenderKey]=Object(external_osdSharedDeps_React_["useState"])(Date.now());const isOpen=collapsible?collapsible_nav_groups_label_getIsCategoryOpen(storageKey,storage):true;return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"center",className:`${collapsible?"euiAccordion__button":undefined}`,gutterSize:"none","data-test-subj":props["data-test-subj"],onClick:e=>{e.stopPropagation();if(!collapsible){return}setIsCategoryOpen(storageKey,!isOpen,storage);setRenderKey(Date.now());onToggle===null||onToggle===void 0||onToggle(!isOpen)}},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,label),collapsible?external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiIcon"],{type:isOpen?"minus":"plus",className:"leftNavCustomizedAccordionIcon"})):null)}function collapsible_nav_groups_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function collapsible_nav_groups_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?collapsible_nav_groups_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):collapsible_nav_groups_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const titleForSeeAll=external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.primaryNav.seeAllLabel",{defaultMessage:"See all..."});const LEVEL_FOR_ROOT_ITEMS=1;function NavGroups(_ref){let{navLinks:navLinks,suffix:suffix,style:style,appId:appId,navigateToApp:navigateToApp,onNavItemClick:onNavItemClick,categoryCollapsible:categoryCollapsible,currentWorkspaceId:currentWorkspaceId}=_ref;const[,setRenderKey]=Object(external_osdSharedDeps_React_["useState"])(Date.now());const createNavItem=_ref2=>{let{link:link,className:className}=_ref2;const euiListItem=createEuiListItem({link:link,appId:appId,dataTestSubj:`collapsibleNavAppLink-${link.id}`,navigateToApp:navigateToApp,onClick:event=>{onNavItemClick(event,link)}});return{id:`${link.id}-${link.title}`,name:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],null,link.title),onClick:euiListItem.onClick,href:euiListItem.href,emphasize:euiListItem.isActive,className:`nav-link-item ${className||""}`,buttonClassName:"nav-link-item-btn","data-test-subj":euiListItem["data-test-subj"],"aria-label":link.title}};const createSideNavItem=(navLink,level,className)=>{if(navLink.itemType===LinkItemType.LINK){if(navLink.link.title===titleForSeeAll){const navItem=createNavItem({link:navLink.link});return collapsible_nav_groups_objectSpread(collapsible_nav_groups_objectSpread({},navItem),{},{name:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{color:"success"},navItem.name),emphasize:false})}return createNavItem({link:navLink.link,className:className})}if(navLink.itemType===LinkItemType.PARENT_LINK&&navLink.link){const props=createNavItem({link:navLink.link});const parentOpenKey=`${currentWorkspaceId?`${currentWorkspaceId}-`:""}${navLink.link.id}`;const parentItem=collapsible_nav_groups_objectSpread(collapsible_nav_groups_objectSpread({},props),{},{forceOpen:true,id:`${props.id}-${!!collapsible_nav_groups_label_getIsCategoryOpen(parentOpenKey)}`,href:undefined,onClick:undefined,"data-test-subj":undefined,className:classnames_default()(props.className,"nav-link-parent-item"),name:external_osdSharedDeps_React_default.a.createElement(CollapsibleNavGroupsLabel,{label:props.name,storageKey:parentOpenKey,collapsible:!categoryCollapsible,onToggle:()=>setRenderKey(Date.now()),"data-test-subj":props["data-test-subj"]}),items:(collapsible_nav_groups_label_getIsCategoryOpen(parentOpenKey)?navLink.links:[]).map(subNavLink=>createSideNavItem(subNavLink,level+1,"nav-nested-item"))});if(level===LEVEL_FOR_ROOT_ITEMS){return{className:"nav-link-fake-item",buttonClassName:"nav-link-fake-item-button",name:"",items:[parentItem],id:`fake_${props.id}`}}return parentItem}if(navLink.itemType===LinkItemType.CATEGORY){var _navLink$category,_navLink$category$id,_navLink$category2,_navLink$category$lab,_navLink$category3,_ref3,_navLink$category4;const categoryOpenKey=`${currentWorkspaceId?`${currentWorkspaceId}-`:""}${(_navLink$category=navLink.category)===null||_navLink$category===void 0?void 0:_navLink$category.id}`;return{id:(_navLink$category$id=(_navLink$category2=navLink.category)===null||_navLink$category2===void 0?void 0:_navLink$category2.id)!==null&&_navLink$category$id!==void 0?_navLink$category$id:"",name:external_osdSharedDeps_React_default.a.createElement(CollapsibleNavGroupsLabel,{label:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_osdSharedDeps_React_default.a.createElement("span",{className:"euiCollapsibleNavGroup__heading nav-link-item"},(_navLink$category$lab=(_navLink$category3=navLink.category)===null||_navLink$category3===void 0?void 0:_navLink$category3.label)!==null&&_navLink$category$lab!==void 0?_navLink$category$lab:"")),collapsible:!!categoryCollapsible,storageKey:categoryOpenKey,onToggle:()=>setRenderKey(Date.now())}),items:(_ref3=!categoryCollapsible||collapsible_nav_groups_label_getIsCategoryOpen(categoryOpenKey)?navLink.links:[])===null||_ref3===void 0?void 0:_ref3.map(link=>createSideNavItem(link,level+1)),"aria-label":(_navLink$category4=navLink.category)===null||_navLink$category4===void 0?void 0:_navLink$category4.label,className:"nav-link-item-category-item",buttonClassName:"nav-link-item-category-button"}}return{}};const orderedLinksOrCategories=getOrderedLinksOrCategories(navLinks);const sideNavItems=orderedLinksOrCategories.map(navLink=>createSideNavItem(navLink,LEVEL_FOR_ROOT_ITEMS)).filter(navItem=>!!navItem.id);return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{style:style},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSideNav"],{items:sideNavItems,isOpenOnMobile:true,mobileBreakpoints:[]}),suffix)}const SAVED_OBJECTS_SYMBOL="@";const COMMANDS_SYMBOL=">";const SearchCommandTypes={PAGES:{description:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.globalSearch.pages.description",{defaultMessage:"Pages"}),alias:null},SAVED_OBJECTS:{description:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.globalSearch.assets.description",{defaultMessage:"Assets"}),alias:SAVED_OBJECTS_SYMBOL}};class global_search_service_GlobalSearchService{constructor(){defineProperty_default()(this,"searchCommands",[])}registerSearchCommand(searchHandler){const exists=this.searchCommands.find(item=>item.id===searchHandler.id);if(exists){console.warn(`Duplicate SearchCommands id ${searchHandler.id} found`);return}this.searchCommands.push(searchHandler)}setup(){return{registerSearchCommand:this.registerSearchCommand.bind(this)}}start(){return{getAllSearchCommands:()=>this.searchCommands}}}function header_search_bar_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function header_search_bar_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?header_search_bar_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):header_search_bar_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const HeaderSearchBarIcon=_ref=>{let{globalSearchCommands:globalSearchCommands}=_ref;const[isSearchPopoverOpen,setIsSearchPopoverOpen]=Object(external_osdSharedDeps_React_["useState"])(false);const buttonRef=Object(external_osdSharedDeps_React_["useRef"])(null);return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPopover"],{panelPaddingSize:"s",anchorPosition:"downCenter",repositionOnScroll:true,isOpen:isSearchPopoverOpen,closePopover:()=>{setIsSearchPopoverOpen(false)},button:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiToolTip"],{content:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.globalSearch.icon.toolTip",{defaultMessage:"Search"})},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiButtonIcon"],{"aria-label":"search",iconType:"search",color:"text",buttonRef:buttonRef,"data-test-subj":"globalSearch-leftNav-icon",onClick:()=>{var _buttonRef$current;setIsSearchPopoverOpen(!isSearchPopoverOpen);(_buttonRef$current=buttonRef.current)===null||_buttonRef$current===void 0||_buttonRef$current.blur()}}))},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPanel"],{hasBorder:false,hasShadow:false,paddingSize:"none",style:{minHeight:"300px",minWidth:"400px"}},external_osdSharedDeps_React_default.a.createElement(HeaderSearchBar,{globalSearchCommands:globalSearchCommands,panel:true,onSearchResultClick:()=>{var _buttonRef$current2;setIsSearchPopoverOpen(false);(_buttonRef$current2=buttonRef.current)===null||_buttonRef$current2===void 0||_buttonRef$current2.blur()}})))};const HeaderSearchBar=_ref2=>{let{globalSearchCommands:globalSearchCommands,panel:panel,onSearchResultClick:onSearchResultClick}=_ref2;const[results,setResults]=Object(external_osdSharedDeps_React_["useState"])([]);const[isLoading,setIsLoading]=Object(external_osdSharedDeps_React_["useState"])(false);const[isPopoverOpen,setIsPopoverOpen]=Object(external_osdSharedDeps_React_["useState"])(false);const closePopover=()=>{setIsPopoverOpen(false);setResults([])};const resultSection=(items,sectionHeader)=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{direction:"column",gutterSize:"xs"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"xs",color:"subdued"},sectionHeader))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,items.length?external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiListGroup"],{flush:true,gutterSize:"none",maxWidth:false},items.map((item,index)=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiListGroupItem"],{key:index,label:item,color:"text"}))):external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{color:"subdued",size:"xs"},external_osdSharedDeps_OsdI18n_["i18n"].translate("core.globalSearch.emptyResult.description",{defaultMessage:"No results found."}))));const searchResultSections=results&&results.length?external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{direction:"column",gutterSize:"none"},results.map(result=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{key:result.key},result))):external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{color:"subdued",size:"xs"},external_osdSharedDeps_OsdI18n_["i18n"].translate("core.globalSearch.emptyResult.description",{defaultMessage:"No results found."}));const onSearch=Object(external_osdSharedDeps_React_["useCallback"])(async value=>{const filteredCommands=globalSearchCommands.filter(command=>{const alias=SearchCommandTypes[command.type].alias;return alias&&value.startsWith(alias)});const defaultSearchCommands=globalSearchCommands.filter(command=>!SearchCommandTypes[command.type].alias);if(filteredCommands.length===0){filteredCommands.push(...defaultSearchCommands)}if(value&&filteredCommands&&filteredCommands.length){setIsPopoverOpen(true);setIsLoading(true);const settleResults=await Promise.allSettled(filteredCommands.map(command=>{const callback=onSearchResultClick||closePopover;const alias=SearchCommandTypes[command.type].alias;const queryValue=alias?value.replace(alias,"").trim():value;return command.run(queryValue,callback).then(items=>({items:items,type:command.type}))}));const searchResults=settleResults.filter(result=>result.status==="fulfilled").map(result=>result.value).reduce((acc,_ref3)=>{let{items:items,type:type}=_ref3;return header_search_bar_objectSpread(header_search_bar_objectSpread({},acc),{},{[type]:(acc[type]||[]).concat(items)})},{});const sections=Object.entries(searchResults).map(_ref4=>{let[key,items]=_ref4;const sectionHeader=SearchCommandTypes[key].description;return resultSection(items,sectionHeader)});setIsLoading(false);setResults(sections)}else{setResults([])}},[globalSearchCommands,onSearchResultClick]);const searchBar=external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFieldSearch"],{compressed:true,incremental:true,onSearch:onSearch,fullWidth:true,placeholder:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.globalSearch.input.placeholder",{defaultMessage:"Search the menu"}),isLoading:isLoading,"aria-label":"Search the menus","data-test-subj":"global-search-input",className:"searchInput",onFocus:()=>{setIsPopoverOpen(true)}});const searchBarPanel=external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPanel"],{hasBorder:false,hasShadow:false,paddingSize:"none","data-test-subj":"search-result-panel"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{direction:"column",gutterSize:"s"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,searchBar),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,searchResultSections)));if(panel){return searchBarPanel}else{return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,!isPopoverOpen&&searchBar,isPopoverOpen&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPopover"],{panelStyle:{minWidth:"400px",minHeight:"100px"},button:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null),zIndex:2e3,panelPaddingSize:"s",attachToAnchor:true,ownFocus:true,display:"block",isOpen:isPopoverOpen,closePopover:()=>{closePopover()}},searchBarPanel))}};const collapsible_nav_group_enabled_excluded=["basePath","id","isNavOpen","storage","closeNav","navigateToApp","navigateToUrl","logos","setCurrentNavGroup","capabilities","collapsibleNavHeaderRender","globalSearchCommands"];function collapsible_nav_group_enabled_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function collapsible_nav_group_enabled_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?collapsible_nav_group_enabled_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):collapsible_nav_group_enabled_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const collapsible_nav_group_enabled_titleForSeeAll=external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.primaryNav.seeAllLabel",{defaultMessage:"See all..."});var NavWidth=function(NavWidth){NavWidth[NavWidth["Expanded"]=270]="Expanded";NavWidth[NavWidth["Collapsed"]=48]="Collapsed";return NavWidth}(NavWidth||{});function CollapsibleNavGroupEnabled(_ref){let{basePath:basePath,id:id,isNavOpen:isNavOpen,storage:storage=window.localStorage,closeNav:closeNav,navigateToApp:navigateToApp,navigateToUrl:navigateToUrl,logos:logos,setCurrentNavGroup:setCurrentNavGroup,capabilities:capabilities,collapsibleNavHeaderRender:collapsibleNavHeaderRender,globalSearchCommands:globalSearchCommands}=_ref,observables=objectWithoutProperties_default()(_ref,collapsible_nav_group_enabled_excluded);const allNavLinks=useObservable_default()(observables.navLinks$,[]);const navLinks=allNavLinks.filter(link=>!link.hidden);const homeLink=Object(external_osdSharedDeps_React_["useMemo"])(()=>allNavLinks.find(item=>item.id==="home"),[allNavLinks]);const appId=useObservable_default()(observables.appId$,"");const navGroupsMap=useObservable_default()(observables.navGroupsMap$,{});const currentNavGroup=useObservable_default()(observables.currentNavGroup$,undefined);const currentWorkspace=useObservable_default()(observables.currentWorkspace$);const visibleUseCases=Object(external_osdSharedDeps_React_["useMemo"])(()=>getVisibleUseCases(navGroupsMap),[navGroupsMap]);const currentNavGroupId=Object(external_osdSharedDeps_React_["useMemo"])(()=>{if(!currentNavGroup){if(visibleUseCases.length===1){return visibleUseCases[0].id}if(!capabilities.workspaces.enabled){return ALL_USE_CASE_ID}}return currentNavGroup===null||currentNavGroup===void 0?void 0:currentNavGroup.id},[capabilities,currentNavGroup,visibleUseCases]);const shouldAppendManageCategory=capabilities.workspaces.enabled?!currentNavGroupId:currentNavGroupId===ALL_USE_CASE_ID;const navLinksForRender=Object(external_osdSharedDeps_React_["useMemo"])(()=>{const getSystemNavGroups=()=>{const result=[];Object.values(navGroupsMap).sort(sortBy("order")).forEach(navGroup=>{if(navGroup.type!==NavGroupType.SYSTEM){return}const visibleNavLinksWithinNavGroup=fulfillRegistrationLinksToChromeNavLinks(navGroup.navLinks,navLinks);if(visibleNavLinksWithinNavGroup[0]){result.push(collapsible_nav_group_enabled_objectSpread(collapsible_nav_group_enabled_objectSpread({},visibleNavLinksWithinNavGroup[0]),{},{title:navGroup.title,category:DEFAULT_APP_CATEGORIES.manage}))}});return result};const navLinksResult=[];if(currentNavGroupId){var _navGroupsMap$current;navLinksResult.push(...((_navGroupsMap$current=navGroupsMap[currentNavGroupId])===null||_navGroupsMap$current===void 0?void 0:_navGroupsMap$current.navLinks)||[])}if(shouldAppendManageCategory){navLinksResult.push(...getSystemNavGroups())}return fulfillRegistrationLinksToChromeNavLinks(navLinksResult,navLinks)},[navLinks,navGroupsMap,currentNavGroupId,shouldAppendManageCategory]);const width=Object(external_osdSharedDeps_React_["useMemo"])(()=>{if(!isNavOpen){return NavWidth.Collapsed}return NavWidth.Expanded},[isNavOpen]);const onGroupClick=(e,group)=>{var _navGroupsMap$group$i;const fulfilledLinks=fulfillRegistrationLinksToChromeNavLinks((_navGroupsMap$group$i=navGroupsMap[group.id])===null||_navGroupsMap$group$i===void 0?void 0:_navGroupsMap$group$i.navLinks,navLinks);setCurrentNavGroup(group.id);const firstLink=fulfilledLinks[0];if(firstLink){const propsForEui=createEuiListItem({link:firstLink,appId:appId,dataTestSubj:"collapsibleNavAppLink",navigateToApp:navigateToApp});propsForEui.onClick(e)}};const rendeLeftNav=props=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlyout"],extends_default()({"data-test-subj":"collapsibleNav",id:id,side:"left","aria-label":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.primaryNav.screenReaderLabel",{defaultMessage:"Primary"}),type:"push",onClose:closeNav,outsideClickCloses:false,className:"context-nav-wrapper",size:width,closeButtonPosition:"outside",hideCloseButton:true,paddingSize:"none",ownFocus:false},props),external_osdSharedDeps_React_default.a.createElement("div",{className:"eui-fullHeight left-navigation-wrapper"},!isNavOpen?null:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPanel"],{hasBorder:false,borderRadius:"none",paddingSize:"s",hasShadow:false,color:"transparent",style:{flexGrow:0}},external_osdSharedDeps_React_default.a.createElement(CollapsibleNavTop,{homeLink:homeLink,collapsibleNavHeaderRender:collapsibleNavHeaderRender,navigateToApp:navigateToApp,logos:logos,currentNavGroup:currentNavGroupId?navGroupsMap[currentNavGroupId]:undefined,shouldShrinkNavigation:!isNavOpen,onClickShrink:closeNav})),!isNavOpen?external_osdSharedDeps_React_default.a.createElement("div",{className:"searchBarIcon euiHeaderSectionItemButton"},globalSearchCommands&&external_osdSharedDeps_React_default.a.createElement(HeaderSearchBarIcon,{globalSearchCommands:globalSearchCommands})):external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPanel"],{hasBorder:false,paddingSize:"s",hasShadow:false,className:"searchBar-wrapper"},globalSearchCommands&&external_osdSharedDeps_React_default.a.createElement(HeaderSearchBar,{globalSearchCommands:globalSearchCommands})),!isNavOpen?null:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPanel"],{hasBorder:false,borderRadius:"none",paddingSize:!isNavOpen?"s":"m",hasShadow:false,className:"eui-yScroll flex-1-container",color:"transparent",style:{paddingTop:0}},external_osdSharedDeps_React_default.a.createElement(NavGroups,{navLinks:navLinksForRender,navigateToApp:navigateToApp,onNavItemClick:(event,navItem)=>{var _navItem$category;if(navItem.title===collapsible_nav_group_enabled_titleForSeeAll&&(_navItem$category=navItem.category)!==null&&_navItem$category!==void 0&&_navItem$category.id){const navGroup=navGroupsMap[navItem.category.id];onGroupClick(event,navGroup)}},appId:appId,categoryCollapsible:currentNavGroupId===ALL_USE_CASE_ID,currentWorkspaceId:currentWorkspace===null||currentWorkspace===void 0?void 0:currentWorkspace.id})),!isNavOpen?external_osdSharedDeps_React_default.a.createElement("div",{className:"flex-1-container"}):null,external_osdSharedDeps_React_default.a.createElement("div",{className:classnames_default()({"bottom-container":true,"eui-xScroll":isNavOpen,"bottom-container-collapsed":!isNavOpen,"bottom-container-expanded":isNavOpen})},external_osdSharedDeps_React_default.a.createElement(HeaderNavControls,{navControls$:observables.navControlsLeftBottom$,className:classnames_default()({"nav-controls-padding":isNavOpen})}))));return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHideFor"],{sizes:["xs","s","m"]},rendeLeftNav()),isNavOpen?external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiShowFor"],{sizes:["xs","s","m"]},rendeLeftNav({type:"overlay",size:undefined,outsideClickCloses:true,paddingSize:undefined,ownFocus:true})):null)}var header=__webpack_require__(320);const HeaderActionMenu=_ref=>{let{actionMenu$:actionMenu$}=_ref;const[mounter,setMounter]=Object(external_osdSharedDeps_React_["useState"])({mount:undefined});Object(external_osdSharedDeps_React_["useLayoutEffect"])(()=>{const s=actionMenu$.subscribe(value=>{setMounter({mount:value})});return()=>s.unsubscribe()},[actionMenu$]);const elementRef=Object(external_osdSharedDeps_React_["useRef"])(null);const unmountRef=Object(external_osdSharedDeps_React_["useRef"])(null);Object(external_osdSharedDeps_React_["useLayoutEffect"])(()=>{if(unmountRef.current){unmountRef.current();unmountRef.current=null}if(mounter.mount&&elementRef.current){try{unmountRef.current=mounter.mount(elementRef.current)}catch(e){console.error(e)}}},[mounter]);return external_osdSharedDeps_React_default.a.createElement("div",{"data-test-subj":"headerAppActionMenu",className:"headerAppActionMenu",ref:elementRef})};class header_badge_HeaderBadge extends external_osdSharedDeps_React_["Component"]{constructor(props){super(props);defineProperty_default()(this,"subscription",void 0);this.state={badge:undefined}}componentDidMount(){this.subscribe()}componentDidUpdate(prevProps){if(prevProps.badge$===this.props.badge$){return}this.unsubscribe();this.subscribe()}componentWillUnmount(){this.unsubscribe()}render(){if(this.state.badge==null){return null}return external_osdSharedDeps_React_default.a.createElement("div",{className:"chrHeaderBadge__wrapper"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiBetaBadge"],{"data-test-subj":"headerBadge","data-test-badge-label":this.state.badge.text,tabIndex:0,label:this.state.badge.text,tooltipContent:this.state.badge.tooltip,iconType:this.state.badge.iconType}))}subscribe(){this.subscription=this.props.badge$.subscribe(badge=>{this.setState({badge:badge})})}unsubscribe(){if(this.subscription){this.subscription.unsubscribe();this.subscription=undefined}}}function header_breadcrumbs_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function header_breadcrumbs_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?header_breadcrumbs_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):header_breadcrumbs_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function HeaderBreadcrumbs(_ref){let{appTitle$:appTitle$,breadcrumbs$:breadcrumbs$,breadcrumbsEnricher$:breadcrumbsEnricher$,useUpdatedHeader:useUpdatedHeader,renderFullLength:renderFullLength,hideTrailingSeparator:hideTrailingSeparator}=_ref;const appTitle=useObservable_default()(appTitle$,"OpenSearch Dashboards");const breadcrumbs=useObservable_default()(breadcrumbs$,[]);const[breadcrumbEnricher,setBreadcrumbEnricher]=Object(external_osdSharedDeps_React_["useState"])(undefined);Object(external_osdSharedDeps_React_["useEffect"])(()=>{const sub=breadcrumbsEnricher$.subscribe(enricher=>{setBreadcrumbEnricher(()=>enricher)});return()=>sub.unsubscribe()});let crumbs=breadcrumbs;if(breadcrumbs.length===0&&appTitle){crumbs=[{text:appTitle}]}if(breadcrumbEnricher){crumbs=breadcrumbEnricher(crumbs)}crumbs=crumbs.map((breadcrumb,i)=>header_breadcrumbs_objectSpread(header_breadcrumbs_objectSpread({},breadcrumb),{},{"data-test-subj":classnames_default()("breadcrumb",breadcrumb["data-test-subj"],i===0&&"first",i===crumbs.length-1&&"last")}));const remainingCrumbs=useUpdatedHeader?crumbs.slice(0,-1):crumbs;if(hideTrailingSeparator){return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSimplifiedBreadcrumbs"],{breadcrumbs:crumbs,hideLastBreadCrumb:!renderFullLength,max:10,"data-test-subj":"breadcrumbs",hideTrailingSeparator:true,disableTrailingLink:true})}else{return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHeaderBreadcrumbs"],{breadcrumbs:renderFullLength?crumbs:remainingCrumbs,max:10,"data-test-subj":"breadcrumbs",simplify:!!useUpdatedHeader})}}var header_controls_container=__webpack_require__(333);const header_controls_container_HeaderControlsContainer=_ref=>{let{controls$:controls$,className:className,"data-test-subj":testSubject}=_ref;const[mounter,setMounter]=Object(external_osdSharedDeps_React_["useState"])({mount:undefined});Object(external_osdSharedDeps_React_["useLayoutEffect"])(()=>{const s=controls$.subscribe(value=>{setMounter({mount:value})});return()=>s.unsubscribe()},[controls$]);const elementRef=Object(external_osdSharedDeps_React_["useRef"])(null);const unmountRef=Object(external_osdSharedDeps_React_["useRef"])(null);Object(external_osdSharedDeps_React_["useLayoutEffect"])(()=>{if(unmountRef.current){unmountRef.current();unmountRef.current=null}if(mounter.mount&&elementRef.current){try{unmountRef.current=mounter.mount(elementRef.current)}catch(e){console.error(e)}}},[mounter]);const containerClassName=classnames_default()("euiHeaderSection","euiHeaderSection--dontGrow","headerControl",className);return external_osdSharedDeps_React_default.a.createElement("div",{"data-test-subj":testSubject||"headerControl",className:containerClassName,ref:elementRef})};const header_help_menu_excluded=["linkType","title","labels","content"];function header_help_menu_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function header_help_menu_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?header_help_menu_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):header_help_menu_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}class header_help_menu_HeaderHelpMenuUI extends external_osdSharedDeps_React_["Component"]{constructor(props){super(props);defineProperty_default()(this,"subscription",void 0);defineProperty_default()(this,"createGithubUrl",(labels,title)=>{const url=new URL("https://github.com/opensearch-project/OpenSearch-Dashboards/issues/new?");if(labels.length){url.searchParams.set("labels",labels.join(","))}if(title){url.searchParams.set("title",title)}return url.toString()});defineProperty_default()(this,"createCustomLink",(index,text,addSpacer,buttonProps)=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_["Fragment"],{key:`helpButton${index}`},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiButtonEmpty"],extends_default()({},buttonProps,{size:"xs",flush:"left"}),text),addSpacer&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"xs"})));defineProperty_default()(this,"onMenuButtonClick",()=>{this.setState({isOpen:!this.state.isOpen})});defineProperty_default()(this,"closeMenu",()=>{this.setState({isOpen:false})});this.state={isOpen:false,helpExtension:undefined,helpSupportUrl:""}}componentDidMount(){this.subscription=Object(external_osdSharedDeps_Rxjs_["combineLatest"])(this.props.helpExtension$,this.props.helpSupportUrl$).subscribe(_ref=>{let[helpExtension,helpSupportUrl]=_ref;this.setState({helpExtension:helpExtension,helpSupportUrl:helpSupportUrl})})}componentWillUnmount(){if(this.subscription){this.subscription.unsubscribe();this.subscription=undefined}}render(){const{intl:intl,opensearchDashboardsVersion:opensearchDashboardsVersion,useDefaultContent:useDefaultContent,opensearchDashboardsDocLink:opensearchDashboardsDocLink,surveyLink:surveyLink,useUpdatedAppearance:useUpdatedAppearance}=this.props;const{helpExtension:helpExtension,helpSupportUrl:helpSupportUrl}=this.state;const defaultContent=useDefaultContent?external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_["Fragment"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiButtonEmpty"],{href:opensearchDashboardsDocLink,target:"_blank",size:"xs",flush:"left"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"core.ui.chrome.headerGlobalNav.helpMenuOpenSearchDashboardsDocumentationTitle",defaultMessage:"Documentation"})),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"xs"}),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiButtonEmpty"],{href:helpSupportUrl,target:"_blank",size:"xs",flush:"left"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"core.ui.chrome.headerGlobalNav.helpMenuAskOpenSearchTitle",defaultMessage:"Community"})),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"xs"}),surveyLink&&external_osdSharedDeps_React_default.a.createElement("div",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiButtonEmpty"],{href:surveyLink,target:"_blank",size:"xs",flush:"left"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"core.ui.chrome.headerGlobalNav.helpMenuFeedbackSurveyTitle",defaultMessage:"Give feedback"})),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"xs"})),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"xs"}),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiButtonEmpty"],{href:GITHUB_CREATE_ISSUE_LINK,target:"_blank",size:"xs",iconType:"logoGithub",flush:"left"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"core.ui.chrome.headerGlobalNav.helpMenuOpenGitHubIssueTitle",defaultMessage:"Open an issue in GitHub"}))):null;let customContent;if(helpExtension){const{appName:appName,links:links,content:content}=helpExtension;const getFeedbackText=()=>external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.chrome.headerGlobalNav.helpMenuGiveFeedbackOnApp",{defaultMessage:"Give feedback on {appName}",values:{appName:helpExtension.appName}});const customLinks=links&&links.map((link,index)=>{const{linkType:linkType,title:title,labels:labels=[],content:text}=link,rest=objectWithoutProperties_default()(link,header_help_menu_excluded);switch(linkType){case"documentation":return this.createCustomLink(index,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"core.ui.chrome.headerGlobalNav.helpMenuDocumentation",defaultMessage:"Documentation"}),index<links.length-1,header_help_menu_objectSpread({target:"_blank",rel:"noopener"},rest));case"github":return this.createCustomLink(index,getFeedbackText(),index<links.length-1,header_help_menu_objectSpread({iconType:"logoGithub",href:this.createGithubUrl(labels,title),target:"_blank",rel:"noopener"},rest));case"discuss":return this.createCustomLink(index,getFeedbackText(),index<links.length-1,header_help_menu_objectSpread({iconType:"editorComment",target:"_blank",rel:"noopener"},rest));case"custom":return this.createCustomLink(index,text,index<links.length-1,header_help_menu_objectSpread({},rest));default:break}});customContent=external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTitle"],{size:"xxs"},external_osdSharedDeps_React_default.a.createElement("h3",null,appName)),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),customLinks,content&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,customLinks&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_osdSharedDeps_React_default.a.createElement(header_extension_HeaderExtension,{extension:content})))}const button=useUpdatedAppearance?external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiToolTip"],{content:intl.formatMessage({id:"core.ui.chrome.headerGlobalNav.helpMenuButtonTitle",defaultMessage:"Help"})},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiButtonIcon"],{iconType:"iInCircle",color:"text",size:"xs","aria-expanded":this.state.isOpen,"aria-haspopup":"true","aria-label":intl.formatMessage({id:"core.ui.chrome.headerGlobalNav.helpMenuButtonAriaLabel",defaultMessage:"Help menu"}),onClick:this.onMenuButtonClick})):external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiToolTip"],{content:intl.formatMessage({id:"core.ui.chrome.headerGlobalNav.helpMenuButtonTitle",defaultMessage:"Help"}),delay:"long",position:"bottom"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHeaderSectionItemButton"],{"aria-expanded":this.state.isOpen,"aria-haspopup":"true","aria-label":intl.formatMessage({id:"core.ui.chrome.headerGlobalNav.helpMenuButtonAriaLabel",defaultMessage:"Help menu"}),onClick:this.onMenuButtonClick},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiIcon"],{type:"questionInCircle",size:"m"})));return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPopover"],{anchorPosition:useUpdatedAppearance?"rightDown":"downRight",button:button,closePopover:this.closeMenu,"data-test-subj":"helpMenuButton",id:"headerHelpMenu",isOpen:this.state.isOpen,ownFocus:true,repositionOnScroll:true,panelPaddingSize:"s"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPopoverTitle"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{responsive:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,external_osdSharedDeps_React_default.a.createElement("h2",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"core.ui.chrome.headerGlobalNav.helpMenuTitle",defaultMessage:"Help"}))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false,className:"chrHeaderHelpMenu__version"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"core.ui.chrome.headerGlobalNav.helpMenuVersion",defaultMessage:"v {version}",values:{version:opensearchDashboardsVersion}})))),external_osdSharedDeps_React_default.a.createElement("div",{style:{maxWidth:270}},defaultContent,defaultContent&&customContent&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHorizontalRule"],{margin:"m"}),customContent))}}const HeaderHelpMenu=Object(external_osdSharedDeps_OsdI18nReact_["injectI18n"])(header_help_menu_HeaderHelpMenuUI);HeaderHelpMenu.defaultProps={useDefaultContent:true};var header_logo=__webpack_require__(346);const header_logo_excluded=["href","navigateToApp","branding","logos","backgroundColorScheme"];function header_logo_onClick(event,forceNavigation,navLinks,navigateToApp){var _event$nativeEvent$ta;const anchor=(_event$nativeEvent$ta=event.nativeEvent.target)===null||_event$nativeEvent$ta===void 0?void 0:_event$nativeEvent$ta.closest("a");if(!anchor){return}const navLink=navLinks.find(item=>item.href===anchor.href);if(navLink&&navLink.disabled){event.preventDefault();return}if(event.isDefaultPrevented()||event.altKey||event.metaKey||event.ctrlKey){return}if(forceNavigation){const toParsed=url_default.a.parse(anchor.href);const fromParsed=url_default.a.parse(document.location.href);const sameProto=toParsed.protocol===fromParsed.protocol;const sameHost=toParsed.host===fromParsed.host;const samePath=toParsed.path===fromParsed.path;if(sameProto&&sameHost&&samePath){if(toParsed.hash){document.location.reload()}event.stopPropagation()}}else{navigateToApp("home");event.preventDefault()}}function HeaderLogo(_ref){let{href:href,navigateToApp:navigateToApp,branding:branding,logos:logos,backgroundColorScheme:backgroundColorScheme}=_ref,observables=objectWithoutProperties_default()(_ref,header_logo_excluded);const forceNavigation=useObservable_default()(observables.forceNavigation$,false);const navLinks=useObservable_default()(observables.navLinks$,[]);const{applicationTitle:applicationTitle="opensearch dashboards"}=branding;const{[backgroundColorScheme==="dark"?"dark":"light"]:{url:logoURL},type:logoType}=logos.Application;const testSubj=`${logoType}Logo`;const alt=`${applicationTitle} logo`;return external_osdSharedDeps_React_default.a.createElement("a",{"data-test-subj":"logo",onClick:e=>header_logo_onClick(e,forceNavigation,navLinks,navigateToApp),href:href,"aria-label":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.chrome.headerGlobalNav.goHomePageIconAriaLabel",{defaultMessage:"Go to home page"}),className:"logoContainer"},external_osdSharedDeps_React_default.a.createElement("img",{"data-test-subj":testSubj,"data-test-image-url":logoURL,src:logoURL,alt:alt,loading:"lazy",className:"logoImage"}))}var home_loader=__webpack_require__(359);const HomeIcon=_ref=>{let{branding:branding,logos:logos}=_ref;const{applicationTitle:applicationTitle="opensearch dashboards",useExpandedHeader:useExpandedHeader=true}=branding;const{url:markURL,type:markType}=logos.Mark;let markIcon=markURL;let testSubj=`${markType}Mark`;let markIconSize="l";if(markType!=="custom"&&useExpandedHeader){markIcon="home";testSubj="homeIcon";markIconSize="m"}const alt=`${applicationTitle} home`;return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiIcon"],{"data-test-subj":testSubj,"data-test-image-url":markIcon,type:markIcon,title:alt,size:markIconSize,className:"logoImage"})};const home_loader_excluded=["href","navigateToApp","branding","logos"];function findClosestAnchor(element){let current=element;while(current){if(current.tagName==="A"){return current}if(!current.parentElement||current.parentElement===document.body){return undefined}current=current.parentElement}}function home_loader_onClick(event,forceNavigation,navLinks,navigateToApp){const anchor=findClosestAnchor(event.nativeEvent.target);if(!anchor){return}const navLink=navLinks.find(item=>item.href===anchor.href);if(navLink&&navLink.disabled){event.preventDefault();return}if(event.isDefaultPrevented()||event.altKey||event.metaKey||event.ctrlKey){return}if(forceNavigation){const toParsed=url_default.a.parse(anchor.href);const fromParsed=url_default.a.parse(document.location.href);const sameProto=toParsed.protocol===fromParsed.protocol;const sameHost=toParsed.host===fromParsed.host;const samePath=toParsed.path===fromParsed.path;if(sameProto&&sameHost&&samePath){if(toParsed.hash){document.location.reload()}event.stopPropagation()}}else{navigateToApp("home");event.preventDefault()}}function HomeLoader(_ref){let{href:href,navigateToApp:navigateToApp,branding:branding,logos:logos}=_ref,observables=objectWithoutProperties_default()(_ref,home_loader_excluded);const forceNavigation=useObservable_default()(observables.forceNavigation$,false);const navLinks=useObservable_default()(observables.navLinks$,[]);const loadingCount=useObservable_default()(observables.loadingCount$,0);const label=external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.chrome.headerGlobalNav.goHomePageIconAriaLabel",{defaultMessage:"Go to home page"});return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiToolTip"],{content:label,delay:"long"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHeaderSectionItemButton"],{className:"header__homeLoaderNavButton","data-test-subj":"homeLoader",onClick:e=>home_loader_onClick(e,forceNavigation,navLinks,navigateToApp),href:href,"aria-label":label},!(loadingCount>0)&&external_osdSharedDeps_React_default.a.createElement("div",{className:"homeIconContainer"},external_osdSharedDeps_React_default.a.createElement(HomeIcon,{branding:branding,logos:logos})),external_osdSharedDeps_React_default.a.createElement("div",{className:"loaderContainer"},external_osdSharedDeps_React_default.a.createElement(loading_indicator_LoadingIndicator,{loadingCount$:observables.loadingCount$}))))}var external_osdSharedDeps_Moment_=__webpack_require__(52);var external_osdSharedDeps_Moment_default=__webpack_require__.n(external_osdSharedDeps_Moment_);var recent_items=__webpack_require__(372);function recent_items_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function recent_items_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?recent_items_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):recent_items_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const widthForRightMargin=8;const bulkGetDetail=(savedObjects,http)=>Promise.all(savedObjects.map(obj=>http.get(`/api/opensearch-dashboards/management/saved_objects/${encodeURIComponent(obj.type)}/${encodeURIComponent(obj.id)}`).catch(error=>({id:obj.id,type:obj.type,error:error,attributes:{},references:[],meta:{},updated_at:""}))));const recentsRadios=[{id:"5",label:"5 pages"},{id:"10",label:"10 pages"},{id:"15",label:"15 pages"}];const RecentItems=_ref=>{let{recentlyAccessed$:recentlyAccessed$,workspaceList$:workspaceList$,navigateToUrl:navigateToUrl,navLinks$:navLinks$,basePath:basePath,renderBreadcrumbs:renderBreadcrumbs,buttonSize:buttonSize="s",http:http,loadingCount$:loadingCount$,workspaceEnabled:workspaceEnabled}=_ref;const[isPopoverOpen,setIsPopoverOpen]=Object(external_osdSharedDeps_React_["useState"])(false);const[isPreferencesPopoverOpen,setIsPreferencesPopoverOpen]=Object(external_osdSharedDeps_React_["useState"])(false);const recentlyAccessedItems=useObservable_default()(recentlyAccessed$,[]);const[recentsRadioIdSelected,setRecentsRadioIdSelected]=Object(external_osdSharedDeps_React_["useState"])(recentsRadios[0].id);const workspaceList=useObservable_default()(workspaceList$,[]);const[detailedSavedObjects,setDetailedSavedObjects]=Object(external_osdSharedDeps_React_["useState"])([]);const navLinks=useObservable_default()(navLinks$,[]);const loadingCount=useObservable_default()(loadingCount$,0);const handleItemClick=link=>{navigateToUrl(link);setIsPopoverOpen(false)};const preferencePopover=external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPopover"],{"data-test-subj":"preferencesSettingPopover",ownFocus:false,panelPaddingSize:"s",button:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiButtonIcon"],{color:"primary",size:"xs",onClick:()=>{setIsPreferencesPopoverOpen(IsPreferencesPopoverOpe=>!IsPreferencesPopoverOpe)},iconType:"managementApp","data-test-subj":"preferencesSettingButton","aria-label":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.header.recent.preferences.buttonAriaLabel",{defaultMessage:"Preferences setting"})}),isOpen:isPreferencesPopoverOpen,anchorPosition:"downLeft",closePopover:()=>{setIsPreferencesPopoverOpen(false)}},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPopoverTitle"],null,external_osdSharedDeps_OsdI18n_["i18n"].translate("core.header.recent.preferences.title",{defaultMessage:"Preferences"})),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiRadioGroup"],{options:recentsRadios,idSelected:recentsRadioIdSelected,onChange:id=>{setRecentsRadioIdSelected(id);setIsPreferencesPopoverOpen(false)},name:"radio group",legend:{children:external_osdSharedDeps_React_default.a.createElement("span",null,external_osdSharedDeps_OsdI18n_["i18n"].translate("core.header.recent.preferences.legend",{defaultMessage:"Recents"}))}}));const recentButtonCommonProps={"aria-expanded":isPopoverOpen,"aria-label":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.chrome.headerGlobalNav.viewRecentItemsAriaLabel",{defaultMessage:"View recents"}),onClick:()=>setIsPopoverOpen(prev=>!prev),"data-test-subj":"recentItemsSectionButton"};const recentButton=external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiToolTip"],{content:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.chrome.headerGlobalNav.viewRecentItemsTooltip",{defaultMessage:"Recent"}),delay:"long",position:"bottom"},!(loadingCount>0)?external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiButtonIcon"],extends_default()({iconType:"recent",color:"text",size:"xs","aria-haspopup":"true",className:"headerRecentItemsButton"},recentButtonCommonProps)):external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiButtonEmpty"],extends_default()({size:"xs","aria-haspopup":"true",className:"headerRecentItemsButton headerRecentItemsButton--loadingIndicator"},recentButtonCommonProps),external_osdSharedDeps_React_default.a.createElement(loading_indicator_LoadingIndicator,{loadingCount$:loadingCount$})));Object(external_osdSharedDeps_React_["useEffect"])(()=>{const savedObjects=recentlyAccessedItems.filter(item=>{var _item$meta;return((_item$meta=item.meta)===null||_item$meta===void 0?void 0:_item$meta.type)&&(!item.workspaceId||item.workspaceId&&!!workspaceList.find(workspace=>workspace.id===item.workspaceId))}).map(item=>{var _item$meta2;return{type:((_item$meta2=item.meta)===null||_item$meta2===void 0?void 0:_item$meta2.type)||"",id:item.id}});if(savedObjects.length){bulkGetDetail(savedObjects,http).then(res=>{const formatDetailedSavedObjects=res.map(obj=>{const recentAccessItem=recentlyAccessedItems.find(item=>item.id===obj.id);const findWorkspace=workspaceList.find(workspace=>workspace.id===recentAccessItem.workspaceId);return recent_items_objectSpread(recent_items_objectSpread(recent_items_objectSpread(recent_items_objectSpread({},recentAccessItem),obj),recentAccessItem.meta),{},{updatedAt:external_osdSharedDeps_Moment_default()(obj===null||obj===void 0?void 0:obj.updated_at).valueOf(),workspaceName:findWorkspace===null||findWorkspace===void 0?void 0:findWorkspace.name})});setDetailedSavedObjects(formatDetailedSavedObjects)})}},[recentlyAccessedItems,http,workspaceList]);const selectedRecentItems=Object(external_osdSharedDeps_React_["useMemo"])(()=>detailedSavedObjects.slice(0,Number(recentsRadioIdSelected)),[detailedSavedObjects,recentsRadioIdSelected]);return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPopover"],{button:recentButton,isOpen:isPopoverOpen,closePopover:()=>{setIsPopoverOpen(false)},anchorPosition:"downCenter",repositionOnScroll:true,initialFocus:false,panelPaddingSize:"m"},renderBreadcrumbs,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPanel"],{hasShadow:false,hasBorder:false,paddingSize:"none",style:{maxHeight:"35vh"},className:"euiYScrollWithShadows"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTitle"],{size:"xxs"},external_osdSharedDeps_React_default.a.createElement("h4",null,external_osdSharedDeps_OsdI18n_["i18n"].translate("core.header.recent.title",{defaultMessage:"Recent assets"}))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),selectedRecentItems.length>0?external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiListGroup"],{flush:true,gutterSize:"s"},selectedRecentItems.map(item=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiListGroupItem"],{onClick:()=>handleItemClick(createRecentNavLink(item,navLinks.filter(link=>!link.hidden),basePath,navigateToUrl,!!workspaceEnabled).href),key:item.link,style:{padding:"1px"},label:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiIcon"],{style:{marginRight:widthForRightMargin},type:item.meta.icon||"apps",color:"text"}),item.label+" ",item.workspaceName?external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTextColor"],{color:"subdued"},"(",item.workspaceName,")"):null),color:"text",size:"s"}))):external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{color:"subdued",size:"s"},external_osdSharedDeps_OsdI18n_["i18n"].translate("core.header.recent.no.recents",{defaultMessage:"No recently viewed items"})),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"})),preferencePopover)};const header_excluded=["http","opensearchDashboardsVersion","opensearchDashboardsDocLink","application","basePath","onIsLockedUpdate","homeHref","branding","survey","logos","collapsibleNavHeaderRender","navGroupEnabled","setCurrentNavGroup","useUpdatedHeader","globalSearchCommands"],header_excluded2=["isSmallScreen"];const hasValue=value=>{if(Array.isArray(value)&&value.length===0){return false}return Boolean(value)};function Header(_ref){let{http:http,opensearchDashboardsVersion:opensearchDashboardsVersion,opensearchDashboardsDocLink:opensearchDashboardsDocLink,application:application,basePath:basePath,onIsLockedUpdate:onIsLockedUpdate,homeHref:homeHref,branding:branding,survey:survey,logos:logos,collapsibleNavHeaderRender:collapsibleNavHeaderRender,navGroupEnabled:navGroupEnabled,setCurrentNavGroup:setCurrentNavGroup,useUpdatedHeader:useUpdatedHeader,globalSearchCommands:globalSearchCommands}=_ref,observables=objectWithoutProperties_default()(_ref,header_excluded);const isVisible=useObservable_default()(observables.isVisible$,false);const headerVariant=useObservable_default()(observables.headerVariant$,HeaderVariant.PAGE);const isLocked=useObservable_default()(observables.isLocked$,false);const[isNavOpenState,setIsNavOpenState]=Object(external_osdSharedDeps_React_["useState"])(false);const sidecarConfig=useObservable_default()(observables.sidecarConfig$,undefined);const breadcrumbs=useObservable_default()(observables.breadcrumbs$,[]);const currentLeftControls=useObservableValue(application.currentLeftControls$);const navControlsLeft=useObservable_default()(observables.navControlsLeft$);const currentCenterControls=useObservableValue(application.currentCenterControls$);const navControlsExpandedCenter=useObservable_default()(observables.navControlsExpandedCenter$);const navControlsCenter=useObservable_default()(observables.navControlsCenter$);const currentRightControls=useObservableValue(application.currentRightControls$);const navControlsExpandedRight=useObservable_default()(observables.navControlsExpandedRight$);const navControlsRight=useObservable_default()(observables.navControlsRight$);const currentActionMenu=useObservableValue(application.currentActionMenu$);const currentBadgeControls=useObservableValue(application.currentBadgeControls$);const observableBadge=useObservable_default()(observables.badge$);const sidecarPaddingStyle=Object(external_osdSharedDeps_React_["useMemo"])(()=>getOsdSidecarPaddingStyle(sidecarConfig),[sidecarConfig]);const isNavOpen=useUpdatedHeader?isLocked:isNavOpenState;const setIsNavOpen=Object(external_osdSharedDeps_React_["useCallback"])(value=>{if(useUpdatedHeader){onIsLockedUpdate(value)}else{setIsNavOpenState(value)}},[setIsNavOpenState,onIsLockedUpdate,useUpdatedHeader]);if(!isVisible){return external_osdSharedDeps_React_default.a.createElement(loading_indicator_LoadingIndicator,{loadingCount$:observables.loadingCount$,showAsBar:true})}const toggleCollapsibleNavRef=Object(external_osdSharedDeps_React_["createRef"])();const navId=Object(external_osdSharedDeps_ElasticEui_["htmlIdGenerator"])()();const className=classnames_default()("hide-for-sharing","headerGlobalNav");const{useExpandedHeader:useExpandedHeader=true}=branding;const useApplicationHeader=headerVariant===HeaderVariant.APPLICATION;const expandedHeaderColorScheme="dark";const renderLegacyExpandedHeader=()=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHeader"],{className:"expandedHeader",theme:expandedHeaderColorScheme,style:sidecarPaddingStyle,position:"fixed",sections:[{items:[external_osdSharedDeps_React_default.a.createElement(HeaderLogo,{href:homeHref,forceNavigation$:observables.forceAppSwitcherNavigation$,navLinks$:observables.navLinks$,navigateToApp:application.navigateToApp,branding:branding,logos:logos,backgroundColorScheme:expandedHeaderColorScheme})],borders:"none"},{items:[external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiShowFor"],{sizes:["m","l","xl","xxl","xxxl"]},external_osdSharedDeps_React_default.a.createElement(HeaderNavControls,{navControls$:observables.navControlsExpandedCenter$}))],borders:"none"},{items:[external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHideFor"],{sizes:["m","l","xl","xxl","xxxl"]},external_osdSharedDeps_React_default.a.createElement(HeaderNavControls,{navControls$:observables.navControlsExpandedCenter$})),external_osdSharedDeps_React_default.a.createElement(HeaderNavControls,{navControls$:observables.navControlsExpandedRight$})],borders:"none"}]});const renderBreadcrumbs=(renderFullLength,hideTrailingSeparator)=>external_osdSharedDeps_React_default.a.createElement(HeaderBreadcrumbs,{appTitle$:observables.appTitle$,breadcrumbs$:observables.breadcrumbs$,breadcrumbsEnricher$:observables.breadcrumbsEnricher$,useUpdatedHeader:useUpdatedHeader,renderFullLength:renderFullLength,hideTrailingSeparator:hideTrailingSeparator});const renderNavToggle=()=>{const renderNavToggleWithExtraProps=props=>{const{isSmallScreen:isSmallScreen}=props,others=objectWithoutProperties_default()(props,header_excluded2);return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHeaderSectionItemButton"],extends_default()({"data-test-subj":"toggleNavButton","aria-label":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.primaryNav.toggleNavAriaLabel",{defaultMessage:"Toggle primary navigation"}),onClick:()=>setIsNavOpen(!isNavOpen),"aria-expanded":isNavOpen,"aria-pressed":isNavOpen,"aria-controls":navId,ref:toggleCollapsibleNavRef},others,{className:classnames_default()(useUpdatedHeader?useApplicationHeader?"newAppTopNavExpander":"newPageTopNavExpander":undefined,props.className)}),props.isSmallScreen?external_osdSharedDeps_React_default.a.createElement("span",{className:"euiButtonIcon euiButtonIcon--subdued euiButtonIcon--xSmall "},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiIcon"],{title:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.primaryNav.menu",{defaultMessage:"Menu"}),type:"menu",size:"s"})):external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiIcon"],{type:"menu",size:"m",title:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.primaryNav.menu",{defaultMessage:"Menu"})}))};return useUpdatedHeader?external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,isNavOpen?null:renderNavToggleWithExtraProps({className:"navToggleInLargeScreen eui-hideFor--xs eui-hideFor--s eui-hideFor--m"}),renderNavToggleWithExtraProps({flush:"both",className:"navToggleInSmallScreen eui-hideFor--xl eui-hideFor--l eui-hideFor--xxl eui-hideFor--xxxl",isSmallScreen:true})):renderNavToggleWithExtraProps({})};const renderLeftControls=()=>{const hasLeftControls=hasValue(currentLeftControls);const hasNavControlsLeft=hasValue(navControlsLeft);if(!hasLeftControls&&!hasNavControlsLeft&&useUpdatedHeader){return null}return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,useUpdatedHeader&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHeaderSectionItem"],{border:"none"},external_osdSharedDeps_React_default.a.createElement(header_controls_container_HeaderControlsContainer,{"data-test-subj":"headerLeftControl",controls$:application.currentLeftControls$})),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHeaderSectionItem"],{border:useUpdatedHeader?"none":"right"},external_osdSharedDeps_React_default.a.createElement(HeaderNavControls,{side:"left",navControls$:observables.navControlsLeft$})))};const renderCenterControls=()=>{const hasCenterControls=hasValue(currentCenterControls);const hasNavControlsExpandedCenter=hasValue(navControlsExpandedCenter);const hasNavControlsCenter=hasValue(navControlsCenter);if(!hasCenterControls&&!hasNavControlsExpandedCenter&&!hasNavControlsCenter&&useUpdatedHeader){return null}return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,useUpdatedHeader&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHeaderSectionItem"],{border:"none"},external_osdSharedDeps_React_default.a.createElement(HeaderNavControls,{navControls$:observables.navControlsExpandedCenter$})),useUpdatedHeader&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHeaderSectionItem"],{border:"none"},external_osdSharedDeps_React_default.a.createElement(header_controls_container_HeaderControlsContainer,{"data-test-subj":"headerCenterControl",controls$:application.currentCenterControls$})),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHeaderSectionItem"],{border:useUpdatedHeader?"none":"left"},external_osdSharedDeps_React_default.a.createElement(HeaderNavControls,{navControls$:observables.navControlsCenter$})))};const renderRightControls=()=>{const hasNavControlsExpandedRight=hasValue(navControlsExpandedRight);const hasRightControls=hasValue(currentRightControls);const hasNavControlsRight=hasValue(navControlsRight);if(!hasRightControls&&!hasNavControlsExpandedRight&&!hasNavControlsRight&&useUpdatedHeader){return null}return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,useUpdatedHeader&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHeaderSectionItem"],{border:"none"},external_osdSharedDeps_React_default.a.createElement(HeaderNavControls,{navControls$:observables.navControlsExpandedRight$})),useUpdatedHeader&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHeaderSectionItem"],{border:"none"},external_osdSharedDeps_React_default.a.createElement(header_controls_container_HeaderControlsContainer,{"data-test-subj":"headerRightControl",controls$:application.currentRightControls$})),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHeaderSectionItem"],{border:useUpdatedHeader?"none":"left"},external_osdSharedDeps_React_default.a.createElement(HeaderNavControls,{side:"right",navControls$:observables.navControlsRight$})))};const renderActionMenu=()=>{const hasActionMenu=hasValue(currentActionMenu);if(!hasActionMenu&&useUpdatedHeader){return null}return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHeaderSectionItem"],{border:"none",className:"headerAppActionMenuSection"},external_osdSharedDeps_React_default.a.createElement(HeaderActionMenu,{actionMenu$:application.currentActionMenu$}))};const renderBadge=()=>{const hasBadge=hasValue(observableBadge);const hasCurrentBadgeControls=hasValue(currentBadgeControls);if(!hasBadge&&!hasCurrentBadgeControls&&useUpdatedHeader){return null}return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,useUpdatedHeader&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHeaderSectionItem"],{border:"none"},external_osdSharedDeps_React_default.a.createElement(header_controls_container_HeaderControlsContainer,{"data-test-subj":"headerBadgeControl",controls$:application.currentBadgeControls$})),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHeaderSectionItem"],{border:"none"},external_osdSharedDeps_React_default.a.createElement(header_badge_HeaderBadge,{badge$:observables.badge$})))};const renderHelp=()=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHeaderSectionItem"],{border:"left"},external_osdSharedDeps_React_default.a.createElement(HeaderHelpMenu,{helpExtension$:observables.helpExtension$,helpSupportUrl$:observables.helpSupportUrl$,opensearchDashboardsDocLink:opensearchDashboardsDocLink,opensearchDashboardsVersion:opensearchDashboardsVersion,surveyLink:survey}));const renderRecentItems=()=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHeaderSectionItem"],{border:useUpdatedHeader?"none":"right"},external_osdSharedDeps_React_default.a.createElement(RecentItems,{http:http,navLinks$:observables.navLinks$,basePath:basePath,recentlyAccessed$:observables.recentlyAccessed$,workspaceList$:observables.workspaceList$,navigateToUrl:application.navigateToUrl,renderBreadcrumbs:renderBreadcrumbs(true,true),buttonSize:useApplicationHeader?"s":"xs",loadingCount$:observables.loadingCount$,workspaceEnabled:application.capabilities.workspaces.enabled}));const renderPrimaryHeaderRight=()=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHeaderSectionItem"],{border:"none"},external_osdSharedDeps_React_default.a.createElement(HeaderNavControls,{navControls$:observables.navControlsPrimaryHeaderRight$}));const leftControls=renderLeftControls();const centerControls=renderCenterControls();const rightControls=renderRightControls();const actionMenu=renderActionMenu();const badge=renderBadge();const renderLegacyHeader=()=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHeader"],{position:"fixed",className:"primaryHeader",style:sidecarPaddingStyle},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHeaderSection"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHeaderSectionItem"],{border:"right",className:"header__toggleNavButtonSection"},renderNavToggle()),leftControls,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHeaderSectionItem"],{border:"right"},external_osdSharedDeps_React_default.a.createElement(HomeLoader,{href:homeHref,forceNavigation$:observables.forceAppSwitcherNavigation$,navLinks$:observables.navLinks$,navigateToApp:application.navigateToApp,branding:branding,logos:logos,loadingCount$:observables.loadingCount$}))),renderBreadcrumbs(),badge,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHeaderSection"],{side:"right"},actionMenu,centerControls,rightControls,renderHelp()));const renderPageHeader=()=>{var _breadcrumbs;return external_osdSharedDeps_React_default.a.createElement("div",{style:sidecarPaddingStyle},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHeader"],{className:"primaryHeader newTopNavHeader"},renderNavToggle(),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHeaderSection"],{grow:false},renderRecentItems()),renderBreadcrumbs(false,false),renderPrimaryHeaderRight()),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHeader"],{className:"newTopNavHeader"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween",gutterSize:"none",className:"secondaryPageHeaderFlexGroup"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHeaderSection"],{side:"left",grow:true,style:{flexShrink:1}},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"s",className:"leftSecondaryPageHeaderFlexGroup"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHeaderSectionItem"],{border:"none","data-test-subj":"headerApplicationTitle"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTitle"],{size:"l",className:"newTopNavHeaderTitle"},breadcrumbs&&external_osdSharedDeps_React_default.a.createElement("h1",{className:"eui-textBreakWord"},(_breadcrumbs=breadcrumbs[breadcrumbs.length-1])===null||_breadcrumbs===void 0?void 0:_breadcrumbs.text)))),badge&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},badge),leftControls&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},leftControls))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHeaderSection"],{side:"right"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"s"},centerControls&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,centerControls),actionMenu&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,actionMenu),rightControls&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null," ",rightControls))))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHeader"],{className:"newTopNavHeader"},external_osdSharedDeps_React_default.a.createElement(header_controls_container_HeaderControlsContainer,{"data-test-subj":"headerDescriptionControl",controls$:application.currentDescriptionControls$,className:"headerDescriptionControl"})),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHeader"],{className:"newTopNavHeader"},external_osdSharedDeps_React_default.a.createElement(header_controls_container_HeaderControlsContainer,{"data-test-subj":"headerBottomControl",controls$:application.currentBottomControls$,className:"headerBottomControl"})))};const renderApplicationHeader=()=>external_osdSharedDeps_React_default.a.createElement("div",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHeader"],{className:"primaryApplicationHeader newTopNavHeader",style:sidecarPaddingStyle},renderNavToggle(),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHeaderSection"],{side:"left",grow:true},renderRecentItems(),actionMenu),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHeaderSection"],{side:"right"},rightControls,renderPrimaryHeaderRight())),external_osdSharedDeps_React_default.a.createElement("div",{id:"applicationHeaderFilterBar"}));const renderHeader=()=>useApplicationHeader?renderApplicationHeader():renderPageHeader();return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,external_osdSharedDeps_React_default.a.createElement("header",{className:className,"data-test-subj":"headerGlobalNav"},external_osdSharedDeps_React_default.a.createElement("div",{id:"globalHeaderBars"},!useUpdatedHeader&&useExpandedHeader&&renderLegacyExpandedHeader(),useUpdatedHeader?renderHeader():renderLegacyHeader()),navGroupEnabled?external_osdSharedDeps_React_default.a.createElement(CollapsibleNavGroupEnabled,{appId$:application.currentAppId$,collapsibleNavHeaderRender:collapsibleNavHeaderRender,id:navId,navLinks$:observables.navLinks$,isNavOpen:isNavOpen,basePath:basePath,navigateToApp:application.navigateToApp,navigateToUrl:application.navigateToUrl,closeNav:()=>{setIsNavOpen(false);if(toggleCollapsibleNavRef.current){toggleCollapsibleNavRef.current.focus()}},customNavLink$:observables.customNavLink$,logos:logos,navGroupsMap$:observables.navGroupsMap$,navControlsLeftBottom$:observables.navControlsLeftBottom$,currentNavGroup$:observables.currentNavGroup$,setCurrentNavGroup:setCurrentNavGroup,capabilities:application.capabilities,currentWorkspace$:observables.currentWorkspace$,globalSearchCommands:globalSearchCommands}):external_osdSharedDeps_React_default.a.createElement(CollapsibleNav,{appId$:application.currentAppId$,collapsibleNavHeaderRender:collapsibleNavHeaderRender,id:navId,isLocked:isLocked,navLinks$:observables.navLinks$,recentlyAccessed$:observables.recentlyAccessed$,isNavOpen:isNavOpen,homeHref:homeHref,basePath:basePath,navigateToApp:application.navigateToApp,navigateToUrl:application.navigateToUrl,onIsLockedUpdate:onIsLockedUpdate,closeNav:()=>{setIsNavOpen(false);if(toggleCollapsibleNavRef.current){toggleCollapsibleNavRef.current.focus()}},customNavLink$:observables.customNavLink$,logos:logos,workspaceEnabled:application.capabilities.workspaces.enabled})))}const RightNavigationButton=_ref=>{let{application:application,http:http,appId:appId,iconType:iconType,title:title}=_ref;const targetUrl=Object(external_osdSharedDeps_React_["useMemo"])(()=>{const appUrl=application.getUrlForApp(appId,{path:"/",absolute:false});return http.basePath.prepend(http.basePath.remove(appUrl),{withoutClientBasePath:true})},[application,http.basePath,appId]);const isLeftClickEvent=event=>event.button===0;const navigateToApp=event=>{if(isLeftClickEvent(event)&&!isModifiedOrPrevented(event)){event.preventDefault();application.navigateToUrl(targetUrl)}return};return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiToolTip"],{content:title,delay:"long",position:"bottom"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHeaderSectionItemButton"],{"data-test-subj":"rightNavigationButton","aria-label":title,onClick:navigateToApp,href:targetUrl},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiIcon"],{type:iconType,size:"m",color:"text"})))};let ImageType=function(ImageType){ImageType["DEFAULT"]="default";ImageType["CUSTOM"]="custom";ImageType["ALTERNATIVE"]="alternative";return ImageType}({});let ColorScheme=function(ColorScheme){ColorScheme["LIGHT"]="light";ColorScheme["DARK"]="dark";return ColorScheme}({});const OPENSEARCH_DASHBOARDS_THEMED="ui/logos/opensearch_dashboards.svg";const OPENSEARCH_DASHBOARDS_ON_LIGHT="ui/logos/opensearch_dashboards_on_light.svg";const OPENSEARCH_DASHBOARDS_ON_DARK="ui/logos/opensearch_dashboards_on_dark.svg";const OPENSEARCH_THEMED="ui/logos/opensearch.svg";const OPENSEARCH_ON_LIGHT="ui/logos/opensearch_on_light.svg";const OPENSEARCH_ON_DARK="ui/logos/opensearch_on_dark.svg";const MARK_THEMED="ui/logos/opensearch_mark.svg";const MARK_ON_LIGHT="ui/logos/opensearch_mark_on_light.svg";const MARK_ON_DARK="ui/logos/opensearch_mark_on_dark.svg";const CENTER_MARK_THEMED="ui/logos/opensearch_center_mark.svg";const CENTER_MARK_ON_LIGHT="ui/logos/opensearch_center_mark_on_light.svg";const CENTER_MARK_ON_DARK="ui/logos/opensearch_center_mark_on_dark.svg";const ANIMATED_MARK_THEMED="ui/logos/opensearch_spinner.svg";const ANIMATED_MARK_ON_LIGHT="ui/logos/opensearch_spinner_on_light.svg";const ANIMATED_MARK_ON_DARK="ui/logos/opensearch_spinner_on_dark.svg";const getFirstUsableAsset=function(assets){let requireDarkColorScheme=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;for(const{url:url,type:type,colorScheme:colorScheme}of assets){if(url&&(requireDarkColorScheme||colorScheme==="light"))return{url:url,type:type}}throw new Error("No default asset found")};const getLogo=function(assets){let requireDarkColorScheme=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const lightAsset=getFirstUsableAsset(assets,false);const darkAsset=getFirstUsableAsset(assets,true);const colorSchemeAsset=requireDarkColorScheme?darkAsset:lightAsset;return{light:lightAsset,dark:darkAsset,url:colorSchemeAsset.url,type:colorSchemeAsset.type}};const getLogos=function(){let branding=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let serverBasePath=arguments.length>1?arguments[1]:undefined;const{logo:{defaultUrl:customLogoUrl,darkModeUrl:customDarkLogoUrl}={},mark:{defaultUrl:customMarkUrl,darkModeUrl:customDarkMarkUrl}={},loadingLogo:{defaultUrl:customAnimatedUrl,darkModeUrl:customDarkAnimatedMarkUrl}={},darkMode:darkMode=false}=branding;const defaultLightColorSchemeOpenSearchDashboards=`${serverBasePath}/${OPENSEARCH_DASHBOARDS_ON_LIGHT}`;const defaultDarkColorSchemeOpenSearchDashboards=`${serverBasePath}/${OPENSEARCH_DASHBOARDS_ON_DARK}`;const defaultLightColorSchemeOpenSearch=`${serverBasePath}/${OPENSEARCH_ON_LIGHT}`;const defaultDarkColorSchemeOpenSearch=`${serverBasePath}/${OPENSEARCH_ON_DARK}`;const defaultLightColorSchemeMark=`${serverBasePath}/${MARK_ON_LIGHT}`;const defaultDarkColorSchemeMark=`${serverBasePath}/${MARK_ON_DARK}`;const defaultLightColorSchemeCenterMark=`${serverBasePath}/${CENTER_MARK_ON_LIGHT}`;const defaultDarkColorSchemeCenterMark=`${serverBasePath}/${CENTER_MARK_ON_DARK}`;const defaultLightColorSchemeAnimatedMark=`${serverBasePath}/${ANIMATED_MARK_ON_LIGHT}`;const defaultDarkColorSchemeAnimatedMark=`${serverBasePath}/${ANIMATED_MARK_ON_DARK}`;const colorScheme=darkMode?ColorScheme.DARK:ColorScheme.LIGHT;return deepFreeze({OpenSearch:getLogo([{url:customDarkLogoUrl,type:ImageType.CUSTOM,colorScheme:ColorScheme.DARK},{url:customLogoUrl,type:ImageType.CUSTOM,colorScheme:ColorScheme.LIGHT},{url:defaultDarkColorSchemeOpenSearch,type:ImageType.DEFAULT,colorScheme:ColorScheme.DARK},{url:defaultLightColorSchemeOpenSearch,type:ImageType.DEFAULT,colorScheme:ColorScheme.LIGHT}],darkMode),Application:getLogo([{url:customDarkLogoUrl,type:ImageType.CUSTOM,colorScheme:ColorScheme.DARK},{url:customLogoUrl,type:ImageType.CUSTOM,colorScheme:ColorScheme.LIGHT},{url:defaultDarkColorSchemeOpenSearchDashboards,type:ImageType.DEFAULT,colorScheme:ColorScheme.DARK},{url:defaultLightColorSchemeOpenSearchDashboards,type:ImageType.DEFAULT,colorScheme:ColorScheme.LIGHT}],darkMode),Mark:getLogo([{url:customDarkMarkUrl,type:ImageType.CUSTOM,colorScheme:ColorScheme.DARK},{url:customMarkUrl,type:ImageType.CUSTOM,colorScheme:ColorScheme.LIGHT},{url:defaultDarkColorSchemeMark,type:ImageType.DEFAULT,colorScheme:ColorScheme.DARK},{url:defaultLightColorSchemeMark,type:ImageType.DEFAULT,colorScheme:ColorScheme.LIGHT}],darkMode),CenterMark:getLogo([{url:customDarkMarkUrl,type:ImageType.CUSTOM,colorScheme:ColorScheme.DARK},{url:customMarkUrl,type:ImageType.CUSTOM,colorScheme:ColorScheme.LIGHT},{url:defaultDarkColorSchemeCenterMark,type:ImageType.DEFAULT,colorScheme:ColorScheme.DARK},{url:defaultLightColorSchemeCenterMark,type:ImageType.DEFAULT,colorScheme:ColorScheme.LIGHT}],darkMode),AnimatedMark:getLogo([{url:customDarkAnimatedMarkUrl,type:ImageType.CUSTOM,colorScheme:ColorScheme.DARK},{url:customAnimatedUrl,type:ImageType.CUSTOM,colorScheme:ColorScheme.LIGHT},{url:customDarkMarkUrl,type:ImageType.ALTERNATIVE,colorScheme:ColorScheme.DARK},{url:customMarkUrl,type:ImageType.ALTERNATIVE,colorScheme:ColorScheme.LIGHT},{url:defaultDarkColorSchemeAnimatedMark,type:ImageType.DEFAULT,colorScheme:ColorScheme.DARK},{url:defaultLightColorSchemeAnimatedMark,type:ImageType.DEFAULT,colorScheme:ColorScheme.LIGHT}],darkMode),colorScheme:colorScheme})};function nav_group_service_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function nav_group_service_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?nav_group_service_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nav_group_service_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const CURRENT_NAV_GROUP_ID="core.chrome.currentNavGroupId";const customCategory={id:"custom",label:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.customNavList.label",{defaultMessage:"Custom"}),order:(DEFAULT_APP_CATEGORIES.manage.order||0)+500};class nav_group_service_ChromeNavGroupService{constructor(){defineProperty_default()(this,"navGroupsMap$",new external_osdSharedDeps_Rxjs_["BehaviorSubject"]({}));defineProperty_default()(this,"stop$",new external_osdSharedDeps_Rxjs_["ReplaySubject"](1));defineProperty_default()(this,"navLinks$",new external_osdSharedDeps_Rxjs_["BehaviorSubject"]([]));defineProperty_default()(this,"navGroupEnabled",false);defineProperty_default()(this,"navGroupEnabledUiSettingsSubscription",void 0);defineProperty_default()(this,"navGroupUpdaters$$",new external_osdSharedDeps_Rxjs_["BehaviorSubject"]([]));defineProperty_default()(this,"currentNavGroup$",new external_osdSharedDeps_Rxjs_["BehaviorSubject"](undefined));defineProperty_default()(this,"currentNavGroupSubscription",void 0);defineProperty_default()(this,"currentAppIdSubscription",void 0)}addNavLinkToGroup(currentGroupsMap,navGroup,navLink){const matchedGroup=currentGroupsMap[navGroup.id];if(matchedGroup){const links=matchedGroup.navLinks;const isLinkExistInGroup=links.some(link=>link.id===navLink.id);if(isLinkExistInGroup){console.warn(`[ChromeService] Navlink of ${navLink.id} has already been registered in group ${navGroup.id}`);return currentGroupsMap}matchedGroup.navLinks.push(navLink)}else{currentGroupsMap[navGroup.id]=nav_group_service_objectSpread(nav_group_service_objectSpread({},navGroup),{},{navLinks:[navLink]})}return currentGroupsMap}sortNavGroupNavLinks(navLinks,allValidNavLinks){return getSortedNavLinks(fulfillRegistrationLinksToChromeNavLinks(navLinks,allValidNavLinks))}getNavLinksForAllUseCase(navGroupsMap,navLinks){var _navGroupsMap$ALL_USE;const navLinksResult=[...((_navGroupsMap$ALL_USE=navGroupsMap[ALL_USE_CASE_ID])===null||_navGroupsMap$ALL_USE===void 0?void 0:_navGroupsMap$ALL_USE.navLinks)||[]];const linkIdsWithNavGroupInfo=Object.values(navGroupsMap).reduce((accumulator,navGroup)=>{if(!navGroup.type){const categoryInfo={id:navGroup.id,label:navGroup.title,order:navGroup.order};const fulfilledLinksOfNavGroup=fulfillRegistrationLinksToChromeNavLinks(navGroup.navLinks,navLinks);const linksForAllUseCaseWithinNavGroup=[];fulfilledLinksOfNavGroup.forEach(navLink=>{if(!navLink.showInAllNavGroup){return}linksForAllUseCaseWithinNavGroup.push(nav_group_service_objectSpread(nav_group_service_objectSpread({},navLink),{},{category:categoryInfo}))});navLinksResult.push(...linksForAllUseCaseWithinNavGroup);if(!linksForAllUseCaseWithinNavGroup.length){fulfillRegistrationLinksToChromeNavLinks(navGroup.navLinks,navLinks).forEach(navLink=>{if(navLinksResult.find(navLinkInAll=>navLinkInAll.id===navLink.id)){return}navLinksResult.push(nav_group_service_objectSpread(nav_group_service_objectSpread({},navLink),{},{category:customCategory}))})}}return[...accumulator,...navGroup.navLinks.map(navLink=>navLink.id)]},[]);navLinks.forEach(navLink=>{if(linkIdsWithNavGroupInfo.includes(navLink.id)){return}navLinksResult.push(nav_group_service_objectSpread(nav_group_service_objectSpread({},navLink),{},{category:customCategory}))});return navLinksResult}getSortedNavGroupsMap$(){return Object(external_osdSharedDeps_Rxjs_["combineLatest"])([this.getUpdatedNavGroupsMap$(),this.navLinks$]).pipe(Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(this.stop$)).pipe(Object(external_osdSharedDeps_RxjsOperators_["map"])(_ref=>{let[navGroupsMap,navLinks]=_ref;return Object.keys(navGroupsMap).reduce((sortedNavGroupsMap,navGroupId)=>{const navGroup=navGroupsMap[navGroupId];if(navGroupId===ALL_USE_CASE_ID){sortedNavGroupsMap[navGroupId]=nav_group_service_objectSpread(nav_group_service_objectSpread({},navGroup),{},{navLinks:this.sortNavGroupNavLinks(this.getNavLinksForAllUseCase(navGroupsMap,navLinks),navLinks)})}else{sortedNavGroupsMap[navGroupId]=nav_group_service_objectSpread(nav_group_service_objectSpread({},navGroup),{},{navLinks:this.sortNavGroupNavLinks(navGroup.navLinks,navLinks)})}return sortedNavGroupsMap},{})}))}getUpdatedNavGroupsMap$(){return Object(external_osdSharedDeps_Rxjs_["combineLatest"])([this.navGroupsMap$,this.navGroupUpdaters$$]).pipe(Object(external_osdSharedDeps_RxjsOperators_["switchMap"])(_ref2=>{let[navGroupsMap,updaters$]=_ref2;if(updaters$.length===0){return Object(external_osdSharedDeps_Rxjs_["of"])(navGroupsMap)}return Object(external_osdSharedDeps_Rxjs_["combineLatest"])(updaters$).pipe(Object(external_osdSharedDeps_RxjsOperators_["map"])(updaters=>Object.keys(navGroupsMap).reduce((previousValue,currentKey)=>nav_group_service_objectSpread(nav_group_service_objectSpread({},previousValue),{},{[currentKey]:updaters.reduce((prevNavGroup,currentUpdater)=>nav_group_service_objectSpread(nav_group_service_objectSpread({},prevNavGroup),currentUpdater(prevNavGroup)),navGroupsMap[currentKey])}),{})))}))}setup(_ref3){let{uiSettings:uiSettings}=_ref3;this.navGroupEnabledUiSettingsSubscription=uiSettings.get$("home:useNewHomePage",false).subscribe(value=>{this.navGroupEnabled=value});return{addNavLinksToGroup:(navGroup,navLinks)=>{const currentGroupsMap=nav_group_service_objectSpread({},this.navGroupsMap$.getValue());const navGroupsMapAfterAdd=navLinks.reduce((groupsMap,navLink)=>this.addNavLinkToGroup(groupsMap,navGroup,navLink),currentGroupsMap);this.navGroupsMap$.next(navGroupsMapAfterAdd)},getNavGroupEnabled:()=>this.navGroupEnabled,registerNavGroupUpdater:updater$=>{this.navGroupUpdaters$$.next([...this.navGroupUpdaters$$.getValue(),updater$]);return()=>{this.navGroupUpdaters$$.next(this.navGroupUpdaters$$.getValue().filter(item=>item!==updater$))}}}}async start(_ref4){let{navLinks:navLinks,application:application,breadcrumbsEnricher$:breadcrumbsEnricher$,workspaces:workspaces}=_ref4;this.navLinks$=navLinks.getNavLinks$();const currentNavGroupId=sessionStorage.getItem(CURRENT_NAV_GROUP_ID);this.currentNavGroup$=new external_osdSharedDeps_Rxjs_["BehaviorSubject"](currentNavGroupId?this.navGroupsMap$.getValue()[currentNavGroupId]:undefined);const setCurrentNavGroup=navGroupId=>{const navGroup=navGroupId?this.navGroupsMap$.getValue()[navGroupId]:undefined;if(navGroup){this.currentNavGroup$.next(navGroup);sessionStorage.setItem(CURRENT_NAV_GROUP_ID,navGroup.id)}else{this.currentNavGroup$.next(undefined);sessionStorage.removeItem(CURRENT_NAV_GROUP_ID)}};const currentNavGroupSorted$=Object(external_osdSharedDeps_Rxjs_["combineLatest"])([this.getSortedNavGroupsMap$(),this.currentNavGroup$]).pipe(Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(this.stop$)).pipe(Object(external_osdSharedDeps_RxjsOperators_["map"])(_ref5=>{let[navGroupsMapSorted,currentNavGroup]=_ref5;if(currentNavGroup){return navGroupsMapSorted[currentNavGroup.id]}}));if(this.navGroupEnabled&&!workspaces.currentWorkspace$.getValue()){this.currentNavGroupSubscription=currentNavGroupSorted$.subscribe(currentNavGroup=>{if(currentNavGroup){breadcrumbsEnricher$.next(breadcrumbs=>this.prependCurrentNavGroupToBreadcrumbs(breadcrumbs,currentNavGroup,application.navigateToApp))}else{breadcrumbsEnricher$.next(undefined)}})}this.currentAppIdSubscription=Object(external_osdSharedDeps_Rxjs_["combineLatest"])([application.currentAppId$,this.getSortedNavGroupsMap$()]).subscribe(_ref6=>{let[appId,navGroupMap]=_ref6;if(appId&&navGroupMap){const appIdNavGroupMap=new Map;const visibleUseCases=getVisibleUseCases(navGroupMap);const mapAppIdToNavGroup=navGroup=>{navGroup.navLinks.forEach(navLink=>{const navLinkId=navLink.id;const navGroupSet=appIdNavGroupMap.get(navLinkId)||new Set;navGroupSet.add(navGroup.id);appIdNavGroupMap.set(navLinkId,navGroupSet)})};if(visibleUseCases.length===1){visibleUseCases.forEach(navGroup=>mapAppIdToNavGroup(navGroup))}else{Object.values(navGroupMap).forEach(navGroup=>{if(navGroup.status===NavGroupStatus.Hidden){return}mapAppIdToNavGroup(navGroup)})}const navGroups=appIdNavGroupMap.get(appId);if(navGroups&&navGroups.size===1){const navGroupId=navGroups.values().next().value;const navGroupInfo=navGroupMap[navGroupId];if(application.capabilities.workspaces.enabled&&visibleUseCases.length>1&&navGroupInfo.type!==NavGroupType.SYSTEM){setCurrentNavGroup(undefined)}else{setCurrentNavGroup(navGroupId)}}else if(!navGroups){setCurrentNavGroup(undefined)}}});return{getNavGroupsMap$:()=>this.getSortedNavGroupsMap$(),getNavGroupEnabled:()=>this.navGroupEnabled,getCurrentNavGroup$:()=>currentNavGroupSorted$,setCurrentNavGroup:setCurrentNavGroup}}prependCurrentNavGroupToBreadcrumbs(breadcrumbs,currentNavGroup,navigateToApp){const navGroupBreadcrumb={text:currentNavGroup.title,onClick:()=>{if(currentNavGroup.navLinks&&currentNavGroup.navLinks.length){navigateToApp(currentNavGroup.navLinks[0].id)}}};return[navGroupBreadcrumb,...breadcrumbs]}async stop(){var _this$navGroupEnabled,_this$currentAppIdSub,_this$currentNavGroup;this.stop$.next();(_this$navGroupEnabled=this.navGroupEnabledUiSettingsSubscription)===null||_this$navGroupEnabled===void 0||_this$navGroupEnabled.unsubscribe();(_this$currentAppIdSub=this.currentAppIdSubscription)===null||_this$currentAppIdSub===void 0||_this$currentAppIdSub.unsubscribe();(_this$currentNavGroup=this.currentNavGroupSubscription)===null||_this$currentNavGroup===void 0||_this$currentNavGroup.unsubscribe()}}const IS_LOCKED_KEY="core.chrome.isLocked";class chrome_service_ChromeService{constructor(params){this.params=params;defineProperty_default()(this,"isVisible$",void 0);defineProperty_default()(this,"isForceHidden$",void 0);defineProperty_default()(this,"headerVariant$",void 0);defineProperty_default()(this,"headerVariantOverride$",void 0);defineProperty_default()(this,"stop$",new external_osdSharedDeps_Rxjs_["ReplaySubject"](1));defineProperty_default()(this,"navControls",new nav_controls_service_NavControlsService);defineProperty_default()(this,"navLinks",new nav_links_service_NavLinksService);defineProperty_default()(this,"recentlyAccessed",new recently_accessed_service_RecentlyAccessedService);defineProperty_default()(this,"docTitle",new doc_title_service_DocTitleService);defineProperty_default()(this,"navGroup",new nav_group_service_ChromeNavGroupService);defineProperty_default()(this,"globalSearch",new global_search_service_GlobalSearchService);defineProperty_default()(this,"useUpdatedHeader",false);defineProperty_default()(this,"updatedHeaderSubscription",void 0);defineProperty_default()(this,"collapsibleNavHeaderRender",void 0)}initVisibility(application){const isEmbedded="embed"in Object(url_url["parse"])(location.hash.slice(1),true).query;this.isForceHidden$=new external_osdSharedDeps_Rxjs_["BehaviorSubject"](isEmbedded);const appHidden$=Object(external_osdSharedDeps_Rxjs_["merge"])(Object(external_osdSharedDeps_Rxjs_["of"])(true),application.currentAppId$.pipe(Object(external_osdSharedDeps_RxjsOperators_["switchMap"])(appId=>application.applications$.pipe(Object(external_osdSharedDeps_RxjsOperators_["map"])(applications=>!!appId&&applications.has(appId)&&!!applications.get(appId).chromeless)))));this.isVisible$=Object(external_osdSharedDeps_Rxjs_["combineLatest"])([appHidden$,this.isForceHidden$]).pipe(Object(external_osdSharedDeps_RxjsOperators_["map"])(_ref=>{let[appHidden,forceHidden]=_ref;return!appHidden&&!forceHidden}),Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(this.stop$))}initHeaderVariant(application){this.headerVariantOverride$=new external_osdSharedDeps_Rxjs_["BehaviorSubject"](undefined);const appHeaderVariant$=application.currentAppId$.pipe(Object(external_osdSharedDeps_RxjsOperators_["switchMap"])(appId=>application.applications$.pipe(Object(external_osdSharedDeps_RxjsOperators_["map"])(applications=>appId&&applications.has(appId)&&applications.get(appId).headerVariant))));this.headerVariant$=Object(external_osdSharedDeps_Rxjs_["combineLatest"])([appHeaderVariant$,this.headerVariantOverride$]).pipe(Object(external_osdSharedDeps_RxjsOperators_["map"])(_ref2=>{let[appHeaderVariant,headerVariantOverride]=_ref2;return headerVariantOverride||appHeaderVariant}),Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(this.stop$))}setup(_ref3){let{uiSettings:uiSettings}=_ref3;const navGroup=this.navGroup.setup({uiSettings:uiSettings});const globalSearch=this.globalSearch.setup();return{registerCollapsibleNavHeader:render=>{if(this.collapsibleNavHeaderRender){console.warn("[ChromeService] An existing custom collapsible navigation bar header render has been overridden.")}this.collapsibleNavHeaderRender=render},navGroup:navGroup,globalSearch:globalSearch}}async start(_ref4){let{application:application,docLinks:docLinks,http:http,injectedMetadata:injectedMetadata,notifications:notifications,uiSettings:uiSettings,overlays:overlays,workspaces:workspaces}=_ref4;this.initVisibility(application);this.initHeaderVariant(application);this.updatedHeaderSubscription=uiSettings.get$("home:useNewHomePage",false).subscribe(value=>{this.useUpdatedHeader=value});const appTitle$=new external_osdSharedDeps_Rxjs_["BehaviorSubject"]("Overview");const applicationClasses$=new external_osdSharedDeps_Rxjs_["BehaviorSubject"](new Set);const helpExtension$=new external_osdSharedDeps_Rxjs_["BehaviorSubject"](undefined);const breadcrumbs$=new external_osdSharedDeps_Rxjs_["BehaviorSubject"]([]);const breadcrumbsEnricher$=new external_osdSharedDeps_Rxjs_["BehaviorSubject"](undefined);const badge$=new external_osdSharedDeps_Rxjs_["BehaviorSubject"](undefined);const customNavLink$=new external_osdSharedDeps_Rxjs_["BehaviorSubject"](undefined);const helpSupportUrl$=new external_osdSharedDeps_Rxjs_["BehaviorSubject"](OPENSEARCH_DASHBOARDS_ASK_OPENSEARCH_LINK);const isNavDrawerLocked$=new external_osdSharedDeps_Rxjs_["BehaviorSubject"](localStorage.getItem(IS_LOCKED_KEY)==="true");const sidecarConfig$=overlays.sidecar.getSidecarConfig$();const navControls=this.navControls.start();const navLinks=this.navLinks.start({application:application,http:http});const recentlyAccessed=await this.recentlyAccessed.start({http:http,workspaces:workspaces,application:application});const docTitle=this.docTitle.start({document:window.document});const navGroup=await this.navGroup.start({navLinks:navLinks,application:application,breadcrumbsEnricher$:breadcrumbsEnricher$,workspaces:workspaces});const globalSearch=this.globalSearch.start();application.currentAppId$.subscribe(()=>{helpExtension$.next(undefined);breadcrumbs$.next([]);badge$.next(undefined);docTitle.reset()});const setIsNavDrawerLocked=isLocked=>{isNavDrawerLocked$.next(isLocked);localStorage.setItem(IS_LOCKED_KEY,`${isLocked}`)};const getIsNavDrawerLocked$=isNavDrawerLocked$.pipe(Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(this.stop$));const logos=getLogos(injectedMetadata.getBranding(),http.basePath.serverBasePath);if(this.useUpdatedHeader){navControls.registerLeftBottom({order:9e3,mount:element=>{external_osdSharedDeps_ReactDom_default.a.render(external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["I18nProvider"],null,external_osdSharedDeps_React_default.a.createElement(HeaderHelpMenu,{helpExtension$:helpExtension$.pipe(Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(this.stop$)),helpSupportUrl$:helpSupportUrl$.pipe(Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(this.stop$)),opensearchDashboardsDocLink:docLinks.links.opensearchDashboards.introduction,opensearchDashboardsVersion:injectedMetadata.getOpenSearchDashboardsVersion(),surveyLink:injectedMetadata.getSurvey(),useUpdatedAppearance:true})),element);return()=>external_osdSharedDeps_ReactDom_default.a.unmountComponentAtNode(element)}})}const isIE=()=>{const ua=window.navigator.userAgent;const msie=ua.indexOf("MSIE ");const trident=ua.indexOf("Trident/");return msie>0||trident>0};if(!this.params.browserSupportsCsp&&injectedMetadata.getCspConfig().warnLegacyBrowsers){notifications.toasts.addWarning({title:mountReactNode(external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"core.chrome.legacyBrowserWarning",defaultMessage:"Your browser does not meet the security requirements for OpenSearch Dashboards."}))})}if(isIE()){notifications.toasts.addWarning({title:mountReactNode(external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"core.chrome.browserDeprecationWarning",defaultMessage:"Internet Explorer lacks features required for OpenSearch Dashboards to function correctly; please use one of {link}.",values:{link:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiLink"],{target:"_blank",href:docLinks.links.opensearchDashboards.browser,external:true},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"core.chrome.browserDeprecationLink",defaultMessage:"the supported browsers listed on our website"}))}}))})}return{navControls:navControls,navLinks:navLinks,recentlyAccessed:recentlyAccessed,docTitle:docTitle,logos:logos,navGroup:navGroup,globalSearch:globalSearch,getHeaderComponent:()=>external_osdSharedDeps_React_default.a.createElement(Header,{http:http,loadingCount$:http.getLoadingCount$(),application:application,appTitle$:appTitle$.pipe(Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(this.stop$)),badge$:badge$.pipe(Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(this.stop$)),basePath:http.basePath,breadcrumbs$:breadcrumbs$.pipe(Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(this.stop$)),breadcrumbsEnricher$:breadcrumbsEnricher$.pipe(Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(this.stop$)),customNavLink$:customNavLink$.pipe(Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(this.stop$)),opensearchDashboardsDocLink:docLinks.links.opensearchDashboards.introduction,forceAppSwitcherNavigation$:navLinks.getForceAppSwitcherNavigation$(),helpExtension$:helpExtension$.pipe(Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(this.stop$)),helpSupportUrl$:helpSupportUrl$.pipe(Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(this.stop$)),homeHref:application.getUrlForApp("home"),isVisible$:this.isVisible$,headerVariant$:this.headerVariant$,opensearchDashboardsVersion:injectedMetadata.getOpenSearchDashboardsVersion(),navLinks$:navLinks.getNavLinks$(),recentlyAccessed$:recentlyAccessed.get$(),navControlsLeft$:navControls.getLeft$(),navControlsCenter$:navControls.getCenter$(),navControlsRight$:navControls.getRight$(),navControlsExpandedCenter$:navControls.getExpandedCenter$(),navControlsExpandedRight$:navControls.getExpandedRight$(),navControlsLeftBottom$:navControls.getLeftBottom$(),navControlsPrimaryHeaderRight$:navControls.getPrimaryHeaderRight$(),onIsLockedUpdate:setIsNavDrawerLocked,isLocked$:getIsNavDrawerLocked$,branding:injectedMetadata.getBranding(),logos:logos,survey:injectedMetadata.getSurvey(),collapsibleNavHeaderRender:this.collapsibleNavHeaderRender,sidecarConfig$:sidecarConfig$,navGroupEnabled:navGroup.getNavGroupEnabled(),currentNavGroup$:navGroup.getCurrentNavGroup$(),navGroupsMap$:navGroup.getNavGroupsMap$(),setCurrentNavGroup:navGroup.setCurrentNavGroup,workspaceList$:workspaces.workspaceList$,currentWorkspace$:workspaces.currentWorkspace$,useUpdatedHeader:this.useUpdatedHeader,globalSearchCommands:globalSearch.getAllSearchCommands()}),setAppTitle:appTitle=>appTitle$.next(appTitle),getIsVisible$:()=>this.isVisible$,setIsVisible:isVisible=>this.isForceHidden$.next(!isVisible),getHeaderVariant$:()=>this.headerVariant$,setHeaderVariant:variant=>this.headerVariantOverride$.next(variant),getApplicationClasses$:()=>applicationClasses$.pipe(Object(external_osdSharedDeps_RxjsOperators_["map"])(set=>[...set]),Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(this.stop$)),addApplicationClass:className=>{const update=new Set([...applicationClasses$.getValue()]);update.add(className);applicationClasses$.next(update)},removeApplicationClass:className=>{const update=new Set([...applicationClasses$.getValue()]);update.delete(className);applicationClasses$.next(update)},getBadge$:()=>badge$.pipe(Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(this.stop$)),setBadge:badge=>{badge$.next(badge)},getBreadcrumbs$:()=>breadcrumbs$.pipe(Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(this.stop$)),setBreadcrumbs:newBreadcrumbs=>{breadcrumbs$.next(newBreadcrumbs)},getBreadcrumbsEnricher$:()=>breadcrumbsEnricher$.pipe(Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(this.stop$)),setBreadcrumbsEnricher:enricher=>{breadcrumbsEnricher$.next(enricher)},getHelpExtension$:()=>helpExtension$.pipe(Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(this.stop$)),setHelpExtension:helpExtension=>{helpExtension$.next(helpExtension)},setHelpSupportUrl:url=>helpSupportUrl$.next(url),getIsNavDrawerLocked$:()=>getIsNavDrawerLocked$,getCustomNavLink$:()=>customNavLink$.pipe(Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(this.stop$)),setCustomNavLink:customNavLink=>{customNavLink$.next(customNavLink)}}}stop(){var _this$updatedHeaderSu;this.navLinks.stop();this.navGroup.stop();(_this$updatedHeaderSu=this.updatedHeaderSubscription)===null||_this$updatedHeaderSu===void 0||_this$updatedHeaderSu.unsubscribe();this.stop$.next()}}function fatal_errors_screen_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function fatal_errors_screen_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?fatal_errors_screen_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):fatal_errors_screen_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}class fatal_errors_screen_FatalErrorsScreen extends external_osdSharedDeps_React_default.a.Component{constructor(){super(...arguments);defineProperty_default()(this,"state",{errors:[]});defineProperty_default()(this,"subscription",void 0);defineProperty_default()(this,"onClickGoBack",e=>{e.preventDefault();window.history.back()});defineProperty_default()(this,"onClickClearSession",e=>{e.preventDefault();localStorage.clear();sessionStorage.clear();window.location.hash="";window.location.reload()})}componentDidMount(){this.subscription=external_osdSharedDeps_Rxjs_["merge"](external_osdSharedDeps_Rxjs_["fromEvent"](window,"hashchange").pipe(Object(external_osdSharedDeps_RxjsOperators_["tap"])(()=>{window.location.reload()})),this.props.errorInfo$.pipe(Object(external_osdSharedDeps_RxjsOperators_["tap"])(error=>{this.setState(state=>fatal_errors_screen_objectSpread(fatal_errors_screen_objectSpread({},state),{},{errors:[...state.errors,error]}))}))).subscribe({error(error){console.error("Uncaught error in fatal error screen internals",error)}})}componentWillUnmount(){if(this.subscription){this.subscription.unsubscribe();this.subscription=undefined}}render(){return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPage"],{style:{minHeight:"100vh"}},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPageBody"],{component:"main"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPageContent"],{verticalPosition:"center",horizontalPosition:"center"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiEmptyPrompt"],{iconType:"alert",iconColor:"danger",title:external_osdSharedDeps_React_default.a.createElement("h2",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"core.fatalErrors.somethingWentWrongTitle",defaultMessage:"Something went wrong"})),body:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_osdSharedDeps_React_default.a.createElement("p",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"core.fatalErrors.tryRefreshingPageDescription",defaultMessage:"Try refreshing the page. If that doesn't work, go back to the previous page or clear your session data."}))),actions:[external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSmallButton"],{color:"primary",fill:true,onClick:this.onClickClearSession,"data-test-subj":"clearSession"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"core.fatalErrors.clearYourSessionButtonLabel",defaultMessage:"Clear your session"})),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSmallButtonEmpty"],{onClick:this.onClickGoBack,"data-test-subj":"goBack"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"core.fatalErrors.goBackButtonLabel",defaultMessage:"Go back"}))]}),this.state.errors.map((error,i)=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCallOut"],{key:i,title:error.message,color:"danger",iconType:"alert"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCodeBlock"],{language:"bash",className:"eui-textBreakAll"},`Version: ${this.props.opensearchDashboardsVersion}`+"\n"+`Build: ${this.props.buildNumber}`+"\n"+(error.stack?error.stack:"")))))))}}var util=__webpack_require__(125);function formatErrorMessage(error){if(typeof error==="string"){return error}if(!error){return Object(util["inspect"])(error)}if(error.resp&&error.resp.error&&error.resp.error.root_cause){return error.resp.error.root_cause.map(cause=>cause.reason).join("\n")}if(error.body&&typeof error.body.message==="string"){return error.body.message}if(error instanceof Error&&error.message){return error.message}return Object(util["inspect"])(error)}function formatStack(err){if(err.stack&&!err.stack.includes(err.message)){return"Error: "+err.message+"\n"+err.stack}return err.stack}function getErrorInfo(error,source){const prefix=source?source+": ":"";return{message:prefix+formatErrorMessage(error),stack:formatStack(error)}}class fatal_errors_service_FatalErrorsService{constructor(rootDomElement,onFirstErrorCb){this.rootDomElement=rootDomElement;this.onFirstErrorCb=onFirstErrorCb;defineProperty_default()(this,"errorInfo$",new external_osdSharedDeps_Rxjs_["ReplaySubject"]);defineProperty_default()(this,"fatalErrors",void 0)}setup(_ref){let{i18n:i18n,injectedMetadata:injectedMetadata}=_ref;this.errorInfo$.pipe(Object(external_osdSharedDeps_RxjsOperators_["first"])(),Object(external_osdSharedDeps_RxjsOperators_["tap"])(()=>{this.onFirstErrorCb();this.renderError(injectedMetadata,i18n)})).subscribe({error:error=>{console.error("Uncaught error in fatal error service internals",error)}});this.fatalErrors={add:(error,source)=>{const errorInfo=getErrorInfo(error,source);this.errorInfo$.next(errorInfo);if(error instanceof Error){console.error(error)}throw error},get$:()=>this.errorInfo$.asObservable()};this.setupGlobalErrorHandlers(this.fatalErrors);return this.fatalErrors}start(){const{fatalErrors:fatalErrors}=this;if(!fatalErrors){throw new Error("FatalErrorsService#setup() must be invoked before start.")}return fatalErrors}renderError(injectedMetadata,i18n){this.rootDomElement.textContent="";const container=document.createElement("div");this.rootDomElement.appendChild(container);Object(external_osdSharedDeps_ReactDom_["render"])(external_osdSharedDeps_React_default.a.createElement(i18n.Context,null,external_osdSharedDeps_React_default.a.createElement(fatal_errors_screen_FatalErrorsScreen,{buildNumber:injectedMetadata.getOpenSearchDashboardsBuildNumber(),opensearchDashboardsVersion:injectedMetadata.getOpenSearchDashboardsVersion(),errorInfo$:this.errorInfo$})),container)}setupGlobalErrorHandlers(fatalErrorsSetup){if(window.addEventListener){window.addEventListener("unhandledrejection",(function(e){console.log(`Detected an unhandled Promise rejection.\n${e.reason}`)}))}}}class base_path_BasePath{constructor(){let basePath=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";let serverBasePath=arguments.length>1&&arguments[1]!==undefined?arguments[1]:basePath;let clientBasePath=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";this.basePath=basePath;this.serverBasePath=serverBasePath;this.clientBasePath=clientBasePath;defineProperty_default()(this,"get",()=>`${this.basePath}${this.clientBasePath}`);defineProperty_default()(this,"getBasePath",()=>this.basePath);defineProperty_default()(this,"prepend",(path,prependOptions)=>{const{withoutClientBasePath:withoutClientBasePath}=prependOptions||{};const basePath=withoutClientBasePath?this.basePath:this.get();if(!basePath)return path;return modifyUrl(path,parts=>{if(!parts.hostname&&parts.pathname&&parts.pathname.startsWith("/")){parts.pathname=`${basePath}${parts.pathname}`}})});defineProperty_default()(this,"remove",(path,prependOptions)=>{const{withoutClientBasePath:withoutClientBasePath}=prependOptions||{};const basePath=withoutClientBasePath?this.basePath:this.get();if(!basePath){return path}if(path===basePath){return"/"}if(path.startsWith(`${basePath}/`)){return path.slice(basePath.length)}return path})}}class anonymous_paths_service_AnonymousPathsService{constructor(){defineProperty_default()(this,"paths",new Set)}setup(_ref){let{basePath:basePath}=_ref;return{isAnonymous:path=>{const pathWithoutBasePath=basePath.remove(path);return this.paths.has(normalizePath(pathWithoutBasePath))},register:path=>{this.paths.add(normalizePath(path))},normalizePath:normalizePath}}start(deps){return this.setup(deps)}stop(){}}const normalizePath=path=>{let normalized=path.toLowerCase();if(normalized.endsWith("/")){normalized=normalized.slice(0,normalized.length-1)}if(!normalized.startsWith("/")){normalized=`/${normalized}`}return normalized};class loading_count_service_LoadingCountService{constructor(){defineProperty_default()(this,"stop$",new external_osdSharedDeps_Rxjs_["Subject"]);defineProperty_default()(this,"loadingCount$",new external_osdSharedDeps_Rxjs_["BehaviorSubject"](0))}setup(_ref){let{fatalErrors:fatalErrors}=_ref;return{getLoadingCount$:()=>this.loadingCount$.pipe(Object(external_osdSharedDeps_RxjsOperators_["distinctUntilChanged"])()),addLoadingCountSource:count$=>{count$.pipe(Object(external_osdSharedDeps_RxjsOperators_["distinctUntilChanged"])(),Object(external_osdSharedDeps_RxjsOperators_["tap"])(count=>{if(count<0){throw new Error("Observables passed to loadingCount.add() must only emit positive numbers")}}),Object(external_osdSharedDeps_RxjsOperators_["takeUntil"])(this.stop$),Object(external_osdSharedDeps_RxjsOperators_["endWith"])(0),Object(external_osdSharedDeps_RxjsOperators_["startWith"])(0),Object(external_osdSharedDeps_RxjsOperators_["pairwise"])(),Object(external_osdSharedDeps_RxjsOperators_["map"])(_ref2=>{let[prev,next]=_ref2;return next-prev})).subscribe({next:delta=>{this.loadingCount$.next(this.loadingCount$.getValue()+delta)},error:error=>fatalErrors.add(error)})}}}start(_ref3){let{fatalErrors:fatalErrors}=_ref3;return this.setup({fatalErrors:fatalErrors})}stop(){this.stop$.next();this.loadingCount$.complete()}}var umd=__webpack_require__(126);var umd_default=__webpack_require__.n(umd);const stringify=(obj,replacer,space)=>{let text;let numeralsAreNumbers=true;const checkForBigInts=replacer?function(key,val){if(typeof val==="bigint"){numeralsAreNumbers=false;return replacer.call(this,key,Number(val))}return replacer.call(this,key,val)}:(key,val)=>{if(typeof val==="bigint"){numeralsAreNumbers=false;return Number(val)}return val};text=JSON.stringify(obj,checkForBigInts,space);if(!numeralsAreNumbers){const temp=umd_default.a.stringify(obj,{replacer:replacer,space:space,withBigInt:false,quote:'"',quoteNames:true});if(temp)text=temp}return text};const parse=(text,reviver)=>{let obj;let numeralsAreNumbers=true;const inspectValueForLargeNumerals=val=>{if(numeralsAreNumbers&&typeof val==="number"&&isFinite(val)&&(val<Number.MIN_SAFE_INTEGER||val>Number.MAX_SAFE_INTEGER)){numeralsAreNumbers=false}return val};const checkForLargeNumerals=reviver?function(key,val){return inspectValueForLargeNumerals(reviver.call(this,key,val))}:(key,val)=>inspectValueForLargeNumerals(val);obj=JSON.parse(text,checkForLargeNumerals);if(!numeralsAreNumbers){const temp=umd_default.a.parse(text,reviver,{withLongNumerals:true});if(temp)obj=temp}return obj};class http_fetch_error_HttpFetchError extends Error{constructor(message,name,request,response,body){super(message);this.request=request;this.response=response;this.body=body;defineProperty_default()(this,"name",void 0);defineProperty_default()(this,"req",void 0);defineProperty_default()(this,"res",void 0);this.name=name;this.req=request;this.res=response;if(Error.captureStackTrace){Error.captureStackTrace(this,http_fetch_error_HttpFetchError)}}}class http_intercept_controller_HttpInterceptController{constructor(){defineProperty_default()(this,"_halted",false)}get halted(){return this._halted}halt(){this._halted=true}}class HttpInterceptHaltError extends Error{constructor(){super("HTTP Intercept Halt");if(Error.captureStackTrace){Error.captureStackTrace(this,HttpInterceptHaltError)}}}function intercept_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function intercept_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?intercept_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):intercept_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}async function interceptRequest(options,interceptors,controller){let current;return[...interceptors].reduceRight((promise,interceptor)=>promise.then(async fetchOptions=>{current=fetchOptions;checkHalt(controller);if(!interceptor.request){return fetchOptions}const overrides=await interceptor.request(current,controller);return intercept_objectSpread(intercept_objectSpread({},current),overrides)},async error=>{checkHalt(controller,error);if(!interceptor.requestError){throw error}const overrides=await interceptor.requestError({error:error,fetchOptions:current},controller);if(!overrides){throw error}current=intercept_objectSpread(intercept_objectSpread({},current),overrides);return current}),Promise.resolve(options))}async function interceptResponse(fetchOptions,responsePromise,interceptors,controller){let current;return await[...interceptors].reduce((promise,interceptor)=>promise.then(async httpResponse=>{current=httpResponse;checkHalt(controller);if(!interceptor.response){return httpResponse}const interceptorOverrides=await interceptor.response(httpResponse,controller)||{};return intercept_objectSpread(intercept_objectSpread({},httpResponse),interceptorOverrides)},async error=>{const request=error.request||current&&current.request;checkHalt(controller,error);if(!interceptor.responseError){throw error}try{const next=await interceptor.responseError({error:error,fetchOptions:fetchOptions,request:request,response:error.response||current&&current.response,body:error.body||current&&current.body},controller);checkHalt(controller,error);if(!next){throw error}return intercept_objectSpread(intercept_objectSpread({},next),{},{request:request,fetchOptions:fetchOptions})}catch(err){checkHalt(controller,err);throw err}}),responsePromise)}function checkHalt(controller,error){if(error instanceof HttpInterceptHaltError){throw error}else if(controller.halted){throw new HttpInterceptHaltError}}const fetch_excluded=["query","prependBasePath","asResponse","asSystemRequest"];function fetch_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function fetch_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?fetch_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):fetch_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const JSON_CONTENT=/^(application\/(json|x-javascript)|text\/(x-)?javascript|x-json)(;.*)?$/;const NDJSON_CONTENT=/^(application\/ndjson)(;.*)?$/;const removedUndefined=obj=>Object(external_osdSharedDeps_Lodash_["omitBy"])(obj,v=>v===undefined);class fetch_Fetch{constructor(params){this.params=params;defineProperty_default()(this,"interceptors",new Set);defineProperty_default()(this,"requestCount$",new external_osdSharedDeps_Rxjs_["BehaviorSubject"](0));defineProperty_default()(this,"delete",this.shorthand("DELETE"));defineProperty_default()(this,"get",this.shorthand("GET"));defineProperty_default()(this,"head",this.shorthand("HEAD"));defineProperty_default()(this,"options",this.shorthand("options"));defineProperty_default()(this,"patch",this.shorthand("PATCH"));defineProperty_default()(this,"post",this.shorthand("POST"));defineProperty_default()(this,"put",this.shorthand("PUT"));defineProperty_default()(this,"fetch",async(pathOrOptions,options)=>{const optionsWithPath=validateFetchArguments(pathOrOptions,options);const controller=new http_intercept_controller_HttpInterceptController;return new Promise(async(resolve,reject)=>{try{this.requestCount$.next(this.requestCount$.value+1);const interceptedOptions=await interceptRequest(optionsWithPath,this.interceptors,controller);const initialResponse=this.fetchResponse(interceptedOptions);const interceptedResponse=await interceptResponse(interceptedOptions,initialResponse,this.interceptors,controller);if(optionsWithPath.asResponse){resolve(interceptedResponse)}else{resolve(interceptedResponse.body)}}catch(error){if(!(error instanceof HttpInterceptHaltError)){reject(error)}}finally{this.requestCount$.next(this.requestCount$.value-1)}})})}intercept(interceptor){this.interceptors.add(interceptor);return()=>{this.interceptors.delete(interceptor)}}removeAllInterceptors(){this.interceptors.clear()}getRequestCount$(){return this.requestCount$.asObservable()}createRequest(options){const _method$credentials$p=fetch_objectSpread(fetch_objectSpread({method:"GET",credentials:"same-origin",prependBasePath:true},options),{},{headers:removedUndefined(fetch_objectSpread({"Content-Type":"application/json"},options.headers))}),{query:query,prependBasePath:shouldPrependBasePath,asResponse:asResponse,asSystemRequest:asSystemRequest}=_method$credentials$p,fetchOptions=objectWithoutProperties_default()(_method$credentials$p,fetch_excluded);const url=Object(url_url["format"])({pathname:shouldPrependBasePath?this.params.basePath.prepend(options.path,options.prependOptions):options.path,query:removedUndefined(query)});if(asSystemRequest){fetchOptions.headers["osd-system-request"]="true"}const basePath=this.params.basePath.get();if(isRelativeUrl(url)||url===basePath||url.startsWith(`${basePath}/`)){fetchOptions.headers["osd-version"]=this.params.opensearchDashboardsVersion;fetchOptions.headers["osd-xsrf"]="osd-fetch"}return new Request(url,fetchOptions)}async fetchResponse(fetchOptions){const request=this.createRequest(fetchOptions);let response;let body=null;try{response=await window.fetch(request)}catch(err){var _err$name;throw new http_fetch_error_HttpFetchError(err.message,(_err$name=err.name)!==null&&_err$name!==void 0?_err$name:"Error",request)}const contentType=response.headers.get("Content-Type")||"";try{if(NDJSON_CONTENT.test(contentType)){body=await response.blob()}else if(JSON_CONTENT.test(contentType)){body=fetchOptions.withLongNumeralsSupport||fetchOptions.withLongNumerals?parse(await response.text()):await response.json()}else{const text=await response.text();try{body=fetchOptions.withLongNumeralsSupport||fetchOptions.withLongNumerals?parse(text):JSON.parse(text)}catch(err){body=text}}}catch(err){var _err$name2;throw new http_fetch_error_HttpFetchError(err.message,(_err$name2=err.name)!==null&&_err$name2!==void 0?_err$name2:"Error",request,response,body)}if(!response.ok){throw new http_fetch_error_HttpFetchError(response.statusText,"Error",request,response,body)}return{fetchOptions:fetchOptions,request:request,response:response,body:body}}shorthand(method){return(pathOrOptions,options)=>{const optionsWithPath=validateFetchArguments(pathOrOptions,options);return this.fetch(fetch_objectSpread(fetch_objectSpread({},optionsWithPath),{},{method:method}))}}}const validateFetchArguments=(pathOrOptions,options)=>{var _fullOptions$headers;let fullOptions;if(typeof pathOrOptions==="string"&&(typeof options==="object"||options===undefined)){fullOptions=fetch_objectSpread(fetch_objectSpread({},options),{},{path:pathOrOptions})}else if(typeof pathOrOptions==="object"&&options===undefined){fullOptions=pathOrOptions}else{throw new Error(`Invalid fetch arguments, must either be (string, object) or (object, undefined), received (${typeof pathOrOptions}, ${typeof options})`)}const invalidHeaders=Object.keys((_fullOptions$headers=fullOptions.headers)!==null&&_fullOptions$headers!==void 0?_fullOptions$headers:{}).filter(headerName=>headerName.startsWith("osd-"));if(invalidHeaders.length){throw new Error(`Invalid fetch headers, headers beginning with "osd-" are not allowed: [${invalidHeaders.join(",")}]`)}return fullOptions};function http_service_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function http_service_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?http_service_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):http_service_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}class http_service_HttpService{constructor(){defineProperty_default()(this,"anonymousPaths",new anonymous_paths_service_AnonymousPathsService);defineProperty_default()(this,"loadingCount",new loading_count_service_LoadingCountService);defineProperty_default()(this,"service",void 0)}setup(_ref){let{injectedMetadata:injectedMetadata,fatalErrors:fatalErrors}=_ref;const opensearchDashboardsVersion=injectedMetadata.getOpenSearchDashboardsVersion();let clientBasePath="";const workspaceId=getWorkspaceIdFromUrl(window.location.href,injectedMetadata.getBasePath());if(workspaceId){clientBasePath=`${WORKSPACE_PATH_PREFIX}/${workspaceId}`}const basePath=new base_path_BasePath(injectedMetadata.getBasePath(),injectedMetadata.getServerBasePath(),clientBasePath);const fetchService=new fetch_Fetch({basePath:basePath,opensearchDashboardsVersion:opensearchDashboardsVersion});const loadingCount=this.loadingCount.setup({fatalErrors:fatalErrors});loadingCount.addLoadingCountSource(fetchService.getRequestCount$());this.service=http_service_objectSpread({basePath:basePath,anonymousPaths:this.anonymousPaths.setup({basePath:basePath}),intercept:fetchService.intercept.bind(fetchService),fetch:fetchService.fetch.bind(fetchService),delete:fetchService.delete.bind(fetchService),get:fetchService.get.bind(fetchService),head:fetchService.head.bind(fetchService),options:fetchService.options.bind(fetchService),patch:fetchService.patch.bind(fetchService),post:fetchService.post.bind(fetchService),put:fetchService.put.bind(fetchService)},loadingCount);return this.service}start(){if(!this.service){throw new Error(`HttpService#setup() must be called first!`)}return this.service}stop(){this.loadingCount.stop()}}const getEuiContextMapping=()=>{const euiContextMapping={"euiBasicTable.selectAllRows":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiBasicTable.selectAllRows",{defaultMessage:"Select all rows",description:"ARIA and displayed label on a checkbox to select all table rows"}),"euiBasicTable.selectThisRow":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiBasicTable.selectThisRow",{defaultMessage:"Select this row",description:"ARIA and displayed label on a checkbox to select a single table row"}),"euiBasicTable.tableDescription":_ref=>{let{itemCount:itemCount}=_ref;return external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiBasicTable.tableDescription",{defaultMessage:"Below is a table of {itemCount} items.",values:{itemCount:itemCount},description:"Screen reader text to describe the size of a table"})},"euiBottomBar.screenReaderAnnouncement":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiBottomBar.screenReaderAnnouncement",{defaultMessage:"There is a new menu opening with page level controls at the end of the document.",description:"Screen reader announcement that functionality is available in the page document"}),"euiBreadcrumbs.collapsedBadge.ariaLabel":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiBreadcrumbs.collapsedBadge.ariaLabel",{defaultMessage:"Show all breadcrumbs",description:"Displayed when one or more breadcrumbs are hidden."}),"euiCardSelect.select":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiCardSelect.select",{defaultMessage:"Select",description:"Displayed button text when a card option can be selected."}),"euiCardSelect.selected":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiCardSelect.selected",{defaultMessage:"Selected",description:"Displayed button text when a card option is selected."}),"euiCardSelect.unavailable":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiCardSelect.unavailable",{defaultMessage:"Unavailable",description:"Displayed button text when a card option is unavailable."}),"euiCodeBlock.copyButton":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiCodeBlock.copyButton",{defaultMessage:"Copy",description:"ARIA label for a button that copies source code text to the clipboard"}),"euiCodeEditor.startEditing":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiCodeEditor.startEditing",{defaultMessage:"Press Enter to start editing."}),"euiCodeEditor.startInteracting":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiCodeEditor.startInteracting",{defaultMessage:"Press Enter to start interacting with the code."}),"euiCodeEditor.stopEditing":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiCodeEditor.stopEditing",{defaultMessage:"When you're done, press Escape to stop editing."}),"euiCodeEditor.stopInteracting":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiCodeEditor.stopInteracting",{defaultMessage:"When you're done, press Escape to stop interacting with the code."}),"euiCollapsedItemActions.allActions":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiCollapsedItemActions.allActions",{defaultMessage:"All actions",description:"ARIA label and tooltip content describing a button that expands an actions menu"}),"euiColorPicker.screenReaderAnnouncement":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiColorPicker.screenReaderAnnouncement",{defaultMessage:"A popup with a range of selectable colors opened. Tab forward to cycle through colors choices or press escape to close this popup.",description:"Message when the color picker popover is opened. Describes the interaction with the elements in the popover."}),"euiColorPicker.swatchAriaLabel":_ref2=>{let{swatch:swatch}=_ref2;return external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiColorPicker.swatchAriaLabel",{defaultMessage:"Select {swatch} as the color",values:{swatch:swatch},description:"Screen reader text to describe the action and hex value of the selectable option"})},"euiColorStopThumb.removeLabel":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiColorStopThumb.removeLabel",{defaultMessage:"Remove this stop",description:"Label accompanying a button whose action will remove the color stop"}),"euiColorStopThumb.screenReaderAnnouncement":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiColorStopThumb.screenReaderAnnouncement",{defaultMessage:"A popup with a color stop edit form opened. Tab forward to cycle through form controls or press escape to close this popup.",description:"Message when the color picker popover has opened for an individual color stop thumb."}),"euiColorStops.screenReaderAnnouncement":_ref3=>{let{label:label,readOnly:readOnly,disabled:disabled}=_ref3;return external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiColorStops.screenReaderAnnouncement",{defaultMessage:"{label}: {readOnly} {disabled} Color stop picker. Each stop consists of a number and corresponding color value. Use the Down and Up arrow keys to select individual stops. Press the Enter key to create a new stop.",values:{label:label,readOnly:readOnly,disabled:disabled},description:"Screen reader text to describe the composite behavior of the color stops component."})},"euiColumnSelector.hideAll":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiColumnSelector.hideAll",{defaultMessage:"Hide all"}),"euiColumnSelector.selectAll":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiColumnSelector.selectAll",{defaultMessage:"Show all"}),"euiColumnSorting.clearAll":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiColumnSorting.clearAll",{defaultMessage:"Clear sorting"}),"euiColumnSorting.emptySorting":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiColumnSorting.emptySorting",{defaultMessage:"Currently no fields are sorted"}),"euiColumnSorting.pickFields":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiColumnSorting.pickFields",{defaultMessage:"Pick fields to sort by"}),"euiColumnSorting.sortFieldAriaLabel":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiColumnSorting.sortFieldAriaLabel",{defaultMessage:"Sort by:"}),"euiColumnSortingDraggable.activeSortLabel":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiColumnSortingDraggable.activeSortLabel",{defaultMessage:"is sorting this data grid"}),"euiColumnSortingDraggable.defaultSortAsc":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiColumnSortingDraggable.defaultSortAsc",{defaultMessage:"A-Z",description:"Ascending sort label"}),"euiColumnSortingDraggable.defaultSortDesc":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiColumnSortingDraggable.defaultSortDesc",{defaultMessage:"Z-A",description:"Descending sort label"}),"euiColumnSortingDraggable.removeSortLabel":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiColumnSortingDraggable.removeSortLabel",{defaultMessage:"Remove from data grid sort:"}),"euiColumnSortingDraggable.toggleLegend":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiColumnSortingDraggable.toggleLegend",{defaultMessage:"Select sorting method for field:"}),"euiComboBoxOptionsList.allOptionsSelected":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiComboBoxOptionsList.allOptionsSelected",{defaultMessage:"You've selected all available options"}),"euiComboBoxOptionsList.alreadyAdded":_ref4=>{let{label:label}=_ref4;return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"core.euiComboBoxOptionsList.alreadyAdded",defaultMessage:"{label} has already been added",values:{label:label}})},"euiComboBoxOptionsList.createCustomOption":_ref5=>{let{key:key,searchValue:searchValue}=_ref5;return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"core.euiComboBoxOptionsList.createCustomOption",defaultMessage:"Hit {key} to add {searchValue} as a custom option",values:{key:key,searchValue:searchValue}})},"euiComboBoxOptionsList.loadingOptions":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiComboBoxOptionsList.loadingOptions",{defaultMessage:"Loading options",description:"Placeholder message while data is asynchronously loaded"}),"euiComboBoxOptionsList.noAvailableOptions":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiComboBoxOptionsList.noAvailableOptions",{defaultMessage:"There aren't any options available"}),"euiComboBoxOptionsList.noMatchingOptions":_ref6=>{let{searchValue:searchValue}=_ref6;return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"core.euiComboBoxOptionsList.noMatchingOptions",defaultMessage:"{searchValue} doesn't match any options",values:{searchValue:searchValue}})},"euiComboBoxPill.removeSelection":_ref7=>{let{children:children}=_ref7;return external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiComboBoxPill.removeSelection",{defaultMessage:"Remove {children} from selection in this group",values:{children:children},description:"ARIA label, `children` is the human-friendly value of an option"})},"euiCommonlyUsedTimeRanges.legend":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiCommonlyUsedTimeRanges.legend",{defaultMessage:"Commonly used"}),"euiDataGrid.screenReaderNotice":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiDataGrid.screenReaderNotice",{defaultMessage:"Cell contains interactive content."}),"euiDataGridCell.expandButtonTitle":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiDataGridCell.expandButtonTitle",{defaultMessage:"Click or hit enter to interact with cell content"}),"euiDataGridSchema.booleanSortTextAsc":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiDataGridSchema.booleanSortTextAsc",{defaultMessage:"True-False",description:"Ascending boolean label"}),"euiDataGridSchema.booleanSortTextDesc":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiDataGridSchema.booleanSortTextDesc",{defaultMessage:"False-True",description:"Descending boolean label"}),"euiDataGridSchema.currencySortTextAsc":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiDataGridSchema.currencySortTextAsc",{defaultMessage:"Low-High",description:"Ascending currency label"}),"euiDataGridSchema.currencySortTextDesc":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiDataGridSchema.currencySortTextDesc",{defaultMessage:"High-Low",description:"Descending currency label"}),"euiDataGridSchema.dateSortTextAsc":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiDataGridSchema.dateSortTextAsc",{defaultMessage:"New-Old",description:"Ascending date label"}),"euiDataGridSchema.dateSortTextDesc":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiDataGridSchema.dateSortTextDesc",{defaultMessage:"Old-New",description:"Descending date label"}),"euiDataGridSchema.numberSortTextAsc":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiDataGridSchema.numberSortTextAsc",{defaultMessage:"Low-High",description:"Ascending number label"}),"euiDataGridSchema.numberSortTextDesc":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiDataGridSchema.numberSortTextDesc",{defaultMessage:"High-Low",description:"Descending number label"}),"euiDataGridSchema.jsonSortTextAsc":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiDataGridSchema.jsonSortTextAsc",{defaultMessage:"Small-Large",description:"Ascending size label"}),"euiDataGridSchema.jsonSortTextDesc":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiDataGridSchema.jsonSortTextDesc",{defaultMessage:"Large-Small",description:"Descending size label"}),"euiFilterButton.filterBadge":_ref8=>{let{count:count,hasActiveFilters:hasActiveFilters}=_ref8;return external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiFilterButton.filterBadge",{defaultMessage:"{count} {filterCountLabel} filters",values:{count:count,filterCountLabel:hasActiveFilters?"active":"available"}})},"euiForm.addressFormErrors":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiForm.addressFormErrors",{defaultMessage:"Please address the errors in your form."}),"euiFormControlLayoutClearButton.label":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiFormControlLayoutClearButton.label",{defaultMessage:"Clear input",description:"ARIA label on a button that removes any entry in a form field"}),"euiHeaderAlert.dismiss":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiHeaderAlert.dismiss",{defaultMessage:"Dismiss",description:"ARIA label on a button that dismisses/removes a notification"}),"euiHeaderLinks.appNavigation":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiHeaderLinks.appNavigation",{defaultMessage:"App navigation",description:"ARIA label on a `nav` element"}),"euiHeaderLinks.openNavigationMenu":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiHeaderLinks.openNavigationMenu",{defaultMessage:"Open navigation menu"}),"euiHue.label":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiHue.label",{defaultMessage:'Select the HSV color mode "hue" value'}),"euiImage.closeImage":_ref9=>{let{alt:alt}=_ref9;return external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiImage.closeImage",{defaultMessage:"Close full screen {alt} image",values:{alt:alt}})},"euiImage.openImage":_ref10=>{let{alt:alt}=_ref10;return external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiImage.openImage",{defaultMessage:"Open full screen {alt} image",values:{alt:alt}})},"euiLink.external.ariaLabel":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiLink.external.ariaLabel",{defaultMessage:"External link"}),"euiModal.closeModal":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiModal.closeModal",{defaultMessage:"Closes this modal window"}),"euiPagination.jumpToLastPage":_ref11=>{let{pageCount:pageCount}=_ref11;return external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiPagination.jumpToLastPage",{defaultMessage:"Jump to the last page, number {pageCount}",values:{pageCount:pageCount}})},"euiPagination.nextPage":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiPagination.nextPage",{defaultMessage:"Next page"}),"euiPagination.pageOfTotal":_ref12=>{let{page:page,total:total}=_ref12;return external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiPagination.pageOfTotal",{defaultMessage:"Page {page} of {total}",values:{page:page,total:total}})},"euiPagination.previousPage":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiPagination.previousPage",{defaultMessage:"Previous page"}),"euiPopover.screenReaderAnnouncement":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiPopover.screenReaderAnnouncement",{defaultMessage:"You are in a dialog. To close this dialog, hit escape."}),"euiQuickSelect.applyButton":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiQuickSelect.applyButton",{defaultMessage:"Apply"}),"euiQuickSelect.fullDescription":_ref13=>{let{timeTense:timeTense,timeValue:timeValue,timeUnit:timeUnit}=_ref13;return external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiQuickSelect.fullDescription",{defaultMessage:"Currently set to {timeTense} {timeValue} {timeUnit}.",values:{timeTense:timeTense,timeValue:timeValue,timeUnit:timeUnit}})},"euiQuickSelect.legendText":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiQuickSelect.legendText",{defaultMessage:"Quick select a time range"}),"euiQuickSelect.nextLabel":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiQuickSelect.nextLabel",{defaultMessage:"Next time window"}),"euiQuickSelect.previousLabel":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiQuickSelect.previousLabel",{defaultMessage:"Previous time window"}),"euiQuickSelect.quickSelectTitle":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiQuickSelect.quickSelectTitle",{defaultMessage:"Quick select"}),"euiQuickSelect.tenseLabel":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiQuickSelect.tenseLabel",{defaultMessage:"Time tense"}),"euiQuickSelect.unitLabel":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiQuickSelect.unitLabel",{defaultMessage:"Time unit"}),"euiQuickSelect.valueLabel":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiQuickSelect.valueLabel",{defaultMessage:"Time value"}),"euiRefreshInterval.fullDescription":_ref14=>{let{optionValue:optionValue,optionText:optionText}=_ref14;return external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiRefreshInterval.fullDescription",{defaultMessage:"Currently set to {optionValue} {optionText}.",values:{optionValue:optionValue,optionText:optionText}})},"euiRefreshInterval.legend":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiRefreshInterval.legend",{defaultMessage:"Refresh every"}),"euiRefreshInterval.start":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiRefreshInterval.start",{defaultMessage:"Start"}),"euiRefreshInterval.stop":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiRefreshInterval.stop",{defaultMessage:"Stop"}),"euiRelativeTab.fullDescription":_ref15=>{let{unit:unit}=_ref15;return external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiRelativeTab.fullDescription",{defaultMessage:"The unit is changeable. Currently set to {unit}.",values:{unit:unit}})},"euiRelativeTab.relativeDate":_ref16=>{let{position:position}=_ref16;return external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiRelativeTab.relativeDate",{defaultMessage:"{position} date",values:{position:position}})},"euiRelativeTab.roundingLabel":_ref17=>{let{unit:unit}=_ref17;return external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiRelativeTab.roundingLabel",{defaultMessage:"Round to the {unit}",values:{unit:unit}})},"euiRelativeTab.unitInputLabel":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiRelativeTab.unitInputLabel",{defaultMessage:"Relative time span"}),"euiSaturation.roleDescription":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiSaturation.roleDescription",{defaultMessage:"HSV color mode saturation and value selection"}),"euiSaturation.screenReaderAnnouncement":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiSaturation.screenReaderAnnouncement",{defaultMessage:'Use the arrow keys to navigate the square color gradient. The coordinates resulting from each key press will be used to calculate HSV color mode "saturation" and "value" numbers, in the range of 0 to 1. Left and right decrease and increase (respectively) the "saturation" value. Up and down decrease and increase (respectively) the "value" value.'}),"euiSelectable.loadingOptions":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiSelectable.loadingOptions",{defaultMessage:"Loading options",description:"Placeholder message while data is asynchronously loaded"}),"euiSelectable.noAvailableOptions":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiSelectable.noAvailableOptions",{defaultMessage:"There aren't any options available"}),"euiSelectable.noMatchingOptions":_ref18=>{let{searchValue:searchValue}=_ref18;return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"core.euiSelectable.noMatchingOptions",defaultMessage:"{searchValue} doesn't match any options",values:{searchValue:searchValue}})},"euiStat.loadingText":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiStat.loadingText",{defaultMessage:"Statistic is loading"}),"euiStep.ariaLabel":_ref19=>{let{status:status}=_ref19;return external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiStep.ariaLabel",{defaultMessage:"{stepStatus}",values:{stepStatus:status==="incomplete"?"Incomplete Step":"Step"}})},"euiStepHorizontal.buttonTitle":_ref20=>{let{step:step,title:title,disabled:disabled,isComplete:isComplete}=_ref20;return external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiStepHorizontal.buttonTitle",{defaultMessage:"Step {step}: {title}{titleAppendix}",values:{step:step,title:title,titleAppendix:disabled?" is disabled":isComplete?" is complete":""}})},"euiStepHorizontal.step":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiStepHorizontal.step",{defaultMessage:"Step",description:"Screen reader text announcing information about a step in some process"}),"euiStepNumber.hasErrors":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiStepNumber.hasErrors",{defaultMessage:"has errors",description:"Used as the title attribute on an image or svg icon to indicate a given process step has errors"}),"euiStepNumber.hasWarnings":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiStepNumber.hasWarnings",{defaultMessage:"has warnings",description:"Used as the title attribute on an image or svg icon to indicate a given process step has warnings"}),"euiStepNumber.isComplete":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiStepNumber.isComplete",{defaultMessage:"complete",description:"Used as the title attribute on an image or svg icon to indicate a given process step is complete"}),"euiStyleSelector.buttonText":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiStyleSelector.buttonText",{defaultMessage:"Density"}),"euiSuperDatePicker.showDatesButtonLabel":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiSuperDatePicker.showDatesButtonLabel",{defaultMessage:"Show dates",description:"Displayed in a button that shows date picker"}),"euiSuperSelect.screenReaderAnnouncement":_ref21=>{let{optionsCount:optionsCount}=_ref21;return external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiSuperSelect.screenReaderAnnouncement",{defaultMessage:"You are in a form selector of {optionsCount} items and must select a single option. Use the Up and Down keys to navigate or Escape to close.",values:{optionsCount:optionsCount}})},"euiSuperSelectControl.selectAnOption":_ref22=>{let{selectedValue:selectedValue}=_ref22;return external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiSuperSelectControl.selectAnOption",{defaultMessage:"Select an option: {selectedValue}, is selected",values:{selectedValue:selectedValue}})},"euiSuperUpdateButton.cannotUpdateTooltip":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiSuperUpdateButton.cannotUpdateTooltip",{defaultMessage:"Cannot update",description:"Displayed in a tooltip when updates can't happen"}),"euiSuperUpdateButton.clickToApplyTooltip":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiSuperUpdateButton.clickToApplyTooltip",{defaultMessage:"Click to apply",description:"Displayed in a tooltip when there are changes that haven't been applied"}),"euiSuperUpdateButton.refreshButtonLabel":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiSuperUpdateButton.refreshButtonLabel",{defaultMessage:"Refresh",description:"Displayed in a button that refreshes based on date picked"}),"euiSuperUpdateButton.updatingButtonLabel":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiSuperUpdateButton.updatingButtonLabel",{defaultMessage:"Updating",description:"Displayed in a button that refreshes when updates are happening"}),"euiSuperUpdateButton.updateButtonLabel":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiSuperUpdateButton.updateButtonLabel",{defaultMessage:"Update",description:"Displayed in a button that updates based on date picked"}),"euiTablePagination.rowsPerPage":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiTablePagination.rowsPerPage",{defaultMessage:"Rows per page",description:"Displayed in a button that toggles a table pagination menu"}),"euiTablePagination.rowsPerPageOption":_ref23=>{let{rowsPerPage:rowsPerPage}=_ref23;return external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiTablePagination.rowsPerPageOption",{defaultMessage:"{rowsPerPage} rows",description:"Displayed in a button that toggles the number of visible rows",values:{rowsPerPage:rowsPerPage}})},"euiTableSortMobile.sorting":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiTableSortMobile.sorting",{defaultMessage:"Sorting",description:"Displayed in a button that toggles a table sorting menu"}),"euiToast.dismissToast":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiToast.dismissToast",{defaultMessage:"Dismiss toast"}),"euiToast.newNotification":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiToast.newNotification",{defaultMessage:"A new notification appears"}),"euiToast.notification":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiToast.notification",{defaultMessage:"Notification",description:"ARIA label on an element containing a notification"}),"euiTreeView.ariaLabel":_ref24=>{let{nodeLabel:nodeLabel,ariaLabel:ariaLabel}=_ref24;return external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiTreeView.ariaLabel",{defaultMessage:"{nodeLabel} child of {ariaLabel}",values:{nodeLabel:nodeLabel,ariaLabel:ariaLabel}})},"euiTreeView.listNavigationInstructions":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.euiTreeView.listNavigationInstructions",{defaultMessage:"You can quickly navigate this list using arrow keys."})};return euiContextMapping};function i18n_service_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function i18n_service_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i18n_service_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i18n_service_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}class i18n_service_I18nService{getContext(){const euiContextMapping=getEuiContextMapping();const mapping=i18n_service_objectSpread({},euiContextMapping);return{Context:function I18nContext(_ref){let{children:children}=_ref;return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["I18nProvider"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiContext"],{i18n:{mapping:mapping}},children))}}}start(){return this.getContext()}stop(){}}function global_toast_list_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function global_toast_list_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?global_toast_list_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):global_toast_list_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const convertToEui=toast=>global_toast_list_objectSpread(global_toast_list_objectSpread({},toast),{},{title:typeof toast.title==="function"?external_osdSharedDeps_React_default.a.createElement(MountWrapper,{mount:toast.title}):toast.title,text:typeof toast.text==="function"?external_osdSharedDeps_React_default.a.createElement(MountWrapper,{mount:toast.text}):toast.text});class global_toast_list_GlobalToastList extends external_osdSharedDeps_React_default.a.Component{constructor(){super(...arguments);defineProperty_default()(this,"state",{toasts:[]});defineProperty_default()(this,"subscription",void 0)}componentDidMount(){this.subscription=this.props.toasts$.subscribe(toasts=>{this.setState({toasts:toasts})})}componentWillUnmount(){if(this.subscription){this.subscription.unsubscribe()}}render(){return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiGlobalToastList"],{"aria-label":external_osdSharedDeps_OsdI18n_["i18n"].translate("core.notifications.globalToast.ariaLabel",{defaultMessage:"Notification message list"}),"data-test-subj":"globalToastList",toasts:this.state.toasts.map(convertToEui),dismissToast:_ref=>{let{id:id}=_ref;return this.props.dismissToast(id)},toastLifeTimeMs:Infinity})}}const isRequestError=e=>{if("body"in e){var _e$body;return((_e$body=e.body)===null||_e$body===void 0||(_e$body=_e$body.attributes)===null||_e$body===void 0||(_e$body=_e$body.error)===null||_e$body===void 0?void 0:_e$body.caused_by)!==undefined}return false};function showErrorDialog(_ref){let{title:title,error:error,openModal:openModal,i18nContext:i18nContext}=_ref;const I18nContext=i18nContext();let text="";if(isRequestError(error)){var _error$body,_error$body2;text+=`${error===null||error===void 0||(_error$body=error.body)===null||_error$body===void 0||(_error$body=_error$body.attributes)===null||_error$body===void 0||(_error$body=_error$body.error)===null||_error$body===void 0?void 0:_error$body.caused_by.type}\n`;text+=`${error===null||error===void 0||(_error$body2=error.body)===null||_error$body2===void 0||(_error$body2=_error$body2.attributes)===null||_error$body2===void 0||(_error$body2=_error$body2.error)===null||_error$body2===void 0?void 0:_error$body2.caused_by.reason}\n\n`}if(error.stack){text+=error.stack}const modal=openModal(error_toast_mount(external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,external_osdSharedDeps_React_default.a.createElement(I18nContext,null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiModalHeader"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiModalHeaderTitle"],null,title)),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiModalBody"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCallOut"],{size:"s",color:"danger",iconType:"alert",title:error.message}),text&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCodeBlock"],{isCopyable:true,paddingSize:"s"},text))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiModalFooter"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSmallButton"],{onClick:()=>modal.close(),fill:true},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"core.notifications.errorToast.closeModal",defaultMessage:"Close"})))))))}function ErrorToast(_ref2){let{title:title,error:error,toastMessage:toastMessage,openModal:openModal,i18nContext:i18nContext}=_ref2;return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,external_osdSharedDeps_React_default.a.createElement("p",{"data-test-subj":"errorToastMessage"},toastMessage),external_osdSharedDeps_React_default.a.createElement("div",{className:"eui-textRight"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiButton"],{size:"s",color:"danger",onClick:()=>showErrorDialog({title:title,error:error,openModal:openModal,i18nContext:i18nContext})},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"core.toasts.errorToast.seeFullError",defaultMessage:"See the full error"}))))}const error_toast_mount=component=>container=>{external_osdSharedDeps_ReactDom_default.a.render(component,container);return()=>external_osdSharedDeps_ReactDom_default.a.unmountComponentAtNode(container)};function toasts_api_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function toasts_api_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?toasts_api_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):toasts_api_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const normalizeToast=toastOrTitle=>{if(typeof toastOrTitle==="string"){return{title:toastOrTitle}}return toastOrTitle};class toasts_api_ToastsApi{constructor(deps){defineProperty_default()(this,"toasts$",new external_osdSharedDeps_Rxjs_["BehaviorSubject"]([]));defineProperty_default()(this,"idCounter",0);defineProperty_default()(this,"uiSettings",void 0);defineProperty_default()(this,"overlays",void 0);defineProperty_default()(this,"i18n",void 0);this.uiSettings=deps.uiSettings}start(_ref){let{overlays:overlays,i18n:i18n}=_ref;this.overlays=overlays;this.i18n=i18n}get$(){return this.toasts$.asObservable()}add(toastOrTitle){if(typeof toastOrTitle!=="string"){const toastObject=toastOrTitle;const list=this.toasts$.getValue();const existingToast=list.find(toast=>toast.id===toastObject.id);if(existingToast){return existingToast}}const toast=toasts_api_objectSpread({id:String(this.idCounter++),toastLifeTimeMs:this.uiSettings.get("notifications:lifetime:info")},normalizeToast(toastOrTitle));this.toasts$.next([...this.toasts$.getValue(),toast]);return toast}remove(toastOrId){const toRemove=typeof toastOrId==="string"?toastOrId:toastOrId.id;const list=this.toasts$.getValue();const listWithoutToast=list.filter(t=>t.id!==toRemove);if(listWithoutToast.length!==list.length){this.toasts$.next(listWithoutToast)}}addInfo(toastOrTitle,options){return this.add(toasts_api_objectSpread(toasts_api_objectSpread({color:"primary",iconType:"iInCircle"},normalizeToast(toastOrTitle)),options))}addSuccess(toastOrTitle,options){return this.add(toasts_api_objectSpread(toasts_api_objectSpread({color:"success",iconType:"check"},normalizeToast(toastOrTitle)),options))}addWarning(toastOrTitle,options){return this.add(toasts_api_objectSpread(toasts_api_objectSpread({color:"warning",iconType:"help",toastLifeTimeMs:this.uiSettings.get("notifications:lifetime:warning")},normalizeToast(toastOrTitle)),options))}addDanger(toastOrTitle,options){return this.add(toasts_api_objectSpread(toasts_api_objectSpread({color:"danger",iconType:"alert",toastLifeTimeMs:this.uiSettings.get("notifications:lifetime:warning")},normalizeToast(toastOrTitle)),options))}addError(error,options){const message=options.toastMessage||error.message;return this.add(toasts_api_objectSpread({color:"danger",iconType:"alert",toastLifeTimeMs:this.uiSettings.get("notifications:lifetime:error"),text:mountReactNode(external_osdSharedDeps_React_default.a.createElement(ErrorToast,{openModal:this.openModal.bind(this),error:error,title:options.title,toastMessage:message,i18nContext:()=>this.i18n.Context}))},options))}openModal(){if(!this.overlays){throw new Error(`Modal opened before ToastService was started.`)}return this.overlays.openModal(...arguments)}}class toasts_service_ToastsService{constructor(){defineProperty_default()(this,"api",void 0);defineProperty_default()(this,"targetDomElement",void 0)}setup(_ref){let{uiSettings:uiSettings}=_ref;this.api=new toasts_api_ToastsApi({uiSettings:uiSettings});return this.api}start(_ref2){let{i18n:i18n,overlays:overlays,targetDomElement:targetDomElement}=_ref2;this.api.start({overlays:overlays,i18n:i18n});this.targetDomElement=targetDomElement;Object(external_osdSharedDeps_ReactDom_["render"])(external_osdSharedDeps_React_default.a.createElement(i18n.Context,null,external_osdSharedDeps_React_default.a.createElement(global_toast_list_GlobalToastList,{dismissToast:toastId=>this.api.remove(toastId),toasts$:this.api.get$()})),targetDomElement);return this.api}stop(){if(this.targetDomElement){Object(external_osdSharedDeps_ReactDom_["unmountComponentAtNode"])(this.targetDomElement);this.targetDomElement.textContent=""}}}class notifications_service_NotificationsService{constructor(){defineProperty_default()(this,"toasts",void 0);defineProperty_default()(this,"uiSettingsErrorSubscription",void 0);defineProperty_default()(this,"targetDomElement",void 0);this.toasts=new toasts_service_ToastsService}setup(_ref){let{uiSettings:uiSettings}=_ref;const notificationSetup={toasts:this.toasts.setup({uiSettings:uiSettings})};this.uiSettingsErrorSubscription=uiSettings.getUpdateErrors$().subscribe(error=>{notificationSetup.toasts.addDanger({title:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.notifications.unableUpdateUISettingNotificationMessageTitle",{defaultMessage:"Unable to update UI setting"}),text:error.message})});return notificationSetup}start(_ref2){let{i18n:i18nDep,overlays:overlays,targetDomElement:targetDomElement}=_ref2;this.targetDomElement=targetDomElement;const toastsContainer=document.createElement("div");targetDomElement.appendChild(toastsContainer);return{toasts:this.toasts.start({i18n:i18nDep,overlays:overlays,targetDomElement:toastsContainer})}}stop(){this.toasts.stop();if(this.targetDomElement){this.targetDomElement.textContent=""}if(this.uiSettingsErrorSubscription){this.uiSettingsErrorSubscription.unsubscribe()}}}function withTimeout(_ref){let{promise:promise,timeout:timeout,errorMessage:errorMessage}=_ref;return Promise.race([promise,new Promise((resolve,reject)=>setTimeout(()=>reject(new Error(errorMessage)),timeout))])}function read(name){const coreWindow=window;const exportId=`plugin/${name}/public`;if(!coreWindow.__osdBundles__.has(exportId)){throw new Error(`Definition of plugin "${name}" not found and may have failed to load.`)}const pluginExport=coreWindow.__osdBundles__.get(exportId);if(typeof(pluginExport===null||pluginExport===void 0?void 0:pluginExport.plugin)!=="function"){throw new Error(`Definition of plugin "${name}" should be a function.`)}else{return pluginExport.plugin}}class plugin_PluginWrapper{constructor(discoveredPlugin,opaqueId,initializerContext){this.discoveredPlugin=discoveredPlugin;this.opaqueId=opaqueId;this.initializerContext=initializerContext;defineProperty_default()(this,"name",void 0);defineProperty_default()(this,"configPath",void 0);defineProperty_default()(this,"requiredPlugins",void 0);defineProperty_default()(this,"optionalPlugins",void 0);defineProperty_default()(this,"instance",void 0);defineProperty_default()(this,"startDependencies$",new external_osdSharedDeps_Rxjs_["Subject"]);defineProperty_default()(this,"startDependencies",this.startDependencies$.pipe(Object(external_osdSharedDeps_RxjsOperators_["first"])()).toPromise());this.name=discoveredPlugin.id;this.configPath=discoveredPlugin.configPath;this.requiredPlugins=discoveredPlugin.requiredPlugins;this.optionalPlugins=discoveredPlugin.optionalPlugins}async setup(setupContext,plugins){this.instance=await this.createPluginInstance();return await this.instance.setup(setupContext,plugins)}async start(startContext,plugins){if(this.instance===undefined){throw new Error(`Plugin "${this.name}" can't be started since it isn't set up.`)}const startContract=await this.instance.start(startContext,plugins);this.startDependencies$.next([startContext,plugins,startContract]);return startContract}stop(){if(this.instance===undefined){throw new Error(`Plugin "${this.name}" can't be stopped since it isn't set up.`)}if(typeof this.instance.stop==="function"){this.instance.stop()}this.instance=undefined}async createPluginInstance(){const initializer=read(this.name);const instance=initializer(this.initializerContext);if(typeof instance.setup!=="function"){throw new Error(`Instance of plugin "${this.name}" does not define "setup" function.`)}else if(typeof instance.start!=="function"){throw new Error(`Instance of plugin "${this.name}" does not define "start" function.`)}return instance}}function createPluginInitializerContext(coreContext,opaqueId,pluginManifest,pluginConfig){return{opaqueId:opaqueId,env:coreContext.env,config:{get(){return pluginConfig}}}}function createPluginSetupContext(coreContext,deps,plugin){return{application:{register:app=>deps.application.register(plugin.opaqueId,app),registerAppUpdater:statusUpdater$=>deps.application.registerAppUpdater(statusUpdater$),registerMountContext:(contextName,provider)=>deps.application.registerMountContext(plugin.opaqueId,contextName,provider)},chrome:deps.chrome,context:deps.context,fatalErrors:deps.fatalErrors,http:deps.http,notifications:deps.notifications,uiSettings:deps.uiSettings,injectedMetadata:{getInjectedVar:deps.injectedMetadata.getInjectedVar,getBranding:deps.injectedMetadata.getBranding},getStartServices:()=>plugin.startDependencies,workspaces:deps.workspaces}}function createPluginStartContext(coreContext,deps,plugin){return{application:{applications$:deps.application.applications$,currentAppId$:deps.application.currentAppId$,capabilities:deps.application.capabilities,navigateToApp:deps.application.navigateToApp,navigateToUrl:deps.application.navigateToUrl,getUrlForApp:deps.application.getUrlForApp,setAppLeftControls:deps.application.setAppLeftControls,setAppCenterControls:deps.application.setAppCenterControls,setAppRightControls:deps.application.setAppRightControls,setAppBadgeControls:deps.application.setAppBadgeControls,setAppDescriptionControls:deps.application.setAppDescriptionControls,setAppBottomControls:deps.application.setAppBottomControls,registerMountContext:(contextName,provider)=>deps.application.registerMountContext(plugin.opaqueId,contextName,provider)},docLinks:deps.docLinks,http:deps.http,chrome:Object(external_osdSharedDeps_Lodash_["omit"])(deps.chrome,"getComponent"),i18n:deps.i18n,notifications:deps.notifications,overlays:deps.overlays,uiSettings:deps.uiSettings,savedObjects:deps.savedObjects,injectedMetadata:{getInjectedVar:deps.injectedMetadata.getInjectedVar,getBranding:deps.injectedMetadata.getBranding},fatalErrors:deps.fatalErrors,workspaces:deps.workspaces}}const Sec=1e3;class plugins_service_PluginsService{constructor(coreContext,plugins){this.coreContext=coreContext;defineProperty_default()(this,"plugins",new Map);defineProperty_default()(this,"pluginDependencies",new Map);defineProperty_default()(this,"satupPlugins",[]);const opaqueIds=new Map(plugins.map(p=>[p.id,Symbol(p.id)]));plugins.forEach(_ref=>{let{id:id,plugin:plugin,config:config={}}=_ref;this.pluginDependencies.set(id,[...plugin.requiredPlugins,...plugin.optionalPlugins.filter(optPlugin=>opaqueIds.has(optPlugin))]);this.plugins.set(id,new plugin_PluginWrapper(plugin,opaqueIds.get(id),createPluginInitializerContext(this.coreContext,opaqueIds.get(id),plugin,config)))})}getOpaqueIds(){return new Map([...this.pluginDependencies].map(_ref2=>{let[id,deps]=_ref2;return[this.plugins.get(id).opaqueId,deps.map(depId=>this.plugins.get(depId).opaqueId)]}))}async setup(deps){const contracts=new Map;for(const[pluginName,plugin]of this.plugins.entries()){const pluginDepContracts=[...this.pluginDependencies.get(pluginName)].reduce((depContracts,dependencyName)=>{if(contracts.has(dependencyName)){depContracts[dependencyName]=contracts.get(dependencyName)}return depContracts},{});const contract=await withTimeout({promise:plugin.setup(createPluginSetupContext(this.coreContext,deps,plugin),pluginDepContracts),timeout:30*Sec,errorMessage:`Setup lifecycle of "${pluginName}" plugin wasn't completed in 30sec. Consider disabling the plugin and re-start.`});contracts.set(pluginName,contract);this.satupPlugins.push(pluginName)}return{contracts:contracts}}async start(deps){const contracts=new Map;for(const[pluginName,plugin]of this.plugins.entries()){const pluginDepContracts=[...this.pluginDependencies.get(pluginName)].reduce((depContracts,dependencyName)=>{if(contracts.has(dependencyName)){depContracts[dependencyName]=contracts.get(dependencyName)}return depContracts},{});const contract=await withTimeout({promise:plugin.start(createPluginStartContext(this.coreContext,deps,plugin),pluginDepContracts),timeout:30*Sec,errorMessage:`Start lifecycle of "${pluginName}" plugin wasn't completed in 30sec. Consider disabling the plugin and re-start.`});contracts.set(pluginName,contract)}return{contracts:contracts}}async stop(){for(const pluginName of this.satupPlugins.reverse()){this.plugins.get(pluginName).stop()}}}const SharedGlobalConfigKeys={opensearchDashboards:["index","configIndex","autocompleteTerminateAfter","autocompleteTimeout","dashboardAdmin","futureNavigation"],opensearch:["shardTimeout","requestTimeout","pingTimeout"],path:["data"],savedObjects:["maxImportPayloadBytes","permission"]};function ui_settings_api_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function ui_settings_api_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ui_settings_api_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ui_settings_api_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const NOOP_CHANGES={values:{},callback:()=>{}};class ui_settings_api_UiSettingsApi{constructor(http){this.http=http;defineProperty_default()(this,"pendingChanges",void 0);defineProperty_default()(this,"sendInProgress",false);defineProperty_default()(this,"loadingCount$",new external_osdSharedDeps_Rxjs_["BehaviorSubject"](0))}batchSet(key,value){return new Promise((resolve,reject)=>{const prev=this.pendingChanges||NOOP_CHANGES;this.pendingChanges={values:ui_settings_api_objectSpread(ui_settings_api_objectSpread({},prev.values),{},{[key]:value}),callback(error,resp){prev.callback(error,resp);if(error){reject(error)}else{resolve(resp)}}};this.flushPendingChanges()})}getLoadingCount$(){return this.loadingCount$.asObservable()}stop(){this.loadingCount$.complete()}hasPendingChanges(){return!!(this.pendingChanges&&this.sendInProgress)}async flushPendingChanges(){if(!this.pendingChanges){return}if(this.sendInProgress){return}const changes=this.pendingChanges;this.pendingChanges=undefined;try{this.sendInProgress=true;changes.callback(undefined,await this.sendRequest("POST","/api/opensearch-dashboards/settings",{changes:changes.values}))}catch(error){changes.callback(error)}finally{this.sendInProgress=false;this.flushPendingChanges()}}async sendRequest(method,path,body){try{this.loadingCount$.next(this.loadingCount$.getValue()+1);return await this.http.fetch(path,{method:method,body:JSON.stringify(body),headers:{accept:"application/json"}})}catch(err){if(err.response){if(err.response.status===400){throw new Error(err.body.message)}if(err.response.status>400){throw new Error(`Request failed with status code: ${err.response.status}`)}}throw err}finally{this.loadingCount$.next(this.loadingCount$.getValue()-1)}}}function ui_settings_client_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function ui_settings_client_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ui_settings_client_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ui_settings_client_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}class ui_settings_client_UiSettingsClient{constructor(params){defineProperty_default()(this,"update$",new external_osdSharedDeps_Rxjs_["Subject"]);defineProperty_default()(this,"saved$",new external_osdSharedDeps_Rxjs_["Subject"]);defineProperty_default()(this,"updateErrors$",new external_osdSharedDeps_Rxjs_["Subject"]);defineProperty_default()(this,"api",void 0);defineProperty_default()(this,"defaults",void 0);defineProperty_default()(this,"cache",void 0);this.api=params.api;this.defaults=Object(external_osdSharedDeps_Lodash_["cloneDeep"])(params.defaults);this.cache=Object(external_osdSharedDeps_Lodash_["defaultsDeep"])({},this.defaults,Object(external_osdSharedDeps_Lodash_["cloneDeep"])(params.initialSettings));params.done$.subscribe({complete:()=>{this.update$.complete();this.saved$.complete();this.updateErrors$.complete()}})}getAll(){return Object(external_osdSharedDeps_Lodash_["cloneDeep"])(this.cache)}getDefault(key){const declared=this.isDeclared(key);if(!declared){throw new Error(`Unexpected \`IUiSettingsClient.getDefaultValue("${key}")\` call on unrecognized configuration setting "${key}".\nPlease check that the setting for "${key}" exists.`)}return this.resolveValue(this.cache[key].value,this.cache[key].type)}get(key,defaultOverride){const declared=this.isDeclared(key);if(!declared&&defaultOverride!==undefined){return defaultOverride}if(!declared){throw new Error(`Unexpected \`IUiSettingsClient.get("${key}")\` call on unrecognized configuration setting "${key}".\nSetting an initial value via \`IUiSettingsClient.set("${key}", value)\` before attempting to retrieve\nany custom setting value for "${key}" may fix this issue.\nYou can use \`IUiSettingsClient.get("${key}", defaultValue)\`, which will just return\n\`defaultValue\` when the key is unrecognized.`)}const type=this.cache[key].type;const userValue=this.cache[key].userValue;const defaultValue=defaultOverride!==undefined?defaultOverride:this.cache[key].value;const value=userValue==null?defaultValue:userValue;return this.resolveValue(value,type)}get$(key,defaultOverride){return Object(external_osdSharedDeps_Rxjs_["concat"])(Object(external_osdSharedDeps_Rxjs_["defer"])(()=>Object(external_osdSharedDeps_Rxjs_["of"])(this.get(key,defaultOverride))),this.update$.pipe(Object(external_osdSharedDeps_RxjsOperators_["filter"])(update=>update.key===key),Object(external_osdSharedDeps_RxjsOperators_["map"])(()=>this.get(key,defaultOverride))))}async set(key,value){return await this.update(key,value)}async remove(key){return await this.update(key,null)}isDeclared(key){return key in this.cache}isDefault(key){return!this.isDeclared(key)||this.cache[key].userValue==null}isCustom(key){return this.isDeclared(key)&&!("value"in this.cache[key])}isOverridden(key){return this.isDeclared(key)&&Boolean(this.cache[key].isOverridden)}overrideLocalDefault(key,newDefault){const prevDefault=this.defaults[key]?this.defaults[key].value:undefined;this.defaults[key]=ui_settings_client_objectSpread(ui_settings_client_objectSpread({},this.defaults[key]||{}),{},{value:newDefault});this.cache[key]=ui_settings_client_objectSpread(ui_settings_client_objectSpread({},this.cache[key]||{}),{},{value:newDefault});if(this.cache[key].userValue==null){this.update$.next({key:key,newValue:newDefault,oldValue:prevDefault});this.saved$.next({key:key,newValue:newDefault,oldValue:prevDefault})}}getUpdate$(){return this.update$.asObservable()}getSaved$(){return this.saved$.asObservable()}getUpdateErrors$(){return this.updateErrors$.asObservable()}resolveValue(value,type){if(type==="json"){return JSON.parse(value)}return type==="number"&&typeof value!=="bigint"?isFinite(value)&&(value>Number.MAX_SAFE_INTEGER||value<Number.MIN_SAFE_INTEGER)?BigInt(value):parseFloat(value):value}assertUpdateAllowed(key){if(this.isOverridden(key)){throw new Error(`Unable to update "${key}" because its value is overridden by the OpenSearch Dashboards server`)}}async update(key,newVal){this.assertUpdateAllowed(key);const declared=this.isDeclared(key);const defaults=this.defaults;const oldVal=declared?this.cache[key].userValue:undefined;const unchanged=oldVal===newVal;if(unchanged){return true}const initialVal=declared?this.get(key):undefined;this.setLocally(key,newVal);try{const{settings:settings}=await this.api.batchSet(key,newVal);this.cache=Object(external_osdSharedDeps_Lodash_["defaultsDeep"])({},defaults,settings);this.saved$.next({key:key,newValue:newVal,oldValue:initialVal});return true}catch(error){this.setLocally(key,initialVal);this.updateErrors$.next(error);return false}}setLocally(key,newValue){this.assertUpdateAllowed(key);if(!this.isDeclared(key)){this.cache[key]={}}const oldValue=this.get(key);if(newValue===null){delete this.cache[key].userValue}else{const{type:type}=this.cache[key];if(type==="json"&&typeof newValue!=="string"){this.cache[key].userValue=JSON.stringify(newValue)}else{this.cache[key].userValue=newValue}}this.update$.next({key:key,newValue:newValue,oldValue:oldValue})}}class ui_settings_service_UiSettingsService{constructor(){defineProperty_default()(this,"uiSettingsApi",void 0);defineProperty_default()(this,"uiSettingsClient",void 0);defineProperty_default()(this,"done$",new external_osdSharedDeps_Rxjs_["Subject"])}setup(_ref){let{http:http,injectedMetadata:injectedMetadata}=_ref;this.uiSettingsApi=new ui_settings_api_UiSettingsApi(http);http.addLoadingCountSource(this.uiSettingsApi.getLoadingCount$());const legacyMetadata=injectedMetadata.getLegacyMetadata();this.uiSettingsClient=new ui_settings_client_UiSettingsClient({api:this.uiSettingsApi,defaults:legacyMetadata.uiSettings.defaults,initialSettings:legacyMetadata.uiSettings.user,done$:this.done$});return this.uiSettingsClient}start(){return this.uiSettingsClient}stop(){this.done$.complete();if(this.uiSettingsApi){this.uiSettingsApi.stop()}}}var semver=__webpack_require__(178);class doc_links_service_DocLinksService{setup(){}start(_ref){let{injectedMetadata:injectedMetadata}=_ref;const buildVersion=injectedMetadata.getOpenSearchDashboardsVersion();const pkgBranch=injectedMetadata.getOpenSearchDashboardsBranch();let branch=pkgBranch;if(pkgBranch==="main"){branch="latest"}else{const validDocPathsPattern=/^\d+\.\d+$/;const parsedBuildVersion=Object(semver["parse"])(buildVersion);if(!validDocPathsPattern.test(pkgBranch)&&parsedBuildVersion){branch=`${parsedBuildVersion.major}.${parsedBuildVersion.minor}`}}const DOC_LINK_VERSION=branch;const OPENSEARCH_WEBSITE_URL="https://opensearch.org/";const OPENSEARCH_WEBSITE_DOCS=`${OPENSEARCH_WEBSITE_URL}docs/${DOC_LINK_VERSION}`;const OPENSEARCH_VERSIONED_DOCS=`${OPENSEARCH_WEBSITE_DOCS}/opensearch/`;const OPENSEARCH_DASHBOARDS_VERSIONED_DOCS=`${OPENSEARCH_WEBSITE_DOCS}/dashboards/`;return deepFreeze({DOC_LINK_VERSION:DOC_LINK_VERSION,OPENSEARCH_WEBSITE_URL:OPENSEARCH_WEBSITE_URL,links:{opensearch:{introduction:`${OPENSEARCH_VERSIONED_DOCS}index/`,installation:{base:`${OPENSEARCH_VERSIONED_DOCS}install/index/`,compatibility:`${OPENSEARCH_VERSIONED_DOCS}install/compatibility/`,docker:`${OPENSEARCH_VERSIONED_DOCS}install/docker`,dockerSecurity:`${OPENSEARCH_VERSIONED_DOCS}install/docker-security`,helm:`${OPENSEARCH_VERSIONED_DOCS}install/helm/`,tar:`${OPENSEARCH_VERSIONED_DOCS}install/tar/`,ansible:`${OPENSEARCH_VERSIONED_DOCS}install/ansible/`,settings:`${OPENSEARCH_VERSIONED_DOCS}install/important-settings/`,plugins:`${OPENSEARCH_VERSIONED_DOCS}install/plugins/`},configuration:`${OPENSEARCH_VERSIONED_DOCS}configuration/`,cluster:{base:`${OPENSEARCH_VERSIONED_DOCS}cluster/`,naming:`${OPENSEARCH_VERSIONED_DOCS}cluster/#step-1-name-a-cluster`,set_attribute:`${OPENSEARCH_VERSIONED_DOCS}cluster/#step-2-set-node-attributes-for-each-node-in-a-cluster`,build_cluster:`${OPENSEARCH_VERSIONED_DOCS}cluster/#step-3-bind-a-cluster-to-specific-ip-addresses`,config_host:`${OPENSEARCH_VERSIONED_DOCS}cluster/cluster/#step-4-configure-discovery-hosts-for-a-cluster`,start:`${OPENSEARCH_VERSIONED_DOCS}cluster/#step-5-start-the-cluster`,config_shard:`${OPENSEARCH_VERSIONED_DOCS}cluster/#advanced-step-6-configure-shard-allocation-awareness-or-forced-awareness`,setup_hot_arch:`${OPENSEARCH_VERSIONED_DOCS}cluster/#advanced-step-7-set-up-a-hot-warm-architecture`},indexData:{base:`${OPENSEARCH_VERSIONED_DOCS}index-data/`,naming:`${OPENSEARCH_VERSIONED_DOCS}index-data/#naming-restrictions-for-indices`,read_data:`${OPENSEARCH_VERSIONED_DOCS}index-data/#read-data`,update_data:`${OPENSEARCH_VERSIONED_DOCS}index-data/#update-data`,delete_data:`${OPENSEARCH_VERSIONED_DOCS}index-data/#delete-data`},indexAlias:{base:`${OPENSEARCH_VERSIONED_DOCS}index-alias/`,create_alias:`${OPENSEARCH_VERSIONED_DOCS}index-alias/#create-aliases`,add_remove_index:`${OPENSEARCH_VERSIONED_DOCS}index-alias/#add-or-remove-indices`,manage_alias:`${OPENSEARCH_VERSIONED_DOCS}index-alias/#manage-aliases`,filtered_alias:`${OPENSEARCH_VERSIONED_DOCS}index-alias/#create-filtered-aliases`,alias_option:`${OPENSEARCH_VERSIONED_DOCS}index-alias/#index-alias-options`},dataStreams:`${OPENSEARCH_VERSIONED_DOCS}data-streams/`,aggregations:{base:`${OPENSEARCH_VERSIONED_DOCS}aggregations/`,metric:{base:`${OPENSEARCH_VERSIONED_DOCS}metric-agg/`,types:`${OPENSEARCH_VERSIONED_DOCS}metric-agg/#types-of-metric-aggregations`,sum:`${OPENSEARCH_VERSIONED_DOCS}metric-agg/#sum-min-max-avg`,cardinality:`${OPENSEARCH_VERSIONED_DOCS}metric-agg/#cardinality`,value_count:`${OPENSEARCH_VERSIONED_DOCS}metric-agg/#value_count`,stats:`${OPENSEARCH_VERSIONED_DOCS}metric-agg/#stats-extended_stats-matrix_stats`,percentile:`${OPENSEARCH_VERSIONED_DOCS}metric-agg/#percentile-percentile_ranks`,geo_bound:`${OPENSEARCH_VERSIONED_DOCS}metric-agg/#geo_bound`,top_hits:`${OPENSEARCH_VERSIONED_DOCS}metric-agg/#top_hits`,scripted_metric:`${OPENSEARCH_VERSIONED_DOCS}metric-agg/#scripted_metric`},bucket:{base:`${OPENSEARCH_VERSIONED_DOCS}bucket-agg/`,terms:`${OPENSEARCH_VERSIONED_DOCS}bucket-agg/#terms`,smapler:`${OPENSEARCH_VERSIONED_DOCS}bucket-agg/#sampler-diversified_sampler`,significant_terms:`${OPENSEARCH_VERSIONED_DOCS}bucket-agg/#significant_terms-significant_text`,missing:`${OPENSEARCH_VERSIONED_DOCS}bucket-agg/#missing`,histogram:`${OPENSEARCH_VERSIONED_DOCS}bucket-agg/#histogram-date_histogram`,range:`${OPENSEARCH_VERSIONED_DOCS}bucket-agg/#range-date_range-ip_range`,filter:`${OPENSEARCH_VERSIONED_DOCS}bucket-agg/#filter-filters`,global:`${OPENSEARCH_VERSIONED_DOCS}bucket-agg/#global`,geo:`${OPENSEARCH_VERSIONED_DOCS}bucket-agg/#geo_distance-geohash_grid`,adjacency_matrix:`${OPENSEARCH_VERSIONED_DOCS}bucket-agg/#adjacency_matrix`,nested:`${OPENSEARCH_VERSIONED_DOCS}bucket-agg/#nested-reverse_nested`},pipeline:{base:`${OPENSEARCH_VERSIONED_DOCS}pipeline-agg/`,syntax:`${OPENSEARCH_VERSIONED_DOCS}pipeline-agg/#pipeline-aggregation-syntax`,types:`${OPENSEARCH_VERSIONED_DOCS}pipeline-agg/#types-of-pipeline-aggregations`,avg_bucket:`${OPENSEARCH_VERSIONED_DOCS}pipeline-agg/#avg_bucket-sum_bucket-min_bucket-max_bucket`,stats_bucket:`${OPENSEARCH_VERSIONED_DOCS}pipeline-agg/#stats_bucket-extended_stats_bucket`,bucket_script:`${OPENSEARCH_VERSIONED_DOCS}pipeline-agg/#bucket_script-bucket_selector`,bucket_sort:`${OPENSEARCH_VERSIONED_DOCS}pipeline-agg/#bucket_sort`,cumulative_sum:`${OPENSEARCH_VERSIONED_DOCS}pipeline-agg/#cumulative_sum`,derivative:`${OPENSEARCH_VERSIONED_DOCS}pipeline-agg/#derivative`,moving_avg:`${OPENSEARCH_VERSIONED_DOCS}pipeline-agg/#moving_avg`,serial_diff:`${OPENSEARCH_VERSIONED_DOCS}pipeline-agg/#serial_diff`}},indexTemplates:{base:`${OPENSEARCH_VERSIONED_DOCS}index-templates`,composable:`${OPENSEARCH_VERSIONED_DOCS}index-templates/#composable-index-templates`,options:`${OPENSEARCH_VERSIONED_DOCS}index-templates/#index-template-options`},reindexData:{base:`${OPENSEARCH_VERSIONED_DOCS}reindex-data/`,all:`${OPENSEARCH_VERSIONED_DOCS}reindex-data/#reindex-all-documents`,remote:`${OPENSEARCH_VERSIONED_DOCS}reindex-data/#reindex-from-a-remote-cluster`,subset:`${OPENSEARCH_VERSIONED_DOCS}reindex-data/#reindex-a-subset-of-documents`,combine:`${OPENSEARCH_VERSIONED_DOCS}reindex-data/#combine-one-or-more-indices`,unique:`${OPENSEARCH_VERSIONED_DOCS}reindex-data/#reindex-only-unique-documents`,transform:`${OPENSEARCH_VERSIONED_DOCS}reindex-data/#transform-documents-during-reindexing`,update:`${OPENSEARCH_VERSIONED_DOCS}reindex-data/#update-documents-in-the-current-index`,source:`${OPENSEARCH_VERSIONED_DOCS}reindex-data/#source-index-options`,destination:`${OPENSEARCH_VERSIONED_DOCS}reindex-data/#destination-index-options`},queryDSL:{base:`${OPENSEARCH_VERSIONED_DOCS}query-dsl/index/`,term:{base:`${OPENSEARCH_VERSIONED_DOCS}query-dsl/term/`,terms:`${OPENSEARCH_VERSIONED_DOCS}query-dsl/term/#terms`,ids:`${OPENSEARCH_VERSIONED_DOCS}query-dsl/term/#ids`,range:`${OPENSEARCH_VERSIONED_DOCS}query-dsl/term/#range`,prefix:`${OPENSEARCH_VERSIONED_DOCS}query-dsl/term/#prefix`,exists:`${OPENSEARCH_VERSIONED_DOCS}query-dsl/term/#exists`,wildcards:`${OPENSEARCH_VERSIONED_DOCS}query-dsl/term/#wildcards`,regex:`${OPENSEARCH_VERSIONED_DOCS}query-dsl/term/#regex`},fullText:{base:`${OPENSEARCH_VERSIONED_DOCS}query-dsl/full-text/`,match:`${OPENSEARCH_VERSIONED_DOCS}query-dsl/full-text/#match`,multi_match:`${OPENSEARCH_VERSIONED_DOCS}query-dsl/full-text/#multi-match`,match_phrase:`${OPENSEARCH_VERSIONED_DOCS}query-dsl/full-text/#match-phrase`,common_terms:`${OPENSEARCH_VERSIONED_DOCS}query-dsl/full-text/#common-terms`,query_string:`${OPENSEARCH_VERSIONED_DOCS}query-dsl/full-text/#query-string`,options:`${OPENSEARCH_VERSIONED_DOCS}query-dsl/full-text/#options`},boolQuery:`${OPENSEARCH_VERSIONED_DOCS}query-dsl/bool/`},searchTemplate:{base:`${OPENSEARCH_VERSIONED_DOCS}search-template`,create:`${OPENSEARCH_VERSIONED_DOCS}search-template/#create-search-templates`,execute:`${OPENSEARCH_VERSIONED_DOCS}search-template/#save-and-execute-search-templates`,advanced_operation:`${OPENSEARCH_VERSIONED_DOCS}search-template/#advanced-parameter-conversion-with-search-templates`,multiple_search:`${OPENSEARCH_VERSIONED_DOCS}search-template/#multiple-search-templates`,manage:`${OPENSEARCH_VERSIONED_DOCS}search-template/#manage-search-templates`},searchExperience:{base:`${OPENSEARCH_VERSIONED_DOCS}ux`,autocomplete:`${OPENSEARCH_VERSIONED_DOCS}ux/#autocomplete-queries`,paginate:`${OPENSEARCH_VERSIONED_DOCS}ux/#paginate-results`,scroll:`${OPENSEARCH_VERSIONED_DOCS}ux/#scroll-search`,sort:`${OPENSEARCH_VERSIONED_DOCS}ux/#sort-results`,highlight_match:`${OPENSEARCH_VERSIONED_DOCS}ux/#highlight-query-matches`},logs:{base:`${OPENSEARCH_VERSIONED_DOCS}logs`,application_log:`${OPENSEARCH_VERSIONED_DOCS}logs/#application-logs`,slow_log:`${OPENSEARCH_VERSIONED_DOCS}logs/#slow-logs`,deprecation_log:`${OPENSEARCH_VERSIONED_DOCS}logs/#deprecation-logs`},snapshotRestore:{base:`${OPENSEARCH_VERSIONED_DOCS}snapshot-restore`,register:`${OPENSEARCH_VERSIONED_DOCS}snapshot-restore/#register-repository`,take_snapshot:`${OPENSEARCH_VERSIONED_DOCS}snapshot-restore/#take-snapshots`,restore_snapshot:`${OPENSEARCH_VERSIONED_DOCS}snapshot-restore/#restore-snapshots`,security_plugin:`${OPENSEARCH_VERSIONED_DOCS}snapshot-restore/#security-plugin-considerations`},supportedUnits:`${OPENSEARCH_VERSIONED_DOCS}units`,commonParameters:`${OPENSEARCH_VERSIONED_DOCS}common-parameters`,popularAPI:`${OPENSEARCH_VERSIONED_DOCS}popular-api`,restAPI:{base:`${OPENSEARCH_VERSIONED_DOCS}rest-api/index/`,indexAPI:{base:`${OPENSEARCH_VERSIONED_DOCS}rest-api/index-apis/index/`,create:`${OPENSEARCH_VERSIONED_DOCS}rest-api/index-apis/create-index/`,exists:`${OPENSEARCH_VERSIONED_DOCS}rest-api/index-apis/exists/`,delete:`${OPENSEARCH_VERSIONED_DOCS}rest-api/index-apis/delete-index/`,get:`${OPENSEARCH_VERSIONED_DOCS}rest-api/index-apis/get-index/`,close:`${OPENSEARCH_VERSIONED_DOCS}rest-api/index-apis/close-index/`}},dateMath:`${OPENSEARCH_VERSIONED_DOCS}supported-field-types/date/#date-math`,openSearchForum:"https://forum.opensearch.org/t/feedback-experimental-feature-connect-to-external-data-sources/11144"},opensearchDashboards:{introduction:`${OPENSEARCH_DASHBOARDS_VERSIONED_DOCS}index/`,installation:{base:`${OPENSEARCH_DASHBOARDS_VERSIONED_DOCS}install/index/`,docker:`${OPENSEARCH_DASHBOARDS_VERSIONED_DOCS}install/docker/`,tar:`${OPENSEARCH_DASHBOARDS_VERSIONED_DOCS}install/tar/`,helm:`${OPENSEARCH_DASHBOARDS_VERSIONED_DOCS}install/helm/`,tls:`${OPENSEARCH_DASHBOARDS_VERSIONED_DOCS}install/tls/`,plugins:`${OPENSEARCH_DASHBOARDS_VERSIONED_DOCS}install/plugins/`},mapTiles:`${OPENSEARCH_DASHBOARDS_VERSIONED_DOCS}maptiles`,ganttCharts:`${OPENSEARCH_DASHBOARDS_VERSIONED_DOCS}gantt`,reporting:`${OPENSEARCH_DASHBOARDS_VERSIONED_DOCS}reporting`,devTools:`${OPENSEARCH_DASHBOARDS_VERSIONED_DOCS}dev-tools/index-dev/`,notebooks:{base:`${OPENSEARCH_DASHBOARDS_VERSIONED_DOCS}notebooks`,notebook_tutorial:`${OPENSEARCH_DASHBOARDS_VERSIONED_DOCS}notebooks/#get-started-with-notebooks`,paragraph_tutorial:`${OPENSEARCH_DASHBOARDS_VERSIONED_DOCS}notebooks/#paragraph-actions`,sample_notebook:`${OPENSEARCH_DASHBOARDS_VERSIONED_DOCS}notebooks/#sample-notebooks`,create_report:`${OPENSEARCH_DASHBOARDS_VERSIONED_DOCS}notebooks/#create-a-report`},dql:{base:`${OPENSEARCH_DASHBOARDS_VERSIONED_DOCS}dql`,terms_query:`${OPENSEARCH_DASHBOARDS_VERSIONED_DOCS}dql/#terms-query`,boolean_query:`${OPENSEARCH_DASHBOARDS_VERSIONED_DOCS}dql/#boolean-query`,date_query:`${OPENSEARCH_DASHBOARDS_VERSIONED_DOCS}dql/#date-and-range-queries`,nested_query:`${OPENSEARCH_DASHBOARDS_VERSIONED_DOCS}dql/#nested-field-query`},browser:`${OPENSEARCH_DASHBOARDS_VERSIONED_DOCS}browser-compatibility`,dataSource:{guide:`${OPENSEARCH_DASHBOARDS_VERSIONED_DOCS}discover/multi-data-sources/`,s3DataSource:`${OPENSEARCH_DASHBOARDS_VERSIONED_DOCS}management/S3-data-source/`},visualize:{guide:`${OPENSEARCH_DASHBOARDS_VERSIONED_DOCS}visualize/viz-index/`},dashboards:{quickStart:`${OPENSEARCH_DASHBOARDS_VERSIONED_DOCS}quickstart/`,createDashboards:`${OPENSEARCH_DASHBOARDS_VERSIONED_DOCS}dashboard/index/`},management:{advancedSettings:`${OPENSEARCH_DASHBOARDS_VERSIONED_DOCS}management/advanced-settings/`},workspace:{collaborators:`${OPENSEARCH_DASHBOARDS_VERSIONED_DOCS}workspace/workspace-acl/#defining-workspace-collaborators`,privacy:`${OPENSEARCH_DASHBOARDS_VERSIONED_DOCS}workspace/workspace-acl/#configuring-workspace-privacy`}},noDocumentation:{auditbeat:`${OPENSEARCH_WEBSITE_DOCS}tools/index/#downloads`,filebeat:`${OPENSEARCH_WEBSITE_DOCS}tools/index/#downloads`,metricbeat:`${OPENSEARCH_WEBSITE_DOCS}tools/index/#downloads`,heartbeat:`${OPENSEARCH_WEBSITE_DOCS}tools/index/#downloads`,logstash:`${OPENSEARCH_WEBSITE_DOCS}`,functionbeat:`${OPENSEARCH_WEBSITE_DOCS}tools/index/#downloads`,winlogbeat:`${OPENSEARCH_WEBSITE_DOCS}`,siem:`${OPENSEARCH_WEBSITE_DOCS}`,indexPatterns:{loadingData:`${OPENSEARCH_WEBSITE_DOCS}`,introduction:`${OPENSEARCH_WEBSITE_DOCS}`},management:{opensearchDashboardsGeneralSettings:`${OPENSEARCH_WEBSITE_DOCS}`,opensearchDashboardsSearchSettings:`${OPENSEARCH_WEBSITE_DOCS}`,dashboardSettings:`${OPENSEARCH_WEBSITE_DOCS}`},scriptedFields:{scriptFields:`${OPENSEARCH_WEBSITE_DOCS}`,scriptAggs:`${OPENSEARCH_WEBSITE_DOCS}`,painless:`${OPENSEARCH_WEBSITE_DOCS}`,painlessApi:`${OPENSEARCH_WEBSITE_DOCS}`,painlessSyntax:`${OPENSEARCH_WEBSITE_DOCS}`,luceneExpressions:`${OPENSEARCH_WEBSITE_DOCS}`},addData:`${OPENSEARCH_WEBSITE_DOCS}`,vega:`${OPENSEARCH_DASHBOARDS_VERSIONED_DOCS}`,savedObject:{manageSavedObject:`${OPENSEARCH_WEBSITE_DOCS}/security/multi-tenancy/mt-agg-view/`},clusterAPI:{clusterRoute:`${OPENSEARCH_WEBSITE_DOCS}/api-reference/cluster-api/cluster-awareness/`,clusterState:`${OPENSEARCH_WEBSITE_DOCS}`,clusterStats:`${OPENSEARCH_WEBSITE_DOCS}/api-reference/cluster-api/cluster-stats/`,clusterPending:`${OPENSEARCH_WEBSITE_DOCS}`},mappingTypes:`${OPENSEARCH_WEBSITE_DOCS}/field-types/mappings/`,moduleScripting:`${OPENSEARCH_WEBSITE_DOCS}`,indexAPI:{indexAnalyze:`${OPENSEARCH_WEBSITE_DOCS}/api-reference/analyze-apis/index/`,indexClearCache:`${OPENSEARCH_WEBSITE_DOCS}/api-reference/index-apis/clear-index-cache/`,indexClone:`${OPENSEARCH_WEBSITE_DOCS}/api-reference/index-apis/clone/`,indexSynced:`${OPENSEARCH_WEBSITE_DOCS}`,indexFlush:`${OPENSEARCH_WEBSITE_DOCS}`,indexForceMerge:`${OPENSEARCH_WEBSITE_DOCS}`,indexSetting:`${OPENSEARCH_WEBSITE_DOCS}/api-reference/index-apis/get-settings/`,indexUpgrade:`${OPENSEARCH_WEBSITE_DOCS}`,indexUpdateSetting:`${OPENSEARCH_WEBSITE_DOCS}/api-reference/index-apis/update-settings/`,indexRecovery:`${OPENSEARCH_WEBSITE_DOCS}`,indexRefresh:`${OPENSEARCH_WEBSITE_DOCS}`,indexRollover:`${OPENSEARCH_WEBSITE_DOCS}`,indexSegment:`${OPENSEARCH_WEBSITE_DOCS}`,indexShardStore:`${OPENSEARCH_WEBSITE_DOCS}`,indexShrink:`${OPENSEARCH_WEBSITE_DOCS}/api-reference/index-apis/shrink-index/`,indexSplit:`${OPENSEARCH_WEBSITE_DOCS}/api-reference/index-apis/split/`,indexStats:`${OPENSEARCH_WEBSITE_DOCS}`,indexGetFieldMapping:`${OPENSEARCH_WEBSITE_DOCS}`,indexGetMapping:`${OPENSEARCH_WEBSITE_DOCS}`,indexOpenClose:`${OPENSEARCH_WEBSITE_DOCS}/api-reference/index-apis/open-index/`,indexPutMapping:`${OPENSEARCH_WEBSITE_DOCS}/api-reference/index-apis/put-mapping/`,indexSearchValidate:`${OPENSEARCH_WEBSITE_DOCS}`},ingest:{deletePipeline:`${OPENSEARCH_WEBSITE_DOCS}/api-reference/ingest-apis/delete-ingest/`,getPipeline:`${OPENSEARCH_WEBSITE_DOCS}/api-reference/ingest-apis/get-ingest/`,putPipeline:`${OPENSEARCH_WEBSITE_DOCS}/api-reference/ingest-apis/create-update-ingest/`,simulatePipeline:`${OPENSEARCH_WEBSITE_DOCS}/api-reference/ingest-apis/simulate-ingest/`,grokProcessor:`${OPENSEARCH_WEBSITE_DOCS}/data-prepper/pipelines/configuration/processors/grok/`,appendProcessor:`${OPENSEARCH_WEBSITE_DOCS}`,bytesProcessor:`${OPENSEARCH_WEBSITE_DOCS}`,ingestCircleProcessor:`${OPENSEARCH_WEBSITE_DOCS}`,csvProcessor:`${OPENSEARCH_WEBSITE_DOCS}/data-prepper/pipelines/configuration/processors/csv/`,convertProcessor:`${OPENSEARCH_WEBSITE_DOCS}/data-prepper/pipelines/configuration/processors/string-converter/`,dataProcessor:`${OPENSEARCH_WEBSITE_DOCS}/data-prepper/pipelines/configuration/processors/date/`,dataIndexNamProcessor:`${OPENSEARCH_WEBSITE_DOCS}/data-prepper/pipelines/configuration/processors/date/`,dissectProcessor:`${OPENSEARCH_WEBSITE_DOCS}`,dotExpandProcessor:`${OPENSEARCH_WEBSITE_DOCS}`,dropProcessor:`${OPENSEARCH_WEBSITE_DOCS}/data-prepper/pipelines/configuration/processors/drop-events/`,failProcessor:`${OPENSEARCH_WEBSITE_DOCS}`,foreachProcessor:`${OPENSEARCH_WEBSITE_DOCS}`,geoIPProcessor:`${OPENSEARCH_WEBSITE_DOCS}`,gusbProcessor:`${OPENSEARCH_WEBSITE_DOCS}`,htmlstripProcessor:`${OPENSEARCH_WEBSITE_DOCS}`,inferenceProcessor:`${OPENSEARCH_WEBSITE_DOCS}`,joinProcessor:`${OPENSEARCH_WEBSITE_DOCS}`,jsonProcessor:`${OPENSEARCH_WEBSITE_DOCS}/data-prepper/pipelines/configuration/processors/parse-json/`,kvProcessor:`${OPENSEARCH_WEBSITE_DOCS}/data-prepper/pipelines/configuration/processors/key-value/`,lowecaseProcessor:`${OPENSEARCH_WEBSITE_DOCS}/data-prepper/pipelines/configuration/processors/lowercase-string/`,pipelineProcessor:`${OPENSEARCH_WEBSITE_DOCS}`,removeProcessor:`${OPENSEARCH_WEBSITE_DOCS}`,renameProcessor:`${OPENSEARCH_WEBSITE_DOCS}/data-prepper/pipelines/configuration/processors/rename-keys/`,scriptProcessor:`${OPENSEARCH_WEBSITE_DOCS}`,setProcessor:`${OPENSEARCH_WEBSITE_DOCS}`,securityUserProcessor:`${OPENSEARCH_WEBSITE_DOCS}`,splitProcessor:`${OPENSEARCH_WEBSITE_DOCS}/data-prepper/pipelines/configuration/processors/split-string/`,sortProcessor:`${OPENSEARCH_WEBSITE_DOCS}`,trimProcessor:`${OPENSEARCH_WEBSITE_DOCS}/data-prepper/pipelines/configuration/processors/trim-string/`,uppercaseProcessor:`${OPENSEARCH_WEBSITE_DOCS}/data-prepper/pipelines/configuration/processors/uppercase-string/`,urldecodeProcessor:`${OPENSEARCH_WEBSITE_DOCS}`,userAgentProcessor:`${OPENSEARCH_WEBSITE_DOCS}`},nodes:{info:`${OPENSEARCH_WEBSITE_DOCS}/api-reference/nodes-apis/nodes-info/`,hotThreads:`${OPENSEARCH_WEBSITE_DOCS}/api-reference/nodes-apis/nodes-hot-threads/`,reloadSecuritySetting:`${OPENSEARCH_WEBSITE_DOCS}/api-reference/nodes-apis/nodes-reload-secure/`,nodeStats:`${OPENSEARCH_WEBSITE_DOCS}/api-reference/nodes-apis/nodes-stats/`,usage:`${OPENSEARCH_WEBSITE_DOCS}/api-reference/nodes-apis/nodes-usage/`},reIndex:{rethrottle:`${OPENSEARCH_WEBSITE_DOCS}`},apmServer:`${OPENSEARCH_WEBSITE_DOCS}`,tutorial:{loadDataTutorial:`${OPENSEARCH_WEBSITE_DOCS}`,visualizeTutorial:`${OPENSEARCH_WEBSITE_DOCS}`},scroll:{clear_scroll:`${OPENSEARCH_WEBSITE_DOCS}/api-reference/scroll/`},documentAPI:{delete_by_query:`${OPENSEARCH_WEBSITE_DOCS}/api-reference/document-apis/delete-by-query/`,multiTermVector:`${OPENSEARCH_WEBSITE_DOCS}`,termVector:`${OPENSEARCH_WEBSITE_DOCS}`,update_by_query_rethrottle:`${OPENSEARCH_WEBSITE_DOCS}/api-reference/document-apis/update-by-query/`},filed_caps:`${OPENSEARCH_WEBSITE_DOCS}`,painless_execute:`${OPENSEARCH_WEBSITE_DOCS}/api-reference/script-apis/exec-script/`,search:{search:`${OPENSEARCH_WEBSITE_DOCS}/api-reference/search/`,searchRankEval:`${OPENSEARCH_WEBSITE_DOCS}`,searchShards:`${OPENSEARCH_WEBSITE_DOCS}`,searchFieldCap:`${OPENSEARCH_WEBSITE_DOCS}`},snapshot:{deleteSnapshot:`${OPENSEARCH_WEBSITE_DOCS}/api-reference/snapshots/delete-snapshot/`,deleteRepository:`${OPENSEARCH_WEBSITE_DOCS}/api-reference/snapshots/delete-snapshot-repository/`,cleanup:`${OPENSEARCH_WEBSITE_DOCS}`,veirfyRepository:`${OPENSEARCH_WEBSITE_DOCS}/api-reference/snapshots/verify-snapshot-repository/`},lucene:{base:`${OPENSEARCH_WEBSITE_DOCS}/query-dsl/full-text/query-string/`},ppl:{base:`${OPENSEARCH_WEBSITE_DOCS}/search-plugins/sql/ppl/syntax/`},sql:{base:`${OPENSEARCH_WEBSITE_DOCS}/search-plugins/sql/sql/basic/`},sqlPplLimitation:{base:`${OPENSEARCH_WEBSITE_DOCS}/search-plugins/sql/limitation/`}}}})}}var opensearch_safer_lodash_set=__webpack_require__(179);class simple_saved_object_SimpleSavedObject{constructor(client,_ref){let{id:id,type:type,version:version,attributes:attributes,error:error,references:references,migrationVersion:migrationVersion,updated_at:updateAt,workspaces:workspaces}=_ref;this.client=client;defineProperty_default()(this,"attributes",void 0);defineProperty_default()(this,"_version",void 0);defineProperty_default()(this,"id",void 0);defineProperty_default()(this,"type",void 0);defineProperty_default()(this,"migrationVersion",void 0);defineProperty_default()(this,"error",void 0);defineProperty_default()(this,"references",void 0);defineProperty_default()(this,"updated_at",void 0);defineProperty_default()(this,"workspaces",void 0);this.id=id;this.type=type;this.attributes=attributes||{};this.references=references||[];this._version=version;this.migrationVersion=migrationVersion;this.updated_at=updateAt;this.workspaces=workspaces;if(error){this.error=error}}get(key){return Object(external_osdSharedDeps_Lodash_["get"])(this.attributes,key)}set(key,value){return Object(opensearch_safer_lodash_set["set"])(this.attributes,key,value)}has(key){return Object(external_osdSharedDeps_Lodash_["has"])(this.attributes,key)}save(){if(this.id){return this.client.update(this.type,this.id,this.attributes,{migrationVersion:this.migrationVersion,references:this.references})}else{return this.client.create(this.type,this.attributes,{migrationVersion:this.migrationVersion,references:this.references})}}delete(){return this.client.delete(this.type,this.id)}}function saved_objects_client_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function saved_objects_client_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?saved_objects_client_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):saved_objects_client_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const join=function(){for(var _len=arguments.length,uriComponents=new Array(_len),_key=0;_key<_len;_key++){uriComponents[_key]=arguments[_key]}return uriComponents.filter(comp=>Boolean(comp)).map(encodeURIComponent).join("/")};const BATCH_INTERVAL=100;const API_BASE_URL="/api/saved_objects/";const getObjectsToFetch=queue=>{const objects=[];const inserted=new Set;queue.forEach(_ref=>{let{id:id,type:type}=_ref;if(!inserted.has(`${type}|${id}`)){objects.push({id:id,type:type});inserted.add(`${type}|${id}`)}});return objects};class saved_objects_client_SavedObjectsClient{formatWorkspacesParams(options){const currentWorkspaceId=this.currentWorkspaceId;let finalWorkspaces;if(options.hasOwnProperty("workspaces")){finalWorkspaces=options.workspaces}else if(typeof currentWorkspaceId==="string"){finalWorkspaces=[currentWorkspaceId]}if(finalWorkspaces){return{workspaces:finalWorkspaces}}return{}}constructor(http){var _this=this;defineProperty_default()(this,"http",void 0);defineProperty_default()(this,"batchQueue",void 0);defineProperty_default()(this,"currentWorkspaceId",void 0);defineProperty_default()(this,"processBatchQueue",Object(external_osdSharedDeps_Lodash_["throttle"])(async()=>{const queue=[...this.batchQueue];this.batchQueue=[];try{const objectsToFetch=getObjectsToFetch(queue);const{saved_objects:savedObjects}=await this.performBulkGet(objectsToFetch);queue.forEach(queueItem=>{const foundObject=savedObjects.find(savedObject=>savedObject.id===queueItem.id&&savedObject.type===queueItem.type);if(foundObject){queueItem.resolve(this.createSavedObject(Object(external_osdSharedDeps_Lodash_["cloneDeep"])(foundObject)))}else{queueItem.resolve(this.createSavedObject(Object(external_osdSharedDeps_Lodash_["pick"])(queueItem,["id","type"])))}})}catch(err){queue.forEach(queueItem=>{queueItem.reject(err)})}},BATCH_INTERVAL,{leading:false}));defineProperty_default()(this,"create",(function(type,attributes){let options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(!type||!attributes){return Promise.reject(new Error("requires type and attributes"))}const path=_this.getPath([type,options.id]);const query={overwrite:options.overwrite};const createRequest=_this.savedObjectsFetch(path,{method:"POST",query:query,body:JSON.stringify(saved_objects_client_objectSpread({attributes:attributes,migrationVersion:options.migrationVersion,references:options.references},_this.formatWorkspacesParams(options)))});return createRequest.then(resp=>_this.createSavedObject(resp))}));defineProperty_default()(this,"bulkCreate",(function(){let objects=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{overwrite:false};const path=_this.getPath(["_bulk_create"]);const query={overwrite:options.overwrite};const request=_this.savedObjectsFetch(path,{method:"POST",query:saved_objects_client_objectSpread(saved_objects_client_objectSpread({},query),_this.formatWorkspacesParams(options)),body:JSON.stringify(objects)});return request.then(resp=>{resp.saved_objects=resp.saved_objects.map(d=>_this.createSavedObject(d));return renameKeys({saved_objects:"savedObjects"},resp)})}));defineProperty_default()(this,"delete",(type,id,options)=>{if(!type||!id){return Promise.reject(new Error("requires type and id"))}const query={force:!!(options!==null&&options!==void 0&&options.force)};return this.savedObjectsFetch(this.getPath([type,id]),{method:"DELETE",query:query})});defineProperty_default()(this,"find",options=>{const path=this.getPath(["_find"]);const renameMap={defaultSearchOperator:"default_search_operator",fields:"fields",hasReference:"has_reference",page:"page",perPage:"per_page",search:"search",searchFields:"search_fields",sortField:"sort_field",type:"type",filter:"filter",namespaces:"namespaces",preference:"preference",workspaces:"workspaces"};const renamedQuery=renameKeys(renameMap,saved_objects_client_objectSpread(saved_objects_client_objectSpread({},options),this.formatWorkspacesParams(options)));const query=external_osdSharedDeps_Lodash_["pick"].apply(null,[renamedQuery,...Object.values(renameMap)]);if(query.has_reference)query.has_reference=JSON.stringify(query.has_reference);const request=this.savedObjectsFetch(path,{method:"GET",query:query});return request.then(resp=>renameKeys({saved_objects:"savedObjects",total:"total",per_page:"perPage",page:"page"},saved_objects_client_objectSpread(saved_objects_client_objectSpread({},resp),{},{saved_objects:resp.saved_objects.map(d=>this.createSavedObject(d))})))});defineProperty_default()(this,"get",(type,id)=>{if(!type||!id){return Promise.reject(new Error("requires type and id"))}return new Promise((resolve,reject)=>{this.batchQueue.push({type:type,id:id,resolve:resolve,reject:reject});this.processBatchQueue()})});defineProperty_default()(this,"bulkGet",(function(){let objects=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];const filteredObjects=objects.map(obj=>Object(external_osdSharedDeps_Lodash_["pick"])(obj,["id","type"]));return _this.performBulkGet(filteredObjects).then(resp=>{resp.saved_objects=resp.saved_objects.map(d=>_this.createSavedObject(d));return renameKeys({saved_objects:"savedObjects"},resp)})}));this.http=http;this.batchQueue=[]}setCurrentWorkspace(workspaceId){this.currentWorkspaceId=workspaceId}async performBulkGet(objects){const path=this.getPath(["_bulk_get"]);const request=this.savedObjectsFetch(path,{method:"POST",body:JSON.stringify(objects)});return request}update(type,id,attributes){let{version:version,migrationVersion:migrationVersion,references:references}=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};if(!type||!id||!attributes){return Promise.reject(new Error("requires type, id and attributes"))}const path=this.getPath([type,id]);const body={attributes:attributes,migrationVersion:migrationVersion,references:references,version:version};return this.savedObjectsFetch(path,{method:"PUT",body:JSON.stringify(body)}).then(resp=>this.createSavedObject(resp))}bulkUpdate(){let objects=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];const path=this.getPath(["_bulk_update"]);return this.savedObjectsFetch(path,{method:"PUT",body:JSON.stringify(objects)}).then(resp=>{resp.saved_objects=resp.saved_objects.map(d=>this.createSavedObject(d));return renameKeys({saved_objects:"savedObjects"},resp)})}createSavedObject(options){return new simple_saved_object_SimpleSavedObject(this,options)}getPath(path){return Object(url_url["resolve"])(API_BASE_URL,join(...path))}savedObjectsFetch(path,_ref2){let{method:method,query:query,body:body}=_ref2;return this.http.fetch(path,{method:method,query:query,body:body})}}const renameKeys=(keysMap,obj)=>Object.keys(obj).reduce((acc,key)=>saved_objects_client_objectSpread(saved_objects_client_objectSpread({},acc),{[keysMap[key]||key]:obj[key]}),{});class saved_objects_service_SavedObjectsService{async setup(){}async start(_ref){let{http:http}=_ref;return{client:new saved_objects_client_SavedObjectsClient(http)}}async stop(){}}class context_service_ContextService{constructor(core){this.core=core}setup(_ref){let{pluginDependencies:pluginDependencies}=_ref;return{createContextContainer:()=>new context_ContextContainer(pluginDependencies,this.core.coreId)}}}const IE_REGEX=/(; ?MSIE |Edge\/\d|Trident\/[\d+\.]+;.*rv:*11\.\d+)/;const IS_IE=IE_REGEX.test(window.navigator.userAgent);const URL_MAX_LENGTH=IS_IE?2e3:25e3;const URL_WARNING_LENGTH=IS_IE?1e3:24e3;const ERROR_ROUTE="/app/error";const setupUrlOverflowDetection=_ref=>{let{basePath:basePath,history:history,toasts:toasts,uiSettings:uiSettings}=_ref;return history.listen(location=>{if(uiSettings.get("state:storeInSessionStorage")||history.location.pathname.startsWith(ERROR_ROUTE)){return}const absUrl=history.createHref(location);const absUrlLength=absUrl.length;if(absUrlLength>URL_MAX_LENGTH){const href=history.createHref({pathname:ERROR_ROUTE,search:`errorType=urlOverflow`});window.location.assign(href)}else if(absUrlLength>=URL_WARNING_LENGTH){toasts.addWarning({title:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.errorUrlOverflow.bigUrlWarningNotificationTitle",{defaultMessage:"The URL is big and OpenSearch Dashboards might stop working"}),text:mountReactNode(external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"core.ui.errorUrlOverflow.bigUrlWarningNotificationMessage",defaultMessage:"Either enable the {storeInSessionStorageParam} option in {advancedSettingsLink} or simplify the onscreen visuals.",values:{storeInSessionStorageParam:external_osdSharedDeps_React_default.a.createElement("code",null,"state:storeInSessionStorage"),advancedSettingsLink:external_osdSharedDeps_React_default.a.createElement("a",{href:basePath.prepend("/app/management/opensearch-dashboards/settings")},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"core.ui.errorUrlOverflow.bigUrlWarningNotificationMessage.advancedSettingsLinkText",defaultMessage:"advanced settings"}))}}))})}})};const UrlOverflowUi=_ref=>{let{basePath:basePath}=_ref;return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s",textAlign:"left"},external_osdSharedDeps_React_default.a.createElement("p",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"core.ui.errorUrlOverflow.optionsToFixErrorDescription",defaultMessage:"Things to try:"})),external_osdSharedDeps_React_default.a.createElement("ul",null,external_osdSharedDeps_React_default.a.createElement("li",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"core.ui.errorUrlOverflow.optionsToFixError.enableOptionText",defaultMessage:"Enable the {storeInSessionStorageConfig} option in {opensearchDashboardsSettingsLink}.",values:{storeInSessionStorageConfig:external_osdSharedDeps_React_default.a.createElement("code",null,"state:storeInSessionStorage"),opensearchDashboardsSettingsLink:external_osdSharedDeps_React_default.a.createElement("a",{href:basePath.prepend("/app/management/opensearch-dashboards/settings")},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"core.ui.errorUrlOverflow.optionsToFixError.enableOptionText.advancedSettingsLinkText",defaultMessage:"Advanced Settings"}))}})),external_osdSharedDeps_React_default.a.createElement("li",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"core.ui.errorUrlOverflow.optionsToFixError.removeStuffFromDashboardText",defaultMessage:"Simplify the object you are editing by removing content or filters."})),IS_IE&&external_osdSharedDeps_React_default.a.createElement("li",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"core.ui.errorUrlOverflow.optionsToFixError.doNotUseIEText",defaultMessage:"Upgrade to a modern browser. Every other supported browser we know of doesn't have this limit."}))))};const ErrorPage=_ref=>{var _title;let{title:title,children:children}=_ref;title=(_title=title)!==null&&_title!==void 0?_title:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.application.appRenderError.defaultTitle",{defaultMessage:"Application error"});return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPage"],{style:{minHeight:"100%"},"data-test-subj":"appRenderErrorPageContent"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPageBody"],{component:"main"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPageContent"],{verticalPosition:"center",horizontalPosition:"center"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiEmptyPrompt"],{iconType:"alert",iconColor:"danger",title:external_osdSharedDeps_React_default.a.createElement("h2",null,title),body:children}))))};const ErrorApp=_ref2=>{let{basePath:basePath,history:history}=_ref2;const[currentLocation,setCurrentLocation]=Object(external_osdSharedDeps_React_["useState"])(history.location);Object(external_osdSharedDeps_React_["useLayoutEffect"])(()=>history.listen(location=>setCurrentLocation(location)),[history]);const searchParams=new URLSearchParams(currentLocation.search);const errorType=searchParams.get("errorType");if(errorType==="urlOverflow"){return external_osdSharedDeps_React_default.a.createElement(ErrorPage,{title:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.ui.errorUrlOverflow.errorTitle",{defaultMessage:"The URL for this object is too long, and we can't display it"})},external_osdSharedDeps_React_default.a.createElement(UrlOverflowUi,{basePath:basePath}))}return external_osdSharedDeps_React_default.a.createElement(ErrorPage,null)};const renderApp=(_ref3,_ref4)=>{let{element:element,history:history}=_ref3;let{basePath:basePath}=_ref4;external_osdSharedDeps_ReactDom_default.a.render(external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["I18nProvider"],null,external_osdSharedDeps_React_default.a.createElement(ErrorApp,{history:history,basePath:basePath})),element);return()=>{external_osdSharedDeps_ReactDom_default.a.unmountComponentAtNode(element)}};var external_osdSharedDeps_ElasticNumeral_=__webpack_require__(180);var external_osdSharedDeps_ElasticNumeral_default=__webpack_require__.n(external_osdSharedDeps_ElasticNumeral_);function formatNumber(num,type){let format;let postfix="";switch(type){case"byte":format="0.00 b";break;case"time":format="0.00";postfix=" ms";break;case"integer":format="0";break;case"float":default:format="0.00"}return external_osdSharedDeps_ElasticNumeral_default()(num).format(format)+postfix}function formatMetrics(_ref){let{metrics:metrics}=_ref;if(!metrics){return[]}return[{name:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.statusPage.metricsTiles.columns.heapTotalHeader",{defaultMessage:"Heap total"}),value:metrics.process.memory.heap.size_limit,type:"byte"},{name:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.statusPage.metricsTiles.columns.heapUsedHeader",{defaultMessage:"Heap used"}),value:metrics.process.memory.heap.used_in_bytes,type:"byte"},{name:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.statusPage.metricsTiles.columns.loadHeader",{defaultMessage:"Load"}),value:[metrics.os.load["1m"],metrics.os.load["5m"],metrics.os.load["15m"]],type:"time"},{name:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.statusPage.metricsTiles.columns.resTimeAvgHeader",{defaultMessage:"Response time avg"}),value:metrics.response_times.avg_in_millis,type:"time"},{name:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.statusPage.metricsTiles.columns.resTimeMaxHeader",{defaultMessage:"Response time max"}),value:metrics.response_times.max_in_millis,type:"time"},{name:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.statusPage.metricsTiles.columns.requestsPerSecHeader",{defaultMessage:"Requests per second"}),value:metrics.requests.total*1e3/metrics.collection_interval_in_millis,type:"float"}]}function formatStatus(status){return{id:status.id,state:{id:status.state,title:status.title,message:status.message,uiColor:status.uiColor}}}async function loadStatus(_ref2){let{http:http,notifications:notifications}=_ref2;let response;try{response=await http.get("/api/status")}catch(e){var _e$response$status,_e$response;if(((_e$response$status=(_e$response=e.response)===null||_e$response===void 0?void 0:_e$response.status)!==null&&_e$response$status!==void 0?_e$response$status:0)>=400){var _e$response2;notifications.toasts.addDanger(external_osdSharedDeps_OsdI18n_["i18n"].translate("core.statusPage.loadStatus.serverStatusCodeErrorMessage",{defaultMessage:"Failed to request server status with status code {responseStatus}",values:{responseStatus:(_e$response2=e.response)===null||_e$response2===void 0?void 0:_e$response2.status}}))}else{notifications.toasts.addDanger(external_osdSharedDeps_OsdI18n_["i18n"].translate("core.statusPage.loadStatus.serverIsDownErrorMessage",{defaultMessage:"Failed to request server status. Perhaps your server is down?"}))}throw e}return{name:response.name,version:response.version,statuses:response.status.statuses.map(formatStatus),serverState:formatStatus(response.status.overall).state,metrics:formatMetrics(response)}}const MetricTile=_ref=>{let{metric:metric}=_ref;const{name:name}=metric;return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCard"],{"data-test-subj":`serverMetric-${formatMetricId(metric)}`,layout:"horizontal",title:formatMetric(metric),description:name})};const MetricTiles=_ref2=>{let{metrics:metrics}=_ref2;return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGrid"],{columns:3},metrics.map(metric=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{key:metric.name,"data-test-subj":"serverMetric"},external_osdSharedDeps_React_default.a.createElement(MetricTile,{metric:metric}))))};const formatMetric=_ref3=>{let{value:value,type:type}=_ref3;const metrics=Array.isArray(value)?value:[value];return metrics.map(metric=>formatNumber(metric,type)).join(", ")};const formatMetricId=_ref4=>{let{name:name}=_ref4;return name.toLowerCase().replace(/[ ]+/g,"-")};const ServerStatus=_ref=>{let{name:name,serverState:serverState}=_ref;return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"center",justifyContent:"spaceBetween",style:{flexGrow:0}},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTitle"],null,external_osdSharedDeps_React_default.a.createElement("h2",{"data-test-subj":"serverStatusTitle"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"core.statusPage.serverStatus.statusTitle",defaultMessage:"OpenSearch Dashboards status is {opensearchDashboardsStatus}",values:{opensearchDashboardsStatus:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiBadge"],{"data-test-subj":"serverStatusTitleBadge",color:serverState.uiColor,"aria-label":serverState.title},serverState.title)}})))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_osdSharedDeps_React_default.a.createElement("p",null,name))))};const tableColumns=[{field:"state",name:"",render:state=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiIcon"],{type:"dot","aria-hidden":true,color:state.uiColor}),width:"32px"},{field:"id",name:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.statusPage.statusTable.columns.idHeader",{defaultMessage:"ID"})},{field:"state",name:external_osdSharedDeps_OsdI18n_["i18n"].translate("core.statusPage.statusTable.columns.statusHeader",{defaultMessage:"Status"}),render:state=>external_osdSharedDeps_React_default.a.createElement("span",null,state.message)}];const StatusTable=_ref=>{let{statuses:statuses}=_ref;if(!statuses){return null}return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiBasicTable"],{columns:tableColumns,items:statuses,rowProps:_ref2=>{let{state:state}=_ref2;return{className:`status-table-row-${state.uiColor}`}},"data-test-subj":"statusBreakdown"})};class status_app_StatusApp extends external_osdSharedDeps_React_["Component"]{constructor(props){super(props);defineProperty_default()(this,"_isMounted",false);this.state={loading:true,fetchError:false,data:null}}async componentDidMount(){this._isMounted=true;const{http:http,notifications:notifications}=this.props;try{const data=await loadStatus({http:http,notifications:notifications});if(!this._isMounted)return;this.setState({loading:false,fetchError:false,data:data})}catch(e){if(!this._isMounted)return;this.setState({fetchError:true,loading:false,data:null})}}componentWillUnmount(){this._isMounted=false}render(){const{loading:loading,fetchError:fetchError,data:data}=this.state;if(loading){return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiLoadingSpinner"],{size:"l"})}if(fetchError){return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{color:"danger"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"core.statusPage.statusApp.loadingErrorText",defaultMessage:"An error occurred loading the status"}))}const{metrics:metrics,statuses:statuses,serverState:serverState,name:name,version:version}=data;const{build_hash:buildHash,build_number:buildNumber}=version;return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPage"],{className:"stsPage","data-test-subj":"statusPageRoot"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPageBody"],{component:"main",restrictWidth:true},external_osdSharedDeps_React_default.a.createElement(ServerStatus,{name:name,serverState:serverState}),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],null),external_osdSharedDeps_React_default.a.createElement(MetricTiles,{metrics:metrics}),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],null),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPageContent"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"center",justifyContent:"spaceBetween"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_osdSharedDeps_React_default.a.createElement("h2",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"core.statusPage.statusApp.statusTitle",defaultMessage:"Plugin status"})))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_osdSharedDeps_React_default.a.createElement("p",{"data-test-subj":"statusBuildNumber"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"core.statusPage.statusApp.statusActions.buildText",defaultMessage:"BUILD {buildNum}",values:{buildNum:external_osdSharedDeps_React_default.a.createElement("strong",null,buildNumber)}})))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_osdSharedDeps_React_default.a.createElement("p",{"data-test-subj":"statusBuildHash"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"core.statusPage.statusApp.statusActions.commitText",defaultMessage:"COMMIT {buildSha}",values:{buildSha:external_osdSharedDeps_React_default.a.createElement("strong",null,buildHash)}}))))))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],null),external_osdSharedDeps_React_default.a.createElement(StatusTable,{statuses:statuses}))))}}const render_app_renderApp=(_ref,_ref2)=>{let{element:element}=_ref;let{http:http,notifications:notifications}=_ref2;external_osdSharedDeps_ReactDom_default.a.render(external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["I18nProvider"],null,external_osdSharedDeps_React_default.a.createElement(status_app_StatusApp,{http:http,notifications:notifications})),element);return()=>{external_osdSharedDeps_ReactDom_default.a.unmountComponentAtNode(element)}};class core_app_CoreApp{constructor(coreContext){this.coreContext=coreContext;defineProperty_default()(this,"stopHistoryListening",void 0)}setup(_ref){let{http:http,application:application,injectedMetadata:injectedMetadata,notifications:notifications}=_ref;application.register(this.coreContext.coreId,{id:"error",title:"App Error",navLinkStatus:AppNavLinkStatus.hidden,mount(params){return renderApp(params,{basePath:http.basePath})}});if(injectedMetadata.getAnonymousStatusPage()){http.anonymousPaths.register("/status")}application.register(this.coreContext.coreId,{id:"status",title:"Server Status",appRoute:"/status",chromeless:true,navLinkStatus:AppNavLinkStatus.hidden,mount(params){return render_app_renderApp(params,{http:http,notifications:notifications})}})}start(_ref2){let{application:application,http:http,notifications:notifications,uiSettings:uiSettings}=_ref2;if(!application.history){return}this.stopHistoryListening=setupUrlOverflowDetection({basePath:http.basePath,history:application.history,toasts:notifications.toasts,uiSettings:uiSettings})}stop(){if(this.stopHistoryListening){this.stopHistoryListening();this.stopHistoryListening=undefined}}}class injected_metadata_service_InjectedMetadataService{constructor(params){this.params=params;defineProperty_default()(this,"state",deepFreeze(this.params.injectedMetadata))}start(){return this.setup()}setup(){return{getBasePath:()=>this.state.basePath,getServerBasePath:()=>this.state.serverBasePath,getAnonymousStatusPage:()=>this.state.anonymousStatusPage,getOpenSearchDashboardsVersion:()=>this.state.version,getCspConfig:()=>this.state.csp,getPlugins:()=>this.state.uiPlugins,getLegacyMetadata:()=>this.state.legacyMetadata,getInjectedVar:(name,defaultValue)=>Object(external_osdSharedDeps_Lodash_["get"])(this.state.vars,name,defaultValue),getInjectedVars:()=>this.state.vars,getOpenSearchDashboardsBuildNumber:()=>this.state.buildNumber,getOpenSearchDashboardsBranch:()=>this.state.branch,getBranding:()=>this.state.branding,getSurvey:()=>this.state.survey}}}var external_osdSharedDeps_MomentTimezone_=__webpack_require__(48);var external_osdSharedDeps_MomentTimezone_default=__webpack_require__.n(external_osdSharedDeps_MomentTimezone_);class moment_service_MomentService{constructor(){defineProperty_default()(this,"uiSettingsSubscription",void 0)}async setup(){}async start(_ref){let{uiSettings:uiSettings}=_ref;const setDefaultTimezone=tz=>{const zone=external_osdSharedDeps_MomentTimezone_default.a.tz.zone(tz);if(zone)external_osdSharedDeps_MomentTimezone_default.a.tz.setDefault(zone.name)};const setStartDayOfWeek=day=>{const dow=external_osdSharedDeps_MomentTimezone_default.a.weekdays().indexOf(day);external_osdSharedDeps_MomentTimezone_default.a.updateLocale(external_osdSharedDeps_MomentTimezone_default.a.locale(),{week:{dow:dow}})};this.uiSettingsSubscription=Object(external_osdSharedDeps_Rxjs_["merge"])(uiSettings.get$("dateFormat:tz").pipe(Object(external_osdSharedDeps_RxjsOperators_["tap"])(setDefaultTimezone)),uiSettings.get$("dateFormat:dow").pipe(Object(external_osdSharedDeps_RxjsOperators_["tap"])(setStartDayOfWeek))).subscribe()}async stop(){if(this.uiSettingsSubscription){this.uiSettingsSubscription.unsubscribe();this.uiSettingsSubscription=undefined}}}var disable_animations="*:not(.essentialAnimation),\n*:not(.essentialAnimation):before,\n*:not(.essentialAnimation):after {\n  /**\n   * set the animation/transition duration to 0s so that animation callbacks are\n   * still triggered, allowing components that require them to remain functional\n   */\n\n  -webkit-animation-duration: 0s !important;\n  animation-duration: 0s !important;\n\n  -webkit-transition-duration: 0s !important;\n  transition-duration: 0s !important;\n\n  -webkit-transition-delay: 0s !important;\n  transition-delay: 0s !important;\n}\n";class styles_service_StylesService{constructor(){defineProperty_default()(this,"uiSettingsSubscription",void 0)}async setup(){}async start(_ref){let{uiSettings:uiSettings}=_ref;const disableAnimationsStyleTag=document.createElement("style");disableAnimationsStyleTag.setAttribute("id","disableAnimationsCss");document.head.appendChild(disableAnimationsStyleTag);const setDisableAnimations=disableAnimations=>{disableAnimationsStyleTag.textContent=disableAnimations?disable_animations:""};this.uiSettingsSubscription=uiSettings.get$("accessibility:disableAnimations").subscribe(setDisableAnimations)}async stop(){if(this.uiSettingsSubscription){this.uiSettingsSubscription.unsubscribe();this.uiSettingsSubscription=undefined}}}class integrations_service_IntegrationsService{constructor(){defineProperty_default()(this,"styles",new styles_service_StylesService);defineProperty_default()(this,"moment",new moment_service_MomentService)}async setup(){await this.styles.setup();await this.moment.setup()}async start(_ref){let{uiSettings:uiSettings}=_ref;await this.styles.start({uiSettings:uiSettings});await this.moment.start({uiSettings:uiSettings})}async stop(){await this.styles.stop();await this.moment.stop()}}const AppWrapper=_ref=>{let{chromeVisible$:chromeVisible$,sidecarConfig$:sidecarConfig$,children:children}=_ref;const visible=useObservable_default()(chromeVisible$);const sidecarConfig=useObservable_default()(sidecarConfig$,undefined);const sidecarPaddingStyle=Object(external_osdSharedDeps_React_["useMemo"])(()=>getOsdSidecarPaddingStyle(sidecarConfig),[sidecarConfig]);return external_osdSharedDeps_React_default.a.createElement("div",{id:"app-wrapper",className:classnames_default()("app-wrapper",{"hidden-chrome":!visible}),style:sidecarPaddingStyle},children)};const app_containers_AppContainer=_ref2=>{let{classes$:classes$,children:children}=_ref2;const classes=useObservable_default()(classes$);return external_osdSharedDeps_React_default.a.createElement("div",{className:classnames_default()("application",classes)},children)};class rendering_service_RenderingService{start(_ref){let{application:application,chrome:chrome,overlays:overlays,targetDomElement:targetDomElement}=_ref;const chromeUi=chrome.getHeaderComponent();const appUi=application.getComponent();const bannerUi=overlays.banners.getComponent();external_osdSharedDeps_ReactDom_default.a.render(external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["I18nProvider"],null,external_osdSharedDeps_React_default.a.createElement("div",{className:"content","data-test-subj":"opensearchDashboardsChrome"},chromeUi,external_osdSharedDeps_React_default.a.createElement(AppWrapper,{chromeVisible$:chrome.getIsVisible$(),sidecarConfig$:overlays.sidecar.getSidecarConfig$()},external_osdSharedDeps_React_default.a.createElement("div",{className:"app-wrapper-panel"},external_osdSharedDeps_React_default.a.createElement("div",{id:"globalBannerList"},bannerUi),external_osdSharedDeps_React_default.a.createElement(app_containers_AppContainer,{classes$:chrome.getApplicationClasses$()},appUi))))),targetDomElement)}}var WORKSPACE_ERROR=function(WORKSPACE_ERROR){WORKSPACE_ERROR["WORKSPACE_IS_STALE"]="WORKSPACE_IS_STALE";return WORKSPACE_ERROR}(WORKSPACE_ERROR||{});class workspaces_service_WorkspacesService{constructor(){defineProperty_default()(this,"currentWorkspaceId$",new external_osdSharedDeps_Rxjs_["BehaviorSubject"](""));defineProperty_default()(this,"workspaceList$",new external_osdSharedDeps_Rxjs_["BehaviorSubject"]([]));defineProperty_default()(this,"currentWorkspace$",new external_osdSharedDeps_Rxjs_["BehaviorSubject"](null));defineProperty_default()(this,"initialized$",new external_osdSharedDeps_Rxjs_["BehaviorSubject"](false));defineProperty_default()(this,"client$",new external_osdSharedDeps_Rxjs_["BehaviorSubject"](null));Object(external_osdSharedDeps_Rxjs_["combineLatest"])([this.initialized$,this.workspaceList$,this.currentWorkspaceId$]).subscribe(_ref=>{let[workspaceInitialized,workspaceList,currentWorkspaceId]=_ref;if(workspaceInitialized){const currentWorkspace=workspaceList.find(w=>w&&w.id===currentWorkspaceId);if(!Object(external_osdSharedDeps_Lodash_["isEqual"])(currentWorkspace,this.currentWorkspace$.getValue())){this.currentWorkspace$.next(currentWorkspace!==null&&currentWorkspace!==void 0?currentWorkspace:null)}if(currentWorkspaceId&&!(currentWorkspace!==null&&currentWorkspace!==void 0&&currentWorkspace.id)){this.currentWorkspaceId$.error({reason:WORKSPACE_ERROR.WORKSPACE_IS_STALE});this.currentWorkspace$.error({reason:WORKSPACE_ERROR.WORKSPACE_IS_STALE})}}})}setup(){return{currentWorkspaceId$:this.currentWorkspaceId$,currentWorkspace$:this.currentWorkspace$,workspaceList$:this.workspaceList$,initialized$:this.initialized$,setClient:client=>{this.client$.next(client)}}}start(){return{currentWorkspaceId$:this.currentWorkspaceId$,currentWorkspace$:this.currentWorkspace$,workspaceList$:this.workspaceList$,initialized$:this.initialized$,client$:this.client$}}async stop(){this.currentWorkspace$.unsubscribe();this.currentWorkspaceId$.unsubscribe();this.workspaceList$.unsubscribe();this.initialized$.unsubscribe();this.client$.unsubscribe()}}class core_system_CoreSystem{constructor(params){defineProperty_default()(this,"fatalErrors",void 0);defineProperty_default()(this,"injectedMetadata",void 0);defineProperty_default()(this,"notifications",void 0);defineProperty_default()(this,"http",void 0);defineProperty_default()(this,"savedObjects",void 0);defineProperty_default()(this,"uiSettings",void 0);defineProperty_default()(this,"chrome",void 0);defineProperty_default()(this,"i18n",void 0);defineProperty_default()(this,"overlay",void 0);defineProperty_default()(this,"plugins",void 0);defineProperty_default()(this,"application",void 0);defineProperty_default()(this,"docLinks",void 0);defineProperty_default()(this,"rendering",void 0);defineProperty_default()(this,"context",void 0);defineProperty_default()(this,"integrations",void 0);defineProperty_default()(this,"coreApp",void 0);defineProperty_default()(this,"rootDomElement",void 0);defineProperty_default()(this,"coreContext",void 0);defineProperty_default()(this,"workspaces",void 0);defineProperty_default()(this,"fatalErrorsSetup",null);const{rootDomElement:rootDomElement,browserSupportsCsp:browserSupportsCsp,injectedMetadata:injectedMetadata}=params;this.rootDomElement=rootDomElement;this.i18n=new i18n_service_I18nService;this.injectedMetadata=new injected_metadata_service_InjectedMetadataService({injectedMetadata:injectedMetadata});this.fatalErrors=new fatal_errors_service_FatalErrorsService(rootDomElement,()=>{this.stop()});this.notifications=new notifications_service_NotificationsService;this.http=new http_service_HttpService;this.savedObjects=new saved_objects_service_SavedObjectsService;this.uiSettings=new ui_settings_service_UiSettingsService;this.overlay=new overlay_service_OverlayService;this.chrome=new chrome_service_ChromeService({browserSupportsCsp:browserSupportsCsp});this.docLinks=new doc_links_service_DocLinksService;this.rendering=new rendering_service_RenderingService;this.application=new application_service_ApplicationService;this.integrations=new integrations_service_IntegrationsService;this.workspaces=new workspaces_service_WorkspacesService;this.coreContext={coreId:Symbol("core"),env:injectedMetadata.env};this.context=new context_service_ContextService(this.coreContext);this.plugins=new plugins_service_PluginsService(this.coreContext,injectedMetadata.uiPlugins);this.coreApp=new core_app_CoreApp(this.coreContext)}async setup(){try{const injectedMetadata=this.injectedMetadata.setup();this.fatalErrorsSetup=this.fatalErrors.setup({injectedMetadata:injectedMetadata,i18n:this.i18n.getContext()});await this.integrations.setup();this.docLinks.setup();const http=this.http.setup({injectedMetadata:injectedMetadata,fatalErrors:this.fatalErrorsSetup});const uiSettings=this.uiSettings.setup({http:http,injectedMetadata:injectedMetadata});const notifications=this.notifications.setup({uiSettings:uiSettings});const workspaces=this.workspaces.setup();const pluginDependencies=this.plugins.getOpaqueIds();const context=this.context.setup({pluginDependencies:new Map([...pluginDependencies])});const application=this.application.setup({context:context,http:http});this.coreApp.setup({application:application,http:http,injectedMetadata:injectedMetadata,notifications:notifications});const chrome=this.chrome.setup({uiSettings:uiSettings});const core={application:application,context:context,chrome:chrome,fatalErrors:this.fatalErrorsSetup,http:http,injectedMetadata:injectedMetadata,notifications:notifications,uiSettings:uiSettings,workspaces:workspaces};await this.plugins.setup(core);return{fatalErrors:this.fatalErrorsSetup}}catch(error){if(this.fatalErrorsSetup&&(typeof error==="string"||error instanceof Error)){this.fatalErrorsSetup.add(error)}else{console.log(error)}}}async start(){try{var _injectedMetadata$get;const injectedMetadata=await this.injectedMetadata.start();const uiSettings=await this.uiSettings.start();const docLinks=this.docLinks.start({injectedMetadata:injectedMetadata});const http=await this.http.start();const savedObjects=await this.savedObjects.start({http:http});const i18n=await this.i18n.start();const fatalErrors=await this.fatalErrors.start();await this.integrations.start({uiSettings:uiSettings});const coreUiTargetDomElement=document.createElement("div");coreUiTargetDomElement.id="opensearch-dashboards-body";const notificationsTargetDomElement=document.createElement("div");const overlayTargetDomElement=document.createElement("div");const overlays=this.overlay.start({i18n:i18n,targetDomElement:overlayTargetDomElement,uiSettings:uiSettings});const notifications=await this.notifications.start({i18n:i18n,overlays:overlays,targetDomElement:notificationsTargetDomElement});const workspaces=this.workspaces.start();const application=await this.application.start({http:http,overlays:overlays,workspaces:workspaces});const chrome=await this.chrome.start({application:application,docLinks:docLinks,http:http,injectedMetadata:injectedMetadata,notifications:notifications,uiSettings:uiSettings,overlays:overlays,workspaces:workspaces});this.coreApp.start({application:application,http:http,notifications:notifications,uiSettings:uiSettings});application.registerMountContext(this.coreContext.coreId,"core",()=>({application:pick(application,["capabilities","navigateToApp"]),chrome:chrome,docLinks:docLinks,http:http,i18n:i18n,injectedMetadata:pick(injectedMetadata,["getInjectedVar","getBranding"]),notifications:notifications,overlays:overlays,savedObjects:savedObjects,uiSettings:uiSettings,workspaces:workspaces}));const core={application:application,chrome:chrome,docLinks:docLinks,http:http,savedObjects:savedObjects,i18n:i18n,injectedMetadata:injectedMetadata,notifications:notifications,overlays:overlays,uiSettings:uiSettings,fatalErrors:fatalErrors,workspaces:workspaces};await this.plugins.start(core);let{useExpandedHeader:useExpandedHeader=true}=(_injectedMetadata$get=injectedMetadata.getBranding())!==null&&_injectedMetadata$get!==void 0?_injectedMetadata$get:{};if(uiSettings.get("home:useNewHomePage")){useExpandedHeader=false;this.rootDomElement.classList.add("headerIsDense")}this.rootDomElement.textContent="";this.rootDomElement.classList.add("coreSystemRootDomElement");if(useExpandedHeader){this.rootDomElement.classList.add("headerIsExpanded")}this.rootDomElement.appendChild(coreUiTargetDomElement);this.rootDomElement.appendChild(notificationsTargetDomElement);this.rootDomElement.appendChild(overlayTargetDomElement);this.rendering.start({application:application,chrome:chrome,overlays:overlays,targetDomElement:coreUiTargetDomElement});return{application:application}}catch(error){if(this.fatalErrorsSetup&&(typeof error==="string"||error instanceof Error)){this.fatalErrorsSetup.add(error)}else{console.error(error)}}}stop(){this.plugins.stop();this.coreApp.stop();this.notifications.stop();this.http.stop();this.integrations.stop();this.uiSettings.stop();this.chrome.stop();this.i18n.stop();this.application.stop();this.workspaces.stop();this.rootDomElement.textContent=""}}const apm_system_excluded=["globalLabels"];const HTTP_REQUEST_TRANSACTION_NAME_REGEX=/^(GET|POST|PUT|HEAD|PATCH|DELETE|OPTIONS|CONNECT|TRACE)\s(.*)$/;class apm_system_ApmSystem{constructor(apmConfig){let basePath=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";this.apmConfig=apmConfig;this.basePath=basePath;defineProperty_default()(this,"enabled",void 0);this.enabled=apmConfig!=null&&!!apmConfig.active}async setup(){if(!this.enabled)return;const{init:init,apm:apm}=await __webpack_require__.e(4).then(__webpack_require__.t.bind(null,997,7));const _ref=this.apmConfig,{globalLabels:globalLabels}=_ref,apmConfig=objectWithoutProperties_default()(_ref,apm_system_excluded);if(globalLabels){apm.addLabels(globalLabels)}this.addHttpRequestNormalization(apm);init(apmConfig)}async start(start){if(!this.enabled||!start)return;start.application.currentAppId$.subscribe(appId=>{const apmInstance=window.opensearchApm;if(appId&&apmInstance&&typeof apmInstance.startTransaction==="function"){apmInstance.startTransaction(`/app/${appId}`,"route-change",{managed:true,canReuse:true})}})}addHttpRequestNormalization(apm){apm.observe("transaction:end",t=>{if(t.type!=="http-request"){return}const matches=t.name.match(HTTP_REQUEST_TRANSACTION_NAME_REGEX);if(!matches){return}const[,method,originalUrl]=matches;const normalizedUrl=modifyUrl(originalUrl,parts=>{var _parts$pathname;const isAbsolute=parts.hostname&&parts.protocol&&parts.port;if(isAbsolute&&(parts.hostname!==window.location.hostname||parts.protocol!==window.location.protocol||parts.port!==window.location.port)){return}parts.protocol=null;parts.hostname=null;parts.port=null;parts.slashes=false;if(parts.pathname===this.basePath){parts.pathname="/"}else if((_parts$pathname=parts.pathname)!==null&&_parts$pathname!==void 0&&_parts$pathname.startsWith(`${this.basePath}/`)){var _parts$pathname2;parts.pathname=(_parts$pathname2=parts.pathname)===null||_parts$pathname2===void 0?void 0:_parts$pathname2.slice(this.basePath.length)}});t.name=`${method} ${normalizedUrl}`})}}async function __osdBootstrap__(){const injectedMetadata=JSON.parse(document.querySelector("osd-injected-metadata").getAttribute("data"));const globals=typeof window==="undefined"?{}:window;const themeTag=globals.__osdThemeTag__||"";injectedMetadata.branding.darkMode=themeTag.endsWith("dark");let i18nError;const apmSystem=new apm_system_ApmSystem(injectedMetadata.vars.apmConfig,injectedMetadata.basePath);await Promise.all([apmSystem.setup().catch(console.warn),external_osdSharedDeps_OsdI18n_["i18n"].load(injectedMetadata.i18n.translationsUrl).catch(error=>{i18nError=error})]);const coreSystem=new core_system_CoreSystem({injectedMetadata:injectedMetadata,rootDomElement:document.body,browserSupportsCsp:!window.__osdCspNotEnforced__});const setup=await coreSystem.setup();if(i18nError&&setup){setup.fatalErrors.add(i18nError)}const start=await coreSystem.start();await apmSystem.start(start);if(window.__i18nWarning){const warning=window.__i18nWarning;console.warn(`${warning.title}: ${warning.text}`);delete window.__i18nWarning}if(window.__localeWarning){const warning=window.__localeWarning;console.warn(`${warning.title}: ${warning.text}`);delete window.__localeWarning}}},function(module,exports,__webpack_require__){var freeGlobal=__webpack_require__(165);var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self;var root=freeGlobal||freeSelf||Function("return this")();module.exports=root},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return DetectorCreationStep}));__webpack_require__.d(__webpack_exports__,"b",(function(){return CreateDetectorSteps}));__webpack_require__.d(__webpack_exports__,"a",(function(){return CreateDetectorStepValue}));let DetectorCreationStep=function(DetectorCreationStep){DetectorCreationStep[DetectorCreationStep["DEFINE_DETECTOR"]=1]="DEFINE_DETECTOR";DetectorCreationStep[DetectorCreationStep["CONFIGURE_ALERTS"]=2]="CONFIGURE_ALERTS";return DetectorCreationStep}({});let CorrelationsLevel=function(CorrelationsLevel){CorrelationsLevel["AllFindings"]="AllFindings";CorrelationsLevel["Finding"]="Finding";return CorrelationsLevel}({});let CreateDetectorSteps=function(CreateDetectorSteps){CreateDetectorSteps["notStarted"]="notStarted";CreateDetectorSteps["started"]="started";CreateDetectorSteps["sourceSelected"]="sourceSelected";CreateDetectorSteps["logTypeConfigured"]="logTypeConfigured";CreateDetectorSteps["rulesConfigured"]="rulesConfigured";CreateDetectorSteps["fieldMappingsConfigured"]="fieldMappingsConfigured";CreateDetectorSteps["threatIntelConfigured"]="threatIntelConfigured";CreateDetectorSteps["stepTwoInitiated"]="stepTwoInitiated";CreateDetectorSteps["triggerConfigured"]="triggerConfigured";CreateDetectorSteps["createClicked"]="createClicked";return CreateDetectorSteps}({});const CreateDetectorStepValue={[CreateDetectorSteps.notStarted]:0,[CreateDetectorSteps.started]:1,[CreateDetectorSteps.sourceSelected]:2,[CreateDetectorSteps.logTypeConfigured]:4,[CreateDetectorSteps.rulesConfigured]:8,[CreateDetectorSteps.fieldMappingsConfigured]:16,[CreateDetectorSteps.threatIntelConfigured]:32,[CreateDetectorSteps.stepTwoInitiated]:64,[CreateDetectorSteps.triggerConfigured]:128,[CreateDetectorSteps.createClicked]:256};let FeedType=function(FeedType){FeedType[FeedType["LICENSED"]=0]="LICENSED";FeedType[FeedType["OPEN_SOURCED"]=1]="OPEN_SOURCED";FeedType[FeedType["S3_CUSTOM"]=2]="S3_CUSTOM";FeedType[FeedType["INTERNAL"]=3]="INTERNAL";FeedType[FeedType["DEFAULT_OPEN_SOURCED"]=4]="DEFAULT_OPEN_SOURCED";FeedType[FeedType["EXTERNAL_LICENSED"]=5]="EXTERNAL_LICENSED";FeedType[FeedType["GUARDDUTY"]=6]="GUARDDUTY";return FeedType}({})},function(module,exports){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch(e){if(typeof window==="object")g=window}module.exports=g},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"h",(function(){return SaContextConsumer}));__webpack_require__.d(__webpack_exports__,"i",(function(){return SecurityAnalyticsContext}));__webpack_require__.d(__webpack_exports__,"g",(function(){return OpenSearchService_OpenSearchService}));__webpack_require__.d(__webpack_exports__,"b",(function(){return FieldMappingService_FieldMappingService}));__webpack_require__.d(__webpack_exports__,"a",(function(){return AlertsService_AlertsService}));__webpack_require__.d(__webpack_exports__,"d",(function(){return IndexService_IndexService}));__webpack_require__.d(__webpack_exports__,"f",(function(){return NotificationsService_NotificationsService}));__webpack_require__.d(__webpack_exports__,"c",(function(){return IndexPatternsService_IndexPatternsService}));__webpack_require__.d(__webpack_exports__,"e",(function(){return LogTypeService_LogTypeService}));var external_osdSharedDeps_React_=__webpack_require__(0);const SecurityAnalyticsContext=Object(external_osdSharedDeps_React_["createContext"])(null);const SaContextConsumer=SecurityAnalyticsContext.Consumer;var DetectorService=__webpack_require__(81);var FindingsService=__webpack_require__(82);var defineProperty=__webpack_require__(4);var defineProperty_default=__webpack_require__.n(defineProperty);var constants=__webpack_require__(10);var utils_constants=__webpack_require__(9);function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}class OpenSearchService_OpenSearchService{constructor(httpClient,savedObjectsClient){this.httpClient=httpClient;this.savedObjectsClient=savedObjectsClient;defineProperty_default()(this,"getPlugins",async()=>{let url=`..${constants["a"].PLUGINS}`;return await this.httpClient.get(url,{query:{dataSourceId:utils_constants["a"].activeDataSource.id}})});defineProperty_default()(this,"getIndexPatterns",async()=>{const indexPatterns=await this.savedObjectsClient.find({type:"index-pattern",fields:["title","type"],perPage:1e4}).then(response=>response.savedObjects);return Promise.resolve(indexPatterns)});defineProperty_default()(this,"getDocuments",async(index,documentIds)=>{let url=`..${constants["a"].DOCUMENT_IDS_QUERY}`;const res=await this.httpClient.post(url,{query:{dataSourceId:utils_constants["a"].activeDataSource.id},body:JSON.stringify({index:index,documentIds:documentIds})});if(res.ok){return res.response.hits.hits.map(_ref=>{let{_id:_id,_source:_source}=_ref;return _objectSpread({id:_id},_source)})}return[]})}}class FieldMappingService_FieldMappingService{constructor(httpClient){this.httpClient=httpClient;defineProperty_default()(this,"getMappingsView",async(indexName,ruleTopic)=>{const url=`..${constants["a"].MAPPINGS_VIEW}`;const response=await this.httpClient.get(url,{query:{indexName:indexName,ruleTopic:ruleTopic,dataSourceId:utils_constants["a"].activeDataSource.id}});return response});defineProperty_default()(this,"createMappings",async(index_name,rule_topic,fieldMappings)=>{const url=`..${constants["a"].MAPPINGS_BASE}`;const alias_mappings={properties:{}};fieldMappings.forEach(mapping=>{if(mapping.ruleFieldName===mapping.indexFieldName){return}alias_mappings.properties[mapping.ruleFieldName]={type:"alias",path:mapping.indexFieldName}});const fieldMappingPayload={index_name:index_name,rule_topic:rule_topic,partial:true,alias_mappings:alias_mappings};const params={body:JSON.stringify(fieldMappingPayload),query:{dataSourceId:utils_constants["a"].activeDataSource.id}};return await this.httpClient.post(url,params)});defineProperty_default()(this,"getMappings",async indexName=>{const url=`..${constants["a"].MAPPINGS_BASE}`;return await this.httpClient.get(url,{query:{indexName:indexName,dataSourceId:utils_constants["a"].activeDataSource.id}})});defineProperty_default()(this,"getIndexAliasFields",async indexName=>{const url=`..${constants["a"].MAPPINGS_BASE}/fields/${indexName}`;return await this.httpClient.get(url,{query:{dataSourceId:utils_constants["a"].activeDataSource.id}})})}}var helpers=__webpack_require__(13);function AlertsService_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function AlertsService_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?AlertsService_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):AlertsService_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}class AlertsService_AlertsService{constructor(httpClient,notifications){this.httpClient=httpClient;this.notifications=notifications;defineProperty_default()(this,"getAlerts",async getAlertsParams=>{const{detectorType:detectorType,detector_id:detector_id,size:size,sortOrder:sortOrder,startIndex:startIndex,startTime:startTime,endTime:endTime,dataSource:dataSource}=getAlertsParams;const baseQuery={sortOrder:sortOrder||"desc",size:size||1e4,startIndex:startIndex||0,dataSourceId:(dataSource===null||dataSource===void 0?void 0:dataSource.id)||utils_constants["a"].activeDataSource.id,startTime:startTime,endTime:endTime};let query;if(detector_id){query=AlertsService_objectSpread(AlertsService_objectSpread({},baseQuery),{},{detector_id:detector_id})}else if(detectorType){query=AlertsService_objectSpread(AlertsService_objectSpread({},baseQuery),{},{detectorType:detectorType})}return await this.httpClient.get(`..${constants["a"].GET_ALERTS}`,{query:query})});defineProperty_default()(this,"acknowledgeAlerts",async(alertIds,detector_id)=>{const url=constants["a"].ACKNOWLEDGE_ALERTS.replace("{detector_id}",detector_id);const body=JSON.stringify({alerts:alertIds});return await this.httpClient.post(`..${url}`,{body:body,query:{dataSourceId:utils_constants["a"].activeDataSource.id}})});defineProperty_default()(this,"getThreatIntelAlerts",async getAlertsParams=>{const{size:size,sortOrder:sortOrder,startIndex:startIndex,startTime:startTime,endTime:endTime}=getAlertsParams;const query={sortOrder:sortOrder||"desc",size:size||1e4,startIndex:startIndex||0,dataSourceId:utils_constants["a"].activeDataSource.id,startTime:startTime,endTime:endTime};const res=await this.httpClient.get(`..${constants["a"].THREAT_INTEL_BASE}/alerts`,{query:query});if(!res.ok){Object(helpers["g"])(this.notifications,"get","alerts",res.error)}return res});defineProperty_default()(this,"updateThreatIntelAlertsState",async(state,alertIds)=>{const url=`${constants["a"].THREAT_INTEL_BASE}/alerts/status`;return await this.httpClient.put(`..${url}`,{query:{dataSourceId:utils_constants["a"].activeDataSource.id,state:state,alert_ids:alertIds.join(",")}})})}}var RuleService=__webpack_require__(83);class IndexService_IndexService{constructor(httpClient){defineProperty_default()(this,"httpClient",void 0);defineProperty_default()(this,"getIndexFields",async indexName=>{const url=`..${constants["a"].INDICES_BASE}`;return await this.httpClient.post(url,{body:JSON.stringify({index:indexName}),query:{dataSourceId:utils_constants["a"].activeDataSource.id}})});defineProperty_default()(this,"getIndices",async()=>{const url=`..${constants["a"].INDICES_BASE}`;const response=await this.httpClient.get(url,{query:{dataSourceId:utils_constants["a"].activeDataSource.id}});return response});defineProperty_default()(this,"getAliases",async()=>{const url=`..${constants["a"].ALIASES_BASE}`;const response=await this.httpClient.get(url,{query:{dataSourceId:utils_constants["a"].activeDataSource.id}});return response});defineProperty_default()(this,"updateAliases",async actions=>{const url=`..${constants["a"].UPDATE_ALIASES}`;const response=await this.httpClient.post(url,{body:JSON.stringify(actions),query:{dataSourceId:utils_constants["a"].activeDataSource.id}});return response});this.httpClient=httpClient}}class NotificationsService_NotificationsService{constructor(httpClient){defineProperty_default()(this,"httpClient",void 0);defineProperty_default()(this,"getChannel",async channelId=>{let url=`..${constants["a"].CHANNELS}/${channelId}`;const response=await this.httpClient.get(url,{query:{dataSourceId:utils_constants["a"].activeDataSource.id}});return response});defineProperty_default()(this,"getChannels",async()=>{let url=`..${constants["a"].CHANNELS}`;const response=await this.httpClient.get(url,{query:{dataSourceId:utils_constants["a"].activeDataSource.id}});return response});defineProperty_default()(this,"getServerFeatures",async()=>{let url=`..${constants["a"].NOTIFICATION_FEATURES}`;const response=await this.httpClient.get(url,{query:{dataSourceId:utils_constants["a"].activeDataSource.id}});return response});this.httpClient=httpClient}}class IndexPatternsService_IndexPatternsService{constructor(coreIndexPatternsService){this.coreIndexPatternsService=coreIndexPatternsService;defineProperty_default()(this,"getIndexPatterns",async()=>{const indexPatterns=await this.coreIndexPatternsService.getCache();return Promise.resolve(indexPatterns)});defineProperty_default()(this,"getIndexPattern",async detectorId=>{let indexPattern;const indexPatterns=await this.getIndexPatterns();indexPatterns===null||indexPatterns===void 0||indexPatterns.some(indexRef=>{if(indexRef.references.findIndex(reference=>reference.id===detectorId)>-1){indexPattern=indexRef;return true}return false});return indexPattern});defineProperty_default()(this,"deleteIndexPattern",async indexPatternId=>await this.coreIndexPatternsService.delete(indexPatternId))}async getFieldsForWildcard(options){return this.coreIndexPatternsService.getFieldsForWildcard(options)}async createAndSave(spec){let override=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let skipFetchFields=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return this.coreIndexPatternsService.createAndSave(spec,override,skipFetchFields)}}var SavedObjectService=__webpack_require__(86);var CorrelationService=__webpack_require__(84);class LogTypeService_LogTypeService{constructor(httpClient){this.httpClient=httpClient;defineProperty_default()(this,"createLogType",async logType=>{const url=`..${constants["a"].LOGTYPE_BASE}`;const response=await this.httpClient.post(url,{body:JSON.stringify(logType),query:{dataSourceId:utils_constants["a"].activeDataSource.id}});return response});defineProperty_default()(this,"searchLogTypes",async id=>{const url=`..${constants["a"].LOGTYPE_BASE}/_search`;const query=id?{terms:{_id:[id]}}:{bool:{must:{query_string:{query:"(source: Sigma and !(name: others*) and !(name: test*)) or (source: Custom)"}}}};const queryString=JSON.stringify(query);return await this.httpClient.post(url,{body:queryString,query:{dataSourceId:utils_constants["a"].activeDataSource.id}})});defineProperty_default()(this,"updateLogType",async(logTypeId,logType)=>{const url=`..${constants["a"].LOGTYPE_BASE}/${logTypeId}`;const response=await this.httpClient.put(url,{body:JSON.stringify(logType),query:{dataSourceId:utils_constants["a"].activeDataSource.id}});return response});defineProperty_default()(this,"deleteLogType",async logTypeId=>{const url=`..${constants["a"].LOGTYPE_BASE}/${logTypeId}`;return await this.httpClient.delete(url,{query:{dataSourceId:utils_constants["a"].activeDataSource.id}})})}}var ThreatIntelService=__webpack_require__(85)},function(module,exports,__webpack_require__){"use strict";var yaml=__webpack_require__(457);module.exports=yaml},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DataStore}));var defineProperty=__webpack_require__(4);var defineProperty_default=__webpack_require__.n(defineProperty);var js_yaml=__webpack_require__(37);var helpers=__webpack_require__(13);var constants=__webpack_require__(19);function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}class RulesStore_RulesStore{constructor(service,notifications){defineProperty_default()(this,"service",void 0);defineProperty_default()(this,"notifications",void 0);defineProperty_default()(this,"cache",{});defineProperty_default()(this,"invalidateCache",()=>{this.cache={};return this});defineProperty_default()(this,"createRule",async rule=>{const response=await this.invalidateCache().service.createRule(rule);if(!response.ok){Object(helpers["g"])(this.notifications,"create","rule",response.error)}return response.ok});defineProperty_default()(this,"updateRule",async(id,category,rule)=>{const response=await this.invalidateCache().service.updateRule(id,category,rule);if(!response.ok){Object(helpers["g"])(this.notifications,"update","rule",response.error)}return response.ok});defineProperty_default()(this,"deleteRule",async id=>{const response=await this.invalidateCache().service.deleteRule(id);if(!response.ok){Object(helpers["g"])(this.notifications,"delete","rule",response.error)}return response.ok});this.service=service;this.notifications=notifications}async getAllRules(terms){this.invalidateCache();let customRules=await this.getCustomRules(terms);let prePackagedRules=await this.getPrePackagedRules(terms);prePackagedRules=this.validateAndAddDetection(prePackagedRules);customRules=this.validateAndAddDetection(customRules);return customRules.concat(prePackagedRules)}async getPrePackagedRules(terms){return this.getRules(true,terms)}async getCustomRules(terms){return this.getRules(false,terms)}async getRules(prePackaged,terms){const cacheKey=`getRules:${JSON.stringify(arguments)}`;if(this.cache[cacheKey]){return this.cache[cacheKey]}if(!terms){terms={"rule.category":constants["e"].map(_ref=>{let{value:value}=_ref;return value.toLowerCase()})}}else if(terms["rule.category"]){terms["rule.category"]=terms["rule.category"].map(category=>category.toLowerCase())}const body={from:0,size:5e3,query:{nested:{path:"rule",query:{terms:_objectSpread({},terms)}}}};const response=await this.service.getRules(prePackaged,body);if(response!==null&&response!==void 0&&response.ok){return this.cache[cacheKey]=response.response.hits.hits.map(hit=>_objectSpread(_objectSpread({},hit),{},{_source:_objectSpread(_objectSpread({},hit._source),{},{prePackaged:prePackaged}),prePackaged:prePackaged}))}else{var _response$error;if(!((_response$error=response.error)!==null&&_response$error!==void 0&&_response$error.includes("index doesnt exist"))){Object(helpers["g"])(this.notifications,"retrieve","rules",response.error)}}return[]}validateAndAddDetection(rules){return rules.map(ruleInfo=>{let detectionYaml="";try{const detectionJson=Object(js_yaml["load"])(ruleInfo._source.rule).detection;detectionYaml=Object(js_yaml["safeDump"])(detectionJson)}catch(_error){}return _objectSpread(_objectSpread({},ruleInfo),{},{_source:_objectSpread(_objectSpread({},ruleInfo._source),{},{detection:detectionYaml})})})}}var external_osdSharedDeps_React_=__webpack_require__(0);var external_osdSharedDeps_React_default=__webpack_require__.n(external_osdSharedDeps_React_);var Callout=__webpack_require__(163);var utils_constants=__webpack_require__(8);var external_osdSharedDeps_ElasticEui_=__webpack_require__(1);var uuid=__webpack_require__(139);function DetectorsStore_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function DetectorsStore_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?DetectorsStore_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):DetectorsStore_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}class DetectorsStore_DetectorsStore{constructor(service,notifications,savedObjectsService){defineProperty_default()(this,"service",void 0);defineProperty_default()(this,"notifications",void 0);defineProperty_default()(this,"savedObjectsService",void 0);defineProperty_default()(this,"history",undefined);defineProperty_default()(this,"state",void 0);defineProperty_default()(this,"toasts",[]);defineProperty_default()(this,"setState",(state,history)=>{this.state=state;this.history=history;this.showNotification("Attempting to create the detector.",undefined,"primary",true)});defineProperty_default()(this,"getState",()=>this.state?this.state:undefined);defineProperty_default()(this,"deleteState",()=>{delete this.state});defineProperty_default()(this,"clearNotifications",()=>{this.hideCallout();this.toasts=[];this.showToastCallback([])});defineProperty_default()(this,"showNotification",(title,message,type,loading,btnText,btnHandler)=>{if(!type)type="primary";const closeAllToasts=()=>{this.toasts=[];this.showToastCallback(this.toasts)};const btn=btnText&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiButton"],{color:type,onClick:e=>{btnHandler&&btnHandler(e);this.hideCallout();closeAllToasts()},size:"s"},btnText);const messageBody=external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{direction:"column",alignItems:"flexStart"},message&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},message),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},btn));this.showCalloutCallback({type:type,title:title,message:messageBody,closeHandler:this.hideCallout});const{color:color,iconType:iconType}=Object(Callout["b"])(type);this.toasts.push({title:title,color:color,iconType:iconType,id:`toastsKey_${Object(uuid["v4"])()}`,text:messageBody});this.showToastCallback(this.toasts)});defineProperty_default()(this,"viewDetectorConfiguration",()=>{var _this$history;const state=DataStore.detectors.getState();const detectorInput=DetectorsStore_objectSpread({},state===null||state===void 0?void 0:state.detectorInput);DataStore.detectors.deleteState();(_this$history=this.history)===null||_this$history===void 0||_this$history.push({pathname:`${utils_constants["z"].DETECTORS_CREATE}`,state:{detectorInput:detectorInput}})});defineProperty_default()(this,"resolvePendingCreationRequest",async()=>{var _this$state;if((_this$state=this.state)!==null&&_this$state!==void 0&&_this$state.pendingRequests){var _this$state2;const[mappingsResponse,detectorResponse]=await Promise.all((_this$state2=this.state)===null||_this$state2===void 0?void 0:_this$state2.pendingRequests);let title=`Create detector failed.`;if(!mappingsResponse.ok){const message="Double check the field mappings and try again.";this.showNotification(title,message,"danger",false,"Review detector configuration",DataStore.detectors.viewDetectorConfiguration);return Promise.resolve({ok:false,error:{title:title,message:message}})}if(!detectorResponse.ok){this.showNotification(title,detectorResponse.error,"danger",false,"Review detector configuration",DataStore.detectors.viewDetectorConfiguration);return Promise.resolve({ok:false,error:{title:title,message:detectorResponse.error}})}let dashboardId;const detector=detectorResponse.response.detector;const detectorId=detectorResponse.response._id;if(utils_constants["K"].has(detector.detector_type)){const dashboardResponse=await this.createDashboard(detector.name,detector.detector_type,detectorId,detector.inputs[0].detector_input.indices);if(dashboardResponse&&dashboardResponse.ok){dashboardId=dashboardResponse.response.id}else{const dashboard=await this.savedObjectsService.getDashboard(detectorId);if(dashboard){dashboardId=dashboard.id}}}const goToDetectorDetails=e=>{var _this$history2;e.preventDefault();DataStore.detectors.deleteState();(_this$history2=this.history)===null||_this$history2===void 0||_this$history2.push(`${utils_constants["z"].DETECTOR_DETAILS}/${detectorId}`)};title=`Detector created successfully: ${detectorResponse.response.detector.name}`;this.showNotification(title,undefined,"success",false,"View detector",goToDetectorDetails);setTimeout(()=>this.hideCallout(),3e3);return Promise.resolve({detectorId:detectorId,dashboardId:dashboardId,ok:true})}return Promise.resolve({ok:false})});defineProperty_default()(this,"createDashboard",(detectorName,logType,detectorId,inputIndices)=>this.savedObjectsService.createSavedObject(detectorName,logType,detectorId,inputIndices).catch(error=>{console.error(error)}));defineProperty_default()(this,"showCalloutCallback",callout=>{});defineProperty_default()(this,"hideCallout",()=>this.showCalloutCallback(undefined));defineProperty_default()(this,"showToastCallback",toasts=>{});defineProperty_default()(this,"hideToast",removedToast=>{this.toasts=this.toasts.filter(toast=>toast.id!==removedToast.id);this.showToastCallback(this.toasts)});defineProperty_default()(this,"setHandlers",(calloutHandler,toastHandler)=>{this.showCalloutCallback=calloutHandler;this.showToastCallback=toastHandler});this.service=service;this.notifications=notifications;this.savedObjectsService=savedObjectsService}}function CorrelationsStore_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function CorrelationsStore_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?CorrelationsStore_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):CorrelationsStore_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}class CorrelationsStore_CorrelationsStore{constructor(service,detectorsService,findingsService,notifications,rulesStore){this.rulesStore=rulesStore;defineProperty_default()(this,"service",void 0);defineProperty_default()(this,"detectorsService",void 0);defineProperty_default()(this,"findingsService",void 0);defineProperty_default()(this,"notifications",void 0);defineProperty_default()(this,"allFindings",{});this.service=service;this.notifications=notifications;this.detectorsService=detectorsService;this.findingsService=findingsService}async createCorrelationRule(correlationRule){var _correlationRule$quer;const response=await this.service.createCorrelationRule({name:correlationRule.name,time_window:correlationRule.time_window,correlate:(_correlationRule$quer=correlationRule.queries)===null||_correlationRule$quer===void 0?void 0:_correlationRule$quer.map(query=>{const queryString=query.conditions.map(condition=>`${condition.name}:${condition.value}`).join(" AND ");const correlationInput={index:query.index,category:query.logType};if(queryString){correlationInput["query"]=queryString}if(query.field){correlationInput["field"]=query.field}return correlationInput}),trigger:correlationRule.trigger});if(!response.ok){Object(helpers["g"])(this.notifications,"create","correlation rule",response.error);return false}return response.ok}async updateCorrelationRule(correlationRule){var _correlationRule$quer2;const response=await this.service.updateCorrelationRule(correlationRule.id,{name:correlationRule.name,time_window:correlationRule.time_window,correlate:(_correlationRule$quer2=correlationRule.queries)===null||_correlationRule$quer2===void 0?void 0:_correlationRule$quer2.map(query=>{const queryString=query.conditions.map(condition=>`${condition.name}:${condition.value}`).join(" AND ");const correlationInput={index:query.index,category:query.logType};if(queryString){correlationInput["query"]=queryString}if(query.field){correlationInput["field"]=query.field}return correlationInput}),trigger:correlationRule.trigger});if(!response.ok){Object(helpers["g"])(this.notifications,"update","correlation rule",response.error);return false}return response.ok}async getCorrelationRule(id){const response=await this.service.getCorrelationRules(undefined,{terms:{_id:[id]}});if(response!==null&&response!==void 0&&response.ok&&response.response.hits.hits[0]){var _hit$_source;const hit=response.response.hits.hits[0];const queries=hit._source.correlate.map(queryData=>({index:queryData.index,logType:queryData.category,field:queryData.field||"",conditions:this.parseRuleQueryString(queryData.query)}));return{id:hit._id,name:hit._source.name,time_window:hit._source.time_window||3e5,queries:queries,trigger:(_hit$_source=hit._source)===null||_hit$_source===void 0?void 0:_hit$_source.trigger}}return undefined}async getCorrelationRules(index){const response=await this.service.getCorrelationRules(index);if(response!==null&&response!==void 0&&response.ok){return response.response.hits.hits.map(hit=>{var _hit$_source2;const queries=hit._source.correlate.map(queryData=>({index:queryData.index,logType:queryData.category,field:queryData.field||"",conditions:this.parseRuleQueryString(queryData.query)}));return{id:hit._id,name:hit._source.name,time_window:hit._source.time_window||3e5,queries:queries,trigger:(_hit$_source2=hit._source)===null||_hit$_source2===void 0?void 0:_hit$_source2.trigger}})}return[]}async deleteCorrelationRule(ruleId){const response=await this.service.deleteCorrelationRule(ruleId);if(!response.ok){Object(helpers["g"])(this.notifications,"delete","correlation rule",response.error)}return response.ok}async getCorrelationsCountInWindow(start_time,end_time){const allCorrelationsRes=await this.service.getAllCorrelationsInTimeWindow(start_time,end_time);if(allCorrelationsRes.ok){return allCorrelationsRes.response.findings.length}return 0}async getAllCorrelationsInWindow(start_time,end_time){const allCorrelationsRes=await this.service.getAllCorrelationsInTimeWindow(start_time,end_time);const result=[];if(allCorrelationsRes.ok){const firstTenGrandCorrelations=allCorrelationsRes.response.findings.slice(0,1e4);const allFindingIdsSet=new Set;firstTenGrandCorrelations.forEach(_ref=>{let{finding1:finding1,finding2:finding2}=_ref;allFindingIdsSet.add(finding1);allFindingIdsSet.add(finding2)});const allFindingIds=Array.from(allFindingIdsSet);let allFindings={};const maxFindingsFetchedInSingleCall=1e4;for(let i=0;i<allFindingIds.length;i+=maxFindingsFetchedInSingleCall){const findingIds=allFindingIds.slice(i,i+maxFindingsFetchedInSingleCall);const findings=await this.fetchAllFindings(findingIds);allFindings=CorrelationsStore_objectSpread(CorrelationsStore_objectSpread({},allFindings),findings)}const maxNumberOfCorrelationsDisplayed=1e4;allCorrelationsRes.response.findings.slice(0,maxNumberOfCorrelationsDisplayed).forEach(_ref2=>{let{finding1:finding1,finding2:finding2}=_ref2;const f1=allFindings[finding1];const f2=allFindings[finding2];if(f1&&f2)result.push({finding1:CorrelationsStore_objectSpread({},f1),finding2:CorrelationsStore_objectSpread({},f2)})});return result}return[]}async fetchAllFindings(findingIds){const detectorsRes=await this.detectorsService.getDetectors();const allRules=await this.rulesStore.getAllRules();if(detectorsRes.ok){const detectorsMap={};detectorsRes.response.hits.hits.forEach(detector=>{detectorsMap[detector._id]=detector});let findingsMap={};const findings=await DataStore.findings.getFindingsByIds(findingIds);findings.forEach(f=>{const detector=detectorsMap[f.detectorId];const queryIds=f.queries.map(query=>query.id);const matchedRules=allRules.filter(rule=>queryIds.includes(rule._id));matchedRules.sort((a,b)=>constants["a"][a._source.level]<constants["a"][b._source.level]?-1:1);const rule=allRules.find(rule=>{var _matchedRules$;return rule._id===((_matchedRules$=matchedRules[0])===null||_matchedRules$===void 0?void 0:_matchedRules$._id)});findingsMap[f.id]=CorrelationsStore_objectSpread(CorrelationsStore_objectSpread({},f),{},{id:f.id,logType:detector._source.detector_type,detector:detector,detectorName:detector._source.name,timestamp:new Date(f.timestamp).toLocaleString(),detectionRule:rule?{name:rule._source.title,severity:rule._source.level,tags:rule._source.tags}:{name:utils_constants["k"],severity:utils_constants["k"]}})});this.allFindings=findingsMap}return this.allFindings}async getCorrelatedFindings(findingId,detector_type){let nearby_findings=arguments.length>2&&arguments[2]!==undefined?arguments[2]:20;const response=await this.service.getCorrelatedFindings(findingId,detector_type,nearby_findings);if(response!==null&&response!==void 0&&response.ok){const correlatedFindings=[];const allFindingIds=response.response.findings.map(f=>f.finding);const allFindings=await this.fetchAllFindings([...allFindingIds,findingId]);response.response.findings.forEach(f=>{if(allFindings[f.finding]){correlatedFindings.push(CorrelationsStore_objectSpread(CorrelationsStore_objectSpread({},allFindings[f.finding]),{},{correlationScore:f.score<.01?"0.01":f.score.toFixed(2),rules:f.rules}))}});return{finding:allFindings[findingId],correlatedFindings:correlatedFindings}}const finding=(await DataStore.findings.getFindingsByIds([findingId]))[0];return{finding:CorrelationsStore_objectSpread(CorrelationsStore_objectSpread({},finding),{},{id:findingId,logType:detector_type,timestamp:"",detectionRule:{name:"",severity:"high"}}),correlatedFindings:[]}}async getAllCorrelationAlerts(){const response=await this.service.getCorrelationAlerts();if(response!==null&&response!==void 0&&response.ok){return{correlationAlerts:response.response.correlationAlerts,total_alerts:response.response.total_alerts}}else{throw new Error("Failed to fetch correlated alerts")}}async acknowledgeCorrelationAlerts(alertIds){const response=await this.service.acknowledgeCorrelationAlerts(alertIds);if(response!==null&&response!==void 0&&response.ok){return{acknowledged:response.response.acknowledged,failed:response.response.failed}}else{throw new Error("Failed to acknowledge correlated alerts")}}parseRuleQueryString(queryString){const queries=[];if(!queryString){return queries}const orConditions=queryString.trim().split(/ OR /gi);orConditions.forEach((cond,conditionIndex)=>{cond.split(/ AND /gi).forEach((fieldInfo,index)=>{const s=fieldInfo.match(/(?:\\:|[^:])+/g);if(s){const[name,value]=s;queries.push({name:name,value:value,condition:index===0&&conditionIndex!==0?"OR":"AND"})}})});return queries}}var RuleViewerFlyout=__webpack_require__(132);var dist=__webpack_require__(92);function CreateIndexPatternForm_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function CreateIndexPatternForm_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?CreateIndexPatternForm_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):CreateIndexPatternForm_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const ILLEGAL_CHARACTERS=[" ","\\","/","?",'"',"<",">","|"];const containsIllegalCharacters=pattern=>ILLEGAL_CHARACTERS.some(char=>pattern.includes(char));const CreateIndexPatternForm=_ref=>{let{initialValue:initialValue,created:created,close:close,indexPatternsService:indexPatternsService}=_ref;const[timeFields,setTimeFields]=Object(external_osdSharedDeps_React_["useState"])([]);const[createdIndex,setCreatedIndex]=Object(external_osdSharedDeps_React_["useState"])();const getTimeFields=Object(external_osdSharedDeps_React_["useCallback"])(async name=>{if(!indexPatternsService){return[]}return indexPatternsService.getFieldsForWildcard({pattern:`${name}`,metaFields:["_source","_id","_type","_index","_score"],params:{}}).then(res=>res.filter(f=>f.type==="date").map(f=>f.name)).catch(()=>[])},[initialValue]);Object(external_osdSharedDeps_React_["useEffect"])(()=>{getTimeFields(initialValue.name).then(fields=>{setTimeFields(fields)})},[initialValue.name]);return createdIndex?external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCallOut"],{title:`${createdIndex===null||createdIndex===void 0?void 0:createdIndex.title} has been successfully created`,color:"success"},external_osdSharedDeps_React_default.a.createElement("p",null,"You may now view surrounding documents within the index")),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],null),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexEnd"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSmallButton"],{fill:true,onClick:()=>{created((createdIndex===null||createdIndex===void 0?void 0:createdIndex.id)||"")}},"View surrounding documents")))):external_osdSharedDeps_React_default.a.createElement(dist["Formik"],{initialValues:CreateIndexPatternForm_objectSpread(CreateIndexPatternForm_objectSpread({},initialValue),{},{timeField:""}),validate:values=>{const errors={};if(!values.name){errors.name="Index patter name is required"}if(!values.timeField){errors.timeField="Time field is required"}if(containsIllegalCharacters(values.name)){errors.name='A index pattern cannot contain spaces or the characters: , /, ?, ", <, >, |'}return errors},onSubmit:async values=>{try{const newIndex=await indexPatternsService.createAndSave({title:values.name,timeFieldName:values.timeField});setCreatedIndex({id:newIndex.id,title:newIndex.title})}catch(e){console.warn(e)}}},props=>{var _props$errors,_props$errors2;return external_osdSharedDeps_React_default.a.createElement(dist["Form"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],null,"An index pattern is required to view all surrounding documents within the index. Create an index pattern to continue."),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],null),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCompressedFormRow"],{label:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_osdSharedDeps_React_default.a.createElement("strong",null,"Specify index pattern name")),isInvalid:props.touched.name&&!!((_props$errors=props.errors)!==null&&_props$errors!==void 0&&_props$errors.name),error:props.errors.name},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCompressedFieldText"],{isInvalid:props.touched.name&&!!props.errors.name,placeholder:"Enter index pattern name","data-test-subj":"index_pattern_name_field",onChange:async e=>{props.handleChange("name")(e);const fields=await getTimeFields(e.target.value);setTimeFields(fields);props.setFieldValue("timeField","")},onBlur:props.handleBlur("name"),value:props.values.name})),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCompressedFormRow"],{label:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_osdSharedDeps_React_default.a.createElement("strong",null,"Time filed")),isInvalid:props.touched.timeField&&!!((_props$errors2=props.errors)!==null&&_props$errors2!==void 0&&_props$errors2.timeField),error:props.errors.timeField},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCompressedComboBox"],{isInvalid:props.touched.timeField&&!!props.errors.timeField,placeholder:"Select a time field","data-test-subj":"index_pattern_time_field_dropdown",options:timeFields.map(field=>({value:field,label:field})),singleSelection:{asPlainText:true},onChange:e=>{var _e$;props.handleChange("timeField")((_e$=e[0])!==null&&_e$!==void 0&&_e$.value?e[0].value:"")},onBlur:props.handleBlur("timeField"),selectedOptions:props.values.timeField?[{value:props.values.timeField,label:props.values.timeField}]:[]})),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],null),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexEnd"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSmallButton"],{onClick:()=>close()},"Cancel")),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSmallButton"],{"data-test-subj":"index_pattern_form_submit_button",isLoading:props.isSubmitting,fill:true,onClick:()=>props.handleSubmit()},"Create index pattern"))))})};let FindingFlyoutTabId=function(FindingFlyoutTabId){FindingFlyoutTabId["DETAILS"]="Details";FindingFlyoutTabId["CORRELATIONS"]="Correlations";return FindingFlyoutTabId}({});const FindingFlyoutTabs=[{id:FindingFlyoutTabId.DETAILS,name:"Details"},{id:FindingFlyoutTabId.CORRELATIONS,name:"Correlations"}];var utils_helpers=__webpack_require__(130);function CorrelationsTable_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function CorrelationsTable_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?CorrelationsTable_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):CorrelationsTable_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const CorrelationsTable=_ref=>{var _window$navigator;let{correlatedFindings:correlatedFindings,finding:finding,history:history,isLoading:isLoading,filterOptions:{logTypes:logTypes,ruleSeverity:ruleSeverity}}=_ref;const[itemIdToExpandedRowMap,setItemIdToExpandedRowMap]=Object(external_osdSharedDeps_React_["useState"])({});const[copiedFindingId,setCopiedFindingId]=Object(external_osdSharedDeps_React_["useState"])("");const[copyPopoverTimeout,setCopyPopoverTimeout]=Object(external_osdSharedDeps_React_["useState"])(undefined);const toggleCorrelationDetails=item=>{const itemIdToExpandedRowMapValues=CorrelationsTable_objectSpread({},itemIdToExpandedRowMap);if(itemIdToExpandedRowMapValues[item.id]){delete itemIdToExpandedRowMapValues[item.id]}else{var _item$detectionRule;itemIdToExpandedRowMapValues[item.id]=external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPanel"],{color:"subdued",className:"correlations-table-details-row"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexStart"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false,style:{minWidth:200}},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"xs"},"Finding ID")),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:true},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"xs",className:"correlations-table-details-row-value"},item.id))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexStart"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false,style:{minWidth:200}},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"xs"},"Threat detector")),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:true},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"xs",className:"correlations-table-details-row-value"},item.detectorName))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexStart"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false,style:{minWidth:200}},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"xs"},"Detection rule")),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:true},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"xs",className:"correlations-table-details-row-value"},((_item$detectionRule=item.detectionRule)===null||_item$detectionRule===void 0?void 0:_item$detectionRule.name)||"-"))))}setItemIdToExpandedRowMap(itemIdToExpandedRowMapValues)};const actions=[{render:item=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSmallButtonIcon"],{onClick:()=>toggleCorrelationDetails(item),"aria-label":itemIdToExpandedRowMap[item.id]?"Collapse":"Expand",iconType:itemIdToExpandedRowMap[item.id]?"arrowUp":"arrowDown"})}];if((_window$navigator=window.navigator)!==null&&_window$navigator!==void 0&&_window$navigator.clipboard){const copyFindingIdToClipboard=findingId=>{try{window.navigator.clipboard.writeText(findingId);setCopiedFindingId(findingId);window.clearTimeout(copyPopoverTimeout);setCopyPopoverTimeout(window.setTimeout(()=>{setCopiedFindingId("")},1e3))}catch(error){console.error("Failed to copy id")}};actions.unshift({render:item=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPopover"],{button:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSmallButtonIcon"],{onClick:()=>copyFindingIdToClipboard(item.id),"aria-label":"Copy",iconType:"copy"}),isOpen:copiedFindingId===item.id,closePopover:()=>setCopiedFindingId(""),anchorPosition:"upCenter"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],null,"Finding id copied"))})}const columns=[{field:"timestamp",name:"Time",sortable:true},{name:"Correlated rule",truncateText:true,render:item=>{var _item$correlationRule;return(item===null||item===void 0||(_item$correlationRule=item.correlationRule)===null||_item$correlationRule===void 0?void 0:_item$correlationRule.name)||utils_constants["k"]}},{field:"logType",name:"Log type",sortable:true,render:category=>{var _ruleTypes$find;return((_ruleTypes$find=constants["e"].find(ruleType=>ruleType.value===category))===null||_ruleTypes$find===void 0?void 0:_ruleTypes$find.label)||utils_constants["k"]}},{name:"Rule severity",field:"detectionRule.severity",truncateText:true,sortable:true,align:"left",render:severity=>Object(helpers["s"])(severity)},{field:"correlationScore",name:"Score",sortable:true},{name:"Actions",actions:actions,isExpander:true}];const search={box:{placeholder:"Search findings",schema:true},filters:[{type:"field_value_selection",field:"detectionRule.severity",name:"Rule severity",options:Array.from(ruleSeverity).map(severity=>{var _parseAlertSeverityTo;const name=((_parseAlertSeverityTo=Object(utils_helpers["d"])(severity))===null||_parseAlertSeverityTo===void 0?void 0:_parseAlertSeverityTo.label)||Object(helpers["c"])(severity);return{value:severity,name:name||severity}}),multiSelect:"or"},{type:"field_value_selection",field:"logType",name:"Log type",options:Array.from(logTypes).map(type=>({value:type,name:Object(helpers["h"])(type)})),multiSelect:"or"}]};const goToCorrelationsPage=()=>{DataStore.findings.closeFlyout();history.push({pathname:`${utils_constants["z"].CORRELATIONS}`,state:{finding:finding,correlatedFindings:correlatedFindings}})};return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_osdSharedDeps_React_default.a.createElement("h3",null,"Correlated findings"))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSmallButton"],{onClick:()=>goToCorrelationsPage(),disabled:correlatedFindings.length===0},"View correlations graph"))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiInMemoryTable"],{columns:columns,items:correlatedFindings,itemId:"id",itemIdToExpandedRowMap:itemIdToExpandedRowMap,isExpandable:true,hasActions:true,pagination:true,search:search,sorting:{sort:{field:"timestamp",direction:"desc"}},loading:isLoading}))))};var Correlations_utils_constants=__webpack_require__(131);var LogTypes_utils_helpers=__webpack_require__(25);function FindingDetailsFlyout_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function FindingDetailsFlyout_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?FindingDetailsFlyout_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):FindingDetailsFlyout_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}class FindingDetailsFlyout_FindingDetailsFlyout extends external_osdSharedDeps_React_["Component"]{constructor(props){var _this;super(props);_this=this;defineProperty_default()(this,"abortGetFindingsControllers",[]);defineProperty_default()(this,"getCorrelations",async()=>{const{id:id,detector:detector}=this.props.finding;let allFindings=this.props.findings;if(this.props.shouldLoadAllFindings){const abortController=new AbortController;this.abortGetFindingsControllers.push(abortController);allFindings=await DataStore.findings.getAllFindings(abortController.signal)}DataStore.correlations.getCorrelationRules().then(correlationRules=>{var _detector$_source;DataStore.correlations.getCorrelatedFindings(id,(_detector$_source=detector._source)===null||_detector$_source===void 0?void 0:_detector$_source.detector_type).then(findings=>{if(findings!==null&&findings!==void 0&&findings.correlatedFindings.length){let correlatedFindings=[];findings.correlatedFindings.map(finding=>{allFindings.map(item=>{if(finding.id===item.id){correlatedFindings.push(FindingDetailsFlyout_objectSpread(FindingDetailsFlyout_objectSpread({},finding),{},{correlationRule:correlationRules.find(rule=>{var _finding$rules;return((_finding$rules=finding.rules)===null||_finding$rules===void 0?void 0:_finding$rules.indexOf(rule.id))!==-1})}))}})});this.setState({correlatedFindings:correlatedFindings})}}).finally(()=>{this.setState({areCorrelationsLoading:false})})})});defineProperty_default()(this,"renderTags",tags=>tags&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiBadgeGroup"],{gutterSize:"s"},tags.map((tag,key)=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiBadge"],{key:key},tag))));defineProperty_default()(this,"showRuleDetails",(fullRule,ruleId)=>{this.setState(FindingDetailsFlyout_objectSpread(FindingDetailsFlyout_objectSpread({},this.state),{},{ruleViewerFlyoutData:{ruleId:ruleId,title:fullRule.title,level:fullRule.level,category:fullRule.category,description:fullRule.description,source:fullRule.source,ruleInfo:{_source:fullRule,prePackaged:fullRule.prePackaged}}}))});defineProperty_default()(this,"hideRuleDetails",()=>{this.setState(FindingDetailsFlyout_objectSpread(FindingDetailsFlyout_objectSpread({},this.state),{},{ruleViewerFlyoutData:null}))});defineProperty_default()(this,"shouldRenderRule",_ref=>{let{id:id}=_ref;const{allRules:allRules={}}=this.state;const isSigmaRule=!!allRules[id];if(!isSigmaRule){return false}return!Object(helpers["v"])(id)});defineProperty_default()(this,"renderRuleDetails",(function(){let rules=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];const{allRules:allRules={}}=_this.state;return rules.filter(_this.shouldRenderRule).map((rule,key)=>{const fullRule=allRules[rule.id];const severity=Object(helpers["c"])(fullRule.level);return external_osdSharedDeps_React_default.a.createElement("div",{key:key},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiAccordion"],{id:`${key}`,buttonClassName:"euiAccordionForm__button",buttonContent:external_osdSharedDeps_React_default.a.createElement("div",{"data-test-subj":"finding-details-flyout-rule-accordion-button"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s"},fullRule.title),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s",color:"subdued"},"Severity: ",severity)),initialIsOpen:rules.length===1,"data-test-subj":`finding-details-flyout-rule-accordion-${key}`},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPanel"],{color:"subdued"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCompressedFormRow"],{label:"Rule name"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiLink"],{onClick:()=>_this.showRuleDetails(fullRule,rule.id),"data-test-subj":`finding-details-flyout-${fullRule.title}-details`},fullRule.title||utils_constants["k"]))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCompressedFormRow"],{label:"Rule severity","data-test-subj":"finding-details-flyout-rule-severity"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],null,severity||utils_constants["k"]))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCompressedFormRow"],{label:"Log type","data-test-subj":"finding-details-flyout-rule-category"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],null,Object(LogTypes_utils_helpers["a"])(fullRule.category)||utils_constants["k"])))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCompressedFormRow"],{label:"Description","data-test-subj":"finding-details-flyout-rule-description"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],null,fullRule.description||utils_constants["k"])),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCompressedFormRow"],{label:"Tags","data-test-subj":"finding-details-flyout-rule-tags"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],null,_this.renderTags(rule.tags)||utils_constants["k"])))),rules.length>1&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHorizontalRule"],{margin:"xs"}))})}));defineProperty_default()(this,"getIndexPatternId",async()=>{const indexPatterns=await this.props.opensearchService.getIndexPatterns();const{finding:{index:index}}=this.props;let patternId;indexPatterns.map(pattern=>{const patternName=pattern.attributes.title.replaceAll("*",".*");const patternRegex=new RegExp(patternName);if(index.match(patternRegex)){patternId=pattern.id}});return patternId});defineProperty_default()(this,"createDocumentBlock",item=>{let formattedDocument="";try{formattedDocument=item.document?JSON.stringify(JSON.parse(item.document),null,2):""}catch{}return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCompressedFormRow"],{fullWidth:true,style:{width:"100%"}},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCodeBlock"],{language:"json",isCopyable:true,"data-test-subj":`finding-details-flyout-rule-document-${item.itemIdx}`},formattedDocument))});const relatedDocuments=this.getRelatedDocuments();const docIdToExpandedRowMap={};if(relatedDocuments.length===1){docIdToExpandedRowMap[relatedDocuments[0].id]=this.createDocumentBlock(relatedDocuments[0])}this.state={loading:false,ruleViewerFlyoutData:null,isCreateIndexPatternModalVisible:false,selectedTab:{id:FindingFlyoutTabId.DETAILS,content:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_osdSharedDeps_React_default.a.createElement("h3",null,"Rule details")),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiLoadingContent"],{lines:4}))},correlatedFindings:[],loadingIndexPatternId:true,areCorrelationsLoading:true,allRules:{},docIdToExpandedRowMap:docIdToExpandedRowMap}}componentWillUnmount(){this.abortGetFindingsControllers.forEach(controller=>{controller.abort()});this.abortGetFindingsControllers=[]}componentDidMount(){this.getIndexPatternId().then(patternId=>{if(patternId){this.setState({indexPatternId:patternId})}}).finally(()=>{this.setState({loadingIndexPatternId:false})});this.getCorrelations();DataStore.rules.getAllRules().then(rules=>{const allRules={};rules.forEach(hit=>allRules[hit._id]=hit._source);this.setState({allRules:allRules},()=>{this.setState({selectedTab:{id:FindingFlyoutTabId.DETAILS,content:this.getTabContent(FindingFlyoutTabId.DETAILS)}})})})}componentDidUpdate(prevProps,prevState,snapshot){if(prevState.docIdToExpandedRowMap!==this.state.docIdToExpandedRowMap){this.setState({selectedTab:{id:this.state.selectedTab.id,content:this.getTabContent(this.state.selectedTab.id,this.state.loadingIndexPatternId)}})}}getRelatedDocuments(){const{finding:{document_list:document_list,related_doc_ids:related_doc_ids}}=this.props;const relatedDocIdsSet=new Set(related_doc_ids);const relatedDocuments=[];document_list.forEach(documentInfo=>{if(documentInfo.found&&relatedDocIdsSet.has(documentInfo.id)){relatedDocuments.push(FindingDetailsFlyout_objectSpread(FindingDetailsFlyout_objectSpread({},documentInfo),{},{itemIdx:relatedDocuments.length}))}});return relatedDocuments}toggleDocumentDetails(item){const docIdToExpandedRowMapValues=FindingDetailsFlyout_objectSpread({},this.state.docIdToExpandedRowMap);if(docIdToExpandedRowMapValues[item.id]){delete docIdToExpandedRowMapValues[item.id]}else{docIdToExpandedRowMapValues[item.id]=this.createDocumentBlock(item)}this.setState({docIdToExpandedRowMap:docIdToExpandedRowMapValues})}renderFindingDocuments(loadingIndexPatternId){const{finding:{index:index}}=this.props;const{indexPatternId:indexPatternId,docIdToExpandedRowMap:docIdToExpandedRowMap}=this.state;const relatedDocuments=this.getRelatedDocuments();if(relatedDocuments.length===0){return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_osdSharedDeps_React_default.a.createElement("h3",null,"Documents")),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],null),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiEmptyPrompt"],{iconType:"alert",iconColor:"danger",title:external_osdSharedDeps_React_default.a.createElement("h2",null,"Document not found"),body:external_osdSharedDeps_React_default.a.createElement("p",null,"The document that generated this finding could not be loaded.")}))}const actions=[{render:_ref2=>{let{id:id}=_ref2;return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiToolTip"],{content:"View surrounding documents"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSmallButtonIcon"],{disabled:loadingIndexPatternId,iconType:"inspect","data-test-subj":"finding-details-flyout-view-surrounding-documents",onClick:()=>{if(indexPatternId){window.open(`discover#/context/${indexPatternId}/${id}`,"_blank")}else{this.setState(FindingDetailsFlyout_objectSpread(FindingDetailsFlyout_objectSpread({},this.state),{},{isCreateIndexPatternModalVisible:true}))}}}))}}];const documentsColumns=[{name:"",render:item=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSmallButtonIcon"],{onClick:()=>this.toggleDocumentDetails(item),"aria-label":docIdToExpandedRowMap[item.id]?"Collapse":"Expand",iconType:docIdToExpandedRowMap[item.id]?"arrowUp":"arrowDown","data-test-subj":`finding-details-flyout-document-toggle-${item.itemIdx}`}),width:"30",isExpander:true},{field:"id",name:"Document Id"},{name:"Actions",actions:actions}];return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_osdSharedDeps_React_default.a.createElement("h3",null,"Documents (",relatedDocuments.length,")")),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],null),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCompressedFormRow"],{label:"Index","data-test-subj":`finding-details-flyout-rule-document-index`},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s"},index||utils_constants["k"])),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],null),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiInMemoryTable"],{columns:documentsColumns,items:relatedDocuments,itemId:"id",itemIdToExpandedRowMap:docIdToExpandedRowMap,isExpandable:true,hasActions:true,pagination:true}))}createIndexPatternModal(){const{finding:{related_doc_ids:related_doc_ids}}=this.props;if(this.state.isCreateIndexPatternModalVisible){return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiModal"],{style:{width:800},onClose:()=>this.setState(FindingDetailsFlyout_objectSpread(FindingDetailsFlyout_objectSpread({},this.state),{},{isCreateIndexPatternModalVisible:false}))},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiModalHeader"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiModalHeaderTitle"],null,external_osdSharedDeps_React_default.a.createElement("h1",null,"Create index pattern to view documents"))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiModalBody"],null,external_osdSharedDeps_React_default.a.createElement(CreateIndexPatternForm,{indexPatternsService:this.props.indexPatternsService,initialValue:{name:this.props.finding.index+"*"},close:()=>this.setState(FindingDetailsFlyout_objectSpread(FindingDetailsFlyout_objectSpread({},this.state),{},{isCreateIndexPatternModalVisible:false})),created:indexPatternId=>{this.setState(FindingDetailsFlyout_objectSpread(FindingDetailsFlyout_objectSpread({},this.state),{},{indexPatternId:indexPatternId,isCreateIndexPatternModalVisible:false}),()=>{this.setState({selectedTab:{id:FindingFlyoutTabId.DETAILS,content:this.getTabContent(FindingFlyoutTabId.DETAILS)}});window.open(`discover#/context/${indexPatternId}/${related_doc_ids[0]}`,"_blank")})}})))}}getTabContent(tabId){let loadingIndexPatternId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;switch(tabId){case FindingFlyoutTabId.CORRELATIONS:const logTypes=new Set;const ruleSeverity=new Set;Object.values(this.state.allRules).forEach(rule=>{logTypes.add(rule.category);ruleSeverity.add(rule.level)});return external_osdSharedDeps_React_default.a.createElement(CorrelationsTable,{finding:this.props.finding,correlatedFindings:this.state.correlatedFindings,history:this.props.history,isLoading:this.state.areCorrelationsLoading,filterOptions:{logTypes:logTypes,ruleSeverity:ruleSeverity}});case FindingFlyoutTabId.DETAILS:default:return this.createFindingDetails(loadingIndexPatternId)}}createFindingDetails(loadingIndexPatternId){const{finding:{queries:queries,detectionType:detectionType}}=this.props;const showRuleDetailsInfo=detectionType.includes("Detection");const severity="High";const{background:background,text:text}=Object(Correlations_utils_constants["e"])(severity);const threatIntelQuery=queries.find(_ref3=>{let{id:id}=_ref3;return Object(helpers["v"])(id)});let threatIntelQueryData={};if(threatIntelQuery){threatIntelQuery.tags.forEach(tag=>{if(tag.startsWith("field:")){threatIntelQueryData["field"]=tag.split(":")[1]}if(tag.startsWith("feed_name:")){threatIntelQueryData["feedName"]=tag.split(":")[1]}})}return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,threatIntelQuery&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_osdSharedDeps_React_default.a.createElement("h3",null,"Threat intelligence feed")),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_osdSharedDeps_React_default.a.createElement("div",null,"Severity"," ",external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiBadge"],{color:background,style:{color:text}},severity)),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],null,external_osdSharedDeps_React_default.a.createElement("p",null,"This finding is generated from a threat intelligence feed IoCs.")),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}),Object(helpers["e"])([{label:"Field",content:threatIntelQueryData["field"]||utils_constants["k"]},{label:"Feed name",content:threatIntelQueryData["feedName"]||utils_constants["k"]}])),showRuleDetailsInfo&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_osdSharedDeps_React_default.a.createElement("h3",null,"Rule details")),this.renderRuleDetails(queries),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"})),this.renderFindingDocuments(loadingIndexPatternId))}render(){const{backButton:backButton}=this.props;const{finding:{id:id,timestamp:timestamp,detectionType:detectionType}}=this.props;const{loadingIndexPatternId:loadingIndexPatternId}=this.state;return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlyout"],{onClose:DataStore.findings.closeFlyout,ownFocus:true,size:"m",hideCloseButton:true,"data-test-subj":"finding-details-flyout"},this.state.ruleViewerFlyoutData&&external_osdSharedDeps_React_default.a.createElement(RuleViewerFlyout["a"],{hideFlyout:this.hideRuleDetails,ruleTableItem:this.state.ruleViewerFlyoutData}),this.createIndexPatternModal(),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlyoutHeader"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexStart",alignItems:"center"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"center"},!!backButton?external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},backButton):null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTitle"],{size:"m"},external_osdSharedDeps_React_default.a.createElement("h3",null,"Finding details"))))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSmallButtonIcon"],{"aria-label":"close",iconType:"cross",display:"empty",iconSize:"m",onClick:DataStore.findings.closeFlyout,"data-test-subj":`close-finding-details-flyout`})))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlyoutBody"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCompressedFormRow"],{label:"Finding ID"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{"data-test-subj":"finding-details-flyout-finding-id"},id||utils_constants["k"]))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCompressedFormRow"],{label:"Finding time","data-test-subj":"finding-details-flyout-timestamp"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],null,Object(helpers["A"])(timestamp)||utils_constants["k"]))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCompressedFormRow"],{label:"Detection type","data-test-subj":"finding-details-flyout-detection-type"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],null,detectionType)))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTabs"],{size:"s"},FindingFlyoutTabs.map(tab=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTab"],{key:tab.id,isSelected:tab.id===this.state.selectedTab.id,onClick:()=>{this.setState({selectedTab:{id:tab.id,content:this.getTabContent(tab.id,loadingIndexPatternId)}})}},tab.id==="Correlations"?external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,tab.name," (",this.state.areCorrelationsLoading?external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiLoadingSpinner"],{size:"s"}):this.state.correlatedFindings.length,")"):tab.name))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],null),this.state.selectedTab.content))}}var common_constants=__webpack_require__(58);var DescriptionGroup=__webpack_require__(57);function ThreatIntelFindingDetailsFlyout_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function ThreatIntelFindingDetailsFlyout_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ThreatIntelFindingDetailsFlyout_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ThreatIntelFindingDetailsFlyout_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}class ThreatIntelFindingDetailsFlyout_ThreatIntelFindingDetailsFlyout extends external_osdSharedDeps_React_default.a.Component{constructor(props){super(props);defineProperty_default()(this,"createDocumentBlock",(item,onDocUpdate)=>{let formattedDocument=this.state.docIdToDocument[item.id];try{if(!formattedDocument){DataStore.documents.getDocument(item.index,item.id).then(doc=>{formattedDocument=doc?JSON.stringify(JSON.parse(doc),null,2):"";onDocUpdate(external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCompressedFormRow"],{fullWidth:true,style:{width:"100%"}},!formattedDocument?external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiEmptyPrompt"],{body:external_osdSharedDeps_React_default.a.createElement("p",null,"Document not found")}):external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCodeBlock"],{language:"json",isCopyable:true,"data-test-subj":`finding-details-flyout-rule-document-${item.pos}`},formattedDocument)));this.setState({docIdToDocument:ThreatIntelFindingDetailsFlyout_objectSpread(ThreatIntelFindingDetailsFlyout_objectSpread({},this.state.docIdToDocument),{},{[item.id]:formattedDocument})})})}else{return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCompressedFormRow"],{fullWidth:true,style:{width:"100%"}},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCodeBlock"],{language:"json",isCopyable:true,"data-test-subj":`finding-details-flyout-rule-document-${item.pos}`},formattedDocument))}}catch{}return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCompressedFormRow"],{fullWidth:true,style:{width:"100%"}},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCodeBlock"],{language:"json",isCopyable:true,"data-test-subj":`finding-details-flyout-rule-document-${item.pos}`},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiLoadingSpinner"],null)))});this.state={iocs:{},docIdToExpandedRowMap:{},docIdToDocument:{}}}toggleDocumentDetails(item){const docIdToExpandedRowMapValues=ThreatIntelFindingDetailsFlyout_objectSpread({},this.state.docIdToExpandedRowMap);if(docIdToExpandedRowMapValues[item.id]){delete docIdToExpandedRowMapValues[item.id]}else{docIdToExpandedRowMapValues[item.id]=this.createDocumentBlock(item,documentBlock=>{this.setState({docIdToExpandedRowMap:ThreatIntelFindingDetailsFlyout_objectSpread(ThreatIntelFindingDetailsFlyout_objectSpread({},docIdToExpandedRowMapValues),{},{[item.id]:documentBlock})})})}this.setState({docIdToExpandedRowMap:docIdToExpandedRowMapValues})}getRelatedDocuments(){}renderFindingDocuments(loadingIndexPatternId){const{finding:{related_doc_ids:related_doc_ids}}=this.props;const docIdsByIndex={};const documentItems=[];related_doc_ids.forEach((_id,idx)=>{const[docId,index]=_id.split(":");docIdsByIndex[index]=docId;documentItems.push({id:docId,pos:idx,index:index})});const{docIdToExpandedRowMap:docIdToExpandedRowMap}=this.state;const documentsColumns=[{name:"",render:item=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSmallButtonIcon"],{onClick:()=>this.toggleDocumentDetails(item),"aria-label":docIdToExpandedRowMap[item.id]?"Collapse":"Expand",iconType:docIdToExpandedRowMap[item.id]?"arrowUp":"arrowDown","data-test-subj":`finding-details-flyout-document-toggle-${item.pos}`}),width:"30",isExpander:true},{field:"id",name:"Document Id"},{field:"index",name:"Index/Alias"}];return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_osdSharedDeps_React_default.a.createElement("h3",null,"Documents (",related_doc_ids.length,")")),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],null),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiInMemoryTable"],{columns:documentsColumns,items:documentItems,itemId:"id",itemIdToExpandedRowMap:docIdToExpandedRowMap,isExpandable:true,hasActions:true,pagination:true}))}render(){const{backButton:backButton,finding:{id:id,ioc_type:ioc_type,timestamp:timestamp,ioc_value:ioc_value,ioc_feed_ids:ioc_feed_ids}}=this.props;const{iocs:iocs}=this.state;return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlyout"],{onClose:DataStore.findings.closeFlyout,ownFocus:true,size:"m",hideCloseButton:true,"data-test-subj":"finding-details-flyout"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlyoutHeader"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexStart",alignItems:"center"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"center"},!!backButton?external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},backButton):null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTitle"],{size:"m"},external_osdSharedDeps_React_default.a.createElement("h3",null,"Finding details"))))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSmallButtonIcon"],{"aria-label":"close",iconType:"cross",display:"empty",iconSize:"m",onClick:DataStore.findings.closeFlyout,"data-test-subj":`close-finding-details-flyout`})))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlyoutBody"],null,external_osdSharedDeps_React_default.a.createElement(DescriptionGroup["a"],{listItems:[{title:"Finding ID",description:id||utils_constants["k"]},{title:"Finding time",description:Object(helpers["A"])(timestamp)||utils_constants["k"]},{title:"Indicator type",description:common_constants["b"][ioc_type]||utils_constants["k"]}]}),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],null),external_osdSharedDeps_React_default.a.createElement(DescriptionGroup["a"],{listItems:[{title:"Indicator of Compromise",description:ioc_value||utils_constants["k"]}]}),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],null),external_osdSharedDeps_React_default.a.createElement(DescriptionGroup["a"],{listItems:[{title:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_osdSharedDeps_React_default.a.createElement("h4",null,"Threat intel sources (",1,")")),description:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],null),ioc_feed_ids.map(_ref=>{var _iocs$ioc_id,_iocs$ioc_id2;let{ioc_id:ioc_id,feed_id:feed_id,feed_name:feed_name}=_ref;return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiAccordion"],{key:feed_id,id:`threat-intel-finding-feed-${feed_id}`,buttonContent:feed_name,paddingSize:"m"},external_osdSharedDeps_React_default.a.createElement(DescriptionGroup["a"],{listItems:[{title:"Reported",description:`${Object(helpers["A"])((_iocs$ioc_id=iocs[ioc_id])===null||_iocs$ioc_id===void 0?void 0:_iocs$ioc_id.created)}`},{title:"Severity",description:`${((_iocs$ioc_id2=iocs[ioc_id])===null||_iocs$ioc_id2===void 0?void 0:_iocs$ioc_id2.severity)||utils_constants["k"]}`}]}))}))}],groupProps:{direction:"column"}}),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],null),this.renderFindingDocuments(true)))}}function FindingsStore_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function FindingsStore_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?FindingsStore_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):FindingsStore_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}class FindingsStore_FindingsStore{constructor(service,detectorsService,notifications,indexPatternsService,correlationService,opensearchService){var _this=this;this.service=service;this.detectorsService=detectorsService;this.notifications=notifications;this.indexPatternsService=indexPatternsService;this.correlationService=correlationService;this.opensearchService=opensearchService;defineProperty_default()(this,"getFinding",async findingId=>{const getFindingRes=await this.service.getFindings({findingIds:[findingId]});if(getFindingRes.ok){return getFindingRes.response.findings[0]||undefined}});defineProperty_default()(this,"getFindingsByIds",async findingIds=>{const getFindingRes=await this.service.getFindings({findingIds:findingIds});if(getFindingRes.ok){return getFindingRes.response.findings||[]}else{Object(helpers["g"])(this.notifications,"retrieve","findings",getFindingRes.error)}return[]});defineProperty_default()(this,"getFindingsPerDetector",async(detectorId,detector,signal,duration,onPartialFindingsFetched)=>{let allFindings=[];const findingsSize=1e4;const getFindingsQueryParams={detector_id:detectorId,startIndex:0,size:findingsSize,startTime:duration===null||duration===void 0?void 0:duration.startTime,endTime:duration===null||duration===void 0?void 0:duration.endTime};if(signal.aborted){return allFindings}const firstGetFindingsRes=await this.service.getFindings(getFindingsQueryParams);if(signal.aborted){return allFindings}if(firstGetFindingsRes.ok){const extendedFindings=this.extendFindings(firstGetFindingsRes.response.findings,detector);onPartialFindingsFetched===null||onPartialFindingsFetched===void 0||onPartialFindingsFetched(extendedFindings);allFindings=[...extendedFindings];let remainingFindings=firstGetFindingsRes.response.total_findings-findingsSize;let startIndex=findingsSize+1;const getFindingsPromises=[];while(remainingFindings>0){if(signal.aborted){return allFindings}const getFindingsPromise=this.service.getFindings(FindingsStore_objectSpread(FindingsStore_objectSpread({},getFindingsQueryParams),{},{startIndex:startIndex}));if(signal.aborted){return allFindings}getFindingsPromises.push(getFindingsPromise);getFindingsPromise.then(res=>{if(res.ok){onPartialFindingsFetched===null||onPartialFindingsFetched===void 0||onPartialFindingsFetched(this.extendFindings(res.response.findings,detector))}});remainingFindings-=findingsSize;startIndex+=findingsSize}const findingsPromisesRes=await Promise.allSettled(getFindingsPromises);findingsPromisesRes.forEach(response=>{if(response.status==="fulfilled"&&response.value.ok){allFindings=allFindings.concat(this.extendFindings(response.value.response.findings,detector))}})}else{Object(helpers["g"])(this.notifications,"retrieve","findings",firstGetFindingsRes.error)}return allFindings});defineProperty_default()(this,"getAllFindings",async(signal,duration,onPartialFindingsFetched)=>{let allFindings=[];const detectorsRes=await this.detectorsService.getDetectors();if(detectorsRes.ok){const detectors=detectorsRes.response.hits.hits;for(let detector of detectors){const findings=await this.getFindingsPerDetector(detector._id,detector,signal,duration,onPartialFindingsFetched);const findingsPerDetector=this.extendFindings(findings,detector);allFindings=allFindings.concat(findingsPerDetector)}}return allFindings});defineProperty_default()(this,"setFlyoutCallback",flyoutCallback=>{this.openFlyoutCallback=flyoutCallback});defineProperty_default()(this,"openFlyoutCallback",findingFlyout=>{});defineProperty_default()(this,"closeFlyout",()=>this.openFlyoutCallback(null));defineProperty_default()(this,"openFlyout",(function(finding,findings){let shouldLoadAllFindings=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let backButton=arguments.length>3?arguments[3]:undefined;const flyoutProps={finding:finding,findings:findings,shouldLoadAllFindings:shouldLoadAllFindings,backButton:backButton,opensearchService:_this.opensearchService,correlationService:_this.correlationService,indexPatternsService:_this.indexPatternsService};const flyout={componentProps:flyoutProps,component:FindingDetailsFlyout_FindingDetailsFlyout};_this.openFlyoutCallback(flyout)}))}openThreatIntelFindingFlyout(finding,backButton){const flyoutData={component:ThreatIntelFindingDetailsFlyout_ThreatIntelFindingDetailsFlyout,componentProps:{finding:finding,backButton:backButton}};this.openFlyoutCallback(flyoutData)}extendFindings(findings,detector){return findings.map(finding=>FindingsStore_objectSpread(FindingsStore_objectSpread({},finding),{},{detectorName:detector._source.name,logType:detector._source.detector_type,detector:detector,correlations:[]}))}}function LogTypeStore_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function LogTypeStore_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?LogTypeStore_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):LogTypeStore_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}class LogTypeStore_LogTypeStore{constructor(service,notifications){this.service=service;this.notifications=notifications}async getLogType(id){const logTypesRes=await this.service.searchLogTypes(id);if(logTypesRes.ok){const logTypes=logTypesRes.response.hits.hits.map(hit=>LogTypeStore_objectSpread({id:hit._id},hit._source));let detectionRules=[];if(logTypes[0]){const logTypeName=logTypes[0].name.toLowerCase();detectionRules=await DataStore.rules.getAllRules({"rule.category":[logTypeName]})}return LogTypeStore_objectSpread(LogTypeStore_objectSpread({},logTypes[0]),{},{detectionRules:detectionRules})}return undefined}async getLogTypes(){try{const logTypesRes=await this.service.searchLogTypes();if(logTypesRes.ok){const logTypes=logTypesRes.response.hits.hits.map(hit=>LogTypeStore_objectSpread(LogTypeStore_objectSpread({id:hit._id},hit._source),{},{source:hit._source.source.toLowerCase()==="sigma"?"Standard":hit._source.source}));constants["e"].splice(0,constants["e"].length,...logTypes.map(_ref=>{let{category:category,id:id,name:name,source:source}=_ref;return{label:Object(LogTypes_utils_helpers["a"])(name),value:name,id:id,category:category,isStandard:source==="Standard"}}).sort((a,b)=>a.label<b.label?-1:a.label>b.label?1:0));for(const key in utils_constants["J"]){delete utils_constants["J"][key]}logTypes.forEach(logType=>{utils_constants["J"][logType.category]=utils_constants["J"][logType.category]||[];utils_constants["J"][logType.category].push(logType)});utils_constants["H"].splice(0,utils_constants["H"].length,...Object.keys(utils_constants["J"]).sort((a,b)=>{if(a==="Other"){return 1}else if(b==="Other"){return-1}else{return a<b?-1:a>b?1:0}}));return logTypes}return[]}catch(error){if(error.message===utils_constants["h"]){Object(helpers["g"])(this.notifications,"Fetch","Log types","Select valid data source.");return[]}throw error}}async createLogType(logType){const createRes=await this.service.createLogType(logType);if(!createRes.ok){Object(helpers["g"])(this.notifications,"create","log type",createRes.error)}return createRes.ok}async updateLogType(_ref2){let{category:category,id:id,name:name,description:description,source:source,tags:tags}=_ref2;const updateRes=await this.service.updateLogType(id,{name:name,description:description,source:source,tags:tags,category:category});if(!updateRes.ok){Object(helpers["g"])(this.notifications,"update","log type",updateRes.error)}return updateRes.ok}async deleteLogType(id){const deleteRes=await this.service.deleteLogType(id);if(!deleteRes.ok){Object(helpers["g"])(this.notifications,"delete","log type",deleteRes.error)}return deleteRes.ok}}function AlertsStore_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function AlertsStore_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?AlertsStore_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):AlertsStore_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}class AlertsStore_AlertsStore{constructor(service,notifications){this.service=service;this.notifications=notifications}async getAlertsByDetector(detectorId,detectorName,signal,duration,onPartialAlertsFetched,alertCount,dataSource){let allAlerts=[];const maxAlertsReturned=alertCount!==null&&alertCount!==void 0?alertCount:1e4;let startIndex=0;let alertsCount=0;do{if(signal.aborted){break}const getAlertsRes=await this.service.getAlerts({detector_id:detectorId,startIndex:startIndex,size:maxAlertsReturned,startTime:duration===null||duration===void 0?void 0:duration.startTime,endTime:duration===null||duration===void 0?void 0:duration.endTime,dataSource:dataSource});if(signal.aborted){break}if(getAlertsRes.ok){const alerts=this.extendAlerts(getAlertsRes.response.alerts,detectorId,detectorName);onPartialAlertsFetched===null||onPartialAlertsFetched===void 0||onPartialAlertsFetched(alerts);allAlerts=allAlerts.concat(alerts);alertsCount=alerts.length}else{alertsCount=0;Object(helpers["g"])(this.notifications,"retrieve","alerts",getAlertsRes.error)}startIndex+=alertsCount}while(alertsCount===maxAlertsReturned);return allAlerts}async getAlertsForThreatAlertsCard(detectorId,detectorName,duration,onPartialAlertsFetched,alertCount,dataSource){let allAlerts=[];const maxAlertsReturned=alertCount!==null&&alertCount!==void 0?alertCount:25;let startIndex=0;const getAlertsRes=await this.service.getAlerts({detector_id:detectorId,startIndex:startIndex,size:maxAlertsReturned,startTime:duration===null||duration===void 0?void 0:duration.startTime,endTime:duration===null||duration===void 0?void 0:duration.endTime,dataSource:dataSource});if(getAlertsRes.ok){const alerts=this.extendAlerts(getAlertsRes.response.alerts,detectorId,detectorName);onPartialAlertsFetched===null||onPartialAlertsFetched===void 0||onPartialAlertsFetched(alerts);allAlerts=allAlerts.concat(alerts)}else{Object(helpers["g"])(this.notifications,"retrieve","alerts",getAlertsRes.error)}return allAlerts}async getThreatIntelAlerts(signal,duration,onPartialAlertsFetched){let allAlerts=[];const maxAlertsReturned=1e4;let startIndex=0;let alertsCount=0;do{if(signal.aborted){break}const getAlertsRes=await this.service.getThreatIntelAlerts({startIndex:startIndex,size:maxAlertsReturned,startTime:duration.startTime,endTime:duration.endTime});if(signal.aborted){break}if(getAlertsRes.ok){const alerts=getAlertsRes.response.alerts;onPartialAlertsFetched===null||onPartialAlertsFetched===void 0||onPartialAlertsFetched(alerts);allAlerts=allAlerts.concat(alerts);alertsCount=alerts.length}else{alertsCount=0;Object(helpers["g"])(this.notifications,"retrieve","alerts",getAlertsRes.error)}startIndex+=alertsCount}while(alertsCount===maxAlertsReturned);return allAlerts}extendAlerts(allAlerts,detectorId,detectorName){return allAlerts.map(alert=>{if(!alert.detector_id){alert.detector_id=detectorId}return AlertsStore_objectSpread(AlertsStore_objectSpread({},alert),{},{detectorName:detectorName})})}}class ThreatIntelStore{constructor(findingsService){this.findingsService=findingsService}async getAllThreatIntelFindings(signal,duration,onPartialFindingsFetched){let start=0;const size=1e4;let remaining=1e4;let findings=[];do{if(signal.aborted){return findings}start=findings.length;const res=await this.findingsService.getThreatIntelFindings({startIndex:start,size:size,startTime:duration===null||duration===void 0?void 0:duration.startTime,endTime:duration===null||duration===void 0?void 0:duration.endTime});if(res.ok){if(res.response.total_findings>size){remaining=res.response.total_findings-size}else if(res.response.total_findings===size){remaining=size}else{remaining=0}onPartialFindingsFetched===null||onPartialFindingsFetched===void 0||onPartialFindingsFetched(res.response.ioc_findings);findings=findings.concat(res.response.ioc_findings)}else{return findings}if(signal.aborted){return findings}}while(remaining>0);return findings}async getThreatIntelFindingsByIds(findingIds){const res=await this.findingsService.getThreatIntelFindings({findingIds:findingIds.join(",")});if(res.ok){return res.response.ioc_findings}return[]}}class DocumentStore_DocumentStore{constructor(opensearchService){this.opensearchService=opensearchService;defineProperty_default()(this,"documentsByIndex",{})}async getDocuments(index,ids){if(!this.documentsByIndex[index]){this.documentsByIndex[index]={}}const documentById={};const docIdsToFetch=[];ids.forEach(async id=>{if(!this.documentsByIndex[index][id]){docIdsToFetch.push(id)}else{documentById.push({[id]:this.documentsByIndex[index][id]})}});const fetchedDocuments=await this.fetchDocuments(index,docIdsToFetch);fetchedDocuments.forEach(doc=>{documentById.push({[doc.id]:doc});this.documentsByIndex[index][doc.id]=JSON.stringify(doc)});return documentById}async getDocument(index,id){if(!this.documentsByIndex[index]){this.documentsByIndex[index]={}}if(!this.documentsByIndex[index][id]){const documents=await this.fetchDocuments(index,[id]);this.documentsByIndex[index][id]=JSON.stringify(documents[0]||"")}return this.documentsByIndex[index][id]}async fetchDocuments(index,ids){return this.opensearchService.getDocuments(index,ids)}}var _DataStore;class DataStore{}_DataStore=DataStore;defineProperty_default()(DataStore,"rules",void 0);defineProperty_default()(DataStore,"detectors",void 0);defineProperty_default()(DataStore,"correlations",void 0);defineProperty_default()(DataStore,"findings",void 0);defineProperty_default()(DataStore,"logTypes",void 0);defineProperty_default()(DataStore,"alerts",void 0);defineProperty_default()(DataStore,"threatIntel",void 0);defineProperty_default()(DataStore,"documents",void 0);defineProperty_default()(DataStore,"init",(services,notifications)=>{const rulesStore=new RulesStore_RulesStore(services.ruleService,notifications);_DataStore.rules=rulesStore;_DataStore.detectors=new DetectorsStore_DetectorsStore(services.detectorsService,notifications,services.savedObjectsService);_DataStore.findings=new FindingsStore_FindingsStore(services.findingsService,services.detectorsService,notifications,services.indexPatternsService,services.correlationsService,services.opensearchService);_DataStore.correlations=new CorrelationsStore_CorrelationsStore(services.correlationsService,services.detectorsService,services.findingsService,notifications,rulesStore);_DataStore.logTypes=new LogTypeStore_LogTypeStore(services.logTypeService,notifications);_DataStore.alerts=new AlertsStore_AlertsStore(services.alertService,notifications);_DataStore.threatIntel=new ThreatIntelStore(services.findingsService);_DataStore.documents=new DocumentStore_DocumentStore(services.opensearchService)})},function(module,exports){function isObjectLike(value){return value!=null&&typeof value=="object"}module.exports=isObjectLike},function(module,exports,__webpack_require__){"use strict";var undefined;var $SyntaxError=SyntaxError;var $Function=Function;var $TypeError=TypeError;var getEvalledConstructor=function(expressionSyntax){try{return $Function('"use strict"; return ('+expressionSyntax+").constructor;")()}catch(e){}};var $gOPD=Object.getOwnPropertyDescriptor;if($gOPD){try{$gOPD({},"")}catch(e){$gOPD=null}}var throwTypeError=function(){throw new $TypeError};var ThrowTypeError=$gOPD?function(){try{arguments.callee;return throwTypeError}catch(calleeThrows){try{return $gOPD(arguments,"callee").get}catch(gOPDthrows){return throwTypeError}}}():throwTypeError;var hasSymbols=__webpack_require__(233)();var hasProto=__webpack_require__(235)();var getProto=Object.getPrototypeOf||(hasProto?function(x){return x.__proto__}:null);var needsEval={};var TypedArray=typeof Uint8Array==="undefined"||!getProto?undefined:getProto(Uint8Array);var INTRINSICS={"%AggregateError%":typeof AggregateError==="undefined"?undefined:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer==="undefined"?undefined:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols&&getProto?getProto([][Symbol.iterator]()):undefined,"%AsyncFromSyncIteratorPrototype%":undefined,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":typeof Atomics==="undefined"?undefined:Atomics,"%BigInt%":typeof BigInt==="undefined"?undefined:BigInt,"%BigInt64Array%":typeof BigInt64Array==="undefined"?undefined:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array==="undefined"?undefined:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView==="undefined"?undefined:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array==="undefined"?undefined:Float32Array,"%Float64Array%":typeof Float64Array==="undefined"?undefined:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry==="undefined"?undefined:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":typeof Int8Array==="undefined"?undefined:Int8Array,"%Int16Array%":typeof Int16Array==="undefined"?undefined:Int16Array,"%Int32Array%":typeof Int32Array==="undefined"?undefined:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols&&getProto?getProto(getProto([][Symbol.iterator]())):undefined,"%JSON%":typeof JSON==="object"?JSON:undefined,"%Map%":typeof Map==="undefined"?undefined:Map,"%MapIteratorPrototype%":typeof Map==="undefined"||!hasSymbols||!getProto?undefined:getProto((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise==="undefined"?undefined:Promise,"%Proxy%":typeof Proxy==="undefined"?undefined:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect==="undefined"?undefined:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set==="undefined"?undefined:Set,"%SetIteratorPrototype%":typeof Set==="undefined"||!hasSymbols||!getProto?undefined:getProto((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer==="undefined"?undefined:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols&&getProto?getProto(""[Symbol.iterator]()):undefined,"%Symbol%":hasSymbols?Symbol:undefined,"%SyntaxError%":$SyntaxError,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError,"%Uint8Array%":typeof Uint8Array==="undefined"?undefined:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray==="undefined"?undefined:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array==="undefined"?undefined:Uint16Array,"%Uint32Array%":typeof Uint32Array==="undefined"?undefined:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap==="undefined"?undefined:WeakMap,"%WeakRef%":typeof WeakRef==="undefined"?undefined:WeakRef,"%WeakSet%":typeof WeakSet==="undefined"?undefined:WeakSet};if(getProto){try{null.error}catch(e){var errorProto=getProto(getProto(e));INTRINSICS["%Error.prototype%"]=errorProto}}var doEval=function doEval(name){var value;if(name==="%AsyncFunction%"){value=getEvalledConstructor("async function () {}")}else if(name==="%GeneratorFunction%"){value=getEvalledConstructor("function* () {}")}else if(name==="%AsyncGeneratorFunction%"){value=getEvalledConstructor("async function* () {}")}else if(name==="%AsyncGenerator%"){var fn=doEval("%AsyncGeneratorFunction%");if(fn){value=fn.prototype}}else if(name==="%AsyncIteratorPrototype%"){var gen=doEval("%AsyncGenerator%");if(gen&&getProto){value=getProto(gen.prototype)}}INTRINSICS[name]=value;return value};var LEGACY_ALIASES={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]};var bind=__webpack_require__(95);var hasOwn=__webpack_require__(237);var $concat=bind.call(Function.call,Array.prototype.concat);var $spliceApply=bind.call(Function.apply,Array.prototype.splice);var $replace=bind.call(Function.call,String.prototype.replace);var $strSlice=bind.call(Function.call,String.prototype.slice);var $exec=bind.call(Function.call,RegExp.prototype.exec);var rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;var reEscapeChar=/\\(\\)?/g;var stringToPath=function stringToPath(string){var first=$strSlice(string,0,1);var last=$strSlice(string,-1);if(first==="%"&&last!=="%"){throw new $SyntaxError("invalid intrinsic syntax, expected closing `%`")}else if(last==="%"&&first!=="%"){throw new $SyntaxError("invalid intrinsic syntax, expected opening `%`")}var result=[];$replace(string,rePropName,(function(match,number,quote,subString){result[result.length]=quote?$replace(subString,reEscapeChar,"$1"):number||match}));return result};var getBaseIntrinsic=function getBaseIntrinsic(name,allowMissing){var intrinsicName=name;var alias;if(hasOwn(LEGACY_ALIASES,intrinsicName)){alias=LEGACY_ALIASES[intrinsicName];intrinsicName="%"+alias[0]+"%"}if(hasOwn(INTRINSICS,intrinsicName)){var value=INTRINSICS[intrinsicName];if(value===needsEval){value=doEval(intrinsicName)}if(typeof value==="undefined"&&!allowMissing){throw new $TypeError("intrinsic "+name+" exists, but is not available. Please file an issue!")}return{alias:alias,name:intrinsicName,value:value}}throw new $SyntaxError("intrinsic "+name+" does not exist!")};module.exports=function GetIntrinsic(name,allowMissing){if(typeof name!=="string"||name.length===0){throw new $TypeError("intrinsic name must be a non-empty string")}if(arguments.length>1&&typeof allowMissing!=="boolean"){throw new $TypeError('"allowMissing" argument must be a boolean')}if($exec(/^%?[^%]*%?$/,name)===null){throw new $SyntaxError("`%` may not be present anywhere but at the beginning and end of the intrinsic name")}var parts=stringToPath(name);var intrinsicBaseName=parts.length>0?parts[0]:"";var intrinsic=getBaseIntrinsic("%"+intrinsicBaseName+"%",allowMissing);var intrinsicRealName=intrinsic.name;var value=intrinsic.value;var skipFurtherCaching=false;var alias=intrinsic.alias;if(alias){intrinsicBaseName=alias[0];$spliceApply(parts,$concat([0,1],alias))}for(var i=1,isOwn=true;i<parts.length;i+=1){var part=parts[i];var first=$strSlice(part,0,1);var last=$strSlice(part,-1);if((first==='"'||first==="'"||first==="`"||(last==='"'||last==="'"||last==="`"))&&first!==last){throw new $SyntaxError("property names with quotes must have matching quotes")}if(part==="constructor"||!isOwn){skipFurtherCaching=true}intrinsicBaseName+="."+part;intrinsicRealName="%"+intrinsicBaseName+"%";if(hasOwn(INTRINSICS,intrinsicRealName)){value=INTRINSICS[intrinsicRealName]}else if(value!=null){if(!(part in value)){if(!allowMissing){throw new $TypeError("base intrinsic for "+name+" exists, but the property is not available.")}return void undefined}if($gOPD&&i+1>=parts.length){var desc=$gOPD(value,part);isOwn=!!desc;if(isOwn&&"get"in desc&&!("originalValue"in desc.get)){value=desc.get}else{value=value[part]}}else{isOwn=hasOwn(value,part);value=value[part]}if(isOwn&&!skipFurtherCaching){INTRINSICS[intrinsicRealName]=value}}}return value}},function(module,exports,__webpack_require__){var baseIsNative=__webpack_require__(496),getValue=__webpack_require__(499);function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:undefined}module.exports=getNative},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return aggregateMetrics}));__webpack_require__.d(__webpack_exports__,"d",(function(){return setSecurityAnalyticsPluginConfig}));__webpack_require__.d(__webpack_exports__,"c",(function(){return getSecurityAnalyticsPluginConfig}));__webpack_require__.d(__webpack_exports__,"b",(function(){return createNullableGetterSetter}));var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4);var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);var lodash__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(11);var lodash__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);var _server_utils_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(10);function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function aggregateMetrics(metrics,currentMetricsCounter){const partialMetrics=_objectSpread({},currentMetricsCounter);Object.keys(metrics).forEach(w=>{const workflow=w;const workFlowMetrics=metrics[workflow];if(workFlowMetrics){const counterToUpdate=partialMetrics[workflow]||lodash__WEBPACK_IMPORTED_MODULE_1___default.a.cloneDeep(_server_utils_constants__WEBPACK_IMPORTED_MODULE_2__["b"][workflow]);Object.entries(workFlowMetrics).forEach(_ref=>{let[metric,count]=_ref;if(!counterToUpdate[metric]){counterToUpdate[metric]=0}counterToUpdate[metric]+=count});partialMetrics[workflow]=counterToUpdate}});return partialMetrics}let securityAnalyticsPluginConfig;const setSecurityAnalyticsPluginConfig=config=>{securityAnalyticsPluginConfig=config};const getSecurityAnalyticsPluginConfig=()=>securityAnalyticsPluginConfig;function extractFieldsFromMappings(properties,fields){let parentField=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";Object.keys(properties).forEach(field=>{if(properties[field].hasOwnProperty("properties")){extractFieldsFromMappings(properties[field]["properties"],fields,parentField?`${parentField}.${field}`:field)}else{fields.push(parentField?`${parentField}.${field}`:field)}})}function createNullableGetterSetter(){let value;const get=()=>value;const set=newValue=>{value=newValue};return[get,set]}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(60),getRawTag=__webpack_require__(482),objectToString=__webpack_require__(483);var nullTag="[object Null]",undefinedTag="[object Undefined]";var symToStringTag=Symbol?Symbol.toStringTag:undefined;function baseGetTag(value){if(value==null){return value===undefined?undefinedTag:nullTag}return symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}module.exports=baseGetTag},function(module,exports,__webpack_require__){const SemVer=__webpack_require__(23);const parse=(version,options,throwErrors=false)=>{if(version instanceof SemVer){return version}try{return new SemVer(version,options)}catch(er){if(!throwErrors){return null}throw er}};module.exports=parse},function(module,exports,__webpack_require__){"use strict";function isNothing(subject){return typeof subject==="undefined"||subject===null}function isObject(subject){return typeof subject==="object"&&subject!==null}function toArray(sequence){if(Array.isArray(sequence))return sequence;else if(isNothing(sequence))return[];return[sequence]}function extend(target,source){var index,length,key,sourceKeys;if(source){sourceKeys=Object.keys(source);for(index=0,length=sourceKeys.length;index<length;index+=1){key=sourceKeys[index];target[key]=source[key]}}return target}function repeat(string,count){var result="",cycle;for(cycle=0;cycle<count;cycle+=1){result+=string}return result}function isNegativeZero(number){return number===0&&Number.NEGATIVE_INFINITY===1/number}module.exports.isNothing=isNothing;module.exports.isObject=isObject;module.exports.toArray=toArray;module.exports.repeat=repeat;module.exports.isNegativeZero=isNegativeZero;module.exports.extend=extend},function(module,exports,__webpack_require__){"use strict";var common=__webpack_require__(45);var YAMLException=__webpack_require__(54);var Type=__webpack_require__(21);function compileList(schema,name,result){var exclude=[];schema.include.forEach((function(includedSchema){result=compileList(includedSchema,name,result)}));schema[name].forEach((function(currentType){result.forEach((function(previousType,previousIndex){if(previousType.tag===currentType.tag&&previousType.kind===currentType.kind){exclude.push(previousIndex)}}));result.push(currentType)}));return result.filter((function(type,index){return exclude.indexOf(index)===-1}))}function compileMap(){var result={scalar:{},sequence:{},mapping:{},fallback:{}},index,length;function collectType(type){result[type.kind][type.tag]=result["fallback"][type.tag]=type}for(index=0,length=arguments.length;index<length;index+=1){arguments[index].forEach(collectType)}return result}function Schema(definition){this.include=definition.include||[];this.implicit=definition.implicit||[];this.explicit=definition.explicit||[];this.implicit.forEach((function(type){if(type.loadKind&&type.loadKind!=="scalar"){throw new YAMLException("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}}));this.compiledImplicit=compileList(this,"implicit",[]);this.compiledExplicit=compileList(this,"explicit",[]);this.compiledTypeMap=compileMap(this.compiledImplicit,this.compiledExplicit)}Schema.DEFAULT=null;Schema.create=function createSchema(){var schemas,types;switch(arguments.length){case 1:schemas=Schema.DEFAULT;types=arguments[0];break;case 2:schemas=arguments[0];types=arguments[1];break;default:throw new YAMLException("Wrong number of arguments for Schema.create function")}schemas=common.toArray(schemas);types=common.toArray(types);if(!schemas.every((function(schema){return schema instanceof Schema}))){throw new YAMLException("Specified list of super schemas (or a single Schema object) contains a non-Schema object.")}if(!types.every((function(type){return type instanceof Type}))){throw new YAMLException("Specified list of YAML types (or a single Type object) contains a non-Type object.")}return new Schema({include:schemas,explicit:types})};module.exports=Schema},function(module,exports,__webpack_require__){const SemVer=__webpack_require__(24);const parse=(version,options,throwErrors=false)=>{if(version instanceof SemVer){return version}try{return new SemVer(version,options)}catch(er){if(!throwErrors){return null}throw er}};module.exports=parse},function(module,exports){module.exports=__osdSharedDeps__.MomentTimezone},function(module,exports){var isArray=Array.isArray;module.exports=isArray},function(module,exports){function isObject(value){var type=typeof value;return value!=null&&(type=="object"||type=="function")}module.exports=isObject},function(module,exports){module.exports=__osdSharedDeps__.ReactRouterDom},function(module,exports){module.exports=__osdSharedDeps__.Moment},function(module,exports,__webpack_require__){const{MAX_SAFE_COMPONENT_LENGTH:MAX_SAFE_COMPONENT_LENGTH,MAX_SAFE_BUILD_LENGTH:MAX_SAFE_BUILD_LENGTH,MAX_LENGTH:MAX_LENGTH}=__webpack_require__(63);const debug=__webpack_require__(64);exports=module.exports={};const re=exports.re=[];const safeRe=exports.safeRe=[];const src=exports.src=[];const t=exports.t={};let R=0;const LETTERDASHNUMBER="[a-zA-Z0-9-]";const safeRegexReplacements=[["\\s",1],["\\d",MAX_LENGTH],[LETTERDASHNUMBER,MAX_SAFE_BUILD_LENGTH]];const makeSafeRegex=value=>{for(const[token,max]of safeRegexReplacements){value=value.split(`${token}*`).join(`${token}{0,${max}}`).split(`${token}+`).join(`${token}{1,${max}}`)}return value};const createToken=(name,value,isGlobal)=>{const safe=makeSafeRegex(value);const index=R++;debug(name,index,value);t[name]=index;src[index]=value;re[index]=new RegExp(value,isGlobal?"g":undefined);safeRe[index]=new RegExp(safe,isGlobal?"g":undefined)};createToken("NUMERICIDENTIFIER","0|[1-9]\\d*");createToken("NUMERICIDENTIFIERLOOSE","\\d+");createToken("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${LETTERDASHNUMBER}*`);createToken("MAINVERSION",`(${src[t.NUMERICIDENTIFIER]})\\.`+`(${src[t.NUMERICIDENTIFIER]})\\.`+`(${src[t.NUMERICIDENTIFIER]})`);createToken("MAINVERSIONLOOSE",`(${src[t.NUMERICIDENTIFIERLOOSE]})\\.`+`(${src[t.NUMERICIDENTIFIERLOOSE]})\\.`+`(${src[t.NUMERICIDENTIFIERLOOSE]})`);createToken("PRERELEASEIDENTIFIER",`(?:${src[t.NUMERICIDENTIFIER]}|${src[t.NONNUMERICIDENTIFIER]})`);createToken("PRERELEASEIDENTIFIERLOOSE",`(?:${src[t.NUMERICIDENTIFIERLOOSE]}|${src[t.NONNUMERICIDENTIFIER]})`);createToken("PRERELEASE",`(?:-(${src[t.PRERELEASEIDENTIFIER]}(?:\\.${src[t.PRERELEASEIDENTIFIER]})*))`);createToken("PRERELEASELOOSE",`(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`);createToken("BUILDIDENTIFIER",`${LETTERDASHNUMBER}+`);createToken("BUILD",`(?:\\+(${src[t.BUILDIDENTIFIER]}(?:\\.${src[t.BUILDIDENTIFIER]})*))`);createToken("FULLPLAIN",`v?${src[t.MAINVERSION]}${src[t.PRERELEASE]}?${src[t.BUILD]}?`);createToken("FULL",`^${src[t.FULLPLAIN]}$`);createToken("LOOSEPLAIN",`[v=\\s]*${src[t.MAINVERSIONLOOSE]}${src[t.PRERELEASELOOSE]}?${src[t.BUILD]}?`);createToken("LOOSE",`^${src[t.LOOSEPLAIN]}$`);createToken("GTLT","((?:<|>)?=?)");createToken("XRANGEIDENTIFIERLOOSE",`${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);createToken("XRANGEIDENTIFIER",`${src[t.NUMERICIDENTIFIER]}|x|X|\\*`);createToken("XRANGEPLAIN",`[v=\\s]*(${src[t.XRANGEIDENTIFIER]})`+`(?:\\.(${src[t.XRANGEIDENTIFIER]})`+`(?:\\.(${src[t.XRANGEIDENTIFIER]})`+`(?:${src[t.PRERELEASE]})?${src[t.BUILD]}?`+`)?)?`);createToken("XRANGEPLAINLOOSE",`[v=\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${src[t.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${src[t.XRANGEIDENTIFIERLOOSE]})`+`(?:${src[t.PRERELEASELOOSE]})?${src[t.BUILD]}?`+`)?)?`);createToken("XRANGE",`^${src[t.GTLT]}\\s*${src[t.XRANGEPLAIN]}$`);createToken("XRANGELOOSE",`^${src[t.GTLT]}\\s*${src[t.XRANGEPLAINLOOSE]}$`);createToken("COERCE",`${"(^|[^\\d])"+"(\\d{1,"}${MAX_SAFE_COMPONENT_LENGTH}})`+`(?:\\.(\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?`+`(?:\\.(\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?`+`(?:$|[^\\d])`);createToken("COERCERTL",src[t.COERCE],true);createToken("LONETILDE","(?:~>?)");createToken("TILDETRIM",`(\\s*)${src[t.LONETILDE]}\\s+`,true);exports.tildeTrimReplace="$1~";createToken("TILDE",`^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`);createToken("TILDELOOSE",`^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`);createToken("LONECARET","(?:\\^)");createToken("CARETTRIM",`(\\s*)${src[t.LONECARET]}\\s+`,true);exports.caretTrimReplace="$1^";createToken("CARET",`^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`);createToken("CARETLOOSE",`^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`);createToken("COMPARATORLOOSE",`^${src[t.GTLT]}\\s*(${src[t.LOOSEPLAIN]})$|^$`);createToken("COMPARATOR",`^${src[t.GTLT]}\\s*(${src[t.FULLPLAIN]})$|^$`);createToken("COMPARATORTRIM",`(\\s*)${src[t.GTLT]}\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`,true);exports.comparatorTrimReplace="$1$2$3";createToken("HYPHENRANGE",`^\\s*(${src[t.XRANGEPLAIN]})`+`\\s+-\\s+`+`(${src[t.XRANGEPLAIN]})`+`\\s*$`);createToken("HYPHENRANGELOOSE",`^\\s*(${src[t.XRANGEPLAINLOOSE]})`+`\\s+-\\s+`+`(${src[t.XRANGEPLAINLOOSE]})`+`\\s*$`);createToken("STAR","(<|>)?=?\\s*\\*");createToken("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");createToken("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},function(module,exports,__webpack_require__){"use strict";function YAMLException(reason,mark){Error.call(this);this.name="YAMLException";this.reason=reason;this.mark=mark;this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():"");if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}else{this.stack=(new Error).stack||""}}YAMLException.prototype=Object.create(Error.prototype);YAMLException.prototype.constructor=YAMLException;YAMLException.prototype.toString=function toString(compact){var result=this.name+": ";result+=this.reason||"(unknown reason)";if(!compact&&this.mark){result+=" "+this.mark.toString()}return result};module.exports=YAMLException},function(module,exports,__webpack_require__){"use strict";var Schema=__webpack_require__(46);module.exports=new Schema({include:[__webpack_require__(161)],implicit:[__webpack_require__(467),__webpack_require__(468)],explicit:[__webpack_require__(469),__webpack_require__(470),__webpack_require__(471),__webpack_require__(472)]})},function(module,exports,__webpack_require__){const{MAX_SAFE_COMPONENT_LENGTH:MAX_SAFE_COMPONENT_LENGTH,MAX_SAFE_BUILD_LENGTH:MAX_SAFE_BUILD_LENGTH,MAX_LENGTH:MAX_LENGTH}=__webpack_require__(76);const debug=__webpack_require__(77);exports=module.exports={};const re=exports.re=[];const safeRe=exports.safeRe=[];const src=exports.src=[];const t=exports.t={};let R=0;const LETTERDASHNUMBER="[a-zA-Z0-9-]";const safeRegexReplacements=[["\\s",1],["\\d",MAX_LENGTH],[LETTERDASHNUMBER,MAX_SAFE_BUILD_LENGTH]];const makeSafeRegex=value=>{for(const[token,max]of safeRegexReplacements){value=value.split(`${token}*`).join(`${token}{0,${max}}`).split(`${token}+`).join(`${token}{1,${max}}`)}return value};const createToken=(name,value,isGlobal)=>{const safe=makeSafeRegex(value);const index=R++;debug(name,index,value);t[name]=index;src[index]=value;re[index]=new RegExp(value,isGlobal?"g":undefined);safeRe[index]=new RegExp(safe,isGlobal?"g":undefined)};createToken("NUMERICIDENTIFIER","0|[1-9]\\d*");createToken("NUMERICIDENTIFIERLOOSE","\\d+");createToken("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${LETTERDASHNUMBER}*`);createToken("MAINVERSION",`(${src[t.NUMERICIDENTIFIER]})\\.`+`(${src[t.NUMERICIDENTIFIER]})\\.`+`(${src[t.NUMERICIDENTIFIER]})`);createToken("MAINVERSIONLOOSE",`(${src[t.NUMERICIDENTIFIERLOOSE]})\\.`+`(${src[t.NUMERICIDENTIFIERLOOSE]})\\.`+`(${src[t.NUMERICIDENTIFIERLOOSE]})`);createToken("PRERELEASEIDENTIFIER",`(?:${src[t.NUMERICIDENTIFIER]}|${src[t.NONNUMERICIDENTIFIER]})`);createToken("PRERELEASEIDENTIFIERLOOSE",`(?:${src[t.NUMERICIDENTIFIERLOOSE]}|${src[t.NONNUMERICIDENTIFIER]})`);createToken("PRERELEASE",`(?:-(${src[t.PRERELEASEIDENTIFIER]}(?:\\.${src[t.PRERELEASEIDENTIFIER]})*))`);createToken("PRERELEASELOOSE",`(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`);createToken("BUILDIDENTIFIER",`${LETTERDASHNUMBER}+`);createToken("BUILD",`(?:\\+(${src[t.BUILDIDENTIFIER]}(?:\\.${src[t.BUILDIDENTIFIER]})*))`);createToken("FULLPLAIN",`v?${src[t.MAINVERSION]}${src[t.PRERELEASE]}?${src[t.BUILD]}?`);createToken("FULL",`^${src[t.FULLPLAIN]}$`);createToken("LOOSEPLAIN",`[v=\\s]*${src[t.MAINVERSIONLOOSE]}${src[t.PRERELEASELOOSE]}?${src[t.BUILD]}?`);createToken("LOOSE",`^${src[t.LOOSEPLAIN]}$`);createToken("GTLT","((?:<|>)?=?)");createToken("XRANGEIDENTIFIERLOOSE",`${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);createToken("XRANGEIDENTIFIER",`${src[t.NUMERICIDENTIFIER]}|x|X|\\*`);createToken("XRANGEPLAIN",`[v=\\s]*(${src[t.XRANGEIDENTIFIER]})`+`(?:\\.(${src[t.XRANGEIDENTIFIER]})`+`(?:\\.(${src[t.XRANGEIDENTIFIER]})`+`(?:${src[t.PRERELEASE]})?${src[t.BUILD]}?`+`)?)?`);createToken("XRANGEPLAINLOOSE",`[v=\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${src[t.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${src[t.XRANGEIDENTIFIERLOOSE]})`+`(?:${src[t.PRERELEASELOOSE]})?${src[t.BUILD]}?`+`)?)?`);createToken("XRANGE",`^${src[t.GTLT]}\\s*${src[t.XRANGEPLAIN]}$`);createToken("XRANGELOOSE",`^${src[t.GTLT]}\\s*${src[t.XRANGEPLAINLOOSE]}$`);createToken("COERCEPLAIN",`${"(^|[^\\d])"+"(\\d{1,"}${MAX_SAFE_COMPONENT_LENGTH}})`+`(?:\\.(\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?`+`(?:\\.(\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?`);createToken("COERCE",`${src[t.COERCEPLAIN]}(?:$|[^\\d])`);createToken("COERCEFULL",src[t.COERCEPLAIN]+`(?:${src[t.PRERELEASE]})?`+`(?:${src[t.BUILD]})?`+`(?:$|[^\\d])`);createToken("COERCERTL",src[t.COERCE],true);createToken("COERCERTLFULL",src[t.COERCEFULL],true);createToken("LONETILDE","(?:~>?)");createToken("TILDETRIM",`(\\s*)${src[t.LONETILDE]}\\s+`,true);exports.tildeTrimReplace="$1~";createToken("TILDE",`^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`);createToken("TILDELOOSE",`^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`);createToken("LONECARET","(?:\\^)");createToken("CARETTRIM",`(\\s*)${src[t.LONECARET]}\\s+`,true);exports.caretTrimReplace="$1^";createToken("CARET",`^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`);createToken("CARETLOOSE",`^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`);createToken("COMPARATORLOOSE",`^${src[t.GTLT]}\\s*(${src[t.LOOSEPLAIN]})$|^$`);createToken("COMPARATOR",`^${src[t.GTLT]}\\s*(${src[t.FULLPLAIN]})$|^$`);createToken("COMPARATORTRIM",`(\\s*)${src[t.GTLT]}\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`,true);exports.comparatorTrimReplace="$1$2$3";createToken("HYPHENRANGE",`^\\s*(${src[t.XRANGEPLAIN]})`+`\\s+-\\s+`+`(${src[t.XRANGEPLAIN]})`+`\\s*$`);createToken("HYPHENRANGELOOSE",`^\\s*(${src[t.XRANGEPLAINLOOSE]})`+`\\s+-\\s+`+`(${src[t.XRANGEPLAINLOOSE]})`+`\\s*$`);createToken("STAR","(<|>)?=?\\s*\\*");createToken("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");createToken("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DescriptionGroup}));var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(87);var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);var _elastic_eui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1);var _elastic_eui__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__);var react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0);var react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);const DescriptionGroup=_ref=>{let{listItems:listItems,itemProps:itemProps,groupProps:groupProps}=_ref;return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiFlexGroup"],_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({gutterSize:"s"},groupProps),listItems.map((item,idx)=>react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiFlexItem"],_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},itemProps,{key:`item-${idx}`}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiDescriptionList"],{listItems:[item]}))))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DEFAULT_RULE_UUID}));__webpack_require__.d(__webpack_exports__,"c",(function(){return ThreatIntelIocType}));__webpack_require__.d(__webpack_exports__,"b",(function(){return IocLabel}));const DEFAULT_RULE_UUID="25b9c01c-350d-4b95-bed1-836d04a4f324";let ThreatIntelIocType=function(ThreatIntelIocType){ThreatIntelIocType["Domain"]="domain-name";ThreatIntelIocType["FileHash"]="hashes";ThreatIntelIocType["IPV4"]="ipv4-addr";ThreatIntelIocType["IPV6"]="ipv6-addr";return ThreatIntelIocType}({});const IocLabel={[ThreatIntelIocType.IPV4]:"IPV4-Address",[ThreatIntelIocType.IPV6]:"IPV6-Address",[ThreatIntelIocType.Domain]:"Domains",[ThreatIntelIocType.FileHash]:"File hash"}},function(module,exports){var process=module.exports={};var cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){cachedSetTimeout=setTimeout}else{cachedSetTimeout=defaultSetTimout}}catch(e){cachedSetTimeout=defaultSetTimout}try{if(typeof clearTimeout==="function"){cachedClearTimeout=clearTimeout}else{cachedClearTimeout=defaultClearTimeout}}catch(e){cachedClearTimeout=defaultClearTimeout}})();function runTimeout(fun){if(cachedSetTimeout===setTimeout){return setTimeout(fun,0)}if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0)}try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){return clearTimeout(marker)}if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker)}try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;runClearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.prependListener=noop;process.prependOnceListener=noop;process.listeners=function(name){return[]};process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},function(module,exports,__webpack_require__){var root=__webpack_require__(33);var Symbol=root.Symbol;module.exports=Symbol},function(module,exports,__webpack_require__){var assignValue=__webpack_require__(168),baseAssignValue=__webpack_require__(143);function copyObject(source,props,object,customizer){var isNew=!object;object||(object={});var index=-1,length=props.length;while(++index<length){var key=props[index];var newValue=customizer?customizer(object[key],source[key],key,object,source):undefined;if(newValue===undefined){newValue=source[key]}if(isNew){baseAssignValue(object,key,newValue)}else{assignValue(object,key,newValue)}}return object}module.exports=copyObject},function(module,exports){module.exports=function(module){if(!module.webpackPolyfill){module.deprecate=function(){};module.paths=[];if(!module.children)module.children=[];Object.defineProperty(module,"loaded",{enumerable:true,get:function(){return module.l}});Object.defineProperty(module,"id",{enumerable:true,get:function(){return module.i}});module.webpackPolyfill=1}return module}},function(module,exports){const SEMVER_SPEC_VERSION="2.0.0";const MAX_LENGTH=256;const MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991;const MAX_SAFE_COMPONENT_LENGTH=16;const MAX_SAFE_BUILD_LENGTH=MAX_LENGTH-6;const RELEASE_TYPES=["major","premajor","minor","preminor","patch","prepatch","prerelease"];module.exports={MAX_LENGTH:MAX_LENGTH,MAX_SAFE_COMPONENT_LENGTH:MAX_SAFE_COMPONENT_LENGTH,MAX_SAFE_BUILD_LENGTH:MAX_SAFE_BUILD_LENGTH,MAX_SAFE_INTEGER:MAX_SAFE_INTEGER,RELEASE_TYPES:RELEASE_TYPES,SEMVER_SPEC_VERSION:SEMVER_SPEC_VERSION,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},function(module,exports,__webpack_require__){(function(process){const debug=typeof process==="object"&&Object({IS_OPENSEARCH_DASHBOARDS_DISTRIBUTABLE:"true"})&&Object({IS_OPENSEARCH_DASHBOARDS_DISTRIBUTABLE:"true"}).NODE_DEBUG&&/\bsemver\b/i.test(Object({IS_OPENSEARCH_DASHBOARDS_DISTRIBUTABLE:"true"}).NODE_DEBUG)?(...args)=>console.error("SEMVER",...args):()=>{};module.exports=debug}).call(this,__webpack_require__(59))},function(module,exports,__webpack_require__){const compare=__webpack_require__(28);const gt=(a,b,loose)=>compare(a,b,loose)>0;module.exports=gt},function(module,exports,__webpack_require__){const ANY=Symbol("SemVer ANY");class Comparator{static get ANY(){return ANY}constructor(comp,options){options=parseOptions(options);if(comp instanceof Comparator){if(comp.loose===!!options.loose){return comp}else{comp=comp.value}}comp=comp.trim().split(/\s+/).join(" ");debug("comparator",comp,options);this.options=options;this.loose=!!options.loose;this.parse(comp);if(this.semver===ANY){this.value=""}else{this.value=this.operator+this.semver.version}debug("comp",this)}parse(comp){const r=this.options.loose?re[t.COMPARATORLOOSE]:re[t.COMPARATOR];const m=comp.match(r);if(!m){throw new TypeError(`Invalid comparator: ${comp}`)}this.operator=m[1]!==undefined?m[1]:"";if(this.operator==="="){this.operator=""}if(!m[2]){this.semver=ANY}else{this.semver=new SemVer(m[2],this.options.loose)}}toString(){return this.value}test(version){debug("Comparator.test",version,this.options.loose);if(this.semver===ANY||version===ANY){return true}if(typeof version==="string"){try{version=new SemVer(version,this.options)}catch(er){return false}}return cmp(version,this.operator,this.semver,this.options)}intersects(comp,options){if(!(comp instanceof Comparator)){throw new TypeError("a Comparator is required")}if(this.operator===""){if(this.value===""){return true}return new Range(comp.value,options).test(this.value)}else if(comp.operator===""){if(comp.value===""){return true}return new Range(this.value,options).test(comp.semver)}options=parseOptions(options);if(options.includePrerelease&&(this.value==="<0.0.0-0"||comp.value==="<0.0.0-0")){return false}if(!options.includePrerelease&&(this.value.startsWith("<0.0.0")||comp.value.startsWith("<0.0.0"))){return false}if(this.operator.startsWith(">")&&comp.operator.startsWith(">")){return true}if(this.operator.startsWith("<")&&comp.operator.startsWith("<")){return true}if(this.semver.version===comp.semver.version&&this.operator.includes("=")&&comp.operator.includes("=")){return true}if(cmp(this.semver,"<",comp.semver,options)&&this.operator.startsWith(">")&&comp.operator.startsWith("<")){return true}if(cmp(this.semver,">",comp.semver,options)&&this.operator.startsWith("<")&&comp.operator.startsWith(">")){return true}return false}}module.exports=Comparator;const parseOptions=__webpack_require__(99);const{safeRe:re,t:t}=__webpack_require__(53);const cmp=__webpack_require__(156);const debug=__webpack_require__(64);const SemVer=__webpack_require__(23);const Range=__webpack_require__(29)},function(module,exports,__webpack_require__){const Range=__webpack_require__(29);const satisfies=(version,range,options)=>{try{range=new Range(range,options)}catch(er){return false}return range.test(version)};module.exports=satisfies},function(module,exports,__webpack_require__){var getNative=__webpack_require__(105);var nativeCreate=getNative(Object,"create");module.exports=nativeCreate},function(module,exports,__webpack_require__){var eq=__webpack_require__(160);function assocIndexOf(array,key){var length=array.length;while(length--){if(eq(array[length][0],key)){return length}}return-1}module.exports=assocIndexOf},function(module,exports,__webpack_require__){var isKeyable=__webpack_require__(447);function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data[typeof key=="string"?"string":"hash"]:data.map}module.exports=getMapData},function(module,exports,__webpack_require__){"use strict";var Schema=__webpack_require__(46);module.exports=Schema.DEFAULT=new Schema({include:[__webpack_require__(55)],explicit:[__webpack_require__(473),__webpack_require__(474),__webpack_require__(475)]})},function(module,exports,__webpack_require__){var listCacheClear=__webpack_require__(486),listCacheDelete=__webpack_require__(487),listCacheGet=__webpack_require__(488),listCacheHas=__webpack_require__(489),listCacheSet=__webpack_require__(490);function ListCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype["delete"]=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;module.exports=ListCache},function(module,exports,__webpack_require__){var eq=__webpack_require__(133);function assocIndexOf(array,key){var length=array.length;while(length--){if(eq(array[length][0],key)){return length}}return-1}module.exports=assocIndexOf},function(module,exports,__webpack_require__){var getNative=__webpack_require__(41);var nativeCreate=getNative(Object,"create");module.exports=nativeCreate},function(module,exports,__webpack_require__){var isKeyable=__webpack_require__(508);function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data[typeof key=="string"?"string":"hash"]:data.map}module.exports=getMapData},function(module,exports){const SEMVER_SPEC_VERSION="2.0.0";const MAX_LENGTH=256;const MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991;const MAX_SAFE_COMPONENT_LENGTH=16;const MAX_SAFE_BUILD_LENGTH=MAX_LENGTH-6;const RELEASE_TYPES=["major","premajor","minor","preminor","patch","prepatch","prerelease"];module.exports={MAX_LENGTH:MAX_LENGTH,MAX_SAFE_COMPONENT_LENGTH:MAX_SAFE_COMPONENT_LENGTH,MAX_SAFE_BUILD_LENGTH:MAX_SAFE_BUILD_LENGTH,MAX_SAFE_INTEGER:MAX_SAFE_INTEGER,RELEASE_TYPES:RELEASE_TYPES,SEMVER_SPEC_VERSION:SEMVER_SPEC_VERSION,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},function(module,exports,__webpack_require__){(function(process){const debug=typeof process==="object"&&Object({IS_OPENSEARCH_DASHBOARDS_DISTRIBUTABLE:"true"})&&Object({IS_OPENSEARCH_DASHBOARDS_DISTRIBUTABLE:"true"}).NODE_DEBUG&&/\bsemver\b/i.test(Object({IS_OPENSEARCH_DASHBOARDS_DISTRIBUTABLE:"true"}).NODE_DEBUG)?(...args)=>console.error("SEMVER",...args):()=>{};module.exports=debug}).call(this,__webpack_require__(59))},function(module,exports,__webpack_require__){const compare=__webpack_require__(30);const gt=(a,b,loose)=>compare(a,b,loose)>0;module.exports=gt},function(module,exports,__webpack_require__){const ANY=Symbol("SemVer ANY");class Comparator{static get ANY(){return ANY}constructor(comp,options){options=parseOptions(options);if(comp instanceof Comparator){if(comp.loose===!!options.loose){return comp}else{comp=comp.value}}comp=comp.trim().split(/\s+/).join(" ");debug("comparator",comp,options);this.options=options;this.loose=!!options.loose;this.parse(comp);if(this.semver===ANY){this.value=""}else{this.value=this.operator+this.semver.version}debug("comp",this)}parse(comp){const r=this.options.loose?re[t.COMPARATORLOOSE]:re[t.COMPARATOR];const m=comp.match(r);if(!m){throw new TypeError(`Invalid comparator: ${comp}`)}this.operator=m[1]!==undefined?m[1]:"";if(this.operator==="="){this.operator=""}if(!m[2]){this.semver=ANY}else{this.semver=new SemVer(m[2],this.options.loose)}}toString(){return this.value}test(version){debug("Comparator.test",version,this.options.loose);if(this.semver===ANY||version===ANY){return true}if(typeof version==="string"){try{version=new SemVer(version,this.options)}catch(er){return false}}return cmp(version,this.operator,this.semver,this.options)}intersects(comp,options){if(!(comp instanceof Comparator)){throw new TypeError("a Comparator is required")}if(this.operator===""){if(this.value===""){return true}return new Range(comp.value,options).test(this.value)}else if(comp.operator===""){if(comp.value===""){return true}return new Range(this.value,options).test(comp.semver)}options=parseOptions(options);if(options.includePrerelease&&(this.value==="<0.0.0-0"||comp.value==="<0.0.0-0")){return false}if(!options.includePrerelease&&(this.value.startsWith("<0.0.0")||comp.value.startsWith("<0.0.0"))){return false}if(this.operator.startsWith(">")&&comp.operator.startsWith(">")){return true}if(this.operator.startsWith("<")&&comp.operator.startsWith("<")){return true}if(this.semver.version===comp.semver.version&&this.operator.includes("=")&&comp.operator.includes("=")){return true}if(cmp(this.semver,"<",comp.semver,options)&&this.operator.startsWith(">")&&comp.operator.startsWith("<")){return true}if(cmp(this.semver,">",comp.semver,options)&&this.operator.startsWith("<")&&comp.operator.startsWith(">")){return true}return false}}module.exports=Comparator;const parseOptions=__webpack_require__(118);const{safeRe:re,t:t}=__webpack_require__(56);const cmp=__webpack_require__(176);const debug=__webpack_require__(77);const SemVer=__webpack_require__(24);const Range=__webpack_require__(31)},function(module,exports,__webpack_require__){const Range=__webpack_require__(31);const satisfies=(version,range,options)=>{try{range=new Range(range,options)}catch(er){return false}return range.test(version)};module.exports=satisfies},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DetectorsService}));var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4);var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);var _server_utils_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10);var _utils_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9);class DetectorsService{constructor(httpClient){this.httpClient=httpClient;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"createDetector",async detector=>{const url=`..${_server_utils_constants__WEBPACK_IMPORTED_MODULE_1__["a"].DETECTORS_BASE}`;const response=await this.httpClient.post(url,{body:JSON.stringify(detector),query:{dataSourceId:_utils_constants__WEBPACK_IMPORTED_MODULE_2__["a"].activeDataSource.id}});return response});_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"getDetectors",async dataSource=>{const url=`..${_server_utils_constants__WEBPACK_IMPORTED_MODULE_1__["a"].SEARCH_DETECTORS}`;const dataSourceId=(dataSource===null||dataSource===void 0?void 0:dataSource.id)||_utils_constants__WEBPACK_IMPORTED_MODULE_2__["a"].activeDataSource.id;const res=await this.httpClient.post(url,{body:JSON.stringify({query:{match_all:{}}}),query:{dataSourceId:dataSourceId}});return res});_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"getDetectorWithId",async id=>{const url=`..${_server_utils_constants__WEBPACK_IMPORTED_MODULE_1__["a"].DETECTORS_BASE}/${id}`;const res=await this.httpClient.get(url,{query:{dataSourceId:_utils_constants__WEBPACK_IMPORTED_MODULE_2__["a"].activeDataSource.id}});return res});_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"updateDetector",async(detectorId,detector)=>{const url=`..${_server_utils_constants__WEBPACK_IMPORTED_MODULE_1__["a"].DETECTORS_BASE}/${detectorId}`;const response=await this.httpClient.put(url,{body:JSON.stringify(detector),query:{dataSourceId:_utils_constants__WEBPACK_IMPORTED_MODULE_2__["a"].activeDataSource.id}});return response});_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"deleteDetector",async detectorId=>{const url=`..${_server_utils_constants__WEBPACK_IMPORTED_MODULE_1__["a"].DETECTORS_BASE}/${detectorId}`;const response=await this.httpClient.delete(url,{query:{dataSourceId:_utils_constants__WEBPACK_IMPORTED_MODULE_2__["a"].activeDataSource.id}});return response})}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FindingsService}));var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4);var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);var _server_utils_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10);var _utils_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9);var _utils_helpers__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(13);function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}class FindingsService{constructor(httpClient,notifications){this.httpClient=httpClient;this.notifications=notifications;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"getFindings",async getFindingsParams=>{const findingIds=getFindingsParams.findingIds?getFindingsParams.findingIds.join(","):undefined;const query=_objectSpread(_objectSpread({sortOrder:"desc",size:1e4},getFindingsParams),{},{findingIds:findingIds,dataSourceId:_utils_constants__WEBPACK_IMPORTED_MODULE_2__["a"].activeDataSource.id});return await this.httpClient.get(`..${_server_utils_constants__WEBPACK_IMPORTED_MODULE_1__["a"].GET_FINDINGS}`,{query:query})});_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"getThreatIntelFindings",async getFindingsParams=>{const query=_objectSpread(_objectSpread({sortOrder:"desc",size:1e4},getFindingsParams),{},{dataSourceId:_utils_constants__WEBPACK_IMPORTED_MODULE_2__["a"].activeDataSource.id});const res=await this.httpClient.get(`..${_server_utils_constants__WEBPACK_IMPORTED_MODULE_1__["a"].THREAT_INTEL_BASE}/findings/_search`,{query:query});if(!res.ok){Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_3__["g"])(this.notifications,"get","findings",res.error)}return res})}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return RuleService}));var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4);var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);var _server_utils_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10);var _utils_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9);class RuleService{constructor(httpClient){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"httpClient",void 0);_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"getRules",async(prePackaged,body)=>{const url=`..${_server_utils_constants__WEBPACK_IMPORTED_MODULE_1__["a"].RULES_BASE}/_search`;return await this.httpClient.post(url,{query:{prePackaged:prePackaged,dataSourceId:_utils_constants__WEBPACK_IMPORTED_MODULE_2__["a"].activeDataSource.id},body:JSON.stringify(body)})});_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"createRule",async rule=>{const url=`..${_server_utils_constants__WEBPACK_IMPORTED_MODULE_1__["a"].RULES_BASE}`;return await this.httpClient.post(url,{body:JSON.stringify(rule),query:{dataSourceId:_utils_constants__WEBPACK_IMPORTED_MODULE_2__["a"].activeDataSource.id}})});_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"updateRule",async(ruleId,category,rule)=>{const url=`..${_server_utils_constants__WEBPACK_IMPORTED_MODULE_1__["a"].RULES_BASE}/${ruleId}`;return await this.httpClient.put(url,{query:{category:category,dataSourceId:_utils_constants__WEBPACK_IMPORTED_MODULE_2__["a"].activeDataSource.id},body:JSON.stringify(rule)})});_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"deleteRule",async ruleId=>{const url=`..${_server_utils_constants__WEBPACK_IMPORTED_MODULE_1__["a"].RULES_BASE}/${ruleId}`;return await this.httpClient.delete(url,{query:{dataSourceId:_utils_constants__WEBPACK_IMPORTED_MODULE_2__["a"].activeDataSource.id}})});this.httpClient=httpClient}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return CorrelationService}));var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4);var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);var _server_utils_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10);var _utils_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9);class CorrelationService{constructor(httpClient){var _this=this;this.httpClient=httpClient;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"acknowledgeCorrelationAlerts",async body=>{const url=`..${_server_utils_constants__WEBPACK_IMPORTED_MODULE_1__["a"].ACK_CORRELATION_ALERTS}`;return await this.httpClient.post(url,{body:JSON.stringify({alertIds:body}),query:{dataSourceId:_utils_constants__WEBPACK_IMPORTED_MODULE_2__["a"].activeDataSource.id}})});_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"getCorrelationAlerts",async()=>{const url=`..${_server_utils_constants__WEBPACK_IMPORTED_MODULE_1__["a"].GET_CORRELATION_ALERTS}`;return await this.httpClient.get(url,{query:{dataSourceId:_utils_constants__WEBPACK_IMPORTED_MODULE_2__["a"].activeDataSource.id}})});_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"getCorrelatedFindings",(async function(finding,detector_type){let nearby_findings=arguments.length>2&&arguments[2]!==undefined?arguments[2]:20;const url=`..${_server_utils_constants__WEBPACK_IMPORTED_MODULE_1__["a"].FINDINGS_BASE}/correlate`;return await _this.httpClient.get(url,{query:{finding:finding,detector_type:detector_type,nearby_findings:nearby_findings,dataSourceId:_utils_constants__WEBPACK_IMPORTED_MODULE_2__["a"].activeDataSource.id}})}));_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"getCorrelationRules",async(index,query)=>{const url=`..${_server_utils_constants__WEBPACK_IMPORTED_MODULE_1__["a"].CORRELATION_BASE}/_search`;return await this.httpClient.post(url,{body:JSON.stringify({query:query!==null&&query!==void 0?query:{match_all:{}}}),query:{dataSourceId:_utils_constants__WEBPACK_IMPORTED_MODULE_2__["a"].activeDataSource.id}})});_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"createCorrelationRule",async body=>{const url=`..${_server_utils_constants__WEBPACK_IMPORTED_MODULE_1__["a"].CORRELATION_BASE}`;return await this.httpClient.post(url,{body:JSON.stringify(body),query:{dataSourceId:_utils_constants__WEBPACK_IMPORTED_MODULE_2__["a"].activeDataSource.id}})});_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"updateCorrelationRule",async(id,body)=>{const url=`..${_server_utils_constants__WEBPACK_IMPORTED_MODULE_1__["a"].CORRELATION_BASE}/${id}`;return await this.httpClient.put(url,{body:JSON.stringify(body),query:{dataSourceId:_utils_constants__WEBPACK_IMPORTED_MODULE_2__["a"].activeDataSource.id}})});_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"deleteCorrelationRule",async ruleId=>{const url=`..${_server_utils_constants__WEBPACK_IMPORTED_MODULE_1__["a"].CORRELATION_BASE}/${ruleId}`;return await this.httpClient.delete(url,{query:{dataSourceId:_utils_constants__WEBPACK_IMPORTED_MODULE_2__["a"].activeDataSource.id}})});_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"getAllCorrelationsInTimeWindow",async(start_time,end_time)=>{const url=`..${_server_utils_constants__WEBPACK_IMPORTED_MODULE_1__["a"].CORRELATIONS}`;return await this.httpClient.get(url,{query:{start_time:start_time,end_time:end_time,dataSourceId:_utils_constants__WEBPACK_IMPORTED_MODULE_2__["a"].activeDataSource.id}})})}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ThreatIntelService}));var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4);var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);var _utils_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9);var _server_utils_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(10);var _utils_helpers__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(13);function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}class ThreatIntelService{constructor(httpClient,notifications){this.httpClient=httpClient;this.notifications=notifications;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"addThreatIntelSource",async source=>{const url=`..${_server_utils_constants__WEBPACK_IMPORTED_MODULE_2__["a"].THREAT_INTEL_BASE}/sources`;const response=await this.httpClient.post(url,{body:JSON.stringify(source),query:{dataSourceId:_utils_constants__WEBPACK_IMPORTED_MODULE_1__["a"].activeDataSource.id}});if(!response.ok){Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_3__["g"])(this.notifications,"add","threat intel source",response.error)}else{Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_3__["E"])(this.notifications,"created","threat intel source")}return response});_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"updateThreatIntelSource",async(id,source)=>{const url=`..${_server_utils_constants__WEBPACK_IMPORTED_MODULE_2__["a"].THREAT_INTEL_BASE}/sources/${id}`;const response=await this.httpClient.put(url,{body:JSON.stringify(source),query:{dataSourceId:_utils_constants__WEBPACK_IMPORTED_MODULE_1__["a"].activeDataSource.id}});if(!response.ok){Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_3__["g"])(this.notifications,"update","threat intel source",response.error)}else{Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_3__["E"])(this.notifications,"updated","threat intel source")}return response});_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"searchThreatIntelSource",async()=>{var _response$error;const url=`..${_server_utils_constants__WEBPACK_IMPORTED_MODULE_2__["a"].THREAT_INTEL_BASE}/sources/_search`;const response=await this.httpClient.post(url,{body:JSON.stringify({query:{match_all:{}}}),query:{dataSourceId:_utils_constants__WEBPACK_IMPORTED_MODULE_1__["a"].activeDataSource.id}});if(!response.ok&&!((_response$error=response.error)!==null&&_response$error!==void 0&&_response$error.includes("Threat intel source config index does not exist"))){Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_3__["g"])(this.notifications,"get","threat intel source(s)",response.error)}return response});_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"getThreatIntelSource",async sourceId=>{const url=`..${_server_utils_constants__WEBPACK_IMPORTED_MODULE_2__["a"].THREAT_INTEL_BASE}/sources/${sourceId}`;const response=await this.httpClient.get(url,{query:{dataSourceId:_utils_constants__WEBPACK_IMPORTED_MODULE_1__["a"].activeDataSource.id}});if(!response.ok){Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_3__["g"])(this.notifications,"get","threat intel source",response.error)}return response});_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"deleteThreatIntelSource",async sourceId=>{const url=`..${_server_utils_constants__WEBPACK_IMPORTED_MODULE_2__["a"].THREAT_INTEL_BASE}/sources/${sourceId}`;const response=await this.httpClient.delete(url,{query:{dataSourceId:_utils_constants__WEBPACK_IMPORTED_MODULE_1__["a"].activeDataSource.id}});if(!response.ok){Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_3__["g"])(this.notifications,"delete","threat intel source",response.error)}else{Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_3__["E"])(this.notifications,"deleted","threat intel source")}return response});_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"refreshThreatIntelSource",async sourceId=>{const url=`..${_server_utils_constants__WEBPACK_IMPORTED_MODULE_2__["a"].THREAT_INTEL_BASE}/sources/${sourceId}/_refresh`;const response=await this.httpClient.post(url,{query:{dataSourceId:_utils_constants__WEBPACK_IMPORTED_MODULE_1__["a"].activeDataSource.id}});if(!response.ok){Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_3__["g"])(this.notifications,"refresh","threat intel source",response.error)}else{Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_3__["E"])(this.notifications,"refreshed","threat intel source")}return response});_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"createThreatIntelMonitor",async montiorPayload=>{const url=`..${_server_utils_constants__WEBPACK_IMPORTED_MODULE_2__["a"].THREAT_INTEL_BASE}/monitors`;const response=await this.httpClient.post(url,{body:JSON.stringify(montiorPayload),query:{dataSourceId:_utils_constants__WEBPACK_IMPORTED_MODULE_1__["a"].activeDataSource.id}});if(!response.ok){Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_3__["g"])(this.notifications,"setup","threat intel scan",response.error)}else{Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_3__["E"])(this.notifications,"setup","threat intel scan")}return response});_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"updateThreatIntelMonitor",async(id,montiorPayload)=>{const url=`..${_server_utils_constants__WEBPACK_IMPORTED_MODULE_2__["a"].THREAT_INTEL_BASE}/monitors/${id}`;const response=await this.httpClient.put(url,{body:JSON.stringify(montiorPayload),query:{dataSourceId:_utils_constants__WEBPACK_IMPORTED_MODULE_1__["a"].activeDataSource.id}});if(!response.ok){Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_3__["g"])(this.notifications,"update","threat intel scan configuration",response.error)}else{Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_3__["E"])(this.notifications,"updated","threat intel scan configuration")}return response});_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"deleteThreatIntelMonitor",async monitorId=>{const url=`..${_server_utils_constants__WEBPACK_IMPORTED_MODULE_2__["a"].THREAT_INTEL_BASE}/monitors/${monitorId}`;const response=await this.httpClient.delete(url,{query:{dataSourceId:_utils_constants__WEBPACK_IMPORTED_MODULE_1__["a"].activeDataSource.id}});if(!response.ok){Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_3__["g"])(this.notifications,"delete","threat intel scan configuration",response.error)}else{Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_3__["E"])(this.notifications,"deleted","threat intel scan configuration")}return response});_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"getThreatIntelScanConfig",async()=>{const url=`..${_server_utils_constants__WEBPACK_IMPORTED_MODULE_2__["a"].THREAT_INTEL_BASE}/monitors/_search`;const response=await this.httpClient.post(url,{body:JSON.stringify({query:{match_all:{}}}),query:{dataSourceId:_utils_constants__WEBPACK_IMPORTED_MODULE_1__["a"].activeDataSource.id}});if(response.ok){const hit=response.response.hits.hits[0];return{ok:response.ok,response:hit?_objectSpread({},hit._source):undefined}}else if(!response.error.includes("Configured indices are not found: [.opendistro-alerting-config]")){Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_3__["g"])(this.notifications,"get","threat intel scan monitor",response.error)}return response});_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"getThreatIntelIocs",async getIocsQueryParams=>{const url=`..${_server_utils_constants__WEBPACK_IMPORTED_MODULE_2__["a"].THREAT_INTEL_BASE}/iocs`;const response=await this.httpClient.get(url,{query:_objectSpread({dataSourceId:_utils_constants__WEBPACK_IMPORTED_MODULE_1__["a"].activeDataSource.id},getIocsQueryParams)});if(!response.ok){Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_3__["g"])(this.notifications,"get","indicators of compromise",response.error)}return response})}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SavedObjectService_SavedObjectService}));var defineProperty=__webpack_require__(4);var defineProperty_default=__webpack_require__.n(defineProperty);const cloudtrailDashboardConfig={attributes:{description:"",hits:0,kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"language":"kuery","query":""},"filter":[]}'},optionsJSON:'{"hidePanelTitles":false,"useMargins":true}',panelsJSON:'[{"version":"1.3.2","gridData":{"x":0,"y":0,"w":24,"h":7,"i":"ef1c8093-d864-4d8b-88bd-d3d635d90819"},"panelIndex":"ef1c8093-d864-4d8b-88bd-d3d635d90819","embeddableConfig":{},"panelRefName":"panel_0"},{"version":"1.3.2","gridData":{"x":24,"y":0,"w":24,"h":7,"i":"458220d0-a1bd-4ff4-887c-ddd1174ad52a"},"panelIndex":"458220d0-a1bd-4ff4-887c-ddd1174ad52a","embeddableConfig":{},"panelRefName":"panel_1"},{"version":"1.3.2","gridData":{"x":0,"y":7,"w":11,"h":7,"i":"8d6c2abf-e123-41cc-9428-c814a8c3851f"},"panelIndex":"8d6c2abf-e123-41cc-9428-c814a8c3851f","embeddableConfig":{},"panelRefName":"panel_2"},{"version":"1.3.2","gridData":{"x":11,"y":7,"w":10,"h":15,"i":"387068a2-b2d7-449a-93c6-92ded89cc535"},"panelIndex":"387068a2-b2d7-449a-93c6-92ded89cc535","embeddableConfig":{},"panelRefName":"panel_3"},{"version":"1.3.2","gridData":{"x":21,"y":7,"w":27,"h":15,"i":"06dacfb3-5be8-48da-be91-a33a0fdedd6f"},"panelIndex":"06dacfb3-5be8-48da-be91-a33a0fdedd6f","embeddableConfig":{"mapCenter":null,"mapZoom":null},"panelRefName":"panel_4"},{"version":"1.3.2","gridData":{"x":0,"y":14,"w":11,"h":8,"i":"59c704d2-da17-4437-aaa6-72e7f7899be0"},"panelIndex":"59c704d2-da17-4437-aaa6-72e7f7899be0","embeddableConfig":{},"panelRefName":"panel_5"},{"version":"1.3.2","gridData":{"x":0,"y":22,"w":7,"h":8,"i":"89480c31-3cce-4327-b171-362cbb13d75f"},"panelIndex":"89480c31-3cce-4327-b171-362cbb13d75f","embeddableConfig":{"title":""},"panelRefName":"panel_6"},{"version":"1.3.2","gridData":{"x":7,"y":22,"w":7,"h":8,"i":"ff379b16-9bab-47ff-ba35-5979c2837bac"},"panelIndex":"ff379b16-9bab-47ff-ba35-5979c2837bac","embeddableConfig":{"title":""},"panelRefName":"panel_7"},{"version":"1.3.2","gridData":{"x":14,"y":22,"w":7,"h":8,"i":"fcee65f0-5867-4e06-abba-84c666bd3d7d"},"panelIndex":"fcee65f0-5867-4e06-abba-84c666bd3d7d","embeddableConfig":{"title":""},"panelRefName":"panel_8"},{"version":"1.3.2","gridData":{"x":21,"y":22,"w":27,"h":8,"i":"ebfcdb58-d9a8-491b-a4b0-be9334715165"},"panelIndex":"ebfcdb58-d9a8-491b-a4b0-be9334715165","embeddableConfig":{},"panelRefName":"panel_9"},{"version":"1.3.2","gridData":{"x":0,"y":30,"w":7,"h":8,"i":"71ca93b1-de52-4d12-a337-3638c7896850"},"panelIndex":"71ca93b1-de52-4d12-a337-3638c7896850","embeddableConfig":{"title":""},"panelRefName":"panel_10"},{"version":"1.3.2","gridData":{"x":7,"y":30,"w":7,"h":8,"i":"a17dbd0a-15fc-43d9-9a9e-c5ad1516d22a"},"panelIndex":"a17dbd0a-15fc-43d9-9a9e-c5ad1516d22a","embeddableConfig":{"title":""},"panelRefName":"panel_11"},{"version":"1.3.2","gridData":{"x":14,"y":30,"w":7,"h":8,"i":"1abc07f4-c21f-4562-9bb1-0eb8903d4aa0"},"panelIndex":"1abc07f4-c21f-4562-9bb1-0eb8903d4aa0","embeddableConfig":{"title":""},"panelRefName":"panel_12"},{"version":"1.3.2","gridData":{"x":21,"y":30,"w":7,"h":8,"i":"7731f303-8d34-460a-906e-927e638cfa0f"},"panelIndex":"7731f303-8d34-460a-906e-927e638cfa0f","embeddableConfig":{"title":""},"panelRefName":"panel_13"},{"version":"1.3.2","gridData":{"x":28,"y":30,"w":7,"h":8,"i":"e92cccc6-c5ab-4afa-a189-ce326de4030a"},"panelIndex":"e92cccc6-c5ab-4afa-a189-ce326de4030a","embeddableConfig":{"title":""},"panelRefName":"panel_14"},{"version":"1.3.2","gridData":{"x":35,"y":30,"w":7,"h":8,"i":"1882d098-45d1-401e-8c15-222fb85c0b58"},"panelIndex":"1882d098-45d1-401e-8c15-222fb85c0b58","embeddableConfig":{"title":""},"panelRefName":"panel_15"},{"version":"1.3.2","gridData":{"x":0,"y":38,"w":15,"h":9,"i":"6d592a68-5658-4af3-8db5-bce9e2357c36"},"panelIndex":"6d592a68-5658-4af3-8db5-bce9e2357c36","embeddableConfig":{},"panelRefName":"panel_16"},{"version":"1.3.2","gridData":{"x":42,"y":30,"w":6,"h":8,"i":"f65af854-bcb0-4904-b9c2-a869c8bf2423"},"panelIndex":"f65af854-bcb0-4904-b9c2-a869c8bf2423","embeddableConfig":{"hidePanelTitles":true},"panelRefName":"panel_17"},{"version":"1.3.2","gridData":{"x":15,"y":38,"w":33,"h":9,"i":"2d43cb78-cdf8-4f6f-83b2-e724f1880c4b"},"panelIndex":"2d43cb78-cdf8-4f6f-83b2-e724f1880c4b","embeddableConfig":{},"panelRefName":"panel_18"},{"version":"1.3.2","gridData":{"x":0,"y":47,"w":15,"h":9,"i":"c1ef693d-637a-4d2d-8267-3191015f0df8"},"panelIndex":"c1ef693d-637a-4d2d-8267-3191015f0df8","embeddableConfig":{},"panelRefName":"panel_19"},{"version":"1.3.2","gridData":{"x":15,"y":47,"w":33,"h":9,"i":"9a6adcb9-bce1-44c4-bab8-fe086aaf741d"},"panelIndex":"9a6adcb9-bce1-44c4-bab8-fe086aaf741d","embeddableConfig":{},"panelRefName":"panel_20"},{"version":"1.3.2","gridData":{"x":0,"y":56,"w":15,"h":9,"i":"1a85d715-d1ba-4d65-8da7-ab061fb5b20a"},"panelIndex":"1a85d715-d1ba-4d65-8da7-ab061fb5b20a","embeddableConfig":{},"panelRefName":"panel_21"},{"version":"1.3.2","gridData":{"x":15,"y":56,"w":33,"h":9,"i":"3438d081-b021-41dd-a94d-0b2fc4e41c55"},"panelIndex":"3438d081-b021-41dd-a94d-0b2fc4e41c55","embeddableConfig":{},"panelRefName":"panel_22"},{"version":"1.3.2","gridData":{"x":0,"y":65,"w":15,"h":9,"i":"ca007fbb-a1e3-4c8c-80ee-b20394c82353"},"panelIndex":"ca007fbb-a1e3-4c8c-80ee-b20394c82353","embeddableConfig":{},"panelRefName":"panel_23"},{"version":"1.3.2","gridData":{"x":15,"y":65,"w":33,"h":9,"i":"aa79b7c7-2617-4cdf-959b-225d20b8960f"},"panelIndex":"aa79b7c7-2617-4cdf-959b-225d20b8960f","embeddableConfig":{},"panelRefName":"panel_24"},{"version":"1.3.2","gridData":{"x":0,"y":74,"w":13,"h":12,"i":"3d5b3e0b-b438-4eb2-b9b2-8599b6095e5d"},"panelIndex":"3d5b3e0b-b438-4eb2-b9b2-8599b6095e5d","embeddableConfig":{},"panelRefName":"panel_25"},{"version":"1.3.2","gridData":{"x":13,"y":74,"w":13,"h":12,"i":"c2b7419d-5a81-4ab1-b793-e884b3b82765"},"panelIndex":"c2b7419d-5a81-4ab1-b793-e884b3b82765","embeddableConfig":{},"panelRefName":"panel_26"},{"version":"1.3.2","gridData":{"x":26,"y":74,"w":22,"h":12,"i":"2b4f1b7f-05b1-4956-92a3-7134c2afed52"},"panelIndex":"2b4f1b7f-05b1-4956-92a3-7134c2afed52","embeddableConfig":{},"panelRefName":"panel_27"}]',timeRestore:false,title:"CloudTrail Summary",version:1},id:"02ca2d20-8245-11ea-8450-d1d13849d130",migrationVersion:{dashboard:"7.9.3"},references:[{id:"38b0cd00-8609-11ea-8ea1-d5ea957d0a7d",name:"panel_0",type:"visualization"},{id:"70cd1ea0-8609-11ea-8ea1-d5ea957d0a7d",name:"panel_1",type:"visualization"},{id:"5fdde8a0-87cf-11ea-b9a0-7b688d6c40a7",name:"panel_2",type:"visualization"},{id:"8e9a0fb0-87d0-11ea-84c8-631650cae227",name:"panel_3",type:"visualization"},{id:"86029e40-87cf-11ea-b9a0-7b688d6c40a7",name:"panel_4",type:"visualization"},{id:"d51c8ea0-87cf-11ea-b9a0-7b688d6c40a7",name:"panel_5",type:"visualization"},{id:"37a2aab0-87b1-11ea-b9a0-7b688d6c40a7",name:"panel_6",type:"visualization"},{id:"964e0eb0-87c0-11ea-84c8-631650cae227",name:"panel_7",type:"visualization"},{id:"f53ad890-87bb-11ea-b9a0-7b688d6c40a7",name:"panel_8",type:"visualization"},{id:"8485ad20-87cd-11ea-84c8-631650cae227",name:"panel_9",type:"visualization"},{id:"fd2b26d0-87b7-11ea-84c8-631650cae227",name:"panel_10",type:"visualization"},{id:"12949b90-87b9-11ea-b9a0-7b688d6c40a7",name:"panel_11",type:"visualization"},{id:"0d6fd0c0-87ba-11ea-84c8-631650cae227",name:"panel_12",type:"visualization"},{id:"7a295f60-87ba-11ea-b9a0-7b688d6c40a7",name:"panel_13",type:"visualization"},{id:"42efd730-87bb-11ea-84c8-631650cae227",name:"panel_14",type:"visualization"},{id:"2172d050-87be-11ea-84c8-631650cae227",name:"panel_15",type:"visualization"},{id:"ff879d20-87a6-11ea-8ea1-d5ea957d0a7d",name:"panel_16",type:"visualization"},{id:"8dd04d40-1e02-11ed-aa58-67d455528b1d",name:"panel_17",type:"visualization"},{id:"5b808920-87a7-11ea-8ea1-d5ea957d0a7d",name:"panel_18",type:"visualization"},{id:"750fd9d0-87a8-11ea-8ea1-d5ea957d0a7d",name:"panel_19",type:"visualization"},{id:"a9aacce0-87a8-11ea-8ea1-d5ea957d0a7d",name:"panel_20",type:"visualization"},{id:"1e2f98c0-87a9-11ea-8ea1-d5ea957d0a7d",name:"panel_21",type:"visualization"},{id:"71b1ec50-87a9-11ea-8ea1-d5ea957d0a7d",name:"panel_22",type:"visualization"},{id:"db266210-87a9-11ea-8ea1-d5ea957d0a7d",name:"panel_23",type:"visualization"},{id:"e062c4d0-87ae-11ea-b9a0-7b688d6c40a7",name:"panel_24",type:"visualization"},{id:"31ea73f0-1d19-11ed-94f7-6342b0f7ff8e",name:"panel_25",type:"visualization"},{id:"2a1575e0-1d1d-11ed-aa58-67d455528b1d",name:"panel_26",type:"visualization"},{id:"3dd3f380-1dff-11ed-aa58-67d455528b1d",name:"panel_27",type:"visualization"}],type:"dashboard"};const cloudtrailVisualizationConfigs=[{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"kuery"},"filter":[],"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index"}'},title:"CloudTrail - AWS Account(Bar)",uiStateJSON:"{}",version:1,visState:'{"type":"histogram","aggs":[{"id":"1","enabled":true,"type":"count","schema":"metric","params":{}},{"id":"3","enabled":true,"type":"terms","schema":"segment","params":{"field":"cloud.account.id","orderBy":"1","order":"desc","size":10,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"}},{"id":"4","enabled":true,"type":"terms","schema":"group","params":{"field":"cloud.account.id","orderBy":"1","order":"desc","size":5,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"}}],"params":{"type":"histogram","grid":{"categoryLines":false},"categoryAxes":[{"id":"CategoryAxis-1","type":"category","position":"bottom","show":false,"style":{},"scale":{"type":"linear"},"labels":{"show":true,"filter":true,"truncate":100},"title":{}}],"valueAxes":[{"id":"ValueAxis-1","name":"LeftAxis-1","type":"value","position":"left","show":true,"style":{},"scale":{"type":"linear","mode":"normal"},"labels":{"show":true,"rotate":0,"filter":false,"truncate":100},"title":{"text":"Count"}}],"seriesParams":[{"show":"true","type":"histogram","mode":"stacked","data":{"label":"Count","id":"1"},"valueAxis":"ValueAxis-1","drawLinesBetweenPoints":true,"showCircles":true}],"addTooltip":true,"addLegend":true,"legendPosition":"right","times":[],"addTimeMarker":false,"labels":{"show":false},"thresholdLine":{"show":false,"value":10,"width":1,"style":"full","color":"#34130C"},"dimensions":{"x":{"accessor":0,"format":{"id":"terms","params":{"id":"string","otherBucketLabel":"Other","missingBucketLabel":"Missing"}},"params":{},"aggType":"terms"},"y":[{"accessor":1,"format":{"id":"number"},"params":{},"aggType":"count"}]}},"title":"CloudTrail - AWS Account(Bar)"}'},references:[{id:"5f946950-7fc8-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"kuery"},"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index","filter":[]}'},title:"CloudTrail - Region(Bar)",uiStateJSON:"{}",version:1,visState:'{"title":"CloudTrail - Region(Bar)","type":"histogram","params":{"type":"histogram","grid":{"categoryLines":false},"categoryAxes":[{"id":"CategoryAxis-1","type":"category","position":"bottom","show":false,"style":{},"scale":{"type":"linear"},"labels":{"show":true,"filter":true,"truncate":100},"title":{}}],"valueAxes":[{"id":"ValueAxis-1","name":"LeftAxis-1","type":"value","position":"left","show":true,"style":{},"scale":{"type":"linear","mode":"normal"},"labels":{"show":true,"rotate":0,"filter":false,"truncate":100},"title":{"text":"Count"}}],"seriesParams":[{"show":"true","type":"histogram","mode":"stacked","data":{"label":"Count","id":"1"},"valueAxis":"ValueAxis-1","drawLinesBetweenPoints":true,"showCircles":true}],"addTooltip":true,"addLegend":true,"legendPosition":"right","times":[],"addTimeMarker":false,"labels":{"show":false},"thresholdLine":{"show":false,"value":10,"width":1,"style":"full","color":"#34130C"},"dimensions":{"x":{"accessor":0,"format":{"id":"terms","params":{"id":"string","otherBucketLabel":"Other","missingBucketLabel":"Missing"}},"params":{},"aggType":"terms"},"y":[{"accessor":2,"format":{"id":"number"},"params":{},"aggType":"count"}],"series":[{"accessor":1,"format":{"id":"terms","params":{"id":"string","otherBucketLabel":"Other","missingBucketLabel":"Missing"}},"params":{},"aggType":"terms"}]}},"aggs":[{"id":"1","enabled":true,"type":"count","schema":"metric","params":{}},{"id":"3","enabled":true,"type":"terms","schema":"segment","params":{"field":"cloud.region","orderBy":"1","order":"desc","size":5,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"}},{"id":"4","enabled":true,"type":"terms","schema":"group","params":{"field":"cloud.region","orderBy":"1","order":"desc","size":5,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"}}]}'},references:[{id:"5f946950-7fc8-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"kuery"},"filter":[],"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index"}'},title:"CloudTrail - Source Countries",uiStateJSON:"{}",version:1,visState:'{"type":"pie","aggs":[{"id":"1","enabled":true,"type":"count","schema":"metric","params":{}},{"id":"2","enabled":true,"type":"terms","schema":"segment","params":{"field":"source.geo.country_name","orderBy":"1","order":"desc","size":10,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"}}],"params":{"type":"pie","addTooltip":true,"addLegend":true,"legendPosition":"right","isDonut":true,"labels":{"show":false,"values":true,"last_level":true,"truncate":100},"dimensions":{"metric":{"accessor":1,"format":{"id":"number"},"params":{},"aggType":"count"},"buckets":[{"accessor":0,"format":{"id":"terms","params":{"id":"string","otherBucketLabel":"Other","missingBucketLabel":"Missing"}},"params":{},"aggType":"terms"}]}},"title":"CloudTrail - Source Countries"}'},references:[{id:"5f946950-7fc8-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"kuery"},"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index","filter":[]}'},title:"CloudTrail - Source IP",uiStateJSON:'{"vis":{"params":{"sort":{"columnIndex":null,"direction":null}}}}',version:1,visState:'{"title":"CloudTrail - Source IP","type":"table","params":{"perPage":10,"showPartialRows":false,"showMetricsAtAllLevels":false,"sort":{"columnIndex":null,"direction":null},"showTotal":false,"totalFunc":"sum","percentageCol":"","dimensions":{"metrics":[{"accessor":1,"format":{"id":"number"},"params":{},"aggType":"count"}],"buckets":[{"accessor":0,"format":{"id":"terms","params":{"id":"ip","otherBucketLabel":"Other","missingBucketLabel":"Missing"}},"params":{},"aggType":"terms"}]}},"aggs":[{"id":"1","enabled":true,"type":"count","schema":"metric","params":{}},{"id":"2","enabled":true,"type":"terms","schema":"bucket","params":{"field":"source.ip","orderBy":"1","order":"desc","size":10,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing","customLabel":"Source"}}]}'},references:[{id:"5f946950-7fc8-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"kuery"},"filter":[],"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index"}'},title:"CloudTrail - Source Countries(Geo)",uiStateJSON:'{"mapZoom":2,"mapCenter":[21.453068633086783,26.3558692421991]}',version:1,visState:'{"type":"region_map","aggs":[{"id":"1","enabled":true,"type":"count","schema":"metric","params":{}},{"id":"2","enabled":true,"type":"terms","schema":"segment","params":{"field":"source.geo.country_iso_code","orderBy":"1","order":"desc","size":100,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"}}],"params":{"addTooltip":true,"colorSchema":"Yellow to Red","emsHotLink":"https://maps.elastic.co/v7.7?locale=en#file/world_countries","isDisplayWarning":true,"legendPosition":"bottomright","mapCenter":[0,0],"mapZoom":2,"outlineWeight":1,"selectedJoinField":{"description":"ISO 3166-1 alpha-2 Code","name":"iso2","type":"id"},"selectedLayer":{"attribution":"<a href=\\"http://www.naturalearthdata.com/about/terms-of-use\\">Made with NaturalEarth</a>","created_at":"2017-04-26T17:12:15.978370","fields":[{"description":"ISO 3166-1 alpha-2 Code","name":"iso2","type":"id"},{"description":"ISO 3166-1 alpha-3 Code","name":"iso3","type":"id"},{"description":"Name","name":"name","type":"name"}],"format":{"type":"geojson"},"id":"world_countries","isEMS":true,"layerId":"elastic_maps_service.World Countries","name":"World Countries","origin":"elastic_maps_service"},"showAllShapes":true,"wms":{"enabled":false,"options":{"format":"image/png","transparent":true},"selectedTmsLayer":{"attribution":"<a rel=\\"noreferrer noopener\\" href=\\"https://www.openstreetmap.org/copyright\\">Map data &#169; OpenStreetMap contributors</a>","id":"road_map","maxZoom":10,"minZoom":0,"origin":"elastic_maps_service"}}},"title":"CloudTrail - Source Countries(Geo)"}'},references:[{id:"5f946950-7fc8-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"kuery"},"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index","filter":[]}'},title:"CloudTrail - Source AS",uiStateJSON:"{}",version:1,visState:'{"title":"CloudTrail - Source AS","type":"pie","params":{"type":"pie","addTooltip":true,"addLegend":true,"legendPosition":"right","isDonut":true,"labels":{"show":false,"values":true,"last_level":true,"truncate":100},"dimensions":{"metric":{"accessor":1,"format":{"id":"number"},"params":{},"aggType":"count"},"buckets":[{"accessor":0,"format":{"id":"terms","params":{"id":"string","otherBucketLabel":"Other","missingBucketLabel":"Missing"}},"params":{},"aggType":"terms"}]}},"aggs":[{"id":"1","enabled":true,"type":"count","schema":"metric","params":{}},{"id":"2","enabled":true,"type":"terms","schema":"segment","params":{"field":"source.as.organization.name","orderBy":"1","order":"desc","size":10,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"}}]}'},references:[{id:"5f946950-7fc8-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"kuery"},"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index","filter":[]}'},title:"CloudTrail - Login Failed",uiStateJSON:"{}",version:1,visState:'{"title":"CloudTrail - Login Failed","type":"metric","params":{"metric":{"percentageMode":false,"useRanges":false,"colorSchema":"Green to Red","metricColorMode":"None","colorsRange":[{"type":"range","from":0,"to":10000}],"labels":{"show":true},"invertColors":false,"style":{"bgFill":"#000","bgColor":false,"labelColor":false,"subText":"","fontSize":60}},"dimensions":{"metrics":[{"type":"vis_dimension","accessor":1,"format":{"id":"number","params":{}}}],"bucket":{"type":"vis_dimension","accessor":0,"format":{"id":"string","params":{}}}},"addTooltip":true,"addLegend":false,"type":"metric"},"aggs":[{"id":"1","enabled":true,"type":"count","schema":"metric","params":{}},{"id":"2","enabled":true,"type":"filters","schema":"group","params":{"filters":[{"input":{"query":"responseElements.ConsoleLogin:Failure","language":"kuery"},"label":"Login Failed"}]}}]}'},references:[{id:"5f946950-7fc8-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"kuery"},"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index","filter":[]}'},title:"CloudTrail - Root Login(CIS3.3)",uiStateJSON:"{}",version:1,visState:'{"title":"CloudTrail - Root Login(CIS3.3)","type":"metric","params":{"metric":{"percentageMode":false,"useRanges":false,"colorSchema":"Green to Red","metricColorMode":"None","colorsRange":[{"type":"range","from":0,"to":10000}],"labels":{"show":true},"invertColors":false,"style":{"bgFill":"#000","bgColor":false,"labelColor":false,"subText":"","fontSize":60}},"dimensions":{"metrics":[{"type":"vis_dimension","accessor":1,"format":{"id":"number","params":{}}}],"bucket":{"type":"vis_dimension","accessor":0,"format":{"id":"string","params":{}}}},"addTooltip":true,"addLegend":false,"type":"metric"},"aggs":[{"id":"1","enabled":true,"type":"count","schema":"metric","params":{}},{"id":"2","enabled":true,"type":"filters","schema":"group","params":{"filters":[{"input":{"query":"userIdentity.type:Root AND NOT userIdentity.invokedBy:* AND NOT eventType:AwsServiceEvent","language":"kuery"},"label":"Root Login"}]}}]}'},references:[{id:"5f946950-7fc8-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"kuery"},"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index","filter":[]}'},title:"CloudTrail - Unauthorized API Calls(CIS3.1)",uiStateJSON:"{}",version:1,visState:'{"title":"CloudTrail - Unauthorized API Calls(CIS3.1)","type":"metric","params":{"metric":{"percentageMode":false,"useRanges":false,"colorSchema":"Green to Red","metricColorMode":"None","colorsRange":[{"type":"range","from":0,"to":10000}],"labels":{"show":true},"invertColors":false,"style":{"bgFill":"#000","bgColor":false,"labelColor":false,"subText":"","fontSize":23}},"dimensions":{"metrics":[{"type":"vis_dimension","accessor":1,"format":{"id":"number","params":{}}}],"bucket":{"type":"vis_dimension","accessor":0,"format":{"id":"string","params":{}}}},"addTooltip":true,"addLegend":false,"type":"metric"},"aggs":[{"id":"1","enabled":true,"type":"count","schema":"metric","params":{}},{"id":"2","enabled":true,"type":"filters","schema":"group","params":{"filters":[{"label":"Unauthorized API Calls","input":{"query":"errorCode:*UnauthorizedOperation OR errorCode:AccessDenied*","language":"kuery"}}]}}]}'},references:[{id:"5f946950-7fc8-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"kuery"},"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index","filter":[]}'},title:"CloudTrail - UserIdentity.arn",uiStateJSON:'{"vis":{"params":{"sort":{"columnIndex":null,"direction":null}}}}',version:1,visState:'{"title":"CloudTrail - UserIdentity.arn","type":"table","params":{"perPage":10,"showPartialRows":false,"showMetricsAtAllLevels":false,"sort":{"columnIndex":null,"direction":null},"showTotal":false,"totalFunc":"sum","percentageCol":"","dimensions":{"metrics":[{"accessor":1,"format":{"id":"number"},"params":{},"aggType":"count"}],"buckets":[{"accessor":0,"format":{"id":"terms","params":{"id":"string","otherBucketLabel":"Other","missingBucketLabel":"Missing"}},"params":{},"aggType":"terms"}]}},"aggs":[{"id":"1","enabled":true,"type":"count","schema":"metric","params":{}},{"id":"2","enabled":true,"type":"terms","schema":"bucket","params":{"field":"userIdentity.arn","orderBy":"1","order":"desc","size":10,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"}}]}'},references:[{id:"5f946950-7fc8-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"language":"kuery","query":""},"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index","filter":[]}'},title:"CloudTrail - Security Group Changed(CIS3.10)",uiStateJSON:"{}",version:1,visState:'{"aggs":[{"enabled":true,"id":"1","params":{},"schema":"metric","type":"count"},{"enabled":true,"id":"2","params":{"filters":[{"input":{"language":"kuery","query":"eventName:(AuthorizeSecurityGroupIngress OR AuthorizeSecurityGroupEgress OR RevokeSecurityGroupIngress OR RevokeSecurityGroupEgress OR CreateSecurityGroup OR DeleteSecurityGroup)"},"label":"SG Changed"}]},"schema":"group","type":"filters"}],"params":{"addLegend":false,"addTooltip":true,"dimensions":{"bucket":{"accessor":0,"format":{"id":"string","params":{}},"type":"vis_dimension"},"metrics":[{"accessor":1,"format":{"id":"number","params":{}},"type":"vis_dimension"}]},"metric":{"colorSchema":"Green to Red","colorsRange":[{"from":0,"to":10000,"type":"range"}],"invertColors":false,"labels":{"show":true},"metricColorMode":"None","percentageMode":false,"style":{"bgColor":false,"bgFill":"#000","fontSize":60,"labelColor":false,"subText":""},"useRanges":false},"type":"metric"},"title":"CloudTrail - Security Group Changed(CIS3.10)","type":"metric"}'},references:[{id:"5f946950-7fc8-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"kuery"},"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index","filter":[]}'},title:"CloudTrail - NACL Changed(CIS3.11)",uiStateJSON:"{}",version:1,visState:'{"title":"CloudTrail - NACL Changed(CIS3.11)","type":"metric","params":{"metric":{"percentageMode":false,"useRanges":false,"colorSchema":"Green to Red","metricColorMode":"None","colorsRange":[{"type":"range","from":0,"to":10000}],"labels":{"show":true},"invertColors":false,"style":{"bgFill":"#000","bgColor":false,"labelColor":false,"subText":"","fontSize":60}},"dimensions":{"metrics":[{"type":"vis_dimension","accessor":0,"format":{"id":"number","params":{}}}]},"addTooltip":true,"addLegend":false,"type":"metric"},"aggs":[{"id":"1","enabled":true,"type":"count","schema":"metric","params":{}},{"id":"2","enabled":true,"type":"filters","schema":"group","params":{"filters":[{"input":{"query":"eventName:(CreateNetworkAcl OR CreateNetworkAclEntry OR DeleteNetworkAcl OR DeleteNetworkAclEntry OR ReplaceNetworkAclEntry OR ReplaceNetworkAclAssociation)","language":"kuery"},"label":"NACL Changed"}]}}]}'},references:[{id:"5f946950-7fc8-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"kuery"},"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index","filter":[]}'},title:"CloudTrail - Network Gateway Changd(CIS3.12)",uiStateJSON:"{}",version:1,visState:'{"title":"CloudTrail - Network Gateway Changd(CIS3.12)","type":"metric","params":{"metric":{"percentageMode":false,"useRanges":false,"colorSchema":"Green to Red","metricColorMode":"None","colorsRange":[{"type":"range","from":0,"to":10000}],"labels":{"show":true},"invertColors":false,"style":{"bgFill":"#000","bgColor":false,"labelColor":false,"subText":"","fontSize":60}},"dimensions":{"metrics":[{"type":"vis_dimension","accessor":1,"format":{"id":"number","params":{}}}],"bucket":{"type":"vis_dimension","accessor":0,"format":{"id":"string","params":{}}}},"addTooltip":true,"addLegend":false,"type":"metric"},"aggs":[{"id":"1","enabled":true,"type":"count","schema":"metric","params":{}},{"id":"2","enabled":true,"type":"filters","schema":"group","params":{"filters":[{"input":{"query":"eventName:(CreateCustomerGateway OR DeleteCustomerGateway OR AttachInternetGateway OR CreateInternetGateway OR DeleteInternetGateway OR DetachInternetGateway)","language":"kuery"},"label":"Network Gateway Changed"}]}}]}'},references:[{id:"5f946950-7fc8-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"kuery"},"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index","filter":[]}'},title:"CloudTrail - Route Table Changd(CIS3.13)",uiStateJSON:"{}",version:1,visState:'{"title":"CloudTrail - Route Table Changd(CIS3.13)","type":"metric","params":{"metric":{"percentageMode":false,"useRanges":false,"colorSchema":"Green to Red","metricColorMode":"None","colorsRange":[{"type":"range","from":0,"to":10000}],"labels":{"show":true},"invertColors":false,"style":{"bgFill":"#000","bgColor":false,"labelColor":false,"subText":"","fontSize":60}},"dimensions":{"metrics":[{"type":"vis_dimension","accessor":1,"format":{"id":"number","params":{}}}],"bucket":{"type":"vis_dimension","accessor":0,"format":{"id":"string","params":{}}}},"addTooltip":true,"addLegend":false,"type":"metric"},"aggs":[{"id":"1","enabled":true,"type":"count","schema":"metric","params":{}},{"id":"2","enabled":true,"type":"filters","schema":"group","params":{"filters":[{"label":"Route Table Changed","input":{"query":"eventName:(CreateRoute OR CreateRouteTable OR ReplaceRoute OR ReplaceRouteTableAssociation OR DeleteRouteTable OR DeleteRoute OR DisassociateRouteTable)","language":"kuery"}}]}}]}'},references:[{id:"5f946950-7fc8-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"kuery"},"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index","filter":[]}'},title:"CloudTrail - VPC Changed(CIS3.14)",uiStateJSON:"{}",version:1,visState:'{"title":"CloudTrail - VPC Changed(CIS3.14)","type":"metric","params":{"metric":{"percentageMode":false,"useRanges":false,"colorSchema":"Green to Red","metricColorMode":"None","colorsRange":[{"type":"range","from":0,"to":10000}],"labels":{"show":true},"invertColors":false,"style":{"bgFill":"#000","bgColor":false,"labelColor":false,"subText":"","fontSize":60}},"dimensions":{"metrics":[{"type":"vis_dimension","accessor":0,"format":{"id":"number","params":{}}}]},"addTooltip":true,"addLegend":false,"type":"metric"},"aggs":[{"id":"1","enabled":true,"type":"count","schema":"metric","params":{}},{"id":"2","enabled":true,"type":"filters","schema":"group","params":{"filters":[{"input":{"query":"eventName:(CreateVpc OR DeleteVpc OR ModifyVpcAttribute OR AcceptVpcPeeringConnection OR CreateVpcPeeringConnection OR DeleteVpcPeeringConnection OR RejectVpcPeeringConnection OR AttachClassicLinkVpc OR DetachClassicLinkVpc OR DisableVpcClassicLink OR EnableVpcClassicLink)","language":"kuery"},"label":"VPC Changed"}]}}]}'},references:[{id:"5f946950-7fc8-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"kuery"},"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index","filter":[]}'},title:"CloudTrail - S3 Bucket Changed(CIS3.8)",uiStateJSON:"{}",version:1,visState:'{"title":"CloudTrail - S3 Bucket Changed(CIS3.8)","type":"metric","params":{"metric":{"percentageMode":false,"useRanges":false,"colorSchema":"Green to Red","metricColorMode":"None","colorsRange":[{"type":"range","from":0,"to":10000}],"labels":{"show":true},"invertColors":false,"style":{"bgFill":"#000","bgColor":false,"labelColor":false,"subText":"","fontSize":60}},"dimensions":{"metrics":[{"type":"vis_dimension","accessor":1,"format":{"id":"number","params":{}}}],"bucket":{"type":"vis_dimension","accessor":0,"format":{"id":"string","params":{}}}},"addTooltip":true,"addLegend":false,"type":"metric"},"aggs":[{"id":"1","enabled":true,"type":"count","schema":"metric","params":{}},{"id":"2","enabled":true,"type":"filters","schema":"group","params":{"filters":[{"input":{"query":"eventSource:s3.amazonaws.com AND (eventName:(PutBucketAcl OR PutBucketPolicy OR PutBucketCors OR PutBucketLifecycle OR PutBucketReplication OR DeleteBucketPolicy OR DeleteBucketCors OR DeleteBucketLifecycle OR DeleteBucketReplication))","language":"kuery"},"label":"S3 Bucket Changed"}]}}]}'},references:[{id:"5f946950-7fc8-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"kuery"},"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index","filter":[]}'},title:"CloudTrail - Event Name(Pie)",uiStateJSON:"{}",version:1,visState:'{"title":"CloudTrail - Event Name(Pie)","type":"pie","params":{"type":"pie","addTooltip":true,"addLegend":true,"legendPosition":"right","isDonut":true,"labels":{"show":false,"values":true,"last_level":true,"truncate":100},"dimensions":{"metric":{"accessor":0,"format":{"id":"number"},"params":{},"aggType":"count"}}},"aggs":[{"id":"1","enabled":true,"type":"count","schema":"metric","params":{}},{"id":"2","enabled":true,"type":"terms","schema":"segment","params":{"field":"eventName","orderBy":"1","order":"desc","size":10,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"}}]}'},references:[{id:"5f946950-7fc8-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"DisableKey\nScheduleKeyDeletion\nPutKeyPolicy",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"kuery"},"filter":[],"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index"}'},title:"CloudTrail - KMS Key Changed",uiStateJSON:"{}",version:1,visState:'{"title":"CloudTrail - KMS Key Changed","type":"metric","aggs":[{"id":"1","enabled":true,"type":"count","params":{},"schema":"metric"},{"id":"2","enabled":true,"type":"filters","params":{"filters":[{"input":{"query":"eventSource:kms.amazonaws.com AND eventName:(DisableKey OR ScheduleKeyDeletion OR PutKeyPolicy)","language":"kuery"},"label":"KMS Key Changed"}]},"schema":"group"}],"params":{"addTooltip":true,"addLegend":false,"type":"metric","metric":{"percentageMode":false,"useRanges":false,"colorSchema":"Green to Red","metricColorMode":"None","colorsRange":[{"from":0,"to":10000}],"labels":{"show":true},"invertColors":false,"style":{"bgFill":"#000","bgColor":false,"labelColor":false,"subText":"","fontSize":60}}}}'},references:[{id:"5f946950-7fc8-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"kuery"},"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index","filter":[]}'},title:"CloudTrail - Event Name(Area)",uiStateJSON:"{}",version:1,visState:'{"title":"CloudTrail - Event Name(Area)","type":"area","params":{"type":"area","grid":{"categoryLines":false},"categoryAxes":[{"id":"CategoryAxis-1","type":"category","position":"bottom","show":true,"style":{},"scale":{"type":"linear"},"labels":{"show":true,"filter":true,"truncate":100},"title":{}}],"valueAxes":[{"id":"ValueAxis-1","name":"LeftAxis-1","type":"value","position":"left","show":true,"style":{},"scale":{"type":"linear","mode":"normal"},"labels":{"show":true,"rotate":0,"filter":false,"truncate":100},"title":{"text":"Count"}}],"seriesParams":[{"show":"true","type":"area","mode":"stacked","data":{"label":"Count","id":"1"},"drawLinesBetweenPoints":true,"showCircles":true,"interpolate":"linear","valueAxis":"ValueAxis-1"}],"addTooltip":true,"addLegend":true,"legendPosition":"right","times":[],"addTimeMarker":false,"thresholdLine":{"show":false,"value":10,"width":1,"style":"full","color":"#34130C"},"labels":{},"dimensions":{"x":{"accessor":0,"format":{"id":"date","params":{"pattern":"YYYY-MM-DD HH:mm"}},"params":{"date":true,"interval":"PT12H","format":"YYYY-MM-DD HH:mm","bounds":{"min":"2020-03-27T10:17:24.061Z","max":"2020-04-26T10:17:24.061Z"}},"aggType":"date_histogram"},"y":[{"accessor":1,"format":{"id":"number"},"params":{},"aggType":"count"}]}},"aggs":[{"id":"1","enabled":true,"type":"count","schema":"metric","params":{}},{"id":"2","enabled":true,"type":"date_histogram","schema":"segment","params":{"field":"timestamp","timeRange":{"from":"now-30d","to":"now"},"useNormalizedEsInterval":true,"interval":"auto","drop_partials":false,"min_doc_count":1,"extended_bounds":{}}},{"id":"3","enabled":true,"type":"terms","schema":"group","params":{"field":"eventName","orderBy":"1","order":"desc","size":10,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"}}]}'},references:[{id:"5f946950-7fc8-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"kuery"},"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index","filter":[]}'},title:"CloudTrail - Event Type(Pie)",uiStateJSON:"{}",version:1,visState:'{"title":"CloudTrail - Event Type(Pie)","type":"pie","params":{"type":"pie","addTooltip":true,"addLegend":true,"legendPosition":"right","isDonut":true,"labels":{"show":false,"values":true,"last_level":true,"truncate":100},"dimensions":{"metric":{"accessor":0,"format":{"id":"number"},"params":{},"aggType":"count"}}},"aggs":[{"id":"1","enabled":true,"type":"count","schema":"metric","params":{}},{"id":"2","enabled":true,"type":"terms","schema":"segment","params":{"field":"eventType","orderBy":"1","order":"desc","size":10,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"}}]}'},references:[{id:"5f946950-7fc8-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"kuery"},"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index","filter":[]}'},title:"CloudTrail - Event Type(Area)",uiStateJSON:"{}",version:1,visState:'{"title":"CloudTrail - Event Type(Area)","type":"area","params":{"type":"area","grid":{"categoryLines":false},"categoryAxes":[{"id":"CategoryAxis-1","type":"category","position":"bottom","show":true,"style":{},"scale":{"type":"linear"},"labels":{"show":true,"filter":true,"truncate":100},"title":{}}],"valueAxes":[{"id":"ValueAxis-1","name":"LeftAxis-1","type":"value","position":"left","show":true,"style":{},"scale":{"type":"linear","mode":"normal"},"labels":{"show":true,"rotate":0,"filter":false,"truncate":100},"title":{"text":"Count"}}],"seriesParams":[{"show":"true","type":"area","mode":"stacked","data":{"label":"Count","id":"1"},"drawLinesBetweenPoints":true,"showCircles":true,"interpolate":"linear","valueAxis":"ValueAxis-1"}],"addTooltip":true,"addLegend":true,"legendPosition":"right","times":[],"addTimeMarker":false,"thresholdLine":{"show":false,"value":10,"width":1,"style":"full","color":"#34130C"},"labels":{},"dimensions":{"x":null,"y":[{"accessor":0,"format":{"id":"number"},"params":{},"aggType":"count"}]}},"aggs":[{"id":"1","enabled":true,"type":"count","schema":"metric","params":{}},{"id":"2","enabled":true,"type":"date_histogram","schema":"segment","params":{"field":"timestamp","useNormalizedEsInterval":true,"interval":"auto","drop_partials":false,"min_doc_count":1,"extended_bounds":{}}},{"id":"3","enabled":true,"type":"terms","schema":"group","params":{"field":"eventType","orderBy":"1","order":"desc","size":5,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"}}]}'},references:[{id:"5f946950-7fc8-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"kuery"},"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index","filter":[]}'},title:"CloudTrail - Error Code(Pie)",uiStateJSON:"{}",version:1,visState:'{"title":"CloudTrail - Error Code(Pie)","type":"pie","params":{"type":"pie","addTooltip":true,"addLegend":true,"legendPosition":"right","isDonut":true,"labels":{"show":false,"values":true,"last_level":true,"truncate":100},"dimensions":{"metric":{"accessor":1,"format":{"id":"number"},"params":{},"aggType":"count"},"buckets":[{"accessor":0,"format":{"id":"terms","params":{"id":"string","otherBucketLabel":"Other","missingBucketLabel":"Missing"}},"params":{},"aggType":"terms"}]}},"aggs":[{"id":"1","enabled":true,"type":"count","schema":"metric","params":{}},{"id":"2","enabled":true,"type":"terms","schema":"segment","params":{"field":"errorCode","orderBy":"1","order":"desc","size":10,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"}}]}'},references:[{id:"5f946950-7fc8-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"kuery"},"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index","filter":[]}'},title:"CloudTrail - Error Code(Area)",uiStateJSON:"{}",version:1,visState:'{"title":"CloudTrail - Error Code(Area)","type":"area","params":{"type":"area","grid":{"categoryLines":false},"categoryAxes":[{"id":"CategoryAxis-1","type":"category","position":"bottom","show":true,"style":{},"scale":{"type":"linear"},"labels":{"show":true,"filter":true,"truncate":100},"title":{}}],"valueAxes":[{"id":"ValueAxis-1","name":"LeftAxis-1","type":"value","position":"left","show":true,"style":{},"scale":{"type":"linear","mode":"normal"},"labels":{"show":true,"rotate":0,"filter":false,"truncate":100},"title":{"text":"Count"}}],"seriesParams":[{"show":"true","type":"area","mode":"stacked","data":{"label":"Count","id":"1"},"drawLinesBetweenPoints":true,"showCircles":true,"interpolate":"linear","valueAxis":"ValueAxis-1"}],"addTooltip":true,"addLegend":true,"legendPosition":"right","times":[],"addTimeMarker":false,"thresholdLine":{"show":false,"value":10,"width":1,"style":"full","color":"#34130C"},"labels":{},"dimensions":{"x":{"accessor":0,"format":{"id":"date","params":{"pattern":"YYYY-MM-DD HH:mm"}},"params":{"date":true,"interval":"PT12H","format":"YYYY-MM-DD HH:mm","bounds":{"min":"2020-03-27T10:33:25.001Z","max":"2020-04-26T10:33:25.001Z"}},"aggType":"date_histogram"},"y":[{"accessor":2,"format":{"id":"number"},"params":{},"aggType":"count"}],"series":[{"accessor":1,"format":{"id":"terms","params":{"id":"string","otherBucketLabel":"Other","missingBucketLabel":"Missing"}},"params":{},"aggType":"terms"}]}},"aggs":[{"id":"1","enabled":true,"type":"count","schema":"metric","params":{}},{"id":"2","enabled":true,"type":"date_histogram","schema":"segment","params":{"field":"timestamp","timeRange":{"from":"now-30d","to":"now"},"useNormalizedEsInterval":true,"interval":"auto","drop_partials":false,"min_doc_count":1,"extended_bounds":{}}},{"id":"3","enabled":true,"type":"terms","schema":"group","params":{"field":"errorCode","orderBy":"1","order":"desc","size":10,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"}}]}'},references:[{id:"5f946950-7fc8-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"kuery"},"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index","filter":[]}'},title:"CloudTrail - Event Source(Pie)",uiStateJSON:"{}",version:1,visState:'{"title":"CloudTrail - Event Source(Pie)","type":"pie","params":{"type":"pie","addTooltip":true,"addLegend":true,"legendPosition":"right","isDonut":true,"labels":{"show":false,"values":true,"last_level":true,"truncate":100},"dimensions":{"metric":{"accessor":0,"format":{"id":"number"},"params":{},"aggType":"count"}}},"aggs":[{"id":"1","enabled":true,"type":"count","schema":"metric","params":{}},{"id":"2","enabled":true,"type":"terms","schema":"segment","params":{"field":"eventSource","orderBy":"1","order":"desc","size":10,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"}}]}'},references:[{id:"5f946950-7fc8-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"kuery"},"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index","filter":[]}'},title:"CloudTrail - Event Source(Area)",uiStateJSON:"{}",version:1,visState:'{"title":"CloudTrail - Event Source(Area)","type":"area","params":{"type":"area","grid":{"categoryLines":false},"categoryAxes":[{"id":"CategoryAxis-1","type":"category","position":"bottom","show":true,"style":{},"scale":{"type":"linear"},"labels":{"show":true,"filter":true,"truncate":100},"title":{}}],"valueAxes":[{"id":"ValueAxis-1","name":"LeftAxis-1","type":"value","position":"left","show":true,"style":{},"scale":{"type":"linear","mode":"normal"},"labels":{"show":true,"rotate":0,"filter":false,"truncate":100},"title":{"text":"Count"}}],"seriesParams":[{"show":"true","type":"area","mode":"stacked","data":{"label":"Count","id":"1"},"drawLinesBetweenPoints":true,"showCircles":true,"interpolate":"linear","valueAxis":"ValueAxis-1"}],"addTooltip":true,"addLegend":true,"legendPosition":"right","times":[],"addTimeMarker":false,"thresholdLine":{"show":false,"value":10,"width":1,"style":"full","color":"#34130C"},"labels":{},"dimensions":{"x":null,"y":[{"accessor":0,"format":{"id":"number"},"params":{},"aggType":"count"}]}},"aggs":[{"id":"1","enabled":true,"type":"count","schema":"metric","params":{}},{"id":"2","enabled":true,"type":"date_histogram","schema":"segment","params":{"field":"timestamp","timeRange":{"from":"now-30d","to":"now"},"useNormalizedEsInterval":true,"interval":"auto","drop_partials":false,"min_doc_count":1,"extended_bounds":{}}},{"id":"3","enabled":true,"type":"terms","schema":"group","params":{"field":"eventSource","orderBy":"1","order":"desc","size":10,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"}}]}'},references:[{id:"5f946950-7fc8-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"kuery"},"filter":[],"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index"}'},title:"CloudTrail - TLS version",uiStateJSON:"{}",version:1,visState:'{"title":"CloudTrail - TLS version","type":"pie","aggs":[{"id":"1","enabled":true,"type":"count","params":{},"schema":"metric"},{"id":"2","enabled":true,"type":"terms","params":{"field":"tlsDetails.tlsVersion","orderBy":"1","order":"desc","size":5,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"},"schema":"segment"}],"params":{"type":"pie","addTooltip":true,"addLegend":true,"legendPosition":"right","isDonut":true,"labels":{"show":false,"values":true,"last_level":true,"truncate":100}}}'},references:[{id:"5f946950-7fc8-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"kuery"},"filter":[],"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index"}'},title:"CloudTrail - User Agent Browser",uiStateJSON:"{}",version:1,visState:'{"title":"CloudTrail - User Agent Browser","type":"pie","aggs":[{"id":"1","enabled":true,"type":"count","params":{},"schema":"metric"},{"id":"2","enabled":true,"type":"terms","params":{"field":"user_agent.name","orderBy":"1","order":"desc","size":15,"otherBucket":true,"otherBucketLabel":"Other2","missingBucket":false,"missingBucketLabel":"Missing"},"schema":"segment"}],"params":{"type":"pie","addTooltip":true,"addLegend":true,"legendPosition":"right","isDonut":true,"labels":{"show":false,"values":true,"last_level":true,"truncate":100}}}'},references:[{id:"5f946950-7fc8-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"language":"kuery","query":""},"filter":[],"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index"}'},title:"CloudTrail - Matched IoC",uiStateJSON:'{"vis":{"params":{"sort":{"columnIndex":1,"direction":"desc"}}}}',version:1,visState:'{"title":"CloudTrail - Matched IoC","type":"table","aggs":[{"id":"1","enabled":true,"type":"count","params":{},"schema":"metric"},{"id":"2","enabled":true,"type":"terms","params":{"field":"threat.matched.providers","orderBy":"1","order":"desc","size":10,"otherBucket":true,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing","customLabel":"Providers"},"schema":"bucket"}],"params":{"perPage":10,"showPartialRows":false,"showMetricsAtAllLevels":false,"sort":{"columnIndex":null,"direction":null},"showTotal":false,"totalFunc":"sum","percentageCol":""}}'},references:[{id:"5f946950-7fc8-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"}];const cloudtrailIndexPatternConfig={attributes:{fields:'[{"count":0,"name":"@id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"@log_s3bucket","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"@log_s3key","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"@log_type","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"@message","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false},{"count":0,"name":"timestamp","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"SchemaVersion","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"_id","type":"string","esTypes":["_id"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":false},{"count":0,"name":"_index","type":"string","esTypes":["_index"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":false},{"count":0,"name":"_source","type":"_source","esTypes":["_source"],"scripted":false,"searchable":false,"aggregatable":false,"readFromDocValues":false},{"count":0,"name":"additionalEventData.AuthenticationMethod","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"additionalEventData.CipherSuite","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"additionalEventData.LoginTo","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"additionalEventData.MFAUsed","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"additionalEventData.MfaType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"additionalEventData.MobileVersion","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"additionalEventData.RedirectTo","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"additionalEventData.RenewedBy","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"additionalEventData.RoleRenewed","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"additionalEventData.SSEApplied","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"additionalEventData.SignatureVersion","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"additionalEventData.SwitchFrom","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"additionalEventData.SwitchTo","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"additionalEventData.accessPointName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"additionalEventData.bucketName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"additionalEventData.bytesTransferredIn","type":"number","esTypes":["float"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"additionalEventData.bytesTransferredOut","type":"number","esTypes":["float"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"additionalEventData.configRuleArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"additionalEventData.configRuleInputParameters","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"additionalEventData.configRuleName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"additionalEventData.grantId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"additionalEventData.key","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"additionalEventData.lakeFormationPrincipal","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"additionalEventData.managedRuleIdentifier","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"additionalEventData.notificationJobType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"additionalEventData.providerAction","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"additionalEventData.service","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"additionalEventData.versionId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"additionalEventData.vpcEndpointId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"additionalEventData.x-amz-id-2","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"apiVersion","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"awsRegion","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"base.tags","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"cloud.account.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"cloud.instance.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"cloud.provider","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"cloud.region","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"container.image.tag","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"cwe_timestamp","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"cwl_timestamp","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"destination.as.number","type":"number","esTypes":["integer"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"destination.bytes","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"destination.geo.city_name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"destination.geo.country_iso_code","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"destination.geo.country_name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"destination.geo.location","type":"geo_point","esTypes":["geo_point"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"destination.ip","type":"ip","esTypes":["ip"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"destination.nat.ip","type":"ip","esTypes":["ip"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"destination.nat.port","type":"number","esTypes":["integer"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"destination.packets","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"destination.port","type":"number","esTypes":["integer"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"dns.answers.ttl","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"dns.header_flags","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"dns.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"dns.resolved_ip","type":"ip","esTypes":["ip"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"ecs.version","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"error.code","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"error.message","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false},{"count":0,"name":"errorCode","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"errorMessage","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"event.action","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"event.category","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"event.code","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"event.created","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"event.duration","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"event.end","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"event.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"event.ingested","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"event.kind","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"event.module","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"event.outcome","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"event.risk_score","type":"number","esTypes":["float"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"event.risk_score_norm","type":"number","esTypes":["float"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"event.sequence","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"event.severity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"event.start","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"event.timezone","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"event.type","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"eventCategory","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"eventID","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"eventName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"eventSource","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"eventTime","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"eventType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"eventVersion","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"file.accessed","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"file.attributes","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"file.created","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"file.ctime","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"file.gid","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"file.inode","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"file.mode","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"file.mtime","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"file.size","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"file.uid","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"group.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"host.disk.read.bytes","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"host.disk.write.bytes","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"host.hostname","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"host.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"host.ip","type":"ip","esTypes":["ip"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"host.mac","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"host.network.egress.bytes","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"host.network.egress.packets","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"host.network.ingress.bytes","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"host.network.ingress.packets","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"host.uptime","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"http.request.body.bytes","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"http.request.body.content","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"http.request.body.content.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"http.request.body.content"}}},{"count":10,"name":"http.request.bytes","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"http.response.body.bytes","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"http.response.body.content","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"http.response.body.content.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"http.response.body.content"}}},{"count":10,"name":"http.response.bytes","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"http.response.status_code","type":"number","esTypes":["short"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"http.version","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"insightDetails.eventName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"insightDetails.eventSource","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"insightDetails.insightContext.attributions.attribute","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"insightDetails.insightContext.attributions.baseline.average","type":"number","esTypes":["float"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"insightDetails.insightContext.attributions.baseline.value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"insightDetails.insightContext.attributions.insight.average","type":"number","esTypes":["float"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"insightDetails.insightContext.attributions.insight.value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"insightDetails.insightContext.statistics.baseline.average","type":"number","esTypes":["float"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"insightDetails.insightContext.statistics.baselineDuration","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"insightDetails.insightContext.statistics.insight.average","type":"number","esTypes":["float"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"insightDetails.insightContext.statistics.insightDuration","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"insightDetails.insightType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"insightDetails.state","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"interface.alias","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"interface.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"interface.name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"log.level","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"log.origin.file.line","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"log.syslog.facility.code","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"log.syslog.priority","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"log.syslog.severity.code","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"managementEvent","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"network.bytes","type":"number","esTypes":["integer"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"network.community_id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"network.forwarded_ip","type":"ip","esTypes":["ip"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"network.iana_number","type":"number","esTypes":["short"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"network.packets","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"observer.ip","type":"ip","esTypes":["ip"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"observer.mac","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"observer.serial_number","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"observer.version","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"organization.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"os.family","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"os.full","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"os.full.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"os.full"}}},{"count":0,"name":"os.kernel","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"os.name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"os.name.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"os.name"}}},{"count":0,"name":"os.platform","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"os.type","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"os.version","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"process.args","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"process.args_count","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"process.command_line","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"process.command_line.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"process.command_line"}}},{"count":0,"name":"process.entity_id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"process.exit_code","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"process.pgid","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"process.pid","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"process.ppid","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"process.start","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"process.thread.id","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"process.uptime","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"readOnly","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"recipientAccountId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"related.hash","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"related.hosts","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"related.ip","type":"ip","esTypes":["ip"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"related.user","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestID","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.AccountScope","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.AssociateClientVpnTargetNetworkRequest.ClientToken","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.AssociateClientVpnTargetNetworkRequest.ClientVpnEndpointId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.AssociateClientVpnTargetNetworkRequest.SubnetId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.AssociateIamInstanceProfileRequest.IamInstanceProfile.Arn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.AssociateIamInstanceProfileRequest.IamInstanceProfile.Name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.AssociateIamInstanceProfileRequest.InstanceId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.AuthCode","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.AuthorizeClientVpnIngressRequest.AuthorizeAllGroups","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.AuthorizeClientVpnIngressRequest.ClientToken","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.AuthorizeClientVpnIngressRequest.ClientVpnEndpointId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.AuthorizeClientVpnIngressRequest.TargetNetworkCidr","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CodeVerifier","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CompleteMultipartUpload.Part.ETag","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CompleteMultipartUpload.Part.PartNumber","type":"number","esTypes":["float"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CompleteMultipartUpload.xmlns","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.Context","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateAccessPointRequest.Bucket","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateAccessPointRequest.PublicAccessBlockConfiguration.BlockPublicAcls","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateAccessPointRequest.PublicAccessBlockConfiguration.BlockPublicPolicy","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateAccessPointRequest.PublicAccessBlockConfiguration.IgnorePublicAcls","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateAccessPointRequest.PublicAccessBlockConfiguration.RestrictPublicBuckets","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateAccessPointRequest.xmlns","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateBucketConfiguration.LocationConstraint","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateBucketConfiguration.xmlns","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateClientVpnEndpointRequest.Authentication.MutualAuthentication.ClientRootCertificateChainArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateClientVpnEndpointRequest.Authentication.Type","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateClientVpnEndpointRequest.Authentication.tag","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateClientVpnEndpointRequest.ClientCidrBlock","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateClientVpnEndpointRequest.ClientConnectOptions.Enabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateClientVpnEndpointRequest.ClientLoginBannerOptions.Enabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateClientVpnEndpointRequest.ClientToken","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateClientVpnEndpointRequest.ConnectionLogOptions.Enabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateClientVpnEndpointRequest.Description","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateClientVpnEndpointRequest.DnsServers.content","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateClientVpnEndpointRequest.DnsServers.tag","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateClientVpnEndpointRequest.SecurityGroupId.content","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateClientVpnEndpointRequest.SecurityGroupId.tag","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateClientVpnEndpointRequest.SelfServicePortal","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateClientVpnEndpointRequest.ServerCertificateArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateClientVpnEndpointRequest.SessionTimeoutHours","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateClientVpnEndpointRequest.SplitTunnel","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateClientVpnEndpointRequest.TagSpecification.ResourceType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateClientVpnEndpointRequest.TagSpecification.Tag.Key","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateClientVpnEndpointRequest.TagSpecification.Tag.Value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateClientVpnEndpointRequest.TagSpecification.Tag.tag","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateClientVpnEndpointRequest.TagSpecification.tag","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateClientVpnEndpointRequest.TransportProtocol","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateClientVpnEndpointRequest.VpcId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateClientVpnEndpointRequest.VpnPort","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateClientVpnRouteRequest.ClientToken","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateClientVpnRouteRequest.ClientVpnEndpointId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateClientVpnRouteRequest.DestinationCidrBlock","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateClientVpnRouteRequest.TargetVpcSubnetId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateFleetRequest.ClientToken","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateFleetRequest.LaunchTemplateConfigs.LaunchTemplateSpecification.LaunchTemplateId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateFleetRequest.LaunchTemplateConfigs.LaunchTemplateSpecification.Version","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateFleetRequest.LaunchTemplateConfigs.Overrides.AvailabilityZone","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateFleetRequest.LaunchTemplateConfigs.Overrides.InstanceType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateFleetRequest.LaunchTemplateConfigs.Overrides.Priority","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateFleetRequest.LaunchTemplateConfigs.Overrides.SubnetId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateFleetRequest.LaunchTemplateConfigs.Overrides.tag","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateFleetRequest.LaunchTemplateConfigs.tag","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateFleetRequest.OnDemandOptions.AllocationStrategy","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateFleetRequest.SpotOptions.AllocationStrategy","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateFleetRequest.TagSpecification.ResourceType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateFleetRequest.TagSpecification.Tag.Key","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateFleetRequest.TagSpecification.Tag.Value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateFleetRequest.TagSpecification.Tag.tag","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateFleetRequest.TagSpecification.tag","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateFleetRequest.TargetCapacitySpecification.DefaultTargetCapacityType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateFleetRequest.TargetCapacitySpecification.OnDemandTargetCapacity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateFleetRequest.TargetCapacitySpecification.SpotTargetCapacity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateFleetRequest.TargetCapacitySpecification.TotalTargetCapacity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateFleetRequest.Type","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateFlowLogsRequest.DestinationOptions.FileFormat","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateFlowLogsRequest.DestinationOptions.HiveCompatiblePartitions","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateFlowLogsRequest.DestinationOptions.PerHourPartition","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateFlowLogsRequest.LogDestination","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateFlowLogsRequest.LogDestinationType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateFlowLogsRequest.LogFormat","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateFlowLogsRequest.MaxAggregationInterval","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateFlowLogsRequest.ResourceId.content","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateFlowLogsRequest.ResourceId.tag","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateFlowLogsRequest.ResourceType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateFlowLogsRequest.TagSpecification.ResourceType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateFlowLogsRequest.TagSpecification.Tag.Key","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateFlowLogsRequest.TagSpecification.Tag.Value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateFlowLogsRequest.TagSpecification.Tag.tag","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateFlowLogsRequest.TagSpecification.tag","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateFlowLogsRequest.TrafficType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateJobRequest.ClientRequestToken","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateJobRequest.ConfirmationRequired","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateJobRequest.Description","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateJobRequest.ManifestGenerator.S3JobManifestGenerator.EnableManifestOutput","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateJobRequest.ManifestGenerator.S3JobManifestGenerator.Filter.EligibleForReplication","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateJobRequest.ManifestGenerator.S3JobManifestGenerator.SourceBucket","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateJobRequest.Priority","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateJobRequest.Report.Enabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateJobRequest.RoleArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateJobRequest.xmlns","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateLaunchTemplateRequest.LaunchTemplateData.TagSpecification.Tag.Value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateLaunchTemplateVersionRequest.LaunchTemplateData.TagSpecification.Tag.Value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateNatGatewayRequest.AllocationId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateNatGatewayRequest.ClientToken","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateNatGatewayRequest.SubnetId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateNatGatewayRequest.TagSpecification.ResourceType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateNatGatewayRequest.TagSpecification.Tag.Key","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateNatGatewayRequest.TagSpecification.Tag.Value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateNatGatewayRequest.TagSpecification.Tag.tag","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateNatGatewayRequest.TagSpecification.tag","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateNetworkInterfacePermissionRequest.AwsAccountId","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateNetworkInterfacePermissionRequest.NetworkInterfaceId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateNetworkInterfacePermissionRequest.Permission","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateSnapshotsRequest.TagSpecification.Tag.Value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.CreateVpcEndpointRequest.TagSpecification.Tag.Value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DeleteFlowLogsRequest.FlowLogId.content","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DeleteFlowLogsRequest.FlowLogId.tag","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeByoipCidrsRequest.MaxResults","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeClientVpnAuthorizationRulesRequest.ClientVpnEndpointId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeClientVpnConnectionsRequest.ClientVpnEndpointId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeClientVpnEndpointsRequest.ClientVpnEndpointId.content","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeClientVpnEndpointsRequest.ClientVpnEndpointId.tag","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeClientVpnRoutesRequest.ClientVpnEndpointId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeClientVpnTargetNetworksRequest.ClientVpnEndpointId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeEgressOnlyInternetGatewaysRequest.MaxResults","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeFlowLogsRequest","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeFlowLogsRequest.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"requestParameters.DescribeFlowLogsRequest"}}},{"count":0,"name":"requestParameters.DescribeHostsRequest.MaxResults","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeIamInstanceProfileAssociationsRequest.Filter.Name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeIamInstanceProfileAssociationsRequest.Filter.Value.content","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeIamInstanceProfileAssociationsRequest.Filter.Value.tag","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeIamInstanceProfileAssociationsRequest.Filter.tag","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeInstanceCreditSpecificationsRequest.InstanceId.content","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeInstanceCreditSpecificationsRequest.InstanceId.tag","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeInstanceTypeOfferingsRequest.LocationType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeInstanceTypeOfferingsRequest.NextToken","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeInstanceTypesRequest.MaxResults","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeInstanceTypesRequest.NextToken","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeIpamPoolsRequest.MaxResults","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeIpv6PoolsRequest.MaxResults","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeLaunchTemplateVersionsRequest.LaunchTemplateId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeLaunchTemplateVersionsRequest.LaunchTemplateVersion.content","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeLaunchTemplateVersionsRequest.LaunchTemplateVersion.tag","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeLaunchTemplatesRequest.LaunchTemplateId.content","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeLaunchTemplatesRequest.LaunchTemplateId.tag","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeLaunchTemplatesRequest.MaxResults","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeManagedPrefixListsRequest.MaxResults","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeNatGatewaysRequest.Filter.Name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeNatGatewaysRequest.Filter.Value.content","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeNatGatewaysRequest.Filter.Value.tag","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeNatGatewaysRequest.Filter.tag","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeNatGatewaysRequest.MaxResults","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeNatGatewaysRequest.NatGatewayId.content","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeNatGatewaysRequest.NatGatewayId.tag","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribePrefixListsRequest.PrefixListId.content","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribePrefixListsRequest.PrefixListId.tag","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeReplaceRootVolumeTasksRequest.Filter.Name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeReplaceRootVolumeTasksRequest.Filter.Value.content","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeReplaceRootVolumeTasksRequest.Filter.Value.tag","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeReplaceRootVolumeTasksRequest.Filter.tag","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeReplaceRootVolumeTasksRequest.MaxResults","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeSecurityGroupRulesRequest.Filter.Name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeSecurityGroupRulesRequest.Filter.Value.content","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeSecurityGroupRulesRequest.Filter.Value.tag","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeSecurityGroupRulesRequest.Filter.tag","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeSecurityGroupRulesRequest.MaxResults","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeTransitGatewayAttachmentsRequest.MaxResults","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeTransitGatewayPeeringAttachmentsRequest.MaxResults","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeTransitGatewayRouteTablesRequest.MaxResults","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeTransitGatewayVpcAttachmentsRequest.MaxResults","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeTransitGatewaysRequest.MaxResults","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeVolumesModificationsRequest.MaxResults","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeVpcEndpointServiceConfigurationsRequest.MaxResults","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeVpcEndpointServicesRequest.Filter.Name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeVpcEndpointServicesRequest.Filter.Value.content","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeVpcEndpointServicesRequest.Filter.Value.tag","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeVpcEndpointServicesRequest.Filter.tag","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.DescribeVpcEndpointsRequest.MaxResults","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.Dimension","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.EnvironmentId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.ExportClientVpnClientConfigurationRequest.ClientVpnEndpointId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.Filter.And.Dimensions.Key","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.Filter.And.Dimensions.Values","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.Filter.And.Or.Dimensions.Key","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.Filter.And.Or.Dimensions.Values","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.Filter.Dimensions.Key","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.Filter.Dimensions.Values","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.Filter.Not.Or.Dimensions.Key","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.Filter.Not.Or.Dimensions.Values","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.Filter.Or.Dimensions.Key","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.Filter.Or.Dimensions.Values","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.FilterValues","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.Filters.GeneratorId.Comparison","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.Filters.GeneratorId.Value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.Filters.ProductName.Comparison","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.Filters.ProductName.Value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.Filters.RecordState.Comparison","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.Filters.RecordState.Value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.Filters.UpdatedAt.DateRange.Unit","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.Filters.UpdatedAt.DateRange.Value","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.Filters.WorkflowStatus.Comparison","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.Filters.WorkflowStatus.Value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.GetManagedPrefixListEntriesRequest.MaxResults","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.GetManagedPrefixListEntriesRequest.PrefixListId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.Granularity","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.GroupBy.Key","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.GroupBy.Type","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.Host","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.InsightArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.InsightArns","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.KeyBase","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.LookbackPeriodInDays","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.MaxResults","type":"number","esTypes":["integer"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.Metric","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.Metrics","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.NotificationConfiguration.QueueConfiguration.Id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.OnlyAssociated","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.PaymentOption","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.PredictionIntervalLevel","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.PublicAccessBlockConfiguration.BlockPublicAcls","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.PublicAccessBlockConfiguration.BlockPublicPolicy","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.PublicAccessBlockConfiguration.IgnorePublicAcls","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.PublicAccessBlockConfiguration.RestrictPublicBuckets","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.PublicAccessBlockConfiguration.xmlns","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.PutAccessPointPolicyRequest.Policy","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.PutAccessPointPolicyRequest.xmlns","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.RedirectUri","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.RefreshToken","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.ReplicationConfiguration.Role","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.ReplicationConfiguration.Rule.DeleteMarkerReplication.Status","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.ReplicationConfiguration.Rule.Destination.AccessControlTranslation.Owner","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.ReplicationConfiguration.Rule.Destination.Account","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.ReplicationConfiguration.Rule.Destination.Bucket","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.ReplicationConfiguration.Rule.Filter","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.ReplicationConfiguration.Rule.ID","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.ReplicationConfiguration.Rule.Priority","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.ReplicationConfiguration.Rule.Status","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.ReplicationConfiguration.xmlns","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.ResourceArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.SavingsPlansType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.ServerSideEncryptionConfiguration.Rule.ApplyServerSideEncryptionByDefault.SSEAlgorithm","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.ServerSideEncryptionConfiguration.xmlns","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.Service","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.ServiceSpecification.EC2Specification.OfferingClass","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.SortBy.Key","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.SortBy.SortOrder","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.SortCriteria.Field","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.SortCriteria.SortOrder","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.Tagging.TagSet.Tag.Key","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.Tagging.TagSet.Tag.Value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.TermInYears","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.TimePeriod.End","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.TimePeriod.Start","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.VersioningConfiguration.Status","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.VersioningConfiguration.xmlns","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.X-Amz-Algorithm","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.X-Amz-Date","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.X-Amz-Expires","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.X-Amz-SignedHeaders","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.aRN","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.aWSServiceName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.acceptedMediaTypes","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.accessKeyId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.accessPolicies","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.accountAttributeNameSet.items.attributeName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.accountId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.accountIds","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.action","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.actionsEnabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.advancedOptions.override_main_response_version","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.agentName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.agentStatus","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.agentVersion","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.aggregateField","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.alarmActions","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.alarmName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.alarmNames","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.alarmTypes","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.aliasName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.allRegions","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.allocationIdsSet.items.allocationId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.amazonProvidedIpv6CidrBlock","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.analyzerArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.analyzerName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.anomalyDetectorTypes","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.architectures","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.arn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.assessmentRunName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.assessmentTemplateArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.associationFilterList.key","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.associationFilterList.value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.associationId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.associationStatus.additionalInfo","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.associationStatus.date","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.associationStatus.message","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.associationStatus.name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.assumeRolePolicyDocument","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.attribute","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.attribute.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"requestParameters.attribute"}}},{"count":0,"name":"requestParameters.attributeName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.attributeValue","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.attributes.KmsDataKeyReusePeriodSeconds","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.attributes.KmsMasterKeyId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.attributes.MessageRetentionPeriod","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.attributes.RedrivePolicy","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.attributes.VisibilityTimeout","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.authParameters","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.authParameters.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"requestParameters.authParameters"}}},{"count":0,"name":"requestParameters.autoScalingGroupName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.automationExecutionId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.availabilityZone","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.blockDeviceMapping.items.deviceName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.blockDeviceMapping.items.ebs.deleteOnTermination","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.blockDeviceMapping.items.ebs.encrypted","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.blockDeviceMapping.items.ebs.iops","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.blockDeviceMapping.items.ebs.kmsKeyId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.blockDeviceMapping.items.ebs.snapshotId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.blockDeviceMapping.items.ebs.throughput","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.blockDeviceMapping.items.ebs.volumeSize","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.blockDeviceMapping.items.ebs.volumeType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.bucket","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.bucketName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.bucketPolicy.Id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.bucketPolicy.Statement","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.bucketPolicy.Statement.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"requestParameters.bucketPolicy.Statement"}}},{"count":0,"name":"requestParameters.bucketPolicy.Version","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.bypassPolicyLockoutSafetyCheck","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.capabilities","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.category","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.certificate.address","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.certificate.bigEndian","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.certificate.capacity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.certificate.hb","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.certificate.isReadOnly","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.certificate.limit","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.certificate.mark","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.certificate.nativeByteOrder","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.certificate.offset","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.certificate.position","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.certificateArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.certificateChain.address","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.certificateChain.bigEndian","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.certificateChain.capacity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.certificateChain.hb","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.certificateChain.isReadOnly","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.certificateChain.limit","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.certificateChain.mark","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.certificateChain.nativeByteOrder","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.certificateChain.offset","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.certificateChain.position","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.certificateStatuses","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.changeSetName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.checkId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.checkIds","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.cidrBlock","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.clientToken","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.cluster","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.clusterConfig.dedicatedMasterType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.clusterConfig.instanceCount","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.clusterConfig.instanceType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.clusterConfig.zoneAwarenessConfig.availabilityZoneCount","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.clusterStates","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.clusters","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.commandId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.comparisonOperator","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.complianceType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.complianceTypes","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.computerName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.configRule.configRuleArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.configRule.configRuleId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.configRule.configRuleName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.configRule.configRuleState","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.configRule.createdBy","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.configRule.description","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.configRule.inputParameters","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.configRule.scope.complianceResourceTypes","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.configRule.source.owner","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.configRule.source.sourceIdentifier","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.configRuleName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.configRuleNames","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.configuration.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false},{"count":0,"name":"requestParameters.configurationARN","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.configurationAggregatorName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.configurationRecorderNames","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.conformancePackName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.conformancePackNames","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.connectionArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.constraints.encryptionContextEquals.aws:acm:arn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.constraints.encryptionContextEquals.clientvpn:ap-east-1:arn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.constraints.encryptionContextSubset.aws:ebs:id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.constraints.encryptionContextSubset.aws:pi:service","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.constraints.encryptionContextSubset.aws:rds:db-id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.constraints.encryptionContextSubset.domainARN","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.constraints.encryptionContextSubset.service","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.containerOverrides.environment.value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.content","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.content.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"requestParameters.content"}}},{"count":0,"name":"requestParameters.continuation-token","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.currentDeliveryStreamVersionId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.customerMasterKeySpec","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.dBClusterSnapshotIdentifier","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.dBSnapshotIdentifier","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.dashboardBody","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.dashboardName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.dashboardNames","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.databaseName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.datapointsToAlarm","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.deadLetterConfig.targetArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.definition","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.delimiter","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.deliveryStreamName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.deliveryStreamType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.descending","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.description","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.destinationAAD","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.destinationArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.destinationCidrBlock","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.destinationEncryptionAlgorithm","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.destinationEncryptionContext.aws:acm:arn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.destinationEncryptionContext.aws:elasticloadbalancing:arn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.destinationEncryptionContext.clientvpn:ap-east-1:arn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.destinationId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.destinationKeyId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.detectorId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.disableApiStop","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.disableApiTermination","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.aliases.items","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.aliases.quantity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.cacheBehaviors.quantity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.callerReference","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.comment","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.customErrorResponses.quantity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.defaultCacheBehavior.allowedMethods.cachedMethods.items","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.defaultCacheBehavior.allowedMethods.cachedMethods.quantity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.defaultCacheBehavior.allowedMethods.items","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.defaultCacheBehavior.allowedMethods.quantity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.defaultCacheBehavior.compress","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.defaultCacheBehavior.defaultTTL","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.defaultCacheBehavior.forwardedValues.cookies.forward","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.defaultCacheBehavior.forwardedValues.headers.items","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.defaultCacheBehavior.forwardedValues.headers.quantity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.defaultCacheBehavior.forwardedValues.queryString","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.defaultCacheBehavior.forwardedValues.queryStringCacheKeys.quantity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.defaultCacheBehavior.functionAssociations.quantity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.defaultCacheBehavior.lambdaFunctionAssociations.quantity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.defaultCacheBehavior.maxTTL","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.defaultCacheBehavior.minTTL","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.defaultCacheBehavior.realtimeLogConfigArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.defaultCacheBehavior.smoothStreaming","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.defaultCacheBehavior.targetOriginId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.defaultCacheBehavior.trustedKeyGroups.enabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.defaultCacheBehavior.trustedKeyGroups.quantity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.defaultCacheBehavior.trustedSigners.enabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.defaultCacheBehavior.trustedSigners.quantity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.defaultCacheBehavior.viewerProtocolPolicy","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.enabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.httpVersion","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.isIPV6Enabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.logging.bucket","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.logging.enabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.logging.includeCookies","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.logging.prefix","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.originGroups.quantity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.origins.items.connectionAttempts","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.origins.items.connectionTimeout","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.origins.items.customHeaders.items.headerName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.origins.items.customHeaders.items.headerValue","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.origins.items.customHeaders.quantity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.origins.items.customOriginConfig.hTTPPort","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.origins.items.customOriginConfig.hTTPSPort","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.origins.items.customOriginConfig.originKeepaliveTimeout","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.origins.items.customOriginConfig.originProtocolPolicy","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.origins.items.customOriginConfig.originReadTimeout","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.origins.items.customOriginConfig.originSslProtocols.items","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.origins.items.customOriginConfig.originSslProtocols.quantity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.origins.items.domainName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.origins.items.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.origins.items.originAccessControlId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.origins.items.originPath","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.origins.items.originShield.enabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.origins.quantity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.priceClass","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.restrictions.geoRestriction.quantity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.restrictions.geoRestriction.restrictionType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.staging","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.viewerCertificate.aCMCertificateArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.viewerCertificate.certificate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.viewerCertificate.certificateSource","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.viewerCertificate.cloudFrontDefaultCertificate","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.viewerCertificate.minimumProtocolVersion","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.viewerCertificate.sSLSupportMethod","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionConfig.webACLId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.distributionId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.documentName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.documentVersion","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.domain","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.domainName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.domainNames","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.dryRun","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.durationSeconds","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.ebsOptimized","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.ebsOptimized.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"requestParameters.ebsOptimized"}}},{"count":0,"name":"requestParameters.enableDnsHostnames.value","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.encoding-type","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.encryptionAlgorithm","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.encryptionContext.aws-crypto-public-key","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.encryptionContext.aws:acm:arn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.encryptionContext.aws:cloudfront:arn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.encryptionContext.aws:cloudtrail:arn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.encryptionContext.aws:ebs:id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.encryptionContext.aws:elasticloadbalancing:arn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.encryptionContext.aws:lambda:FunctionArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.encryptionContext.aws:pi:service","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.encryptionContext.aws:rds:db-id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.encryptionContext.aws:rds:dbc-id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.encryptionContext.aws:s3:arn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.encryptionContext.aws:sqs:arn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.encryptionContext.clientvpn:ap-east-1:arn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.encryptionContext.clientvpn:ap-northeast-1:arn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.encryptionContext.domainARN","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.encryptionContext.service","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.endPoints.kinesisStreamConfig.roleARN","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.endPoints.kinesisStreamConfig.streamARN","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.endPoints.streamType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.endTime","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.engineType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.engineVersion","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.environmentVariablesOverride.name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.environmentVariablesOverride.type","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.environmentVariablesOverride.value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.ephemeralStorage.size","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.evaluationPeriods","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.evaluations.annotation","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.evaluations.complianceResourceId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.evaluations.complianceResourceType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.evaluations.complianceType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.evaluations.orderingTimestamp","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.eventBusName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.eventCategory","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.eventSourceArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.excludeAutoscalingAlarms","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.excludeManagedAlarms","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.executionArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.executionResult.executionDate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.executionResult.executionSummary","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.executionResult.status","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.executionSummary.executionId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.executionSummary.executionTime","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.executionSummary.executionType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.expression","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.extendedS3DestinationConfiguration.bucketARN","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.extendedS3DestinationConfiguration.bufferingHints.intervalInSeconds","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.extendedS3DestinationConfiguration.bufferingHints.sizeInMBs","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.extendedS3DestinationConfiguration.cloudWatchLoggingOptions.enabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.extendedS3DestinationConfiguration.cloudWatchLoggingOptions.logGroupName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.extendedS3DestinationConfiguration.cloudWatchLoggingOptions.logStreamName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.extendedS3DestinationConfiguration.compressionFormat","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.extendedS3DestinationConfiguration.dataFormatConversionConfiguration.enabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.extendedS3DestinationConfiguration.encryptionConfiguration.noEncryptionConfig","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.extendedS3DestinationConfiguration.prefix","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.extendedS3DestinationConfiguration.processingConfiguration.enabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.extendedS3DestinationConfiguration.roleARN","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.extendedS3DestinationConfiguration.s3BackupMode","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.extendedS3DestinationUpdate.bucketARN","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.extendedS3DestinationUpdate.bufferingHints.intervalInSeconds","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.extendedS3DestinationUpdate.bufferingHints.sizeInMBs","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.extendedS3DestinationUpdate.cloudWatchLoggingOptions.enabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.extendedS3DestinationUpdate.cloudWatchLoggingOptions.logGroupName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.extendedS3DestinationUpdate.cloudWatchLoggingOptions.logStreamName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.extendedS3DestinationUpdate.compressionFormat","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.extendedS3DestinationUpdate.dataFormatConversionConfiguration.enabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.extendedS3DestinationUpdate.encryptionConfiguration.noEncryptionConfig","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.extendedS3DestinationUpdate.prefix","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.extendedS3DestinationUpdate.processingConfiguration.enabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.extendedS3DestinationUpdate.roleARN","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.extendedS3DestinationUpdate.s3BackupMode","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.externalId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.fetch-owner","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.fields","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.fileSystemId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.filter","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.filter.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"requestParameters.filter"}}},{"count":0,"name":"requestParameters.filterBy.comparator","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.filterBy.key","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.filterBy.values","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.filterSet.items.name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.filterSet.items.valueSet.items.value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.filters.key","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.filters.name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.filters.values","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.findingCriteria.criterion.archived.eq","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.findingCriteria.criterion.category.eq","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.findingCriteria.criterion.service.action.networkConnectionAction.localPortDetails.port.eq","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.findingCriteria.criterion.service.action.networkConnectionAction.remotePortDetails.port.eq","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.findingCriteria.criterion.service.archived.eq","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.findingCriteria.criterion.updatedAt.gte","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.findingCriteria.criterion.updatedAt.lt","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.findingIds","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.findingStatisticTypes","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.firewallArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.firewallName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.firewallPolicyArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.forAccount","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.force","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.fullyQualifiedArn.arnPrefix.account","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.fullyQualifiedArn.arnPrefix.partition","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.fullyQualifiedArn.arnPrefix.region","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.fullyQualifiedArn.relativeId.functionName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.functionArns","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.functionName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.functionVersion","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.gatewayId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.gitCloneDepthOverride","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.granteePrincipal","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.granularity","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.groupBy","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.groupDescription","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.groupId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.groupName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.groupSet.items.groupId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.handler","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.hostedZoneId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.iPAddress","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.iamInstanceProfile","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.iamInstanceProfile.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"requestParameters.iamInstanceProfile"}}},{"count":0,"name":"requestParameters.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.identifier","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.ids","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.ifMatch","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.ignored","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.imageId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.imageIds.imageDigest","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.imageIds.imageTag","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.imagesSet.items.imageId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.include","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.includeAllInstances","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.includeBlacklistedFeatures","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.includeCommunications","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.includeDeletedResources","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.includeDeprecatedFeaturesAccess","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.includeDeprecatedRuntimeDetails","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.includeExecutionData","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.includePreviewFeatures","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.includePublic","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.includePublicKey","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.includeResolvedCases","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.includeShadowTrails","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.includeShared","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.includeUnreservedConcurrentExecutionsMinimum","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.includes.hasDnsFqdn","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.includes.keyTypes","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.input","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.instanceArns","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.instanceId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.instanceIds","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.instanceMarketOptions.marketType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.instanceMarketOptions.spotOptions.spotInstanceType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.instanceProfileName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.instanceTenancy","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.instanceType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.instanceType.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"requestParameters.instanceType"}}},{"count":0,"name":"requestParameters.instancesSet.item.instanceId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.instancesSet.items.imageId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.instancesSet.items.instanceId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.instancesSet.items.keyName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.instancesSet.items.maxCount","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.instancesSet.items.minCount","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.interactive","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.internetGatewayId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.internetGatewayIdSet.items.internetGatewayId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.ipPermissions.items.fromPort","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.ipPermissions.items.ipProtocol","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.ipPermissions.items.ipRanges.items.cidrIp","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.ipPermissions.items.toPort","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.ipv6AddressCount","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.itemContentHash","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.items.captureTime","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.items.contentHash","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.items.details.DetailedText","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.items.details.DocumentName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.items.details.DocumentVersion","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.items.details.PatchBaselineId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.items.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.items.schemaVersion","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.items.severity","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.items.status","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.items.title","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.items.typeName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.itemsPerPage","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.jobId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.jobStatuses","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.key","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.key-marker","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.keyId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.keyName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.keySpec","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.keyUsage","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.kinesisStreamSourceConfiguration.kinesisStreamARN","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.kinesisStreamSourceConfiguration.roleARN","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.language","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.laterTime","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.launchTemplate.launchTemplateId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.launchTemplate.version","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.layerDigest","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.layerName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.layers","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.limit","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.list-type","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.listenerArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.listenerArns","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.loadBalancerArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.loadBalancerArns","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.loadBalancerName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.loadBalancerNames","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.locale","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.logGroupName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.logGroupNamePrefix","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.logGroupNames","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.logStreamName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.logStreamNamePrefix","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.loggingConfiguration.destinations.cloudWatchLogsLogGroup.logGroupArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.loggingConfiguration.includeExecutionData","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.loggingConfiguration.level","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.lookupAttributes.attributeKey","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.lookupAttributes.attributeValue","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.map.caller","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.map.end","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.map.filter.map.expressions.myArrayList.map.expressions.myArrayList.map.comparison.map.attribute","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.map.filter.map.expressions.myArrayList.map.expressions.myArrayList.map.comparison.map.matchOption","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.map.filter.map.expressions.myArrayList.map.expressions.myArrayList.map.comparison.map.values.myArrayList","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.map.filter.map.expressions.myArrayList.map.expressions.myArrayList.map.expressions.myArrayList.map.comparison.map.attribute","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.map.filter.map.expressions.myArrayList.map.expressions.myArrayList.map.expressions.myArrayList.map.comparison.map.matchOption","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.map.filter.map.expressions.myArrayList.map.expressions.myArrayList.map.expressions.myArrayList.map.comparison.map.values.myArrayList","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.map.filter.map.expressions.myArrayList.map.expressions.myArrayList.map.logicalOperator","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.map.filter.map.expressions.myArrayList.map.logicalOperator","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.map.filter.map.logicalOperator","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.map.groupBy.myArrayList","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.map.limit","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.map.locale","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.map.month","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.map.payload.myArrayList","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.map.sort.map.order","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.map.start","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.map.timePeriod.map.endBillingPeriod.map.month","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.map.timePeriod.map.endBillingPeriod.map.year","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.map.timePeriod.map.startBillingPeriod.map.month","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.map.timePeriod.map.startBillingPeriod.map.year","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.map.timestamp","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.map.timestampInMilliseconds","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.map.usageType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.map.year","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.marker","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.masterRegion","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.max-keys","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.maxConcurrency","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.maxErrors","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.maxItems","type":"number","esTypes":["integer"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.maxRecords","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.maxResults","type":"number","esTypes":["integer"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.memorySize","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.metricName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.metrics","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.mode","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.monitoring.enabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.multiRegion","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.namePrefix","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.names","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.namespace","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.natGatewayId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.networkInterfaceId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.networkInterfaceIdSet.items.networkInterfaceId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.networkInterfaceSet.items.associatePublicIpAddress","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.networkInterfaceSet.items.deviceIndex","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.networkInterfaceSet.items.groupSet.items.groupId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.nextToken","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.notificationFilter.domainName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.numberOfBytes","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.onFailure","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.onlyAssociated","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.onlyAttached","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.operations","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.orderBy","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.origin","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.overrides.containerOverrides.environment.value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.ownersSet.items.owner","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.packageType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.pageSize","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.parameters.AutomationAssumeRole","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.parameters.ForceReplace","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.parameters.InstanceId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.parameters.IsPolicyAttachAllowed","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.parameters.RoleName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.parameters.archiveType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.parameters.branchName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.parameters.callbackToken","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.parameters.commitId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.parameters.destinationBucket","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.parameters.destinationBucketKey","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.parameters.fullRepositoryId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.parameters.maxBytes","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.parameters.normalizeArchive","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.parameters.parameterKey","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.parameters.sSEAlgorithm","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.parameters.value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.parentsOfAlarmName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.partNumber","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.partitionInput.lastAccessTime","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.partitionInput.storageDescriptor.columns.name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.partitionInput.storageDescriptor.columns.type","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.partitionInput.storageDescriptor.compressed","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.partitionInput.storageDescriptor.inputFormat","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.partitionInput.storageDescriptor.location","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.partitionInput.storageDescriptor.numberOfBuckets","type":"number","esTypes":["float"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.partitionInput.storageDescriptor.outputFormat","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.partitionInput.storageDescriptor.parameters.averageRecordSize","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.partitionInput.storageDescriptor.parameters.classification","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.partitionInput.storageDescriptor.parameters.compressionType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.partitionInput.storageDescriptor.parameters.objectCount","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.partitionInput.storageDescriptor.parameters.recordCount","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.partitionInput.storageDescriptor.parameters.sizeKey","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.partitionInput.storageDescriptor.parameters.typeOfData","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.partitionInput.storageDescriptor.serdeInfo.parameters.serialization.format","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.partitionInput.storageDescriptor.serdeInfo.serializationLibrary","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.partitionInput.storageDescriptor.storedAsSubDirectories","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.partitionInput.values","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.partitionInputList","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false},{"count":0,"name":"requestParameters.partitionValueList","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.partitionsToGet.values","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.passwordResetRequired","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.path","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.pathPrefix","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.pendingWindowInDays","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.performCheckOnly","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.period","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.permissionType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.physicalResourceId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.platformName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.platformType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.platformVersion","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.policy","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.policyArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.policyDocument","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.policyName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.policyType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.prefix","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.principal","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.principal.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"requestParameters.principal"}}},{"count":0,"name":"requestParameters.principalArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.privateDnsNameOptions.enableResourceNameDnsAAAARecord","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.privateDnsNameOptions.enableResourceNameDnsARecord","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.privateDnsNameOptions.hostnameType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.privateKey","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.projectName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.publicIpsSet.items.publicIp","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.publicKeyMaterial","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.publish","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.qualifier","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.queryId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.queryString","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.queueUrl","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.recommendationPreferences.cpuVendorArchitectures","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.recordPointer","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.reference.Commit","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.reference.FullRepositoryId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.referenceType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.registryId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.registryName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.repositoryName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.repositoryNames","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.requestContext.awsAccountId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.resolverRuleAssociationId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.resolverRuleId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.resource","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.resourceARN","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.resourceArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.resourceArns","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.resourceId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.resourceIdList","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.resourceKeys.resourceId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.resourceKeys.resourceType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.resourceName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.resourceOwner","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.resourceType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.resourceTypeFilters","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.resourcesPerPage","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.resourcesSet.items.resourceId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.response-content-disposition","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.result","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.result.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"requestParameters.result"}}},{"count":0,"name":"requestParameters.resultToken","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.retiringPrincipal","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.reverseOrder","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.role","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.roleArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.roleName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.roleSessionName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.routeTableId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.routeTableIdSet.items.routeTableId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.rule","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.ruleGroupArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.ruleGroupName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.runtime","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.s3Bucket","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.s3Key","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.s3ObjectVersion","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.samplingRate","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.scheduleExpression","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.scope","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.searchExpression.subExpressions.subExpressions.filters.value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.secretId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.securityGroupIdSet.items.groupId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.service","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.serviceName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.serviceNamespace","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.serviceNamespaces","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.services","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.setAsDefault","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.severity","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.shardCount","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.sharedUsersSet.items.user","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.showSubscriptionDestinations","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.size","type":"number","esTypes":["integer"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.snapshotId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.snapshotSet.items.snapshotId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.sort","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.sort.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"requestParameters.sort"}}},{"count":0,"name":"requestParameters.sortBy","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.sortBy.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"requestParameters.sortBy"}}},{"count":0,"name":"requestParameters.sortCriteria.attributeName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.sortCriteria.orderBy","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.sortOrder","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.source","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.source.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"requestParameters.source"}}},{"count":0,"name":"requestParameters.sourceAAD","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.sourceArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.sourceEncryptionAlgorithm","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.sourceEncryptionContext.aws:acm:arn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.sourceVersion","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.stackName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.stackStatusFilter","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.startDate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.startTime","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.state","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.stateMachineArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.statementId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.statistic","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.status","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.status.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"requestParameters.status"}}},{"count":0,"name":"requestParameters.streamARN","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.streamCreationTimestamp","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.streamModeDetails.streamMode","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.streamName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.subnetId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.subnetSet.items.subnetId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.subnets","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.subnets.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"requestParameters.subnets"}}},{"count":0,"name":"requestParameters.tableInput.isRowFilteringEnabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.tableInput.lastAccessTime","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.tableInput.name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.tableInput.owner","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.tableInput.parameters","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.tableInput.parameters.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"requestParameters.tableInput.parameters"}}},{"count":0,"name":"requestParameters.tableInput.partitionKeys.name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.tableInput.partitionKeys.type","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.tableInput.retention","type":"number","esTypes":["float"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.tableInput.storageDescriptor.columns.name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.tableInput.storageDescriptor.columns.type","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.tableInput.storageDescriptor.compressed","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.tableInput.storageDescriptor.inputFormat","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.tableInput.storageDescriptor.location","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.tableInput.storageDescriptor.numberOfBuckets","type":"number","esTypes":["float"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.tableInput.storageDescriptor.outputFormat","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.tableInput.storageDescriptor.parameters.CrawlerSchemaDeserializerVersion","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.tableInput.storageDescriptor.parameters.CrawlerSchemaSerializerVersion","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.tableInput.storageDescriptor.parameters.UPDATED_BY_CRAWLER","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.tableInput.storageDescriptor.parameters.averageRecordSize","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.tableInput.storageDescriptor.parameters.classification","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.tableInput.storageDescriptor.parameters.compressionType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.tableInput.storageDescriptor.parameters.exclusions","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.tableInput.storageDescriptor.parameters.objectCount","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.tableInput.storageDescriptor.parameters.recordCount","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.tableInput.storageDescriptor.parameters.sizeKey","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.tableInput.storageDescriptor.parameters.typeOfData","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.tableInput.storageDescriptor.serdeInfo.parameters.serialization.format","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.tableInput.storageDescriptor.serdeInfo.serializationLibrary","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.tableInput.storageDescriptor.storedAsSubDirectories","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.tableInput.tableType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.tableName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.tagSet.items.key","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.tagSet.items.value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.tagSpecificationSet.items.resourceType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.tagSpecificationSet.items.tags.key","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.tagSpecificationSet.items.tags.value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.tags.value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.tagsPerPage","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.target","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.target.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"requestParameters.target"}}},{"count":0,"name":"requestParameters.targetGroupArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.targetGroupArns","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.targetKeyId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.targetParameterName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.targetVersion","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.targets.arn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.targets.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.targets.key","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.targets.port","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.targets.values","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.taskDefinition","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.taskName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.template","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.templateBody","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.templateURL","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.testMode","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.threshold","type":"number","esTypes":["float"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.timeRange","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.timeout","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.timeoutInMinutesOverride","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.timeoutSeconds","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.title","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.topicArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.tracingConfig.mode","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.trailName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.treatMissingData","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.type","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.typeName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.uploadId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.uploadType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.usageCriteria.accountIds","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.usageCriteria.dataSources","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.usageStatisticsType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.usePreviousTemplate","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.userName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.validatePolicyResourceType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.version-id-marker","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.versionId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.versionNumber","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.volumeId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.volumeSet.items.volumeId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.vpc","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.vpcId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.vpcSet.items.vpcId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.workGroup","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.workspaceIds","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.x-amz-acl","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.x-amz-server-side-encryption","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.x-amz-server-side-encryption-aws-kms-key-id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.x-amz-server-side-encryption-context","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.x-amz-storage-class","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"requestParameters.x-amz-version-id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"resources.ARN","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"resources.ARNPrefix","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"resources.accountId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"resources.type","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.AssociateClientVpnTargetNetworkResponse.associationId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.AssociateClientVpnTargetNetworkResponse.requestId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.AssociateClientVpnTargetNetworkResponse.status.code","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.AssociateClientVpnTargetNetworkResponse.xmlns","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.AssociateIamInstanceProfileResponse.iamInstanceProfileAssociation.associationId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.AssociateIamInstanceProfileResponse.iamInstanceProfileAssociation.iamInstanceProfile.arn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.AssociateIamInstanceProfileResponse.iamInstanceProfileAssociation.iamInstanceProfile.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.AssociateIamInstanceProfileResponse.iamInstanceProfileAssociation.instanceId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.AssociateIamInstanceProfileResponse.iamInstanceProfileAssociation.state","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.AssociateIamInstanceProfileResponse.requestId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.AssociateIamInstanceProfileResponse.xmlns","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.AuthorizeClientVpnIngressResponse.requestId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.AuthorizeClientVpnIngressResponse.status.code","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.AuthorizeClientVpnIngressResponse.xmlns","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CheckMfa","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.ConsoleLogin","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateClientVpnEndpointResponse.clientVpnEndpointId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateClientVpnEndpointResponse.dnsName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateClientVpnEndpointResponse.requestId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateClientVpnEndpointResponse.status.code","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateClientVpnEndpointResponse.xmlns","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateClientVpnRouteResponse.requestId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateClientVpnRouteResponse.status.code","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateClientVpnRouteResponse.xmlns","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateFleetResponse.fleetId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateFleetResponse.fleetInstanceSet.item.instanceIds.item","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateFleetResponse.fleetInstanceSet.item.instanceType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateFleetResponse.fleetInstanceSet.item.launchTemplateAndOverrides.launchTemplateSpecification.launchTemplateId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateFleetResponse.fleetInstanceSet.item.launchTemplateAndOverrides.launchTemplateSpecification.version","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateFleetResponse.fleetInstanceSet.item.launchTemplateAndOverrides.overrides.availabilityZone","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateFleetResponse.fleetInstanceSet.item.launchTemplateAndOverrides.overrides.instanceType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateFleetResponse.fleetInstanceSet.item.launchTemplateAndOverrides.overrides.priority","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateFleetResponse.fleetInstanceSet.item.launchTemplateAndOverrides.overrides.subnetId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateFleetResponse.fleetInstanceSet.item.lifecycle","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateFleetResponse.requestId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateFleetResponse.xmlns","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateFlowLogsResponse.clientToken","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateFlowLogsResponse.flowLogIdSet.item","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateFlowLogsResponse.requestId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateFlowLogsResponse.xmlns","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateLaunchTemplateVersionResponse.launchTemplateVersion.launchTemplateData.tagSpecificationSet.item.tagSet.item.value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateNatGatewayResponse.clientToken","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateNatGatewayResponse.natGateway.connectivityType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateNatGatewayResponse.natGateway.createTime","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateNatGatewayResponse.natGateway.natGatewayAddressSet.item.allocationId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateNatGatewayResponse.natGateway.natGatewayId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateNatGatewayResponse.natGateway.state","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateNatGatewayResponse.natGateway.subnetId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateNatGatewayResponse.natGateway.tagSet.item.key","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateNatGatewayResponse.natGateway.tagSet.item.value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateNatGatewayResponse.natGateway.vpcId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateNatGatewayResponse.requestId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateNatGatewayResponse.xmlns","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateNetworkInterfacePermissionResponse.interfacePermission.awsAccountId","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateNetworkInterfacePermissionResponse.interfacePermission.networkInterfaceId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateNetworkInterfacePermissionResponse.interfacePermission.networkInterfacePermissionId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateNetworkInterfacePermissionResponse.interfacePermission.permission","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateNetworkInterfacePermissionResponse.interfacePermission.permissionState.state","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateNetworkInterfacePermissionResponse.requestId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateNetworkInterfacePermissionResponse.xmlns","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateSnapshotsResponse.snapshotSet.item.tagSet.item.value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.CreateVpcEndpointResponse.vpcEndpoint.tagSet.item.value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.DeleteFlowLogsResponse.requestId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.DeleteFlowLogsResponse.xmlns","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.EnvironmentId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.ExportClientVpnClientConfigurationResponse.clientConfiguration","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.ExportClientVpnClientConfigurationResponse.requestId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.ExportClientVpnClientConfigurationResponse.xmlns","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.RenewRole","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.SessionId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.StartScreenMessages.content","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.StartScreenMessages.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.StartScreenMessages.link.text","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.StartScreenMessages.link.url","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.StartScreenMessages.type","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.Status","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.StreamUrl","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.SwitchRole","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.TokenValue","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements._return","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.advancedOptions.override_main_response_version","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.advancedOptions.rest.action.multi.allow_explicit_index","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.allocationId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.approximateNumberOfMessagesMoved","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.architectures","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.associationId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.associationState.state","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.assumedRoleUser.arn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.assumedRoleUser.assumedRoleId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.automationExecutionId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.availabilityZones","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.arn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.artifacts.encryptionDisabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.artifacts.location","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.artifacts.overrideArtifactName","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.buildComplete","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.buildNumber","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.buildStatus","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.cache.type","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.currentPhase","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.encryptionKey","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.endTime","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.environment.computeType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.environment.environmentVariables.name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.environment.environmentVariables.type","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.environment.environmentVariables.value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.environment.image","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.environment.imagePullCredentialsType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.environment.privilegedMode","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.environment.type","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.initiator","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.logs.cloudWatchLogs.status","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.logs.cloudWatchLogsArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.logs.deepLink","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.logs.groupName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.logs.s3Logs.encryptionDisabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.logs.s3Logs.status","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.logs.streamName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.phases.contexts.message","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.phases.contexts.statusCode","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.phases.durationInSeconds","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.phases.endTime","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.phases.phaseStatus","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.phases.phaseType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.phases.startTime","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.projectName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.queuedTimeoutInMinutes","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.resolvedSourceVersion","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.serviceRole","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.source.buildspec","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.source.gitCloneDepth","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.source.gitSubmodulesConfig.fetchSubmodules","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.source.insecureSsl","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.source.location","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.source.reportBuildStatus","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.source.type","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.sourceVersion","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.startTime","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.build.timeoutInMinutes","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.certificateArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.codeSha256","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.codeSize","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.command.cloudWatchOutputConfig.cloudWatchOutputEnabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.command.commandId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.command.completedCount","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.command.deliveryTimedOutCount","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.command.documentName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.command.documentVersion","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.command.errorCount","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.command.expiresAfter","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.command.interactive","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.command.maxConcurrency","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.command.maxErrors","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.command.outputS3Region","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.command.parameters","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.command.requestedDateTime","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.command.status","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.command.statusDetails","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.command.targetCount","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.command.targets.key","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.command.targets.values","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.command.timeoutSeconds","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.conformancePackArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.createTime","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.createdDate","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.credentials.accessKeyId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.credentials.expiration","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.credentials.sessionToken","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.dBClusterSnapshotAttributes.attributeName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.dBClusterSnapshotIdentifier","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.dBSnapshotAttributes.attributeName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.dBSnapshotIdentifier","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.dBSubnetGroup","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.dBSubnetGroup.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"responseElements.dBSubnetGroup"}}},{"count":0,"name":"responseElements.dashboardEntries.dashboardArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.dashboardEntries.dashboardName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.dashboardEntries.lastModified","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.dashboardEntries.size","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.data","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.deadLetterConfig.targetArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.deletionDate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.deliveryStreamARN","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.description","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.description.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"responseElements.description"}}},{"count":0,"name":"responseElements.destinationArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.aRN","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.activeTrustedKeyGroups.enabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.activeTrustedKeyGroups.quantity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.activeTrustedSigners.enabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.activeTrustedSigners.quantity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.aliasICPRecordals.cNAME","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.aliasICPRecordals.iCPRecordalStatus","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.aliases.items","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.aliases.quantity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.cacheBehaviors.quantity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.callerReference","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.comment","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.customErrorResponses.quantity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.defaultCacheBehavior.allowedMethods.cachedMethods.items","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.defaultCacheBehavior.allowedMethods.cachedMethods.quantity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.defaultCacheBehavior.allowedMethods.items","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.defaultCacheBehavior.allowedMethods.quantity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.defaultCacheBehavior.compress","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.defaultCacheBehavior.defaultTTL","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.defaultCacheBehavior.forwardedValues.cookies.forward","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.defaultCacheBehavior.forwardedValues.headers.items","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.defaultCacheBehavior.forwardedValues.headers.quantity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.defaultCacheBehavior.forwardedValues.queryString","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.defaultCacheBehavior.forwardedValues.queryStringCacheKeys.quantity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.defaultCacheBehavior.functionAssociations.quantity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.defaultCacheBehavior.lambdaFunctionAssociations.quantity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.defaultCacheBehavior.maxTTL","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.defaultCacheBehavior.minTTL","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.defaultCacheBehavior.realtimeLogConfigArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.defaultCacheBehavior.smoothStreaming","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.defaultCacheBehavior.targetOriginId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.defaultCacheBehavior.trustedKeyGroups.enabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.defaultCacheBehavior.trustedKeyGroups.quantity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.defaultCacheBehavior.trustedSigners.enabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.defaultCacheBehavior.trustedSigners.quantity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.defaultCacheBehavior.viewerProtocolPolicy","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.enabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.httpVersion","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.isIPV6Enabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.logging.bucket","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.logging.enabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.logging.includeCookies","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.logging.prefix","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.originGroups.quantity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.origins.items.connectionAttempts","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.origins.items.connectionTimeout","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.origins.items.customHeaders.items.headerName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.origins.items.customHeaders.items.headerValue","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.origins.items.customHeaders.quantity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.origins.items.customOriginConfig.hTTPPort","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.origins.items.customOriginConfig.hTTPSPort","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.origins.items.customOriginConfig.originKeepaliveTimeout","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.origins.items.customOriginConfig.originProtocolPolicy","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.origins.items.customOriginConfig.originReadTimeout","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.origins.items.customOriginConfig.originSslProtocols.items","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.origins.items.customOriginConfig.originSslProtocols.quantity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.origins.items.domainName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.origins.items.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.origins.items.originAccessControlId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.origins.items.originPath","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.origins.items.originShield.enabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.origins.quantity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.priceClass","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.restrictions.geoRestriction.quantity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.restrictions.geoRestriction.restrictionType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.staging","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.viewerCertificate.aCMCertificateArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.viewerCertificate.certificate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.viewerCertificate.certificateSource","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.viewerCertificate.cloudFrontDefaultCertificate","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.viewerCertificate.minimumProtocolVersion","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.viewerCertificate.sSLSupportMethod","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.distributionConfig.webACLId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.domainName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.inProgressInvalidationBatches","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.lastModifiedTime","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.distribution.status","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domain","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.accessPolicies.options","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.accessPolicies.status.creationDate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.accessPolicies.status.pendingDeletion","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.accessPolicies.status.state","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.accessPolicies.status.updateDate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.accessPolicies.status.updateVersion","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.advancedOptions.options.override_main_response_version","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.advancedOptions.options.rest.action.multi.allow_explicit_index","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.advancedOptions.status.creationDate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.advancedOptions.status.pendingDeletion","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.advancedOptions.status.state","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.advancedOptions.status.updateDate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.advancedOptions.status.updateVersion","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.advancedSecurityOptions.options.enabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.advancedSecurityOptions.options.internalUserDatabaseEnabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.advancedSecurityOptions.status.creationDate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.advancedSecurityOptions.status.pendingDeletion","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.advancedSecurityOptions.status.state","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.advancedSecurityOptions.status.updateDate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.advancedSecurityOptions.status.updateVersion","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.autoTuneOptions.options.desiredState","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.autoTuneOptions.options.maintenanceSchedules.cronExpressionForRecurrence","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.autoTuneOptions.options.maintenanceSchedules.duration.unit","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.autoTuneOptions.options.maintenanceSchedules.duration.value","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.autoTuneOptions.options.maintenanceSchedules.startAt","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.autoTuneOptions.options.rollbackOnDisable","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.autoTuneOptions.status.creationDate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.autoTuneOptions.status.pendingDeletion","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.autoTuneOptions.status.state","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.autoTuneOptions.status.updateDate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.autoTuneOptions.status.updateVersion","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.changeProgressDetails.changeId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.clusterConfig.options.coldStorageOptions.enabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.clusterConfig.options.dedicatedMasterCount","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.clusterConfig.options.dedicatedMasterEnabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.clusterConfig.options.dedicatedMasterType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.clusterConfig.options.instanceCount","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.clusterConfig.options.instanceType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.clusterConfig.options.warmCount","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.clusterConfig.options.warmEnabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.clusterConfig.options.warmStorage","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.clusterConfig.options.warmType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.clusterConfig.options.zoneAwarenessConfig.availabilityZoneCount","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.clusterConfig.options.zoneAwarenessEnabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.clusterConfig.status.creationDate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.clusterConfig.status.pendingDeletion","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.clusterConfig.status.state","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.clusterConfig.status.updateDate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.clusterConfig.status.updateVersion","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.cognitoOptions.options.enabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.cognitoOptions.status.creationDate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.cognitoOptions.status.pendingDeletion","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.cognitoOptions.status.state","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.cognitoOptions.status.updateDate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.cognitoOptions.status.updateVersion","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.domainEndpointOptions.options.customEndpointEnabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.domainEndpointOptions.options.enforceHTTPS","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.domainEndpointOptions.options.tLSSecurityPolicy","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.domainEndpointOptions.status.creationDate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.domainEndpointOptions.status.pendingDeletion","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.domainEndpointOptions.status.state","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.domainEndpointOptions.status.updateDate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.domainEndpointOptions.status.updateVersion","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.eBSOptions.options.eBSEnabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.eBSOptions.options.iops","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.eBSOptions.options.throughput","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.eBSOptions.options.volumeSize","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.eBSOptions.options.volumeType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.eBSOptions.status.creationDate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.eBSOptions.status.pendingDeletion","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.eBSOptions.status.state","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.eBSOptions.status.updateDate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.eBSOptions.status.updateVersion","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.encryptionAtRestOptions.options.enabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.encryptionAtRestOptions.options.kmsKeyId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.encryptionAtRestOptions.status.creationDate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.encryptionAtRestOptions.status.pendingDeletion","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.encryptionAtRestOptions.status.state","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.encryptionAtRestOptions.status.updateDate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.encryptionAtRestOptions.status.updateVersion","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.engineVersion.options","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.engineVersion.status.creationDate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.engineVersion.status.pendingDeletion","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.engineVersion.status.state","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.engineVersion.status.updateDate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.engineVersion.status.updateVersion","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.logPublishingOptions.options.AUDIT_LOGS.cloudWatchLogsLogGroupArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.logPublishingOptions.options.AUDIT_LOGS.enabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.logPublishingOptions.options.ES_APPLICATION_LOGS.cloudWatchLogsLogGroupArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.logPublishingOptions.options.ES_APPLICATION_LOGS.enabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.logPublishingOptions.options.INDEX_SLOW_LOGS.cloudWatchLogsLogGroupArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.logPublishingOptions.options.INDEX_SLOW_LOGS.enabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.logPublishingOptions.options.SEARCH_SLOW_LOGS.cloudWatchLogsLogGroupArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.logPublishingOptions.options.SEARCH_SLOW_LOGS.enabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.logPublishingOptions.status.creationDate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.logPublishingOptions.status.pendingDeletion","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.logPublishingOptions.status.state","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.logPublishingOptions.status.updateDate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.logPublishingOptions.status.updateVersion","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.nodeToNodeEncryptionOptions.options.enabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.nodeToNodeEncryptionOptions.status.creationDate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.nodeToNodeEncryptionOptions.status.pendingDeletion","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.nodeToNodeEncryptionOptions.status.state","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.nodeToNodeEncryptionOptions.status.updateDate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.nodeToNodeEncryptionOptions.status.updateVersion","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.snapshotOptions.options.automatedSnapshotStartHour","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.snapshotOptions.status.creationDate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.snapshotOptions.status.pendingDeletion","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.snapshotOptions.status.state","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.snapshotOptions.status.updateDate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.snapshotOptions.status.updateVersion","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.vPCOptions.status.creationDate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.vPCOptions.status.pendingDeletion","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.vPCOptions.status.state","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.vPCOptions.status.updateDate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainConfig.vPCOptions.status.updateVersion","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.domainName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.eTag","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.encrypted","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.endpoint","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.endpoint.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"responseElements.endpoint"}}},{"count":0,"name":"responseElements.ephemeralStorage.size","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.errors.partitionValues","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.executionArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.failedEntryCount","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.functionArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.functionName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.grantId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.groupId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.handler","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.imageId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instanceId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.amiLaunchIndex","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.architecture","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.capacityReservationSpecification.capacityReservationPreference","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.clientToken","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.cpuOptions.coreCount","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.cpuOptions.threadsPerCore","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.currentState.code","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.currentState.name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.ebsOptimized","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.enaSupport","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.enclaveOptions.enabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.groupSet.items.groupId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.groupSet.items.groupName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.hypervisor","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.iamInstanceProfile.arn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.iamInstanceProfile.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.imageId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.instanceId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.instanceLifecycle","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.instanceState.code","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.instanceState.name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.instanceType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.keyName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.launchTime","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.maintenanceOptions.autoRecovery","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.metadataOptions.httpEndpoint","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.metadataOptions.httpProtocolIpv4","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.metadataOptions.httpProtocolIpv6","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.metadataOptions.httpPutResponseHopLimit","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.metadataOptions.httpTokens","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.metadataOptions.instanceMetadataTags","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.metadataOptions.state","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.monitoring.state","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.networkInterfaceSet.items.attachment.attachTime","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.networkInterfaceSet.items.attachment.attachmentId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.networkInterfaceSet.items.attachment.deleteOnTermination","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.networkInterfaceSet.items.attachment.deviceIndex","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.networkInterfaceSet.items.attachment.networkCardIndex","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.networkInterfaceSet.items.attachment.status","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.networkInterfaceSet.items.groupSet.items.groupId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.networkInterfaceSet.items.groupSet.items.groupName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.networkInterfaceSet.items.interfaceType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.networkInterfaceSet.items.macAddress","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.networkInterfaceSet.items.networkInterfaceId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.networkInterfaceSet.items.ownerId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.networkInterfaceSet.items.privateDnsName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.networkInterfaceSet.items.privateIpAddress","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.networkInterfaceSet.items.privateIpAddressesSet.item.primary","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.networkInterfaceSet.items.privateIpAddressesSet.item.privateDnsName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.networkInterfaceSet.items.privateIpAddressesSet.item.privateIpAddress","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.networkInterfaceSet.items.sourceDestCheck","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.networkInterfaceSet.items.status","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.networkInterfaceSet.items.subnetId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.networkInterfaceSet.items.vpcId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.placement.availabilityZone","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.placement.tenancy","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.platform","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.previousState.code","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.previousState.name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.privateDnsName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.privateDnsNameOptions.enableResourceNameDnsAAAARecord","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.privateDnsNameOptions.enableResourceNameDnsARecord","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.privateDnsNameOptions.hostnameType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.privateIpAddress","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.rootDeviceName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.rootDeviceType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.sourceDestCheck","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.spotInstanceRequestId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.stateReason.code","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.stateReason.message","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.subnetId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.tagSet.items.key","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.tagSet.items.value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.virtualizationType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.instancesSet.items.vpcId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.internetGateway.internetGatewayId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.internetGateway.ownerId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.internetGateway.tagSet.items.key","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.internetGateway.tagSet.items.value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.isElasticsearchDomain","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.isOpenSearchDomain","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.isTruncated","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.keyFingerprint","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.keyId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.keyMetadata.aWSAccountId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.keyMetadata.arn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.keyMetadata.creationDate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.keyMetadata.customerMasterKeySpec","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.keyMetadata.enabled","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.keyMetadata.encryptionAlgorithms","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.keyMetadata.keyId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.keyMetadata.keyManager","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.keyMetadata.keySpec","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.keyMetadata.keyState","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.keyMetadata.keyUsage","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.keyMetadata.multiRegion","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.keyMetadata.origin","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.keyName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.keyPairId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.keyState","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.lastEvaluatedAt","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.lastModified","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.lastUpdateStatus","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.lastUpdateStatusReason","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.lastUpdateStatusReasonCode","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.lastUpdatedDate","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.layers.arn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.layers.codeSize","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.layers.uncompressedCodeSize","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.lifecyclePolicyText","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.loginProfile.createDate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.loginProfile.passwordResetRequired","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.loginProfile.userName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.memorySize","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.multiAZ","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.networkBorderGroup","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.networkInterface.availabilityZone","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.networkInterface.description","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.networkInterface.groupSet.items.groupId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.networkInterface.groupSet.items.groupName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.networkInterface.interfaceType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.networkInterface.macAddress","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.networkInterface.networkInterfaceId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.networkInterface.ownerId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.networkInterface.privateDnsName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.networkInterface.privateIpAddress","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.networkInterface.privateIpAddressesSet.item.primary","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.networkInterface.privateIpAddressesSet.item.privateDnsName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.networkInterface.privateIpAddressesSet.item.privateIpAddress","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.networkInterface.requesterId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.networkInterface.requesterManaged","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.networkInterface.sourceDestCheck","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.networkInterface.status","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.networkInterface.subnetId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.networkInterface.tagSet.items.value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.networkInterface.vpcId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.nextToken","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.notificationFilter.domainName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.notifications.description","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.notifications.domains","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.notifications.eventName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.notifications.mergedNotification","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.notifications.notificationId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.notifications.notificationMetadataMap.automatedUpdateDate","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.notifications.notificationMetadataMap.event","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.notifications.notificationMetadataMap.severity","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.notifications.notificationMetadataMap.status","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.notifications.status","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.notifications.time","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.ownerId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.packageType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.packedPolicySize","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.pendingWindowInDays","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.performCheckOnly","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.policy.arn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.policy.attachmentCount","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.policy.createDate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.policy.defaultVersionId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.policy.isAttachable","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.policy.path","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.policy.policyId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.policy.policyName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.policy.updateDate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.policy.value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.policy.value.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"responseElements.policy.value"}}},{"count":0,"name":"responseElements.policyVersion.createDate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.policyVersion.document","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.policyVersion.isDefaultVersion","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.policyVersion.versionId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.product","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.publicIp","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.publicIpv4Pool","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.queryId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.realtimeLogConfig.aRN","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.realtimeLogConfig.endPoints.kinesisStreamConfig.roleARN","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.realtimeLogConfig.endPoints.kinesisStreamConfig.streamARN","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.realtimeLogConfig.endPoints.streamType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.realtimeLogConfig.fields","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.realtimeLogConfig.name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.realtimeLogConfig.samplingRate","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.registryId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.repositoryName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.requestId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.requesterId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.reservationId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.responseParameters.method.response.header.Access-Control-Allow-Headers","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.responseParameters.method.response.header.Access-Control-Allow-Methods","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.responseParameters.method.response.header.Access-Control-Allow-Origin","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.revisionId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.role","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.role.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"responseElements.role"}}},{"count":0,"name":"responseElements.routeTable.ownerId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.routeTable.routeSet.items.destinationCidrBlock","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.routeTable.routeSet.items.gatewayId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.routeTable.routeSet.items.origin","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.routeTable.routeSet.items.state","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.routeTable.routeTableId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.routeTable.tagSet.items.key","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.routeTable.tagSet.items.value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.routeTable.vpcId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.ruleArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.runtime","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.securityGroupRuleSet.items.cidrIpv4","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.securityGroupRuleSet.items.fromPort","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.securityGroupRuleSet.items.groupId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.securityGroupRuleSet.items.groupOwnerId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.securityGroupRuleSet.items.ipProtocol","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.securityGroupRuleSet.items.isEgress","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.securityGroupRuleSet.items.securityGroupRuleId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.securityGroupRuleSet.items.toPort","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.snapshotDownloadUrl","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.snapshotId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.sourceArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.stackId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.startDate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.startTime","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.state","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.stateReason","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.stateReasonCode","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.statement","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.status.status","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.subnet.assignIpv6AddressOnCreation","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.subnet.availabilityZone","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.subnet.availabilityZoneId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.subnet.availableIpAddressCount","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.subnet.cidrBlock","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.subnet.defaultForAz","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.subnet.enableDns64","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.subnet.ipv6Native","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.subnet.mapPublicIpOnLaunch","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.subnet.ownerId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.subnet.privateDnsNameOptionsOnLaunch.enableResourceNameDnsAAAARecord","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.subnet.privateDnsNameOptionsOnLaunch.enableResourceNameDnsARecord","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.subnet.privateDnsNameOptionsOnLaunch.hostnameType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.subnet.state","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.subnet.subnetArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.subnet.subnetId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.subnet.tagSet.items.key","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.subnet.tagSet.items.value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.subnet.vpcId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.subnets","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.subnets.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"responseElements.subnets"}}},{"count":0,"name":"responseElements.success","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.targetVersion","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.taskName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.tasks.overrides.containerOverrides.environment.value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.timeout","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.tracingConfig.mode","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.updateDate","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.upgradeId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.version","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.volumeId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.volumeSize","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.vpc.cidrBlock","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.vpc.cidrBlockAssociationSet.items.associationId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.vpc.cidrBlockAssociationSet.items.cidrBlock","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.vpc.cidrBlockAssociationSet.items.cidrBlockState.state","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.vpc.dhcpOptionsId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.vpc.instanceTenancy","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.vpc.isDefault","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.vpc.ownerId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.vpc.state","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.vpc.tagSet.items.key","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.vpc.tagSet.items.value","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.vpc.vpcId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.workspaces.bundleId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.workspaces.computerName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.workspaces.directoryId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.workspaces.ipAddress","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.workspaces.state","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.workspaces.subnetId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.workspaces.userName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.workspaces.userRealm","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.workspaces.workspaceId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.workspaces.workspaceProperties.computeTypeName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.workspaces.workspaceProperties.recycleMode","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.workspaces.workspaceProperties.rootVolumeSizeGib","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.workspaces.workspaceProperties.runningMode","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.workspaces.workspaceProperties.runningModeAutoStopTimeoutInMinutes","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.workspaces.workspaceProperties.userVolumeSizeGib","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.workspacesConnectionStatus.connectionState","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.workspacesConnectionStatus.connectionStateCheckTimestamp","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.workspacesConnectionStatus.lastKnownUserConnectionTimestamp","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.workspacesConnectionStatus.workspaceId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.x-amz-delete-marker","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.x-amz-expiration","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.x-amz-server-side-encryption","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.x-amz-server-side-encryption-aws-kms-key-id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.x-amz-server-side-encryption-context","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.x-amz-storage-class","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"responseElements.x-amz-version-id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"rule.author","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"rule.category","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"rule.description","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"rule.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"rule.name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"rule.uuid","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"rule.version","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"service.ephemeral_id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"service.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"service.version","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"serviceEventDetails.eventRequestDetails","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"serviceEventDetails.eventRequestDetails.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"serviceEventDetails.eventRequestDetails"}}},{"count":0,"name":"serviceEventDetails.failureCodes","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"serviceEventDetails.instanceIdSet","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"serviceEventDetails.jobArn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"serviceEventDetails.jobEventId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"serviceEventDetails.jobId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"serviceEventDetails.keyId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"serviceEventDetails.lifecycleEventPolicy.lastEvaluatedAt","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"serviceEventDetails.lifecycleEventPolicy.lifecycleEventRules.action","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"serviceEventDetails.lifecycleEventPolicy.lifecycleEventRules.description","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"serviceEventDetails.lifecycleEventPolicy.lifecycleEventRules.lifecycleEventSelection.countNumber","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"serviceEventDetails.lifecycleEventPolicy.lifecycleEventRules.lifecycleEventSelection.countType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"serviceEventDetails.lifecycleEventPolicy.lifecycleEventRules.lifecycleEventSelection.tagStatus","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"serviceEventDetails.lifecycleEventPolicy.lifecycleEventRules.rulePriority","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"serviceEventDetails.lifecycleEventPolicy.policyId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"serviceEventDetails.lifecycleEventPolicy.policyVersion","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"serviceEventDetails.permissions.ClientMount","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"serviceEventDetails.permissions.ClientRootAccess","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"serviceEventDetails.permissions.ClientWrite","type":"boolean","esTypes":["boolean"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"serviceEventDetails.repositoryName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"serviceEventDetails.snapshotId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"serviceEventDetails.sourceIpAddress","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"serviceEventDetails.status","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"serviceEventDetails.statusChangeReason","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"sessionCredentialFromConsole","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"sharedEventID","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":1,"name":"source.address","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"source.as.number","type":"number","esTypes":["integer"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"source.as.organization.name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"source.bytes","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"source.geo.city_name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"source.geo.country_iso_code","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"source.geo.country_name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"source.geo.location","type":"geo_point","esTypes":["geo_point"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"source.ip","type":"ip","esTypes":["ip"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"source.nat.ip","type":"ip","esTypes":["ip"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"source.nat.port","type":"number","esTypes":["integer"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"source.packets","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"source.port","type":"number","esTypes":["integer"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"sourceIPAddress","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"span.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"threat.enrichments.indicator.confidence","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.indicator.description","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.indicator.email.address","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.indicator.first_seen","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.indicator.ip","type":"ip","esTypes":["ip"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.indicator.last_seen","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.indicator.marking.tlp","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.indicator.modified_at","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.indicator.name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.indicator.port","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.indicator.provider","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.indicator.reference","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.indicator.scanner_stats","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.indicator.sightings","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.indicator.type","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.matched.atomic","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.matched.field","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.matched.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.matched.index","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.matched.occurred","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.matched.type","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":10,"name":"threat.matched.indicators","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"threat.matched.names","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"threat.matched.providers","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"threat.matched.types","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"tlsDetails.cipherSuite","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"tlsDetails.clientProvidedHostHeader","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"tlsDetails.tlsVersion","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"trace.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"transaction.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"url.full","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"url.full.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"url.full"}}},{"count":0,"name":"url.original","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"url.original.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"url.original"}}},{"count":10,"name":"url.port","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"user.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"user.name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"user.roles","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"userAgent","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"userIdentity.accessKeyId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"userIdentity.accountId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"userIdentity.arn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"userIdentity.invokedBy","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"userIdentity.principalId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"userIdentity.sessionContext.attributes.creationDate","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"userIdentity.sessionContext.attributes.mfaAuthenticated","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"userIdentity.sessionContext.ec2RoleDelivery","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"userIdentity.sessionContext.sessionIssuer.accountId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"userIdentity.sessionContext.sessionIssuer.arn","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"userIdentity.sessionContext.sessionIssuer.principalId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"userIdentity.sessionContext.sessionIssuer.type","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"userIdentity.sessionContext.sessionIssuer.userName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"userIdentity.type","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"userIdentity.userName","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"user_agent.device.name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"user_agent.name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"user_agent.original","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"user_agent.original.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"user_agent.original"}}},{"count":0,"name":"user_agent.os.family","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"user_agent.os.family.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"user_agent.os.family"}}},{"count":0,"name":"user_agent.os.full","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"user_agent.os.kernel","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"user_agent.os.name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"user_agent.os.name.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"user_agent.os.name"}}},{"count":0,"name":"user_agent.os.platform","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"user_agent.os.type","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"user_agent.os.version","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"user_agent.version","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"vlan.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"vpcEndpointId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"vulnerability.category","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"vulnerability.classification","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"vulnerability.description","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"vulnerability.description.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"vulnerability.description"}}},{"count":0,"name":"vulnerability.enumeration","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"vulnerability.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"vulnerability.reference","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"vulnerability.report_id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"vulnerability.scanner.vendor","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"vulnerability.score.base","type":"number","esTypes":["float"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"vulnerability.score.environmental","type":"number","esTypes":["float"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"vulnerability.score.temporal","type":"number","esTypes":["float"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"vulnerability.score.version","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"vulnerability.severity","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true}]',timeFieldName:"timestamp",title:"log-aws-cloudtrail-*"},id:undefined,migrationVersion:undefined,references:[],type:"index-pattern"};const s3DashboardConfig={attributes:{description:"",hits:0,kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"language":"kuery","query":""},"filter":[]}'},optionsJSON:'{"hidePanelTitles":false,"useMargins":true}',panelsJSON:'[{"version":"7.10.2","gridData":{"x":0,"y":0,"w":24,"h":9,"i":"ae6d8495-1571-4382-bce4-6202ee506560"},"panelIndex":"ae6d8495-1571-4382-bce4-6202ee506560","embeddableConfig":{},"panelRefName":"panel_0"},{"version":"7.10.2","gridData":{"x":24,"y":0,"w":24,"h":9,"i":"caa7531f-205d-4600-84cb-df20aa673895"},"panelIndex":"caa7531f-205d-4600-84cb-df20aa673895","embeddableConfig":{},"panelRefName":"panel_1"},{"version":"7.10.2","gridData":{"x":0,"y":9,"w":38,"h":15,"i":"d0e725c3-a050-4c44-b2ad-d65f3255d8b3"},"panelIndex":"d0e725c3-a050-4c44-b2ad-d65f3255d8b3","embeddableConfig":{"mapZoom":2,"mapCenter":null},"panelRefName":"panel_2"},{"version":"7.10.2","gridData":{"x":38,"y":9,"w":10,"h":6,"i":"d946ce42-057a-445c-8073-447c4b04b467"},"panelIndex":"d946ce42-057a-445c-8073-447c4b04b467","embeddableConfig":{},"panelRefName":"panel_3"},{"version":"7.10.2","gridData":{"x":38,"y":15,"w":10,"h":9,"i":"396871d4-cfa9-4309-be36-7db714c899d8"},"panelIndex":"396871d4-cfa9-4309-be36-7db714c899d8","embeddableConfig":{},"panelRefName":"panel_4"},{"version":"7.10.2","gridData":{"x":0,"y":24,"w":38,"h":18,"i":"d10b2fd3-0036-46e7-a9d9-3dc29f6ebda7"},"panelIndex":"d10b2fd3-0036-46e7-a9d9-3dc29f6ebda7","embeddableConfig":{},"panelRefName":"panel_5"},{"version":"7.10.2","gridData":{"x":38,"y":24,"w":10,"h":9,"i":"7e093c31-a0a6-4244-94ab-2f5b33876929"},"panelIndex":"7e093c31-a0a6-4244-94ab-2f5b33876929","embeddableConfig":{},"panelRefName":"panel_6"},{"version":"7.10.2","gridData":{"x":38,"y":33,"w":10,"h":9,"i":"324faff3-8267-4ba5-8c61-eea5856e5ae8"},"panelIndex":"324faff3-8267-4ba5-8c61-eea5856e5ae8","embeddableConfig":{},"panelRefName":"panel_7"},{"version":"7.10.2","gridData":{"x":0,"y":42,"w":16,"h":10,"i":"07e5f43d-b03f-408a-a016-514cea2fece3"},"panelIndex":"07e5f43d-b03f-408a-a016-514cea2fece3","embeddableConfig":{},"panelRefName":"panel_8"},{"version":"7.10.2","gridData":{"x":16,"y":42,"w":32,"h":10,"i":"0e6ec458-758c-418c-8be4-c117280593f7"},"panelIndex":"0e6ec458-758c-418c-8be4-c117280593f7","embeddableConfig":{},"panelRefName":"panel_9"},{"version":"7.10.2","gridData":{"x":0,"y":52,"w":16,"h":10,"i":"819cb43c-dc15-4949-b6d5-ec9e171afc2a"},"panelIndex":"819cb43c-dc15-4949-b6d5-ec9e171afc2a","embeddableConfig":{},"panelRefName":"panel_10"},{"version":"7.10.2","gridData":{"x":16,"y":52,"w":32,"h":10,"i":"952abf40-cbfc-4120-8fbf-e37ac5f7c546"},"panelIndex":"952abf40-cbfc-4120-8fbf-e37ac5f7c546","embeddableConfig":{},"panelRefName":"panel_11"},{"version":"7.10.2","gridData":{"x":0,"y":62,"w":24,"h":12,"i":"a577dda6-7089-49b7-8d38-f0183704859b"},"panelIndex":"a577dda6-7089-49b7-8d38-f0183704859b","embeddableConfig":{},"panelRefName":"panel_12"},{"version":"7.10.2","gridData":{"x":24,"y":62,"w":24,"h":12,"i":"01da42a0-f09f-47ce-9189-a3230c1300e2"},"panelIndex":"01da42a0-f09f-47ce-9189-a3230c1300e2","embeddableConfig":{},"panelRefName":"panel_13"},{"version":"7.10.2","gridData":{"x":0,"y":74,"w":24,"h":12,"i":"43aadcad-3992-4f35-878d-f6d5633d4603"},"panelIndex":"43aadcad-3992-4f35-878d-f6d5633d4603","embeddableConfig":{},"panelRefName":"panel_14"},{"version":"7.10.2","gridData":{"x":24,"y":74,"w":24,"h":12,"i":"36fcd27b-a306-4b71-96fa-6f91fcd70f59"},"panelIndex":"36fcd27b-a306-4b71-96fa-6f91fcd70f59","embeddableConfig":{},"panelRefName":"panel_15"}]',timeRestore:false,title:"S3Accesslog Summary",version:1},references:[{id:"9c9fcf20-28ea-11ec-88c4-f70571f67193",name:"panel_0",type:"visualization"},{id:"ebb898f0-28e8-11ec-88c4-f70571f67193",name:"panel_1",type:"visualization"},{id:"7546d1e0-774f-11ec-aa44-650c320a3c76",name:"panel_2",type:"visualization"},{id:"5b8d2660-28ed-11ec-88c4-f70571f67193",name:"panel_3",type:"visualization"},{id:"eec8f4f0-28e2-11ec-88c4-f70571f67193",name:"panel_4",type:"visualization"},{id:"1db0d400-28f1-11ec-88c4-f70571f67193",name:"panel_5",type:"visualization"},{id:"9aa8c170-28e7-11ec-88c4-f70571f67193",name:"panel_6",type:"visualization"},{id:"66f989c0-28ee-11ec-88c4-f70571f67193",name:"panel_7",type:"visualization"},{id:"151368c0-28e8-11ec-88c4-f70571f67193",name:"panel_8",type:"visualization"},{id:"81bacac0-28ef-11ec-88c4-f70571f67193",name:"panel_9",type:"visualization"},{id:"9b59a570-28e8-11ec-88c4-f70571f67193",name:"panel_10",type:"visualization"},{id:"9e7f5a00-28e9-11ec-88c4-f70571f67193",name:"panel_11",type:"visualization"},{id:"609226d0-244f-11ec-88c4-f70571f67193",name:"panel_12",type:"visualization"},{id:"377ff760-28f3-11ec-88c4-f70571f67193",name:"panel_13",type:"visualization"},{id:"9802cf20-244f-11ec-88c4-f70571f67193",name:"panel_14",type:"visualization"},{id:"f5512f80-1e9d-11ec-88c4-f70571f67193",name:"panel_15",type:"visualization"}],type:"dashboard"};const s3VisualizationConfigs=[{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"lucene"},"filter":[],"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index"}'},title:"S3Accesslog - AWS Account(Bar)",uiStateJSON:"{}",version:1,visState:'{"title":"S3Accesslog - AWS Account(Bar)","type":"histogram","aggs":[{"id":"1","enabled":true,"type":"count","params":{},"schema":"metric"},{"id":"3","enabled":true,"type":"terms","params":{"field":"cloud.account.id","orderBy":"1","order":"desc","size":10,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"},"schema":"segment"},{"id":"4","enabled":true,"type":"terms","params":{"field":"cloud.account.id","orderBy":"1","order":"desc","size":5,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"},"schema":"group"}],"params":{"type":"histogram","grid":{"categoryLines":false},"categoryAxes":[{"id":"CategoryAxis-1","type":"category","position":"bottom","show":false,"style":{},"scale":{"type":"linear"},"labels":{"show":true,"filter":true,"truncate":100},"title":{}}],"valueAxes":[{"id":"ValueAxis-1","name":"LeftAxis-1","type":"value","position":"left","show":true,"style":{},"scale":{"type":"linear","mode":"normal"},"labels":{"show":true,"rotate":0,"filter":false,"truncate":100},"title":{"text":"Count"}}],"seriesParams":[{"show":true,"type":"histogram","mode":"stacked","data":{"label":"Count","id":"1"},"valueAxis":"ValueAxis-1","drawLinesBetweenPoints":true,"lineWidth":2,"showCircles":true}],"addTooltip":true,"addLegend":true,"legendPosition":"right","times":[],"addTimeMarker":false,"labels":{"show":false},"thresholdLine":{"show":false,"value":10,"width":1,"style":"full","color":"#E7664C"}}}'},references:[{id:"4f75abd0-b7ca-11ea-9044-07f9c61c294e",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"lucene"},"filter":[],"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index"}'},title:"S3Accesslog - Region(Bar)",uiStateJSON:"{}",version:1,visState:'{"title":"S3Accesslog - Region(Bar)","type":"histogram","aggs":[{"id":"1","enabled":true,"type":"count","params":{},"schema":"metric"},{"id":"2","enabled":true,"type":"terms","params":{"field":"cloud.region","orderBy":"1","order":"desc","size":5,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing","customLabel":""},"schema":"segment"},{"id":"3","enabled":true,"type":"terms","params":{"field":"cloud.region","orderBy":"1","order":"desc","size":5,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"},"schema":"group"}],"params":{"type":"histogram","grid":{"categoryLines":false},"categoryAxes":[{"id":"CategoryAxis-1","type":"category","position":"bottom","show":false,"style":{},"scale":{"type":"linear"},"labels":{"show":true,"filter":true,"truncate":100},"title":{}}],"valueAxes":[{"id":"ValueAxis-1","name":"LeftAxis-1","type":"value","position":"left","show":true,"style":{},"scale":{"type":"linear","mode":"normal"},"labels":{"show":true,"rotate":0,"filter":false,"truncate":100},"title":{"text":"Count"}}],"seriesParams":[{"show":true,"type":"histogram","mode":"stacked","data":{"label":"Count","id":"1"},"valueAxis":"ValueAxis-1","drawLinesBetweenPoints":true,"lineWidth":2,"showCircles":true}],"addTooltip":true,"addLegend":true,"legendPosition":"right","times":[],"addTimeMarker":false,"labels":{"show":false},"thresholdLine":{"show":false,"value":10,"width":1,"style":"full","color":"#E7664C"}}}'},references:[{id:"4f75abd0-b7ca-11ea-9044-07f9c61c294e",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"lucene"},"filter":[],"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index"}'},title:"S3Accesslog - Source Countries(Geo)",uiStateJSON:'{"mapZoom":2,"mapCenter":[7.536764322084078,4.921875000000001]}',version:1,visState:'{"title":"S3Accesslog - Source Countries(Geo)","type":"region_map","aggs":[{"id":"1","enabled":true,"type":"count","params":{},"schema":"metric"},{"id":"2","enabled":true,"type":"terms","params":{"field":"source.geo.country_iso_code","orderBy":"1","order":"desc","size":5,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"},"schema":"segment"}],"params":{"addTooltip":true,"colorSchema":"Yellow to Red","emsHotLink":"?locale=en#file/world_countries","isDisplayWarning":true,"legendPosition":"bottomright","mapCenter":[0,0],"mapZoom":2,"outlineWeight":1,"selectedJoinField":{"description":"ISO 3166-1 alpha-2 Code","name":"iso2","type":"id"},"selectedLayer":{"attribution":"<a rel=\\"noreferrer noopener\\" href=\\"http://www.naturalearthdata.com/about/terms-of-use\\">Made with NaturalEarth</a>","created_at":"2017-04-26T17:12:15.978370","fields":[{"description":"ISO 3166-1 alpha-2 Code","name":"iso2","type":"id"},{"description":"ISO 3166-1 alpha-3 Code","name":"iso3","type":"id"},{"description":"Name","name":"name","type":"name"}],"format":{"type":"geojson"},"id":"world_countries","isEMS":true,"layerId":"elastic_maps_service.World Countries","name":"World Countries","origin":"elastic_maps_service"},"showAllShapes":true,"wms":{"enabled":false,"options":{"attribution":"","format":"image/png","layers":"","styles":"","transparent":true,"version":""},"selectedTmsLayer":{"attribution":"<a rel=\\"noreferrer noopener\\" href=\\"https://www.openstreetmap.org/copyright\\">Map data  OpenStreetMap contributors</a>","id":"road_map","maxZoom":10,"minZoom":0,"origin":"elastic_maps_service"},"url":""}}}'},references:[{id:"4f75abd0-b7ca-11ea-9044-07f9c61c294e",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"lucene"},"filter":[],"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index"}'},title:"S3Accesslog - Throttling Counts",uiStateJSON:"{}",version:1,visState:'{"title":"S3Accesslog - Throttling Counts","type":"metric","aggs":[{"id":"1","enabled":true,"type":"count","params":{},"schema":"metric"},{"id":"2","enabled":true,"type":"filters","params":{"filters":[{"input":{"query":"HTTPstatus:503","language":"lucene"},"label":"Throttling"}]},"schema":"group"}],"params":{"addTooltip":true,"addLegend":false,"type":"metric","metric":{"percentageMode":false,"useRanges":false,"colorSchema":"Green to Red","metricColorMode":"None","colorsRange":[{"from":0,"to":10000}],"labels":{"show":true},"invertColors":false,"style":{"bgFill":"#000","bgColor":false,"labelColor":false,"subText":"","fontSize":60}}}}'},references:[{id:"4f75abd0-b7ca-11ea-9044-07f9c61c294e",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"kuery"},"filter":[],"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index"}'},title:"S3Accesslog - Source IP",uiStateJSON:'{"vis":{"params":{"sort":{"columnIndex":null,"direction":null}}}}',version:1,visState:'{"title":"S3Accesslog - Source IP","type":"table","aggs":[{"id":"1","enabled":true,"type":"count","params":{},"schema":"metric"},{"id":"2","enabled":true,"type":"terms","params":{"field":"source.ip","orderBy":"1","order":"desc","size":5,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"},"schema":"bucket"}],"params":{"perPage":10,"showPartialRows":false,"showMetricsAtAllLevels":false,"sort":{"columnIndex":null,"direction":null},"showTotal":false,"totalFunc":"sum","percentageCol":""}}'},references:[{id:"4f75abd0-b7ca-11ea-9044-07f9c61c294e",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"lucene"},"filter":[],"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index"}'},title:"S3Accesslog - Error Code for each Buckets",uiStateJSON:"{}",version:1,visState:'{"title":"S3Accesslog - Error Code for each Buckets","type":"histogram","aggs":[{"id":"1","enabled":true,"type":"count","params":{},"schema":"metric"},{"id":"2","enabled":true,"type":"terms","params":{"field":"Bucket","orderBy":"1","order":"desc","size":10,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing","customLabel":" "},"schema":"segment"},{"id":"3","enabled":true,"type":"terms","params":{"field":"ErrorCode","orderBy":"1","order":"desc","size":5,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing","json":""},"schema":"group"},{"id":"4","enabled":true,"type":"terms","params":{"field":"HTTPstatus","orderBy":"1","order":"desc","size":5,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"},"schema":"group"}],"params":{"type":"histogram","grid":{"categoryLines":false},"categoryAxes":[{"id":"CategoryAxis-1","type":"category","position":"bottom","show":true,"style":{},"scale":{"type":"linear"},"labels":{"show":true,"filter":true,"truncate":100},"title":{}}],"valueAxes":[{"id":"ValueAxis-1","name":"LeftAxis-1","type":"value","position":"left","show":true,"style":{},"scale":{"type":"linear","mode":"normal"},"labels":{"show":true,"rotate":0,"filter":false,"truncate":100},"title":{"text":"Count"}}],"seriesParams":[{"show":true,"type":"histogram","mode":"stacked","data":{"label":"Count","id":"1"},"valueAxis":"ValueAxis-1","drawLinesBetweenPoints":true,"lineWidth":2,"showCircles":true}],"addTooltip":true,"addLegend":true,"legendPosition":"right","times":[],"addTimeMarker":false,"labels":{"show":false},"thresholdLine":{"show":false,"value":10,"width":1,"style":"full","color":"#E7664C"}}}'},references:[{id:"4f75abd0-b7ca-11ea-9044-07f9c61c294e",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"lucene"},"filter":[],"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index"}'},title:"S3Accesslog - Client Error Counts",uiStateJSON:"{}",version:1,visState:'{"title":"S3Accesslog - Client Error Counts","type":"metric","aggs":[{"id":"1","enabled":true,"type":"count","params":{},"schema":"metric"},{"id":"2","enabled":true,"type":"filters","params":{"filters":[{"input":{"query":"HTTPstatus:{400 TO 499}","language":"lucene"},"label":"Client Error"}]},"schema":"group"}],"params":{"addTooltip":true,"addLegend":false,"type":"metric","metric":{"percentageMode":false,"useRanges":false,"colorSchema":"Green to Red","metricColorMode":"None","colorsRange":[{"from":0,"to":10000}],"labels":{"show":true},"invertColors":false,"style":{"bgFill":"#000","bgColor":false,"labelColor":false,"subText":"","fontSize":60}}}}'},references:[{id:"4f75abd0-b7ca-11ea-9044-07f9c61c294e",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"lucene"},"filter":[],"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index"}'},title:"S3Accesslog - Server Error Counts",uiStateJSON:"{}",version:1,visState:'{"title":"S3Accesslog - Server Error Counts","type":"metric","aggs":[{"id":"1","enabled":true,"type":"count","params":{},"schema":"metric"},{"id":"2","enabled":true,"type":"filters","params":{"filters":[{"input":{"query":"HTTPstatus:{500 TO 599}","language":"lucene"},"label":"Server Error"}]},"schema":"group"}],"params":{"addTooltip":true,"addLegend":false,"type":"metric","metric":{"percentageMode":false,"useRanges":false,"colorSchema":"Green to Red","metricColorMode":"None","colorsRange":[{"from":0,"to":10000}],"labels":{"show":true},"invertColors":false,"style":{"bgFill":"#000","bgColor":false,"labelColor":false,"subText":"","fontSize":60}}}}'},references:[{id:"4f75abd0-b7ca-11ea-9044-07f9c61c294e",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"lucene"},"filter":[],"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index"}'},title:"S3Accesslog - Error Code(Pie)",uiStateJSON:"{}",version:1,visState:'{"title":"S3Accesslog - Error Code(Pie)","type":"pie","aggs":[{"id":"1","enabled":true,"type":"count","params":{},"schema":"metric"},{"id":"2","enabled":true,"type":"terms","params":{"field":"ErrorCode","orderBy":"1","order":"desc","size":5,"otherBucket":true,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"},"schema":"segment"}],"params":{"type":"pie","addTooltip":true,"addLegend":true,"legendPosition":"right","isDonut":true,"labels":{"show":false,"values":true,"last_level":true,"truncate":100}}}'},references:[{id:"4f75abd0-b7ca-11ea-9044-07f9c61c294e",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"lucene"},"filter":[],"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index"}'},title:"S3Accesslog - Error Code (Area)",uiStateJSON:"{}",version:1,visState:'{"title":"S3Accesslog - Error Code (Area)","type":"area","aggs":[{"id":"1","enabled":true,"type":"count","params":{},"schema":"metric"},{"id":"2","enabled":true,"type":"date_histogram","params":{"field":"timestamp","timeRange":{"from":"now-30M","to":"now"},"useNormalizedEsInterval":true,"scaleMetricValues":false,"interval":"auto","drop_partials":false,"min_doc_count":1,"extended_bounds":{}},"schema":"segment"},{"id":"3","enabled":true,"type":"terms","params":{"field":"ErrorCode","orderBy":"1","order":"desc","size":5,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"},"schema":"group"},{"id":"4","enabled":true,"type":"terms","params":{"field":"HTTPstatus","orderBy":"1","order":"desc","size":5,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"},"schema":"group"}],"params":{"type":"area","grid":{"categoryLines":false},"categoryAxes":[{"id":"CategoryAxis-1","type":"category","position":"bottom","show":true,"style":{},"scale":{"type":"linear"},"labels":{"show":true,"filter":true,"truncate":100},"title":{}}],"valueAxes":[{"id":"ValueAxis-1","name":"LeftAxis-1","type":"value","position":"left","show":true,"style":{},"scale":{"type":"linear","mode":"normal"},"labels":{"show":true,"rotate":0,"filter":false,"truncate":100},"title":{"text":"Count"}}],"seriesParams":[{"show":true,"type":"area","mode":"stacked","data":{"label":"Count","id":"1"},"drawLinesBetweenPoints":true,"lineWidth":2,"showCircles":true,"interpolate":"linear","valueAxis":"ValueAxis-1"}],"addTooltip":true,"addLegend":true,"legendPosition":"right","times":[],"addTimeMarker":false,"thresholdLine":{"show":false,"value":10,"width":1,"style":"full","color":"#E7664C"},"labels":{}}}'},references:[{id:"4f75abd0-b7ca-11ea-9044-07f9c61c294e",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"lucene"},"filter":[],"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index"}'},title:"S3Accesslog - Operation",uiStateJSON:"{}",version:1,visState:'{"title":"S3Accesslog - Operation","type":"pie","aggs":[{"id":"1","enabled":true,"type":"count","params":{},"schema":"metric"},{"id":"2","enabled":true,"type":"terms","params":{"field":"Operation","orderBy":"1","order":"desc","size":5,"otherBucket":true,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"},"schema":"segment"}],"params":{"type":"pie","addTooltip":true,"addLegend":true,"legendPosition":"right","isDonut":true,"labels":{"show":false,"values":true,"last_level":true,"truncate":100}}}'},references:[{id:"4f75abd0-b7ca-11ea-9044-07f9c61c294e",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"lucene"},"filter":[],"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index"}'},title:"S3Accesslog - Operation(Area)",uiStateJSON:"{}",version:1,visState:'{"title":"S3Accesslog - Operation(Area)","type":"area","aggs":[{"id":"1","enabled":true,"type":"count","params":{},"schema":"metric"},{"id":"2","enabled":true,"type":"date_histogram","params":{"field":"timestamp","timeRange":{"from":"now-30m","to":"now"},"useNormalizedEsInterval":true,"scaleMetricValues":false,"interval":"auto","drop_partials":false,"min_doc_count":1,"extended_bounds":{}},"schema":"segment"},{"id":"3","enabled":true,"type":"terms","params":{"field":"Operation","orderBy":"1","order":"desc","size":5,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"},"schema":"group"}],"params":{"type":"area","grid":{"categoryLines":false},"categoryAxes":[{"id":"CategoryAxis-1","type":"category","position":"bottom","show":true,"style":{},"scale":{"type":"linear"},"labels":{"show":true,"filter":true,"truncate":100},"title":{}}],"valueAxes":[{"id":"ValueAxis-1","name":"LeftAxis-1","type":"value","position":"left","show":true,"style":{},"scale":{"type":"linear","mode":"normal"},"labels":{"show":true,"rotate":0,"filter":false,"truncate":100},"title":{"text":"Count"}}],"seriesParams":[{"show":true,"type":"area","mode":"stacked","data":{"label":"Count","id":"1"},"drawLinesBetweenPoints":true,"lineWidth":2,"showCircles":true,"interpolate":"linear","valueAxis":"ValueAxis-1"}],"addTooltip":true,"addLegend":true,"legendPosition":"right","times":[],"addTimeMarker":false,"thresholdLine":{"show":false,"value":10,"width":1,"style":"full","color":"#E7664C"},"labels":{}}}'},references:[{id:"4f75abd0-b7ca-11ea-9044-07f9c61c294e",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"kuery"},"filter":[],"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index"}'},title:"S3Accesslog - Requeast URL Key",uiStateJSON:'{"vis":{"params":{"sort":{"columnIndex":null,"direction":null}}}}',version:1,visState:'{"title":"S3Accesslog - Requeast URL Key","type":"table","aggs":[{"id":"1","enabled":true,"type":"count","params":{},"schema":"metric"},{"id":"2","enabled":true,"type":"terms","params":{"field":"RequestURI_key","orderBy":"1","order":"desc","size":5,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"},"schema":"bucket"}],"params":{"perPage":10,"showPartialRows":false,"showMetricsAtAllLevels":false,"sort":{"columnIndex":null,"direction":null},"showTotal":false,"totalFunc":"sum","percentageCol":""}}'},references:[{id:"4f75abd0-b7ca-11ea-9044-07f9c61c294e",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"lucene"},"filter":[],"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index"}'},title:"S3Accesslog - Request URI Key(Bar)",uiStateJSON:"{}",version:1,visState:'{"title":"S3Accesslog - Request URI Key(Bar)","type":"histogram","aggs":[{"id":"1","enabled":true,"type":"count","params":{},"schema":"metric"},{"id":"2","enabled":true,"type":"terms","params":{"field":"RequestURI_key","orderBy":"1","order":"desc","size":5,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"},"schema":"segment"},{"id":"3","enabled":true,"type":"terms","params":{"field":"RequestURI_key","orderBy":"1","order":"desc","size":5,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"},"schema":"group"}],"params":{"type":"histogram","grid":{"categoryLines":false},"categoryAxes":[{"id":"CategoryAxis-1","type":"category","position":"bottom","show":false,"style":{},"scale":{"type":"linear"},"labels":{"show":true,"filter":true,"truncate":100},"title":{}}],"valueAxes":[{"id":"ValueAxis-1","name":"LeftAxis-1","type":"value","position":"left","show":true,"style":{},"scale":{"type":"linear","mode":"normal"},"labels":{"show":true,"rotate":0,"filter":false,"truncate":100},"title":{"text":"Count"}}],"seriesParams":[{"show":true,"type":"histogram","mode":"stacked","data":{"label":"Count","id":"1"},"valueAxis":"ValueAxis-1","drawLinesBetweenPoints":true,"lineWidth":2,"showCircles":true}],"addTooltip":true,"addLegend":true,"legendPosition":"right","times":[],"addTimeMarker":false,"labels":{"show":false},"thresholdLine":{"show":false,"value":10,"width":1,"style":"full","color":"#E7664C"}}}'},references:[{id:"4f75abd0-b7ca-11ea-9044-07f9c61c294e",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"kuery"},"filter":[],"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index"}'},title:"S3Accesslog - Requester",uiStateJSON:'{"vis":{"params":{"sort":{"columnIndex":null,"direction":null}}}}',version:1,visState:'{"title":"S3Accesslog - Requester","type":"table","aggs":[{"id":"1","enabled":true,"type":"count","params":{},"schema":"metric"},{"id":"2","enabled":true,"type":"terms","params":{"field":"Requester","orderBy":"1","order":"desc","size":5,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"},"schema":"bucket"}],"params":{"perPage":10,"showPartialRows":false,"showMetricsAtAllLevels":false,"sort":{"columnIndex":null,"direction":null},"showTotal":false,"totalFunc":"sum","percentageCol":""}}'},references:[{id:"4f75abd0-b7ca-11ea-9044-07f9c61c294e",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"language":"kuery","query":""},"filter":[],"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index"}'},title:"S3Accesslog - Buckets Request Counts ",uiStateJSON:"{}",version:1,visState:'{"title":"S3Accesslog - Buckets Request Counts ","type":"histogram","aggs":[{"id":"1","enabled":true,"type":"count","params":{"customLabel":"Requet Count"},"schema":"metric"},{"id":"2","enabled":true,"type":"terms","params":{"field":"Bucket","orderBy":"1","order":"desc","size":5,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"},"schema":"segment"},{"id":"3","enabled":true,"type":"terms","params":{"field":"Bucket","orderBy":"1","order":"desc","size":5,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"},"schema":"group"}],"params":{"addLegend":true,"addTimeMarker":false,"addTooltip":true,"categoryAxes":[{"id":"CategoryAxis-1","labels":{"filter":true,"show":true,"truncate":100},"position":"bottom","scale":{"type":"linear"},"show":false,"style":{},"title":{},"type":"category"}],"grid":{"categoryLines":false},"labels":{"show":false},"legendPosition":"right","seriesParams":[{"data":{"id":"1","label":"Requet Count"},"drawLinesBetweenPoints":true,"lineWidth":2,"mode":"stacked","show":true,"showCircles":true,"type":"histogram","valueAxis":"ValueAxis-1"}],"thresholdLine":{"color":"#E7664C","show":false,"style":"full","value":10,"width":1},"times":[],"type":"histogram","valueAxes":[{"id":"ValueAxis-1","labels":{"filter":false,"rotate":0,"show":true,"truncate":100},"name":"LeftAxis-1","position":"left","scale":{"mode":"normal","type":"linear"},"show":true,"style":{},"title":{"text":"Requet Count"},"type":"value"}]}}'},references:[{id:"4f75abd0-b7ca-11ea-9044-07f9c61c294e",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"}];const s3IndexPatternConfig={attributes:{fields:'[{"count":0,"name":"@id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"@log_s3bucket","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"@log_s3key","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"@log_type","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"@message","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false},{"count":0,"name":"timestamp","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"AuthType","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"Bucket","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"BucketOwner","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"BytesSent","type":"number","esTypes":["integer"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"CipherSuite","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"EndPoint","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"ErrorCode","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"HTTPstatus","type":"number","esTypes":["short"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"HostId","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"Key","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"ObjectSize","type":"number","esTypes":["integer"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"Operation","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"Referrer","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"RemoteIP","type":"ip","esTypes":["ip"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"RequestDateTime","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"RequestID","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"RequestURI_httpProtoversion","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"RequestURI_key","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"RequestURI_operation","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"Requester","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"SchemaVersion","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"SigV","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"TLSVersion","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"TotalTime","type":"number","esTypes":["integer"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"TurnAroundTime","type":"number","esTypes":["integer"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"UserAgent","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"_id","type":"string","esTypes":["_id"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":false},{"count":0,"name":"_index","type":"string","esTypes":["_index"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":false},{"count":0,"name":"_source","type":"_source","esTypes":["_source"],"scripted":false,"searchable":false,"aggregatable":false,"readFromDocValues":false},{"count":0,"name":"apiVersion","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"base.tags","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"cloud.account.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"cloud.provider","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"cloud.region","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"container.image.tag","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"cwe_timestamp","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"cwl_timestamp","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"destination.address","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"destination.as.number","type":"number","esTypes":["integer"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"destination.bytes","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"destination.domain","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"destination.geo.city_name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"destination.geo.country_iso_code","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"destination.geo.country_name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"destination.geo.location","type":"geo_point","esTypes":["geo_point"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"destination.ip","type":"ip","esTypes":["ip"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"destination.nat.ip","type":"ip","esTypes":["ip"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"destination.nat.port","type":"number","esTypes":["integer"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"destination.packets","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"destination.port","type":"number","esTypes":["integer"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"dns.answers.ttl","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"dns.header_flags","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"dns.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"dns.resolved_ip","type":"ip","esTypes":["ip"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"ecs.version","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"error.message","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false},{"count":0,"name":"event.category","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"event.code","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"event.created","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"event.duration","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"event.end","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"event.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"event.ingested","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"event.kind","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"event.module","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"event.outcome","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"event.risk_score","type":"number","esTypes":["float"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"event.risk_score_norm","type":"number","esTypes":["float"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"event.sequence","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"event.severity","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"event.start","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"event.timezone","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"event.type","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"file.accessed","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"file.attributes","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"file.created","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"file.ctime","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"file.gid","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"file.inode","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"file.mode","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"file.mtime","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"file.size","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"file.uid","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"group.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"host.disk.read.bytes","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"host.disk.write.bytes","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"host.hostname","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"host.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"host.ip","type":"ip","esTypes":["ip"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"host.mac","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"host.network.egress.bytes","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"host.network.egress.packets","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"host.network.ingress.bytes","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"host.network.ingress.packets","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"host.uptime","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"http.request.body.bytes","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"http.request.body.content","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"http.request.body.content.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"http.request.body.content"}}},{"count":10,"name":"http.request.bytes","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"http.request.method","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"http.request.referrer","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"http.response.body.bytes","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"http.response.body.content","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"http.response.body.content.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"http.response.body.content"}}},{"count":10,"name":"http.response.bytes","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"http.response.status_code","type":"number","esTypes":["short"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"http.version","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"interface.alias","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"interface.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"interface.name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"log.level","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"log.origin.file.line","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"log.syslog.facility.code","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"log.syslog.priority","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"log.syslog.severity.code","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"network.bytes","type":"number","esTypes":["integer"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"network.community_id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"network.forwarded_ip","type":"ip","esTypes":["ip"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"network.iana_number","type":"number","esTypes":["short"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"network.packets","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"observer.ip","type":"ip","esTypes":["ip"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"observer.mac","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"observer.serial_number","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"observer.version","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"organization.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"os.family","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"os.full","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"os.full.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"os.full"}}},{"count":0,"name":"os.kernel","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"os.name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"os.name.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"os.name"}}},{"count":0,"name":"os.platform","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"os.type","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"os.version","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"process.args","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"process.args_count","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"process.command_line","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"process.command_line.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"process.command_line"}}},{"count":0,"name":"process.entity_id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"process.exit_code","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"process.pgid","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"process.pid","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"process.ppid","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"process.start","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"process.thread.id","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"process.uptime","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"related.hash","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"related.hosts","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"related.ip","type":"ip","esTypes":["ip"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"related.user","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"rule.author","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"rule.category","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"rule.description","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"rule.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"rule.uuid","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"rule.version","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"service.ephemeral_id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"service.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"service.version","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"source.address","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"source.as.number","type":"number","esTypes":["integer"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"source.as.organization.name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"source.bytes","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"source.geo.city_name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"source.geo.country_iso_code","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"source.geo.country_name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"source.geo.location","type":"geo_point","esTypes":["geo_point"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"source.ip","type":"ip","esTypes":["ip"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"source.nat.ip","type":"ip","esTypes":["ip"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"source.nat.port","type":"number","esTypes":["integer"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"source.packets","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"source.port","type":"number","esTypes":["integer"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"span.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"threat.enrichments.indicator.confidence","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.indicator.description","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.indicator.email.address","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.indicator.first_seen","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.indicator.ip","type":"ip","esTypes":["ip"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.indicator.last_seen","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.indicator.marking.tlp","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.indicator.modified_at","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.indicator.name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.indicator.port","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.indicator.provider","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.indicator.reference","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.indicator.scanner_stats","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.indicator.sightings","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.indicator.type","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.matched.atomic","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.matched.field","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.matched.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.matched.index","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.matched.occurred","type":"date","esTypes":["date"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":0,"name":"threat.enrichments.matched.type","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true,"subType":{"nested":{"path":"threat.enrichments"}}},{"count":10,"name":"threat.matched.indicators","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"threat.matched.names","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"threat.matched.providers","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"threat.matched.types","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"trace.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"transaction.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"url.domain","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"url.full","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"url.full.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"url.full"}}},{"count":0,"name":"url.original","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"url.original.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"url.original"}}},{"count":10,"name":"url.port","type":"number","esTypes":["long"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"user.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"user.name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"user.roles","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"user_agent.device.name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"user_agent.name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":10,"name":"user_agent.original","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"user_agent.original.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"user_agent.original"}}},{"count":0,"name":"user_agent.os.family","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"user_agent.os.family.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"user_agent.os.family"}}},{"count":0,"name":"user_agent.os.full","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"user_agent.os.kernel","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"user_agent.os.name","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"user_agent.os.name.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"user_agent.os.name"}}},{"count":0,"name":"user_agent.os.platform","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"user_agent.os.type","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"user_agent.os.version","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"user_agent.version","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"vlan.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"vulnerability.category","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"vulnerability.classification","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"vulnerability.description","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"vulnerability.description.text","type":"string","esTypes":["text"],"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"vulnerability.description"}}},{"count":0,"name":"vulnerability.enumeration","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"vulnerability.id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"vulnerability.reference","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"vulnerability.report_id","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"vulnerability.scanner.vendor","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"vulnerability.score.base","type":"number","esTypes":["float"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"vulnerability.score.environmental","type":"number","esTypes":["float"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"vulnerability.score.temporal","type":"number","esTypes":["float"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"vulnerability.score.version","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"count":0,"name":"vulnerability.severity","type":"string","esTypes":["keyword"],"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true}]',timeFieldName:"timestamp",title:"log-aws-s3accesslog-*"},id:undefined,migrationVersion:undefined,references:[],type:"index-pattern"};const vpcFlowLogsDashboardConfig={attributes:{description:"",hits:0,kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"language":"kuery","query":""},"filter":[]}'},optionsJSON:'{"hidePanelTitles":false,"useMargins":true}',panelsJSON:'[{"version":"7.7.0","gridData":{"x":0,"y":0,"w":24,"h":7,"i":"9ef783f5-af53-464f-8bf7-8fe79e574163"},"panelIndex":"9ef783f5-af53-464f-8bf7-8fe79e574163","embeddableConfig":{},"panelRefName":"panel_0"},{"version":"7.7.0","gridData":{"x":24,"y":0,"w":24,"h":7,"i":"96bddd36-2236-463b-b159-db84432d32de"},"panelIndex":"96bddd36-2236-463b-b159-db84432d32de","embeddableConfig":{},"panelRefName":"panel_1"},{"version":"7.7.0","gridData":{"x":0,"y":7,"w":24,"h":8,"i":"79257b0d-673f-4623-86ab-bf3e2cb151f8"},"panelIndex":"79257b0d-673f-4623-86ab-bf3e2cb151f8","embeddableConfig":{},"panelRefName":"panel_2"},{"version":"7.7.0","gridData":{"x":24,"y":7,"w":23,"h":8,"i":"9ac58252-693d-4d1b-a9d0-5fd413fa6814"},"panelIndex":"9ac58252-693d-4d1b-a9d0-5fd413fa6814","embeddableConfig":{},"panelRefName":"panel_3"},{"version":"7.7.0","gridData":{"x":0,"y":15,"w":12,"h":13,"i":"bca8500a-2fc1-413e-baea-bc3f412302e6"},"panelIndex":"bca8500a-2fc1-413e-baea-bc3f412302e6","embeddableConfig":{},"panelRefName":"panel_4"},{"version":"7.7.0","gridData":{"x":12,"y":15,"w":12,"h":13,"i":"915b89ba-5042-47ba-b109-c166aef741f6"},"panelIndex":"915b89ba-5042-47ba-b109-c166aef741f6","embeddableConfig":{},"panelRefName":"panel_5"},{"version":"7.7.0","gridData":{"x":24,"y":15,"w":12,"h":13,"i":"9fbd1232-494c-4b0f-a78b-c5ef50504ce9"},"panelIndex":"9fbd1232-494c-4b0f-a78b-c5ef50504ce9","embeddableConfig":{},"panelRefName":"panel_6"},{"version":"7.7.0","gridData":{"x":36,"y":15,"w":11,"h":13,"i":"bc745ad9-6dbb-436e-8a4a-b01519a8a5b5"},"panelIndex":"bc745ad9-6dbb-436e-8a4a-b01519a8a5b5","embeddableConfig":{},"panelRefName":"panel_7"},{"version":"7.7.0","gridData":{"x":0,"y":28,"w":24,"h":15,"i":"d1c3f6d6-bac5-4d31-af4e-0dbc85eec494"},"panelIndex":"d1c3f6d6-bac5-4d31-af4e-0dbc85eec494","embeddableConfig":{},"panelRefName":"panel_8"},{"version":"7.7.0","gridData":{"x":24,"y":28,"w":24,"h":15,"i":"3167fad5-70cc-44ab-bce1-53d0f30782af"},"panelIndex":"3167fad5-70cc-44ab-bce1-53d0f30782af","embeddableConfig":{},"panelRefName":"panel_9"},{"version":"7.7.0","gridData":{"x":0,"y":43,"w":48,"h":16,"i":"512dc9bf-f031-474f-9afb-36c59e7f4743"},"panelIndex":"512dc9bf-f031-474f-9afb-36c59e7f4743","embeddableConfig":{},"panelRefName":"panel_10"}]',timeRestore:false,title:"VPCFlowLogs Summary",version:1},references:[{id:"e64d06f0-8225-11ea-9ba8-7fa25bc74a6f",name:"panel_0",type:"visualization"},{id:"8079b750-8226-11ea-945d-8d0868f4a377",name:"panel_1",type:"visualization"},{id:"93a6db30-8228-11ea-9ba8-7fa25bc74a6f",name:"panel_2",type:"visualization"},{id:"c3100a20-8234-11ea-8450-d1d13849d130",name:"panel_3",type:"visualization"},{id:"e3231530-823b-11ea-8450-d1d13849d130",name:"panel_4",type:"visualization"},{id:"41ffb5a0-823b-11ea-8dd2-6fda3f2e19c6",name:"panel_5",type:"visualization"},{id:"82c6bd20-823d-11ea-a1e6-856110366757",name:"panel_6",type:"visualization"},{id:"435e9770-823d-11ea-8dd2-6fda3f2e19c6",name:"panel_7",type:"visualization"},{id:"77dae980-823e-11ea-a1e6-856110366757",name:"panel_8",type:"visualization"},{id:"b7f8a390-823e-11ea-8450-d1d13849d130",name:"panel_9",type:"visualization"},{id:"e530dac0-8073-11ea-9ba8-7fa25bc74a6f",name:"panel_10",type:"visualization"}],type:"dashboard"};const vpcFlowLogsVisualizationConfigs=[{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"kuery"},"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index","filter":[]}'},title:"VPCFlowLogs - AWS Account(Bar)",uiStateJSON:'{"vis":{"legendOpen":true}}',version:1,visState:'{"title":"VPCFlowLogs - AWS Account(Bar)","type":"histogram","params":{"type":"histogram","grid":{"categoryLines":false},"categoryAxes":[{"id":"CategoryAxis-1","type":"category","position":"bottom","show":false,"style":{},"scale":{"type":"linear"},"labels":{"show":true,"filter":true,"truncate":100},"title":{}}],"valueAxes":[{"id":"ValueAxis-1","name":"LeftAxis-1","type":"value","position":"left","show":true,"style":{},"scale":{"type":"linear","mode":"normal"},"labels":{"show":true,"rotate":0,"filter":false,"truncate":100},"title":{"text":"Count"}}],"seriesParams":[{"show":"true","type":"histogram","mode":"stacked","data":{"label":"Count","id":"1"},"valueAxis":"ValueAxis-1","drawLinesBetweenPoints":true,"showCircles":true}],"addTooltip":true,"addLegend":true,"legendPosition":"right","times":[],"addTimeMarker":false,"labels":{"show":false},"thresholdLine":{"show":false,"value":10,"width":1,"style":"full","color":"#34130C"},"dimensions":{"x":{"accessor":0,"format":{"id":"terms","params":{"id":"string","otherBucketLabel":"Other","missingBucketLabel":"Missing"}},"params":{},"aggType":"terms"},"y":[{"accessor":2,"format":{"id":"number"},"params":{},"aggType":"count"}],"series":[{"accessor":1,"format":{"id":"terms","params":{"id":"string","otherBucketLabel":"Other","missingBucketLabel":"Missing"}},"params":{},"aggType":"terms"}]}},"aggs":[{"id":"1","enabled":true,"type":"count","schema":"metric","params":{}},{"id":"2","enabled":true,"type":"terms","schema":"segment","params":{"field":"cloud.account.id","orderBy":"1","order":"desc","size":5,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"}},{"id":"3","enabled":true,"type":"terms","schema":"group","params":{"field":"cloud.account.id","orderBy":"1","order":"desc","size":10,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing","customLabel":"Account"}}]}'},references:[{id:"99f81900-806f-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"kuery"},"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index","filter":[]}'},title:"VPCFlowLogs - Region(Bar)",uiStateJSON:"{}",version:1,visState:'{"title":"VPCFlowLogs - Region(Bar)","type":"histogram","params":{"type":"histogram","grid":{"categoryLines":false},"categoryAxes":[{"id":"CategoryAxis-1","type":"category","position":"bottom","show":false,"style":{},"scale":{"type":"linear"},"labels":{"show":true,"filter":true,"truncate":100},"title":{}}],"valueAxes":[{"id":"ValueAxis-1","name":"LeftAxis-1","type":"value","position":"left","show":true,"style":{},"scale":{"type":"linear","mode":"normal"},"labels":{"show":true,"rotate":0,"filter":false,"truncate":100},"title":{"text":"Count"}}],"seriesParams":[{"show":"true","type":"histogram","mode":"stacked","data":{"label":"Count","id":"1"},"valueAxis":"ValueAxis-1","drawLinesBetweenPoints":true,"showCircles":true}],"addTooltip":true,"addLegend":true,"legendPosition":"right","times":[],"addTimeMarker":false,"labels":{"show":false},"thresholdLine":{"show":false,"value":10,"width":1,"style":"full","color":"#34130C"},"dimensions":{"x":{"accessor":0,"format":{"id":"terms","params":{"id":"string","otherBucketLabel":"Other","missingBucketLabel":"Missing"}},"params":{},"aggType":"terms"},"y":[{"accessor":2,"format":{"id":"number"},"params":{},"aggType":"count"}],"series":[{"accessor":1,"format":{"id":"terms","params":{"id":"string","otherBucketLabel":"Other","missingBucketLabel":"Missing"}},"params":{},"aggType":"terms"}]}},"aggs":[{"id":"1","enabled":true,"type":"count","schema":"metric","params":{}},{"id":"2","enabled":true,"type":"terms","schema":"segment","params":{"field":"cloud.region","orderBy":"1","order":"desc","size":5,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"}},{"id":"3","enabled":true,"type":"terms","schema":"group","params":{"field":"cloud.region","orderBy":"1","order":"desc","size":5,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"}}]}'},references:[{id:"99f81900-806f-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"language":"kuery","query":""},"filter":[],"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index"}'},title:"VPCFlowLogs - Accept Packets(Line Chart)",uiStateJSON:'{"vis":{"legendOpen":false}}',version:1,visState:'{"type":"line","aggs":[{"id":"1","enabled":true,"type":"sum_bucket","schema":"metric","params":{"customBucket":{"id":"1-bucket","enabled":true,"type":"filters","params":{"filters":[{"input":{"language":"kuery","query":"\\"action\\": \\"ACCEPT\\""},"label":""}]}},"customMetric":{"id":"1-metric","enabled":true,"type":"sum","params":{"field":"network.packets"}}}},{"id":"2","enabled":true,"type":"date_histogram","schema":"segment","params":{"field":"timestamp","timeRange":{"from":"now-72h","to":"now"},"useNormalizedEsInterval":true,"scaleMetricValues":false,"interval":"auto","drop_partials":false,"min_doc_count":1,"extended_bounds":{}}}],"params":{"addLegend":true,"addTimeMarker":false,"addTooltip":true,"categoryAxes":[{"id":"CategoryAxis-1","labels":{"filter":true,"show":true,"truncate":100},"position":"bottom","scale":{"type":"linear"},"show":true,"style":{},"title":{},"type":"category"}],"grid":{"categoryLines":false},"labels":{},"legendPosition":"right","seriesParams":[{"data":{"id":"1","label":"Overall Sum of Sum of network.packets"},"drawLinesBetweenPoints":true,"interpolate":"linear","lineWidth":2,"mode":"normal","show":true,"showCircles":true,"type":"line","valueAxis":"ValueAxis-3"}],"thresholdLine":{"color":"#E7664C","show":false,"style":"full","value":10,"width":1},"times":[],"type":"line","valueAxes":[{"id":"ValueAxis-3","labels":{"filter":false,"rotate":0,"show":true,"truncate":100},"name":"LeftAxis-1","position":"left","scale":{"mode":"normal","type":"linear"},"show":true,"style":{},"title":{"text":""},"type":"value"}]},"title":"VPCFlowLogs - Accept Packets(Line Chart)"}'},references:[{id:"99f81900-806f-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"language":"kuery","query":""},"filter":[],"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index"}'},title:"VPCFlowLogs - Reject Packets(Line Chart)",uiStateJSON:'{"vis":{"legendOpen":false}}',version:1,visState:'{"type":"line","aggs":[{"id":"1","enabled":true,"type":"sum_bucket","schema":"metric","params":{"customBucket":{"id":"1-bucket","enabled":true,"type":"filters","params":{"filters":[{"input":{"language":"kuery","query":"\\"action\\": \\"REJECT\\""},"label":""}]}},"customMetric":{"id":"1-metric","enabled":true,"type":"sum","params":{"field":"network.packets"}}}},{"id":"2","enabled":true,"type":"date_histogram","schema":"segment","params":{"field":"timestamp","timeRange":{"from":"now-72h","to":"now"},"useNormalizedEsInterval":true,"scaleMetricValues":false,"interval":"auto","drop_partials":true,"min_doc_count":1,"extended_bounds":{},"customLabel":""}}],"params":{"addLegend":true,"addTimeMarker":false,"addTooltip":true,"categoryAxes":[{"id":"CategoryAxis-1","labels":{"filter":true,"show":true,"truncate":100},"position":"bottom","scale":{"type":"linear"},"show":true,"style":{},"title":{},"type":"category"}],"grid":{"categoryLines":false,"valueAxis":""},"labels":{},"legendPosition":"bottom","seriesParams":[{"data":{"id":"1","label":"Overall Sum of Sum of network.packets"},"drawLinesBetweenPoints":true,"interpolate":"linear","lineWidth":2,"mode":"normal","show":true,"showCircles":true,"type":"line","valueAxis":"ValueAxis-2"}],"thresholdLine":{"color":"#E7664C","show":false,"style":"full","value":10,"width":1},"times":[],"type":"line","valueAxes":[{"id":"ValueAxis-2","labels":{"filter":false,"rotate":0,"show":true,"truncate":100},"name":"LeftAxis-1","position":"left","scale":{"mode":"normal","type":"linear"},"show":true,"style":{},"title":{"text":""},"type":"value"}]},"title":"VPCFlowLogs - Reject Packets(Line Chart)"}'},references:[{id:"99f81900-806f-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"action:ACCEPT","language":"kuery"},"filter":[{"$state":{"store":"appState"},"meta":{"alias":null,"disabled":false,"key":"action","negate":false,"params":{"query":"ACCEPT"},"type":"phrase","indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.filter[0].meta.index"},"query":{"match_phrase":{"action":"ACCEPT"}}}],"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index"}'},title:"VPCFlowLogs - Accept Src Packets(Pie)",uiStateJSON:'{"vis":{"legendOpen":false}}',version:1,visState:'{"type":"pie","aggs":[{"id":"1","enabled":true,"type":"sum","schema":"metric","params":{"field":"source.packets","json":""}},{"id":"2","enabled":true,"type":"terms","schema":"segment","params":{"field":"source.ip","orderBy":"1","order":"desc","size":10,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing","json":""}}],"params":{"type":"pie","addTooltip":true,"addLegend":true,"legendPosition":"right","isDonut":true,"labels":{"show":false,"values":true,"last_level":true,"truncate":100},"row":true},"title":"VPCFlowLogs - Accept Src Packets(Pie)"}'},references:[{id:"99f81900-806f-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"},{id:"99f81900-806f-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.filter[0].meta.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"kuery"},"filter":[{"$state":{"store":"appState"},"meta":{"alias":null,"disabled":false,"key":"action","negate":false,"params":{"query":"ACCEPT"},"type":"phrase","indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.filter[0].meta.index"},"query":{"match_phrase":{"action":"ACCEPT"}}}],"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index"}'},title:"VPCFlowLogs - Accept Src Packets(Table)",uiStateJSON:'{"vis":{"params":{"sort":{"columnIndex":null,"direction":null}}}}',version:1,visState:'{"type":"table","aggs":[{"id":"1","enabled":true,"type":"sum","schema":"metric","params":{"field":"source.packets","customLabel":"Packets"}},{"id":"2","enabled":true,"type":"terms","schema":"bucket","params":{"field":"source.ip","orderBy":"1","order":"desc","size":10,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing","customLabel":"Src IP"}}],"params":{"perPage":10,"showPartialRows":false,"showMetricsAtAllLevels":false,"sort":{"columnIndex":null,"direction":null},"showTotal":false,"totalFunc":"sum","percentageCol":""},"title":"VPCFlowLogs - Accept Src Packets(Table)"}'},references:[{id:"99f81900-806f-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"},{id:"99f81900-806f-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.filter[0].meta.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"action:REJECT","language":"kuery"},"filter":[{"$state":{"store":"appState"},"meta":{"alias":null,"disabled":false,"key":"action","negate":false,"params":{"query":"REJECT"},"type":"phrase","indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.filter[0].meta.index"},"query":{"match_phrase":{"action":"REJECT"}}}],"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index"}'},title:"VPCFlowLogs - Reject Src Packets(Pie)",uiStateJSON:'{"vis":{"legendOpen":false}}',version:1,visState:'{"type":"pie","aggs":[{"id":"1","enabled":true,"type":"sum","schema":"metric","params":{"field":"source.packets","json":""}},{"id":"2","enabled":true,"type":"terms","schema":"segment","params":{"field":"source.ip","orderBy":"1","order":"desc","size":10,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing","json":""}}],"params":{"type":"pie","addTooltip":true,"addLegend":true,"legendPosition":"right","isDonut":true,"labels":{"show":false,"values":true,"last_level":true,"truncate":100},"row":true},"title":"VPCFlowLogs - Reject Src Packets(Pie)"}'},references:[{id:"99f81900-806f-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"},{id:"99f81900-806f-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.filter[0].meta.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"language":"kuery","query":""},"filter":[{"$state":{"store":"appState"},"meta":{"alias":null,"disabled":false,"key":"action","negate":false,"params":{"query":"REJECT"},"type":"phrase","indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.filter[0].meta.index"},"query":{"match_phrase":{"action":"REJECT"}}}],"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index"}'},title:"VPCFlowLogs - Reject Src Packets(Table)",uiStateJSON:'{"vis":{"params":{"sort":{"columnIndex":null,"direction":null}}}}',version:1,visState:'{"type":"table","aggs":[{"id":"1","enabled":true,"type":"sum","schema":"metric","params":{"field":"source.packets","customLabel":"Packets"}},{"id":"2","enabled":true,"type":"terms","schema":"bucket","params":{"field":"source.ip","orderBy":"1","order":"desc","size":10,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing","customLabel":"Src IP"}}],"params":{"perPage":10,"percentageCol":"","showMetricsAtAllLevels":false,"showPartialRows":false,"showTotal":false,"sort":{"columnIndex":null,"direction":null},"totalFunc":"sum"},"title":"VPCFlowLogs - Reject Src Packets(Table)"}'},references:[{id:"99f81900-806f-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"},{id:"99f81900-806f-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.filter[0].meta.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"kuery"},"filter":[{"$state":{"store":"appState"},"meta":{"alias":null,"disabled":false,"key":"action","negate":false,"params":{"query":"ACCEPT"},"type":"phrase","indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.filter[0].meta.index"},"query":{"match_phrase":{"action":"ACCEPT"}}}],"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index"}'},title:"VPCFlowLogs - Accept Src Packets(Geo)",uiStateJSON:'{"mapZoom":2,"mapCenter":[25.777633878392646,41.93485907317978]}',version:1,visState:'{"type":"region_map","aggs":[{"id":"1","enabled":true,"type":"sum","schema":"metric","params":{"field":"source.packets"}},{"id":"2","enabled":true,"type":"terms","schema":"segment","params":{"field":"source.geo.country_iso_code","orderBy":"1","order":"desc","size":100,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"}}],"params":{"addTooltip":true,"colorSchema":"Yellow to Red","emsHotLink":"https://maps.elastic.co/v7.7?locale=en#file/world_countries","isDisplayWarning":true,"legendPosition":"bottomright","mapCenter":[0,0],"mapZoom":2,"outlineWeight":1,"selectedJoinField":{"description":"ISO 3166-1 alpha-2 Code","name":"iso2","type":"id"},"selectedLayer":{"attribution":"<a href=\\"http://www.naturalearthdata.com/about/terms-of-use\\">Made with NaturalEarth</a>","created_at":"2017-04-26T17:12:15.978370","fields":[{"description":"ISO 3166-1 alpha-2 Code","name":"iso2","type":"id"},{"description":"ISO 3166-1 alpha-3 Code","name":"iso3","type":"id"},{"description":"Name","name":"name","type":"name"}],"format":{"type":"geojson"},"id":"world_countries","isEMS":true,"layerId":"elastic_maps_service.World Countries","name":"World Countries","origin":"elastic_maps_service"},"showAllShapes":true,"wms":{"enabled":false,"options":{"format":"image/png","transparent":true},"selectedTmsLayer":{"attribution":"<a rel=\\"noreferrer noopener\\" href=\\"https://www.openstreetmap.org/copyright\\">Map data &#169; OpenStreetMap contributors</a>","id":"road_map","maxZoom":10,"minZoom":0,"origin":"elastic_maps_service"}}},"title":"VPCFlowLogs - Accept Src Packets(Geo)"}'},references:[{id:"99f81900-806f-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"},{id:"99f81900-806f-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.filter[0].meta.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"language":"kuery","query":""},"filter":[{"$state":{"store":"appState"},"meta":{"alias":null,"disabled":false,"key":"action","negate":false,"params":{"query":"REJECT"},"type":"phrase","indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.filter[0].meta.index"},"query":{"match_phrase":{"action":"REJECT"}}}],"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index"}'},title:"VPCFlowLogs - Reject Src Packets(Geo)",uiStateJSON:'{"mapCenter":[25.777633878392646,41.93485907317978],"mapZoom":2}',version:1,visState:'{"type":"region_map","aggs":[{"id":"1","enabled":true,"type":"sum","schema":"metric","params":{"field":"source.packets"}},{"id":"2","enabled":true,"type":"terms","schema":"segment","params":{"field":"source.geo.country_iso_code","orderBy":"1","order":"desc","size":100,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"}}],"params":{"addTooltip":true,"colorSchema":"Yellow to Red","emsHotLink":"https://maps.elastic.co/v7.7?locale=en#file/world_countries","isDisplayWarning":true,"legendPosition":"bottomright","mapCenter":[0,0],"mapZoom":2,"outlineWeight":1,"selectedJoinField":{"description":"ISO 3166-1 alpha-2 Code","name":"iso2","type":"id"},"selectedLayer":{"attribution":"<a href=\\"http://www.naturalearthdata.com/about/terms-of-use\\">Made with NaturalEarth</a>","created_at":"2017-04-26T17:12:15.978370","fields":[{"description":"ISO 3166-1 alpha-2 Code","name":"iso2","type":"id"},{"description":"ISO 3166-1 alpha-3 Code","name":"iso3","type":"id"},{"description":"Name","name":"name","type":"name"}],"format":{"type":"geojson"},"id":"world_countries","isEMS":true,"layerId":"elastic_maps_service.World Countries","name":"World Countries","origin":"elastic_maps_service"},"showAllShapes":true,"wms":{"enabled":false,"options":{"format":"image/png","transparent":true},"selectedTmsLayer":{"attribution":"<a rel=\\"noreferrer noopener\\" href=\\"https://www.openstreetmap.org/copyright\\">Map data &#169; OpenStreetMap contributors</a>","id":"road_map","maxZoom":10,"minZoom":0,"origin":"elastic_maps_service"}}},"title":"VPCFlowLogs - Reject Src Packets(Geo)"}'},references:[{id:"99f81900-806f-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"},{id:"99f81900-806f-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.filter[0].meta.index",type:"index-pattern"}],type:"visualization"},{attributes:{description:"",kibanaSavedObjectMeta:{searchSourceJSON:'{"query":{"query":"","language":"kuery"},"indexRefName":"kibanaSavedObjectMeta.searchSourceJSON.index","filter":[]}'},title:"VPCFlowLogs - Top 10 Chart Source IP",uiStateJSON:"{}",version:1,visState:'{"title":"VPCFlowLogs - Top 10 Chart Source IP","type":"line","params":{"type":"line","grid":{"categoryLines":false},"categoryAxes":[{"id":"CategoryAxis-1","type":"category","position":"bottom","show":true,"style":{},"scale":{"type":"linear"},"labels":{"show":true,"filter":true,"truncate":100},"title":{}}],"valueAxes":[{"id":"ValueAxis-1","name":"LeftAxis-1","type":"value","position":"left","show":true,"style":{},"scale":{"type":"linear","mode":"normal"},"labels":{"show":true,"rotate":0,"filter":false,"truncate":100},"title":{"text":"Count"}}],"seriesParams":[{"show":"true","type":"line","mode":"normal","data":{"label":"Count","id":"1"},"valueAxis":"ValueAxis-1","drawLinesBetweenPoints":true,"showCircles":true}],"addTooltip":true,"addLegend":true,"legendPosition":"right","times":[],"addTimeMarker":false,"labels":{},"thresholdLine":{"show":false,"value":10,"width":1,"style":"full","color":"#34130C"},"dimensions":{"x":{"accessor":0,"format":{"id":"string"},"params":{},"aggType":"date_range"},"y":[{"accessor":2,"format":{"id":"number"},"params":{},"aggType":"count"}],"series":[{"accessor":1,"format":{"id":"terms","params":{"id":"ip","otherBucketLabel":"Other","missingBucketLabel":"Missing"}},"params":{},"aggType":"terms"}]}},"aggs":[{"id":"1","enabled":true,"type":"count","schema":"metric","params":{}},{"id":"2","enabled":true,"type":"date_histogram","schema":"segment","params":{"field":"timestamp","useNormalizedEsInterval":true,"interval":"auto","drop_partials":false,"min_doc_count":1,"extended_bounds":{}}},{"id":"3","enabled":true,"type":"terms","schema":"group","params":{"field":"source.ip","orderBy":"1","order":"desc","size":5,"otherBucket":false,"otherBucketLabel":"Other","missingBucket":false,"missingBucketLabel":"Missing"}}]}'},references:[{id:"99f81900-806f-11ea-945d-8d0868f4a377",name:"kibanaSavedObjectMeta.searchSourceJSON.index",type:"index-pattern"}],type:"visualization"}];const vpcFlowLogsIndexPatternConfig={attributes:{fields:'[{"name":"@id","type":"string","esTypes":["keyword"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"@log_group","type":"string","esTypes":["keyword"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"@log_s3bucket","type":"string","esTypes":["keyword"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"@log_s3key","type":"string","esTypes":["keyword"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"@log_stream","type":"string","esTypes":["keyword"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"@log_type","type":"string","esTypes":["keyword"],"count":10,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"@message","type":"string","esTypes":["text"],"count":0,"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false},{"name":"timestamp","type":"date","esTypes":["date"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"@timestamp_received","type":"date","esTypes":["date"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"SchemaVersion","type":"string","esTypes":["keyword"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"_id","type":"string","esTypes":["_id"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":false},{"name":"_index","type":"string","esTypes":["_index"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":false},{"name":"_score","type":"number","count":0,"scripted":false,"searchable":false,"aggregatable":false,"readFromDocValues":false},{"name":"_source","type":"_source","esTypes":["_source"],"count":0,"scripted":false,"searchable":false,"aggregatable":false,"readFromDocValues":false},{"name":"_type","type":"string","esTypes":["_type"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":false},{"name":"account_id","type":"string","esTypes":["keyword"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"action","type":"string","esTypes":["keyword"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"apiVersion","type":"string","esTypes":["keyword"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"bytes","type":"number","esTypes":["integer"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"cloud.account.id","type":"string","esTypes":["keyword"],"count":10,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"cloud.provider","type":"string","esTypes":["keyword"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"cloud.region","type":"string","esTypes":["keyword"],"count":10,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"destination.address","type":"string","esTypes":["keyword"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"destination.as.number","type":"number","esTypes":["integer"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"destination.as.organization.name","type":"string","esTypes":["keyword"],"count":10,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"destination.bytes","type":"number","esTypes":["long"],"count":10,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"destination.geo.city_name","type":"string","esTypes":["keyword"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"destination.geo.country_iso_code","type":"string","esTypes":["keyword"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"destination.geo.country_name","type":"string","esTypes":["keyword"],"count":10,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"destination.geo.location","type":"geo_point","esTypes":["geo_point"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"destination.ip","type":"ip","esTypes":["ip"],"count":10,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"destination.packets","type":"number","esTypes":["long"],"count":10,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"destination.port","type":"number","esTypes":["integer"],"count":10,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"dstaddr","type":"ip","esTypes":["ip"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"dstport","type":"number","esTypes":["integer"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"ecs.version","type":"string","esTypes":["keyword"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"end","type":"date","esTypes":["date"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"event.action","type":"string","esTypes":["keyword"],"count":10,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"event.category","type":"string","esTypes":["keyword"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"event.ingested","type":"date","esTypes":["date"],"count":10,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"event.kind","type":"string","esTypes":["keyword"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"event.module","type":"string","esTypes":["keyword"],"count":10,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"event.outcome","type":"string","esTypes":["keyword"],"count":10,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"http.request.bytes","type":"number","esTypes":["long"],"count":10,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"http.response.bytes","type":"number","esTypes":["long"],"count":10,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"http.response.status_code","type":"number","esTypes":["short"],"count":10,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"http.version","type":"string","esTypes":["keyword"],"count":10,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"instance_id","type":"string","esTypes":["keyword"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"interface_id","type":"string","esTypes":["keyword"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"log_status","type":"string","esTypes":["keyword"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"network.bytes","type":"number","esTypes":["integer"],"count":10,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"network.iana_number","type":"number","esTypes":["short"],"count":10,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"network.packets","type":"number","esTypes":["integer"],"count":10,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"packets","type":"number","esTypes":["integer"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"process.pid","type":"number","esTypes":["integer"],"count":10,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"protocol","type":"number","esTypes":["short"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"source.address","type":"string","esTypes":["keyword"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"source.as.number","type":"number","esTypes":["integer"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"source.as.organization.name","type":"string","esTypes":["keyword"],"count":10,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"source.bytes","type":"number","esTypes":["long"],"count":10,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"source.geo.city_name","type":"string","esTypes":["keyword"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"source.geo.country_iso_code","type":"string","esTypes":["keyword"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"source.geo.country_name","type":"string","esTypes":["keyword"],"count":10,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"source.geo.location","type":"geo_point","esTypes":["geo_point"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"source.ip","type":"ip","esTypes":["ip"],"count":10,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"source.packets","type":"number","esTypes":["long"],"count":10,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"source.port","type":"number","esTypes":["integer"],"count":10,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"srcaddr","type":"ip","esTypes":["ip"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"srcport","type":"number","esTypes":["integer"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"start","type":"date","esTypes":["date"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"subnet_id","type":"string","esTypes":["keyword"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"tcp_flags","type":"number","esTypes":["byte"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"url.full","type":"string","esTypes":["keyword"],"count":10,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"url.full.text","type":"string","esTypes":["text"],"count":10,"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"url.full"}}},{"name":"url.original","type":"string","esTypes":["keyword"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"url.original.text","type":"string","esTypes":["text"],"count":0,"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"url.original"}}},{"name":"user_agent.original","type":"string","esTypes":["keyword"],"count":10,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"user_agent.original.text","type":"string","esTypes":["text"],"count":10,"scripted":false,"searchable":true,"aggregatable":false,"readFromDocValues":false,"subType":{"multi":{"parent":"user_agent.original"}}},{"name":"version","type":"string","esTypes":["keyword"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true},{"name":"vpc_id","type":"string","esTypes":["keyword"],"count":0,"scripted":false,"searchable":true,"aggregatable":true,"readFromDocValues":true}]',timeFieldName:"timestamp",title:"log-aws-vpcflowlogs-*"},id:undefined,migrationVersion:undefined,references:[],type:"index-pattern"};const savedObjectsConfigsByLogType={network:{"index-pattern":vpcFlowLogsIndexPatternConfig,visualizations:vpcFlowLogsVisualizationConfigs,dashboard:vpcFlowLogsDashboardConfig},cloudtrail:{"index-pattern":cloudtrailIndexPatternConfig,visualizations:cloudtrailVisualizationConfigs,dashboard:cloudtrailDashboardConfig},s3:{"index-pattern":s3IndexPatternConfig,visualizations:s3VisualizationConfigs,dashboard:s3DashboardConfig}};function getSavedObjectConfigs(logType){return savedObjectsConfigsByLogType[logType]}var constants=__webpack_require__(8);function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}class SavedObjectService_SavedObjectService{constructor(savedObjectsClient,indexService){this.savedObjectsClient=savedObjectsClient;this.indexService=indexService;defineProperty_default()(this,"getDashboards",async()=>{const dashboards=await this.savedObjectsClient.find({type:"dashboard",fields:["references","id"],perPage:1e4}).then(response=>response.savedObjects);return Promise.resolve(dashboards)});defineProperty_default()(this,"getDashboard",async detectorId=>{let dashboard;const dashboards=await this.getDashboards();dashboards===null||dashboards===void 0||dashboards.some(dashRef=>{if(dashRef.references.findIndex(reference=>reference.id===detectorId)>-1){dashboard=dashRef;return true}return false});return dashboard});defineProperty_default()(this,"deleteDashboard",async dashboardId=>await this.savedObjectsClient.delete("dashboard",dashboardId));defineProperty_default()(this,"deleteVisualization",async visualizationId=>await this.savedObjectsClient.delete("visualization",visualizationId))}async createSavedObject(name,logType,detectorId,inputIndices){if(constants["K"].has(logType)){const savedObjectConfig=getSavedObjectConfigs(logType);if(savedObjectConfig){try{const aliasName=`${logType}-${detectorId}`;const indexActions=inputIndices.map(index=>({add:{index:index,alias:aliasName}}));await this.indexService.updateAliases({actions:indexActions});const detectorReferences=[{id:detectorId,name:name,type:"detector-SA"}];const indexPattern=await this.savedObjectsClient.create(savedObjectConfig["index-pattern"].type,_objectSpread(_objectSpread({},savedObjectConfig["index-pattern"].attributes),{},{title:aliasName}),_objectSpread(_objectSpread({},savedObjectConfig["index-pattern"]),{},{references:detectorReferences}));const visCreationPromises=savedObjectConfig.visualizations.map(visualizationConfig=>this.savedObjectsClient.create(visualizationConfig.type,visualizationConfig.attributes,_objectSpread(_objectSpread({},visualizationConfig),{},{references:visualizationConfig.references.map(ref=>_objectSpread(_objectSpread({},ref),{},{id:indexPattern.id}))})));const visCreationRes=await Promise.allSettled(visCreationPromises);const dashboardReferences=savedObjectConfig.dashboard.references.map((ref,index)=>{const createdVisRes=visCreationRes[index];if(createdVisRes.status==="fulfilled"){return _objectSpread(_objectSpread({},ref),{},{id:createdVisRes.value.id})}return ref});dashboardReferences.push({id:detectorId,name:name,type:"detector-SA"});const dashboardCreationRes=await this.savedObjectsClient.create(savedObjectConfig.dashboard.type,_objectSpread(_objectSpread({},savedObjectConfig.dashboard.attributes),{},{title:`${name} summary`,description:`Analyze ${logType} log data in security detector ${name}`}),_objectSpread(_objectSpread({},savedObjectConfig.dashboard),{},{references:dashboardReferences}));return Promise.resolve({ok:true,response:dashboardCreationRes})}catch(error){console.error("Failed to create dashboard for log type "+logType)}}}return Promise.reject("Log type not yet supported")}async getIndexPatterns(){const indexPatterns=await this.savedObjectsClient.find({type:"index-pattern",fields:["title","type"],perPage:1e4}).then(response=>response.savedObjects);return Promise.resolve(indexPatterns)}}},function(module,exports){function _extends(){module.exports=_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target},module.exports.__esModule=true,module.exports["default"]=module.exports;return _extends.apply(this,arguments)}module.exports=_extends,module.exports.__esModule=true,module.exports["default"]=module.exports},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _moment=_interopRequireDefault(__webpack_require__(52));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(iter))return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}var unitsMap={ms:{weight:1,type:"fixed",base:1},s:{weight:2,type:"fixed",base:1e3},m:{weight:3,type:"mixed",base:1e3*60},h:{weight:4,type:"mixed",base:1e3*60*60},d:{weight:5,type:"mixed",base:1e3*60*60*24},w:{weight:6,type:"calendar",base:NaN},M:{weight:7,type:"calendar",base:NaN},y:{weight:9,type:"calendar",base:NaN}};var units=Object.keys(unitsMap).sort((function(a,b){return unitsMap[b].weight-unitsMap[a].weight}));var unitsDesc=_toConsumableArray(units);var unitsAsc=_toConsumableArray(units).reverse();var isDate=function isDate(d){return Object.prototype.toString.call(d)==="[object Date]"};var isValidDate=function isValidDate(d){return isDate(d)&&!isNaN(d.valueOf())};function parse(text){var _ref=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},_ref$roundUp=_ref.roundUp,roundUp=_ref$roundUp===void 0?false:_ref$roundUp,_ref$momentInstance=_ref.momentInstance,momentInstance=_ref$momentInstance===void 0?_moment.default:_ref$momentInstance,forceNow=_ref.forceNow;if(!text)return undefined;if(momentInstance.isMoment(text))return text;if(isDate(text))return momentInstance(text);if(forceNow!==undefined&&!isValidDate(forceNow)){throw new Error("forceNow must be a valid Date")}var time;var mathString="";var index;var parseString;if(text.substring(0,3)==="now"){time=momentInstance(forceNow);mathString=text.substring("now".length)}else{index=text.indexOf("||");if(index===-1){parseString=text;mathString=""}else{parseString=text.substring(0,index);mathString=text.substring(index+2)}time=momentInstance(parseString)}if(!mathString.length){return time}return parseDateMath(mathString,time,roundUp)}function parseDateMath(mathString,time,roundUp){var dateTime=time;var len=mathString.length;var i=0;while(i<len){var c=mathString.charAt(i++);var type=void 0;var num=void 0;var unit=void 0;if(c==="/"){type=0}else if(c==="+"){type=1}else if(c==="-"){type=2}else{return}if(isNaN(mathString.charAt(i))){num=1}else if(mathString.length===2){num=mathString.charAt(i)}else{var numFrom=i;while(!isNaN(mathString.charAt(i))){i++;if(i>=len)return}num=parseInt(mathString.substring(numFrom,i),10)}if(type===0){if(num!==1){return}}unit=mathString.charAt(i++);for(var j=i;j<len;j++){var unitChar=mathString.charAt(i);if(/[a-z]/i.test(unitChar)){unit+=unitChar;i++}else{break}}if(units.indexOf(unit)===-1){return}else{if(type===0){if(roundUp)dateTime.endOf(unit);else dateTime.startOf(unit)}else if(type===1){dateTime.add(num,unit)}else if(type===2){dateTime.subtract(num,unit)}}}return dateTime}var _default={parse:parse,unitsMap:Object.freeze(unitsMap),units:Object.freeze(units),unitsAsc:Object.freeze(unitsAsc),unitsDesc:Object.freeze(unitsDesc)};exports.default=_default;module.exports=exports.default},function(module,exports,__webpack_require__){var arrayLikeKeys=__webpack_require__(169),baseKeysIn=__webpack_require__(518),isArrayLike=__webpack_require__(137);function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,true):baseKeysIn(object)}module.exports=keysIn},function(module,exports,__webpack_require__){var DataView=__webpack_require__(524),Map=__webpack_require__(113),Promise=__webpack_require__(525),Set=__webpack_require__(526),WeakMap=__webpack_require__(202),baseGetTag=__webpack_require__(43),toSource=__webpack_require__(167);var mapTag="[object Map]",objectTag="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]";var dataViewTag="[object DataView]";var dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap);var getTag=baseGetTag;if(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag){getTag=function(value){var result=baseGetTag(value),Ctor=result==objectTag?value.constructor:undefined,ctorString=Ctor?toSource(Ctor):"";if(ctorString){switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}}return result}}module.exports=getTag},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(43),isObjectLike=__webpack_require__(39);var symbolTag="[object Symbol]";function isSymbol(value){return typeof value=="symbol"||isObjectLike(value)&&baseGetTag(value)==symbolTag}module.exports=isSymbol},function(module,exports,__webpack_require__){"use strict";if(true){module.exports=__webpack_require__(480)}else{}},function(module,exports,__webpack_require__){var arrayLikeKeys=__webpack_require__(169),baseKeys=__webpack_require__(199),isArrayLike=__webpack_require__(137);function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}module.exports=keys},function(module,exports){function baseUnary(func){return function(value){return func(value)}}module.exports=baseUnary},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(236);module.exports=Function.prototype.bind||implementation},function(module,exports,__webpack_require__){"use strict";var replace=String.prototype.replace;var percentTwenties=/%20/g;var Format={RFC1738:"RFC1738",RFC3986:"RFC3986"};module.exports={default:Format.RFC3986,formatters:{RFC1738:function(value){return replace.call(value,percentTwenties,"+")},RFC3986:function(value){return String(value)}},RFC1738:Format.RFC1738,RFC3986:Format.RFC3986}},function(module,exports,__webpack_require__){"use strict";(function(global){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var base64=__webpack_require__(266);var ieee754=__webpack_require__(267);var isArray=__webpack_require__(268);exports.Buffer=Buffer;exports.SlowBuffer=SlowBuffer;exports.INSPECT_MAX_BYTES=50;Buffer.TYPED_ARRAY_SUPPORT=global.TYPED_ARRAY_SUPPORT!==undefined?global.TYPED_ARRAY_SUPPORT:typedArraySupport();exports.kMaxLength=kMaxLength();function typedArraySupport(){try{var arr=new Uint8Array(1);arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return arr.foo()===42&&typeof arr.subarray==="function"&&arr.subarray(1,1).byteLength===0}catch(e){return false}}function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(that,length){if(kMaxLength()<length){throw new RangeError("Invalid typed array length")}if(Buffer.TYPED_ARRAY_SUPPORT){that=new Uint8Array(length);that.__proto__=Buffer.prototype}else{if(that===null){that=new Buffer(length)}that.length=length}return that}function Buffer(arg,encodingOrOffset,length){if(!Buffer.TYPED_ARRAY_SUPPORT&&!(this instanceof Buffer)){return new Buffer(arg,encodingOrOffset,length)}if(typeof arg==="number"){if(typeof encodingOrOffset==="string"){throw new Error("If encoding is specified then the first argument must be a string")}return allocUnsafe(this,arg)}return from(this,arg,encodingOrOffset,length)}Buffer.poolSize=8192;Buffer._augment=function(arr){arr.__proto__=Buffer.prototype;return arr};function from(that,value,encodingOrOffset,length){if(typeof value==="number"){throw new TypeError('"value" argument must not be a number')}if(typeof ArrayBuffer!=="undefined"&&value instanceof ArrayBuffer){return fromArrayBuffer(that,value,encodingOrOffset,length)}if(typeof value==="string"){return fromString(that,value,encodingOrOffset)}return fromObject(that,value)}Buffer.from=function(value,encodingOrOffset,length){return from(null,value,encodingOrOffset,length)};if(Buffer.TYPED_ARRAY_SUPPORT){Buffer.prototype.__proto__=Uint8Array.prototype;Buffer.__proto__=Uint8Array;if(typeof Symbol!=="undefined"&&Symbol.species&&Buffer[Symbol.species]===Buffer){Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:true})}}function assertSize(size){if(typeof size!=="number"){throw new TypeError('"size" argument must be a number')}else if(size<0){throw new RangeError('"size" argument must not be negative')}}function alloc(that,size,fill,encoding){assertSize(size);if(size<=0){return createBuffer(that,size)}if(fill!==undefined){return typeof encoding==="string"?createBuffer(that,size).fill(fill,encoding):createBuffer(that,size).fill(fill)}return createBuffer(that,size)}Buffer.alloc=function(size,fill,encoding){return alloc(null,size,fill,encoding)};function allocUnsafe(that,size){assertSize(size);that=createBuffer(that,size<0?0:checked(size)|0);if(!Buffer.TYPED_ARRAY_SUPPORT){for(var i=0;i<size;++i){that[i]=0}}return that}Buffer.allocUnsafe=function(size){return allocUnsafe(null,size)};Buffer.allocUnsafeSlow=function(size){return allocUnsafe(null,size)};function fromString(that,string,encoding){if(typeof encoding!=="string"||encoding===""){encoding="utf8"}if(!Buffer.isEncoding(encoding)){throw new TypeError('"encoding" must be a valid string encoding')}var length=byteLength(string,encoding)|0;that=createBuffer(that,length);var actual=that.write(string,encoding);if(actual!==length){that=that.slice(0,actual)}return that}function fromArrayLike(that,array){var length=array.length<0?0:checked(array.length)|0;that=createBuffer(that,length);for(var i=0;i<length;i+=1){that[i]=array[i]&255}return that}function fromArrayBuffer(that,array,byteOffset,length){array.byteLength;if(byteOffset<0||array.byteLength<byteOffset){throw new RangeError("'offset' is out of bounds")}if(array.byteLength<byteOffset+(length||0)){throw new RangeError("'length' is out of bounds")}if(byteOffset===undefined&&length===undefined){array=new Uint8Array(array)}else if(length===undefined){array=new Uint8Array(array,byteOffset)}else{array=new Uint8Array(array,byteOffset,length)}if(Buffer.TYPED_ARRAY_SUPPORT){that=array;that.__proto__=Buffer.prototype}else{that=fromArrayLike(that,array)}return that}function fromObject(that,obj){if(Buffer.isBuffer(obj)){var len=checked(obj.length)|0;that=createBuffer(that,len);if(that.length===0){return that}obj.copy(that,0,0,len);return that}if(obj){if(typeof ArrayBuffer!=="undefined"&&obj.buffer instanceof ArrayBuffer||"length"in obj){if(typeof obj.length!=="number"||isnan(obj.length)){return createBuffer(that,0)}return fromArrayLike(that,obj)}if(obj.type==="Buffer"&&isArray(obj.data)){return fromArrayLike(that,obj.data)}}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(length){if(length>=kMaxLength()){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+kMaxLength().toString(16)+" bytes")}return length|0}function SlowBuffer(length){if(+length!=length){length=0}return Buffer.alloc(+length)}Buffer.isBuffer=function isBuffer(b){return!!(b!=null&&b._isBuffer)};Buffer.compare=function compare(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b)){throw new TypeError("Arguments must be Buffers")}if(a===b)return 0;var x=a.length;var y=b.length;for(var i=0,len=Math.min(x,y);i<len;++i){if(a[i]!==b[i]){x=a[i];y=b[i];break}}if(x<y)return-1;if(y<x)return 1;return 0};Buffer.isEncoding=function isEncoding(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};Buffer.concat=function concat(list,length){if(!isArray(list)){throw new TypeError('"list" argument must be an Array of Buffers')}if(list.length===0){return Buffer.alloc(0)}var i;if(length===undefined){length=0;for(i=0;i<list.length;++i){length+=list[i].length}}var buffer=Buffer.allocUnsafe(length);var pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(!Buffer.isBuffer(buf)){throw new TypeError('"list" argument must be an Array of Buffers')}buf.copy(buffer,pos);pos+=buf.length}return buffer};function byteLength(string,encoding){if(Buffer.isBuffer(string)){return string.length}if(typeof ArrayBuffer!=="undefined"&&typeof ArrayBuffer.isView==="function"&&(ArrayBuffer.isView(string)||string instanceof ArrayBuffer)){return string.byteLength}if(typeof string!=="string"){string=""+string}var len=string.length;if(len===0)return 0;var loweredCase=false;for(;;){switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":case undefined:return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return len*2;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase();loweredCase=true}}}Buffer.byteLength=byteLength;function slowToString(encoding,start,end){var loweredCase=false;if(start===undefined||start<0){start=0}if(start>this.length){return""}if(end===undefined||end>this.length){end=this.length}if(end<=0){return""}end>>>=0;start>>>=0;if(end<=start){return""}if(!encoding)encoding="utf8";while(true){switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase();loweredCase=true}}}Buffer.prototype._isBuffer=true;function swap(b,n,m){var i=b[n];b[n]=b[m];b[m]=i}Buffer.prototype.swap16=function swap16(){var len=this.length;if(len%2!==0){throw new RangeError("Buffer size must be a multiple of 16-bits")}for(var i=0;i<len;i+=2){swap(this,i,i+1)}return this};Buffer.prototype.swap32=function swap32(){var len=this.length;if(len%4!==0){throw new RangeError("Buffer size must be a multiple of 32-bits")}for(var i=0;i<len;i+=4){swap(this,i,i+3);swap(this,i+1,i+2)}return this};Buffer.prototype.swap64=function swap64(){var len=this.length;if(len%8!==0){throw new RangeError("Buffer size must be a multiple of 64-bits")}for(var i=0;i<len;i+=8){swap(this,i,i+7);swap(this,i+1,i+6);swap(this,i+2,i+5);swap(this,i+3,i+4)}return this};Buffer.prototype.toString=function toString(){var length=this.length|0;if(length===0)return"";if(arguments.length===0)return utf8Slice(this,0,length);return slowToString.apply(this,arguments)};Buffer.prototype.equals=function equals(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");if(this===b)return true;return Buffer.compare(this,b)===0};Buffer.prototype.inspect=function inspect(){var str="";var max=exports.INSPECT_MAX_BYTES;if(this.length>0){str=this.toString("hex",0,max).match(/.{2}/g).join(" ");if(this.length>max)str+=" ... "}return"<Buffer "+str+">"};Buffer.prototype.compare=function compare(target,start,end,thisStart,thisEnd){if(!Buffer.isBuffer(target)){throw new TypeError("Argument must be a Buffer")}if(start===undefined){start=0}if(end===undefined){end=target?target.length:0}if(thisStart===undefined){thisStart=0}if(thisEnd===undefined){thisEnd=this.length}if(start<0||end>target.length||thisStart<0||thisEnd>this.length){throw new RangeError("out of range index")}if(thisStart>=thisEnd&&start>=end){return 0}if(thisStart>=thisEnd){return-1}if(start>=end){return 1}start>>>=0;end>>>=0;thisStart>>>=0;thisEnd>>>=0;if(this===target)return 0;var x=thisEnd-thisStart;var y=end-start;var len=Math.min(x,y);var thisCopy=this.slice(thisStart,thisEnd);var targetCopy=target.slice(start,end);for(var i=0;i<len;++i){if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i];y=targetCopy[i];break}}if(x<y)return-1;if(y<x)return 1;return 0};function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(buffer.length===0)return-1;if(typeof byteOffset==="string"){encoding=byteOffset;byteOffset=0}else if(byteOffset>2147483647){byteOffset=2147483647}else if(byteOffset<-2147483648){byteOffset=-2147483648}byteOffset=+byteOffset;if(isNaN(byteOffset)){byteOffset=dir?0:buffer.length-1}if(byteOffset<0)byteOffset=buffer.length+byteOffset;if(byteOffset>=buffer.length){if(dir)return-1;else byteOffset=buffer.length-1}else if(byteOffset<0){if(dir)byteOffset=0;else return-1}if(typeof val==="string"){val=Buffer.from(val,encoding)}if(Buffer.isBuffer(val)){if(val.length===0){return-1}return arrayIndexOf(buffer,val,byteOffset,encoding,dir)}else if(typeof val==="number"){val=val&255;if(Buffer.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf==="function"){if(dir){return Uint8Array.prototype.indexOf.call(buffer,val,byteOffset)}else{return Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset)}}return arrayIndexOf(buffer,[val],byteOffset,encoding,dir)}throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){var indexSize=1;var arrLength=arr.length;var valLength=val.length;if(encoding!==undefined){encoding=String(encoding).toLowerCase();if(encoding==="ucs2"||encoding==="ucs-2"||encoding==="utf16le"||encoding==="utf-16le"){if(arr.length<2||val.length<2){return-1}indexSize=2;arrLength/=2;valLength/=2;byteOffset/=2}}function read(buf,i){if(indexSize===1){return buf[i]}else{return buf.readUInt16BE(i*indexSize)}}var i;if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++){if(read(arr,i)===read(val,foundIndex===-1?0:i-foundIndex)){if(foundIndex===-1)foundIndex=i;if(i-foundIndex+1===valLength)return foundIndex*indexSize}else{if(foundIndex!==-1)i-=i-foundIndex;foundIndex=-1}}}else{if(byteOffset+valLength>arrLength)byteOffset=arrLength-valLength;for(i=byteOffset;i>=0;i--){var found=true;for(var j=0;j<valLength;j++){if(read(arr,i+j)!==read(val,j)){found=false;break}}if(found)return i}}return-1}Buffer.prototype.includes=function includes(val,byteOffset,encoding){return this.indexOf(val,byteOffset,encoding)!==-1};Buffer.prototype.indexOf=function indexOf(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,true)};Buffer.prototype.lastIndexOf=function lastIndexOf(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,false)};function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;if(!length){length=remaining}else{length=Number(length);if(length>remaining){length=remaining}}var strLen=string.length;if(strLen%2!==0)throw new TypeError("Invalid hex string");if(length>strLen/2){length=strLen/2}for(var i=0;i<length;++i){var parsed=parseInt(string.substr(i*2,2),16);if(isNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}Buffer.prototype.write=function write(string,offset,length,encoding){if(offset===undefined){encoding="utf8";length=this.length;offset=0}else if(length===undefined&&typeof offset==="string"){encoding=offset;length=this.length;offset=0}else if(isFinite(offset)){offset=offset|0;if(isFinite(length)){length=length|0;if(encoding===undefined)encoding="utf8"}else{encoding=length;length=undefined}}else{throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported")}var remaining=this.length-offset;if(length===undefined||length>remaining)length=remaining;if(string.length>0&&(length<0||offset<0)||offset>this.length){throw new RangeError("Attempt to write outside buffer bounds")}if(!encoding)encoding="utf8";var loweredCase=false;for(;;){switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return latin1Write(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase();loweredCase=true}}};Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function base64Slice(buf,start,end){if(start===0&&end===buf.length){return base64.fromByteArray(buf)}else{return base64.fromByteArray(buf.slice(start,end))}}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);var res=[];var i=start;while(i<end){var firstByte=buf[i];var codePoint=null;var bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end){var secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:if(firstByte<128){codePoint=firstByte}break;case 2:secondByte=buf[i+1];if((secondByte&192)===128){tempCodePoint=(firstByte&31)<<6|secondByte&63;if(tempCodePoint>127){codePoint=tempCodePoint}}break;case 3:secondByte=buf[i+1];thirdByte=buf[i+2];if((secondByte&192)===128&&(thirdByte&192)===128){tempCodePoint=(firstByte&15)<<12|(secondByte&63)<<6|thirdByte&63;if(tempCodePoint>2047&&(tempCodePoint<55296||tempCodePoint>57343)){codePoint=tempCodePoint}}break;case 4:secondByte=buf[i+1];thirdByte=buf[i+2];fourthByte=buf[i+3];if((secondByte&192)===128&&(thirdByte&192)===128&&(fourthByte&192)===128){tempCodePoint=(firstByte&15)<<18|(secondByte&63)<<12|(thirdByte&63)<<6|fourthByte&63;if(tempCodePoint>65535&&tempCodePoint<1114112){codePoint=tempCodePoint}}}}if(codePoint===null){codePoint=65533;bytesPerSequence=1}else if(codePoint>65535){codePoint-=65536;res.push(codePoint>>>10&1023|55296);codePoint=56320|codePoint&1023}res.push(codePoint);i+=bytesPerSequence}return decodeCodePointsArray(res)}var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH){return String.fromCharCode.apply(String,codePoints)}var res="";var i=0;while(i<len){res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH))}return res}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i){ret+=String.fromCharCode(buf[i]&127)}return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i){ret+=String.fromCharCode(buf[i])}return ret}function hexSlice(buf,start,end){var len=buf.length;if(!start||start<0)start=0;if(!end||end<0||end>len)end=len;var out="";for(var i=start;i<end;++i){out+=toHex(buf[i])}return out}function utf16leSlice(buf,start,end){var bytes=buf.slice(start,end);var res="";for(var i=0;i<bytes.length;i+=2){res+=String.fromCharCode(bytes[i]+bytes[i+1]*256)}return res}Buffer.prototype.slice=function slice(start,end){var len=this.length;start=~~start;end=end===undefined?len:~~end;if(start<0){start+=len;if(start<0)start=0}else if(start>len){start=len}if(end<0){end+=len;if(end<0)end=0}else if(end>len){end=len}if(end<start)end=start;var newBuf;if(Buffer.TYPED_ARRAY_SUPPORT){newBuf=this.subarray(start,end);newBuf.__proto__=Buffer.prototype}else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,undefined);for(var i=0;i<sliceLen;++i){newBuf[i]=this[i+start]}}return newBuf};function checkOffset(offset,ext,length){if(offset%1!==0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}Buffer.prototype.readUIntLE=function readUIntLE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}return val};Buffer.prototype.readUIntBE=function readUIntBE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert){checkOffset(offset,byteLength,this.length)}var val=this[offset+--byteLength];var mul=1;while(byteLength>0&&(mul*=256)){val+=this[offset+--byteLength]*mul}return val};Buffer.prototype.readUInt8=function readUInt8(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length);return this[offset]};Buffer.prototype.readUInt16LE=function readUInt16LE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);return this[offset]|this[offset+1]<<8};Buffer.prototype.readUInt16BE=function readUInt16BE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);return this[offset]<<8|this[offset+1]};Buffer.prototype.readUInt32LE=function readUInt32LE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+this[offset+3]*16777216};Buffer.prototype.readUInt32BE=function readUInt32BE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]*16777216+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])};Buffer.prototype.readIntLE=function readIntLE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readIntBE=function readIntBE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var i=byteLength;var mul=1;var val=this[offset+--i];while(i>0&&(mul*=256)){val+=this[offset+--i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readInt8=function readInt8(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length);if(!(this[offset]&128))return this[offset];return(255-this[offset]+1)*-1};Buffer.prototype.readInt16LE=function readInt16LE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt16BE=function readInt16BE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt32LE=function readInt32LE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24};Buffer.prototype.readInt32BE=function readInt32BE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]};Buffer.prototype.readFloatLE=function readFloatLE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,true,23,4)};Buffer.prototype.readFloatBE=function readFloatBE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,false,23,4)};Buffer.prototype.readDoubleLE=function readDoubleLE(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,true,52,8)};Buffer.prototype.readDoubleBE=function readDoubleBE(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,false,52,8)};function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}Buffer.prototype.writeUIntLE=function writeUIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;byteLength=byteLength|0;if(!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var mul=1;var i=0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){this[offset+i]=value/mul&255}return offset+byteLength};Buffer.prototype.writeUIntBE=function writeUIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;byteLength=byteLength|0;if(!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var i=byteLength-1;var mul=1;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){this[offset+i]=value/mul&255}return offset+byteLength};Buffer.prototype.writeUInt8=function writeUInt8(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,1,255,0);if(!Buffer.TYPED_ARRAY_SUPPORT)value=Math.floor(value);this[offset]=value&255;return offset+1};function objectWriteUInt16(buf,value,offset,littleEndian){if(value<0)value=65535+value+1;for(var i=0,j=Math.min(buf.length-offset,2);i<j;++i){buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>(littleEndian?i:1-i)*8}}Buffer.prototype.writeUInt16LE=function writeUInt16LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,65535,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value&255;this[offset+1]=value>>>8}else{objectWriteUInt16(this,value,offset,true)}return offset+2};Buffer.prototype.writeUInt16BE=function writeUInt16BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,65535,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>8;this[offset+1]=value&255}else{objectWriteUInt16(this,value,offset,false)}return offset+2};function objectWriteUInt32(buf,value,offset,littleEndian){if(value<0)value=4294967295+value+1;for(var i=0,j=Math.min(buf.length-offset,4);i<j;++i){buf[offset+i]=value>>>(littleEndian?i:3-i)*8&255}}Buffer.prototype.writeUInt32LE=function writeUInt32LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset+3]=value>>>24;this[offset+2]=value>>>16;this[offset+1]=value>>>8;this[offset]=value&255}else{objectWriteUInt32(this,value,offset,true)}return offset+4};Buffer.prototype.writeUInt32BE=function writeUInt32BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&255}else{objectWriteUInt32(this,value,offset,false)}return offset+4};Buffer.prototype.writeIntLE=function writeIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0;var mul=1;var sub=0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){if(value<0&&sub===0&&this[offset+i-1]!==0){sub=1}this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeIntBE=function writeIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1;var mul=1;var sub=0;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){if(value<0&&sub===0&&this[offset+i+1]!==0){sub=1}this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeInt8=function writeInt8(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,1,127,-128);if(!Buffer.TYPED_ARRAY_SUPPORT)value=Math.floor(value);if(value<0)value=255+value+1;this[offset]=value&255;return offset+1};Buffer.prototype.writeInt16LE=function writeInt16LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value&255;this[offset+1]=value>>>8}else{objectWriteUInt16(this,value,offset,true)}return offset+2};Buffer.prototype.writeInt16BE=function writeInt16BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>8;this[offset+1]=value&255}else{objectWriteUInt16(this,value,offset,false)}return offset+2};Buffer.prototype.writeInt32LE=function writeInt32LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value&255;this[offset+1]=value>>>8;this[offset+2]=value>>>16;this[offset+3]=value>>>24}else{objectWriteUInt32(this,value,offset,true)}return offset+4};Buffer.prototype.writeInt32BE=function writeInt32BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(value<0)value=4294967295+value+1;if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&255}else{objectWriteUInt32(this,value,offset,false)}return offset+4};function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){if(!noAssert){checkIEEE754(buf,value,offset,4,34028234663852886e22,-34028234663852886e22)}ieee754.write(buf,value,offset,littleEndian,23,4);return offset+4}Buffer.prototype.writeFloatLE=function writeFloatLE(value,offset,noAssert){return writeFloat(this,value,offset,true,noAssert)};Buffer.prototype.writeFloatBE=function writeFloatBE(value,offset,noAssert){return writeFloat(this,value,offset,false,noAssert)};function writeDouble(buf,value,offset,littleEndian,noAssert){if(!noAssert){checkIEEE754(buf,value,offset,8,17976931348623157e292,-17976931348623157e292)}ieee754.write(buf,value,offset,littleEndian,52,8);return offset+8}Buffer.prototype.writeDoubleLE=function writeDoubleLE(value,offset,noAssert){return writeDouble(this,value,offset,true,noAssert)};Buffer.prototype.writeDoubleBE=function writeDoubleBE(value,offset,noAssert){return writeDouble(this,value,offset,false,noAssert)};Buffer.prototype.copy=function copy(target,targetStart,start,end){if(!start)start=0;if(!end&&end!==0)end=this.length;if(targetStart>=target.length)targetStart=target.length;if(!targetStart)targetStart=0;if(end>0&&end<start)end=start;if(end===start)return 0;if(target.length===0||this.length===0)return 0;if(targetStart<0){throw new RangeError("targetStart out of bounds")}if(start<0||start>=this.length)throw new RangeError("sourceStart out of bounds");if(end<0)throw new RangeError("sourceEnd out of bounds");if(end>this.length)end=this.length;if(target.length-targetStart<end-start){end=target.length-targetStart+start}var len=end-start;var i;if(this===target&&start<targetStart&&targetStart<end){for(i=len-1;i>=0;--i){target[i+targetStart]=this[i+start]}}else if(len<1e3||!Buffer.TYPED_ARRAY_SUPPORT){for(i=0;i<len;++i){target[i+targetStart]=this[i+start]}}else{Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart)}return len};Buffer.prototype.fill=function fill(val,start,end,encoding){if(typeof val==="string"){if(typeof start==="string"){encoding=start;start=0;end=this.length}else if(typeof end==="string"){encoding=end;end=this.length}if(val.length===1){var code=val.charCodeAt(0);if(code<256){val=code}}if(encoding!==undefined&&typeof encoding!=="string"){throw new TypeError("encoding must be a string")}if(typeof encoding==="string"&&!Buffer.isEncoding(encoding)){throw new TypeError("Unknown encoding: "+encoding)}}else if(typeof val==="number"){val=val&255}if(start<0||this.length<start||this.length<end){throw new RangeError("Out of range index")}if(end<=start){return this}start=start>>>0;end=end===undefined?this.length:end>>>0;if(!val)val=0;var i;if(typeof val==="number"){for(i=start;i<end;++i){this[i]=val}}else{var bytes=Buffer.isBuffer(val)?val:utf8ToBytes(new Buffer(val,encoding).toString());var len=bytes.length;for(i=0;i<end-start;++i){this[i+start]=bytes[i%len]}}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function base64clean(str){str=stringtrim(str).replace(INVALID_BASE64_RE,"");if(str.length<2)return"";while(str.length%4!==0){str=str+"="}return str}function stringtrim(str){if(str.trim)return str.trim();return str.replace(/^\s+|\s+$/g,"")}function toHex(n){if(n<16)return"0"+n.toString(16);return n.toString(16)}function utf8ToBytes(string,units){units=units||Infinity;var codePoint;var length=string.length;var leadSurrogate=null;var bytes=[];for(var i=0;i<length;++i){codePoint=string.charCodeAt(i);if(codePoint>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){if((units-=3)>-1)bytes.push(239,191,189);continue}else if(i+1===length){if((units-=3)>-1)bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){if((units-=3)>-1)bytes.push(239,191,189);leadSurrogate=codePoint;continue}codePoint=(leadSurrogate-55296<<10|codePoint-56320)+65536}else if(leadSurrogate){if((units-=3)>-1)bytes.push(239,191,189)}leadSurrogate=null;if(codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,codePoint&63|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,codePoint&63|128)}else if(codePoint<1114112){if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,codePoint&63|128)}else{throw new Error("Invalid code point")}}return bytes}function asciiToBytes(str){var byteArray=[];for(var i=0;i<str.length;++i){byteArray.push(str.charCodeAt(i)&255)}return byteArray}function utf16leToBytes(str,units){var c,hi,lo;var byteArray=[];for(var i=0;i<str.length;++i){if((units-=2)<0)break;c=str.charCodeAt(i);hi=c>>8;lo=c%256;byteArray.push(lo);byteArray.push(hi)}return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length;++i){if(i+offset>=dst.length||i>=src.length)break;dst[i+offset]=src[i]}return i}function isnan(val){return val!==val}}).call(this,__webpack_require__(35))},function(module,exports,__webpack_require__){switch(window.__osdThemeTag__){case"v7dark":return __webpack_require__(308);case"v7light":return __webpack_require__(310);case"v8dark":return __webpack_require__(312);case"v8light":return __webpack_require__(314);case"v9dark":return __webpack_require__(316);case"v9light":return __webpack_require__(318)}},function(module,exports){const looseOption=Object.freeze({loose:true});const emptyOpts=Object.freeze({});const parseOptions=options=>{if(!options){return emptyOpts}if(typeof options!=="object"){return looseOption}return options};module.exports=parseOptions},function(module,exports,__webpack_require__){const SemVer=__webpack_require__(23);const compareBuild=(a,b,loose)=>{const versionA=new SemVer(a,loose);const versionB=new SemVer(b,loose);return versionA.compare(versionB)||versionA.compareBuild(versionB)};module.exports=compareBuild},function(module,exports,__webpack_require__){const compare=__webpack_require__(28);const lt=(a,b,loose)=>compare(a,b,loose)<0;module.exports=lt},function(module,exports,__webpack_require__){const compare=__webpack_require__(28);const gte=(a,b,loose)=>compare(a,b,loose)>=0;module.exports=gte},function(module,exports,__webpack_require__){const compare=__webpack_require__(28);const lte=(a,b,loose)=>compare(a,b,loose)<=0;module.exports=lte},function(module,exports,__webpack_require__){const SemVer=__webpack_require__(23);const Comparator=__webpack_require__(66);const{ANY:ANY}=Comparator;const Range=__webpack_require__(29);const satisfies=__webpack_require__(67);const gt=__webpack_require__(65);const lt=__webpack_require__(101);const lte=__webpack_require__(103);const gte=__webpack_require__(102);const outside=(version,range,hilo,options)=>{version=new SemVer(version,options);range=new Range(range,options);let gtfn,ltefn,ltfn,comp,ecomp;switch(hilo){case">":gtfn=gt;ltefn=lte;ltfn=lt;comp=">";ecomp=">=";break;case"<":gtfn=lt;ltefn=gte;ltfn=gt;comp="<";ecomp="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(satisfies(version,range,options)){return false}for(let i=0;i<range.set.length;++i){const comparators=range.set[i];let high=null;let low=null;comparators.forEach(comparator=>{if(comparator.semver===ANY){comparator=new Comparator(">=0.0.0")}high=high||comparator;low=low||comparator;if(gtfn(comparator.semver,high.semver,options)){high=comparator}else if(ltfn(comparator.semver,low.semver,options)){low=comparator}});if(high.operator===comp||high.operator===ecomp){return false}if((!low.operator||low.operator===comp)&&ltefn(version,low.semver)){return false}else if(low.operator===ecomp&&ltfn(version,low.semver)){return false}}return true};module.exports=outside},function(module,exports,__webpack_require__){var baseIsNative=__webpack_require__(417),getValue=__webpack_require__(424);function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:undefined}module.exports=getNative},function(module,exports,__webpack_require__){var root=__webpack_require__(107);var Symbol=root.Symbol;module.exports=Symbol},function(module,exports,__webpack_require__){var freeGlobal=__webpack_require__(418);var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self;var root=freeGlobal||freeSelf||Function("return this")();module.exports=root},function(module,exports){function isObject(value){var type=typeof value;return value!=null&&(type=="object"||type=="function")}module.exports=isObject},function(module,exports){var isArray=Array.isArray;module.exports=isArray},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(159),isObjectLike=__webpack_require__(427);var symbolTag="[object Symbol]";function isSymbol(value){return typeof value=="symbol"||isObjectLike(value)&&baseGetTag(value)==symbolTag}module.exports=isSymbol},function(module,exports,__webpack_require__){"use strict";var Schema=__webpack_require__(46);module.exports=new Schema({explicit:[__webpack_require__(460),__webpack_require__(461),__webpack_require__(462)]})},function(module,exports,__webpack_require__){var overArg=__webpack_require__(166);var getPrototype=overArg(Object.getPrototypeOf,Object);module.exports=getPrototype},function(module,exports,__webpack_require__){var getNative=__webpack_require__(41),root=__webpack_require__(33);var Map=getNative(root,"Map");module.exports=Map},function(module,exports,__webpack_require__){(function(module){var freeGlobal=__webpack_require__(165);var freeExports=true&&exports&&!exports.nodeType&&exports;var freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module;var moduleExports=freeModule&&freeModule.exports===freeExports;var freeProcess=moduleExports&&freeGlobal.process;var nodeUtil=function(){try{var types=freeModule&&freeModule.require&&freeModule.require("util").types;if(types){return types}return freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}();module.exports=nodeUtil}).call(this,__webpack_require__(62)(module))},function(module,exports){var objectProto=Object.prototype;function isPrototype(value){var Ctor=value&&value.constructor,proto=typeof Ctor=="function"&&Ctor.prototype||objectProto;return value===proto}module.exports=isPrototype},function(module,exports,__webpack_require__){var arrayFilter=__webpack_require__(521),stubArray=__webpack_require__(170);var objectProto=Object.prototype;var propertyIsEnumerable=objectProto.propertyIsEnumerable;var nativeGetSymbols=Object.getOwnPropertySymbols;var getSymbols=!nativeGetSymbols?stubArray:function(object){if(object==null){return[]}object=Object(object);return arrayFilter(nativeGetSymbols(object),(function(symbol){return propertyIsEnumerable.call(object,symbol)}))};module.exports=getSymbols},function(module,exports,__webpack_require__){var Uint8Array=__webpack_require__(203);function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);new Uint8Array(result).set(new Uint8Array(arrayBuffer));return result}module.exports=cloneArrayBuffer},function(module,exports){const looseOption=Object.freeze({loose:true});const emptyOpts=Object.freeze({});const parseOptions=options=>{if(!options){return emptyOpts}if(typeof options!=="object"){return looseOption}return options};module.exports=parseOptions},function(module,exports,__webpack_require__){const SemVer=__webpack_require__(24);const compareBuild=(a,b,loose)=>{const versionA=new SemVer(a,loose);const versionB=new SemVer(b,loose);return versionA.compare(versionB)||versionA.compareBuild(versionB)};module.exports=compareBuild},function(module,exports,__webpack_require__){const compare=__webpack_require__(30);const lt=(a,b,loose)=>compare(a,b,loose)<0;module.exports=lt},function(module,exports,__webpack_require__){const compare=__webpack_require__(30);const gte=(a,b,loose)=>compare(a,b,loose)>=0;module.exports=gte},function(module,exports,__webpack_require__){const compare=__webpack_require__(30);const lte=(a,b,loose)=>compare(a,b,loose)<=0;module.exports=lte},function(module,exports,__webpack_require__){const SemVer=__webpack_require__(24);const Comparator=__webpack_require__(79);const{ANY:ANY}=Comparator;const Range=__webpack_require__(31);const satisfies=__webpack_require__(80);const gt=__webpack_require__(78);const lt=__webpack_require__(120);const lte=__webpack_require__(122);const gte=__webpack_require__(121);const outside=(version,range,hilo,options)=>{version=new SemVer(version,options);range=new Range(range,options);let gtfn,ltefn,ltfn,comp,ecomp;switch(hilo){case">":gtfn=gt;ltefn=lte;ltfn=lt;comp=">";ecomp=">=";break;case"<":gtfn=lt;ltefn=gte;ltfn=gt;comp="<";ecomp="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(satisfies(version,range,options)){return false}for(let i=0;i<range.set.length;++i){const comparators=range.set[i];let high=null;let low=null;comparators.forEach(comparator=>{if(comparator.semver===ANY){comparator=new Comparator(">=0.0.0")}high=high||comparator;low=low||comparator;if(gtfn(comparator.semver,high.semver,options)){high=comparator}else if(ltfn(comparator.semver,low.semver,options)){low=comparator}});if(high.operator===comp||high.operator===ecomp){return false}if((!low.operator||low.operator===comp)&&ltefn(version,low.semver)){return false}else if(low.operator===ecomp&&ltfn(version,low.semver)){return false}}return true};module.exports=outside},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return mapYamlObjectToYamlString}));__webpack_require__.d(__webpack_exports__,"a",(function(){return mapRuleToYamlObject}));__webpack_require__.d(__webpack_exports__,"b",(function(){return mapYamlObjectToRule}));var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(164);var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__);var js_yaml__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(37);var js_yaml__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(js_yaml__WEBPACK_IMPORTED_MODULE_1__);const _excluded=["detection"];const mapYamlObjectToYamlString=rule=>{try{if(!rule.detection){const{detection:detection}=rule,ruleWithoutDetection=_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default()(rule,_excluded);return Object(js_yaml__WEBPACK_IMPORTED_MODULE_1__["dump"])(ruleWithoutDetection)}else{return Object(js_yaml__WEBPACK_IMPORTED_MODULE_1__["dump"])(rule)}}catch(error){console.warn("Security Analytics - Rule Eritor - Yaml dump",error);return""}};const mapRuleToYamlObject=rule=>{let detection=undefined;if(rule.detection){try{detection=Object(js_yaml__WEBPACK_IMPORTED_MODULE_1__["load"])(rule.detection)}catch{}}const yamlObject={id:rule.id||"",logsource:{product:rule.category||""},title:rule.title||"",description:rule.description||"",tags:rule.tags.map(tag=>tag.value),falsepositives:rule.false_positives.map(falsePositive=>falsePositive.value),level:rule.level||"",status:rule.status||"",references:rule.references.map(reference=>reference.value),author:rule.author||"",detection:detection};return yamlObject};const mapYamlObjectToRule=obj=>{let detection="";if(obj.detection){try{detection=Object(js_yaml__WEBPACK_IMPORTED_MODULE_1__["dump"])(obj.detection)}catch{}}const rule={id:obj.id,category:obj.logsource?obj.logsource.product:undefined,log_source:{},title:obj.title,description:obj.description,tags:obj.tags?obj.tags.map(tag=>({value:tag})):undefined,false_positives:obj.falsepositives?obj.falsepositives.map(falsePositive=>({value:falsePositive})):undefined,level:obj.level,status:obj.status,references:obj.references?obj.references.map(reference=>({value:reference})):undefined,author:obj.author,detection:detection};return rule}},function(module,exports,__webpack_require__){(function(process){var getOwnPropertyDescriptors=Object.getOwnPropertyDescriptors||function getOwnPropertyDescriptors(obj){var keys=Object.keys(obj);var descriptors={};for(var i=0;i<keys.length;i++){descriptors[keys[i]]=Object.getOwnPropertyDescriptor(obj,keys[i])}return descriptors};var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){var objects=[];for(var i=0;i<arguments.length;i++){objects.push(inspect(arguments[i]))}return objects.join(" ")}var i=1;var args=arguments;var len=args.length;var str=String(f).replace(formatRegExp,(function(x){if(x==="%%")return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}}));for(var x=args[i];i<len;x=args[++i]){if(isNull(x)||!isObject(x)){str+=" "+x}else{str+=" "+inspect(x)}}return str};exports.deprecate=function(fn,msg){if(typeof process!=="undefined"&&process.noDeprecation===true){return fn}if(typeof process==="undefined"){return function(){return exports.deprecate(fn,msg).apply(this,arguments)}}var warned=false;function deprecated(){if(!warned){if(process.throwDeprecation){throw new Error(msg)}else if(process.traceDeprecation){console.trace(msg)}else{console.error(msg)}warned=true}return fn.apply(this,arguments)}return deprecated};var debugs={};var debugEnviron;exports.debuglog=function(set){if(isUndefined(debugEnviron))debugEnviron=Object({IS_OPENSEARCH_DASHBOARDS_DISTRIBUTABLE:"true"}).NODE_DEBUG||"";set=set.toUpperCase();if(!debugs[set]){if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else{debugs[set]=function(){}}}return debugs[set]};function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};if(arguments.length>=3)ctx.depth=arguments[2];if(arguments.length>=4)ctx.colors=arguments[3];if(isBoolean(opts)){ctx.showHidden=opts}else if(opts){exports._extend(ctx,opts)}if(isUndefined(ctx.showHidden))ctx.showHidden=false;if(isUndefined(ctx.depth))ctx.depth=2;if(isUndefined(ctx.colors))ctx.colors=false;if(isUndefined(ctx.customInspect))ctx.customInspect=true;if(ctx.colors)ctx.stylize=stylizeWithColor;return formatValue(ctx,obj,ctx.depth)}exports.inspect=inspect;inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];if(style){return"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m"}else{return str}}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};array.forEach((function(val,idx){hash[val]=true}));return hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&!(value.constructor&&value.constructor.prototype===value)){var ret=value.inspect(recurseTimes,ctx);if(!isString(ret)){ret=formatValue(ctx,ret,recurseTimes)}return ret}var primitive=formatPrimitive(ctx,value);if(primitive){return primitive}var keys=Object.keys(value);var visibleKeys=arrayToHash(keys);if(ctx.showHidden){keys=Object.getOwnPropertyNames(value)}if(isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0)){return formatError(value)}if(keys.length===0){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}if(isDate(value)){return ctx.stylize(Date.prototype.toString.call(value),"date")}if(isError(value)){return formatError(value)}}var base="",array=false,braces=["{","}"];if(isArray(value)){array=true;braces=["[","]"]}if(isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)){base=" "+RegExp.prototype.toString.call(value)}if(isDate(value)){base=" "+Date.prototype.toUTCString.call(value)}if(isError(value)){base=" "+formatError(value)}if(keys.length===0&&(!array||value.length==0)){return braces[0]+base+braces[1]}if(recurseTimes<0){if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}else{return ctx.stylize("[Object]","special")}}ctx.seen.push(value);var output;if(array){output=formatArray(ctx,value,recurseTimes,visibleKeys,keys)}else{output=keys.map((function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)}))}ctx.seen.pop();return reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}if(isNumber(value))return ctx.stylize(""+value,"number");if(isBoolean(value))return ctx.stylize(""+value,"boolean");if(isNull(value))return ctx.stylize("null","null")}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){var output=[];for(var i=0,l=value.length;i<l;++i){if(hasOwnProperty(value,String(i))){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),true))}else{output.push("")}}keys.forEach((function(key){if(!key.match(/^\d+$/)){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,true))}}));return output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]};if(desc.get){if(desc.set){str=ctx.stylize("[Getter/Setter]","special")}else{str=ctx.stylize("[Getter]","special")}}else{if(desc.set){str=ctx.stylize("[Setter]","special")}}if(!hasOwnProperty(visibleKeys,key)){name="["+key+"]"}if(!str){if(ctx.seen.indexOf(desc.value)<0){if(isNull(recurseTimes)){str=formatValue(ctx,desc.value,null)}else{str=formatValue(ctx,desc.value,recurseTimes-1)}if(str.indexOf("\n")>-1){if(array){str=str.split("\n").map((function(line){return"  "+line})).join("\n").substr(2)}else{str="\n"+str.split("\n").map((function(line){return"   "+line})).join("\n")}}}else{str=ctx.stylize("[Circular]","special")}}if(isUndefined(name)){if(array&&key.match(/^\d+$/)){return str}name=JSON.stringify(""+key);if(name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){name=name.substr(1,name.length-2);name=ctx.stylize(name,"name")}else{name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");name=ctx.stylize(name,"string")}}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0;var length=output.reduce((function(prev,cur){numLinesEst++;if(cur.indexOf("\n")>=0)numLinesEst++;return prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(length>60){return braces[0]+(base===""?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]}return braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}exports.isArray=isArray;function isBoolean(arg){return typeof arg==="boolean"}exports.isBoolean=isBoolean;function isNull(arg){return arg===null}exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null}exports.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==="number"}exports.isNumber=isNumber;function isString(arg){return typeof arg==="string"}exports.isString=isString;function isSymbol(arg){return typeof arg==="symbol"}exports.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0}exports.isUndefined=isUndefined;function isRegExp(re){return isObject(re)&&objectToString(re)==="[object RegExp]"}exports.isRegExp=isRegExp;function isObject(arg){return typeof arg==="object"&&arg!==null}exports.isObject=isObject;function isDate(d){return isObject(d)&&objectToString(d)==="[object Date]"}exports.isDate=isDate;function isError(e){return isObject(e)&&(objectToString(e)==="[object Error]"||e instanceof Error)}exports.isError=isError;function isFunction(arg){return typeof arg==="function"}exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==="boolean"||typeof arg==="number"||typeof arg==="string"||typeof arg==="symbol"||typeof arg==="undefined"}exports.isPrimitive=isPrimitive;exports.isBuffer=__webpack_require__(385);function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp(){var d=new Date;var time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))};exports.inherits=__webpack_require__(386);exports._extend=function(origin,add){if(!add||!isObject(add))return origin;var keys=Object.keys(add);var i=keys.length;while(i--){origin[keys[i]]=add[keys[i]]}return origin};function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}var kCustomPromisifiedSymbol=typeof Symbol!=="undefined"?Symbol("util.promisify.custom"):undefined;exports.promisify=function promisify(original){if(typeof original!=="function")throw new TypeError('The "original" argument must be of type Function');if(kCustomPromisifiedSymbol&&original[kCustomPromisifiedSymbol]){var fn=original[kCustomPromisifiedSymbol];if(typeof fn!=="function"){throw new TypeError('The "util.promisify.custom" argument must be of type Function')}Object.defineProperty(fn,kCustomPromisifiedSymbol,{value:fn,enumerable:false,writable:false,configurable:true});return fn}function fn(){var promiseResolve,promiseReject;var promise=new Promise((function(resolve,reject){promiseResolve=resolve;promiseReject=reject}));var args=[];for(var i=0;i<arguments.length;i++){args.push(arguments[i])}args.push((function(err,value){if(err){promiseReject(err)}else{promiseResolve(value)}}));try{original.apply(this,args)}catch(err){promiseReject(err)}return promise}Object.setPrototypeOf(fn,Object.getPrototypeOf(original));if(kCustomPromisifiedSymbol)Object.defineProperty(fn,kCustomPromisifiedSymbol,{value:fn,enumerable:false,writable:false,configurable:true});return Object.defineProperties(fn,getOwnPropertyDescriptors(original))};exports.promisify.custom=kCustomPromisifiedSymbol;function callbackifyOnRejected(reason,cb){if(!reason){var newReason=new Error("Promise was rejected with a falsy value");newReason.reason=reason;reason=newReason}return cb(reason)}function callbackify(original){if(typeof original!=="function"){throw new TypeError('The "original" argument must be of type Function')}function callbackified(){var args=[];for(var i=0;i<arguments.length;i++){args.push(arguments[i])}var maybeCb=args.pop();if(typeof maybeCb!=="function"){throw new TypeError("The last argument must be of type Function")}var self=this;var cb=function(){return maybeCb.apply(self,arguments)};original.apply(this,args).then((function(ret){process.nextTick(cb,null,ret)}),(function(rej){process.nextTick(callbackifyOnRejected,rej,cb)}))}Object.setPrototypeOf(callbackified,Object.getPrototypeOf(original));Object.defineProperties(callbackified,getOwnPropertyDescriptors(original));return callbackified}exports.callbackify=callbackify}).call(this,__webpack_require__(59))},function(module,exports,__webpack_require__){(function(global,factory){true?factory(exports):undefined})(this,(function(exports2){"use strict";const Space_Separator=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/;const ID_Start=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/;const ID_Continue=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/;const unicode={Space_Separator:Space_Separator,ID_Start:ID_Start,ID_Continue:ID_Continue};const isSpaceSeparator=c=>typeof c==="string"&&unicode.Space_Separator.test(c);const isIdStartChar=c=>typeof c==="string"&&(c>="a"&&c<="z"||c>="A"&&c<="Z"||c==="$"||c==="_"||unicode.ID_Start.test(c));const isIdContinueChar=c=>typeof c==="string"&&(c>="a"&&c<="z"||c>="A"&&c<="Z"||c>="0"&&c<="9"||c==="$"||c==="_"||c===""||c===""||unicode.ID_Continue.test(c));const isDigit=c=>typeof c==="string"&&/[0-9]/.test(c);const isInteger=s=>typeof s==="string"&&!/[^0-9]/.test(s);const isHex=s=>typeof s==="string"&&/0x[0-9a-f]+$/i.test(s);const isHexDigit=c=>typeof c==="string"&&/[0-9a-f]/i.test(c);function parse(text,reviver,options){let source=String(text);let parseState="start";let stack=[];let pos=0;let line=1;let column=0;let token;let key;let root;let lexState;let buffer;let doubleQuote;let sign;let c;const lexStates={default(){switch(c){case"\t":case"\v":case"\f":case" ":case"":case"\ufeff":case"\n":case"\r":case"\u2028":case"\u2029":read();return;case"/":read();lexState="comment";return;case void 0:read();return newToken("eof")}if(isSpaceSeparator(c)){read();return}return lexStates[parseState]()},comment(){switch(c){case"*":read();lexState="multiLineComment";return;case"/":read();lexState="singleLineComment";return}throw invalidChar(read())},multiLineComment(){switch(c){case"*":read();lexState="multiLineCommentAsterisk";return;case void 0:throw invalidChar(read())}read()},multiLineCommentAsterisk(){switch(c){case"*":read();return;case"/":read();lexState="default";return;case void 0:throw invalidChar(read())}read();lexState="multiLineComment"},singleLineComment(){switch(c){case"\n":case"\r":case"\u2028":case"\u2029":read();lexState="default";return;case void 0:read();return newToken("eof")}read()},value(){switch(c){case"{":case"[":return newToken("punctuator",read());case"n":read();literal("ull");return newToken("null",null);case"t":read();literal("rue");return newToken("boolean",true);case"f":read();literal("alse");return newToken("boolean",false);case"-":case"+":if(read()==="-"){sign=-1}lexState="sign";return;case".":buffer=read();lexState="decimalPointLeading";return;case"0":buffer=read();lexState="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":buffer=read();lexState="decimalInteger";return;case"I":read();literal("nfinity");return newToken("numeric",Infinity);case"N":read();literal("aN");return newToken("numeric",NaN);case'"':case"'":doubleQuote=read()==='"';buffer="";lexState="string";return}throw invalidChar(read())},identifierNameStartEscape(){if(c!=="u"){throw invalidChar(read())}read();const u=unicodeEscape();switch(u){case"$":case"_":break;default:if(!isIdStartChar(u)){throw invalidIdentifier()}break}buffer+=u;lexState="identifierName"},identifierName(){switch(c){case"$":case"_":case"":case"":buffer+=read();return;case"\\":read();lexState="identifierNameEscape";return}if(isIdContinueChar(c)){buffer+=read();return}return newToken("identifier",buffer)},identifierNameEscape(){if(c!=="u"){throw invalidChar(read())}read();const u=unicodeEscape();switch(u){case"$":case"_":case"":case"":break;default:if(!isIdContinueChar(u)){throw invalidIdentifier()}break}buffer+=u;lexState="identifierName"},sign(){switch(c){case".":buffer=read();lexState="decimalPointLeading";return;case"0":buffer=read();lexState="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":buffer=read();lexState="decimalInteger";return;case"I":read();literal("nfinity");return newToken("numeric",sign*Infinity);case"N":read();literal("aN");return newToken("numeric",NaN)}throw invalidChar(read())},zero(){switch(c){case".":buffer+=read();lexState="decimalPoint";return;case"e":case"E":buffer+=read();lexState="decimalExponent";return;case"x":case"X":buffer+=read();lexState="hexadecimal";return;case"n":lexState="bigInt";return}return newToken("numeric",sign*0)},decimalInteger(){switch(c){case".":buffer+=read();lexState="decimalPoint";return;case"e":case"E":buffer+=read();lexState="decimalExponent";return;case"n":lexState="bigInt";return}if(isDigit(c)){buffer+=read();return}return newNumericToken(sign,buffer)},decimalPointLeading(){if(isDigit(c)){buffer+=read();lexState="decimalFraction";return}throw invalidChar(read())},decimalPoint(){switch(c){case"e":case"E":buffer+=read();lexState="decimalExponent";return}if(isDigit(c)){buffer+=read();lexState="decimalFraction";return}return newNumericToken(sign,buffer)},decimalFraction(){switch(c){case"e":case"E":buffer+=read();lexState="decimalExponent";return}if(isDigit(c)){buffer+=read();return}return newNumericToken(sign,buffer)},decimalExponent(){switch(c){case"+":case"-":buffer+=read();lexState="decimalExponentSign";return}if(isDigit(c)){buffer+=read();lexState="decimalExponentInteger";return}throw invalidChar(read())},decimalExponentSign(){if(isDigit(c)){buffer+=read();lexState="decimalExponentInteger";return}throw invalidChar(read())},decimalExponentInteger(){if(isDigit(c)){buffer+=read();return}return newNumericToken(sign,buffer)},bigInt(){if((buffer==null?void 0:buffer.length)&&(isInteger(buffer)||isHex(buffer))){read();return newToken("bigint",BigInt(sign)*BigInt(buffer))}throw invalidChar(read())},hexadecimal(){if(isHexDigit(c)){buffer+=read();lexState="hexadecimalInteger";return}throw invalidChar(read())},hexadecimalInteger(){if(isHexDigit(c)){buffer+=read();return}if(c==="n"){lexState="bigInt";return}return newNumericToken(sign,buffer)},string(){switch(c){case"\\":read();buffer+=escape();return;case'"':if(doubleQuote){read();return newToken("string",buffer)}buffer+=read();return;case"'":if(!doubleQuote){read();return newToken("string",buffer)}buffer+=read();return;case"\n":case"\r":throw invalidChar(read());case"\u2028":case"\u2029":separatorChar(c);break;case void 0:throw invalidChar(read())}buffer+=read()},start(){switch(c){case"{":case"[":return newToken("punctuator",read());case void 0:return newToken("eof")}lexState="value"},beforePropertyName(){switch(c){case"$":case"_":buffer=read();lexState="identifierName";return;case"\\":read();lexState="identifierNameStartEscape";return;case"}":return newToken("punctuator",read());case'"':case"'":doubleQuote=read()==='"';lexState="string";return}if(isIdStartChar(c)){buffer+=read();lexState="identifierName";return}throw invalidChar(read())},afterPropertyName(){if(c===":"){return newToken("punctuator",read())}throw invalidChar(read())},beforePropertyValue(){lexState="value"},afterPropertyValue(){switch(c){case",":case"}":return newToken("punctuator",read())}throw invalidChar(read())},beforeArrayValue(){if(c==="]"){return newToken("punctuator",read())}lexState="value"},afterArrayValue(){switch(c){case",":case"]":return newToken("punctuator",read())}throw invalidChar(read())},end(){throw invalidChar(read())}};const parseStates={start(){if(token.type==="eof"){throw invalidEOF()}push()},beforePropertyName(){switch(token.type){case"identifier":case"string":key=token.value;parseState="afterPropertyName";return;case"punctuator":pop();return;case"eof":throw invalidEOF()}},afterPropertyName(){if(token.type==="eof"){throw invalidEOF()}parseState="beforePropertyValue"},beforePropertyValue(){if(token.type==="eof"){throw invalidEOF()}push()},beforeArrayValue(){if(token.type==="eof"){throw invalidEOF()}if(token.type==="punctuator"&&token.value==="]"){pop();return}push()},afterPropertyValue(){if(token.type==="eof"){throw invalidEOF()}switch(token.value){case",":parseState="beforePropertyName";return;case"}":pop()}},afterArrayValue(){if(token.type==="eof"){throw invalidEOF()}switch(token.value){case",":parseState="beforeArrayValue";return;case"]":pop()}},end(){}};do{token=lex();parseStates[parseState]()}while(token.type!=="eof");if(typeof reviver==="function"){return internalize({"":root},"",reviver)}return root;function internalize(holder,name,reviver2){const value=holder[name];if(value!=null&&typeof value==="object"){if(Array.isArray(value)){for(let i=0;i<value.length;i++){const key2=String(i);const replacement=internalize(value,key2,reviver2);Object.defineProperty(value,key2,{value:replacement,writable:true,enumerable:true,configurable:true})}}else{for(const key2 in value){const replacement=internalize(value,key2,reviver2);if(replacement===void 0){delete value[key2]}else{Object.defineProperty(value,key2,{value:replacement,writable:true,enumerable:true,configurable:true})}}}}return reviver2.call(holder,name,value)}function lex(){lexState="default";buffer="";doubleQuote=false;sign=1;for(;;){c=peek();const token2=lexStates[lexState]();if(token2){return token2}}}function peek(){if(source[pos]){return String.fromCodePoint(source.codePointAt(pos))}}function read(){const c2=peek();if(c2==="\n"){line++;column=0}else if(c2){column+=c2.length}else{column++}if(c2){pos+=c2.length}return c2}function newToken(type,value){return{type:type,value:value,line:line,column:column}}function newNumericToken(sign2,buffer2){const num=sign2*Number(buffer2);if(options==null?void 0:options.withLongNumerals){if(num>Number.MAX_SAFE_INTEGER||num<Number.MIN_SAFE_INTEGER){try{return newToken("bigint",BigInt(sign2)*BigInt(buffer2))}catch(ex){console.warn(ex)}}}return newToken("numeric",num)}function literal(s){for(const c2 of s){const p=peek();if(p!==c2){throw invalidChar(read())}read()}}function escape(){const c2=peek();switch(c2){case"b":read();return"\b";case"f":read();return"\f";case"n":read();return"\n";case"r":read();return"\r";case"t":read();return"\t";case"v":read();return"\v";case"0":read();if(isDigit(peek())){throw invalidChar(read())}return"\0";case"x":read();return hexEscape();case"u":read();return unicodeEscape();case"\n":case"\u2028":case"\u2029":read();return"";case"\r":read();if(peek()==="\n"){read()}return"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":throw invalidChar(read());case void 0:throw invalidChar(read())}return read()}function hexEscape(){let buffer2="";let c2=peek();if(!isHexDigit(c2)){throw invalidChar(read())}buffer2+=read();c2=peek();if(!isHexDigit(c2)){throw invalidChar(read())}buffer2+=read();return String.fromCodePoint(parseInt(buffer2,16))}function unicodeEscape(){let buffer2="";let count=4;while(count-- >0){const c2=peek();if(!isHexDigit(c2)){throw invalidChar(read())}buffer2+=read()}return String.fromCodePoint(parseInt(buffer2,16))}function push(){let value;switch(token.type){case"punctuator":switch(token.value){case"{":value={};break;case"[":value=[];break}break;case"null":case"boolean":case"numeric":case"string":case"bigint":value=token.value;break}if(root===void 0){root=value}else{const parent=stack[stack.length-1];if(Array.isArray(parent)){parent.push(value)}else{Object.defineProperty(parent,key,{value:value,writable:true,enumerable:true,configurable:true})}}if(value!==null&&typeof value==="object"){stack.push(value);if(Array.isArray(value)){parseState="beforeArrayValue"}else{parseState="beforePropertyName"}}else{const current=stack[stack.length-1];if(current==null){parseState="end"}else if(Array.isArray(current)){parseState="afterArrayValue"}else{parseState="afterPropertyValue"}}}function pop(){stack.pop();const current=stack[stack.length-1];if(current==null){parseState="end"}else if(Array.isArray(current)){parseState="afterArrayValue"}else{parseState="afterPropertyValue"}}function invalidChar(c2){if(c2===void 0){return syntaxError(`JSON11: invalid end of input at ${line}:${column}`)}return syntaxError(`JSON11: invalid character '${formatChar(c2)}' at ${line}:${column}`)}function invalidEOF(){return syntaxError(`JSON11: invalid end of input at ${line}:${column}`)}function invalidIdentifier(){column-=5;return syntaxError(`JSON11: invalid identifier character at ${line}:${column}`)}function separatorChar(c2){console.warn(`JSON11: '${formatChar(c2)}' in strings is not valid ECMAScript; consider escaping`)}function formatChar(c2){const replacements={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(replacements[c2]){return replacements[c2]}if(c2<" "){const hexString=c2.charCodeAt(0).toString(16);return"\\x"+("00"+hexString).substring(hexString.length)}return c2}function syntaxError(message){const err=new SyntaxError(message);Object.defineProperty(err,"lineNumber",{value:line,writable:true,enumerable:true,configurable:true});Object.defineProperty(err,"columnNumber",{value:column,writable:true,enumerable:true,configurable:true});return err}}function stringify(value,replacerOrAllowListOrOptions,space,options){var _a,_b,_c,_d,_e;const stack=[];let indent="";let propertyList;let replacer;let gap="";let quote;let withBigInt;let withLegacyEscapes;let nameSerializer=serializeKey;let trailingComma="";const quoteWeights={"'":.1,'"':.2};if(replacerOrAllowListOrOptions!=null&&typeof replacerOrAllowListOrOptions==="object"&&!Array.isArray(replacerOrAllowListOrOptions)){gap=getGap(replacerOrAllowListOrOptions.space);if(replacerOrAllowListOrOptions.trailingComma){trailingComma=","}quote=(_b=(_a=replacerOrAllowListOrOptions.quote)==null?void 0:_a.trim)==null?void 0:_b.call(_a);if(replacerOrAllowListOrOptions.quoteNames===true){nameSerializer=quoteString}if(typeof replacerOrAllowListOrOptions.replacer==="function"){replacer=replacerOrAllowListOrOptions.replacer}withBigInt=replacerOrAllowListOrOptions.withBigInt;withLegacyEscapes=replacerOrAllowListOrOptions.withLegacyEscapes===true}else{if(typeof replacerOrAllowListOrOptions==="function"){replacer=replacerOrAllowListOrOptions}else if(Array.isArray(replacerOrAllowListOrOptions)){propertyList=[];const propertySet=new Set;for(const v of replacerOrAllowListOrOptions){const key=(_c=v==null?void 0:v.toString)==null?void 0:_c.call(v);if(key!==void 0)propertySet.add(key)}propertyList=[...propertySet]}gap=getGap(space);quote=(_e=(_d=options==null?void 0:options.quote)==null?void 0:_d.trim)==null?void 0:_e.call(_d);if((options==null?void 0:options.quoteNames)===true){nameSerializer=quoteString}withBigInt=options==null?void 0:options.withBigInt;withLegacyEscapes=(options==null?void 0:options.withLegacyEscapes)===true;if(options==null?void 0:options.trailingComma){trailingComma=","}}const quoteReplacements={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":withLegacyEscapes?"\\v":"\\u000b","\0":withLegacyEscapes?"\\0":"\\u0000","\u2028":"\\u2028","\u2029":"\\u2029"};const quoteReplacementForNulFollowedByDigit=withLegacyEscapes?"\\x00":"\\u0000";return serializeProperty("",{"":value});function getGap(space2){if(typeof space2==="number"||space2 instanceof Number){const num=Number(space2);if(isFinite(num)&&num>0){return" ".repeat(Math.min(10,Math.floor(num)))}}else if(typeof space2==="string"||space2 instanceof String){return space2.substring(0,10)}return""}function serializeProperty(key,holder){let value2=holder[key];if(value2!=null){if(typeof value2.toJSON11==="function"){value2=value2.toJSON11(key)}else if(typeof value2.toJSON5==="function"){value2=value2.toJSON5(key)}else if(typeof value2.toJSON==="function"){value2=value2.toJSON(key)}}if(replacer){value2=replacer.call(holder,key,value2)}if(value2 instanceof Number){value2=Number(value2)}else if(value2 instanceof String){value2=String(value2)}else if(value2 instanceof Boolean){value2=value2.valueOf()}switch(value2){case null:return"null";case true:return"true";case false:return"false"}if(typeof value2==="string"){return quoteString(value2)}if(typeof value2==="number"){return String(value2)}if(typeof value2==="bigint"){return value2.toString()+(withBigInt===false?"":"n")}if(typeof value2==="object"){return Array.isArray(value2)?serializeArray(value2):serializeObject(value2)}return void 0}function quoteString(value2){let product="";for(let i=0;i<value2.length;i++){const c=value2[i];switch(c){case"'":case'"':quoteWeights[c]++;product+=c;continue;case"\0":if(isDigit(value2[i+1])){product+=quoteReplacementForNulFollowedByDigit;continue}}if(quoteReplacements[c]){product+=quoteReplacements[c];continue}if(c<" "){let hexString=c.charCodeAt(0).toString(16);product+=withLegacyEscapes?"\\x"+("00"+hexString).substring(hexString.length):"\\u"+hexString.padStart(4,"0");continue}product+=c}const quoteChar=quote||Object.keys(quoteWeights).reduce((a,b)=>quoteWeights[a]<quoteWeights[b]?a:b);product=product.replace(new RegExp(quoteChar,"g"),quoteReplacements[quoteChar]);return quoteChar+product+quoteChar}function serializeObject(value2){if(stack.includes(value2)){throw TypeError("Converting circular structure to JSON11")}stack.push(value2);let stepback=indent;indent=indent+gap;let keys=propertyList||Object.keys(value2);let partial=[];for(const key of keys){const propertyString=serializeProperty(key,value2);if(propertyString!==void 0){let member=nameSerializer(key)+":";if(gap!==""){member+=" "}member+=propertyString;partial.push(member)}}let final;if(partial.length===0){final="{}"}else{let properties;if(gap===""){properties=partial.join(",");final="{"+properties+"}"}else{properties=partial.join(",\n"+indent);final="{\n"+indent+properties+trailingComma+"\n"+stepback+"}"}}stack.pop();indent=stepback;return final}function serializeKey(key){if(key.length===0){return quoteString(key)}const firstChar=String.fromCodePoint(key.codePointAt(0));if(!isIdStartChar(firstChar)){return quoteString(key)}for(let i=firstChar.length;i<key.length;i++){if(!isIdContinueChar(String.fromCodePoint(key.codePointAt(i)))){return quoteString(key)}}return key}function serializeArray(value2){if(stack.includes(value2)){throw TypeError("Converting circular structure to JSON11")}stack.push(value2);let stepback=indent;indent=indent+gap;let partial=[];for(let i=0;i<value2.length;i++){const propertyString=serializeProperty(String(i),value2);partial.push(propertyString!==void 0?propertyString:"null")}let final;if(partial.length===0){final="[]"}else{if(gap===""){let properties=partial.join(",");final="["+properties+"]"}else{let properties=partial.join(",\n"+indent);final="[\n"+indent+properties+trailingComma+"\n"+stepback+"]"}}stack.pop();indent=stepback;return final}}exports2.parse=parse;exports2.stringify=stringify;Object.defineProperty(exports2,Symbol.toStringTag,{value:"Module"})}))},function(module,exports,__webpack_require__){"use strict";module.exports=function equal(a,b){if(a===b)return true;if(a&&b&&typeof a=="object"&&typeof b=="object"){if(a.constructor!==b.constructor)return false;var length,i,keys;if(Array.isArray(a)){length=a.length;if(length!=b.length)return false;for(i=length;i--!==0;)if(!equal(a[i],b[i]))return false;return true}if(a.constructor===RegExp)return a.source===b.source&&a.flags===b.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===b.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===b.toString();keys=Object.keys(a);length=keys.length;if(length!==Object.keys(b).length)return false;for(i=length;i--!==0;)if(!Object.prototype.hasOwnProperty.call(b,keys[i]))return false;for(i=length;i--!==0;){var key=keys[i];if(!equal(a[key],b[key]))return false}return true}return a!==a&&b!==b}},function(module,exports){(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?factory(exports):typeof define==="function"&&define.amd?define(["exports"],factory):(global=typeof globalThis!=="undefined"?globalThis:global||self,factory(global.vega={}))})(this,(function(exports){"use strict";function accessor(fn,fields,name){fn.fields=fields||[];fn.fname=name;return fn}function accessorName(fn){return fn==null?null:fn.fname}function accessorFields(fn){return fn==null?null:fn.fields}function getter(path){return path.length===1?get1(path[0]):getN(path)}const get1=field=>function(obj){return obj[field]};const getN=path=>{const len=path.length;return function(obj){for(let i=0;i<len;++i){obj=obj[path[i]]}return obj}};function error(message){throw Error(message)}function splitAccessPath(p){const path=[],n=p.length;let q=null,b=0,s="",i,j,c;p=p+"";function push(){path.push(s+p.substring(i,j));s="";i=j+1}for(i=j=0;j<n;++j){c=p[j];if(c==="\\"){s+=p.substring(i,j);s+=p.substring(++j,++j);i=j}else if(c===q){push();q=null;b=-1}else if(q){continue}else if(i===b&&c==='"'){i=j+1;q=c}else if(i===b&&c==="'"){i=j+1;q=c}else if(c==="."&&!b){if(j>i){push()}else{i=j+1}}else if(c==="["){if(j>i)push();b=i=j+1}else if(c==="]"){if(!b)error("Access path missing open bracket: "+p);if(b>0)push();b=0;i=j+1}}if(b)error("Access path missing closing bracket: "+p);if(q)error("Access path missing closing quote: "+p);if(j>i){j++;push()}return path}function field$1(field,name,opt){const path=splitAccessPath(field);field=path.length===1?path[0]:field;return accessor((opt&&opt.get||getter)(path),[field],name||field)}const id=field$1("id");const identity$6=accessor(_=>_,[],"identity");const zero$3=accessor(()=>0,[],"zero");const one$2=accessor(()=>1,[],"one");const truthy=accessor(()=>true,[],"true");const falsy=accessor(()=>false,[],"false");function log$1$1(method,level,input){const args=[level].concat([].slice.call(input));console[method].apply(console,args)}const None$2=0;const Error$1=1;const Warn=2;const Info=3;const Debug=4;function logger(_,method){let handler=arguments.length>2&&arguments[2]!==undefined?arguments[2]:log$1$1;let level=_||None$2;return{level(_){if(arguments.length){level=+_;return this}else{return level}},error(){if(level>=Error$1)handler(method||"error","ERROR",arguments);return this},warn(){if(level>=Warn)handler(method||"warn","WARN",arguments);return this},info(){if(level>=Info)handler(method||"log","INFO",arguments);return this},debug(){if(level>=Debug)handler(method||"log","DEBUG",arguments);return this}}}var isArray=Array.isArray;function isObject(_){return _===Object(_)}const isLegalKey=key=>key!=="__proto__";function mergeConfig(){for(var _len=arguments.length,configs=new Array(_len),_key=0;_key<_len;_key++){configs[_key]=arguments[_key]}return configs.reduce((out,source)=>{for(const key in source){if(key==="signals"){out.signals=mergeNamed(out.signals,source.signals)}else{const r=key==="legend"?{layout:1}:key==="style"?true:null;writeConfig(out,key,source[key],r)}}return out},{})}function writeConfig(output,key,value,recurse){if(!isLegalKey(key))return;let k,o;if(isObject(value)&&!isArray(value)){o=isObject(output[key])?output[key]:output[key]={};for(k in value){if(recurse&&(recurse===true||recurse[k])){writeConfig(o,k,value[k])}else if(isLegalKey(k)){o[k]=value[k]}}}else{output[key]=value}}function mergeNamed(a,b){if(a==null)return b;const map={},out=[];function add(_){if(!map[_.name]){map[_.name]=1;out.push(_)}}b.forEach(add);a.forEach(add);return out}function peek$1(array){return array[array.length-1]}function toNumber(_){return _==null||_===""?null:+_}const exp$2=sign=>x=>sign*Math.exp(x);const log$4=sign=>x=>Math.log(sign*x);const symlog$1=c=>x=>Math.sign(x)*Math.log1p(Math.abs(x/c));const symexp=c=>x=>Math.sign(x)*Math.expm1(Math.abs(x))*c;const pow$4=exponent=>x=>x<0?-Math.pow(-x,exponent):Math.pow(x,exponent);function pan(domain,delta,lift,ground){const d0=lift(domain[0]),d1=lift(peek$1(domain)),dd=(d1-d0)*delta;return[ground(d0-dd),ground(d1-dd)]}function panLinear(domain,delta){return pan(domain,delta,toNumber,identity$6)}function panLog(domain,delta){var sign=Math.sign(domain[0]);return pan(domain,delta,log$4(sign),exp$2(sign))}function panPow(domain,delta,exponent){return pan(domain,delta,pow$4(exponent),pow$4(1/exponent))}function panSymlog(domain,delta,constant){return pan(domain,delta,symlog$1(constant),symexp(constant))}function zoom$1(domain,anchor,scale,lift,ground){const d0=lift(domain[0]),d1=lift(peek$1(domain)),da=anchor!=null?lift(anchor):(d0+d1)/2;return[ground(da+(d0-da)*scale),ground(da+(d1-da)*scale)]}function zoomLinear(domain,anchor,scale){return zoom$1(domain,anchor,scale,toNumber,identity$6)}function zoomLog(domain,anchor,scale){const sign=Math.sign(domain[0]);return zoom$1(domain,anchor,scale,log$4(sign),exp$2(sign))}function zoomPow(domain,anchor,scale,exponent){return zoom$1(domain,anchor,scale,pow$4(exponent),pow$4(1/exponent))}function zoomSymlog(domain,anchor,scale,constant){return zoom$1(domain,anchor,scale,symlog$1(constant),symexp(constant))}function quarter(date){return 1+~~(new Date(date).getMonth()/3)}function utcquarter(date){return 1+~~(new Date(date).getUTCMonth()/3)}function array$5(_){return _!=null?isArray(_)?_:[_]:[]}function clampRange(range,min,max){let lo=range[0],hi=range[1],span;if(hi<lo){span=hi;hi=lo;lo=span}span=hi-lo;return span>=max-min?[min,max]:[lo=Math.min(Math.max(lo,min),max-span),lo+span]}function isFunction(_){return typeof _==="function"}const DESCENDING="descending";function compare$1(fields,orders,opt){opt=opt||{};orders=array$5(orders)||[];const ord=[],get=[],fmap={},gen=opt.comparator||comparator;array$5(fields).forEach((f,i)=>{if(f==null)return;ord.push(orders[i]===DESCENDING?-1:1);get.push(f=isFunction(f)?f:field$1(f,null,opt));(accessorFields(f)||[]).forEach(_=>fmap[_]=1)});return get.length===0?null:accessor(gen(get,ord),Object.keys(fmap))}const ascending$2=(u,v)=>(u<v||u==null)&&v!=null?-1:(u>v||v==null)&&u!=null?1:(v=v instanceof Date?+v:v,u=u instanceof Date?+u:u)!==u&&v===v?-1:v!==v&&u===u?1:0;const comparator=(fields,orders)=>fields.length===1?compare1(fields[0],orders[0]):compareN(fields,orders,fields.length);const compare1=(field,order)=>function(a,b){return ascending$2(field(a),field(b))*order};const compareN=(fields,orders,n)=>{orders.push(0);return function(a,b){let f,c=0,i=-1;while(c===0&&++i<n){f=fields[i];c=ascending$2(f(a),f(b))}return c*orders[i]}};function constant$4(_){return isFunction(_)?_:()=>_}function debounce(delay,handler){let tid;return e=>{if(tid)clearTimeout(tid);tid=setTimeout(()=>(handler(e),tid=null),delay)}}function extend$1(_){for(let x,k,i=1,len=arguments.length;i<len;++i){x=arguments[i];for(k in x){_[k]=x[k]}}return _}function extent(array,f){let i=0,n,v,min,max;if(array&&(n=array.length)){if(f==null){for(v=array[i];i<n&&(v==null||v!==v);v=array[++i]);min=max=v;for(;i<n;++i){v=array[i];if(v!=null){if(v<min)min=v;if(v>max)max=v}}}else{for(v=f(array[i]);i<n&&(v==null||v!==v);v=f(array[++i]));min=max=v;for(;i<n;++i){v=f(array[i]);if(v!=null){if(v<min)min=v;if(v>max)max=v}}}}return[min,max]}function extentIndex(array,f){const n=array.length;let i=-1,a,b,c,u,v;if(f==null){while(++i<n){b=array[i];if(b!=null&&b>=b){a=c=b;break}}if(i===n)return[-1,-1];u=v=i;while(++i<n){b=array[i];if(b!=null){if(a>b){a=b;u=i}if(c<b){c=b;v=i}}}}else{while(++i<n){b=f(array[i],i,array);if(b!=null&&b>=b){a=c=b;break}}if(i===n)return[-1,-1];u=v=i;while(++i<n){b=f(array[i],i,array);if(b!=null){if(a>b){a=b;u=i}if(c<b){c=b;v=i}}}}return[u,v]}const hop=Object.prototype.hasOwnProperty;function has$1(object,property){return hop.call(object,property)}const NULL={};function fastmap(input){let obj={},test;function has$1$1(key){return has$1(obj,key)&&obj[key]!==NULL}const map={size:0,empty:0,object:obj,has:has$1$1,get(key){return has$1$1(key)?obj[key]:undefined},set(key,value){if(!has$1$1(key)){++map.size;if(obj[key]===NULL)--map.empty}obj[key]=value;return this},delete(key){if(has$1$1(key)){--map.size;++map.empty;obj[key]=NULL}return this},clear(){map.size=map.empty=0;map.object=obj={}},test(_){if(arguments.length){test=_;return map}else{return test}},clean(){const next={};let size=0;for(const key in obj){const value=obj[key];if(value!==NULL&&(!test||!test(value))){next[key]=value;++size}}map.size=size;map.empty=0;map.object=obj=next}};if(input)Object.keys(input).forEach(key=>{map.set(key,input[key])});return map}function flush(range,value,threshold,left,right,center){if(!threshold&&threshold!==0)return center;const t=+threshold;let a=range[0],b=peek$1(range),l;if(b<a){l=a;a=b;b=l}l=Math.abs(value-a);const r=Math.abs(b-value);return l<r&&l<=t?left:r<=t?right:center}function inherits(child,parent,members){const proto=child.prototype=Object.create(parent.prototype);Object.defineProperty(proto,"constructor",{value:child,writable:true,enumerable:true,configurable:true});return extend$1(proto,members)}function inrange(value,range,left,right){let r0=range[0],r1=range[range.length-1],t;if(r0>r1){t=r0;r0=r1;r1=t}left=left===undefined||left;right=right===undefined||right;return(left?r0<=value:r0<value)&&(right?value<=r1:value<r1)}function isBoolean$1(_){return typeof _==="boolean"}function isDate$1(_){return Object.prototype.toString.call(_)==="[object Date]"}function isIterable(_){return _&&isFunction(_[Symbol.iterator])}function isNumber$1(_){return typeof _==="number"}function isRegExp(_){return Object.prototype.toString.call(_)==="[object RegExp]"}function isString(_){return typeof _==="string"}function key(fields,flat,opt){if(fields){fields=flat?array$5(fields).map(f=>f.replace(/\\(.)/g,"$1")):array$5(fields)}const len=fields&&fields.length,gen=opt&&opt.get||getter,map=f=>gen(flat?[f]:splitAccessPath(f));let fn;if(!len){fn=function(){return""}}else if(len===1){const get=map(fields[0]);fn=function(_){return""+get(_)}}else{const get=fields.map(map);fn=function(_){let s=""+get[0](_),i=0;while(++i<len)s+="|"+get[i](_);return s}}return accessor(fn,fields,"key")}function lerp(array,frac){const lo=array[0],hi=peek$1(array),f=+frac;return!f?lo:f===1?hi:lo+f*(hi-lo)}const DEFAULT_MAX_SIZE=1e4;function lruCache(maxsize){maxsize=+maxsize||DEFAULT_MAX_SIZE;let curr,prev,size;const clear=()=>{curr={};prev={};size=0};const update=(key,value)=>{if(++size>maxsize){prev=curr;curr={};size=1}return curr[key]=value};clear();return{clear:clear,has:key=>has$1(curr,key)||has$1(prev,key),get:key=>has$1(curr,key)?curr[key]:has$1(prev,key)?update(key,prev[key]):undefined,set:(key,value)=>has$1(curr,key)?curr[key]=value:update(key,value)}}function merge$3(compare,array0,array1,output){const n0=array0.length,n1=array1.length;if(!n1)return array0;if(!n0)return array1;const merged=output||new array0.constructor(n0+n1);let i0=0,i1=0,i=0;for(;i0<n0&&i1<n1;++i){merged[i]=compare(array0[i0],array1[i1])>0?array1[i1++]:array0[i0++]}for(;i0<n0;++i0,++i){merged[i]=array0[i0]}for(;i1<n1;++i1,++i){merged[i]=array1[i1]}return merged}function repeat(str,reps){let s="";while(--reps>=0)s+=str;return s}function pad$2(str,length,padchar,align){const c=padchar||" ",s=str+"",n=length-s.length;return n<=0?s:align==="left"?repeat(c,n)+s:align==="center"?repeat(c,~~(n/2))+s+repeat(c,Math.ceil(n/2)):s+repeat(c,n)}function span(array){return array&&peek$1(array)-array[0]||0}function $(x){return isArray(x)?"["+x.map($)+"]":isObject(x)||isString(x)?JSON.stringify(x).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):x}function toBoolean(_){return _==null||_===""?null:!_||_==="false"||_==="0"?false:!!_}const defaultParser=_=>isNumber$1(_)?_:isDate$1(_)?_:Date.parse(_);function toDate(_,parser){parser=parser||defaultParser;return _==null||_===""?null:parser(_)}function toString(_){return _==null||_===""?null:_+""}function toSet(_){const s={},n=_.length;for(let i=0;i<n;++i)s[_[i]]=true;return s}function truncate$1(str,length,align,ellipsis){const e=ellipsis!=null?ellipsis:"",s=str+"",n=s.length,l=Math.max(0,length-e.length);return n<=length?s:align==="left"?e+s.slice(n-l):align==="center"?s.slice(0,Math.ceil(l/2))+e+s.slice(n-~~(l/2)):s.slice(0,l)+e}function visitArray(array,filter,visitor){if(array){if(filter){const n=array.length;for(let i=0;i<n;++i){const t=filter(array[i]);if(t)visitor(t,i,array)}}else{array.forEach(visitor)}}}var EOL={},EOF={},QUOTE=34,NEWLINE=10,RETURN=13;function objectConverter(columns){return new Function("d","return {"+columns.map((function(name,i){return JSON.stringify(name)+": d["+i+'] || ""'})).join(",")+"}")}function customConverter(columns,f){var object=objectConverter(columns);return function(row,i){return f(object(row),i,columns)}}function inferColumns(rows){var columnSet=Object.create(null),columns=[];rows.forEach((function(row){for(var column in row){if(!(column in columnSet)){columns.push(columnSet[column]=column)}}}));return columns}function pad$1(value,width){var s=value+"",length=s.length;return length<width?new Array(width-length+1).join(0)+s:s}function formatYear$1(year){return year<0?"-"+pad$1(-year,6):year>9999?"+"+pad$1(year,6):pad$1(year,4)}function formatDate(date){var hours=date.getUTCHours(),minutes=date.getUTCMinutes(),seconds=date.getUTCSeconds(),milliseconds=date.getUTCMilliseconds();return isNaN(date)?"Invalid Date":formatYear$1(date.getUTCFullYear())+"-"+pad$1(date.getUTCMonth()+1,2)+"-"+pad$1(date.getUTCDate(),2)+(milliseconds?"T"+pad$1(hours,2)+":"+pad$1(minutes,2)+":"+pad$1(seconds,2)+"."+pad$1(milliseconds,3)+"Z":seconds?"T"+pad$1(hours,2)+":"+pad$1(minutes,2)+":"+pad$1(seconds,2)+"Z":minutes||hours?"T"+pad$1(hours,2)+":"+pad$1(minutes,2)+"Z":"")}function dsvFormat(delimiter){var reFormat=new RegExp('["'+delimiter+"\n\r]"),DELIMITER=delimiter.charCodeAt(0);function parse(text,f){var convert,columns,rows=parseRows(text,(function(row,i){if(convert)return convert(row,i-1);columns=row,convert=f?customConverter(row,f):objectConverter(row)}));rows.columns=columns||[];return rows}function parseRows(text,f){var rows=[],N=text.length,I=0,n=0,t,eof=N<=0,eol=false;if(text.charCodeAt(N-1)===NEWLINE)--N;if(text.charCodeAt(N-1)===RETURN)--N;function token(){if(eof)return EOF;if(eol)return eol=false,EOL;var i,j=I,c;if(text.charCodeAt(j)===QUOTE){while(I++<N&&text.charCodeAt(I)!==QUOTE||text.charCodeAt(++I)===QUOTE);if((i=I)>=N)eof=true;else if((c=text.charCodeAt(I++))===NEWLINE)eol=true;else if(c===RETURN){eol=true;if(text.charCodeAt(I)===NEWLINE)++I}return text.slice(j+1,i-1).replace(/""/g,'"')}while(I<N){if((c=text.charCodeAt(i=I++))===NEWLINE)eol=true;else if(c===RETURN){eol=true;if(text.charCodeAt(I)===NEWLINE)++I}else if(c!==DELIMITER)continue;return text.slice(j,i)}return eof=true,text.slice(j,N)}while((t=token())!==EOF){var row=[];while(t!==EOL&&t!==EOF)row.push(t),t=token();if(f&&(row=f(row,n++))==null)continue;rows.push(row)}return rows}function preformatBody(rows,columns){return rows.map((function(row){return columns.map((function(column){return formatValue(row[column])})).join(delimiter)}))}function format(rows,columns){if(columns==null)columns=inferColumns(rows);return[columns.map(formatValue).join(delimiter)].concat(preformatBody(rows,columns)).join("\n")}function formatBody(rows,columns){if(columns==null)columns=inferColumns(rows);return preformatBody(rows,columns).join("\n")}function formatRows(rows){return rows.map(formatRow).join("\n")}function formatRow(row){return row.map(formatValue).join(delimiter)}function formatValue(value){return value==null?"":value instanceof Date?formatDate(value):reFormat.test(value+="")?'"'+value.replace(/"/g,'""')+'"':value}return{parse:parse,parseRows:parseRows,format:format,formatBody:formatBody,formatRows:formatRows,formatRow:formatRow,formatValue:formatValue}}function identity$5(x){return x}function transform$3(transform){if(transform==null)return identity$5;var x0,y0,kx=transform.scale[0],ky=transform.scale[1],dx=transform.translate[0],dy=transform.translate[1];return function(input,i){if(!i)x0=y0=0;var j=2,n=input.length,output=new Array(n);output[0]=(x0+=input[0])*kx+dx;output[1]=(y0+=input[1])*ky+dy;while(j<n)output[j]=input[j],++j;return output}}function reverse$1(array,n){var t,j=array.length,i=j-n;while(i<--j)t=array[i],array[i++]=array[j],array[j]=t}function feature(topology,o){if(typeof o==="string")o=topology.objects[o];return o.type==="GeometryCollection"?{type:"FeatureCollection",features:o.geometries.map((function(o){return feature$1(topology,o)}))}:feature$1(topology,o)}function feature$1(topology,o){var id=o.id,bbox=o.bbox,properties=o.properties==null?{}:o.properties,geometry=object$1(topology,o);return id==null&&bbox==null?{type:"Feature",properties:properties,geometry:geometry}:bbox==null?{type:"Feature",id:id,properties:properties,geometry:geometry}:{type:"Feature",id:id,bbox:bbox,properties:properties,geometry:geometry}}function object$1(topology,o){var transformPoint=transform$3(topology.transform),arcs=topology.arcs;function arc(i,points){if(points.length)points.pop();for(var a=arcs[i<0?~i:i],k=0,n=a.length;k<n;++k){points.push(transformPoint(a[k],k))}if(i<0)reverse$1(points,n)}function point(p){return transformPoint(p)}function line(arcs){var points=[];for(var i=0,n=arcs.length;i<n;++i)arc(arcs[i],points);if(points.length<2)points.push(points[0]);return points}function ring(arcs){var points=line(arcs);while(points.length<4)points.push(points[0]);return points}function polygon(arcs){return arcs.map(ring)}function geometry(o){var type=o.type,coordinates;switch(type){case"GeometryCollection":return{type:type,geometries:o.geometries.map(geometry)};case"Point":coordinates=point(o.coordinates);break;case"MultiPoint":coordinates=o.coordinates.map(point);break;case"LineString":coordinates=line(o.arcs);break;case"MultiLineString":coordinates=o.arcs.map(line);break;case"Polygon":coordinates=polygon(o.arcs);break;case"MultiPolygon":coordinates=o.arcs.map(polygon);break;default:return null}return{type:type,coordinates:coordinates}}return geometry(o)}function stitch(topology,arcs){var stitchedArcs={},fragmentByStart={},fragmentByEnd={},fragments=[],emptyIndex=-1;arcs.forEach((function(i,j){var arc=topology.arcs[i<0?~i:i],t;if(arc.length<3&&!arc[1][0]&&!arc[1][1]){t=arcs[++emptyIndex],arcs[emptyIndex]=i,arcs[j]=t}}));arcs.forEach((function(i){var e=ends(i),start=e[0],end=e[1],f,g;if(f=fragmentByEnd[start]){delete fragmentByEnd[f.end];f.push(i);f.end=end;if(g=fragmentByStart[end]){delete fragmentByStart[g.start];var fg=g===f?f:f.concat(g);fragmentByStart[fg.start=f.start]=fragmentByEnd[fg.end=g.end]=fg}else{fragmentByStart[f.start]=fragmentByEnd[f.end]=f}}else if(f=fragmentByStart[end]){delete fragmentByStart[f.start];f.unshift(i);f.start=start;if(g=fragmentByEnd[start]){delete fragmentByEnd[g.end];var gf=g===f?f:g.concat(f);fragmentByStart[gf.start=g.start]=fragmentByEnd[gf.end=f.end]=gf}else{fragmentByStart[f.start]=fragmentByEnd[f.end]=f}}else{f=[i];fragmentByStart[f.start=start]=fragmentByEnd[f.end=end]=f}}));function ends(i){var arc=topology.arcs[i<0?~i:i],p0=arc[0],p1;if(topology.transform)p1=[0,0],arc.forEach((function(dp){p1[0]+=dp[0],p1[1]+=dp[1]}));else p1=arc[arc.length-1];return i<0?[p1,p0]:[p0,p1]}function flush(fragmentByEnd,fragmentByStart){for(var k in fragmentByEnd){var f=fragmentByEnd[k];delete fragmentByStart[f.start];delete f.start;delete f.end;f.forEach((function(i){stitchedArcs[i<0?~i:i]=1}));fragments.push(f)}}flush(fragmentByEnd,fragmentByStart);flush(fragmentByStart,fragmentByEnd);arcs.forEach((function(i){if(!stitchedArcs[i<0?~i:i])fragments.push([i])}));return fragments}function mesh(topology){return object$1(topology,meshArcs.apply(this,arguments))}function meshArcs(topology,object,filter){var arcs,i,n;if(arguments.length>1)arcs=extractArcs(topology,object,filter);else for(i=0,arcs=new Array(n=topology.arcs.length);i<n;++i)arcs[i]=i;return{type:"MultiLineString",arcs:stitch(topology,arcs)}}function extractArcs(topology,object,filter){var arcs=[],geomsByArc=[],geom;function extract0(i){var j=i<0?~i:i;(geomsByArc[j]||(geomsByArc[j]=[])).push({i:i,g:geom})}function extract1(arcs){arcs.forEach(extract0)}function extract2(arcs){arcs.forEach(extract1)}function extract3(arcs){arcs.forEach(extract2)}function geometry(o){switch(geom=o,o.type){case"GeometryCollection":o.geometries.forEach(geometry);break;case"LineString":extract1(o.arcs);break;case"MultiLineString":case"Polygon":extract2(o.arcs);break;case"MultiPolygon":extract3(o.arcs);break}}geometry(object);geomsByArc.forEach(filter==null?function(geoms){arcs.push(geoms[0].i)}:function(geoms){if(filter(geoms[0].g,geoms[geoms.length-1].g))arcs.push(geoms[0].i)});return arcs}function ascending$1(a,b){return a==null||b==null?NaN:a<b?-1:a>b?1:a>=b?0:NaN}function descending$1(a,b){return a==null||b==null?NaN:b<a?-1:b>a?1:b>=a?0:NaN}function bisector(f){let compare1,compare2,delta;if(f.length!==2){compare1=ascending$1;compare2=(d,x)=>ascending$1(f(d),x);delta=(d,x)=>f(d)-x}else{compare1=f===ascending$1||f===descending$1?f:zero$2;compare2=f;delta=f}function left(a,x){let lo=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;let hi=arguments.length>3&&arguments[3]!==undefined?arguments[3]:a.length;if(lo<hi){if(compare1(x,x)!==0)return hi;do{const mid=lo+hi>>>1;if(compare2(a[mid],x)<0)lo=mid+1;else hi=mid}while(lo<hi)}return lo}function right(a,x){let lo=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;let hi=arguments.length>3&&arguments[3]!==undefined?arguments[3]:a.length;if(lo<hi){if(compare1(x,x)!==0)return hi;do{const mid=lo+hi>>>1;if(compare2(a[mid],x)<=0)lo=mid+1;else hi=mid}while(lo<hi)}return lo}function center(a,x){let lo=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;let hi=arguments.length>3&&arguments[3]!==undefined?arguments[3]:a.length;const i=left(a,x,lo,hi-1);return i>lo&&delta(a[i-1],x)>-delta(a[i],x)?i-1:i}return{left:left,center:center,right:right}}function zero$2(){return 0}function number$6(x){return x===null?NaN:+x}function*numbers$3(values,valueof){if(valueof===undefined){for(let value of values){if(value!=null&&(value=+value)>=value){yield value}}}else{let index=-1;for(let value of values){if((value=valueof(value,++index,values))!=null&&(value=+value)>=value){yield value}}}}const ascendingBisect=bisector(ascending$1);const bisectRight$1=ascendingBisect.right;const bisectLeft$1=ascendingBisect.left;bisector(number$6).center;var bisect$1=bisectRight$1;function variance(values,valueof){let count=0;let delta;let mean=0;let sum=0;if(valueof===undefined){for(let value of values){if(value!=null&&(value=+value)>=value){delta=value-mean;mean+=delta/++count;sum+=delta*(value-mean)}}}else{let index=-1;for(let value of values){if((value=valueof(value,++index,values))!=null&&(value=+value)>=value){delta=value-mean;mean+=delta/++count;sum+=delta*(value-mean)}}}if(count>1)return sum/(count-1)}function deviation(values,valueof){const v=variance(values,valueof);return v?Math.sqrt(v):v}class Adder{constructor(){this._partials=new Float64Array(32);this._n=0}add(x){const p=this._partials;let i=0;for(let j=0;j<this._n&&j<32;j++){const y=p[j],hi=x+y,lo=Math.abs(x)<Math.abs(y)?x-(hi-y):y-(hi-x);if(lo)p[i++]=lo;x=hi}p[i]=x;this._n=i+1;return this}valueOf(){const p=this._partials;let n=this._n,x,y,lo,hi=0;if(n>0){hi=p[--n];while(n>0){x=hi;y=p[--n];hi=x+y;lo=y-(hi-x);if(lo)break}if(n>0&&(lo<0&&p[n-1]<0||lo>0&&p[n-1]>0)){y=lo*2;x=hi+y;if(y==x-hi)hi=x}}return hi}}class InternMap extends Map{constructor(entries){let key=arguments.length>1&&arguments[1]!==undefined?arguments[1]:keyof;super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:key}});if(entries!=null)for(const[key,value]of entries)this.set(key,value)}get(key){return super.get(intern_get(this,key))}has(key){return super.has(intern_get(this,key))}set(key,value){return super.set(intern_set(this,key),value)}delete(key){return super.delete(intern_delete(this,key))}}class InternSet extends Set{constructor(values){let key=arguments.length>1&&arguments[1]!==undefined?arguments[1]:keyof;super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:key}});if(values!=null)for(const value of values)this.add(value)}has(value){return super.has(intern_get(this,value))}add(value){return super.add(intern_set(this,value))}delete(value){return super.delete(intern_delete(this,value))}}function intern_get(_ref,value){let{_intern:_intern,_key:_key}=_ref;const key=_key(value);return _intern.has(key)?_intern.get(key):value}function intern_set(_ref2,value){let{_intern:_intern,_key:_key}=_ref2;const key=_key(value);if(_intern.has(key))return _intern.get(key);_intern.set(key,value);return value}function intern_delete(_ref3,value){let{_intern:_intern,_key:_key}=_ref3;const key=_key(value);if(_intern.has(key)){value=_intern.get(key);_intern.delete(key)}return value}function keyof(value){return value!==null&&typeof value==="object"?value.valueOf():value}function permute(source,keys){return Array.from(keys,key=>source[key])}function compareDefined(){let compare=arguments.length>0&&arguments[0]!==undefined?arguments[0]:ascending$1;if(compare===ascending$1)return ascendingDefined;if(typeof compare!=="function")throw new TypeError("compare is not a function");return(a,b)=>{const x=compare(a,b);if(x||x===0)return x;return(compare(b,b)===0)-(compare(a,a)===0)}}function ascendingDefined(a,b){return(a==null||!(a>=a))-(b==null||!(b>=b))||(a<b?-1:a>b?1:0)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(start,stop,count){const step=(stop-start)/Math.max(0,count),power=Math.floor(Math.log10(step)),error=step/Math.pow(10,power),factor=error>=e10?10:error>=e5?5:error>=e2?2:1;let i1,i2,inc;if(power<0){inc=Math.pow(10,-power)/factor;i1=Math.round(start*inc);i2=Math.round(stop*inc);if(i1/inc<start)++i1;if(i2/inc>stop)--i2;inc=-inc}else{inc=Math.pow(10,power)*factor;i1=Math.round(start/inc);i2=Math.round(stop/inc);if(i1*inc<start)++i1;if(i2*inc>stop)--i2}if(i2<i1&&.5<=count&&count<2)return tickSpec(start,stop,count*2);return[i1,i2,inc]}function ticks(start,stop,count){stop=+stop,start=+start,count=+count;if(!(count>0))return[];if(start===stop)return[start];const reverse=stop<start,[i1,i2,inc]=reverse?tickSpec(stop,start,count):tickSpec(start,stop,count);if(!(i2>=i1))return[];const n=i2-i1+1,ticks=new Array(n);if(reverse){if(inc<0)for(let i=0;i<n;++i)ticks[i]=(i2-i)/-inc;else for(let i=0;i<n;++i)ticks[i]=(i2-i)*inc}else{if(inc<0)for(let i=0;i<n;++i)ticks[i]=(i1+i)/-inc;else for(let i=0;i<n;++i)ticks[i]=(i1+i)*inc}return ticks}function tickIncrement(start,stop,count){stop=+stop,start=+start,count=+count;return tickSpec(start,stop,count)[2]}function tickStep(start,stop,count){stop=+stop,start=+start,count=+count;const reverse=stop<start,inc=reverse?tickIncrement(stop,start,count):tickIncrement(start,stop,count);return(reverse?-1:1)*(inc<0?1/-inc:inc)}function max$2(values,valueof){let max;if(valueof===undefined){for(const value of values){if(value!=null&&(max<value||max===undefined&&value>=value)){max=value}}}else{let index=-1;for(let value of values){if((value=valueof(value,++index,values))!=null&&(max<value||max===undefined&&value>=value)){max=value}}}return max}function min$2(values,valueof){let min;if(valueof===undefined){for(const value of values){if(value!=null&&(min>value||min===undefined&&value>=value)){min=value}}}else{let index=-1;for(let value of values){if((value=valueof(value,++index,values))!=null&&(min>value||min===undefined&&value>=value)){min=value}}}return min}function quickselect(array,k){let left=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;let right=arguments.length>3&&arguments[3]!==undefined?arguments[3]:Infinity;let compare=arguments.length>4?arguments[4]:undefined;k=Math.floor(k);left=Math.floor(Math.max(0,left));right=Math.floor(Math.min(array.length-1,right));if(!(left<=k&&k<=right))return array;compare=compare===undefined?ascendingDefined:compareDefined(compare);while(right>left){if(right-left>600){const n=right-left+1;const m=k-left+1;const z=Math.log(n);const s=.5*Math.exp(2*z/3);const sd=.5*Math.sqrt(z*s*(n-s)/n)*(m-n/2<0?-1:1);const newLeft=Math.max(left,Math.floor(k-m*s/n+sd));const newRight=Math.min(right,Math.floor(k+(n-m)*s/n+sd));quickselect(array,k,newLeft,newRight,compare)}const t=array[k];let i=left;let j=right;swap$1(array,left,k);if(compare(array[right],t)>0)swap$1(array,left,right);while(i<j){swap$1(array,i,j),++i,--j;while(compare(array[i],t)<0)++i;while(compare(array[j],t)>0)--j}if(compare(array[left],t)===0)swap$1(array,left,j);else++j,swap$1(array,j,right);if(j<=k)left=j+1;if(k<=j)right=j-1}return array}function swap$1(array,i,j){const t=array[i];array[i]=array[j];array[j]=t}function quantile$1(values,p,valueof){values=Float64Array.from(numbers$3(values,valueof));if(!(n=values.length)||isNaN(p=+p))return;if(p<=0||n<2)return min$2(values);if(p>=1)return max$2(values);var n,i=(n-1)*p,i0=Math.floor(i),value0=max$2(quickselect(values,i0).subarray(0,i0+1)),value1=min$2(values.subarray(i0+1));return value0+(value1-value0)*(i-i0)}function quantileSorted(values,p){let valueof=arguments.length>2&&arguments[2]!==undefined?arguments[2]:number$6;if(!(n=values.length)||isNaN(p=+p))return;if(p<=0||n<2)return+valueof(values[0],0,values);if(p>=1)return+valueof(values[n-1],n-1,values);var n,i=(n-1)*p,i0=Math.floor(i),value0=+valueof(values[i0],i0,values),value1=+valueof(values[i0+1],i0+1,values);return value0+(value1-value0)*(i-i0)}function mean(values,valueof){let count=0;let sum=0;if(valueof===undefined){for(let value of values){if(value!=null&&(value=+value)>=value){++count,sum+=value}}}else{let index=-1;for(let value of values){if((value=valueof(value,++index,values))!=null&&(value=+value)>=value){++count,sum+=value}}}if(count)return sum/count}function median(values,valueof){return quantile$1(values,.5,valueof)}function*flatten(arrays){for(const array of arrays){yield*array}}function merge$2(arrays){return Array.from(flatten(arrays))}function range$3(start,stop,step){start=+start,stop=+stop,step=(n=arguments.length)<2?(stop=start,start=0,1):n<3?1:+step;var i=-1,n=Math.max(0,Math.ceil((stop-start)/step))|0,range=new Array(n);while(++i<n){range[i]=start+i*step}return range}function sum$1(values,valueof){let sum=0;if(valueof===undefined){for(let value of values){if(value=+value){sum+=value}}}else{let index=-1;for(let value of values){if(value=+valueof(value,++index,values)){sum+=value}}}return sum}function intersection(values){for(var _len=arguments.length,others=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){others[_key-1]=arguments[_key]}values=new InternSet(values);others=others.map(set$4);out:for(const value of values){for(const other of others){if(!other.has(value)){values.delete(value);continue out}}}return values}function set$4(values){return values instanceof InternSet?values:new InternSet(values)}function union(){const set=new InternSet;for(var _len=arguments.length,others=new Array(_len),_key=0;_key<_len;_key++){others[_key]=arguments[_key]}for(const other of others){for(const o of other){set.add(o)}}return set}function formatDecimal(x){return Math.abs(x=Math.round(x))>=1e21?x.toLocaleString("en").replace(/,/g,""):x.toString(10)}function formatDecimalParts(x,p){if((i=(x=p?x.toExponential(p-1):x.toExponential()).indexOf("e"))<0)return null;var i,coefficient=x.slice(0,i);return[coefficient.length>1?coefficient[0]+coefficient.slice(2):coefficient,+x.slice(i+1)]}function exponent(x){return x=formatDecimalParts(Math.abs(x)),x?x[1]:NaN}function formatGroup(grouping,thousands){return function(value,width){var i=value.length,t=[],j=0,g=grouping[0],length=0;while(i>0&&g>0){if(length+g+1>width)g=Math.max(1,width-length);t.push(value.substring(i-=g,i+g));if((length+=g+1)>width)break;g=grouping[j=(j+1)%grouping.length]}return t.reverse().join(thousands)}}function formatNumerals(numerals){return function(value){return value.replace(/[0-9]/g,(function(i){return numerals[+i]}))}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(specifier){if(!(match=re.exec(specifier)))throw new Error("invalid format: "+specifier);var match;return new FormatSpecifier({fill:match[1],align:match[2],sign:match[3],symbol:match[4],zero:match[5],width:match[6],comma:match[7],precision:match[8]&&match[8].slice(1),trim:match[9],type:match[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(specifier){this.fill=specifier.fill===undefined?" ":specifier.fill+"";this.align=specifier.align===undefined?">":specifier.align+"";this.sign=specifier.sign===undefined?"-":specifier.sign+"";this.symbol=specifier.symbol===undefined?"":specifier.symbol+"";this.zero=!!specifier.zero;this.width=specifier.width===undefined?undefined:+specifier.width;this.comma=!!specifier.comma;this.precision=specifier.precision===undefined?undefined:+specifier.precision;this.trim=!!specifier.trim;this.type=specifier.type===undefined?"":specifier.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===undefined?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===undefined?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(s){out:for(var n=s.length,i=1,i0=-1,i1;i<n;++i){switch(s[i]){case".":i0=i1=i;break;case"0":if(i0===0)i0=i;i1=i;break;default:if(!+s[i])break out;if(i0>0)i0=0;break}}return i0>0?s.slice(0,i0)+s.slice(i1+1):s}var prefixExponent;function formatPrefixAuto(x,p){var d=formatDecimalParts(x,p);if(!d)return x+"";var coefficient=d[0],exponent=d[1],i=exponent-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(exponent/3)))*3)+1,n=coefficient.length;return i===n?coefficient:i>n?coefficient+new Array(i-n+1).join("0"):i>0?coefficient.slice(0,i)+"."+coefficient.slice(i):"0."+new Array(1-i).join("0")+formatDecimalParts(x,Math.max(0,p+i-1))[0]}function formatRounded(x,p){var d=formatDecimalParts(x,p);if(!d)return x+"";var coefficient=d[0],exponent=d[1];return exponent<0?"0."+new Array(-exponent).join("0")+coefficient:coefficient.length>exponent+1?coefficient.slice(0,exponent+1)+"."+coefficient.slice(exponent+1):coefficient+new Array(exponent-coefficient.length+2).join("0")}var formatTypes={"%":(x,p)=>(x*100).toFixed(p),b:x=>Math.round(x).toString(2),c:x=>x+"",d:formatDecimal,e:(x,p)=>x.toExponential(p),f:(x,p)=>x.toFixed(p),g:(x,p)=>x.toPrecision(p),o:x=>Math.round(x).toString(8),p:(x,p)=>formatRounded(x*100,p),r:formatRounded,s:formatPrefixAuto,X:x=>Math.round(x).toString(16).toUpperCase(),x:x=>Math.round(x).toString(16)};function identity$4(x){return x}var map$2=Array.prototype.map,prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(locale){var group=locale.grouping===undefined||locale.thousands===undefined?identity$4:formatGroup(map$2.call(locale.grouping,Number),locale.thousands+""),currencyPrefix=locale.currency===undefined?"":locale.currency[0]+"",currencySuffix=locale.currency===undefined?"":locale.currency[1]+"",decimal=locale.decimal===undefined?".":locale.decimal+"",numerals=locale.numerals===undefined?identity$4:formatNumerals(map$2.call(locale.numerals,String)),percent=locale.percent===undefined?"%":locale.percent+"",minus=locale.minus===undefined?"":locale.minus+"",nan=locale.nan===undefined?"NaN":locale.nan+"";function newFormat(specifier){specifier=formatSpecifier(specifier);var fill=specifier.fill,align=specifier.align,sign=specifier.sign,symbol=specifier.symbol,zero=specifier.zero,width=specifier.width,comma=specifier.comma,precision=specifier.precision,trim=specifier.trim,type=specifier.type;if(type==="n")comma=true,type="g";else if(!formatTypes[type])precision===undefined&&(precision=12),trim=true,type="g";if(zero||fill==="0"&&align==="=")zero=true,fill="0",align="=";var prefix=symbol==="$"?currencyPrefix:symbol==="#"&&/[boxX]/.test(type)?"0"+type.toLowerCase():"",suffix=symbol==="$"?currencySuffix:/[%p]/.test(type)?percent:"";var formatType=formatTypes[type],maybeSuffix=/[defgprs%]/.test(type);precision=precision===undefined?6:/[gprs]/.test(type)?Math.max(1,Math.min(21,precision)):Math.max(0,Math.min(20,precision));function format(value){var valuePrefix=prefix,valueSuffix=suffix,i,n,c;if(type==="c"){valueSuffix=formatType(value)+valueSuffix;value=""}else{value=+value;var valueNegative=value<0||1/value<0;value=isNaN(value)?nan:formatType(Math.abs(value),precision);if(trim)value=formatTrim(value);if(valueNegative&&+value===0&&sign!=="+")valueNegative=false;valuePrefix=(valueNegative?sign==="("?sign:minus:sign==="-"||sign==="("?"":sign)+valuePrefix;valueSuffix=(type==="s"?prefixes[8+prefixExponent/3]:"")+valueSuffix+(valueNegative&&sign==="("?")":"");if(maybeSuffix){i=-1,n=value.length;while(++i<n){if(c=value.charCodeAt(i),48>c||c>57){valueSuffix=(c===46?decimal+value.slice(i+1):value.slice(i))+valueSuffix;value=value.slice(0,i);break}}}}if(comma&&!zero)value=group(value,Infinity);var length=valuePrefix.length+value.length+valueSuffix.length,padding=length<width?new Array(width-length+1).join(fill):"";if(comma&&zero)value=group(padding+value,padding.length?width-valueSuffix.length:Infinity),padding="";switch(align){case"<":value=valuePrefix+value+valueSuffix+padding;break;case"=":value=valuePrefix+padding+value+valueSuffix;break;case"^":value=padding.slice(0,length=padding.length>>1)+valuePrefix+value+valueSuffix+padding.slice(length);break;default:value=padding+valuePrefix+value+valueSuffix;break}return numerals(value)}format.toString=function(){return specifier+""};return format}function formatPrefix(specifier,value){var f=newFormat((specifier=formatSpecifier(specifier),specifier.type="f",specifier)),e=Math.max(-8,Math.min(8,Math.floor(exponent(value)/3)))*3,k=Math.pow(10,-e),prefix=prefixes[8+e/3];return function(value){return f(k*value)+prefix}}return{format:newFormat,formatPrefix:formatPrefix}}var locale$2;var format$3;var formatPrefix;defaultLocale$2({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$2(definition){locale$2=formatLocale$1(definition);format$3=locale$2.format;formatPrefix=locale$2.formatPrefix;return locale$2}function precisionFixed(step){return Math.max(0,-exponent(Math.abs(step)))}function precisionPrefix(step,value){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(value)/3)))*3-exponent(Math.abs(step)))}function precisionRound(step,max){step=Math.abs(step),max=Math.abs(max)-step;return Math.max(0,exponent(max)-exponent(step))+1}const t0$2=new Date,t1$1=new Date;function timeInterval$1(floori,offseti,count,field){function interval(date){return floori(date=arguments.length===0?new Date:new Date(+date)),date}interval.floor=date=>(floori(date=new Date(+date)),date);interval.ceil=date=>(floori(date=new Date(date-1)),offseti(date,1),floori(date),date);interval.round=date=>{const d0=interval(date),d1=interval.ceil(date);return date-d0<d1-date?d0:d1};interval.offset=(date,step)=>(offseti(date=new Date(+date),step==null?1:Math.floor(step)),date);interval.range=(start,stop,step)=>{const range=[];start=interval.ceil(start);step=step==null?1:Math.floor(step);if(!(start<stop)||!(step>0))return range;let previous;do{range.push(previous=new Date(+start)),offseti(start,step),floori(start)}while(previous<start&&start<stop);return range};interval.filter=test=>timeInterval$1(date=>{if(date>=date)while(floori(date),!test(date))date.setTime(date-1)},(date,step)=>{if(date>=date){if(step<0)while(++step<=0){while(offseti(date,-1),!test(date)){}}else while(--step>=0){while(offseti(date,+1),!test(date)){}}}});if(count){interval.count=(start,end)=>{t0$2.setTime(+start),t1$1.setTime(+end);floori(t0$2),floori(t1$1);return Math.floor(count(t0$2,t1$1))};interval.every=step=>{step=Math.floor(step);return!isFinite(step)||!(step>0)?null:!(step>1)?interval:interval.filter(field?d=>field(d)%step===0:d=>interval.count(0,d)%step===0)}}return interval}const millisecond=timeInterval$1(()=>{},(date,step)=>{date.setTime(+date+step)},(start,end)=>end-start);millisecond.every=k=>{k=Math.floor(k);if(!isFinite(k)||!(k>0))return null;if(!(k>1))return millisecond;return timeInterval$1(date=>{date.setTime(Math.floor(date/k)*k)},(date,step)=>{date.setTime(+date+step*k)},(start,end)=>(end-start)/k)};millisecond.range;const durationSecond$1=1e3;const durationMinute$1=durationSecond$1*60;const durationHour$1=durationMinute$1*60;const durationDay$1=durationHour$1*24;const durationWeek$1=durationDay$1*7;const durationMonth$1=durationDay$1*30;const durationYear$1=durationDay$1*365;const second=timeInterval$1(date=>{date.setTime(date-date.getMilliseconds())},(date,step)=>{date.setTime(+date+step*durationSecond$1)},(start,end)=>(end-start)/durationSecond$1,date=>date.getUTCSeconds());second.range;const timeMinute=timeInterval$1(date=>{date.setTime(date-date.getMilliseconds()-date.getSeconds()*durationSecond$1)},(date,step)=>{date.setTime(+date+step*durationMinute$1)},(start,end)=>(end-start)/durationMinute$1,date=>date.getMinutes());timeMinute.range;const utcMinute=timeInterval$1(date=>{date.setUTCSeconds(0,0)},(date,step)=>{date.setTime(+date+step*durationMinute$1)},(start,end)=>(end-start)/durationMinute$1,date=>date.getUTCMinutes());utcMinute.range;const timeHour=timeInterval$1(date=>{date.setTime(date-date.getMilliseconds()-date.getSeconds()*durationSecond$1-date.getMinutes()*durationMinute$1)},(date,step)=>{date.setTime(+date+step*durationHour$1)},(start,end)=>(end-start)/durationHour$1,date=>date.getHours());timeHour.range;const utcHour=timeInterval$1(date=>{date.setUTCMinutes(0,0,0)},(date,step)=>{date.setTime(+date+step*durationHour$1)},(start,end)=>(end-start)/durationHour$1,date=>date.getUTCHours());utcHour.range;const timeDay=timeInterval$1(date=>date.setHours(0,0,0,0),(date,step)=>date.setDate(date.getDate()+step),(start,end)=>(end-start-(end.getTimezoneOffset()-start.getTimezoneOffset())*durationMinute$1)/durationDay$1,date=>date.getDate()-1);timeDay.range;const utcDay=timeInterval$1(date=>{date.setUTCHours(0,0,0,0)},(date,step)=>{date.setUTCDate(date.getUTCDate()+step)},(start,end)=>(end-start)/durationDay$1,date=>date.getUTCDate()-1);utcDay.range;const unixDay=timeInterval$1(date=>{date.setUTCHours(0,0,0,0)},(date,step)=>{date.setUTCDate(date.getUTCDate()+step)},(start,end)=>(end-start)/durationDay$1,date=>Math.floor(date/durationDay$1));unixDay.range;function timeWeekday(i){return timeInterval$1(date=>{date.setDate(date.getDate()-(date.getDay()+7-i)%7);date.setHours(0,0,0,0)},(date,step)=>{date.setDate(date.getDate()+step*7)},(start,end)=>(end-start-(end.getTimezoneOffset()-start.getTimezoneOffset())*durationMinute$1)/durationWeek$1)}const timeSunday=timeWeekday(0);const timeMonday=timeWeekday(1);const timeTuesday=timeWeekday(2);const timeWednesday=timeWeekday(3);const timeThursday=timeWeekday(4);const timeFriday=timeWeekday(5);const timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(i){return timeInterval$1(date=>{date.setUTCDate(date.getUTCDate()-(date.getUTCDay()+7-i)%7);date.setUTCHours(0,0,0,0)},(date,step)=>{date.setUTCDate(date.getUTCDate()+step*7)},(start,end)=>(end-start)/durationWeek$1)}const utcSunday=utcWeekday(0);const utcMonday=utcWeekday(1);const utcTuesday=utcWeekday(2);const utcWednesday=utcWeekday(3);const utcThursday=utcWeekday(4);const utcFriday=utcWeekday(5);const utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval$1(date=>{date.setDate(1);date.setHours(0,0,0,0)},(date,step)=>{date.setMonth(date.getMonth()+step)},(start,end)=>end.getMonth()-start.getMonth()+(end.getFullYear()-start.getFullYear())*12,date=>date.getMonth());timeMonth.range;const utcMonth=timeInterval$1(date=>{date.setUTCDate(1);date.setUTCHours(0,0,0,0)},(date,step)=>{date.setUTCMonth(date.getUTCMonth()+step)},(start,end)=>end.getUTCMonth()-start.getUTCMonth()+(end.getUTCFullYear()-start.getUTCFullYear())*12,date=>date.getUTCMonth());utcMonth.range;const timeYear=timeInterval$1(date=>{date.setMonth(0,1);date.setHours(0,0,0,0)},(date,step)=>{date.setFullYear(date.getFullYear()+step)},(start,end)=>end.getFullYear()-start.getFullYear(),date=>date.getFullYear());timeYear.every=k=>!isFinite(k=Math.floor(k))||!(k>0)?null:timeInterval$1(date=>{date.setFullYear(Math.floor(date.getFullYear()/k)*k);date.setMonth(0,1);date.setHours(0,0,0,0)},(date,step)=>{date.setFullYear(date.getFullYear()+step*k)});timeYear.range;const utcYear=timeInterval$1(date=>{date.setUTCMonth(0,1);date.setUTCHours(0,0,0,0)},(date,step)=>{date.setUTCFullYear(date.getUTCFullYear()+step)},(start,end)=>end.getUTCFullYear()-start.getUTCFullYear(),date=>date.getUTCFullYear());utcYear.every=k=>!isFinite(k=Math.floor(k))||!(k>0)?null:timeInterval$1(date=>{date.setUTCFullYear(Math.floor(date.getUTCFullYear()/k)*k);date.setUTCMonth(0,1);date.setUTCHours(0,0,0,0)},(date,step)=>{date.setUTCFullYear(date.getUTCFullYear()+step*k)});utcYear.range;function ticker(year,month,week,day,hour,minute){const tickIntervals=[[second,1,durationSecond$1],[second,5,5*durationSecond$1],[second,15,15*durationSecond$1],[second,30,30*durationSecond$1],[minute,1,durationMinute$1],[minute,5,5*durationMinute$1],[minute,15,15*durationMinute$1],[minute,30,30*durationMinute$1],[hour,1,durationHour$1],[hour,3,3*durationHour$1],[hour,6,6*durationHour$1],[hour,12,12*durationHour$1],[day,1,durationDay$1],[day,2,2*durationDay$1],[week,1,durationWeek$1],[month,1,durationMonth$1],[month,3,3*durationMonth$1],[year,1,durationYear$1]];function ticks(start,stop,count){const reverse=stop<start;if(reverse)[start,stop]=[stop,start];const interval=count&&typeof count.range==="function"?count:tickInterval(start,stop,count);const ticks=interval?interval.range(start,+stop+1):[];return reverse?ticks.reverse():ticks}function tickInterval(start,stop,count){const target=Math.abs(stop-start)/count;const i=bisector(_ref=>{let[,,step]=_ref;return step}).right(tickIntervals,target);if(i===tickIntervals.length)return year.every(tickStep(start/durationYear$1,stop/durationYear$1,count));if(i===0)return millisecond.every(Math.max(tickStep(start,stop,count),1));const[t,step]=tickIntervals[target/tickIntervals[i-1][2]<tickIntervals[i][2]/target?i-1:i];return t.every(step)}return[ticks,tickInterval]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute);const[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);const YEAR="year";const QUARTER="quarter";const MONTH="month";const WEEK="week";const DATE="date";const DAY="day";const DAYOFYEAR="dayofyear";const HOURS="hours";const MINUTES="minutes";const SECONDS="seconds";const MILLISECONDS="milliseconds";const TIME_UNITS=[YEAR,QUARTER,MONTH,WEEK,DATE,DAY,DAYOFYEAR,HOURS,MINUTES,SECONDS,MILLISECONDS];const UNITS=TIME_UNITS.reduce((o,u,i)=>(o[u]=1+i,o),{});function timeUnits(units){const u=array$5(units).slice(),m={};if(!u.length)error("Missing time unit.");u.forEach(unit=>{if(has$1(UNITS,unit)){m[unit]=1}else{error(`Invalid time unit: ${unit}.`)}});const numTypes=(m[WEEK]||m[DAY]?1:0)+(m[QUARTER]||m[MONTH]||m[DATE]?1:0)+(m[DAYOFYEAR]?1:0);if(numTypes>1){error(`Incompatible time units: ${units}`)}u.sort((a,b)=>UNITS[a]-UNITS[b]);return u}const defaultSpecifiers={[YEAR]:"%Y ",[QUARTER]:"Q%q ",[MONTH]:"%b ",[DATE]:"%d ",[WEEK]:"W%U ",[DAY]:"%a ",[DAYOFYEAR]:"%j ",[HOURS]:"%H:00",[MINUTES]:"00:%M",[SECONDS]:":%S",[MILLISECONDS]:".%L",[`${YEAR}-${MONTH}`]:"%Y-%m ",[`${YEAR}-${MONTH}-${DATE}`]:"%Y-%m-%d ",[`${HOURS}-${MINUTES}`]:"%H:%M"};function timeUnitSpecifier(units,specifiers){const s=extend$1({},defaultSpecifiers,specifiers),u=timeUnits(units),n=u.length;let fmt="",start=0,end,key;for(start=0;start<n;){for(end=u.length;end>start;--end){key=u.slice(start,end).join("-");if(s[key]!=null){fmt+=s[key];start=end;break}}}return fmt.trim()}const t0$1=new Date;function localYear(y){t0$1.setFullYear(y);t0$1.setMonth(0);t0$1.setDate(1);t0$1.setHours(0,0,0,0);return t0$1}function dayofyear(d){return localDayOfYear(new Date(d))}function week(d){return localWeekNum(new Date(d))}function localDayOfYear(d){return timeDay.count(localYear(d.getFullYear())-1,d)}function localWeekNum(d){return timeSunday.count(localYear(d.getFullYear())-1,d)}function localFirst(y){return localYear(y).getDay()}function localDate$1(y,m,d,H,M,S,L){if(0<=y&&y<100){const date=new Date(-1,m,d,H,M,S,L);date.setFullYear(y);return date}return new Date(y,m,d,H,M,S,L)}function utcdayofyear(d){return utcDayOfYear(new Date(d))}function utcweek(d){return utcWeekNum(new Date(d))}function utcDayOfYear(d){const y=Date.UTC(d.getUTCFullYear(),0,1);return utcDay.count(y-1,d)}function utcWeekNum(d){const y=Date.UTC(d.getUTCFullYear(),0,1);return utcSunday.count(y-1,d)}function utcFirst(y){t0$1.setTime(Date.UTC(y,0,1));return t0$1.getUTCDay()}function utcDate$1(y,m,d,H,M,S,L){if(0<=y&&y<100){const date=new Date(Date.UTC(-1,m,d,H,M,S,L));date.setUTCFullYear(d.y);return date}return new Date(Date.UTC(y,m,d,H,M,S,L))}function floor(units,step,get,inv,newDate){const s=step||1,b=peek$1(units),_=(unit,p,key)=>{key=key||unit;return getUnit(get[key],inv[key],unit===b&&s,p)};const t=new Date,u=toSet(units),y=u[YEAR]?_(YEAR):constant$4(2012),m=u[MONTH]?_(MONTH):u[QUARTER]?_(QUARTER):zero$3,d=u[WEEK]&&u[DAY]?_(DAY,1,WEEK+DAY):u[WEEK]?_(WEEK,1):u[DAY]?_(DAY,1):u[DATE]?_(DATE,1):u[DAYOFYEAR]?_(DAYOFYEAR,1):one$2,H=u[HOURS]?_(HOURS):zero$3,M=u[MINUTES]?_(MINUTES):zero$3,S=u[SECONDS]?_(SECONDS):zero$3,L=u[MILLISECONDS]?_(MILLISECONDS):zero$3;return function(v){t.setTime(+v);const year=y(t);return newDate(year,m(t),d(t,year),H(t),M(t),S(t),L(t))}}function getUnit(f,inv,step,phase){const u=step<=1?f:phase?(d,y)=>phase+step*Math.floor((f(d,y)-phase)/step):(d,y)=>step*Math.floor(f(d,y)/step);return inv?(d,y)=>inv(u(d,y),y):u}function weekday(week,day,firstDay){return day+week*7-(firstDay+6)%7}const localGet={[YEAR]:d=>d.getFullYear(),[QUARTER]:d=>Math.floor(d.getMonth()/3),[MONTH]:d=>d.getMonth(),[DATE]:d=>d.getDate(),[HOURS]:d=>d.getHours(),[MINUTES]:d=>d.getMinutes(),[SECONDS]:d=>d.getSeconds(),[MILLISECONDS]:d=>d.getMilliseconds(),[DAYOFYEAR]:d=>localDayOfYear(d),[WEEK]:d=>localWeekNum(d),[WEEK+DAY]:(d,y)=>weekday(localWeekNum(d),d.getDay(),localFirst(y)),[DAY]:(d,y)=>weekday(1,d.getDay(),localFirst(y))};const localInv={[QUARTER]:q=>3*q,[WEEK]:(w,y)=>weekday(w,0,localFirst(y))};function timeFloor(units,step){return floor(units,step||1,localGet,localInv,localDate$1)}const utcGet={[YEAR]:d=>d.getUTCFullYear(),[QUARTER]:d=>Math.floor(d.getUTCMonth()/3),[MONTH]:d=>d.getUTCMonth(),[DATE]:d=>d.getUTCDate(),[HOURS]:d=>d.getUTCHours(),[MINUTES]:d=>d.getUTCMinutes(),[SECONDS]:d=>d.getUTCSeconds(),[MILLISECONDS]:d=>d.getUTCMilliseconds(),[DAYOFYEAR]:d=>utcDayOfYear(d),[WEEK]:d=>utcWeekNum(d),[DAY]:(d,y)=>weekday(1,d.getUTCDay(),utcFirst(y)),[WEEK+DAY]:(d,y)=>weekday(utcWeekNum(d),d.getUTCDay(),utcFirst(y))};const utcInv={[QUARTER]:q=>3*q,[WEEK]:(w,y)=>weekday(w,0,utcFirst(y))};function utcFloor(units,step){return floor(units,step||1,utcGet,utcInv,utcDate$1)}const timeIntervals={[YEAR]:timeYear,[QUARTER]:timeMonth.every(3),[MONTH]:timeMonth,[WEEK]:timeSunday,[DATE]:timeDay,[DAY]:timeDay,[DAYOFYEAR]:timeDay,[HOURS]:timeHour,[MINUTES]:timeMinute,[SECONDS]:second,[MILLISECONDS]:millisecond};const utcIntervals={[YEAR]:utcYear,[QUARTER]:utcMonth.every(3),[MONTH]:utcMonth,[WEEK]:utcSunday,[DATE]:utcDay,[DAY]:utcDay,[DAYOFYEAR]:utcDay,[HOURS]:utcHour,[MINUTES]:utcMinute,[SECONDS]:second,[MILLISECONDS]:millisecond};function timeInterval(unit){return timeIntervals[unit]}function utcInterval(unit){return utcIntervals[unit]}function offset$3(ival,date,step){return ival?ival.offset(date,step):undefined}function timeOffset(unit,date,step){return offset$3(timeInterval(unit),date,step)}function utcOffset(unit,date,step){return offset$3(utcInterval(unit),date,step)}function sequence$1(ival,start,stop,step){return ival?ival.range(start,stop,step):undefined}function timeSequence(unit,start,stop,step){return sequence$1(timeInterval(unit),start,stop,step)}function utcSequence(unit,start,stop,step){return sequence$1(utcInterval(unit),start,stop,step)}const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365;const Milli=[YEAR,MONTH,DATE,HOURS,MINUTES,SECONDS,MILLISECONDS],Seconds=Milli.slice(0,-1),Minutes=Seconds.slice(0,-1),Hours=Minutes.slice(0,-1),Day=Hours.slice(0,-1),Week=[YEAR,WEEK],Month=[YEAR,MONTH],Year=[YEAR];const intervals=[[Seconds,1,durationSecond],[Seconds,5,5*durationSecond],[Seconds,15,15*durationSecond],[Seconds,30,30*durationSecond],[Minutes,1,durationMinute],[Minutes,5,5*durationMinute],[Minutes,15,15*durationMinute],[Minutes,30,30*durationMinute],[Hours,1,durationHour],[Hours,3,3*durationHour],[Hours,6,6*durationHour],[Hours,12,12*durationHour],[Day,1,durationDay],[Week,1,durationWeek],[Month,1,durationMonth],[Month,3,3*durationMonth],[Year,1,durationYear]];function bin$1(opt){const ext=opt.extent,max=opt.maxbins||40,target=Math.abs(span(ext))/max;let i=bisector(i=>i[2]).right(intervals,target),units,step;if(i===intervals.length){units=Year,step=tickStep(ext[0]/durationYear,ext[1]/durationYear,max)}else if(i){i=intervals[target/intervals[i-1][2]<intervals[i][2]/target?i-1:i];units=i[0];step=i[1]}else{units=Milli;step=Math.max(tickStep(ext[0],ext[1],max),1)}return{units:units,step:step}}function localDate(d){if(0<=d.y&&d.y<100){var date=new Date(-1,d.m,d.d,d.H,d.M,d.S,d.L);date.setFullYear(d.y);return date}return new Date(d.y,d.m,d.d,d.H,d.M,d.S,d.L)}function utcDate(d){if(0<=d.y&&d.y<100){var date=new Date(Date.UTC(-1,d.m,d.d,d.H,d.M,d.S,d.L));date.setUTCFullYear(d.y);return date}return new Date(Date.UTC(d.y,d.m,d.d,d.H,d.M,d.S,d.L))}function newDate(y,m,d){return{y:y,m:m,d:d,H:0,M:0,S:0,L:0}}function formatLocale(locale){var locale_dateTime=locale.dateTime,locale_date=locale.date,locale_time=locale.time,locale_periods=locale.periods,locale_weekdays=locale.days,locale_shortWeekdays=locale.shortDays,locale_months=locale.months,locale_shortMonths=locale.shortMonths;var periodRe=formatRe(locale_periods),periodLookup=formatLookup(locale_periods),weekdayRe=formatRe(locale_weekdays),weekdayLookup=formatLookup(locale_weekdays),shortWeekdayRe=formatRe(locale_shortWeekdays),shortWeekdayLookup=formatLookup(locale_shortWeekdays),monthRe=formatRe(locale_months),monthLookup=formatLookup(locale_months),shortMonthRe=formatRe(locale_shortMonths),shortMonthLookup=formatLookup(locale_shortMonths);var formats={a:formatShortWeekday,A:formatWeekday,b:formatShortMonth,B:formatMonth,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:formatPeriod,q:formatQuarter,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent};var utcFormats={a:formatUTCShortWeekday,A:formatUTCWeekday,b:formatUTCShortMonth,B:formatUTCMonth,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:formatUTCPeriod,q:formatUTCQuarter,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent};var parses={a:parseShortWeekday,A:parseWeekday,b:parseShortMonth,B:parseMonth,c:parseLocaleDateTime,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:parsePeriod,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:parseLocaleDate,X:parseLocaleTime,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};formats.x=newFormat(locale_date,formats);formats.X=newFormat(locale_time,formats);formats.c=newFormat(locale_dateTime,formats);utcFormats.x=newFormat(locale_date,utcFormats);utcFormats.X=newFormat(locale_time,utcFormats);utcFormats.c=newFormat(locale_dateTime,utcFormats);function newFormat(specifier,formats){return function(date){var string=[],i=-1,j=0,n=specifier.length,c,pad,format;if(!(date instanceof Date))date=new Date(+date);while(++i<n){if(specifier.charCodeAt(i)===37){string.push(specifier.slice(j,i));if((pad=pads[c=specifier.charAt(++i)])!=null)c=specifier.charAt(++i);else pad=c==="e"?" ":"0";if(format=formats[c])c=format(date,pad);string.push(c);j=i+1}}string.push(specifier.slice(j,i));return string.join("")}}function newParse(specifier,Z){return function(string){var d=newDate(1900,undefined,1),i=parseSpecifier(d,specifier,string+="",0),week,day;if(i!=string.length)return null;if("Q"in d)return new Date(d.Q);if("s"in d)return new Date(d.s*1e3+("L"in d?d.L:0));if(Z&&!("Z"in d))d.Z=0;if("p"in d)d.H=d.H%12+d.p*12;if(d.m===undefined)d.m="q"in d?d.q:0;if("V"in d){if(d.V<1||d.V>53)return null;if(!("w"in d))d.w=1;if("Z"in d){week=utcDate(newDate(d.y,0,1)),day=week.getUTCDay();week=day>4||day===0?utcMonday.ceil(week):utcMonday(week);week=utcDay.offset(week,(d.V-1)*7);d.y=week.getUTCFullYear();d.m=week.getUTCMonth();d.d=week.getUTCDate()+(d.w+6)%7}else{week=localDate(newDate(d.y,0,1)),day=week.getDay();week=day>4||day===0?timeMonday.ceil(week):timeMonday(week);week=timeDay.offset(week,(d.V-1)*7);d.y=week.getFullYear();d.m=week.getMonth();d.d=week.getDate()+(d.w+6)%7}}else if("W"in d||"U"in d){if(!("w"in d))d.w="u"in d?d.u%7:"W"in d?1:0;day="Z"in d?utcDate(newDate(d.y,0,1)).getUTCDay():localDate(newDate(d.y,0,1)).getDay();d.m=0;d.d="W"in d?(d.w+6)%7+d.W*7-(day+5)%7:d.w+d.U*7-(day+6)%7}if("Z"in d){d.H+=d.Z/100|0;d.M+=d.Z%100;return utcDate(d)}return localDate(d)}}function parseSpecifier(d,specifier,string,j){var i=0,n=specifier.length,m=string.length,c,parse;while(i<n){if(j>=m)return-1;c=specifier.charCodeAt(i++);if(c===37){c=specifier.charAt(i++);parse=parses[c in pads?specifier.charAt(i++):c];if(!parse||(j=parse(d,string,j))<0)return-1}else if(c!=string.charCodeAt(j++)){return-1}}return j}function parsePeriod(d,string,i){var n=periodRe.exec(string.slice(i));return n?(d.p=periodLookup.get(n[0].toLowerCase()),i+n[0].length):-1}function parseShortWeekday(d,string,i){var n=shortWeekdayRe.exec(string.slice(i));return n?(d.w=shortWeekdayLookup.get(n[0].toLowerCase()),i+n[0].length):-1}function parseWeekday(d,string,i){var n=weekdayRe.exec(string.slice(i));return n?(d.w=weekdayLookup.get(n[0].toLowerCase()),i+n[0].length):-1}function parseShortMonth(d,string,i){var n=shortMonthRe.exec(string.slice(i));return n?(d.m=shortMonthLookup.get(n[0].toLowerCase()),i+n[0].length):-1}function parseMonth(d,string,i){var n=monthRe.exec(string.slice(i));return n?(d.m=monthLookup.get(n[0].toLowerCase()),i+n[0].length):-1}function parseLocaleDateTime(d,string,i){return parseSpecifier(d,locale_dateTime,string,i)}function parseLocaleDate(d,string,i){return parseSpecifier(d,locale_date,string,i)}function parseLocaleTime(d,string,i){return parseSpecifier(d,locale_time,string,i)}function formatShortWeekday(d){return locale_shortWeekdays[d.getDay()]}function formatWeekday(d){return locale_weekdays[d.getDay()]}function formatShortMonth(d){return locale_shortMonths[d.getMonth()]}function formatMonth(d){return locale_months[d.getMonth()]}function formatPeriod(d){return locale_periods[+(d.getHours()>=12)]}function formatQuarter(d){return 1+~~(d.getMonth()/3)}function formatUTCShortWeekday(d){return locale_shortWeekdays[d.getUTCDay()]}function formatUTCWeekday(d){return locale_weekdays[d.getUTCDay()]}function formatUTCShortMonth(d){return locale_shortMonths[d.getUTCMonth()]}function formatUTCMonth(d){return locale_months[d.getUTCMonth()]}function formatUTCPeriod(d){return locale_periods[+(d.getUTCHours()>=12)]}function formatUTCQuarter(d){return 1+~~(d.getUTCMonth()/3)}return{format:function(specifier){var f=newFormat(specifier+="",formats);f.toString=function(){return specifier};return f},parse:function(specifier){var p=newParse(specifier+="",false);p.toString=function(){return specifier};return p},utcFormat:function(specifier){var f=newFormat(specifier+="",utcFormats);f.toString=function(){return specifier};return f},utcParse:function(specifier){var p=newParse(specifier+="",true);p.toString=function(){return specifier};return p}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(value,fill,width){var sign=value<0?"-":"",string=(sign?-value:value)+"",length=string.length;return sign+(length<width?new Array(width-length+1).join(fill)+string:string)}function requote(s){return s.replace(requoteRe,"\\$&")}function formatRe(names){return new RegExp("^(?:"+names.map(requote).join("|")+")","i")}function formatLookup(names){return new Map(names.map((name,i)=>[name.toLowerCase(),i]))}function parseWeekdayNumberSunday(d,string,i){var n=numberRe.exec(string.slice(i,i+1));return n?(d.w=+n[0],i+n[0].length):-1}function parseWeekdayNumberMonday(d,string,i){var n=numberRe.exec(string.slice(i,i+1));return n?(d.u=+n[0],i+n[0].length):-1}function parseWeekNumberSunday(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.U=+n[0],i+n[0].length):-1}function parseWeekNumberISO(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.V=+n[0],i+n[0].length):-1}function parseWeekNumberMonday(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.W=+n[0],i+n[0].length):-1}function parseFullYear(d,string,i){var n=numberRe.exec(string.slice(i,i+4));return n?(d.y=+n[0],i+n[0].length):-1}function parseYear(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.y=+n[0]+(+n[0]>68?1900:2e3),i+n[0].length):-1}function parseZone(d,string,i){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(string.slice(i,i+6));return n?(d.Z=n[1]?0:-(n[2]+(n[3]||"00")),i+n[0].length):-1}function parseQuarter(d,string,i){var n=numberRe.exec(string.slice(i,i+1));return n?(d.q=n[0]*3-3,i+n[0].length):-1}function parseMonthNumber(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.m=n[0]-1,i+n[0].length):-1}function parseDayOfMonth(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.d=+n[0],i+n[0].length):-1}function parseDayOfYear(d,string,i){var n=numberRe.exec(string.slice(i,i+3));return n?(d.m=0,d.d=+n[0],i+n[0].length):-1}function parseHour24(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.H=+n[0],i+n[0].length):-1}function parseMinutes(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.M=+n[0],i+n[0].length):-1}function parseSeconds(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.S=+n[0],i+n[0].length):-1}function parseMilliseconds(d,string,i){var n=numberRe.exec(string.slice(i,i+3));return n?(d.L=+n[0],i+n[0].length):-1}function parseMicroseconds(d,string,i){var n=numberRe.exec(string.slice(i,i+6));return n?(d.L=Math.floor(n[0]/1e3),i+n[0].length):-1}function parseLiteralPercent(d,string,i){var n=percentRe.exec(string.slice(i,i+1));return n?i+n[0].length:-1}function parseUnixTimestamp(d,string,i){var n=numberRe.exec(string.slice(i));return n?(d.Q=+n[0],i+n[0].length):-1}function parseUnixTimestampSeconds(d,string,i){var n=numberRe.exec(string.slice(i));return n?(d.s=+n[0],i+n[0].length):-1}function formatDayOfMonth(d,p){return pad(d.getDate(),p,2)}function formatHour24(d,p){return pad(d.getHours(),p,2)}function formatHour12(d,p){return pad(d.getHours()%12||12,p,2)}function formatDayOfYear(d,p){return pad(1+timeDay.count(timeYear(d),d),p,3)}function formatMilliseconds(d,p){return pad(d.getMilliseconds(),p,3)}function formatMicroseconds(d,p){return formatMilliseconds(d,p)+"000"}function formatMonthNumber(d,p){return pad(d.getMonth()+1,p,2)}function formatMinutes(d,p){return pad(d.getMinutes(),p,2)}function formatSeconds(d,p){return pad(d.getSeconds(),p,2)}function formatWeekdayNumberMonday(d){var day=d.getDay();return day===0?7:day}function formatWeekNumberSunday(d,p){return pad(timeSunday.count(timeYear(d)-1,d),p,2)}function dISO(d){var day=d.getDay();return day>=4||day===0?timeThursday(d):timeThursday.ceil(d)}function formatWeekNumberISO(d,p){d=dISO(d);return pad(timeThursday.count(timeYear(d),d)+(timeYear(d).getDay()===4),p,2)}function formatWeekdayNumberSunday(d){return d.getDay()}function formatWeekNumberMonday(d,p){return pad(timeMonday.count(timeYear(d)-1,d),p,2)}function formatYear(d,p){return pad(d.getFullYear()%100,p,2)}function formatYearISO(d,p){d=dISO(d);return pad(d.getFullYear()%100,p,2)}function formatFullYear(d,p){return pad(d.getFullYear()%1e4,p,4)}function formatFullYearISO(d,p){var day=d.getDay();d=day>=4||day===0?timeThursday(d):timeThursday.ceil(d);return pad(d.getFullYear()%1e4,p,4)}function formatZone(d){var z=d.getTimezoneOffset();return(z>0?"-":(z*=-1,"+"))+pad(z/60|0,"0",2)+pad(z%60,"0",2)}function formatUTCDayOfMonth(d,p){return pad(d.getUTCDate(),p,2)}function formatUTCHour24(d,p){return pad(d.getUTCHours(),p,2)}function formatUTCHour12(d,p){return pad(d.getUTCHours()%12||12,p,2)}function formatUTCDayOfYear(d,p){return pad(1+utcDay.count(utcYear(d),d),p,3)}function formatUTCMilliseconds(d,p){return pad(d.getUTCMilliseconds(),p,3)}function formatUTCMicroseconds(d,p){return formatUTCMilliseconds(d,p)+"000"}function formatUTCMonthNumber(d,p){return pad(d.getUTCMonth()+1,p,2)}function formatUTCMinutes(d,p){return pad(d.getUTCMinutes(),p,2)}function formatUTCSeconds(d,p){return pad(d.getUTCSeconds(),p,2)}function formatUTCWeekdayNumberMonday(d){var dow=d.getUTCDay();return dow===0?7:dow}function formatUTCWeekNumberSunday(d,p){return pad(utcSunday.count(utcYear(d)-1,d),p,2)}function UTCdISO(d){var day=d.getUTCDay();return day>=4||day===0?utcThursday(d):utcThursday.ceil(d)}function formatUTCWeekNumberISO(d,p){d=UTCdISO(d);return pad(utcThursday.count(utcYear(d),d)+(utcYear(d).getUTCDay()===4),p,2)}function formatUTCWeekdayNumberSunday(d){return d.getUTCDay()}function formatUTCWeekNumberMonday(d,p){return pad(utcMonday.count(utcYear(d)-1,d),p,2)}function formatUTCYear(d,p){return pad(d.getUTCFullYear()%100,p,2)}function formatUTCYearISO(d,p){d=UTCdISO(d);return pad(d.getUTCFullYear()%100,p,2)}function formatUTCFullYear(d,p){return pad(d.getUTCFullYear()%1e4,p,4)}function formatUTCFullYearISO(d,p){var day=d.getUTCDay();d=day>=4||day===0?utcThursday(d):utcThursday.ceil(d);return pad(d.getUTCFullYear()%1e4,p,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(d){return+d}function formatUnixTimestampSeconds(d){return Math.floor(+d/1e3)}var locale$1;var timeFormat$1;var timeParse$1;var utcFormat$1;var utcParse$1;defaultLocale$1({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale$1(definition){locale$1=formatLocale(definition);timeFormat$1=locale$1.format;timeParse$1=locale$1.parse;utcFormat$1=locale$1.utcFormat;utcParse$1=locale$1.utcParse;return locale$1}function memoize(method){const cache={};return spec=>cache[spec]||(cache[spec]=method(spec))}function trimZeroes(numberFormat,decimalChar){return x=>{const str=numberFormat(x),dec=str.indexOf(decimalChar);if(dec<0)return str;let idx=rightmostDigit(str,dec);const end=idx<str.length?str.slice(idx):"";while(--idx>dec)if(str[idx]!=="0"){++idx;break}return str.slice(0,idx)+end}}function rightmostDigit(str,dec){let i=str.lastIndexOf("e"),c;if(i>0)return i;for(i=str.length;--i>dec;){c=str.charCodeAt(i);if(c>=48&&c<=57)return i+1}}function numberLocale(locale){const format=memoize(locale.format),formatPrefix=locale.formatPrefix;return{format:format,formatPrefix:formatPrefix,formatFloat(spec){const s=formatSpecifier(spec||",");if(s.precision==null){s.precision=12;switch(s.type){case"%":s.precision-=2;break;case"e":s.precision-=1;break}return trimZeroes(format(s),format(".1f")(1)[1])}else{return format(s)}},formatSpan(start,stop,count,specifier){specifier=formatSpecifier(specifier==null?",f":specifier);const step=tickStep(start,stop,count),value=Math.max(Math.abs(start),Math.abs(stop));let precision;if(specifier.precision==null){switch(specifier.type){case"s":{if(!isNaN(precision=precisionPrefix(step,value))){specifier.precision=precision}return formatPrefix(specifier,value)}case"":case"e":case"g":case"p":case"r":{if(!isNaN(precision=precisionRound(step,value))){specifier.precision=precision-(specifier.type==="e")}break}case"f":case"%":{if(!isNaN(precision=precisionFixed(step))){specifier.precision=precision-(specifier.type==="%")*2}break}}}return format(specifier)}}}let defaultNumberLocale;resetNumberFormatDefaultLocale();function resetNumberFormatDefaultLocale(){return defaultNumberLocale=numberLocale({format:format$3,formatPrefix:formatPrefix})}function numberFormatLocale(definition){return numberLocale(formatLocale$1(definition))}function numberFormatDefaultLocale(definition){return arguments.length?defaultNumberLocale=numberFormatLocale(definition):defaultNumberLocale}function timeMultiFormat(format,interval,spec){spec=spec||{};if(!isObject(spec)){error(`Invalid time multi-format specifier: ${spec}`)}const second=interval(SECONDS),minute=interval(MINUTES),hour=interval(HOURS),day=interval(DATE),week=interval(WEEK),month=interval(MONTH),quarter=interval(QUARTER),year=interval(YEAR),L=format(spec[MILLISECONDS]||".%L"),S=format(spec[SECONDS]||":%S"),M=format(spec[MINUTES]||"%I:%M"),H=format(spec[HOURS]||"%I %p"),d=format(spec[DATE]||spec[DAY]||"%a %d"),w=format(spec[WEEK]||"%b %d"),m=format(spec[MONTH]||"%B"),q=format(spec[QUARTER]||"%B"),y=format(spec[YEAR]||"%Y");return date=>(second(date)<date?L:minute(date)<date?S:hour(date)<date?M:day(date)<date?H:month(date)<date?week(date)<date?d:w:year(date)<date?quarter(date)<date?m:q:y)(date)}function timeLocale(locale){const timeFormat=memoize(locale.format),utcFormat=memoize(locale.utcFormat);return{timeFormat:spec=>isString(spec)?timeFormat(spec):timeMultiFormat(timeFormat,timeInterval,spec),utcFormat:spec=>isString(spec)?utcFormat(spec):timeMultiFormat(utcFormat,utcInterval,spec),timeParse:memoize(locale.parse),utcParse:memoize(locale.utcParse)}}let defaultTimeLocale;resetTimeFormatDefaultLocale();function resetTimeFormatDefaultLocale(){return defaultTimeLocale=timeLocale({format:timeFormat$1,parse:timeParse$1,utcFormat:utcFormat$1,utcParse:utcParse$1})}function timeFormatLocale(definition){return timeLocale(formatLocale(definition))}function timeFormatDefaultLocale(definition){return arguments.length?defaultTimeLocale=timeFormatLocale(definition):defaultTimeLocale}const createLocale=(number,time)=>extend$1({},number,time);function locale(numberSpec,timeSpec){const number=numberSpec?numberFormatLocale(numberSpec):numberFormatDefaultLocale();const time=timeSpec?timeFormatLocale(timeSpec):timeFormatDefaultLocale();return createLocale(number,time)}function defaultLocale(numberSpec,timeSpec){const args=arguments.length;if(args&&args!==2){error("defaultLocale expects either zero or two arguments.")}return args?createLocale(numberFormatDefaultLocale(numberSpec),timeFormatDefaultLocale(timeSpec)):createLocale(numberFormatDefaultLocale(),timeFormatDefaultLocale())}function resetDefaultLocale(){resetNumberFormatDefaultLocale();resetTimeFormatDefaultLocale();return defaultLocale()}const protocol_re=/^(data:|([A-Za-z]+:)?\/\/)/;const allowed_re=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i;const whitespace_re=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g;const fileProtocol="file://";function loaderFactory(fetch,fs){return options=>({options:options||{},sanitize:sanitize,load:load$1,fileAccess:!!fs,file:fileLoader(fs),http:httpLoader(fetch)})}async function load$1(uri,options){const opt=await this.sanitize(uri,options),url=opt.href;return opt.localFile?this.file(url):this.http(url,options)}async function sanitize(uri,options){options=extend$1({},this.options,options);const fileAccess=this.fileAccess,result={href:null};let isFile,loadFile,base;const isAllowed=allowed_re.test(uri.replace(whitespace_re,""));if(uri==null||typeof uri!=="string"||!isAllowed){error("Sanitize failure, invalid URI: "+$(uri))}const hasProtocol=protocol_re.test(uri);if((base=options.baseURL)&&!hasProtocol){if(!uri.startsWith("/")&&!base.endsWith("/")){uri="/"+uri}uri=base+uri}loadFile=(isFile=uri.startsWith(fileProtocol))||options.mode==="file"||options.mode!=="http"&&!hasProtocol&&fileAccess;if(isFile){uri=uri.slice(fileProtocol.length)}else if(uri.startsWith("//")){if(options.defaultProtocol==="file"){uri=uri.slice(2);loadFile=true}else{uri=(options.defaultProtocol||"http")+":"+uri}}Object.defineProperty(result,"localFile",{value:!!loadFile});result.href=uri;if(options.target){result.target=options.target+""}if(options.rel){result.rel=options.rel+""}if(options.context==="image"&&options.crossOrigin){result.crossOrigin=options.crossOrigin+""}return result}function fileLoader(fs){return fs?filename=>new Promise((accept,reject)=>{fs.readFile(filename,(error,data)=>{if(error)reject(error);else accept(data)})}):fileReject}async function fileReject(){error("No file system access.")}function httpLoader(fetch){return fetch?async function(url,options){const opt=extend$1({},this.options.http,options),type=options&&options.response,response=await fetch(url,opt);return!response.ok?error(response.status+""+response.statusText):isFunction(response[type])?response[type]():response.text()}:httpReject}async function httpReject(){error("No HTTP fetch method available.")}const isValid=_=>_!=null&&_===_;const isBoolean=_=>_==="true"||_==="false"||_===true||_===false;const isDate=_=>!Number.isNaN(Date.parse(_));const isNumber=_=>!Number.isNaN(+_)&&!(_ instanceof Date);const isInteger=_=>isNumber(_)&&Number.isInteger(+_);const typeParsers={boolean:toBoolean,integer:toNumber,number:toNumber,date:toDate,string:toString,unknown:identity$6};const typeTests=[isBoolean,isInteger,isNumber,isDate];const typeList=["boolean","integer","number","date"];function inferType(values,field){if(!values||!values.length)return"unknown";const n=values.length,m=typeTests.length,a=typeTests.map((_,i)=>i+1);for(let i=0,t=0,j,value;i<n;++i){value=field?values[i][field]:values[i];for(j=0;j<m;++j){if(a[j]&&isValid(value)&&!typeTests[j](value)){a[j]=0;++t;if(t===typeTests.length)return"string"}}}return typeList[a.reduce((u,v)=>u===0?v:u,0)-1]}function inferTypes(data,fields){return fields.reduce((types,field)=>{types[field]=inferType(data,field);return types},{})}function delimitedFormat(delimiter){const parse=function(data,format){const delim={delimiter:delimiter};return dsv(data,format?extend$1(format,delim):delim)};parse.responseType="text";return parse}function dsv(data,format){if(format.header){data=format.header.map($).join(format.delimiter)+"\n"+data}return dsvFormat(format.delimiter).parse(data+"")}dsv.responseType="text";function isBuffer(_){return typeof Buffer==="function"&&isFunction(Buffer.isBuffer)?Buffer.isBuffer(_):false}function json(data,format){const prop=format&&format.property?field$1(format.property):identity$6;return isObject(data)&&!isBuffer(data)?parseJSON(prop(data),format):prop(JSON.parse(data))}json.responseType="json";function parseJSON(data,format){if(!isArray(data)&&isIterable(data)){data=[...data]}return format&&format.copy?JSON.parse(JSON.stringify(data)):data}const filters={interior:(a,b)=>a!==b,exterior:(a,b)=>a===b};function topojson(data,format){let method,object,property,filter;data=json(data,format);if(format&&format.feature){method=feature;property=format.feature}else if(format&&format.mesh){method=mesh;property=format.mesh;filter=filters[format.filter]}else{error("Missing TopoJSON feature or mesh parameter.")}object=(object=data.objects[property])?method(data,object,filter):error("Invalid TopoJSON object: "+property);return object&&object.features||[object]}topojson.responseType="json";const format$2={dsv:dsv,csv:delimitedFormat(","),tsv:delimitedFormat("\t"),json:json,topojson:topojson};function formats$1(name,reader){if(arguments.length>1){format$2[name]=reader;return this}else{return has$1(format$2,name)?format$2[name]:null}}function responseType(type){const f=formats$1(type);return f&&f.responseType||"text"}function read(data,schema,timeParser,utcParser){schema=schema||{};const reader=formats$1(schema.type||"json");if(!reader)error("Unknown data format type: "+schema.type);data=reader(data,schema);if(schema.parse)parse$6(data,schema.parse,timeParser,utcParser);if(has$1(data,"columns"))delete data.columns;return data}function parse$6(data,types,timeParser,utcParser){if(!data.length)return;const locale=timeFormatDefaultLocale();timeParser=timeParser||locale.timeParse;utcParser=utcParser||locale.utcParse;let fields=data.columns||Object.keys(data[0]),datum,field,i,j,n,m;if(types==="auto")types=inferTypes(data,fields);fields=Object.keys(types);const parsers=fields.map(field=>{const type=types[field];let parts,pattern;if(type&&(type.startsWith("date:")||type.startsWith("utc:"))){parts=type.split(/:(.+)?/,2);pattern=parts[1];if(pattern[0]==="'"&&pattern[pattern.length-1]==="'"||pattern[0]==='"'&&pattern[pattern.length-1]==='"'){pattern=pattern.slice(1,-1)}const parse=parts[0]==="utc"?utcParser:timeParser;return parse(pattern)}if(!typeParsers[type]){throw Error("Illegal format pattern: "+field+":"+type)}return typeParsers[type]});for(i=0,n=data.length,m=fields.length;i<n;++i){datum=data[i];for(j=0;j<m;++j){field=fields[j];datum[field]=parsers[j](datum[field])}}}const loader=loaderFactory(typeof fetch!=="undefined"&&fetch,null);function UniqueList(idFunc){const $=idFunc||identity$6,list=[],ids={};list.add=_=>{const id=$(_);if(!ids[id]){ids[id]=1;list.push(_)}return list};list.remove=_=>{const id=$(_);if(ids[id]){ids[id]=0;const idx=list.indexOf(_);if(idx>=0)list.splice(idx,1)}return list};return list}async function asyncCallback(df,callback){try{await callback(df)}catch(err){df.error(err)}}const TUPLE_ID_KEY=Symbol("vega_id");let TUPLE_ID=1;function isTuple(t){return!!(t&&tupleid(t))}function tupleid(t){return t[TUPLE_ID_KEY]}function setid(t,id){t[TUPLE_ID_KEY]=id;return t}function ingest$1(datum){const t=datum===Object(datum)?datum:{data:datum};return tupleid(t)?t:setid(t,TUPLE_ID++)}function derive(t){return rederive(t,ingest$1({}))}function rederive(t,d){for(const k in t)d[k]=t[k];return d}function replace$1(t,d){return setid(d,tupleid(t))}function stableCompare(cmp,f){return!cmp?null:f?(a,b)=>cmp(a,b)||tupleid(f(a))-tupleid(f(b)):(a,b)=>cmp(a,b)||tupleid(a)-tupleid(b)}function isChangeSet(v){return v&&v.constructor===changeset}function changeset(){const add=[],rem=[],mod=[],remp=[],modp=[];let clean=null,reflow=false;return{constructor:changeset,insert(t){const d=array$5(t),n=d.length;for(let i=0;i<n;++i)add.push(d[i]);return this},remove(t){const a=isFunction(t)?remp:rem,d=array$5(t),n=d.length;for(let i=0;i<n;++i)a.push(d[i]);return this},modify(t,field,value){const m={field:field,value:constant$4(value)};if(isFunction(t)){m.filter=t;modp.push(m)}else{m.tuple=t;mod.push(m)}return this},encode(t,set){if(isFunction(t))modp.push({filter:t,field:set});else mod.push({tuple:t,field:set});return this},clean(value){clean=value;return this},reflow(){reflow=true;return this},pulse(pulse,tuples){const cur={},out={};let i,n,m,f,t,id;for(i=0,n=tuples.length;i<n;++i){cur[tupleid(tuples[i])]=1}for(i=0,n=rem.length;i<n;++i){t=rem[i];cur[tupleid(t)]=-1}for(i=0,n=remp.length;i<n;++i){f=remp[i];tuples.forEach(t=>{if(f(t))cur[tupleid(t)]=-1})}for(i=0,n=add.length;i<n;++i){t=add[i];id=tupleid(t);if(cur[id]){cur[id]=1}else{pulse.add.push(ingest$1(add[i]))}}for(i=0,n=tuples.length;i<n;++i){t=tuples[i];if(cur[tupleid(t)]<0)pulse.rem.push(t)}function modify(t,f,v){if(v){t[f]=v(t)}else{pulse.encode=f}if(!reflow)out[tupleid(t)]=t}for(i=0,n=mod.length;i<n;++i){m=mod[i];t=m.tuple;f=m.field;id=cur[tupleid(t)];if(id>0){modify(t,f,m.value);pulse.modifies(f)}}for(i=0,n=modp.length;i<n;++i){m=modp[i];f=m.filter;tuples.forEach(t=>{if(f(t)&&cur[tupleid(t)]>0){modify(t,m.field,m.value)}});pulse.modifies(m.field)}if(reflow){pulse.mod=rem.length||remp.length?tuples.filter(t=>cur[tupleid(t)]>0):tuples.slice()}else{for(id in out)pulse.mod.push(out[id])}if(clean||clean==null&&(rem.length||remp.length)){pulse.clean(true)}return pulse}}}const CACHE="_:mod:_";function Parameters(){Object.defineProperty(this,CACHE,{writable:true,value:{}})}Parameters.prototype={set(name,index,value,force){const o=this,v=o[name],mod=o[CACHE];if(index!=null&&index>=0){if(v[index]!==value||force){v[index]=value;mod[index+":"+name]=-1;mod[name]=-1}}else if(v!==value||force){o[name]=value;mod[name]=isArray(value)?1+value.length:-1}return o},modified(name,index){const mod=this[CACHE];if(!arguments.length){for(const k in mod){if(mod[k])return true}return false}else if(isArray(name)){for(let k=0;k<name.length;++k){if(mod[name[k]])return true}return false}return index!=null&&index>=0?index+1<mod[name]||!!mod[index+":"+name]:!!mod[name]},clear(){this[CACHE]={};return this}};let OP_ID=0;const PULSE="pulse",NO_PARAMS=new Parameters;const SKIP$1$1=1,MODIFIED=2;function Operator(init,update,params,react){this.id=++OP_ID;this.value=init;this.stamp=-1;this.rank=-1;this.qrank=-1;this.flags=0;if(update){this._update=update}if(params)this.parameters(params,react)}function flag(bit){return function(state){const f=this.flags;if(arguments.length===0)return!!(f&bit);this.flags=state?f|bit:f&~bit;return this}}Operator.prototype={targets(){return this._targets||(this._targets=UniqueList(id))},set(value){if(this.value!==value){this.value=value;return 1}else{return 0}},skip:flag(SKIP$1$1),modified:flag(MODIFIED),parameters(params,react,initonly){react=react!==false;const argval=this._argval=this._argval||new Parameters,argops=this._argops=this._argops||[],deps=[];let name,value,n,i;const add=(name,index,value)=>{if(value instanceof Operator){if(value!==this){if(react)value.targets().add(this);deps.push(value)}argops.push({op:value,name:name,index:index})}else{argval.set(name,index,value)}};for(name in params){value=params[name];if(name===PULSE){array$5(value).forEach(op=>{if(!(op instanceof Operator)){error("Pulse parameters must be operator instances.")}else if(op!==this){op.targets().add(this);deps.push(op)}});this.source=value}else if(isArray(value)){argval.set(name,-1,Array(n=value.length));for(i=0;i<n;++i)add(name,i,value[i])}else{add(name,-1,value)}}this.marshall().clear();if(initonly)argops.initonly=true;return deps},marshall(stamp){const argval=this._argval||NO_PARAMS,argops=this._argops;let item,i,op,mod;if(argops){const n=argops.length;for(i=0;i<n;++i){item=argops[i];op=item.op;mod=op.modified()&&op.stamp===stamp;argval.set(item.name,item.index,op.value,mod)}if(argops.initonly){for(i=0;i<n;++i){item=argops[i];item.op.targets().remove(this)}this._argops=null;this._update=null}}return argval},detach(){const argops=this._argops;let i,n,item,op;if(argops){for(i=0,n=argops.length;i<n;++i){item=argops[i];op=item.op;if(op._targets){op._targets.remove(this)}}}this.pulse=null;this.source=null},evaluate(pulse){const update=this._update;if(update){const params=this.marshall(pulse.stamp),v=update.call(this,params,pulse);params.clear();if(v!==this.value){this.value=v}else if(!this.modified()){return pulse.StopPropagation}}},run(pulse){if(pulse.stamp<this.stamp)return pulse.StopPropagation;let rv;if(this.skip()){this.skip(false);rv=0}else{rv=this.evaluate(pulse)}return this.pulse=rv||pulse}};function add$3(init,update,params,react){let shift=1,op;if(init instanceof Operator){op=init}else if(init&&init.prototype instanceof Operator){op=new init}else if(isFunction(init)){op=new Operator(null,init)}else{shift=0;op=new Operator(init,update)}this.rank(op);if(shift){react=params;params=update}if(params)this.connect(op,op.parameters(params,react));this.touch(op);return op}function connect(target,sources){const targetRank=target.rank,n=sources.length;for(let i=0;i<n;++i){if(targetRank<sources[i].rank){this.rerank(target);return}}}let STREAM_ID=0;function EventStream(filter,apply,receive){this.id=++STREAM_ID;this.value=null;if(receive)this.receive=receive;if(filter)this._filter=filter;if(apply)this._apply=apply}function stream(filter,apply,receive){return new EventStream(filter,apply,receive)}EventStream.prototype={_filter:truthy,_apply:identity$6,targets(){return this._targets||(this._targets=UniqueList(id))},consume(_){if(!arguments.length)return!!this._consume;this._consume=!!_;return this},receive(evt){if(this._filter(evt)){const val=this.value=this._apply(evt),trg=this._targets,n=trg?trg.length:0;for(let i=0;i<n;++i)trg[i].receive(val);if(this._consume){evt.preventDefault();evt.stopPropagation()}}},filter(filter){const s=stream(filter);this.targets().add(s);return s},apply(apply){const s=stream(null,apply);this.targets().add(s);return s},merge(){const s=stream();this.targets().add(s);for(let i=0,n=arguments.length;i<n;++i){arguments[i].targets().add(s)}return s},throttle(pause){let t=-1;return this.filter(()=>{const now=Date.now();if(now-t>pause){t=now;return 1}else{return 0}})},debounce(delay){const s=stream();this.targets().add(stream(null,null,debounce(delay,e=>{const df=e.dataflow;s.receive(e);if(df&&df.run)df.run()})));return s},between(a,b){let active=false;a.targets().add(stream(null,null,()=>active=true));b.targets().add(stream(null,null,()=>active=false));return this.filter(()=>active)},detach(){this._filter=truthy;this._targets=null}};function events$1(source,type,filter,apply){const df=this,s=stream(filter,apply),send=function(e){e.dataflow=df;try{s.receive(e)}catch(error){df.error(error)}finally{df.run()}};let sources;if(typeof source==="string"&&typeof document!=="undefined"){sources=document.querySelectorAll(source)}else{sources=array$5(source)}const n=sources.length;for(let i=0;i<n;++i){sources[i].addEventListener(type,send)}return s}function parse$5(data,format){const locale=this.locale();return read(data,format,locale.timeParse,locale.utcParse)}function ingest(target,data,format){data=this.parse(data,format);return this.pulse(target,this.changeset().insert(data))}async function request(url,format){const df=this;let status=0,data;try{data=await df.loader().load(url,{context:"dataflow",response:responseType(format&&format.type)});try{data=df.parse(data,format)}catch(err){status=-2;df.warn("Data ingestion failed",url,err)}}catch(err){status=-1;df.warn("Loading failed",url,err)}return{data:data,status:status}}async function preload(target,url,format){const df=this,pending=df._pending||loadPending(df);pending.requests+=1;const res=await df.request(url,format);df.pulse(target,df.changeset().remove(truthy).insert(res.data||[]));pending.done();return res}function loadPending(df){let accept;const pending=new Promise(a=>accept=a);pending.requests=0;pending.done=()=>{if(--pending.requests===0){df._pending=null;accept(df)}};return df._pending=pending}const SKIP$2={skip:true};function on(source,target,update,params,options){const fn=source instanceof Operator?onOperator:onStream;fn(this,source,target,update,params,options);return this}function onStream(df,stream,target,update,params,options){const opt=extend$1({},options,SKIP$2);let func,op;if(!isFunction(target))target=constant$4(target);if(update===undefined){func=e=>df.touch(target(e))}else if(isFunction(update)){op=new Operator(null,update,params,false);func=e=>{op.evaluate(e);const t=target(e),v=op.value;isChangeSet(v)?df.pulse(t,v,options):df.update(t,v,opt)}}else{func=e=>df.update(target(e),update,opt)}stream.apply(func)}function onOperator(df,source,target,update,params,options){if(update===undefined){source.targets().add(target)}else{const opt=options||{},op=new Operator(null,updater(target,update),params,false);op.modified(opt.force);op.rank=source.rank;source.targets().add(op);if(target){op.skip(true);op.value=target.value;op.targets().add(target);df.connect(target,[op])}}}function updater(target,update){update=isFunction(update)?update:constant$4(update);return target?function(_,pulse){const value=update(_,pulse);if(!target.skip()){target.skip(value!==this.value).value=value}return value}:update}function rank(op){op.rank=++this._rank}function rerank(op){const queue=[op];let cur,list,i;while(queue.length){this.rank(cur=queue.pop());if(list=cur._targets){for(i=list.length;--i>=0;){queue.push(cur=list[i]);if(cur===op)error("Cycle detected in dataflow graph.")}}}}const StopPropagation={};const ADD=1<<0,REM=1<<1,MOD$1=1<<2,ADD_REM=ADD|REM,ADD_MOD=ADD|MOD$1,ALL=ADD|REM|MOD$1,REFLOW=1<<3,SOURCE=1<<4,NO_SOURCE=1<<5,NO_FIELDS=1<<6;function Pulse(dataflow,stamp,encode){this.dataflow=dataflow;this.stamp=stamp==null?-1:stamp;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=encode||null}function materialize(data,filter){const out=[];visitArray(data,filter,_=>out.push(_));return out}function filter$1(pulse,flags){const map={};pulse.visit(flags,t=>{map[tupleid(t)]=1});return t=>map[tupleid(t)]?null:t}function addFilter(a,b){return a?(t,i)=>a(t,i)&&b(t,i):b}Pulse.prototype={StopPropagation:StopPropagation,ADD:ADD,REM:REM,MOD:MOD$1,ADD_REM:ADD_REM,ADD_MOD:ADD_MOD,ALL:ALL,REFLOW:REFLOW,SOURCE:SOURCE,NO_SOURCE:NO_SOURCE,NO_FIELDS:NO_FIELDS,fork(flags){return new Pulse(this.dataflow).init(this,flags)},clone(){const p=this.fork(ALL);p.add=p.add.slice();p.rem=p.rem.slice();p.mod=p.mod.slice();if(p.source)p.source=p.source.slice();return p.materialize(ALL|SOURCE)},addAll(){let p=this;const reuse=!p.source||p.add===p.rem||!p.rem.length&&p.source.length===p.add.length;if(reuse){return p}else{p=new Pulse(this.dataflow).init(this);p.add=p.source;p.rem=[];return p}},init(src,flags){const p=this;p.stamp=src.stamp;p.encode=src.encode;if(src.fields&&!(flags&NO_FIELDS)){p.fields=src.fields}if(flags&ADD){p.addF=src.addF;p.add=src.add}else{p.addF=null;p.add=[]}if(flags&REM){p.remF=src.remF;p.rem=src.rem}else{p.remF=null;p.rem=[]}if(flags&MOD$1){p.modF=src.modF;p.mod=src.mod}else{p.modF=null;p.mod=[]}if(flags&NO_SOURCE){p.srcF=null;p.source=null}else{p.srcF=src.srcF;p.source=src.source;if(src.cleans)p.cleans=src.cleans}return p},runAfter(func){this.dataflow.runAfter(func)},changed(flags){const f=flags||ALL;return f&ADD&&this.add.length||f&REM&&this.rem.length||f&MOD$1&&this.mod.length},reflow(fork){if(fork)return this.fork(ALL).reflow();const len=this.add.length,src=this.source&&this.source.length;if(src&&src!==len){this.mod=this.source;if(len)this.filter(MOD$1,filter$1(this,ADD))}return this},clean(value){if(arguments.length){this.cleans=!!value;return this}else{return this.cleans}},modifies(_){const hash=this.fields||(this.fields={});if(isArray(_)){_.forEach(f=>hash[f]=true)}else{hash[_]=true}return this},modified(_,nomod){const fields=this.fields;return!((nomod||this.mod.length)&&fields)?false:!arguments.length?!!fields:isArray(_)?_.some(f=>fields[f]):fields[_]},filter(flags,filter){const p=this;if(flags&ADD)p.addF=addFilter(p.addF,filter);if(flags&REM)p.remF=addFilter(p.remF,filter);if(flags&MOD$1)p.modF=addFilter(p.modF,filter);if(flags&SOURCE)p.srcF=addFilter(p.srcF,filter);return p},materialize(flags){flags=flags||ALL;const p=this;if(flags&ADD&&p.addF){p.add=materialize(p.add,p.addF);p.addF=null}if(flags&REM&&p.remF){p.rem=materialize(p.rem,p.remF);p.remF=null}if(flags&MOD$1&&p.modF){p.mod=materialize(p.mod,p.modF);p.modF=null}if(flags&SOURCE&&p.srcF){p.source=p.source.filter(p.srcF);p.srcF=null}return p},visit(flags,visitor){const p=this,v=visitor;if(flags&SOURCE){visitArray(p.source,p.srcF,v);return p}if(flags&ADD)visitArray(p.add,p.addF,v);if(flags&REM)visitArray(p.rem,p.remF,v);if(flags&MOD$1)visitArray(p.mod,p.modF,v);const src=p.source;if(flags&REFLOW&&src){const sum=p.add.length+p.mod.length;if(sum===src.length);else if(sum){visitArray(src,filter$1(p,ADD_MOD),v)}else{visitArray(src,p.srcF,v)}}return p}};function MultiPulse(dataflow,stamp,pulses,encode){const p=this;let c=0;this.dataflow=dataflow;this.stamp=stamp;this.fields=null;this.encode=encode||null;this.pulses=pulses;for(const pulse of pulses){if(pulse.stamp!==stamp)continue;if(pulse.fields){const hash=p.fields||(p.fields={});for(const f in pulse.fields){hash[f]=1}}if(pulse.changed(p.ADD))c|=p.ADD;if(pulse.changed(p.REM))c|=p.REM;if(pulse.changed(p.MOD))c|=p.MOD}this.changes=c}inherits(MultiPulse,Pulse,{fork(flags){const p=new Pulse(this.dataflow).init(this,flags&this.NO_FIELDS);if(flags!==undefined){if(flags&p.ADD)this.visit(p.ADD,t=>p.add.push(t));if(flags&p.REM)this.visit(p.REM,t=>p.rem.push(t));if(flags&p.MOD)this.visit(p.MOD,t=>p.mod.push(t))}return p},changed(flags){return this.changes&flags},modified(_){const p=this,fields=p.fields;return!(fields&&p.changes&p.MOD)?0:isArray(_)?_.some(f=>fields[f]):fields[_]},filter(){error("MultiPulse does not support filtering.")},materialize(){error("MultiPulse does not support materialization.")},visit(flags,visitor){const p=this,pulses=p.pulses,n=pulses.length;let i=0;if(flags&p.SOURCE){for(;i<n;++i){pulses[i].visit(flags,visitor)}}else{for(;i<n;++i){if(pulses[i].stamp===p.stamp){pulses[i].visit(flags,visitor)}}}return p}});async function evaluate(encode,prerun,postrun){const df=this,async=[];if(df._pulse)return reentrant(df);if(df._pending)await df._pending;if(prerun)await asyncCallback(df,prerun);if(!df._touched.length){df.debug("Dataflow invoked, but nothing to do.");return df}const stamp=++df._clock;df._pulse=new Pulse(df,stamp,encode);df._touched.forEach(op=>df._enqueue(op,true));df._touched=UniqueList(id);let count=0,op,next,error;try{while(df._heap.size()>0){op=df._heap.pop();if(op.rank!==op.qrank){df._enqueue(op,true);continue}next=op.run(df._getPulse(op,encode));if(next.then){next=await next}else if(next.async){async.push(next.async);next=StopPropagation}if(next!==StopPropagation){if(op._targets)op._targets.forEach(op=>df._enqueue(op))}++count}}catch(err){df._heap.clear();error=err}df._input={};df._pulse=null;df.debug(`Pulse ${stamp}: ${count} operators`);if(error){df._postrun=[];df.error(error)}if(df._postrun.length){const pr=df._postrun.sort((a,b)=>b.priority-a.priority);df._postrun=[];for(let i=0;i<pr.length;++i){await asyncCallback(df,pr[i].callback)}}if(postrun)await asyncCallback(df,postrun);if(async.length){Promise.all(async).then(cb=>df.runAsync(null,()=>{cb.forEach(f=>{try{f(df)}catch(err){df.error(err)}})}))}return df}async function runAsync(encode,prerun,postrun){while(this._running)await this._running;const clear=()=>this._running=null;(this._running=this.evaluate(encode,prerun,postrun)).then(clear,clear);return this._running}function run(encode,prerun,postrun){return this._pulse?reentrant(this):(this.evaluate(encode,prerun,postrun),this)}function runAfter(callback,enqueue,priority){if(this._pulse||enqueue){this._postrun.push({priority:priority||0,callback:callback})}else{try{callback(this)}catch(err){this.error(err)}}}function reentrant(df){df.error("Dataflow already running. Use runAsync() to chain invocations.");return df}function enqueue(op,force){const q=op.stamp<this._clock;if(q)op.stamp=this._clock;if(q||force){op.qrank=op.rank;this._heap.push(op)}}function getPulse(op,encode){const s=op.source,stamp=this._clock;return s&&isArray(s)?new MultiPulse(this,stamp,s.map(_=>_.pulse),encode):this._input[op.id]||singlePulse(this._pulse,s&&s.pulse)}function singlePulse(p,s){if(s&&s.stamp===p.stamp){return s}p=p.fork();if(s&&s!==StopPropagation){p.source=s.source}return p}const NO_OPT={skip:false,force:false};function touch(op,options){const opt=options||NO_OPT;if(this._pulse){this._enqueue(op)}else{this._touched.add(op)}if(opt.skip)op.skip(true);return this}function update$6(op,value,options){const opt=options||NO_OPT;if(op.set(value)||opt.force){this.touch(op,opt)}return this}function pulse(op,changeset,options){this.touch(op,options||NO_OPT);const p=new Pulse(this,this._clock+(this._pulse?0:1)),t=op.pulse&&op.pulse.source||[];p.target=op;this._input[op.id]=changeset.pulse(p,t);return this}function Heap(cmp){let nodes=[];return{clear:()=>nodes=[],size:()=>nodes.length,peek:()=>nodes[0],push:x=>{nodes.push(x);return siftdown(nodes,0,nodes.length-1,cmp)},pop:()=>{const last=nodes.pop();let item;if(nodes.length){item=nodes[0];nodes[0]=last;siftup(nodes,0,cmp)}else{item=last}return item}}}function siftdown(array,start,idx,cmp){let parent,pidx;const item=array[idx];while(idx>start){pidx=idx-1>>1;parent=array[pidx];if(cmp(item,parent)<0){array[idx]=parent;idx=pidx;continue}break}return array[idx]=item}function siftup(array,idx,cmp){const start=idx,end=array.length,item=array[idx];let cidx=(idx<<1)+1,ridx;while(cidx<end){ridx=cidx+1;if(ridx<end&&cmp(array[cidx],array[ridx])>=0){cidx=ridx}array[idx]=array[cidx];idx=cidx;cidx=(idx<<1)+1}array[idx]=item;return siftdown(array,start,idx,cmp)}function Dataflow(){this.logger(logger());this.logLevel(Error$1);this._clock=0;this._rank=0;this._locale=defaultLocale();try{this._loader=loader()}catch(e){}this._touched=UniqueList(id);this._input={};this._pulse=null;this._heap=Heap((a,b)=>a.qrank-b.qrank);this._postrun=[]}function logMethod(method){return function(){return this._log[method].apply(this,arguments)}}Dataflow.prototype={stamp(){return this._clock},loader(_){if(arguments.length){this._loader=_;return this}else{return this._loader}},locale(_){if(arguments.length){this._locale=_;return this}else{return this._locale}},logger(logger){if(arguments.length){this._log=logger;return this}else{return this._log}},error:logMethod("error"),warn:logMethod("warn"),info:logMethod("info"),debug:logMethod("debug"),logLevel:logMethod("level"),cleanThreshold:1e4,add:add$3,connect:connect,rank:rank,rerank:rerank,pulse:pulse,touch:touch,update:update$6,changeset:changeset,ingest:ingest,parse:parse$5,preload:preload,request:request,events:events$1,on:on,evaluate:evaluate,run:run,runAsync:runAsync,runAfter:runAfter,_enqueue:enqueue,_getPulse:getPulse};function Transform(init,params){Operator.call(this,init,null,params)}inherits(Transform,Operator,{run(pulse){if(pulse.stamp<this.stamp)return pulse.StopPropagation;let rv;if(this.skip()){this.skip(false)}else{rv=this.evaluate(pulse)}rv=rv||pulse;if(rv.then){rv=rv.then(_=>this.pulse=_)}else if(rv!==pulse.StopPropagation){this.pulse=rv}return rv},evaluate(pulse){const params=this.marshall(pulse.stamp),out=this.transform(params,pulse);params.clear();return out},transform(){}});const transforms={};function definition$1(type){const t=transform$2(type);return t&&t.Definition||null}function transform$2(type){type=type&&type.toLowerCase();return has$1(transforms,type)?transforms[type]:null}function*numbers$2(values,valueof){if(valueof==null){for(let value of values){if(value!=null&&value!==""&&(value=+value)>=value){yield value}}}else{let index=-1;for(let value of values){value=valueof(value,++index,values);if(value!=null&&value!==""&&(value=+value)>=value){yield value}}}}function quantiles(array,p,f){const values=Float64Array.from(numbers$2(array,f));values.sort(ascending$1);return p.map(_=>quantileSorted(values,_))}function quartiles(array,f){return quantiles(array,[.25,.5,.75],f)}function estimateBandwidth(array,f){const n=array.length,d=deviation(array,f),q=quartiles(array,f),h=(q[2]-q[0])/1.34,v=Math.min(d,h)||d||Math.abs(q[0])||1;return 1.06*v*Math.pow(n,-.2)}function bin(_){const maxb=_.maxbins||20,base=_.base||10,logb=Math.log(base),div=_.divide||[5,2];let min=_.extent[0],max=_.extent[1],step,level,minstep,v,i,n;const span=_.span||max-min||Math.abs(min)||1;if(_.step){step=_.step}else if(_.steps){v=span/maxb;for(i=0,n=_.steps.length;i<n&&_.steps[i]<v;++i);step=_.steps[Math.max(0,i-1)]}else{level=Math.ceil(Math.log(maxb)/logb);minstep=_.minstep||0;step=Math.max(minstep,Math.pow(base,Math.round(Math.log(span)/logb)-level));while(Math.ceil(span/step)>maxb){step*=base}for(i=0,n=div.length;i<n;++i){v=step/div[i];if(v>=minstep&&span/v<=maxb)step=v}}v=Math.log(step);const precision=v>=0?0:~~(-v/logb)+1,eps=Math.pow(base,-precision-1);if(_.nice||_.nice===undefined){v=Math.floor(min/step+eps)*step;min=min<v?v-step:v;max=Math.ceil(max/step)*step}return{start:min,stop:max===min?min+step:max,step:step}}exports.random=Math.random;function setRandom(r){exports.random=r}function bootstrapCI(array,samples,alpha,f){if(!array.length)return[undefined,undefined];const values=Float64Array.from(numbers$2(array,f)),n=values.length,m=samples;let a,i,j,mu;for(j=0,mu=Array(m);j<m;++j){for(a=0,i=0;i<n;++i){a+=values[~~(exports.random()*n)]}mu[j]=a/n}mu.sort(ascending$1);return[quantile$1(mu,alpha/2),quantile$1(mu,1-alpha/2)]}function dotbin(array,step,smooth,f){f=f||(_=>_);const n=array.length,v=new Float64Array(n);let i=0,j=1,a=f(array[0]),b=a,w=a+step,x;for(;j<n;++j){x=f(array[j]);if(x>=w){b=(a+b)/2;for(;i<j;++i)v[i]=b;w=x+step;a=x}b=x}b=(a+b)/2;for(;i<j;++i)v[i]=b;return smooth?smoothing(v,step+step/4):v}function smoothing(v,thresh){const n=v.length;let a=0,b=1,c,d;while(v[a]===v[b])++b;while(b<n){c=b+1;while(v[b]===v[c])++c;if(v[b]-v[b-1]<thresh){d=b+(a+c-b-b>>1);while(d<b)v[d++]=v[b];while(d>b)v[d--]=v[a]}a=b;b=c}return v}function lcg$2(seed){return function(){seed=(1103515245*seed+12345)%2147483647;return seed/2147483647}}function integer(min,max){if(max==null){max=min;min=0}let a,b,d;const dist={min(_){if(arguments.length){a=_||0;d=b-a;return dist}else{return a}},max(_){if(arguments.length){b=_||0;d=b-a;return dist}else{return b}},sample(){return a+Math.floor(d*exports.random())},pdf(x){return x===Math.floor(x)&&x>=a&&x<b?1/d:0},cdf(x){const v=Math.floor(x);return v<a?0:v>=b?1:(v-a+1)/d},icdf(p){return p>=0&&p<=1?a-1+Math.floor(p*d):NaN}};return dist.min(min).max(max)}const SQRT2PI=Math.sqrt(2*Math.PI);const SQRT2=Math.SQRT2;let nextSample=NaN;function sampleNormal(mean,stdev){mean=mean||0;stdev=stdev==null?1:stdev;let x=0,y=0,rds,c;if(nextSample===nextSample){x=nextSample;nextSample=NaN}else{do{x=exports.random()*2-1;y=exports.random()*2-1;rds=x*x+y*y}while(rds===0||rds>1);c=Math.sqrt(-2*Math.log(rds)/rds);x*=c;nextSample=y*c}return mean+x*stdev}function densityNormal(value,mean,stdev){stdev=stdev==null?1:stdev;const z=(value-(mean||0))/stdev;return Math.exp(-.5*z*z)/(stdev*SQRT2PI)}function cumulativeNormal(value,mean,stdev){mean=mean||0;stdev=stdev==null?1:stdev;const z=(value-mean)/stdev,Z=Math.abs(z);let cd;if(Z>37){cd=0}else{const exp=Math.exp(-Z*Z/2);let sum;if(Z<7.07106781186547){sum=.0352624965998911*Z+.700383064443688;sum=sum*Z+6.37396220353165;sum=sum*Z+33.912866078383;sum=sum*Z+112.079291497871;sum=sum*Z+221.213596169931;sum=sum*Z+220.206867912376;cd=exp*sum;sum=.0883883476483184*Z+1.75566716318264;sum=sum*Z+16.064177579207;sum=sum*Z+86.7807322029461;sum=sum*Z+296.564248779674;sum=sum*Z+637.333633378831;sum=sum*Z+793.826512519948;sum=sum*Z+440.413735824752;cd=cd/sum}else{sum=Z+.65;sum=Z+4/sum;sum=Z+3/sum;sum=Z+2/sum;sum=Z+1/sum;cd=exp/sum/2.506628274631}}return z>0?1-cd:cd}function quantileNormal(p,mean,stdev){if(p<0||p>1)return NaN;return(mean||0)+(stdev==null?1:stdev)*SQRT2*erfinv(2*p-1)}function erfinv(x){let w=-Math.log((1-x)*(1+x)),p;if(w<6.25){w-=3.125;p=-364441206401782e-35;p=-16850591381820166e-35+p*w;p=128584807152564e-32+p*w;p=11157877678025181e-33+p*w;p=-1333171662854621e-31+p*w;p=20972767875968562e-33+p*w;p=6637638134358324e-30+p*w;p=-4054566272975207e-29+p*w;p=-8151934197605472e-29+p*w;p=26335093153082323e-28+p*w;p=-12975133253453532e-27+p*w;p=-5415412054294628e-26+p*w;p=1.0512122733215323e-9+p*w;p=-4.112633980346984e-9+p*w;p=-2.9070369957882005e-8+p*w;p=4.2347877827932404e-7+p*w;p=-13654692000834679e-22+p*w;p=-13882523362786469e-21+p*w;p=.00018673420803405714+p*w;p=-.000740702534166267+p*w;p=-.006033670871430149+p*w;p=.24015818242558962+p*w;p=1.6536545626831027+p*w}else if(w<16){w=Math.sqrt(w)-3.25;p=2.2137376921775787e-9;p=9.075656193888539e-8+p*w;p=-2.7517406297064545e-7+p*w;p=1.8239629214389228e-8+p*w;p=15027403968909828e-22+p*w;p=-4013867526981546e-21+p*w;p=29234449089955446e-22+p*w;p=12475304481671779e-21+p*w;p=-47318229009055734e-21+p*w;p=6828485145957318e-20+p*w;p=24031110387097894e-21+p*w;p=-.0003550375203628475+p*w;p=.0009532893797373805+p*w;p=-.0016882755560235047+p*w;p=.002491442096107851+p*w;p=-.003751208507569241+p*w;p=.005370914553590064+p*w;p=1.0052589676941592+p*w;p=3.0838856104922208+p*w}else if(Number.isFinite(w)){w=Math.sqrt(w)-5;p=-27109920616438573e-27;p=-2.555641816996525e-10+p*w;p=1.5076572693500548e-9+p*w;p=-3.789465440126737e-9+p*w;p=7.61570120807834e-9+p*w;p=-1.496002662714924e-8+p*w;p=2.914795345090108e-8+p*w;p=-6.771199775845234e-8+p*w;p=2.2900482228026655e-7+p*w;p=-9.9298272942317e-7+p*w;p=4526062597223154e-21+p*w;p=-1968177810553167e-20+p*w;p=7599527703001776e-20+p*w;p=-.00021503011930044477+p*w;p=-.00013871931833623122+p*w;p=1.0103004648645344+p*w;p=4.849906401408584+p*w}else{p=Infinity}return p*x}function gaussian(mean,stdev){let mu,sigma;const dist={mean(_){if(arguments.length){mu=_||0;return dist}else{return mu}},stdev(_){if(arguments.length){sigma=_==null?1:_;return dist}else{return sigma}},sample:()=>sampleNormal(mu,sigma),pdf:value=>densityNormal(value,mu,sigma),cdf:value=>cumulativeNormal(value,mu,sigma),icdf:p=>quantileNormal(p,mu,sigma)};return dist.mean(mean).stdev(stdev)}function kde(support,bandwidth){const kernel=gaussian();let n=0;const dist={data(_){if(arguments.length){support=_;n=_?_.length:0;return dist.bandwidth(bandwidth)}else{return support}},bandwidth(_){if(!arguments.length)return bandwidth;bandwidth=_;if(!bandwidth&&support)bandwidth=estimateBandwidth(support);return dist},sample(){return support[~~(exports.random()*n)]+bandwidth*kernel.sample()},pdf(x){let y=0,i=0;for(;i<n;++i){y+=kernel.pdf((x-support[i])/bandwidth)}return y/bandwidth/n},cdf(x){let y=0,i=0;for(;i<n;++i){y+=kernel.cdf((x-support[i])/bandwidth)}return y/n},icdf(){throw Error("KDE icdf not supported.")}};return dist.data(support)}function sampleLogNormal(mean,stdev){mean=mean||0;stdev=stdev==null?1:stdev;return Math.exp(mean+sampleNormal()*stdev)}function densityLogNormal(value,mean,stdev){if(value<=0)return 0;mean=mean||0;stdev=stdev==null?1:stdev;const z=(Math.log(value)-mean)/stdev;return Math.exp(-.5*z*z)/(stdev*SQRT2PI*value)}function cumulativeLogNormal(value,mean,stdev){return cumulativeNormal(Math.log(value),mean,stdev)}function quantileLogNormal(p,mean,stdev){return Math.exp(quantileNormal(p,mean,stdev))}function lognormal(mean,stdev){let mu,sigma;const dist={mean(_){if(arguments.length){mu=_||0;return dist}else{return mu}},stdev(_){if(arguments.length){sigma=_==null?1:_;return dist}else{return sigma}},sample:()=>sampleLogNormal(mu,sigma),pdf:value=>densityLogNormal(value,mu,sigma),cdf:value=>cumulativeLogNormal(value,mu,sigma),icdf:p=>quantileLogNormal(p,mu,sigma)};return dist.mean(mean).stdev(stdev)}function mixture$1(dists,weights){let m=0,w;function normalize(x){const w=[];let sum=0,i;for(i=0;i<m;++i){sum+=w[i]=x[i]==null?1:+x[i]}for(i=0;i<m;++i){w[i]/=sum}return w}const dist={weights(_){if(arguments.length){w=normalize(weights=_||[]);return dist}return weights},distributions(_){if(arguments.length){if(_){m=_.length;dists=_}else{m=0;dists=[]}return dist.weights(weights)}return dists},sample(){const r=exports.random();let d=dists[m-1],v=w[0],i=0;for(;i<m-1;v+=w[++i]){if(r<v){d=dists[i];break}}return d.sample()},pdf(x){let p=0,i=0;for(;i<m;++i){p+=w[i]*dists[i].pdf(x)}return p},cdf(x){let p=0,i=0;for(;i<m;++i){p+=w[i]*dists[i].cdf(x)}return p},icdf(){throw Error("Mixture icdf not supported.")}};return dist.distributions(dists).weights(weights)}function sampleUniform(min,max){if(max==null){max=min==null?1:min;min=0}return min+(max-min)*exports.random()}function densityUniform(value,min,max){if(max==null){max=min==null?1:min;min=0}return value>=min&&value<=max?1/(max-min):0}function cumulativeUniform(value,min,max){if(max==null){max=min==null?1:min;min=0}return value<min?0:value>max?1:(value-min)/(max-min)}function quantileUniform(p,min,max){if(max==null){max=min==null?1:min;min=0}return p>=0&&p<=1?min+p*(max-min):NaN}function uniform(min,max){let a,b;const dist={min(_){if(arguments.length){a=_||0;return dist}else{return a}},max(_){if(arguments.length){b=_==null?1:_;return dist}else{return b}},sample:()=>sampleUniform(a,b),pdf:value=>densityUniform(value,a,b),cdf:value=>cumulativeUniform(value,a,b),icdf:p=>quantileUniform(p,a,b)};if(max==null){max=min==null?1:min;min=0}return dist.min(min).max(max)}function ols(uX,uY,uXY,uX2){const delta=uX2-uX*uX,slope=Math.abs(delta)<1e-24?0:(uXY-uX*uY)/delta,intercept=uY-slope*uX;return[intercept,slope]}function points(data,x,y,sort){data=data.filter(d=>{let u=x(d),v=y(d);return u!=null&&(u=+u)>=u&&v!=null&&(v=+v)>=v});if(sort){data.sort((a,b)=>x(a)-x(b))}const n=data.length,X=new Float64Array(n),Y=new Float64Array(n);let i=0,ux=0,uy=0,xv,yv,d;for(d of data){X[i]=xv=+x(d);Y[i]=yv=+y(d);++i;ux+=(xv-ux)/i;uy+=(yv-uy)/i}for(i=0;i<n;++i){X[i]-=ux;Y[i]-=uy}return[X,Y,ux,uy]}function visitPoints(data,x,y,callback){let i=-1,u,v;for(const d of data){u=x(d);v=y(d);if(u!=null&&(u=+u)>=u&&v!=null&&(v=+v)>=v){callback(u,v,++i)}}}function rSquared(data,x,y,uY,predict){let SSE=0,SST=0;visitPoints(data,x,y,(dx,dy)=>{const sse=dy-predict(dx),sst=dy-uY;SSE+=sse*sse;SST+=sst*sst});return 1-SSE/SST}function linear$2(data,x,y){let X=0,Y=0,XY=0,X2=0,n=0;visitPoints(data,x,y,(dx,dy)=>{++n;X+=(dx-X)/n;Y+=(dy-Y)/n;XY+=(dx*dy-XY)/n;X2+=(dx*dx-X2)/n});const coef=ols(X,Y,XY,X2),predict=x=>coef[0]+coef[1]*x;return{coef:coef,predict:predict,rSquared:rSquared(data,x,y,Y,predict)}}function log$3(data,x,y){let X=0,Y=0,XY=0,X2=0,n=0;visitPoints(data,x,y,(dx,dy)=>{++n;dx=Math.log(dx);X+=(dx-X)/n;Y+=(dy-Y)/n;XY+=(dx*dy-XY)/n;X2+=(dx*dx-X2)/n});const coef=ols(X,Y,XY,X2),predict=x=>coef[0]+coef[1]*Math.log(x);return{coef:coef,predict:predict,rSquared:rSquared(data,x,y,Y,predict)}}function exp$1(data,x,y){const[xv,yv,ux,uy]=points(data,x,y);let YL=0,XY=0,XYL=0,X2Y=0,n=0,dx,ly,xy;visitPoints(data,x,y,(_,dy)=>{dx=xv[n++];ly=Math.log(dy);xy=dx*dy;YL+=(dy*ly-YL)/n;XY+=(xy-XY)/n;XYL+=(xy*ly-XYL)/n;X2Y+=(dx*xy-X2Y)/n});const[c0,c1]=ols(XY/uy,YL/uy,XYL/uy,X2Y/uy),predict=x=>Math.exp(c0+c1*(x-ux));return{coef:[Math.exp(c0-c1*ux),c1],predict:predict,rSquared:rSquared(data,x,y,uy,predict)}}function pow$3(data,x,y){let X=0,Y=0,XY=0,X2=0,YS=0,n=0;visitPoints(data,x,y,(dx,dy)=>{const lx=Math.log(dx),ly=Math.log(dy);++n;X+=(lx-X)/n;Y+=(ly-Y)/n;XY+=(lx*ly-XY)/n;X2+=(lx*lx-X2)/n;YS+=(dy-YS)/n});const coef=ols(X,Y,XY,X2),predict=x=>coef[0]*Math.pow(x,coef[1]);coef[0]=Math.exp(coef[0]);return{coef:coef,predict:predict,rSquared:rSquared(data,x,y,YS,predict)}}function quad(data,x,y){const[xv,yv,ux,uy]=points(data,x,y),n=xv.length;let X2=0,X3=0,X4=0,XY=0,X2Y=0,i,dx,dy,x2;for(i=0;i<n;){dx=xv[i];dy=yv[i++];x2=dx*dx;X2+=(x2-X2)/i;X3+=(x2*dx-X3)/i;X4+=(x2*x2-X4)/i;XY+=(dx*dy-XY)/i;X2Y+=(x2*dy-X2Y)/i}const X2X2=X4-X2*X2,d=X2*X2X2-X3*X3,a=(X2Y*X2-XY*X3)/d,b=(XY*X2X2-X2Y*X3)/d,c=-a*X2,predict=x=>{x=x-ux;return a*x*x+b*x+c+uy};return{coef:[c-b*ux+a*ux*ux+uy,b-2*a*ux,a],predict:predict,rSquared:rSquared(data,x,y,uy,predict)}}function poly(data,x,y,order){if(order===1)return linear$2(data,x,y);if(order===2)return quad(data,x,y);const[xv,yv,ux,uy]=points(data,x,y),n=xv.length,lhs=[],rhs=[],k=order+1;let i,j,l,v,c;for(i=0;i<k;++i){for(l=0,v=0;l<n;++l){v+=Math.pow(xv[l],i)*yv[l]}lhs.push(v);c=new Float64Array(k);for(j=0;j<k;++j){for(l=0,v=0;l<n;++l){v+=Math.pow(xv[l],i+j)}c[j]=v}rhs.push(c)}rhs.push(lhs);const coef=gaussianElimination(rhs),predict=x=>{x-=ux;let y=uy+coef[0]+coef[1]*x+coef[2]*x*x;for(i=3;i<k;++i)y+=coef[i]*Math.pow(x,i);return y};return{coef:uncenter(k,coef,-ux,uy),predict:predict,rSquared:rSquared(data,x,y,uy,predict)}}function uncenter(k,a,x,y){const z=Array(k);let i,j,v,c;for(i=0;i<k;++i)z[i]=0;for(i=k-1;i>=0;--i){v=a[i];c=1;z[i]+=v;for(j=1;j<=i;++j){c*=(i+1-j)/j;z[i-j]+=v*Math.pow(x,j)*c}}z[0]+=y;return z}function gaussianElimination(matrix){const n=matrix.length-1,coef=[];let i,j,k,r,t;for(i=0;i<n;++i){r=i;for(j=i+1;j<n;++j){if(Math.abs(matrix[i][j])>Math.abs(matrix[i][r])){r=j}}for(k=i;k<n+1;++k){t=matrix[k][i];matrix[k][i]=matrix[k][r];matrix[k][r]=t}for(j=i+1;j<n;++j){for(k=n;k>=i;k--){matrix[k][j]-=matrix[k][i]*matrix[i][j]/matrix[i][i]}}}for(j=n-1;j>=0;--j){t=0;for(k=j+1;k<n;++k){t+=matrix[k][j]*coef[k]}coef[j]=(matrix[n][j]-t)/matrix[j][j]}return coef}const maxiters=2,epsilon$6=1e-12;function loess(data,x,y,bandwidth){const[xv,yv,ux,uy]=points(data,x,y,true),n=xv.length,bw=Math.max(2,~~(bandwidth*n)),yhat=new Float64Array(n),residuals=new Float64Array(n),robustWeights=new Float64Array(n).fill(1);for(let iter=-1;++iter<=maxiters;){const interval=[0,bw-1];for(let i=0;i<n;++i){const dx=xv[i],i0=interval[0],i1=interval[1],edge=dx-xv[i0]>xv[i1]-dx?i0:i1;let W=0,X=0,Y=0,XY=0,X2=0;const denom=1/Math.abs(xv[edge]-dx||1);for(let k=i0;k<=i1;++k){const xk=xv[k],yk=yv[k],w=tricube(Math.abs(dx-xk)*denom)*robustWeights[k],xkw=xk*w;W+=w;X+=xkw;Y+=yk*w;XY+=yk*xkw;X2+=xk*xkw}const[a,b]=ols(X/W,Y/W,XY/W,X2/W);yhat[i]=a+b*dx;residuals[i]=Math.abs(yv[i]-yhat[i]);updateInterval(xv,i+1,interval)}if(iter===maxiters){break}const medianResidual=median(residuals);if(Math.abs(medianResidual)<epsilon$6)break;for(let i=0,arg,w;i<n;++i){arg=residuals[i]/(6*medianResidual);robustWeights[i]=arg>=1?epsilon$6:(w=1-arg*arg)*w}}return output$1(xv,yhat,ux,uy)}function tricube(x){return(x=1-x*x*x)*x*x}function updateInterval(xv,i,interval){const val=xv[i];let left=interval[0],right=interval[1]+1;if(right>=xv.length)return;while(i>left&&xv[right]-val<=val-xv[left]){interval[0]=++left;interval[1]=right;++right}}function output$1(xv,yhat,ux,uy){const n=xv.length,out=[];let i=0,cnt=0,prev=[],v;for(;i<n;++i){v=xv[i]+ux;if(prev[0]===v){prev[1]+=(yhat[i]-prev[1])/++cnt}else{cnt=0;prev[1]+=uy;prev=[v,yhat[i]];out.push(prev)}}prev[1]+=uy;return out}const MIN_RADIANS=.5*Math.PI/180;function sampleCurve(f,extent,minSteps,maxSteps){minSteps=minSteps||25;maxSteps=Math.max(minSteps,maxSteps||200);const point=x=>[x,f(x)],minX=extent[0],maxX=extent[1],span=maxX-minX,stop=span/maxSteps,prev=[point(minX)],next=[];if(minSteps===maxSteps){for(let i=1;i<maxSteps;++i){prev.push(point(minX+i/minSteps*span))}prev.push(point(maxX));return prev}else{next.push(point(maxX));for(let i=minSteps;--i>0;){next.push(point(minX+i/minSteps*span))}}let p0=prev[0];let p1=next[next.length-1];const sx=1/span;const sy=scaleY(p0[1],next);while(p1){const pm=point((p0[0]+p1[0])/2);const dx=pm[0]-p0[0]>=stop;if(dx&&angleDelta(p0,pm,p1,sx,sy)>MIN_RADIANS){next.push(pm)}else{p0=p1;prev.push(p1);next.pop()}p1=next[next.length-1]}return prev}function scaleY(init,points){let ymin=init;let ymax=init;const n=points.length;for(let i=0;i<n;++i){const y=points[i][1];if(y<ymin)ymin=y;if(y>ymax)ymax=y}return 1/(ymax-ymin)}function angleDelta(p,q,r,sx,sy){const a0=Math.atan2(sy*(r[1]-p[1]),sx*(r[0]-p[0])),a1=Math.atan2(sy*(q[1]-p[1]),sx*(q[0]-p[0]));return Math.abs(a0-a1)}function multikey(f){return x=>{const n=f.length;let i=1,k=String(f[0](x));for(;i<n;++i){k+="|"+f[i](x)}return k}}function groupkey(fields){return!fields||!fields.length?function(){return""}:fields.length===1?fields[0]:multikey(fields)}function measureName(op,field,as){return as||op+(!field?"":"_"+field)}const noop$4=()=>{};const base_op={init:noop$4,add:noop$4,rem:noop$4,idx:0};const AggregateOps={values:{init:m=>m.cell.store=true,value:m=>m.cell.data.values(),idx:-1},count:{value:m=>m.cell.num},__count__:{value:m=>m.missing+m.valid},missing:{value:m=>m.missing},valid:{value:m=>m.valid},sum:{init:m=>m.sum=0,value:m=>m.sum,add:(m,v)=>m.sum+=+v,rem:(m,v)=>m.sum-=v},product:{init:m=>m.product=1,value:m=>m.valid?m.product:undefined,add:(m,v)=>m.product*=v,rem:(m,v)=>m.product/=v},mean:{init:m=>m.mean=0,value:m=>m.valid?m.mean:undefined,add:(m,v)=>(m.mean_d=v-m.mean,m.mean+=m.mean_d/m.valid),rem:(m,v)=>(m.mean_d=v-m.mean,m.mean-=m.valid?m.mean_d/m.valid:m.mean)},average:{value:m=>m.valid?m.mean:undefined,req:["mean"],idx:1},variance:{init:m=>m.dev=0,value:m=>m.valid>1?m.dev/(m.valid-1):undefined,add:(m,v)=>m.dev+=m.mean_d*(v-m.mean),rem:(m,v)=>m.dev-=m.mean_d*(v-m.mean),req:["mean"],idx:1},variancep:{value:m=>m.valid>1?m.dev/m.valid:undefined,req:["variance"],idx:2},stdev:{value:m=>m.valid>1?Math.sqrt(m.dev/(m.valid-1)):undefined,req:["variance"],idx:2},stdevp:{value:m=>m.valid>1?Math.sqrt(m.dev/m.valid):undefined,req:["variance"],idx:2},stderr:{value:m=>m.valid>1?Math.sqrt(m.dev/(m.valid*(m.valid-1))):undefined,req:["variance"],idx:2},distinct:{value:m=>m.cell.data.distinct(m.get),req:["values"],idx:3},ci0:{value:m=>m.cell.data.ci0(m.get),req:["values"],idx:3},ci1:{value:m=>m.cell.data.ci1(m.get),req:["values"],idx:3},median:{value:m=>m.cell.data.q2(m.get),req:["values"],idx:3},q1:{value:m=>m.cell.data.q1(m.get),req:["values"],idx:3},q3:{value:m=>m.cell.data.q3(m.get),req:["values"],idx:3},min:{init:m=>m.min=undefined,value:m=>m.min=Number.isNaN(m.min)?m.cell.data.min(m.get):m.min,add:(m,v)=>{if(v<m.min||m.min===undefined)m.min=v},rem:(m,v)=>{if(v<=m.min)m.min=NaN},req:["values"],idx:4},max:{init:m=>m.max=undefined,value:m=>m.max=Number.isNaN(m.max)?m.cell.data.max(m.get):m.max,add:(m,v)=>{if(v>m.max||m.max===undefined)m.max=v},rem:(m,v)=>{if(v>=m.max)m.max=NaN},req:["values"],idx:4},argmin:{init:m=>m.argmin=undefined,value:m=>m.argmin||m.cell.data.argmin(m.get),add:(m,v,t)=>{if(v<m.min)m.argmin=t},rem:(m,v)=>{if(v<=m.min)m.argmin=undefined},req:["min","values"],idx:3},argmax:{init:m=>m.argmax=undefined,value:m=>m.argmax||m.cell.data.argmax(m.get),add:(m,v,t)=>{if(v>m.max)m.argmax=t},rem:(m,v)=>{if(v>=m.max)m.argmax=undefined},req:["max","values"],idx:3}};const ValidAggregateOps=Object.keys(AggregateOps).filter(d=>d!=="__count__");function measure(key,value){return out=>extend$1({name:key,out:out||key},base_op,value)}[...ValidAggregateOps,"__count__"].forEach(key=>{AggregateOps[key]=measure(key,AggregateOps[key])});function createMeasure(op,name){return AggregateOps[op](name)}function compareIndex(a,b){return a.idx-b.idx}function resolve(agg){const map={};agg.forEach(a=>map[a.name]=a);const getreqs=a=>{if(!a.req)return;a.req.forEach(key=>{if(!map[key])getreqs(map[key]=AggregateOps[key]())})};agg.forEach(getreqs);return Object.values(map).sort(compareIndex)}function init(){this.valid=0;this.missing=0;this._ops.forEach(op=>op.init(this))}function add$2(v,t){if(v==null||v===""){++this.missing;return}if(v!==v)return;++this.valid;this._ops.forEach(op=>op.add(this,v,t))}function rem(v,t){if(v==null||v===""){--this.missing;return}if(v!==v)return;--this.valid;this._ops.forEach(op=>op.rem(this,v,t))}function set$3(t){this._out.forEach(op=>t[op.out]=op.value(this));return t}function compileMeasures(agg,field){const get=field||identity$6,ops=resolve(agg),out=agg.slice().sort(compareIndex);function ctr(cell){this._ops=ops;this._out=out;this.cell=cell;this.init()}ctr.prototype.init=init;ctr.prototype.add=add$2;ctr.prototype.rem=rem;ctr.prototype.set=set$3;ctr.prototype.get=get;ctr.fields=agg.map(op=>op.out);return ctr}function TupleStore(key){this._key=key?field$1(key):tupleid;this.reset()}const prototype$1=TupleStore.prototype;prototype$1.reset=function(){this._add=[];this._rem=[];this._ext=null;this._get=null;this._q=null};prototype$1.add=function(v){this._add.push(v)};prototype$1.rem=function(v){this._rem.push(v)};prototype$1.values=function(){this._get=null;if(this._rem.length===0)return this._add;const a=this._add,r=this._rem,k=this._key,n=a.length,m=r.length,x=Array(n-m),map={};let i,j,v;for(i=0;i<m;++i){map[k(r[i])]=1}for(i=0,j=0;i<n;++i){if(map[k(v=a[i])]){map[k(v)]=0}else{x[j++]=v}}this._rem=[];return this._add=x};prototype$1.distinct=function(get){const v=this.values(),map={};let n=v.length,count=0,s;while(--n>=0){s=get(v[n])+"";if(!has$1(map,s)){map[s]=1;++count}}return count};prototype$1.extent=function(get){if(this._get!==get||!this._ext){const v=this.values(),i=extentIndex(v,get);this._ext=[v[i[0]],v[i[1]]];this._get=get}return this._ext};prototype$1.argmin=function(get){return this.extent(get)[0]||{}};prototype$1.argmax=function(get){return this.extent(get)[1]||{}};prototype$1.min=function(get){const m=this.extent(get)[0];return m!=null?get(m):undefined};prototype$1.max=function(get){const m=this.extent(get)[1];return m!=null?get(m):undefined};prototype$1.quartile=function(get){if(this._get!==get||!this._q){this._q=quartiles(this.values(),get);this._get=get}return this._q};prototype$1.q1=function(get){return this.quartile(get)[0]};prototype$1.q2=function(get){return this.quartile(get)[1]};prototype$1.q3=function(get){return this.quartile(get)[2]};prototype$1.ci=function(get){if(this._get!==get||!this._ci){this._ci=bootstrapCI(this.values(),1e3,.05,get);this._get=get}return this._ci};prototype$1.ci0=function(get){return this.ci(get)[0]};prototype$1.ci1=function(get){return this.ci(get)[1]};function Aggregate$1(params){Transform.call(this,null,params);this._adds=[];this._mods=[];this._alen=0;this._mlen=0;this._drop=true;this._cross=false;this._dims=[];this._dnames=[];this._measures=[];this._countOnly=false;this._counts=null;this._prev=null;this._inputs=null;this._outputs=null}Aggregate$1.Definition={type:"Aggregate",metadata:{generates:true,changes:true},params:[{name:"groupby",type:"field",array:true},{name:"ops",type:"enum",array:true,values:ValidAggregateOps},{name:"fields",type:"field",null:true,array:true},{name:"as",type:"string",null:true,array:true},{name:"drop",type:"boolean",default:true},{name:"cross",type:"boolean",default:false},{name:"key",type:"field"}]};inherits(Aggregate$1,Transform,{transform(_,pulse){const aggr=this,out=pulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS),mod=_.modified();aggr.stamp=out.stamp;if(aggr.value&&(mod||pulse.modified(aggr._inputs,true))){aggr._prev=aggr.value;aggr.value=mod?aggr.init(_):{};pulse.visit(pulse.SOURCE,t=>aggr.add(t))}else{aggr.value=aggr.value||aggr.init(_);pulse.visit(pulse.REM,t=>aggr.rem(t));pulse.visit(pulse.ADD,t=>aggr.add(t))}out.modifies(aggr._outputs);aggr._drop=_.drop!==false;if(_.cross&&aggr._dims.length>1){aggr._drop=false;aggr.cross()}if(pulse.clean()&&aggr._drop){out.clean(true).runAfter(()=>this.clean())}return aggr.changes(out)},cross(){const aggr=this,curr=aggr.value,dims=aggr._dnames,vals=dims.map(()=>({})),n=dims.length;function collect(cells){let key,i,t,v;for(key in cells){t=cells[key].tuple;for(i=0;i<n;++i){vals[i][v=t[dims[i]]]=v}}}collect(aggr._prev);collect(curr);function generate(base,tuple,index){const name=dims[index],v=vals[index++];for(const k in v){const key=base?base+"|"+k:k;tuple[name]=v[k];if(index<n)generate(key,tuple,index);else if(!curr[key])aggr.cell(key,tuple)}}generate("",{},0)},init(_){const inputs=this._inputs=[],outputs=this._outputs=[],inputMap={};function inputVisit(get){const fields=array$5(accessorFields(get)),n=fields.length;let i=0,f;for(;i<n;++i){if(!inputMap[f=fields[i]]){inputMap[f]=1;inputs.push(f)}}}this._dims=array$5(_.groupby);this._dnames=this._dims.map(d=>{const dname=accessorName(d);inputVisit(d);outputs.push(dname);return dname});this.cellkey=_.key?_.key:groupkey(this._dims);this._countOnly=true;this._counts=[];this._measures=[];const fields=_.fields||[null],ops=_.ops||["count"],as=_.as||[],n=fields.length,map={};let field,op,m,mname,outname,i;if(n!==ops.length){error("Unmatched number of fields and aggregate ops.")}for(i=0;i<n;++i){field=fields[i];op=ops[i];if(field==null&&op!=="count"){error("Null aggregate field specified.")}mname=accessorName(field);outname=measureName(op,mname,as[i]);outputs.push(outname);if(op==="count"){this._counts.push(outname);continue}m=map[mname];if(!m){inputVisit(field);m=map[mname]=[];m.field=field;this._measures.push(m)}if(op!=="count")this._countOnly=false;m.push(createMeasure(op,outname))}this._measures=this._measures.map(m=>compileMeasures(m,m.field));return{}},cellkey:groupkey(),cell(key,t){let cell=this.value[key];if(!cell){cell=this.value[key]=this.newcell(key,t);this._adds[this._alen++]=cell}else if(cell.num===0&&this._drop&&cell.stamp<this.stamp){cell.stamp=this.stamp;this._adds[this._alen++]=cell}else if(cell.stamp<this.stamp){cell.stamp=this.stamp;this._mods[this._mlen++]=cell}return cell},newcell(key,t){const cell={key:key,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[key]),stamp:this.stamp,store:false};if(!this._countOnly){const measures=this._measures,n=measures.length;cell.agg=Array(n);for(let i=0;i<n;++i){cell.agg[i]=new measures[i](cell)}}if(cell.store){cell.data=new TupleStore}return cell},newtuple(t,p){const names=this._dnames,dims=this._dims,n=dims.length,x={};for(let i=0;i<n;++i){x[names[i]]=dims[i](t)}return p?replace$1(p.tuple,x):ingest$1(x)},clean(){const cells=this.value;for(const key in cells){if(cells[key].num===0){delete cells[key]}}},add(t){const key=this.cellkey(t),cell=this.cell(key,t);cell.num+=1;if(this._countOnly)return;if(cell.store)cell.data.add(t);const agg=cell.agg;for(let i=0,n=agg.length;i<n;++i){agg[i].add(agg[i].get(t),t)}},rem(t){const key=this.cellkey(t),cell=this.cell(key,t);cell.num-=1;if(this._countOnly)return;if(cell.store)cell.data.rem(t);const agg=cell.agg;for(let i=0,n=agg.length;i<n;++i){agg[i].rem(agg[i].get(t),t)}},celltuple(cell){const tuple=cell.tuple,counts=this._counts;if(cell.store){cell.data.values()}for(let i=0,n=counts.length;i<n;++i){tuple[counts[i]]=cell.num}if(!this._countOnly){const agg=cell.agg;for(let i=0,n=agg.length;i<n;++i){agg[i].set(tuple)}}return tuple},changes(out){const adds=this._adds,mods=this._mods,prev=this._prev,drop=this._drop,add=out.add,rem=out.rem,mod=out.mod;let cell,key,i,n;if(prev)for(key in prev){cell=prev[key];if(!drop||cell.num)rem.push(cell.tuple)}for(i=0,n=this._alen;i<n;++i){add.push(this.celltuple(adds[i]));adds[i]=null}for(i=0,n=this._mlen;i<n;++i){cell=mods[i];(cell.num===0&&drop?rem:mod).push(this.celltuple(cell));mods[i]=null}this._alen=this._mlen=0;this._prev=null;return out}});const EPSILON$1=1e-14;function Bin(params){Transform.call(this,null,params)}Bin.Definition={type:"Bin",metadata:{modifies:true},params:[{name:"field",type:"field",required:true},{name:"interval",type:"boolean",default:true},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:true,default:[5,2]},{name:"extent",type:"number",array:true,length:2,required:true},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:true},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:true},{name:"name",type:"string"},{name:"as",type:"string",array:true,length:2,default:["bin0","bin1"]}]};inherits(Bin,Transform,{transform(_,pulse){const band=_.interval!==false,bins=this._bins(_),start=bins.start,step=bins.step,as=_.as||["bin0","bin1"],b0=as[0],b1=as[1];let flag;if(_.modified()){pulse=pulse.reflow(true);flag=pulse.SOURCE}else{flag=pulse.modified(accessorFields(_.field))?pulse.ADD_MOD:pulse.ADD}pulse.visit(flag,band?t=>{const v=bins(t);t[b0]=v;t[b1]=v==null?null:start+step*(1+(v-start)/step)}:t=>t[b0]=bins(t));return pulse.modifies(band?as:b0)},_bins(_){if(this.value&&!_.modified()){return this.value}const field=_.field,bins=bin(_),step=bins.step;let start=bins.start,stop=start+Math.ceil((bins.stop-start)/step)*step,a,d;if((a=_.anchor)!=null){d=a-(start+step*Math.floor((a-start)/step));start+=d;stop+=d}const f=function(t){let v=toNumber(field(t));return v==null?null:v<start?-Infinity:v>stop?+Infinity:(v=Math.max(start,Math.min(v,stop-step)),start+step*Math.floor(EPSILON$1+(v-start)/step))};f.start=start;f.stop=bins.stop;f.step=step;return this.value=accessor(f,accessorFields(field),_.name||"bin_"+accessorName(field))}});function SortedList(idFunc,source,input){const $=idFunc;let data=source||[],add=input||[],rem={},cnt=0;return{add:t=>add.push(t),remove:t=>rem[$(t)]=++cnt,size:()=>data.length,data:(compare,resort)=>{if(cnt){data=data.filter(t=>!rem[$(t)]);rem={};cnt=0}if(resort&&compare){data.sort(compare)}if(add.length){data=compare?merge$3(compare,data,add.sort(compare)):data.concat(add);add=[]}return data}}}function Collect$1(params){Transform.call(this,[],params)}Collect$1.Definition={type:"Collect",metadata:{source:true},params:[{name:"sort",type:"compare"}]};inherits(Collect$1,Transform,{transform(_,pulse){const out=pulse.fork(pulse.ALL),list=SortedList(tupleid,this.value,out.materialize(out.ADD).add),sort=_.sort,mod=pulse.changed()||sort&&(_.modified("sort")||pulse.modified(sort.fields));out.visit(out.REM,list.remove);this.modified(mod);this.value=out.source=list.data(stableCompare(sort),mod);if(pulse.source&&pulse.source.root){this.value.root=pulse.source.root}return out}});function Compare$1(params){Operator.call(this,null,update$5,params)}inherits(Compare$1,Operator);function update$5(_){return this.value&&!_.modified()?this.value:compare$1(_.fields,_.orders)}function CountPattern(params){Transform.call(this,null,params)}CountPattern.Definition={type:"CountPattern",metadata:{generates:true,changes:true},params:[{name:"field",type:"field",required:true},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:true,length:2,default:["text","count"]}]};function tokenize(text,tcase,match){switch(tcase){case"upper":text=text.toUpperCase();break;case"lower":text=text.toLowerCase();break}return text.match(match)}inherits(CountPattern,Transform,{transform(_,pulse){const process=update=>tuple=>{var tokens=tokenize(get(tuple),_.case,match)||[],t;for(var i=0,n=tokens.length;i<n;++i){if(!stop.test(t=tokens[i]))update(t)}};const init=this._parameterCheck(_,pulse),counts=this._counts,match=this._match,stop=this._stop,get=_.field,as=_.as||["text","count"],add=process(t=>counts[t]=1+(counts[t]||0)),rem=process(t=>counts[t]-=1);if(init){pulse.visit(pulse.SOURCE,add)}else{pulse.visit(pulse.ADD,add);pulse.visit(pulse.REM,rem)}return this._finish(pulse,as)},_parameterCheck(_,pulse){let init=false;if(_.modified("stopwords")||!this._stop){this._stop=new RegExp("^"+(_.stopwords||"")+"$","i");init=true}if(_.modified("pattern")||!this._match){this._match=new RegExp(_.pattern||"[\\w']+","g");init=true}if(_.modified("field")||pulse.modified(_.field.fields)){init=true}if(init)this._counts={};return init},_finish(pulse,as){const counts=this._counts,tuples=this._tuples||(this._tuples={}),text=as[0],count=as[1],out=pulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS);let w,t,c;for(w in counts){t=tuples[w];c=counts[w]||0;if(!t&&c){tuples[w]=t=ingest$1({});t[text]=w;t[count]=c;out.add.push(t)}else if(c===0){if(t)out.rem.push(t);counts[w]=null;tuples[w]=null}else if(t[count]!==c){t[count]=c;out.mod.push(t)}}return out.modifies(as)}});function Cross(params){Transform.call(this,null,params)}Cross.Definition={type:"Cross",metadata:{generates:true},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:true,length:2,default:["a","b"]}]};inherits(Cross,Transform,{transform(_,pulse){const out=pulse.fork(pulse.NO_SOURCE),as=_.as||["a","b"],a=as[0],b=as[1],reset=!this.value||pulse.changed(pulse.ADD_REM)||_.modified("as")||_.modified("filter");let data=this.value;if(reset){if(data)out.rem=data;data=pulse.materialize(pulse.SOURCE).source;out.add=this.value=cross(data,a,b,_.filter||truthy)}else{out.mod=data}out.source=this.value;return out.modifies(as)}});function cross(input,a,b,filter){var data=[],t={},n=input.length,i=0,j,left;for(;i<n;++i){t[a]=left=input[i];for(j=0;j<n;++j){t[b]=input[j];if(filter(t)){data.push(ingest$1(t));t={};t[a]=left}}}return data}const Distributions={kde:kde,mixture:mixture$1,normal:gaussian,lognormal:lognormal,uniform:uniform};const DISTRIBUTIONS="distributions",FUNCTION="function",FIELD="field";function parse$4(def,data){const func=def[FUNCTION];if(!has$1(Distributions,func)){error("Unknown distribution function: "+func)}const d=Distributions[func]();for(const name in def){if(name===FIELD){d.data((def.from||data()).map(def[name]))}else if(name===DISTRIBUTIONS){d[name](def[name].map(_=>parse$4(_,data)))}else if(typeof d[name]===FUNCTION){d[name](def[name])}}return d}function Density(params){Transform.call(this,null,params)}const distributions=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:true},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}];const mixture={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:true,params:distributions},{name:"weights",type:"number",array:true}]};Density.Definition={type:"Density",metadata:{generates:true},params:[{name:"extent",type:"number",array:true,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:distributions.concat(mixture)},{name:"as",type:"string",array:true,default:["value","density"]}]};inherits(Density,Transform,{transform(_,pulse){const out=pulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS);if(!this.value||pulse.changed()||_.modified()){const dist=parse$4(_.distribution,source$1(pulse)),minsteps=_.steps||_.minsteps||25,maxsteps=_.steps||_.maxsteps||200;let method=_.method||"pdf";if(method!=="pdf"&&method!=="cdf"){error("Invalid density method: "+method)}if(!_.extent&&!dist.data){error("Missing density extent parameter.")}method=dist[method];const as=_.as||["value","density"],domain=_.extent||extent(dist.data()),values=sampleCurve(method,domain,minsteps,maxsteps).map(v=>{const tuple={};tuple[as[0]]=v[0];tuple[as[1]]=v[1];return ingest$1(tuple)});if(this.value)out.rem=this.value;this.value=out.add=out.source=values}return out}});function source$1(pulse){return()=>pulse.materialize(pulse.SOURCE).source}function fieldNames(fields,as){if(!fields)return null;return fields.map((f,i)=>as[i]||accessorName(f))}function partition$1$1(data,groupby,field){const groups=[],get=f=>f(t);let map,i,n,t,k,g;if(groupby==null){groups.push(data.map(field))}else{for(map={},i=0,n=data.length;i<n;++i){t=data[i];k=groupby.map(get);g=map[k];if(!g){map[k]=g=[];g.dims=k;groups.push(g)}g.push(field(t))}}return groups}const Output$5="bin";function DotBin(params){Transform.call(this,null,params)}DotBin.Definition={type:"DotBin",metadata:{modifies:true},params:[{name:"field",type:"field",required:true},{name:"groupby",type:"field",array:true},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:false},{name:"as",type:"string",default:Output$5}]};const autostep=(data,field)=>span(extent(data,field))/30;inherits(DotBin,Transform,{transform(_,pulse){if(this.value&&!(_.modified()||pulse.changed())){return pulse}const source=pulse.materialize(pulse.SOURCE).source,groups=partition$1$1(pulse.source,_.groupby,identity$6),smooth=_.smooth||false,field=_.field,step=_.step||autostep(source,field),sort=stableCompare((a,b)=>field(a)-field(b)),as=_.as||Output$5,n=groups.length;let min=Infinity,max=-Infinity,i=0,j;for(;i<n;++i){const g=groups[i].sort(sort);j=-1;for(const v of dotbin(g,step,smooth,field)){if(v<min)min=v;if(v>max)max=v;g[++j][as]=v}}this.value={start:min,stop:max,step:step};return pulse.reflow(true).modifies(as)}});function Expression$1(params){Operator.call(this,null,update$4,params);this.modified(true)}inherits(Expression$1,Operator);function update$4(_){const expr=_.expr;return this.value&&!_.modified("expr")?this.value:accessor(datum=>expr(datum,_),accessorFields(expr),accessorName(expr))}function Extent(params){Transform.call(this,[undefined,undefined],params)}Extent.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:true}]};inherits(Extent,Transform,{transform(_,pulse){const extent=this.value,field=_.field,mod=pulse.changed()||pulse.modified(field.fields)||_.modified("field");let min=extent[0],max=extent[1];if(mod||min==null){min=+Infinity;max=-Infinity}pulse.visit(mod?pulse.SOURCE:pulse.ADD,t=>{const v=toNumber(field(t));if(v!=null){if(v<min)min=v;if(v>max)max=v}});if(!Number.isFinite(min)||!Number.isFinite(max)){let name=accessorName(field);if(name)name=` for field "${name}"`;pulse.dataflow.warn(`Infinite extent${name}: [${min}, ${max}]`);min=max=undefined}this.value=[min,max]}});function Subflow(pulse,parent){Operator.call(this,pulse);this.parent=parent;this.count=0}inherits(Subflow,Operator,{connect(target){this.detachSubflow=target.detachSubflow;this.targets().add(target);return target.source=this},add(t){this.count+=1;this.value.add.push(t)},rem(t){this.count-=1;this.value.rem.push(t)},mod(t){this.value.mod.push(t)},init(pulse){this.value.init(pulse,pulse.NO_SOURCE)},evaluate(){return this.value}});function Facet$1(params){Transform.call(this,{},params);this._keys=fastmap();const a=this._targets=[];a.active=0;a.forEach=f=>{for(let i=0,n=a.active;i<n;++i){f(a[i],i,a)}}}inherits(Facet$1,Transform,{activate(flow){this._targets[this._targets.active++]=flow},subflow(key,flow,pulse,parent){const flows=this.value;let sf=has$1(flows,key)&&flows[key],df,p;if(!sf){p=parent||(p=this._group[key])&&p.tuple;df=pulse.dataflow;sf=new Subflow(pulse.fork(pulse.NO_SOURCE),this);df.add(sf).connect(flow(df,key,p));flows[key]=sf;this.activate(sf)}else if(sf.value.stamp<pulse.stamp){sf.init(pulse);this.activate(sf)}return sf},clean(){const flows=this.value;let detached=0;for(const key in flows){if(flows[key].count===0){const detach=flows[key].detachSubflow;if(detach)detach();delete flows[key];++detached}}if(detached){const active=this._targets.filter(sf=>sf&&sf.count>0);this.initTargets(active)}},initTargets(act){const a=this._targets,n=a.length,m=act?act.length:0;let i=0;for(;i<m;++i){a[i]=act[i]}for(;i<n&&a[i]!=null;++i){a[i]=null}a.active=m},transform(_,pulse){const df=pulse.dataflow,key=_.key,flow=_.subflow,cache=this._keys,rekey=_.modified("key"),subflow=key=>this.subflow(key,flow,pulse);this._group=_.group||{};this.initTargets();pulse.visit(pulse.REM,t=>{const id=tupleid(t),k=cache.get(id);if(k!==undefined){cache.delete(id);subflow(k).rem(t)}});pulse.visit(pulse.ADD,t=>{const k=key(t);cache.set(tupleid(t),k);subflow(k).add(t)});if(rekey||pulse.modified(key.fields)){pulse.visit(pulse.MOD,t=>{const id=tupleid(t),k0=cache.get(id),k1=key(t);if(k0===k1){subflow(k1).mod(t)}else{cache.set(id,k1);subflow(k0).rem(t);subflow(k1).add(t)}})}else if(pulse.changed(pulse.MOD)){pulse.visit(pulse.MOD,t=>{subflow(cache.get(tupleid(t))).mod(t)})}if(rekey){pulse.visit(pulse.REFLOW,t=>{const id=tupleid(t),k0=cache.get(id),k1=key(t);if(k0!==k1){cache.set(id,k1);subflow(k0).rem(t);subflow(k1).add(t)}})}if(pulse.clean()){df.runAfter(()=>{this.clean();cache.clean()})}else if(cache.empty>df.cleanThreshold){df.runAfter(cache.clean)}return pulse}});function Field$1(params){Operator.call(this,null,update$3,params)}inherits(Field$1,Operator);function update$3(_){return this.value&&!_.modified()?this.value:isArray(_.name)?array$5(_.name).map(f=>field$1(f)):field$1(_.name,_.as)}function Filter(params){Transform.call(this,fastmap(),params)}Filter.Definition={type:"Filter",metadata:{changes:true},params:[{name:"expr",type:"expr",required:true}]};inherits(Filter,Transform,{transform(_,pulse){const df=pulse.dataflow,cache=this.value,output=pulse.fork(),add=output.add,rem=output.rem,mod=output.mod,test=_.expr;let isMod=true;pulse.visit(pulse.REM,t=>{const id=tupleid(t);if(!cache.has(id))rem.push(t);else cache.delete(id)});pulse.visit(pulse.ADD,t=>{if(test(t,_))add.push(t);else cache.set(tupleid(t),1)});function revisit(t){const id=tupleid(t),b=test(t,_),s=cache.get(id);if(b&&s){cache.delete(id);add.push(t)}else if(!b&&!s){cache.set(id,1);rem.push(t)}else if(isMod&&b&&!s){mod.push(t)}}pulse.visit(pulse.MOD,revisit);if(_.modified()){isMod=false;pulse.visit(pulse.REFLOW,revisit)}if(cache.empty>df.cleanThreshold)df.runAfter(cache.clean);return output}});function Flatten(params){Transform.call(this,[],params)}Flatten.Definition={type:"Flatten",metadata:{generates:true},params:[{name:"fields",type:"field",array:true,required:true},{name:"index",type:"string"},{name:"as",type:"string",array:true}]};inherits(Flatten,Transform,{transform(_,pulse){const out=pulse.fork(pulse.NO_SOURCE),fields=_.fields,as=fieldNames(fields,_.as||[]),index=_.index||null,m=as.length;out.rem=this.value;pulse.visit(pulse.SOURCE,t=>{const arrays=fields.map(f=>f(t)),maxlen=arrays.reduce((l,a)=>Math.max(l,a.length),0);let i=0,j,d,v;for(;i<maxlen;++i){d=derive(t);for(j=0;j<m;++j){d[as[j]]=(v=arrays[j][i])==null?null:v}if(index){d[index]=i}out.add.push(d)}});this.value=out.source=out.add;if(index)out.modifies(index);return out.modifies(as)}});function Fold(params){Transform.call(this,[],params)}Fold.Definition={type:"Fold",metadata:{generates:true},params:[{name:"fields",type:"field",array:true,required:true},{name:"as",type:"string",array:true,length:2,default:["key","value"]}]};inherits(Fold,Transform,{transform(_,pulse){const out=pulse.fork(pulse.NO_SOURCE),fields=_.fields,fnames=fields.map(accessorName),as=_.as||["key","value"],k=as[0],v=as[1],n=fields.length;out.rem=this.value;pulse.visit(pulse.SOURCE,t=>{for(let i=0,d;i<n;++i){d=derive(t);d[k]=fnames[i];d[v]=fields[i](t);out.add.push(d)}});this.value=out.source=out.add;return out.modifies(as)}});function Formula(params){Transform.call(this,null,params)}Formula.Definition={type:"Formula",metadata:{modifies:true},params:[{name:"expr",type:"expr",required:true},{name:"as",type:"string",required:true},{name:"initonly",type:"boolean"}]};inherits(Formula,Transform,{transform(_,pulse){const func=_.expr,as=_.as,mod=_.modified(),flag=_.initonly?pulse.ADD:mod?pulse.SOURCE:pulse.modified(func.fields)||pulse.modified(as)?pulse.ADD_MOD:pulse.ADD;if(mod){pulse=pulse.materialize().reflow(true)}if(!_.initonly){pulse.modifies(as)}return pulse.visit(flag,t=>t[as]=func(t,_))}});function Generate(params){Transform.call(this,[],params)}inherits(Generate,Transform,{transform(_,pulse){const out=pulse.fork(pulse.ALL),gen=_.generator;let data=this.value,num=_.size-data.length,add,rem,t;if(num>0){for(add=[];--num>=0;){add.push(t=ingest$1(gen(_)));data.push(t)}out.add=out.add.length?out.materialize(out.ADD).add.concat(add):add}else{rem=data.slice(0,-num);out.rem=out.rem.length?out.materialize(out.REM).rem.concat(rem):rem;data=data.slice(-num)}out.source=this.value=data;return out}});const Methods$1={value:"value",median:median,mean:mean,min:min$2,max:max$2};const Empty$1=[];function Impute(params){Transform.call(this,[],params)}Impute.Definition={type:"Impute",metadata:{changes:true},params:[{name:"field",type:"field",required:true},{name:"key",type:"field",required:true},{name:"keyvals",array:true},{name:"groupby",type:"field",array:true},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function getValue(_){var m=_.method||Methods$1.value,v;if(Methods$1[m]==null){error("Unrecognized imputation method: "+m)}else if(m===Methods$1.value){v=_.value!==undefined?_.value:0;return()=>v}else{return Methods$1[m]}}function getField$1(_){const f=_.field;return t=>t?f(t):NaN}inherits(Impute,Transform,{transform(_,pulse){var out=pulse.fork(pulse.ALL),impute=getValue(_),field=getField$1(_),fName=accessorName(_.field),kName=accessorName(_.key),gNames=(_.groupby||[]).map(accessorName),groups=partition$4(pulse.source,_.groupby,_.key,_.keyvals),curr=[],prev=this.value,m=groups.domain.length,group,value,gVals,kVal,g,i,j,l,n,t;for(g=0,l=groups.length;g<l;++g){group=groups[g];gVals=group.values;value=NaN;for(j=0;j<m;++j){if(group[j]!=null)continue;kVal=groups.domain[j];t={_impute:true};for(i=0,n=gVals.length;i<n;++i)t[gNames[i]]=gVals[i];t[kName]=kVal;t[fName]=Number.isNaN(value)?value=impute(group,field):value;curr.push(ingest$1(t))}}if(curr.length)out.add=out.materialize(out.ADD).add.concat(curr);if(prev.length)out.rem=out.materialize(out.REM).rem.concat(prev);this.value=curr;return out}});function partition$4(data,groupby,key,keyvals){var get=f=>f(t),groups=[],domain=keyvals?keyvals.slice():[],kMap={},gMap={},gVals,gKey,group,i,j,k,n,t;domain.forEach((k,i)=>kMap[k]=i+1);for(i=0,n=data.length;i<n;++i){t=data[i];k=key(t);j=kMap[k]||(kMap[k]=domain.push(k));gKey=(gVals=groupby?groupby.map(get):Empty$1)+"";if(!(group=gMap[gKey])){group=gMap[gKey]=[];groups.push(group);group.values=gVals}group[j-1]=t}groups.domain=domain;return groups}function JoinAggregate(params){Aggregate$1.call(this,params)}JoinAggregate.Definition={type:"JoinAggregate",metadata:{modifies:true},params:[{name:"groupby",type:"field",array:true},{name:"fields",type:"field",null:true,array:true},{name:"ops",type:"enum",array:true,values:ValidAggregateOps},{name:"as",type:"string",null:true,array:true},{name:"key",type:"field"}]};inherits(JoinAggregate,Aggregate$1,{transform(_,pulse){const aggr=this,mod=_.modified();let cells;if(aggr.value&&(mod||pulse.modified(aggr._inputs,true))){cells=aggr.value=mod?aggr.init(_):{};pulse.visit(pulse.SOURCE,t=>aggr.add(t))}else{cells=aggr.value=aggr.value||this.init(_);pulse.visit(pulse.REM,t=>aggr.rem(t));pulse.visit(pulse.ADD,t=>aggr.add(t))}aggr.changes();pulse.visit(pulse.SOURCE,t=>{extend$1(t,cells[aggr.cellkey(t)].tuple)});return pulse.reflow(mod).modifies(this._outputs)},changes(){const adds=this._adds,mods=this._mods;let i,n;for(i=0,n=this._alen;i<n;++i){this.celltuple(adds[i]);adds[i]=null}for(i=0,n=this._mlen;i<n;++i){this.celltuple(mods[i]);mods[i]=null}this._alen=this._mlen=0}});function KDE(params){Transform.call(this,null,params)}KDE.Definition={type:"KDE",metadata:{generates:true},params:[{name:"groupby",type:"field",array:true},{name:"field",type:"field",required:true},{name:"cumulative",type:"boolean",default:false},{name:"counts",type:"boolean",default:false},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:true,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:true,default:["value","density"]}]};inherits(KDE,Transform,{transform(_,pulse){const out=pulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS);if(!this.value||pulse.changed()||_.modified()){const source=pulse.materialize(pulse.SOURCE).source,groups=partition$1$1(source,_.groupby,_.field),names=(_.groupby||[]).map(accessorName),bandwidth=_.bandwidth,method=_.cumulative?"cdf":"pdf",as=_.as||["value","density"],values=[];let domain=_.extent,minsteps=_.steps||_.minsteps||25,maxsteps=_.steps||_.maxsteps||200;if(method!=="pdf"&&method!=="cdf"){error("Invalid density method: "+method)}if(_.resolve==="shared"){if(!domain)domain=extent(source,_.field);minsteps=maxsteps=_.steps||maxsteps}groups.forEach(g=>{const density=kde(g,bandwidth)[method],scale=_.counts?g.length:1,local=domain||extent(g);sampleCurve(density,local,minsteps,maxsteps).forEach(v=>{const t={};for(let i=0;i<names.length;++i){t[names[i]]=g.dims[i]}t[as[0]]=v[0];t[as[1]]=v[1]*scale;values.push(ingest$1(t))})});if(this.value)out.rem=this.value;this.value=out.add=out.source=values}return out}});function Key$1(params){Operator.call(this,null,update$2,params)}inherits(Key$1,Operator);function update$2(_){return this.value&&!_.modified()?this.value:key(_.fields,_.flat)}function Load$1(params){Transform.call(this,[],params);this._pending=null}inherits(Load$1,Transform,{transform(_,pulse){const df=pulse.dataflow;if(this._pending){return output(this,pulse,this._pending)}if(stop(_))return pulse.StopPropagation;if(_.values){return output(this,pulse,df.parse(_.values,_.format))}else if(_.async){const p=df.request(_.url,_.format).then(res=>{this._pending=array$5(res.data);return df=>df.touch(this)});return{async:p}}else{return df.request(_.url,_.format).then(res=>output(this,pulse,array$5(res.data)))}}});function stop(_){return _.modified("async")&&!(_.modified("values")||_.modified("url")||_.modified("format"))}function output(op,pulse,data){data.forEach(ingest$1);const out=pulse.fork(pulse.NO_FIELDS&pulse.NO_SOURCE);out.rem=op.value;op.value=out.source=out.add=data;op._pending=null;if(out.rem.length)out.clean(true);return out}function Lookup(params){Transform.call(this,{},params)}Lookup.Definition={type:"Lookup",metadata:{modifies:true},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:true},{name:"key",type:"field",required:true}]},{name:"values",type:"field",array:true},{name:"fields",type:"field",array:true,required:true},{name:"as",type:"string",array:true},{name:"default",default:null}]};inherits(Lookup,Transform,{transform(_,pulse){const keys=_.fields,index=_.index,values=_.values,defaultValue=_.default==null?null:_.default,reset=_.modified(),n=keys.length;let flag=reset?pulse.SOURCE:pulse.ADD,out=pulse,as=_.as,set,m,mods;if(values){m=values.length;if(n>1&&!as){error('Multi-field lookup requires explicit "as" parameter.')}if(as&&as.length!==n*m){error('The "as" parameter has too few output field names.')}as=as||values.map(accessorName);set=function(t){for(var i=0,k=0,j,v;i<n;++i){v=index.get(keys[i](t));if(v==null)for(j=0;j<m;++j,++k)t[as[k]]=defaultValue;else for(j=0;j<m;++j,++k)t[as[k]]=values[j](v)}}}else{if(!as){error("Missing output field names.")}set=function(t){for(var i=0,v;i<n;++i){v=index.get(keys[i](t));t[as[i]]=v==null?defaultValue:v}}}if(reset){out=pulse.reflow(true)}else{mods=keys.some(k=>pulse.modified(k.fields));flag|=mods?pulse.MOD:0}pulse.visit(flag,set);return out.modifies(as)}});function MultiExtent$1(params){Operator.call(this,null,update$1,params)}inherits(MultiExtent$1,Operator);function update$1(_){if(this.value&&!_.modified()){return this.value}const ext=_.extents,n=ext.length;let min=+Infinity,max=-Infinity,i,e;for(i=0;i<n;++i){e=ext[i];if(e[0]<min)min=e[0];if(e[1]>max)max=e[1]}return[min,max]}function MultiValues$1(params){Operator.call(this,null,update,params)}inherits(MultiValues$1,Operator);function update(_){return this.value&&!_.modified()?this.value:_.values.reduce((data,_)=>data.concat(_),[])}function Params$2(params){Transform.call(this,null,params)}inherits(Params$2,Transform,{transform(_,pulse){this.modified(_.modified());this.value=_;return pulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS)}});function Pivot(params){Aggregate$1.call(this,params)}Pivot.Definition={type:"Pivot",metadata:{generates:true,changes:true},params:[{name:"groupby",type:"field",array:true},{name:"field",type:"field",required:true},{name:"value",type:"field",required:true},{name:"op",type:"enum",values:ValidAggregateOps,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};inherits(Pivot,Aggregate$1,{_transform:Aggregate$1.prototype.transform,transform(_,pulse){return this._transform(aggregateParams(_,pulse),pulse)}});function aggregateParams(_,pulse){const key=_.field,value=_.value,op=(_.op==="count"?"__count__":_.op)||"sum",fields=accessorFields(key).concat(accessorFields(value)),keys=pivotKeys(key,_.limit||0,pulse);if(pulse.changed())_.set("__pivot__",null,null,true);return{key:_.key,groupby:_.groupby,ops:keys.map(()=>op),fields:keys.map(k=>get$4(k,key,value,fields)),as:keys.map(k=>k+""),modified:_.modified.bind(_)}}function get$4(k,key,value,fields){return accessor(d=>key(d)===k?value(d):NaN,fields,k+"")}function pivotKeys(key,limit,pulse){const map={},list=[];pulse.visit(pulse.SOURCE,t=>{const k=key(t);if(!map[k]){map[k]=1;list.push(k)}});list.sort(ascending$2);return limit?list.slice(0,limit):list}function PreFacet$1(params){Facet$1.call(this,params)}inherits(PreFacet$1,Facet$1,{transform(_,pulse){const flow=_.subflow,field=_.field,subflow=t=>this.subflow(tupleid(t),flow,pulse,t);if(_.modified("field")||field&&pulse.modified(accessorFields(field))){error("PreFacet does not support field modification.")}this.initTargets();if(field){pulse.visit(pulse.MOD,t=>{const sf=subflow(t);field(t).forEach(_=>sf.mod(_))});pulse.visit(pulse.ADD,t=>{const sf=subflow(t);field(t).forEach(_=>sf.add(ingest$1(_)))});pulse.visit(pulse.REM,t=>{const sf=subflow(t);field(t).forEach(_=>sf.rem(_))})}else{pulse.visit(pulse.MOD,t=>subflow(t).mod(t));pulse.visit(pulse.ADD,t=>subflow(t).add(t));pulse.visit(pulse.REM,t=>subflow(t).rem(t))}if(pulse.clean()){pulse.runAfter(()=>this.clean())}return pulse}});function Project(params){Transform.call(this,null,params)}Project.Definition={type:"Project",metadata:{generates:true,changes:true},params:[{name:"fields",type:"field",array:true},{name:"as",type:"string",null:true,array:true}]};inherits(Project,Transform,{transform(_,pulse){const out=pulse.fork(pulse.NO_SOURCE),fields=_.fields,as=fieldNames(_.fields,_.as||[]),derive=fields?(s,t)=>project(s,t,fields,as):rederive;let lut;if(this.value){lut=this.value}else{pulse=pulse.addAll();lut=this.value={}}pulse.visit(pulse.REM,t=>{const id=tupleid(t);out.rem.push(lut[id]);lut[id]=null});pulse.visit(pulse.ADD,t=>{const dt=derive(t,ingest$1({}));lut[tupleid(t)]=dt;out.add.push(dt)});pulse.visit(pulse.MOD,t=>{out.mod.push(derive(t,lut[tupleid(t)]))});return out}});function project(s,t,fields,as){for(let i=0,n=fields.length;i<n;++i){t[as[i]]=fields[i](s)}return t}function Proxy$1(params){Transform.call(this,null,params)}inherits(Proxy$1,Transform,{transform(_,pulse){this.value=_.value;return _.modified("value")?pulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS):pulse.StopPropagation}});function Quantile$2(params){Transform.call(this,null,params)}Quantile$2.Definition={type:"Quantile",metadata:{generates:true,changes:true},params:[{name:"groupby",type:"field",array:true},{name:"field",type:"field",required:true},{name:"probs",type:"number",array:true},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:true,default:["prob","value"]}]};const EPSILON$2=1e-14;inherits(Quantile$2,Transform,{transform(_,pulse){const out=pulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS),as=_.as||["prob","value"];if(this.value&&!_.modified()&&!pulse.changed()){out.source=this.value;return out}const source=pulse.materialize(pulse.SOURCE).source,groups=partition$1$1(source,_.groupby,_.field),names=(_.groupby||[]).map(accessorName),values=[],step=_.step||.01,p=_.probs||range$3(step/2,1-EPSILON$2,step),n=p.length;groups.forEach(g=>{const q=quantiles(g,p);for(let i=0;i<n;++i){const t={};for(let i=0;i<names.length;++i){t[names[i]]=g.dims[i]}t[as[0]]=p[i];t[as[1]]=q[i];values.push(ingest$1(t))}});if(this.value)out.rem=this.value;this.value=out.add=out.source=values;return out}});function Relay$1(params){Transform.call(this,null,params)}inherits(Relay$1,Transform,{transform(_,pulse){let out,lut;if(this.value){lut=this.value}else{out=pulse=pulse.addAll();lut=this.value={}}if(_.derive){out=pulse.fork(pulse.NO_SOURCE);pulse.visit(pulse.REM,t=>{const id=tupleid(t);out.rem.push(lut[id]);lut[id]=null});pulse.visit(pulse.ADD,t=>{const dt=derive(t);lut[tupleid(t)]=dt;out.add.push(dt)});pulse.visit(pulse.MOD,t=>{const dt=lut[tupleid(t)];for(const k in t){dt[k]=t[k];out.modifies(k)}out.mod.push(dt)})}return out}});function Sample(params){Transform.call(this,[],params);this.count=0}Sample.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};inherits(Sample,Transform,{transform(_,pulse){const out=pulse.fork(pulse.NO_SOURCE),mod=_.modified("size"),num=_.size,map=this.value.reduce((m,t)=>(m[tupleid(t)]=1,m),{});let res=this.value,cnt=this.count,cap=0;function update(t){let p,idx;if(res.length<num){res.push(t)}else{idx=~~((cnt+1)*exports.random());if(idx<res.length&&idx>=cap){p=res[idx];if(map[tupleid(p)])out.rem.push(p);res[idx]=t}}++cnt}if(pulse.rem.length){pulse.visit(pulse.REM,t=>{const id=tupleid(t);if(map[id]){map[id]=-1;out.rem.push(t)}--cnt});res=res.filter(t=>map[tupleid(t)]!==-1)}if((pulse.rem.length||mod)&&res.length<num&&pulse.source){cap=cnt=res.length;pulse.visit(pulse.SOURCE,t=>{if(!map[tupleid(t)])update(t)});cap=-1}if(mod&&res.length>num){const n=res.length-num;for(let i=0;i<n;++i){map[tupleid(res[i])]=-1;out.rem.push(res[i])}res=res.slice(n)}if(pulse.mod.length){pulse.visit(pulse.MOD,t=>{if(map[tupleid(t)])out.mod.push(t)})}if(pulse.add.length){pulse.visit(pulse.ADD,update)}if(pulse.add.length||cap<0){out.add=res.filter(t=>!map[tupleid(t)])}this.count=cnt;this.value=out.source=res;return out}});function Sequence(params){Transform.call(this,null,params)}Sequence.Definition={type:"Sequence",metadata:{generates:true,changes:true},params:[{name:"start",type:"number",required:true},{name:"stop",type:"number",required:true},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};inherits(Sequence,Transform,{transform(_,pulse){if(this.value&&!_.modified())return;const out=pulse.materialize().fork(pulse.MOD),as=_.as||"data";out.rem=this.value?pulse.rem.concat(this.value):pulse.rem;this.value=range$3(_.start,_.stop,_.step||1).map(v=>{const t={};t[as]=v;return ingest$1(t)});out.add=pulse.add.concat(this.value);return out}});function Sieve$1(params){Transform.call(this,null,params);this.modified(true)}inherits(Sieve$1,Transform,{transform(_,pulse){this.value=pulse.source;return pulse.changed()?pulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS):pulse.StopPropagation}});function TimeUnit(params){Transform.call(this,null,params)}const OUTPUT=["unit0","unit1"];TimeUnit.Definition={type:"TimeUnit",metadata:{modifies:true},params:[{name:"field",type:"field",required:true},{name:"interval",type:"boolean",default:true},{name:"units",type:"enum",values:TIME_UNITS,array:true},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:true},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:true,length:2,default:OUTPUT}]};inherits(TimeUnit,Transform,{transform(_,pulse){const field=_.field,band=_.interval!==false,utc=_.timezone==="utc",floor=this._floor(_,pulse),offset=(utc?utcInterval:timeInterval)(floor.unit).offset,as=_.as||OUTPUT,u0=as[0],u1=as[1],step=floor.step;let min=floor.start||Infinity,max=floor.stop||-Infinity,flag=pulse.ADD;if(_.modified()||pulse.changed(pulse.REM)||pulse.modified(accessorFields(field))){pulse=pulse.reflow(true);flag=pulse.SOURCE;min=Infinity;max=-Infinity}pulse.visit(flag,t=>{const v=field(t);let a,b;if(v==null){t[u0]=null;if(band)t[u1]=null}else{t[u0]=a=b=floor(v);if(band)t[u1]=b=offset(a,step);if(a<min)min=a;if(b>max)max=b}});floor.start=min;floor.stop=max;return pulse.modifies(band?as:u0)},_floor(_,pulse){const utc=_.timezone==="utc";const{units:units,step:step}=_.units?{units:_.units,step:_.step||1}:bin$1({extent:_.extent||extent(pulse.materialize(pulse.SOURCE).source,_.field),maxbins:_.maxbins});const tunits=timeUnits(units),prev=this.value||{},floor=(utc?utcFloor:timeFloor)(tunits,step);floor.unit=peek$1(tunits);floor.units=tunits;floor.step=step;floor.start=prev.start;floor.stop=prev.stop;return this.value=floor}});function TupleIndex(params){Transform.call(this,fastmap(),params)}inherits(TupleIndex,Transform,{transform(_,pulse){const df=pulse.dataflow,field=_.field,index=this.value,set=t=>index.set(field(t),t);let mod=true;if(_.modified("field")||pulse.modified(field.fields)){index.clear();pulse.visit(pulse.SOURCE,set)}else if(pulse.changed()){pulse.visit(pulse.REM,t=>index.delete(field(t)));pulse.visit(pulse.ADD,set)}else{mod=false}this.modified(mod);if(index.empty>df.cleanThreshold)df.runAfter(index.clean);return pulse.fork()}});function Values$1(params){Transform.call(this,null,params)}inherits(Values$1,Transform,{transform(_,pulse){const run=!this.value||_.modified("field")||_.modified("sort")||pulse.changed()||_.sort&&pulse.modified(_.sort.fields);if(run){this.value=(_.sort?pulse.source.slice().sort(stableCompare(_.sort)):pulse.source).map(_.field)}}});function WindowOp(op,field,param,as){const fn=WindowOps[op](field,param);return{init:fn.init||zero$3,update:function(w,t){t[as]=fn.next(w)}}}const WindowOps={row_number:function(){return{next:w=>w.index+1}},rank:function(){let rank;return{init:()=>rank=1,next:w=>{const i=w.index,data=w.data;return i&&w.compare(data[i-1],data[i])?rank=i+1:rank}}},dense_rank:function(){let drank;return{init:()=>drank=1,next:w=>{const i=w.index,d=w.data;return i&&w.compare(d[i-1],d[i])?++drank:drank}}},percent_rank:function(){const rank=WindowOps.rank(),next=rank.next;return{init:rank.init,next:w=>(next(w)-1)/(w.data.length-1)}},cume_dist:function(){let cume;return{init:()=>cume=0,next:w=>{const d=w.data,c=w.compare;let i=w.index;if(cume<i){while(i+1<d.length&&!c(d[i],d[i+1]))++i;cume=i}return(1+cume)/d.length}}},ntile:function(field,num){num=+num;if(!(num>0))error("ntile num must be greater than zero.");const cume=WindowOps.cume_dist(),next=cume.next;return{init:cume.init,next:w=>Math.ceil(num*next(w))}},lag:function(field,offset){offset=+offset||1;return{next:w=>{const i=w.index-offset;return i>=0?field(w.data[i]):null}}},lead:function(field,offset){offset=+offset||1;return{next:w=>{const i=w.index+offset,d=w.data;return i<d.length?field(d[i]):null}}},first_value:function(field){return{next:w=>field(w.data[w.i0])}},last_value:function(field){return{next:w=>field(w.data[w.i1-1])}},nth_value:function(field,nth){nth=+nth;if(!(nth>0))error("nth_value nth must be greater than zero.");return{next:w=>{const i=w.i0+(nth-1);return i<w.i1?field(w.data[i]):null}}},prev_value:function(field){let prev;return{init:()=>prev=null,next:w=>{const v=field(w.data[w.index]);return v!=null?prev=v:prev}}},next_value:function(field){let v,i;return{init:()=>(v=null,i=-1),next:w=>{const d=w.data;return w.index<=i?v:(i=find$2(field,d,w.index))<0?(i=d.length,v=null):v=field(d[i])}}}};function find$2(field,data,index){for(let n=data.length;index<n;++index){const v=field(data[index]);if(v!=null)return index}return-1}const ValidWindowOps=Object.keys(WindowOps);function WindowState(_){const ops=array$5(_.ops),fields=array$5(_.fields),params=array$5(_.params),as=array$5(_.as),outputs=this.outputs=[],windows=this.windows=[],inputs={},map={},counts=[],measures=[];let countOnly=true;function visitInputs(f){array$5(accessorFields(f)).forEach(_=>inputs[_]=1)}visitInputs(_.sort);ops.forEach((op,i)=>{const field=fields[i],mname=accessorName(field),name=measureName(op,mname,as[i]);visitInputs(field);outputs.push(name);if(has$1(WindowOps,op)){windows.push(WindowOp(op,fields[i],params[i],name))}else{if(field==null&&op!=="count"){error("Null aggregate field specified.")}if(op==="count"){counts.push(name);return}countOnly=false;let m=map[mname];if(!m){m=map[mname]=[];m.field=field;measures.push(m)}m.push(createMeasure(op,name))}});if(counts.length||measures.length){this.cell=cell(measures,counts,countOnly)}this.inputs=Object.keys(inputs)}const prototype=WindowState.prototype;prototype.init=function(){this.windows.forEach(_=>_.init());if(this.cell)this.cell.init()};prototype.update=function(w,t){const cell=this.cell,wind=this.windows,data=w.data,m=wind&&wind.length;let j;if(cell){for(j=w.p0;j<w.i0;++j)cell.rem(data[j]);for(j=w.p1;j<w.i1;++j)cell.add(data[j]);cell.set(t)}for(j=0;j<m;++j)wind[j].update(w,t)};function cell(measures,counts,countOnly){measures=measures.map(m=>compileMeasures(m,m.field));const cell={num:0,agg:null,store:false,count:counts};if(!countOnly){var n=measures.length,a=cell.agg=Array(n),i=0;for(;i<n;++i)a[i]=new measures[i](cell)}if(cell.store){var store=cell.data=new TupleStore}cell.add=function(t){cell.num+=1;if(countOnly)return;if(store)store.add(t);for(let i=0;i<n;++i){a[i].add(a[i].get(t),t)}};cell.rem=function(t){cell.num-=1;if(countOnly)return;if(store)store.rem(t);for(let i=0;i<n;++i){a[i].rem(a[i].get(t),t)}};cell.set=function(t){let i,n;if(store)store.values();for(i=0,n=counts.length;i<n;++i)t[counts[i]]=cell.num;if(!countOnly)for(i=0,n=a.length;i<n;++i)a[i].set(t)};cell.init=function(){cell.num=0;if(store)store.reset();for(let i=0;i<n;++i)a[i].init()};return cell}function Window(params){Transform.call(this,{},params);this._mlen=0;this._mods=[]}Window.Definition={type:"Window",metadata:{modifies:true},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:true},{name:"ops",type:"enum",array:true,values:ValidWindowOps.concat(ValidAggregateOps)},{name:"params",type:"number",null:true,array:true},{name:"fields",type:"field",null:true,array:true},{name:"as",type:"string",null:true,array:true},{name:"frame",type:"number",null:true,array:true,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:false}]};inherits(Window,Transform,{transform(_,pulse){this.stamp=pulse.stamp;const mod=_.modified(),cmp=stableCompare(_.sort),key=groupkey(_.groupby),group=t=>this.group(key(t));let state=this.state;if(!state||mod){state=this.state=new WindowState(_)}if(mod||pulse.modified(state.inputs)){this.value={};pulse.visit(pulse.SOURCE,t=>group(t).add(t))}else{pulse.visit(pulse.REM,t=>group(t).remove(t));pulse.visit(pulse.ADD,t=>group(t).add(t))}for(let i=0,n=this._mlen;i<n;++i){processPartition(this._mods[i],state,cmp,_)}this._mlen=0;this._mods=[];return pulse.reflow(mod).modifies(state.outputs)},group(key){let group=this.value[key];if(!group){group=this.value[key]=SortedList(tupleid);group.stamp=-1}if(group.stamp<this.stamp){group.stamp=this.stamp;this._mods[this._mlen++]=group}return group}});function processPartition(list,state,cmp,_){const sort=_.sort,range=sort&&!_.ignorePeers,frame=_.frame||[null,0],data=list.data(cmp),n=data.length,b=range?bisector(sort):null,w={i0:0,i1:0,p0:0,p1:0,index:0,data:data,compare:sort||constant$4(-1)};state.init();for(let i=0;i<n;++i){setWindow(w,frame,i,n);if(range)adjustRange(w,b);state.update(w,data[i])}}function setWindow(w,f,i,n){w.p0=w.i0;w.p1=w.i1;w.i0=f[0]==null?0:Math.max(0,i-Math.abs(f[0]));w.i1=f[1]==null?n:Math.min(n,i+Math.abs(f[1])+1);w.index=i}function adjustRange(w,bisect){const r0=w.i0,r1=w.i1-1,c=w.compare,d=w.data,n=d.length-1;if(r0>0&&!c(d[r0],d[r0-1]))w.i0=bisect.left(d,d[r0]);if(r1<n&&!c(d[r1],d[r1+1]))w.i1=bisect.right(d,d[r1])}var tx=Object.freeze({__proto__:null,aggregate:Aggregate$1,bin:Bin,collect:Collect$1,compare:Compare$1,countpattern:CountPattern,cross:Cross,density:Density,dotbin:DotBin,expression:Expression$1,extent:Extent,facet:Facet$1,field:Field$1,filter:Filter,flatten:Flatten,fold:Fold,formula:Formula,generate:Generate,impute:Impute,joinaggregate:JoinAggregate,kde:KDE,key:Key$1,load:Load$1,lookup:Lookup,multiextent:MultiExtent$1,multivalues:MultiValues$1,params:Params$2,pivot:Pivot,prefacet:PreFacet$1,project:Project,proxy:Proxy$1,quantile:Quantile$2,relay:Relay$1,sample:Sample,sequence:Sequence,sieve:Sieve$1,subflow:Subflow,timeunit:TimeUnit,tupleindex:TupleIndex,values:Values$1,window:Window});function constant$3(x){return function constant(){return x}}const abs$2=Math.abs;const atan2$1=Math.atan2;const cos$2=Math.cos;const max$1=Math.max;const min$1=Math.min;const sin$2=Math.sin;const sqrt$3=Math.sqrt;const epsilon$5=1e-12;const pi$3=Math.PI;const halfPi$2=pi$3/2;const tau$3=2*pi$3;function acos$1(x){return x>1?0:x<-1?pi$3:Math.acos(x)}function asin$2(x){return x>=1?halfPi$2:x<=-1?-halfPi$2:Math.asin(x)}const pi$2=Math.PI,tau$2=2*pi$2,epsilon$4=1e-6,tauEpsilon=tau$2-epsilon$4;function append$1(strings){this._+=strings[0];for(let i=1,n=strings.length;i<n;++i){this._+=arguments[i]+strings[i]}}function appendRound$1(digits){let d=Math.floor(digits);if(!(d>=0))throw new Error(`invalid digits: ${digits}`);if(d>15)return append$1;const k=10**d;return function(strings){this._+=strings[0];for(let i=1,n=strings.length;i<n;++i){this._+=Math.round(arguments[i]*k)/k+strings[i]}}}let Path$1=class Path{constructor(digits){this._x0=this._y0=this._x1=this._y1=null;this._="";this._append=digits==null?append$1:appendRound$1(digits)}moveTo(x,y){this._append`M${this._x0=this._x1=+x},${this._y0=this._y1=+y}`}closePath(){if(this._x1!==null){this._x1=this._x0,this._y1=this._y0;this._append`Z`}}lineTo(x,y){this._append`L${this._x1=+x},${this._y1=+y}`}quadraticCurveTo(x1,y1,x,y){this._append`Q${+x1},${+y1},${this._x1=+x},${this._y1=+y}`}bezierCurveTo(x1,y1,x2,y2,x,y){this._append`C${+x1},${+y1},${+x2},${+y2},${this._x1=+x},${this._y1=+y}`}arcTo(x1,y1,x2,y2,r){x1=+x1,y1=+y1,x2=+x2,y2=+y2,r=+r;if(r<0)throw new Error(`negative radius: ${r}`);let x0=this._x1,y0=this._y1,x21=x2-x1,y21=y2-y1,x01=x0-x1,y01=y0-y1,l01_2=x01*x01+y01*y01;if(this._x1===null){this._append`M${this._x1=x1},${this._y1=y1}`}else if(!(l01_2>epsilon$4));else if(!(Math.abs(y01*x21-y21*x01)>epsilon$4)||!r){this._append`L${this._x1=x1},${this._y1=y1}`}else{let x20=x2-x0,y20=y2-y0,l21_2=x21*x21+y21*y21,l20_2=x20*x20+y20*y20,l21=Math.sqrt(l21_2),l01=Math.sqrt(l01_2),l=r*Math.tan((pi$2-Math.acos((l21_2+l01_2-l20_2)/(2*l21*l01)))/2),t01=l/l01,t21=l/l21;if(Math.abs(t01-1)>epsilon$4){this._append`L${x1+t01*x01},${y1+t01*y01}`}this._append`A${r},${r},0,0,${+(y01*x20>x01*y20)},${this._x1=x1+t21*x21},${this._y1=y1+t21*y21}`}}arc(x,y,r,a0,a1,ccw){x=+x,y=+y,r=+r,ccw=!!ccw;if(r<0)throw new Error(`negative radius: ${r}`);let dx=r*Math.cos(a0),dy=r*Math.sin(a0),x0=x+dx,y0=y+dy,cw=1^ccw,da=ccw?a0-a1:a1-a0;if(this._x1===null){this._append`M${x0},${y0}`}else if(Math.abs(this._x1-x0)>epsilon$4||Math.abs(this._y1-y0)>epsilon$4){this._append`L${x0},${y0}`}if(!r)return;if(da<0)da=da%tau$2+tau$2;if(da>tauEpsilon){this._append`A${r},${r},0,1,${cw},${x-dx},${y-dy}A${r},${r},0,1,${cw},${this._x1=x0},${this._y1=y0}`}else if(da>epsilon$4){this._append`A${r},${r},0,${+(da>=pi$2)},${cw},${this._x1=x+r*Math.cos(a1)},${this._y1=y+r*Math.sin(a1)}`}}rect(x,y,w,h){this._append`M${this._x0=this._x1=+x},${this._y0=this._y1=+y}h${w=+w}v${+h}h${-w}Z`}toString(){return this._}};function path$3(){return new Path$1}path$3.prototype=Path$1.prototype;function withPath(shape){let digits=3;shape.digits=function(_){if(!arguments.length)return digits;if(_==null){digits=null}else{const d=Math.floor(_);if(!(d>=0))throw new RangeError(`invalid digits: ${_}`);digits=d}return shape};return()=>new Path$1(digits)}function arcInnerRadius(d){return d.innerRadius}function arcOuterRadius(d){return d.outerRadius}function arcStartAngle(d){return d.startAngle}function arcEndAngle(d){return d.endAngle}function arcPadAngle(d){return d&&d.padAngle}function intersect$3(x0,y0,x1,y1,x2,y2,x3,y3){var x10=x1-x0,y10=y1-y0,x32=x3-x2,y32=y3-y2,t=y32*x10-x32*y10;if(t*t<epsilon$5)return;t=(x32*(y0-y2)-y32*(x0-x2))/t;return[x0+t*x10,y0+t*y10]}function cornerTangents(x0,y0,x1,y1,r1,rc,cw){var x01=x0-x1,y01=y0-y1,lo=(cw?rc:-rc)/sqrt$3(x01*x01+y01*y01),ox=lo*y01,oy=-lo*x01,x11=x0+ox,y11=y0+oy,x10=x1+ox,y10=y1+oy,x00=(x11+x10)/2,y00=(y11+y10)/2,dx=x10-x11,dy=y10-y11,d2=dx*dx+dy*dy,r=r1-rc,D=x11*y10-x10*y11,d=(dy<0?-1:1)*sqrt$3(max$1(0,r*r*d2-D*D)),cx0=(D*dy-dx*d)/d2,cy0=(-D*dx-dy*d)/d2,cx1=(D*dy+dx*d)/d2,cy1=(-D*dx+dy*d)/d2,dx0=cx0-x00,dy0=cy0-y00,dx1=cx1-x00,dy1=cy1-y00;if(dx0*dx0+dy0*dy0>dx1*dx1+dy1*dy1)cx0=cx1,cy0=cy1;return{cx:cx0,cy:cy0,x01:-ox,y01:-oy,x11:cx0*(r1/r-1),y11:cy0*(r1/r-1)}}function arc$2$1(){var innerRadius=arcInnerRadius,outerRadius=arcOuterRadius,cornerRadius=constant$3(0),padRadius=null,startAngle=arcStartAngle,endAngle=arcEndAngle,padAngle=arcPadAngle,context=null,path=withPath(arc);function arc(){var buffer,r,r0=+innerRadius.apply(this,arguments),r1=+outerRadius.apply(this,arguments),a0=startAngle.apply(this,arguments)-halfPi$2,a1=endAngle.apply(this,arguments)-halfPi$2,da=abs$2(a1-a0),cw=a1>a0;if(!context)context=buffer=path();if(r1<r0)r=r1,r1=r0,r0=r;if(!(r1>epsilon$5))context.moveTo(0,0);else if(da>tau$3-epsilon$5){context.moveTo(r1*cos$2(a0),r1*sin$2(a0));context.arc(0,0,r1,a0,a1,!cw);if(r0>epsilon$5){context.moveTo(r0*cos$2(a1),r0*sin$2(a1));context.arc(0,0,r0,a1,a0,cw)}}else{var a01=a0,a11=a1,a00=a0,a10=a1,da0=da,da1=da,ap=padAngle.apply(this,arguments)/2,rp=ap>epsilon$5&&(padRadius?+padRadius.apply(this,arguments):sqrt$3(r0*r0+r1*r1)),rc=min$1(abs$2(r1-r0)/2,+cornerRadius.apply(this,arguments)),rc0=rc,rc1=rc,t0,t1;if(rp>epsilon$5){var p0=asin$2(rp/r0*sin$2(ap)),p1=asin$2(rp/r1*sin$2(ap));if((da0-=p0*2)>epsilon$5)p0*=cw?1:-1,a00+=p0,a10-=p0;else da0=0,a00=a10=(a0+a1)/2;if((da1-=p1*2)>epsilon$5)p1*=cw?1:-1,a01+=p1,a11-=p1;else da1=0,a01=a11=(a0+a1)/2}var x01=r1*cos$2(a01),y01=r1*sin$2(a01),x10=r0*cos$2(a10),y10=r0*sin$2(a10);if(rc>epsilon$5){var x11=r1*cos$2(a11),y11=r1*sin$2(a11),x00=r0*cos$2(a00),y00=r0*sin$2(a00),oc;if(da<pi$3){if(oc=intersect$3(x01,y01,x00,y00,x11,y11,x10,y10)){var ax=x01-oc[0],ay=y01-oc[1],bx=x11-oc[0],by=y11-oc[1],kc=1/sin$2(acos$1((ax*bx+ay*by)/(sqrt$3(ax*ax+ay*ay)*sqrt$3(bx*bx+by*by)))/2),lc=sqrt$3(oc[0]*oc[0]+oc[1]*oc[1]);rc0=min$1(rc,(r0-lc)/(kc-1));rc1=min$1(rc,(r1-lc)/(kc+1))}else{rc0=rc1=0}}}if(!(da1>epsilon$5))context.moveTo(x01,y01);else if(rc1>epsilon$5){t0=cornerTangents(x00,y00,x01,y01,r1,rc1,cw);t1=cornerTangents(x11,y11,x10,y10,r1,rc1,cw);context.moveTo(t0.cx+t0.x01,t0.cy+t0.y01);if(rc1<rc)context.arc(t0.cx,t0.cy,rc1,atan2$1(t0.y01,t0.x01),atan2$1(t1.y01,t1.x01),!cw);else{context.arc(t0.cx,t0.cy,rc1,atan2$1(t0.y01,t0.x01),atan2$1(t0.y11,t0.x11),!cw);context.arc(0,0,r1,atan2$1(t0.cy+t0.y11,t0.cx+t0.x11),atan2$1(t1.cy+t1.y11,t1.cx+t1.x11),!cw);context.arc(t1.cx,t1.cy,rc1,atan2$1(t1.y11,t1.x11),atan2$1(t1.y01,t1.x01),!cw)}}else context.moveTo(x01,y01),context.arc(0,0,r1,a01,a11,!cw);if(!(r0>epsilon$5)||!(da0>epsilon$5))context.lineTo(x10,y10);else if(rc0>epsilon$5){t0=cornerTangents(x10,y10,x11,y11,r0,-rc0,cw);t1=cornerTangents(x01,y01,x00,y00,r0,-rc0,cw);context.lineTo(t0.cx+t0.x01,t0.cy+t0.y01);if(rc0<rc)context.arc(t0.cx,t0.cy,rc0,atan2$1(t0.y01,t0.x01),atan2$1(t1.y01,t1.x01),!cw);else{context.arc(t0.cx,t0.cy,rc0,atan2$1(t0.y01,t0.x01),atan2$1(t0.y11,t0.x11),!cw);context.arc(0,0,r0,atan2$1(t0.cy+t0.y11,t0.cx+t0.x11),atan2$1(t1.cy+t1.y11,t1.cx+t1.x11),cw);context.arc(t1.cx,t1.cy,rc0,atan2$1(t1.y11,t1.x11),atan2$1(t1.y01,t1.x01),!cw)}}else context.arc(0,0,r0,a10,a00,cw)}context.closePath();if(buffer)return context=null,buffer+""||null}arc.centroid=function(){var r=(+innerRadius.apply(this,arguments)+ +outerRadius.apply(this,arguments))/2,a=(+startAngle.apply(this,arguments)+ +endAngle.apply(this,arguments))/2-pi$3/2;return[cos$2(a)*r,sin$2(a)*r]};arc.innerRadius=function(_){return arguments.length?(innerRadius=typeof _==="function"?_:constant$3(+_),arc):innerRadius};arc.outerRadius=function(_){return arguments.length?(outerRadius=typeof _==="function"?_:constant$3(+_),arc):outerRadius};arc.cornerRadius=function(_){return arguments.length?(cornerRadius=typeof _==="function"?_:constant$3(+_),arc):cornerRadius};arc.padRadius=function(_){return arguments.length?(padRadius=_==null?null:typeof _==="function"?_:constant$3(+_),arc):padRadius};arc.startAngle=function(_){return arguments.length?(startAngle=typeof _==="function"?_:constant$3(+_),arc):startAngle};arc.endAngle=function(_){return arguments.length?(endAngle=typeof _==="function"?_:constant$3(+_),arc):endAngle};arc.padAngle=function(_){return arguments.length?(padAngle=typeof _==="function"?_:constant$3(+_),arc):padAngle};arc.context=function(_){return arguments.length?(context=_==null?null:_,arc):context};return arc}function array$4(x){return typeof x==="object"&&"length"in x?x:Array.from(x)}function Linear$2(context){this._context=context}Linear$2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(x,y){x=+x,y=+y;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2;default:this._context.lineTo(x,y);break}}};function curveLinear(context){return new Linear$2(context)}function x$3(p){return p[0]}function y$3(p){return p[1]}function line$2$1(x,y){var defined=constant$3(true),context=null,curve=curveLinear,output=null,path=withPath(line);x=typeof x==="function"?x:x===undefined?x$3:constant$3(x);y=typeof y==="function"?y:y===undefined?y$3:constant$3(y);function line(data){var i,n=(data=array$4(data)).length,d,defined0=false,buffer;if(context==null)output=curve(buffer=path());for(i=0;i<=n;++i){if(!(i<n&&defined(d=data[i],i,data))===defined0){if(defined0=!defined0)output.lineStart();else output.lineEnd()}if(defined0)output.point(+x(d,i,data),+y(d,i,data))}if(buffer)return output=null,buffer+""||null}line.x=function(_){return arguments.length?(x=typeof _==="function"?_:constant$3(+_),line):x};line.y=function(_){return arguments.length?(y=typeof _==="function"?_:constant$3(+_),line):y};line.defined=function(_){return arguments.length?(defined=typeof _==="function"?_:constant$3(!!_),line):defined};line.curve=function(_){return arguments.length?(curve=_,context!=null&&(output=curve(context)),line):curve};line.context=function(_){return arguments.length?(_==null?context=output=null:output=curve(context=_),line):context};return line}function area$2$1(x0,y0,y1){var x1=null,defined=constant$3(true),context=null,curve=curveLinear,output=null,path=withPath(area);x0=typeof x0==="function"?x0:x0===undefined?x$3:constant$3(+x0);y0=typeof y0==="function"?y0:y0===undefined?constant$3(0):constant$3(+y0);y1=typeof y1==="function"?y1:y1===undefined?y$3:constant$3(+y1);function area(data){var i,j,k,n=(data=array$4(data)).length,d,defined0=false,buffer,x0z=new Array(n),y0z=new Array(n);if(context==null)output=curve(buffer=path());for(i=0;i<=n;++i){if(!(i<n&&defined(d=data[i],i,data))===defined0){if(defined0=!defined0){j=i;output.areaStart();output.lineStart()}else{output.lineEnd();output.lineStart();for(k=i-1;k>=j;--k){output.point(x0z[k],y0z[k])}output.lineEnd();output.areaEnd()}}if(defined0){x0z[i]=+x0(d,i,data),y0z[i]=+y0(d,i,data);output.point(x1?+x1(d,i,data):x0z[i],y1?+y1(d,i,data):y0z[i])}}if(buffer)return output=null,buffer+""||null}function arealine(){return line$2$1().defined(defined).curve(curve).context(context)}area.x=function(_){return arguments.length?(x0=typeof _==="function"?_:constant$3(+_),x1=null,area):x0};area.x0=function(_){return arguments.length?(x0=typeof _==="function"?_:constant$3(+_),area):x0};area.x1=function(_){return arguments.length?(x1=_==null?null:typeof _==="function"?_:constant$3(+_),area):x1};area.y=function(_){return arguments.length?(y0=typeof _==="function"?_:constant$3(+_),y1=null,area):y0};area.y0=function(_){return arguments.length?(y0=typeof _==="function"?_:constant$3(+_),area):y0};area.y1=function(_){return arguments.length?(y1=_==null?null:typeof _==="function"?_:constant$3(+_),area):y1};area.lineX0=area.lineY0=function(){return arealine().x(x0).y(y0)};area.lineY1=function(){return arealine().x(x0).y(y1)};area.lineX1=function(){return arealine().x(x1).y(y0)};area.defined=function(_){return arguments.length?(defined=typeof _==="function"?_:constant$3(!!_),area):defined};area.curve=function(_){return arguments.length?(curve=_,context!=null&&(output=curve(context)),area):curve};area.context=function(_){return arguments.length?(_==null?context=output=null:output=curve(context=_),area):context};return area}var circle={draw(context,size){const r=sqrt$3(size/pi$3);context.moveTo(r,0);context.arc(0,0,r,0,tau$3)}};function Symbol$1(type,size){let context=null,path=withPath(symbol);type=typeof type==="function"?type:constant$3(type||circle);size=typeof size==="function"?size:constant$3(size===undefined?64:+size);function symbol(){let buffer;if(!context)context=buffer=path();type.apply(this,arguments).draw(context,+size.apply(this,arguments));if(buffer)return context=null,buffer+""||null}symbol.type=function(_){return arguments.length?(type=typeof _==="function"?_:constant$3(_),symbol):type};symbol.size=function(_){return arguments.length?(size=typeof _==="function"?_:constant$3(+_),symbol):size};symbol.context=function(_){return arguments.length?(context=_==null?null:_,symbol):context};return symbol}function noop$3(){}function point$6(that,x,y){that._context.bezierCurveTo((2*that._x0+that._x1)/3,(2*that._y0+that._y1)/3,(that._x0+2*that._x1)/3,(that._y0+2*that._y1)/3,(that._x0+4*that._x1+x)/6,(that._y0+4*that._y1+y)/6)}function Basis(context){this._context=context}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:point$6(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(x,y){x=+x,y=+y;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2;break;case 2:this._point=3;this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$6(this,x,y);break}this._x0=this._x1,this._x1=x;this._y0=this._y1,this._y1=y}};function curveBasis(context){return new Basis(context)}function BasisClosed(context){this._context=context}BasisClosed.prototype={areaStart:noop$3,areaEnd:noop$3,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2);this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break}case 3:{this.point(this._x2,this._y2);this.point(this._x3,this._y3);this.point(this._x4,this._y4);break}}},point:function(x,y){x=+x,y=+y;switch(this._point){case 0:this._point=1;this._x2=x,this._y2=y;break;case 1:this._point=2;this._x3=x,this._y3=y;break;case 2:this._point=3;this._x4=x,this._y4=y;this._context.moveTo((this._x0+4*this._x1+x)/6,(this._y0+4*this._y1+y)/6);break;default:point$6(this,x,y);break}this._x0=this._x1,this._x1=x;this._y0=this._y1,this._y1=y}};function curveBasisClosed(context){return new BasisClosed(context)}function BasisOpen(context){this._context=context}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){if(this._line||this._line!==0&&this._point===3)this._context.closePath();this._line=1-this._line},point:function(x,y){x=+x,y=+y;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var x0=(this._x0+4*this._x1+x)/6,y0=(this._y0+4*this._y1+y)/6;this._line?this._context.lineTo(x0,y0):this._context.moveTo(x0,y0);break;case 3:this._point=4;default:point$6(this,x,y);break}this._x0=this._x1,this._x1=x;this._y0=this._y1,this._y1=y}};function curveBasisOpen(context){return new BasisOpen(context)}function Bundle(context,beta){this._basis=new Basis(context);this._beta=beta}Bundle.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var x=this._x,y=this._y,j=x.length-1;if(j>0){var x0=x[0],y0=y[0],dx=x[j]-x0,dy=y[j]-y0,i=-1,t;while(++i<=j){t=i/j;this._basis.point(this._beta*x[i]+(1-this._beta)*(x0+t*dx),this._beta*y[i]+(1-this._beta)*(y0+t*dy))}}this._x=this._y=null;this._basis.lineEnd()},point:function(x,y){this._x.push(+x);this._y.push(+y)}};var curveBundle=function custom(beta){function bundle(context){return beta===1?new Basis(context):new Bundle(context,beta)}bundle.beta=function(beta){return custom(+beta)};return bundle}(.85);function point$5(that,x,y){that._context.bezierCurveTo(that._x1+that._k*(that._x2-that._x0),that._y1+that._k*(that._y2-that._y0),that._x2+that._k*(that._x1-x),that._y2+that._k*(that._y1-y),that._x2,that._y2)}function Cardinal(context,tension){this._context=context;this._k=(1-tension)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:point$5(this,this._x1,this._y1);break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(x,y){x=+x,y=+y;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2;this._x1=x,this._y1=y;break;case 2:this._point=3;default:point$5(this,x,y);break}this._x0=this._x1,this._x1=this._x2,this._x2=x;this._y0=this._y1,this._y1=this._y2,this._y2=y}};var curveCardinal=function custom(tension){function cardinal(context){return new Cardinal(context,tension)}cardinal.tension=function(tension){return custom(+tension)};return cardinal}(0);function CardinalClosed(context,tension){this._context=context;this._k=(1-tension)/6}CardinalClosed.prototype={areaStart:noop$3,areaEnd:noop$3,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3);this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3);this._context.closePath();break}case 3:{this.point(this._x3,this._y3);this.point(this._x4,this._y4);this.point(this._x5,this._y5);break}}},point:function(x,y){x=+x,y=+y;switch(this._point){case 0:this._point=1;this._x3=x,this._y3=y;break;case 1:this._point=2;this._context.moveTo(this._x4=x,this._y4=y);break;case 2:this._point=3;this._x5=x,this._y5=y;break;default:point$5(this,x,y);break}this._x0=this._x1,this._x1=this._x2,this._x2=x;this._y0=this._y1,this._y1=this._y2,this._y2=y}};var curveCardinalClosed=function custom(tension){function cardinal(context){return new CardinalClosed(context,tension)}cardinal.tension=function(tension){return custom(+tension)};return cardinal}(0);function CardinalOpen(context,tension){this._context=context;this._k=(1-tension)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){if(this._line||this._line!==0&&this._point===3)this._context.closePath();this._line=1-this._line},point:function(x,y){x=+x,y=+y;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$5(this,x,y);break}this._x0=this._x1,this._x1=this._x2,this._x2=x;this._y0=this._y1,this._y1=this._y2,this._y2=y}};var curveCardinalOpen=function custom(tension){function cardinal(context){return new CardinalOpen(context,tension)}cardinal.tension=function(tension){return custom(+tension)};return cardinal}(0);function point$4(that,x,y){var x1=that._x1,y1=that._y1,x2=that._x2,y2=that._y2;if(that._l01_a>epsilon$5){var a=2*that._l01_2a+3*that._l01_a*that._l12_a+that._l12_2a,n=3*that._l01_a*(that._l01_a+that._l12_a);x1=(x1*a-that._x0*that._l12_2a+that._x2*that._l01_2a)/n;y1=(y1*a-that._y0*that._l12_2a+that._y2*that._l01_2a)/n}if(that._l23_a>epsilon$5){var b=2*that._l23_2a+3*that._l23_a*that._l12_a+that._l12_2a,m=3*that._l23_a*(that._l23_a+that._l12_a);x2=(x2*b+that._x1*that._l23_2a-x*that._l12_2a)/m;y2=(y2*b+that._y1*that._l23_2a-y*that._l12_2a)/m}that._context.bezierCurveTo(x1,y1,x2,y2,that._x2,that._y2)}function CatmullRom(context,alpha){this._context=context;this._alpha=alpha}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(x,y){x=+x,y=+y;if(this._point){var x23=this._x2-x,y23=this._y2-y;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(x23*x23+y23*y23,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2;break;case 2:this._point=3;default:point$4(this,x,y);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a;this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a;this._x0=this._x1,this._x1=this._x2,this._x2=x;this._y0=this._y1,this._y1=this._y2,this._y2=y}};var curveCatmullRom=function custom(alpha){function catmullRom(context){return alpha?new CatmullRom(context,alpha):new Cardinal(context,0)}catmullRom.alpha=function(alpha){return custom(+alpha)};return catmullRom}(.5);function CatmullRomClosed(context,alpha){this._context=context;this._alpha=alpha}CatmullRomClosed.prototype={areaStart:noop$3,areaEnd:noop$3,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3);this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3);this._context.closePath();break}case 3:{this.point(this._x3,this._y3);this.point(this._x4,this._y4);this.point(this._x5,this._y5);break}}},point:function(x,y){x=+x,y=+y;if(this._point){var x23=this._x2-x,y23=this._y2-y;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(x23*x23+y23*y23,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=x,this._y3=y;break;case 1:this._point=2;this._context.moveTo(this._x4=x,this._y4=y);break;case 2:this._point=3;this._x5=x,this._y5=y;break;default:point$4(this,x,y);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a;this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a;this._x0=this._x1,this._x1=this._x2,this._x2=x;this._y0=this._y1,this._y1=this._y2,this._y2=y}};var curveCatmullRomClosed=function custom(alpha){function catmullRom(context){return alpha?new CatmullRomClosed(context,alpha):new CardinalClosed(context,0)}catmullRom.alpha=function(alpha){return custom(+alpha)};return catmullRom}(.5);function CatmullRomOpen(context,alpha){this._context=context;this._alpha=alpha}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){if(this._line||this._line!==0&&this._point===3)this._context.closePath();this._line=1-this._line},point:function(x,y){x=+x,y=+y;if(this._point){var x23=this._x2-x,y23=this._y2-y;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(x23*x23+y23*y23,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$4(this,x,y);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a;this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a;this._x0=this._x1,this._x1=this._x2,this._x2=x;this._y0=this._y1,this._y1=this._y2,this._y2=y}};var curveCatmullRomOpen=function custom(alpha){function catmullRom(context){return alpha?new CatmullRomOpen(context,alpha):new CardinalOpen(context,0)}catmullRom.alpha=function(alpha){return custom(+alpha)};return catmullRom}(.5);function LinearClosed(context){this._context=context}LinearClosed.prototype={areaStart:noop$3,areaEnd:noop$3,lineStart:function(){this._point=0},lineEnd:function(){if(this._point)this._context.closePath()},point:function(x,y){x=+x,y=+y;if(this._point)this._context.lineTo(x,y);else this._point=1,this._context.moveTo(x,y)}};function curveLinearClosed(context){return new LinearClosed(context)}function sign$1(x){return x<0?-1:1}function slope3(that,x2,y2){var h0=that._x1-that._x0,h1=x2-that._x1,s0=(that._y1-that._y0)/(h0||h1<0&&-0),s1=(y2-that._y1)/(h1||h0<0&&-0),p=(s0*h1+s1*h0)/(h0+h1);return(sign$1(s0)+sign$1(s1))*Math.min(Math.abs(s0),Math.abs(s1),.5*Math.abs(p))||0}function slope2(that,t){var h=that._x1-that._x0;return h?(3*(that._y1-that._y0)/h-t)/2:t}function point$3(that,t0,t1){var x0=that._x0,y0=that._y0,x1=that._x1,y1=that._y1,dx=(x1-x0)/3;that._context.bezierCurveTo(x0+dx,y0+dx*t0,x1-dx,y1-dx*t1,x1,y1)}function MonotoneX(context){this._context=context}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$3(this,this._t0,slope2(this,this._t0));break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(x,y){var t1=NaN;x=+x,y=+y;if(x===this._x1&&y===this._y1)return;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2;break;case 2:this._point=3;point$3(this,slope2(this,t1=slope3(this,x,y)),t1);break;default:point$3(this,this._t0,t1=slope3(this,x,y));break}this._x0=this._x1,this._x1=x;this._y0=this._y1,this._y1=y;this._t0=t1}};function MonotoneY(context){this._context=new ReflectContext(context)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(x,y){MonotoneX.prototype.point.call(this,y,x)};function ReflectContext(context){this._context=context}ReflectContext.prototype={moveTo:function(x,y){this._context.moveTo(y,x)},closePath:function(){this._context.closePath()},lineTo:function(x,y){this._context.lineTo(y,x)},bezierCurveTo:function(x1,y1,x2,y2,x,y){this._context.bezierCurveTo(y1,x1,y2,x2,y,x)}};function monotoneX(context){return new MonotoneX(context)}function monotoneY(context){return new MonotoneY(context)}function Natural(context){this._context=context}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var x=this._x,y=this._y,n=x.length;if(n){this._line?this._context.lineTo(x[0],y[0]):this._context.moveTo(x[0],y[0]);if(n===2){this._context.lineTo(x[1],y[1])}else{var px=controlPoints(x),py=controlPoints(y);for(var i0=0,i1=1;i1<n;++i0,++i1){this._context.bezierCurveTo(px[0][i0],py[0][i0],px[1][i0],py[1][i0],x[i1],y[i1])}}}if(this._line||this._line!==0&&n===1)this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(x,y){this._x.push(+x);this._y.push(+y)}};function controlPoints(x){var i,n=x.length-1,m,a=new Array(n),b=new Array(n),r=new Array(n);a[0]=0,b[0]=2,r[0]=x[0]+2*x[1];for(i=1;i<n-1;++i)a[i]=1,b[i]=4,r[i]=4*x[i]+2*x[i+1];a[n-1]=2,b[n-1]=7,r[n-1]=8*x[n-1]+x[n];for(i=1;i<n;++i)m=a[i]/b[i-1],b[i]-=m,r[i]-=m*r[i-1];a[n-1]=r[n-1]/b[n-1];for(i=n-2;i>=0;--i)a[i]=(r[i]-a[i+1])/b[i];b[n-1]=(x[n]+a[n-1])/2;for(i=0;i<n-1;++i)b[i]=2*x[i+1]-a[i+1];return[a,b]}function curveNatural(context){return new Natural(context)}function Step(context,t){this._context=context;this._t=t}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){if(0<this._t&&this._t<1&&this._point===2)this._context.lineTo(this._x,this._y);if(this._line||this._line!==0&&this._point===1)this._context.closePath();if(this._line>=0)this._t=1-this._t,this._line=1-this._line},point:function(x,y){x=+x,y=+y;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2;default:{if(this._t<=0){this._context.lineTo(this._x,y);this._context.lineTo(x,y)}else{var x1=this._x*(1-this._t)+x*this._t;this._context.lineTo(x1,this._y);this._context.lineTo(x1,y)}break}}this._x=x,this._y=y}};function curveStep(context){return new Step(context,.5)}function stepBefore(context){return new Step(context,0)}function stepAfter(context){return new Step(context,1)}function domCanvas(w,h){if(typeof document!=="undefined"&&document.createElement){const c=document.createElement("canvas");if(c&&c.getContext){c.width=w;c.height=h;return c}}return null}const domImage=()=>typeof Image!=="undefined"?Image:null;function initRange(domain,range){switch(arguments.length){case 0:break;case 1:this.range(domain);break;default:this.range(range).domain(domain);break}return this}function initInterpolator(domain,interpolator){switch(arguments.length){case 0:break;case 1:{if(typeof domain==="function")this.interpolator(domain);else this.range(domain);break}default:{this.domain(domain);if(typeof interpolator==="function")this.interpolator(interpolator);else this.range(interpolator);break}}return this}const implicit=Symbol("implicit");function ordinal(){var index=new InternMap,domain=[],range=[],unknown=implicit;function scale(d){let i=index.get(d);if(i===undefined){if(unknown!==implicit)return unknown;index.set(d,i=domain.push(d)-1)}return range[i%range.length]}scale.domain=function(_){if(!arguments.length)return domain.slice();domain=[],index=new InternMap;for(const value of _){if(index.has(value))continue;index.set(value,domain.push(value)-1)}return scale};scale.range=function(_){return arguments.length?(range=Array.from(_),scale):range.slice()};scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown};scale.copy=function(){return ordinal(domain,range).unknown(unknown)};initRange.apply(scale,arguments);return scale}function define(constructor,factory,prototype){constructor.prototype=factory.prototype=prototype;prototype.constructor=constructor}function extend(parent,definition){var prototype=Object.create(parent.prototype);for(var key in definition)prototype[key]=definition[key];return prototype}function Color(){}var darker=.7;var brighter=1/darker;var reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`);var named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color$2,{copy(channels){return Object.assign(new this.constructor,this,channels)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color$2(format){var m,l;format=(format+"").trim().toLowerCase();return(m=reHex.exec(format))?(l=m[1].length,m=parseInt(m[1],16),l===6?rgbn(m):l===3?new Rgb(m>>8&15|m>>4&240,m>>4&15|m&240,(m&15)<<4|m&15,1):l===8?rgba(m>>24&255,m>>16&255,m>>8&255,(m&255)/255):l===4?rgba(m>>12&15|m>>8&240,m>>8&15|m>>4&240,m>>4&15|m&240,((m&15)<<4|m&15)/255):null):(m=reRgbInteger.exec(format))?new Rgb(m[1],m[2],m[3],1):(m=reRgbPercent.exec(format))?new Rgb(m[1]*255/100,m[2]*255/100,m[3]*255/100,1):(m=reRgbaInteger.exec(format))?rgba(m[1],m[2],m[3],m[4]):(m=reRgbaPercent.exec(format))?rgba(m[1]*255/100,m[2]*255/100,m[3]*255/100,m[4]):(m=reHslPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,1):(m=reHslaPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,m[4]):named.hasOwnProperty(format)?rgbn(named[format]):format==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(n){return new Rgb(n>>16&255,n>>8&255,n&255,1)}function rgba(r,g,b,a){if(a<=0)r=g=b=NaN;return new Rgb(r,g,b,a)}function rgbConvert(o){if(!(o instanceof Color))o=color$2(o);if(!o)return new Rgb;o=o.rgb();return new Rgb(o.r,o.g,o.b,o.opacity)}function rgb$1(r,g,b,opacity){return arguments.length===1?rgbConvert(r):new Rgb(r,g,b,opacity==null?1:opacity)}function Rgb(r,g,b,opacity){this.r=+r;this.g=+g;this.b=+b;this.opacity=+opacity}define(Rgb,rgb$1,extend(Color,{brighter(k){k=k==null?brighter:Math.pow(brighter,k);return new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},darker(k){k=k==null?darker:Math.pow(darker,k);return new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const a=clampa(this.opacity);return`${a===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a===1?")":`, ${a})`}`}function clampa(opacity){return isNaN(opacity)?1:Math.max(0,Math.min(1,opacity))}function clampi(value){return Math.max(0,Math.min(255,Math.round(value)||0))}function hex(value){value=clampi(value);return(value<16?"0":"")+value.toString(16)}function hsla(h,s,l,a){if(a<=0)h=s=l=NaN;else if(l<=0||l>=1)h=s=NaN;else if(s<=0)h=NaN;return new Hsl(h,s,l,a)}function hslConvert(o){if(o instanceof Hsl)return new Hsl(o.h,o.s,o.l,o.opacity);if(!(o instanceof Color))o=color$2(o);if(!o)return new Hsl;if(o instanceof Hsl)return o;o=o.rgb();var r=o.r/255,g=o.g/255,b=o.b/255,min=Math.min(r,g,b),max=Math.max(r,g,b),h=NaN,s=max-min,l=(max+min)/2;if(s){if(r===max)h=(g-b)/s+(g<b)*6;else if(g===max)h=(b-r)/s+2;else h=(r-g)/s+4;s/=l<.5?max+min:2-max-min;h*=60}else{s=l>0&&l<1?0:h}return new Hsl(h,s,l,o.opacity)}function hsl$2(h,s,l,opacity){return arguments.length===1?hslConvert(h):new Hsl(h,s,l,opacity==null?1:opacity)}function Hsl(h,s,l,opacity){this.h=+h;this.s=+s;this.l=+l;this.opacity=+opacity}define(Hsl,hsl$2,extend(Color,{brighter(k){k=k==null?brighter:Math.pow(brighter,k);return new Hsl(this.h,this.s,this.l*k,this.opacity)},darker(k){k=k==null?darker:Math.pow(darker,k);return new Hsl(this.h,this.s,this.l*k,this.opacity)},rgb(){var h=this.h%360+(this.h<0)*360,s=isNaN(h)||isNaN(this.s)?0:this.s,l=this.l,m2=l+(l<.5?l:1-l)*s,m1=2*l-m2;return new Rgb(hsl2rgb(h>=240?h-240:h+120,m1,m2),hsl2rgb(h,m1,m2),hsl2rgb(h<120?h+240:h-120,m1,m2),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const a=clampa(this.opacity);return`${a===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${a===1?")":`, ${a})`}`}}));function clamph(value){value=(value||0)%360;return value<0?value+360:value}function clampt(value){return Math.max(0,Math.min(1,value||0))}function hsl2rgb(h,m1,m2){return(h<60?m1+(m2-m1)*h/60:h<180?m2:h<240?m1+(m2-m1)*(240-h)/60:m1)*255}const radians$1=Math.PI/180;const degrees$2=180/Math.PI;const K=18,Xn=.96422,Yn=1,Zn=.82521,t0=4/29,t1=6/29,t2=3*t1*t1,t3=t1*t1*t1;function labConvert(o){if(o instanceof Lab)return new Lab(o.l,o.a,o.b,o.opacity);if(o instanceof Hcl)return hcl2lab(o);if(!(o instanceof Rgb))o=rgbConvert(o);var r=rgb2lrgb(o.r),g=rgb2lrgb(o.g),b=rgb2lrgb(o.b),y=xyz2lab((.2225045*r+.7168786*g+.0606169*b)/Yn),x,z;if(r===g&&g===b)x=z=y;else{x=xyz2lab((.4360747*r+.3850649*g+.1430804*b)/Xn);z=xyz2lab((.0139322*r+.0971045*g+.7141733*b)/Zn)}return new Lab(116*y-16,500*(x-y),200*(y-z),o.opacity)}function lab$1(l,a,b,opacity){return arguments.length===1?labConvert(l):new Lab(l,a,b,opacity==null?1:opacity)}function Lab(l,a,b,opacity){this.l=+l;this.a=+a;this.b=+b;this.opacity=+opacity}define(Lab,lab$1,extend(Color,{brighter(k){return new Lab(this.l+K*(k==null?1:k),this.a,this.b,this.opacity)},darker(k){return new Lab(this.l-K*(k==null?1:k),this.a,this.b,this.opacity)},rgb(){var y=(this.l+16)/116,x=isNaN(this.a)?y:y+this.a/500,z=isNaN(this.b)?y:y-this.b/200;x=Xn*lab2xyz(x);y=Yn*lab2xyz(y);z=Zn*lab2xyz(z);return new Rgb(lrgb2rgb(3.1338561*x-1.6168667*y-.4906146*z),lrgb2rgb(-.9787684*x+1.9161415*y+.033454*z),lrgb2rgb(.0719453*x-.2289914*y+1.4052427*z),this.opacity)}}));function xyz2lab(t){return t>t3?Math.pow(t,1/3):t/t2+t0}function lab2xyz(t){return t>t1?t*t*t:t2*(t-t0)}function lrgb2rgb(x){return 255*(x<=.0031308?12.92*x:1.055*Math.pow(x,1/2.4)-.055)}function rgb2lrgb(x){return(x/=255)<=.04045?x/12.92:Math.pow((x+.055)/1.055,2.4)}function hclConvert(o){if(o instanceof Hcl)return new Hcl(o.h,o.c,o.l,o.opacity);if(!(o instanceof Lab))o=labConvert(o);if(o.a===0&&o.b===0)return new Hcl(NaN,0<o.l&&o.l<100?0:NaN,o.l,o.opacity);var h=Math.atan2(o.b,o.a)*degrees$2;return new Hcl(h<0?h+360:h,Math.sqrt(o.a*o.a+o.b*o.b),o.l,o.opacity)}function hcl$2(h,c,l,opacity){return arguments.length===1?hclConvert(h):new Hcl(h,c,l,opacity==null?1:opacity)}function Hcl(h,c,l,opacity){this.h=+h;this.c=+c;this.l=+l;this.opacity=+opacity}function hcl2lab(o){if(isNaN(o.h))return new Lab(o.l,0,0,o.opacity);var h=o.h*radians$1;return new Lab(o.l,Math.cos(h)*o.c,Math.sin(h)*o.c,o.opacity)}define(Hcl,hcl$2,extend(Color,{brighter(k){return new Hcl(this.h,this.c,this.l+K*(k==null?1:k),this.opacity)},darker(k){return new Hcl(this.h,this.c,this.l-K*(k==null?1:k),this.opacity)},rgb(){return hcl2lab(this).rgb()}}));var A=-.14861,B$1=+1.78277,C$1=-.29227,D$1=-.90649,E=+1.97294,ED=E*D$1,EB=E*B$1,BC_DA=B$1*C$1-D$1*A;function cubehelixConvert(o){if(o instanceof Cubehelix)return new Cubehelix(o.h,o.s,o.l,o.opacity);if(!(o instanceof Rgb))o=rgbConvert(o);var r=o.r/255,g=o.g/255,b=o.b/255,l=(BC_DA*b+ED*r-EB*g)/(BC_DA+ED-EB),bl=b-l,k=(E*(g-l)-C$1*bl)/D$1,s=Math.sqrt(k*k+bl*bl)/(E*l*(1-l)),h=s?Math.atan2(k,bl)*degrees$2-120:NaN;return new Cubehelix(h<0?h+360:h,s,l,o.opacity)}function cubehelix$2(h,s,l,opacity){return arguments.length===1?cubehelixConvert(h):new Cubehelix(h,s,l,opacity==null?1:opacity)}function Cubehelix(h,s,l,opacity){this.h=+h;this.s=+s;this.l=+l;this.opacity=+opacity}define(Cubehelix,cubehelix$2,extend(Color,{brighter(k){k=k==null?brighter:Math.pow(brighter,k);return new Cubehelix(this.h,this.s,this.l*k,this.opacity)},darker(k){k=k==null?darker:Math.pow(darker,k);return new Cubehelix(this.h,this.s,this.l*k,this.opacity)},rgb(){var h=isNaN(this.h)?0:(this.h+120)*radians$1,l=+this.l,a=isNaN(this.s)?0:this.s*l*(1-l),cosh=Math.cos(h),sinh=Math.sin(h);return new Rgb(255*(l+a*(A*cosh+B$1*sinh)),255*(l+a*(C$1*cosh+D$1*sinh)),255*(l+a*(E*cosh)),this.opacity)}}));function basis(t1,v0,v1,v2,v3){var t2=t1*t1,t3=t2*t1;return((1-3*t1+3*t2-t3)*v0+(4-6*t2+3*t3)*v1+(1+3*t1+3*t2-3*t3)*v2+t3*v3)/6}function basis$1(values){var n=values.length-1;return function(t){var i=t<=0?t=0:t>=1?(t=1,n-1):Math.floor(t*n),v1=values[i],v2=values[i+1],v0=i>0?values[i-1]:2*v1-v2,v3=i<n-1?values[i+2]:2*v2-v1;return basis((t-i/n)*n,v0,v1,v2,v3)}}function basisClosed(values){var n=values.length;return function(t){var i=Math.floor(((t%=1)<0?++t:t)*n),v0=values[(i+n-1)%n],v1=values[i%n],v2=values[(i+1)%n],v3=values[(i+2)%n];return basis((t-i/n)*n,v0,v1,v2,v3)}}var constant$2=x=>()=>x;function linear$1(a,d){return function(t){return a+t*d}}function exponential(a,b,y){return a=Math.pow(a,y),b=Math.pow(b,y)-a,y=1/y,function(t){return Math.pow(a+t*b,y)}}function hue$1(a,b){var d=b-a;return d?linear$1(a,d>180||d<-180?d-360*Math.round(d/360):d):constant$2(isNaN(a)?b:a)}function gamma(y){return(y=+y)===1?nogamma:function(a,b){return b-a?exponential(a,b,y):constant$2(isNaN(a)?b:a)}}function nogamma(a,b){var d=b-a;return d?linear$1(a,d):constant$2(isNaN(a)?b:a)}var rgb=function rgbGamma(y){var color=gamma(y);function rgb(start,end){var r=color((start=rgb$1(start)).r,(end=rgb$1(end)).r),g=color(start.g,end.g),b=color(start.b,end.b),opacity=nogamma(start.opacity,end.opacity);return function(t){start.r=r(t);start.g=g(t);start.b=b(t);start.opacity=opacity(t);return start+""}}rgb.gamma=rgbGamma;return rgb}(1);function rgbSpline(spline){return function(colors){var n=colors.length,r=new Array(n),g=new Array(n),b=new Array(n),i,color;for(i=0;i<n;++i){color=rgb$1(colors[i]);r[i]=color.r||0;g[i]=color.g||0;b[i]=color.b||0}r=spline(r);g=spline(g);b=spline(b);color.opacity=1;return function(t){color.r=r(t);color.g=g(t);color.b=b(t);return color+""}}}var rgbBasis=rgbSpline(basis$1);var rgbBasisClosed=rgbSpline(basisClosed);function numberArray(a,b){if(!b)b=[];var n=a?Math.min(b.length,a.length):0,c=b.slice(),i;return function(t){for(i=0;i<n;++i)c[i]=a[i]*(1-t)+b[i]*t;return c}}function isNumberArray(x){return ArrayBuffer.isView(x)&&!(x instanceof DataView)}function array$3(a,b){return(isNumberArray(b)?numberArray:genericArray)(a,b)}function genericArray(a,b){var nb=b?b.length:0,na=a?Math.min(nb,a.length):0,x=new Array(na),c=new Array(nb),i;for(i=0;i<na;++i)x[i]=interpolate$1$1(a[i],b[i]);for(;i<nb;++i)c[i]=b[i];return function(t){for(i=0;i<na;++i)c[i]=x[i](t);return c}}function date$1(a,b){var d=new Date;return a=+a,b=+b,function(t){return d.setTime(a*(1-t)+b*t),d}}function interpolateNumber(a,b){return a=+a,b=+b,function(t){return a*(1-t)+b*t}}function object(a,b){var i={},c={},k;if(a===null||typeof a!=="object")a={};if(b===null||typeof b!=="object")b={};for(k in b){if(k in a){i[k]=interpolate$1$1(a[k],b[k])}else{c[k]=b[k]}}return function(t){for(k in i)c[k]=i[k](t);return c}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero$1(b){return function(){return b}}function one$1(b){return function(t){return b(t)+""}}function string(a,b){var bi=reA.lastIndex=reB.lastIndex=0,am,bm,bs,i=-1,s=[],q=[];a=a+"",b=b+"";while((am=reA.exec(a))&&(bm=reB.exec(b))){if((bs=bm.index)>bi){bs=b.slice(bi,bs);if(s[i])s[i]+=bs;else s[++i]=bs}if((am=am[0])===(bm=bm[0])){if(s[i])s[i]+=bm;else s[++i]=bm}else{s[++i]=null;q.push({i:i,x:interpolateNumber(am,bm)})}bi=reB.lastIndex}if(bi<b.length){bs=b.slice(bi);if(s[i])s[i]+=bs;else s[++i]=bs}return s.length<2?q[0]?one$1(q[0].x):zero$1(b):(b=q.length,function(t){for(var i=0,o;i<b;++i)s[(o=q[i]).i]=o.x(t);return s.join("")})}function interpolate$1$1(a,b){var t=typeof b,c;return b==null||t==="boolean"?constant$2(b):(t==="number"?interpolateNumber:t==="string"?(c=color$2(b))?(b=c,rgb):string:b instanceof color$2?rgb:b instanceof Date?date$1:isNumberArray(b)?numberArray:Array.isArray(b)?genericArray:typeof b.valueOf!=="function"&&typeof b.toString!=="function"||isNaN(b)?object:interpolateNumber)(a,b)}function discrete$2(range){var n=range.length;return function(t){return range[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}}function hue(a,b){var i=hue$1(+a,+b);return function(t){var x=i(t);return x-360*Math.floor(x/360)}}function interpolateRound(a,b){return a=+a,b=+b,function(t){return Math.round(a*(1-t)+b*t)}}var degrees$1=180/Math.PI;var identity$3={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(a,b,c,d,e,f){var scaleX,scaleY,skewX;if(scaleX=Math.sqrt(a*a+b*b))a/=scaleX,b/=scaleX;if(skewX=a*c+b*d)c-=a*skewX,d-=b*skewX;if(scaleY=Math.sqrt(c*c+d*d))c/=scaleY,d/=scaleY,skewX/=scaleY;if(a*d<b*c)a=-a,b=-b,skewX=-skewX,scaleX=-scaleX;return{translateX:e,translateY:f,rotate:Math.atan2(b,a)*degrees$1,skewX:Math.atan(skewX)*degrees$1,scaleX:scaleX,scaleY:scaleY}}var svgNode;function parseCss(value){const m=new(typeof DOMMatrix==="function"?DOMMatrix:WebKitCSSMatrix)(value+"");return m.isIdentity?identity$3:decompose(m.a,m.b,m.c,m.d,m.e,m.f)}function parseSvg(value){if(value==null)return identity$3;if(!svgNode)svgNode=document.createElementNS("http://www.w3.org/2000/svg","g");svgNode.setAttribute("transform",value);if(!(value=svgNode.transform.baseVal.consolidate()))return identity$3;value=value.matrix;return decompose(value.a,value.b,value.c,value.d,value.e,value.f)}function interpolateTransform(parse,pxComma,pxParen,degParen){function pop(s){return s.length?s.pop()+" ":""}function translate(xa,ya,xb,yb,s,q){if(xa!==xb||ya!==yb){var i=s.push("translate(",null,pxComma,null,pxParen);q.push({i:i-4,x:interpolateNumber(xa,xb)},{i:i-2,x:interpolateNumber(ya,yb)})}else if(xb||yb){s.push("translate("+xb+pxComma+yb+pxParen)}}function rotate(a,b,s,q){if(a!==b){if(a-b>180)b+=360;else if(b-a>180)a+=360;q.push({i:s.push(pop(s)+"rotate(",null,degParen)-2,x:interpolateNumber(a,b)})}else if(b){s.push(pop(s)+"rotate("+b+degParen)}}function skewX(a,b,s,q){if(a!==b){q.push({i:s.push(pop(s)+"skewX(",null,degParen)-2,x:interpolateNumber(a,b)})}else if(b){s.push(pop(s)+"skewX("+b+degParen)}}function scale(xa,ya,xb,yb,s,q){if(xa!==xb||ya!==yb){var i=s.push(pop(s)+"scale(",null,",",null,")");q.push({i:i-4,x:interpolateNumber(xa,xb)},{i:i-2,x:interpolateNumber(ya,yb)})}else if(xb!==1||yb!==1){s.push(pop(s)+"scale("+xb+","+yb+")")}}return function(a,b){var s=[],q=[];a=parse(a),b=parse(b);translate(a.translateX,a.translateY,b.translateX,b.translateY,s,q);rotate(a.rotate,b.rotate,s,q);skewX(a.skewX,b.skewX,s,q);scale(a.scaleX,a.scaleY,b.scaleX,b.scaleY,s,q);a=b=null;return function(t){var i=-1,n=q.length,o;while(++i<n)s[(o=q[i]).i]=o.x(t);return s.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)");var interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")");var epsilon2$1=1e-12;function cosh(x){return((x=Math.exp(x))+1/x)/2}function sinh(x){return((x=Math.exp(x))-1/x)/2}function tanh(x){return((x=Math.exp(2*x))-1)/(x+1)}var zoom=function zoomRho(rho,rho2,rho4){function zoom(p0,p1){var ux0=p0[0],uy0=p0[1],w0=p0[2],ux1=p1[0],uy1=p1[1],w1=p1[2],dx=ux1-ux0,dy=uy1-uy0,d2=dx*dx+dy*dy,i,S;if(d2<epsilon2$1){S=Math.log(w1/w0)/rho;i=function(t){return[ux0+t*dx,uy0+t*dy,w0*Math.exp(rho*t*S)]}}else{var d1=Math.sqrt(d2),b0=(w1*w1-w0*w0+rho4*d2)/(2*w0*rho2*d1),b1=(w1*w1-w0*w0-rho4*d2)/(2*w1*rho2*d1),r0=Math.log(Math.sqrt(b0*b0+1)-b0),r1=Math.log(Math.sqrt(b1*b1+1)-b1);S=(r1-r0)/rho;i=function(t){var s=t*S,coshr0=cosh(r0),u=w0/(rho2*d1)*(coshr0*tanh(rho*s+r0)-sinh(r0));return[ux0+u*dx,uy0+u*dy,w0*coshr0/cosh(rho*s+r0)]}}i.duration=S*1e3*rho/Math.SQRT2;return i}zoom.rho=function(_){var _1=Math.max(.001,+_),_2=_1*_1,_4=_2*_2;return zoomRho(_1,_2,_4)};return zoom}(Math.SQRT2,2,4);function hsl(hue){return function(start,end){var h=hue((start=hsl$2(start)).h,(end=hsl$2(end)).h),s=nogamma(start.s,end.s),l=nogamma(start.l,end.l),opacity=nogamma(start.opacity,end.opacity);return function(t){start.h=h(t);start.s=s(t);start.l=l(t);start.opacity=opacity(t);return start+""}}}var hsl$1=hsl(hue$1);var hslLong=hsl(nogamma);function lab(start,end){var l=nogamma((start=lab$1(start)).l,(end=lab$1(end)).l),a=nogamma(start.a,end.a),b=nogamma(start.b,end.b),opacity=nogamma(start.opacity,end.opacity);return function(t){start.l=l(t);start.a=a(t);start.b=b(t);start.opacity=opacity(t);return start+""}}function hcl(hue){return function(start,end){var h=hue((start=hcl$2(start)).h,(end=hcl$2(end)).h),c=nogamma(start.c,end.c),l=nogamma(start.l,end.l),opacity=nogamma(start.opacity,end.opacity);return function(t){start.h=h(t);start.c=c(t);start.l=l(t);start.opacity=opacity(t);return start+""}}}var hcl$1=hcl(hue$1);var hclLong=hcl(nogamma);function cubehelix(hue){return function cubehelixGamma(y){y=+y;function cubehelix(start,end){var h=hue((start=cubehelix$2(start)).h,(end=cubehelix$2(end)).h),s=nogamma(start.s,end.s),l=nogamma(start.l,end.l),opacity=nogamma(start.opacity,end.opacity);return function(t){start.h=h(t);start.s=s(t);start.l=l(Math.pow(t,y));start.opacity=opacity(t);return start+""}}cubehelix.gamma=cubehelixGamma;return cubehelix}(1)}var cubehelix$1=cubehelix(hue$1);var cubehelixLong=cubehelix(nogamma);function piecewise(interpolate,values){if(values===undefined)values=interpolate,interpolate=interpolate$1$1;var i=0,n=values.length-1,v=values[0],I=new Array(n<0?0:n);while(i<n)I[i]=interpolate(v,v=values[++i]);return function(t){var i=Math.max(0,Math.min(n-1,Math.floor(t*=n)));return I[i](t-i)}}function quantize$2(interpolator,n){var samples=new Array(n);for(var i=0;i<n;++i)samples[i]=interpolator(i/(n-1));return samples}var $$1=Object.freeze({__proto__:null,interpolate:interpolate$1$1,interpolateArray:array$3,interpolateBasis:basis$1,interpolateBasisClosed:basisClosed,interpolateCubehelix:cubehelix$1,interpolateCubehelixLong:cubehelixLong,interpolateDate:date$1,interpolateDiscrete:discrete$2,interpolateHcl:hcl$1,interpolateHclLong:hclLong,interpolateHsl:hsl$1,interpolateHslLong:hslLong,interpolateHue:hue,interpolateLab:lab,interpolateNumber:interpolateNumber,interpolateNumberArray:numberArray,interpolateObject:object,interpolateRgb:rgb,interpolateRgbBasis:rgbBasis,interpolateRgbBasisClosed:rgbBasisClosed,interpolateRound:interpolateRound,interpolateString:string,interpolateTransformCss:interpolateTransformCss,interpolateTransformSvg:interpolateTransformSvg,interpolateZoom:zoom,piecewise:piecewise,quantize:quantize$2});function constants(x){return function(){return x}}function number$5(x){return+x}var unit=[0,1];function identity$2(x){return x}function normalize$1(a,b){return(b-=a=+a)?function(x){return(x-a)/b}:constants(isNaN(b)?NaN:.5)}function clamper(a,b){var t;if(a>b)t=a,a=b,b=t;return function(x){return Math.max(a,Math.min(b,x))}}function bimap(domain,range,interpolate){var d0=domain[0],d1=domain[1],r0=range[0],r1=range[1];if(d1<d0)d0=normalize$1(d1,d0),r0=interpolate(r1,r0);else d0=normalize$1(d0,d1),r0=interpolate(r0,r1);return function(x){return r0(d0(x))}}function polymap(domain,range,interpolate){var j=Math.min(domain.length,range.length)-1,d=new Array(j),r=new Array(j),i=-1;if(domain[j]<domain[0]){domain=domain.slice().reverse();range=range.slice().reverse()}while(++i<j){d[i]=normalize$1(domain[i],domain[i+1]);r[i]=interpolate(range[i],range[i+1])}return function(x){var i=bisect$1(domain,x,1,j)-1;return r[i](d[i](x))}}function copy$2(source,target){return target.domain(source.domain()).range(source.range()).interpolate(source.interpolate()).clamp(source.clamp()).unknown(source.unknown())}function transformer$3(){var domain=unit,range=unit,interpolate=interpolate$1$1,transform,untransform,unknown,clamp=identity$2,piecewise,output,input;function rescale(){var n=Math.min(domain.length,range.length);if(clamp!==identity$2)clamp=clamper(domain[0],domain[n-1]);piecewise=n>2?polymap:bimap;output=input=null;return scale}function scale(x){return x==null||isNaN(x=+x)?unknown:(output||(output=piecewise(domain.map(transform),range,interpolate)))(transform(clamp(x)))}scale.invert=function(y){return clamp(untransform((input||(input=piecewise(range,domain.map(transform),interpolateNumber)))(y)))};scale.domain=function(_){return arguments.length?(domain=Array.from(_,number$5),rescale()):domain.slice()};scale.range=function(_){return arguments.length?(range=Array.from(_),rescale()):range.slice()};scale.rangeRound=function(_){return range=Array.from(_),interpolate=interpolateRound,rescale()};scale.clamp=function(_){return arguments.length?(clamp=_?true:identity$2,rescale()):clamp!==identity$2};scale.interpolate=function(_){return arguments.length?(interpolate=_,rescale()):interpolate};scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown};return function(t,u){transform=t,untransform=u;return rescale()}}function continuous$2(){return transformer$3()(identity$2,identity$2)}function tickFormat$1(start,stop,count,specifier){var step=tickStep(start,stop,count),precision;specifier=formatSpecifier(specifier==null?",f":specifier);switch(specifier.type){case"s":{var value=Math.max(Math.abs(start),Math.abs(stop));if(specifier.precision==null&&!isNaN(precision=precisionPrefix(step,value)))specifier.precision=precision;return formatPrefix(specifier,value)}case"":case"e":case"g":case"p":case"r":{if(specifier.precision==null&&!isNaN(precision=precisionRound(step,Math.max(Math.abs(start),Math.abs(stop)))))specifier.precision=precision-(specifier.type==="e");break}case"f":case"%":{if(specifier.precision==null&&!isNaN(precision=precisionFixed(step)))specifier.precision=precision-(specifier.type==="%")*2;break}}return format$3(specifier)}function linearish(scale){var domain=scale.domain;scale.ticks=function(count){var d=domain();return ticks(d[0],d[d.length-1],count==null?10:count)};scale.tickFormat=function(count,specifier){var d=domain();return tickFormat$1(d[0],d[d.length-1],count==null?10:count,specifier)};scale.nice=function(count){if(count==null)count=10;var d=domain();var i0=0;var i1=d.length-1;var start=d[i0];var stop=d[i1];var prestep;var step;var maxIter=10;if(stop<start){step=start,start=stop,stop=step;step=i0,i0=i1,i1=step}while(maxIter-- >0){step=tickIncrement(start,stop,count);if(step===prestep){d[i0]=start;d[i1]=stop;return domain(d)}else if(step>0){start=Math.floor(start/step)*step;stop=Math.ceil(stop/step)*step}else if(step<0){start=Math.ceil(start*step)/step;stop=Math.floor(stop*step)/step}else{break}prestep=step}return scale};return scale}function linear(){var scale=continuous$2();scale.copy=function(){return copy$2(scale,linear())};initRange.apply(scale,arguments);return linearish(scale)}function identity$1(domain){var unknown;function scale(x){return x==null||isNaN(x=+x)?unknown:x}scale.invert=scale;scale.domain=scale.range=function(_){return arguments.length?(domain=Array.from(_,number$5),scale):domain.slice()};scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown};scale.copy=function(){return identity$1(domain).unknown(unknown)};domain=arguments.length?Array.from(domain,number$5):[0,1];return linearish(scale)}function nice(domain,interval){domain=domain.slice();var i0=0,i1=domain.length-1,x0=domain[i0],x1=domain[i1],t;if(x1<x0){t=i0,i0=i1,i1=t;t=x0,x0=x1,x1=t}domain[i0]=interval.floor(x0);domain[i1]=interval.ceil(x1);return domain}function transformLog(x){return Math.log(x)}function transformExp(x){return Math.exp(x)}function transformLogn(x){return-Math.log(-x)}function transformExpn(x){return-Math.exp(-x)}function pow10(x){return isFinite(x)?+("1e"+x):x<0?0:x}function powp(base){return base===10?pow10:base===Math.E?Math.exp:x=>Math.pow(base,x)}function logp(base){return base===Math.E?Math.log:base===10&&Math.log10||base===2&&Math.log2||(base=Math.log(base),x=>Math.log(x)/base)}function reflect(f){return(x,k)=>-f(-x,k)}function loggish(transform){const scale=transform(transformLog,transformExp);const domain=scale.domain;let base=10;let logs;let pows;function rescale(){logs=logp(base),pows=powp(base);if(domain()[0]<0){logs=reflect(logs),pows=reflect(pows);transform(transformLogn,transformExpn)}else{transform(transformLog,transformExp)}return scale}scale.base=function(_){return arguments.length?(base=+_,rescale()):base};scale.domain=function(_){return arguments.length?(domain(_),rescale()):domain()};scale.ticks=count=>{const d=domain();let u=d[0];let v=d[d.length-1];const r=v<u;if(r)[u,v]=[v,u];let i=logs(u);let j=logs(v);let k;let t;const n=count==null?10:+count;let z=[];if(!(base%1)&&j-i<n){i=Math.floor(i),j=Math.ceil(j);if(u>0)for(;i<=j;++i){for(k=1;k<base;++k){t=i<0?k/pows(-i):k*pows(i);if(t<u)continue;if(t>v)break;z.push(t)}}else for(;i<=j;++i){for(k=base-1;k>=1;--k){t=i>0?k/pows(-i):k*pows(i);if(t<u)continue;if(t>v)break;z.push(t)}}if(z.length*2<n)z=ticks(u,v,n)}else{z=ticks(i,j,Math.min(j-i,n)).map(pows)}return r?z.reverse():z};scale.tickFormat=(count,specifier)=>{if(count==null)count=10;if(specifier==null)specifier=base===10?"s":",";if(typeof specifier!=="function"){if(!(base%1)&&(specifier=formatSpecifier(specifier)).precision==null)specifier.trim=true;specifier=format$3(specifier)}if(count===Infinity)return specifier;const k=Math.max(1,base*count/scale.ticks().length);return d=>{let i=d/pows(Math.round(logs(d)));if(i*base<base-.5)i*=base;return i<=k?specifier(d):""}};scale.nice=()=>domain(nice(domain(),{floor:x=>pows(Math.floor(logs(x))),ceil:x=>pows(Math.ceil(logs(x)))}));return scale}function log$2(){const scale=loggish(transformer$3()).domain([1,10]);scale.copy=()=>copy$2(scale,log$2()).base(scale.base());initRange.apply(scale,arguments);return scale}function transformSymlog(c){return function(x){return Math.sign(x)*Math.log1p(Math.abs(x/c))}}function transformSymexp(c){return function(x){return Math.sign(x)*Math.expm1(Math.abs(x))*c}}function symlogish(transform){var c=1,scale=transform(transformSymlog(c),transformSymexp(c));scale.constant=function(_){return arguments.length?transform(transformSymlog(c=+_),transformSymexp(c)):c};return linearish(scale)}function symlog(){var scale=symlogish(transformer$3());scale.copy=function(){return copy$2(scale,symlog()).constant(scale.constant())};return initRange.apply(scale,arguments)}function transformPow(exponent){return function(x){return x<0?-Math.pow(-x,exponent):Math.pow(x,exponent)}}function transformSqrt(x){return x<0?-Math.sqrt(-x):Math.sqrt(x)}function transformSquare(x){return x<0?-x*x:x*x}function powish(transform){var scale=transform(identity$2,identity$2),exponent=1;function rescale(){return exponent===1?transform(identity$2,identity$2):exponent===.5?transform(transformSqrt,transformSquare):transform(transformPow(exponent),transformPow(1/exponent))}scale.exponent=function(_){return arguments.length?(exponent=+_,rescale()):exponent};return linearish(scale)}function pow$2(){var scale=powish(transformer$3());scale.copy=function(){return copy$2(scale,pow$2()).exponent(scale.exponent())};initRange.apply(scale,arguments);return scale}function sqrt$2(){return pow$2.apply(null,arguments).exponent(.5)}function quantile(){var domain=[],range=[],thresholds=[],unknown;function rescale(){var i=0,n=Math.max(1,range.length);thresholds=new Array(n-1);while(++i<n)thresholds[i-1]=quantileSorted(domain,i/n);return scale}function scale(x){return x==null||isNaN(x=+x)?unknown:range[bisect$1(thresholds,x)]}scale.invertExtent=function(y){var i=range.indexOf(y);return i<0?[NaN,NaN]:[i>0?thresholds[i-1]:domain[0],i<thresholds.length?thresholds[i]:domain[domain.length-1]]};scale.domain=function(_){if(!arguments.length)return domain.slice();domain=[];for(let d of _)if(d!=null&&!isNaN(d=+d))domain.push(d);domain.sort(ascending$1);return rescale()};scale.range=function(_){return arguments.length?(range=Array.from(_),rescale()):range.slice()};scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown};scale.quantiles=function(){return thresholds.slice()};scale.copy=function(){return quantile().domain(domain).range(range).unknown(unknown)};return initRange.apply(scale,arguments)}function quantize$1(){var x0=0,x1=1,n=1,domain=[.5],range=[0,1],unknown;function scale(x){return x!=null&&x<=x?range[bisect$1(domain,x,0,n)]:unknown}function rescale(){var i=-1;domain=new Array(n);while(++i<n)domain[i]=((i+1)*x1-(i-n)*x0)/(n+1);return scale}scale.domain=function(_){return arguments.length?([x0,x1]=_,x0=+x0,x1=+x1,rescale()):[x0,x1]};scale.range=function(_){return arguments.length?(n=(range=Array.from(_)).length-1,rescale()):range.slice()};scale.invertExtent=function(y){var i=range.indexOf(y);return i<0?[NaN,NaN]:i<1?[x0,domain[0]]:i>=n?[domain[n-1],x1]:[domain[i-1],domain[i]]};scale.unknown=function(_){return arguments.length?(unknown=_,scale):scale};scale.thresholds=function(){return domain.slice()};scale.copy=function(){return quantize$1().domain([x0,x1]).range(range).unknown(unknown)};return initRange.apply(linearish(scale),arguments)}function threshold(){var domain=[.5],range=[0,1],unknown,n=1;function scale(x){return x!=null&&x<=x?range[bisect$1(domain,x,0,n)]:unknown}scale.domain=function(_){return arguments.length?(domain=Array.from(_),n=Math.min(domain.length,range.length-1),scale):domain.slice()};scale.range=function(_){return arguments.length?(range=Array.from(_),n=Math.min(domain.length,range.length-1),scale):range.slice()};scale.invertExtent=function(y){var i=range.indexOf(y);return[domain[i-1],domain[i]]};scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown};scale.copy=function(){return threshold().domain(domain).range(range).unknown(unknown)};return initRange.apply(scale,arguments)}function date(t){return new Date(t)}function number$4(t){return t instanceof Date?+t:+new Date(+t)}function calendar(ticks,tickInterval,year,month,week,day,hour,minute,second,format){var scale=continuous$2(),invert=scale.invert,domain=scale.domain;var formatMillisecond=format(".%L"),formatSecond=format(":%S"),formatMinute=format("%I:%M"),formatHour=format("%I %p"),formatDay=format("%a %d"),formatWeek=format("%b %d"),formatMonth=format("%B"),formatYear=format("%Y");function tickFormat(date){return(second(date)<date?formatMillisecond:minute(date)<date?formatSecond:hour(date)<date?formatMinute:day(date)<date?formatHour:month(date)<date?week(date)<date?formatDay:formatWeek:year(date)<date?formatMonth:formatYear)(date)}scale.invert=function(y){return new Date(invert(y))};scale.domain=function(_){return arguments.length?domain(Array.from(_,number$4)):domain().map(date)};scale.ticks=function(interval){var d=domain();return ticks(d[0],d[d.length-1],interval==null?10:interval)};scale.tickFormat=function(count,specifier){return specifier==null?tickFormat:format(specifier)};scale.nice=function(interval){var d=domain();if(!interval||typeof interval.range!=="function")interval=tickInterval(d[0],d[d.length-1],interval==null?10:interval);return interval?domain(nice(d,interval)):scale};scale.copy=function(){return copy$2(scale,calendar(ticks,tickInterval,year,month,week,day,hour,minute,second,format))};return scale}function time$1(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat$1).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat$1).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$2(){var x0=0,x1=1,t0,t1,k10,transform,interpolator=identity$2,clamp=false,unknown;function scale(x){return x==null||isNaN(x=+x)?unknown:interpolator(k10===0?.5:(x=(transform(x)-t0)*k10,clamp?Math.max(0,Math.min(1,x)):x))}scale.domain=function(_){return arguments.length?([x0,x1]=_,t0=transform(x0=+x0),t1=transform(x1=+x1),k10=t0===t1?0:1/(t1-t0),scale):[x0,x1]};scale.clamp=function(_){return arguments.length?(clamp=!!_,scale):clamp};scale.interpolator=function(_){return arguments.length?(interpolator=_,scale):interpolator};function range(interpolate){return function(_){var r0,r1;return arguments.length?([r0,r1]=_,interpolator=interpolate(r0,r1),scale):[interpolator(0),interpolator(1)]}}scale.range=range(interpolate$1$1);scale.rangeRound=range(interpolateRound);scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown};return function(t){transform=t,t0=t(x0),t1=t(x1),k10=t0===t1?0:1/(t1-t0);return scale}}function copy$1(source,target){return target.domain(source.domain()).interpolator(source.interpolator()).clamp(source.clamp()).unknown(source.unknown())}function sequential(){var scale=linearish(transformer$2()(identity$2));scale.copy=function(){return copy$1(scale,sequential())};return initInterpolator.apply(scale,arguments)}function sequentialLog(){var scale=loggish(transformer$2()).domain([1,10]);scale.copy=function(){return copy$1(scale,sequentialLog()).base(scale.base())};return initInterpolator.apply(scale,arguments)}function sequentialSymlog(){var scale=symlogish(transformer$2());scale.copy=function(){return copy$1(scale,sequentialSymlog()).constant(scale.constant())};return initInterpolator.apply(scale,arguments)}function sequentialPow(){var scale=powish(transformer$2());scale.copy=function(){return copy$1(scale,sequentialPow()).exponent(scale.exponent())};return initInterpolator.apply(scale,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function transformer$1(){var x0=0,x1=.5,x2=1,s=1,t0,t1,t2,k10,k21,interpolator=identity$2,transform,clamp=false,unknown;function scale(x){return isNaN(x=+x)?unknown:(x=.5+((x=+transform(x))-t1)*(s*x<s*t1?k10:k21),interpolator(clamp?Math.max(0,Math.min(1,x)):x))}scale.domain=function(_){return arguments.length?([x0,x1,x2]=_,t0=transform(x0=+x0),t1=transform(x1=+x1),t2=transform(x2=+x2),k10=t0===t1?0:.5/(t1-t0),k21=t1===t2?0:.5/(t2-t1),s=t1<t0?-1:1,scale):[x0,x1,x2]};scale.clamp=function(_){return arguments.length?(clamp=!!_,scale):clamp};scale.interpolator=function(_){return arguments.length?(interpolator=_,scale):interpolator};function range(interpolate){return function(_){var r0,r1,r2;return arguments.length?([r0,r1,r2]=_,interpolator=piecewise(interpolate,[r0,r1,r2]),scale):[interpolator(0),interpolator(.5),interpolator(1)]}}scale.range=range(interpolate$1$1);scale.rangeRound=range(interpolateRound);scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown};return function(t){transform=t,t0=t(x0),t1=t(x1),t2=t(x2),k10=t0===t1?0:.5/(t1-t0),k21=t1===t2?0:.5/(t2-t1),s=t1<t0?-1:1;return scale}}function diverging(){var scale=linearish(transformer$1()(identity$2));scale.copy=function(){return copy$1(scale,diverging())};return initInterpolator.apply(scale,arguments)}function divergingLog(){var scale=loggish(transformer$1()).domain([.1,1,10]);scale.copy=function(){return copy$1(scale,divergingLog()).base(scale.base())};return initInterpolator.apply(scale,arguments)}function divergingSymlog(){var scale=symlogish(transformer$1());scale.copy=function(){return copy$1(scale,divergingSymlog()).constant(scale.constant())};return initInterpolator.apply(scale,arguments)}function divergingPow(){var scale=powish(transformer$1());scale.copy=function(){return copy$1(scale,divergingPow()).exponent(scale.exponent())};return initInterpolator.apply(scale,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}function bandSpace$1(count,paddingInner,paddingOuter){const space=count-paddingInner+paddingOuter*2;return count?space>0?space:1:0}const Identity$1="identity";const Linear$1="linear";const Log$1="log";const Pow$1="pow";const Sqrt$1="sqrt";const Symlog$1="symlog";const Time$1="time";const UTC$1="utc";const Sequential$1="sequential";const Diverging$1="diverging";const Quantile$1="quantile";const Quantize$1="quantize";const Threshold$1="threshold";const Ordinal$1="ordinal";const Point$1="point";const Band$1="band";const BinOrdinal$1="bin-ordinal";const Continuous$1="continuous";const Discrete$2="discrete";const Discretizing$1="discretizing";const Interpolating$1="interpolating";const Temporal$1="temporal";function invertRange$1(scale){return function(_){let lo=_[0],hi=_[1],t;if(hi<lo){t=lo;lo=hi;hi=t}return[scale.invert(lo),scale.invert(hi)]}}function invertRangeExtent$1(scale){return function(_){const range=scale.range();let lo=_[0],hi=_[1],min=-1,max,t,i,n;if(hi<lo){t=lo;lo=hi;hi=t}for(i=0,n=range.length;i<n;++i){if(range[i]>=lo&&range[i]<=hi){if(min<0)min=i;max=i}}if(min<0)return undefined;lo=scale.invertExtent(range[min]);hi=scale.invertExtent(range[max]);return[lo[0]===undefined?lo[1]:lo[0],hi[1]===undefined?hi[0]:hi[1]]}}function band$1(){const scale=ordinal().unknown(undefined),domain=scale.domain,ordinalRange=scale.range;let range$1=[0,1],step,bandwidth,round=false,paddingInner=0,paddingOuter=0,align=.5;delete scale.unknown;function rescale(){const n=domain().length,reverse=range$1[1]<range$1[0],stop=range$1[1-reverse],space=bandSpace$1(n,paddingInner,paddingOuter);let start=range$1[reverse-0];step=(stop-start)/(space||1);if(round){step=Math.floor(step)}start+=(stop-start-step*(n-paddingInner))*align;bandwidth=step*(1-paddingInner);if(round){start=Math.round(start);bandwidth=Math.round(bandwidth)}const values=range$3(n).map(i=>start+step*i);return ordinalRange(reverse?values.reverse():values)}scale.domain=function(_){if(arguments.length){domain(_);return rescale()}else{return domain()}};scale.range=function(_){if(arguments.length){range$1=[+_[0],+_[1]];return rescale()}else{return range$1.slice()}};scale.rangeRound=function(_){range$1=[+_[0],+_[1]];round=true;return rescale()};scale.bandwidth=function(){return bandwidth};scale.step=function(){return step};scale.round=function(_){if(arguments.length){round=!!_;return rescale()}else{return round}};scale.padding=function(_){if(arguments.length){paddingOuter=Math.max(0,Math.min(1,_));paddingInner=paddingOuter;return rescale()}else{return paddingInner}};scale.paddingInner=function(_){if(arguments.length){paddingInner=Math.max(0,Math.min(1,_));return rescale()}else{return paddingInner}};scale.paddingOuter=function(_){if(arguments.length){paddingOuter=Math.max(0,Math.min(1,_));return rescale()}else{return paddingOuter}};scale.align=function(_){if(arguments.length){align=Math.max(0,Math.min(1,_));return rescale()}else{return align}};scale.invertRange=function(_){if(_[0]==null||_[1]==null)return;const reverse=range$1[1]<range$1[0],values=reverse?ordinalRange().reverse():ordinalRange(),n=values.length-1;let lo=+_[0],hi=+_[1],a,b,t;if(lo!==lo||hi!==hi)return;if(hi<lo){t=lo;lo=hi;hi=t}if(hi<values[0]||lo>range$1[1-reverse])return;a=Math.max(0,bisectRight$1(values,lo)-1);b=lo===hi?a:bisectRight$1(values,hi)-1;if(lo-values[a]>bandwidth+1e-10)++a;if(reverse){t=a;a=n-b;b=n-t}return a>b?undefined:domain().slice(a,b+1)};scale.invert=function(_){const value=scale.invertRange([_,_]);return value?value[0]:value};scale.copy=function(){return band$1().domain(domain()).range(range$1).round(round).paddingInner(paddingInner).paddingOuter(paddingOuter).align(align)};return rescale()}function pointish$1(scale){const copy=scale.copy;scale.padding=scale.paddingOuter;delete scale.paddingInner;scale.copy=function(){return pointish$1(copy())};return scale}function point$2(){return pointish$1(band$1().paddingInner(1))}var map$1=Array.prototype.map;function numbers$1(_){return map$1.call(_,toNumber)}const slice$2=Array.prototype.slice;function scaleBinOrdinal$1(){let domain=[],range=[];function scale(x){return x==null||x!==x?undefined:range[(bisect$1(domain,x)-1)%range.length]}scale.domain=function(_){if(arguments.length){domain=numbers$1(_);return scale}else{return domain.slice()}};scale.range=function(_){if(arguments.length){range=slice$2.call(_);return scale}else{return range.slice()}};scale.tickFormat=function(count,specifier){return tickFormat$1(domain[0],peek$1(domain),count==null?10:count,specifier)};scale.copy=function(){return scaleBinOrdinal$1().domain(scale.domain()).range(scale.range())};return scale}const scales$1=new Map;const VEGA_SCALE=Symbol("vega_scale");function registerScale(scale){scale[VEGA_SCALE]=true;return scale}function isRegisteredScale(scale){return scale&&scale[VEGA_SCALE]===true}function create$3(type,constructor,metadata){const ctr=function scale(){const s=constructor();if(!s.invertRange){s.invertRange=s.invert?invertRange$1(s):s.invertExtent?invertRangeExtent$1(s):undefined}s.type=type;return registerScale(s)};ctr.metadata=toSet(array$5(metadata));return ctr}function scale$5(type,scale,metadata){if(arguments.length>1){scales$1.set(type,create$3(type,scale,metadata));return this}else{return isValidScaleType$1(type)?scales$1.get(type):undefined}}scale$5(Identity$1,identity$1);scale$5(Linear$1,linear,Continuous$1);scale$5(Log$1,log$2,[Continuous$1,Log$1]);scale$5(Pow$1,pow$2,Continuous$1);scale$5(Sqrt$1,sqrt$2,Continuous$1);scale$5(Symlog$1,symlog,Continuous$1);scale$5(Time$1,time$1,[Continuous$1,Temporal$1]);scale$5(UTC$1,utcTime,[Continuous$1,Temporal$1]);scale$5(Sequential$1,sequential,[Continuous$1,Interpolating$1]);scale$5(`${Sequential$1}-${Linear$1}`,sequential,[Continuous$1,Interpolating$1]);scale$5(`${Sequential$1}-${Log$1}`,sequentialLog,[Continuous$1,Interpolating$1,Log$1]);scale$5(`${Sequential$1}-${Pow$1}`,sequentialPow,[Continuous$1,Interpolating$1]);scale$5(`${Sequential$1}-${Sqrt$1}`,sequentialSqrt,[Continuous$1,Interpolating$1]);scale$5(`${Sequential$1}-${Symlog$1}`,sequentialSymlog,[Continuous$1,Interpolating$1]);scale$5(`${Diverging$1}-${Linear$1}`,diverging,[Continuous$1,Interpolating$1]);scale$5(`${Diverging$1}-${Log$1}`,divergingLog,[Continuous$1,Interpolating$1,Log$1]);scale$5(`${Diverging$1}-${Pow$1}`,divergingPow,[Continuous$1,Interpolating$1]);scale$5(`${Diverging$1}-${Sqrt$1}`,divergingSqrt,[Continuous$1,Interpolating$1]);scale$5(`${Diverging$1}-${Symlog$1}`,divergingSymlog,[Continuous$1,Interpolating$1]);scale$5(Quantile$1,quantile,[Discretizing$1,Quantile$1]);scale$5(Quantize$1,quantize$1,Discretizing$1);scale$5(Threshold$1,threshold,Discretizing$1);scale$5(BinOrdinal$1,scaleBinOrdinal$1,[Discrete$2,Discretizing$1]);scale$5(Ordinal$1,ordinal,Discrete$2);scale$5(Band$1,band$1,Discrete$2);scale$5(Point$1,point$2,Discrete$2);function isValidScaleType$1(type){return scales$1.has(type)}function hasType(key,type){const s=scales$1.get(key);return s&&s.metadata[type]}function isContinuous(key){return hasType(key,Continuous$1)}function isDiscrete(key){return hasType(key,Discrete$2)}function isDiscretizing(key){return hasType(key,Discretizing$1)}function isLogarithmic(key){return hasType(key,Log$1)}function isTemporal(key){return hasType(key,Temporal$1)}function isInterpolating(key){return hasType(key,Interpolating$1)}function isQuantile(key){return hasType(key,Quantile$1)}const scaleProps=["clamp","base","constant","exponent"];function interpolateRange$1(interpolator,range){const start=range[0],span=peek$1(range)-start;return function(i){return interpolator(start+i*span)}}function interpolateColors$1(colors,type,gamma){return piecewise(interpolate$1(type||"rgb",gamma),colors)}function quantizeInterpolator$1(interpolator,count){const samples=new Array(count),n=count+1;for(let i=0;i<count;)samples[i]=interpolator(++i/n);return samples}function scaleFraction(scale$1,min,max){const delta=max-min;let i,t,s;if(!delta||!Number.isFinite(delta)){return constant$4(.5)}else{i=(t=scale$1.type).indexOf("-");t=i<0?t:t.slice(i+1);s=scale$5(t)().domain([min,max]).range([0,1]);scaleProps.forEach(m=>scale$1[m]?s[m](scale$1[m]()):0);return s}}function interpolate$1(type,gamma){const interp=$$1[method$1(type)];return gamma!=null&&interp&&interp.gamma?interp.gamma(gamma):interp}function method$1(type){return"interpolate"+type.toLowerCase().split("-").map(s=>s[0].toUpperCase()+s.slice(1)).join("")}const continuous$1={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"};const discrete$1={category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"};function colors$1(palette){const n=palette.length/6|0,c=new Array(n);for(let i=0;i<n;){c[i]="#"+palette.slice(i*6,++i*6)}return c}function apply$1(_,f){for(const k in _)scheme$1(k,f(_[k]))}const schemes$1={};apply$1(discrete$1,colors$1);apply$1(continuous$1,_=>interpolateColors$1(colors$1(_)));function scheme$1(name,scheme){name=name&&name.toLowerCase();if(arguments.length>1){schemes$1[name]=scheme;return this}else{return schemes$1[name]}}const SymbolLegend="symbol";const DiscreteLegend="discrete";const GradientLegend="gradient";const defaultFormatter=value=>isArray(value)?value.map(v=>String(v)):String(value);const ascending=(a,b)=>a[1]-b[1];const descending=(a,b)=>b[1]-a[1];function tickCount(scale,count,minStep){let step;if(isNumber$1(count)){if(scale.bins){count=Math.max(count,scale.bins.length)}if(minStep!=null){count=Math.min(count,Math.floor(span(scale.domain())/minStep||1))}}if(isObject(count)){step=count.step;count=count.interval}if(isString(count)){count=scale.type===Time$1?timeInterval(count):scale.type==UTC$1?utcInterval(count):error("Only time and utc scales accept interval strings.");if(step)count=count.every(step)}return count}function validTicks(scale,ticks,count){let range=scale.range(),lo=range[0],hi=peek$1(range),cmp=ascending;if(lo>hi){range=hi;hi=lo;lo=range;cmp=descending}lo=Math.floor(lo);hi=Math.ceil(hi);ticks=ticks.map(v=>[v,scale(v)]).filter(_=>lo<=_[1]&&_[1]<=hi).sort(cmp).map(_=>_[0]);if(count>0&&ticks.length>1){const endpoints=[ticks[0],peek$1(ticks)];while(ticks.length>count&&ticks.length>=3){ticks=ticks.filter((_,i)=>!(i%2))}if(ticks.length<3){ticks=endpoints}}return ticks}function tickValues(scale,count){return scale.bins?validTicks(scale,scale.bins):scale.ticks?scale.ticks(count):scale.domain()}function tickFormat(locale,scale,count,specifier,formatType,noSkip){const type=scale.type;let format=defaultFormatter;if(type===Time$1||formatType===Time$1){format=locale.timeFormat(specifier)}else if(type===UTC$1||formatType===UTC$1){format=locale.utcFormat(specifier)}else if(isLogarithmic(type)){const varfmt=locale.formatFloat(specifier);if(noSkip||scale.bins){format=varfmt}else{const test=tickLog(scale,count,false);format=_=>test(_)?varfmt(_):""}}else if(scale.tickFormat){const d=scale.domain();format=locale.formatSpan(d[0],d[d.length-1],count,specifier)}else if(specifier){format=locale.format(specifier)}return format}function tickLog(scale,count,values){const ticks=tickValues(scale,count),base=scale.base(),logb=Math.log(base),k=Math.max(1,base*count/ticks.length);const test=d=>{let i=d/Math.pow(base,Math.round(Math.log(d)/logb));if(i*base<base-.5)i*=base;return i<=k};return values?ticks.filter(test):test}const symbols$1={[Quantile$1]:"quantiles",[Quantize$1]:"thresholds",[Threshold$1]:"domain"};const formats={[Quantile$1]:"quantiles",[Quantize$1]:"domain"};function labelValues(scale,count){return scale.bins?binValues(scale.bins):scale.type===Log$1?tickLog(scale,count,true):symbols$1[scale.type]?thresholdValues(scale[symbols$1[scale.type]]()):tickValues(scale,count)}function thresholdFormat(locale,scale,specifier){const _=scale[formats[scale.type]](),n=_.length;let d=n>1?_[1]-_[0]:_[0],i;for(i=1;i<n;++i){d=Math.min(d,_[i]-_[i-1])}return locale.formatSpan(0,d,3*10,specifier)}function thresholdValues(thresholds){const values=[-Infinity].concat(thresholds);values.max=+Infinity;return values}function binValues(bins){const values=bins.slice(0,-1);values.max=peek$1(bins);return values}const isDiscreteRange=scale=>symbols$1[scale.type]||scale.bins;function labelFormat(locale,scale,count,type,specifier,formatType,noSkip){const format=formats[scale.type]&&formatType!==Time$1&&formatType!==UTC$1?thresholdFormat(locale,scale,specifier):tickFormat(locale,scale,count,specifier,formatType,noSkip);return type===SymbolLegend&&isDiscreteRange(scale)?formatRange(format):type===DiscreteLegend?formatDiscrete(format):formatPoint(format)}const formatRange=format=>(value,index,array)=>{const limit=get$3(array[index+1],get$3(array.max,+Infinity)),lo=formatValue$1(value,format),hi=formatValue$1(limit,format);return lo&&hi?lo+"  "+hi:hi?"< "+hi:" "+lo};const get$3=(value,dflt)=>value!=null?value:dflt;const formatDiscrete=format=>(value,index)=>index?format(value):null;const formatPoint=format=>value=>format(value);const formatValue$1=(value,format)=>Number.isFinite(value)?format(value):null;function labelFraction(scale){const domain=scale.domain(),count=domain.length-1;let lo=+domain[0],hi=+peek$1(domain),span=hi-lo;if(scale.type===Threshold$1){const adjust=count?span/count:.1;lo-=adjust;hi+=adjust;span=hi-lo}return value=>(value-lo)/span}function format$1(locale,scale,specifier,formatType){const type=formatType||scale.type;if(isString(specifier)&&isTemporal(type)){specifier=specifier.replace(/%a/g,"%A").replace(/%b/g,"%B")}return!specifier&&type===Time$1?locale.timeFormat("%A, %d %B %Y, %X"):!specifier&&type===UTC$1?locale.utcFormat("%A, %d %B %Y, %X UTC"):labelFormat(locale,scale,5,null,specifier,formatType,true)}function domainCaption(locale,scale,opt){opt=opt||{};const max=Math.max(3,opt.maxlen||7),fmt=format$1(locale,scale,opt.format,opt.formatType);if(isDiscretizing(scale.type)){const v=labelValues(scale).slice(1).map(fmt),n=v.length;return`${n} boundar${n===1?"y":"ies"}: ${v.join(", ")}`}else if(isDiscrete(scale.type)){const d=scale.domain(),n=d.length,v=n>max?d.slice(0,max-2).map(fmt).join(", ")+", ending with "+d.slice(-1).map(fmt):d.map(fmt).join(", ");return`${n} value${n===1?"":"s"}: ${v}`}else{const d=scale.domain();return`values from ${fmt(d[0])} to ${fmt(peek$1(d))}`}}let gradient_id=0;function resetSVGGradientId(){gradient_id=0}const patternPrefix="p_";function isGradient(value){return value&&value.gradient}function gradientRef(g,defs,base){const type=g.gradient;let id=g.id,prefix=type==="radial"?patternPrefix:"";if(!id){id=g.id="gradient_"+gradient_id++;if(type==="radial"){g.x1=get$2(g.x1,.5);g.y1=get$2(g.y1,.5);g.r1=get$2(g.r1,0);g.x2=get$2(g.x2,.5);g.y2=get$2(g.y2,.5);g.r2=get$2(g.r2,.5);prefix=patternPrefix}else{g.x1=get$2(g.x1,0);g.y1=get$2(g.y1,0);g.x2=get$2(g.x2,1);g.y2=get$2(g.y2,0)}}defs[id]=g;return"url("+(base||"")+"#"+prefix+id+")"}function get$2(val,def){return val!=null?val:def}function Gradient$1(p0,p1){var stops=[],gradient;return gradient={gradient:"linear",x1:p0?p0[0]:0,y1:p0?p0[1]:0,x2:p1?p1[0]:1,y2:p1?p1[1]:0,stops:stops,stop:function(offset,color){stops.push({offset:offset,color:color});return gradient}}}const lookup$4={basis:{curve:curveBasis},"basis-closed":{curve:curveBasisClosed},"basis-open":{curve:curveBasisOpen},bundle:{curve:curveBundle,tension:"beta",value:.85},cardinal:{curve:curveCardinal,tension:"tension",value:0},"cardinal-open":{curve:curveCardinalOpen,tension:"tension",value:0},"cardinal-closed":{curve:curveCardinalClosed,tension:"tension",value:0},"catmull-rom":{curve:curveCatmullRom,tension:"alpha",value:.5},"catmull-rom-closed":{curve:curveCatmullRomClosed,tension:"alpha",value:.5},"catmull-rom-open":{curve:curveCatmullRomOpen,tension:"alpha",value:.5},linear:{curve:curveLinear},"linear-closed":{curve:curveLinearClosed},monotone:{horizontal:monotoneY,vertical:monotoneX},natural:{curve:curveNatural},step:{curve:curveStep},"step-after":{curve:stepAfter},"step-before":{curve:stepBefore}};function curves(type,orientation,tension){var entry=has$1(lookup$4,type)&&lookup$4[type],curve=null;if(entry){curve=entry.curve||entry[orientation||"vertical"];if(entry.tension&&tension!=null){curve=curve[entry.tension](tension)}}return curve}const paramCounts={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7};const commandPattern=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi;const numberPattern=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/;const spacePattern=/^((\s+,?\s*)|(,\s*))/;const flagPattern=/^[01]/;function parse$3(path){const commands=[];const matches=path.match(commandPattern)||[];matches.forEach(str=>{let cmd=str[0];const type=cmd.toLowerCase();const paramCount=paramCounts[type];const params=parseParams(type,paramCount,str.slice(1).trim());const count=params.length;if(count<paramCount||count&&count%paramCount!==0){throw Error("Invalid SVG path, incorrect parameter count")}commands.push([cmd,...params.slice(0,paramCount)]);if(count===paramCount){return}if(type==="m"){cmd=cmd==="M"?"L":"l"}for(let i=paramCount;i<count;i+=paramCount){commands.push([cmd,...params.slice(i,i+paramCount)])}});return commands}function parseParams(type,paramCount,segment){const params=[];for(let index=0;paramCount&&index<segment.length;){for(let i=0;i<paramCount;++i){const pattern=type==="a"&&(i===3||i===4)?flagPattern:numberPattern;const match=segment.slice(index).match(pattern);if(match===null){throw Error("Invalid SVG path, incorrect parameter type")}index+=match[0].length;params.push(+match[0]);const ws=segment.slice(index).match(spacePattern);if(ws!==null){index+=ws[0].length}}}return params}const DegToRad=Math.PI/180;const Epsilon=1e-14;const HalfPi=Math.PI/2;const Tau=Math.PI*2;const HalfSqrt3=Math.sqrt(3)/2;var segmentCache={};var bezierCache={};var join$1=[].join;function segments(x,y,rx,ry,large,sweep,rotateX,ox,oy){const key=join$1.call(arguments);if(segmentCache[key]){return segmentCache[key]}const th=rotateX*DegToRad;const sin_th=Math.sin(th);const cos_th=Math.cos(th);rx=Math.abs(rx);ry=Math.abs(ry);const px=cos_th*(ox-x)*.5+sin_th*(oy-y)*.5;const py=cos_th*(oy-y)*.5-sin_th*(ox-x)*.5;let pl=px*px/(rx*rx)+py*py/(ry*ry);if(pl>1){pl=Math.sqrt(pl);rx*=pl;ry*=pl}const a00=cos_th/rx;const a01=sin_th/rx;const a10=-sin_th/ry;const a11=cos_th/ry;const x0=a00*ox+a01*oy;const y0=a10*ox+a11*oy;const x1=a00*x+a01*y;const y1=a10*x+a11*y;const d=(x1-x0)*(x1-x0)+(y1-y0)*(y1-y0);let sfactor_sq=1/d-.25;if(sfactor_sq<0)sfactor_sq=0;let sfactor=Math.sqrt(sfactor_sq);if(sweep==large)sfactor=-sfactor;const xc=.5*(x0+x1)-sfactor*(y1-y0);const yc=.5*(y0+y1)+sfactor*(x1-x0);const th0=Math.atan2(y0-yc,x0-xc);const th1=Math.atan2(y1-yc,x1-xc);let th_arc=th1-th0;if(th_arc<0&&sweep===1){th_arc+=Tau}else if(th_arc>0&&sweep===0){th_arc-=Tau}const segs=Math.ceil(Math.abs(th_arc/(HalfPi+.001)));const result=[];for(let i=0;i<segs;++i){const th2=th0+i*th_arc/segs;const th3=th0+(i+1)*th_arc/segs;result[i]=[xc,yc,th2,th3,rx,ry,sin_th,cos_th]}return segmentCache[key]=result}function bezier(params){const key=join$1.call(params);if(bezierCache[key]){return bezierCache[key]}var cx=params[0],cy=params[1],th0=params[2],th1=params[3],rx=params[4],ry=params[5],sin_th=params[6],cos_th=params[7];const a00=cos_th*rx;const a01=-sin_th*ry;const a10=sin_th*rx;const a11=cos_th*ry;const cos_th0=Math.cos(th0);const sin_th0=Math.sin(th0);const cos_th1=Math.cos(th1);const sin_th1=Math.sin(th1);const th_half=.5*(th1-th0);const sin_th_h2=Math.sin(th_half*.5);const t=8/3*sin_th_h2*sin_th_h2/Math.sin(th_half);const x1=cx+cos_th0-t*sin_th0;const y1=cy+sin_th0+t*cos_th0;const x3=cx+cos_th1;const y3=cy+sin_th1;const x2=x3+t*sin_th1;const y2=y3-t*cos_th1;return bezierCache[key]=[a00*x1+a01*y1,a10*x1+a11*y1,a00*x2+a01*y2,a10*x2+a11*y2,a00*x3+a01*y3,a10*x3+a11*y3]}const temp=["l",0,0,0,0,0,0,0];function scale$1$1(current,sX,sY){const c=temp[0]=current[0];if(c==="a"||c==="A"){temp[1]=sX*current[1];temp[2]=sY*current[2];temp[3]=current[3];temp[4]=current[4];temp[5]=current[5];temp[6]=sX*current[6];temp[7]=sY*current[7]}else if(c==="h"||c==="H"){temp[1]=sX*current[1]}else if(c==="v"||c==="V"){temp[1]=sY*current[1]}else{for(var i=1,n=current.length;i<n;++i){temp[i]=(i%2==1?sX:sY)*current[i]}}return temp}function pathRender(context,path,l,t,sX,sY){var current,previous=null,x=0,y=0,controlX=0,controlY=0,tempX,tempY,tempControlX,tempControlY,anchorX=0,anchorY=0;if(l==null)l=0;if(t==null)t=0;if(sX==null)sX=1;if(sY==null)sY=sX;if(context.beginPath)context.beginPath();for(var i=0,len=path.length;i<len;++i){current=path[i];if(sX!==1||sY!==1){current=scale$1$1(current,sX,sY)}switch(current[0]){case"l":x+=current[1];y+=current[2];context.lineTo(x+l,y+t);break;case"L":x=current[1];y=current[2];context.lineTo(x+l,y+t);break;case"h":x+=current[1];context.lineTo(x+l,y+t);break;case"H":x=current[1];context.lineTo(x+l,y+t);break;case"v":y+=current[1];context.lineTo(x+l,y+t);break;case"V":y=current[1];context.lineTo(x+l,y+t);break;case"m":x+=current[1];y+=current[2];anchorX=x;anchorY=y;context.moveTo(x+l,y+t);break;case"M":x=current[1];y=current[2];anchorX=x;anchorY=y;context.moveTo(x+l,y+t);break;case"c":tempX=x+current[5];tempY=y+current[6];controlX=x+current[3];controlY=y+current[4];context.bezierCurveTo(x+current[1]+l,y+current[2]+t,controlX+l,controlY+t,tempX+l,tempY+t);x=tempX;y=tempY;break;case"C":x=current[5];y=current[6];controlX=current[3];controlY=current[4];context.bezierCurveTo(current[1]+l,current[2]+t,controlX+l,controlY+t,x+l,y+t);break;case"s":tempX=x+current[3];tempY=y+current[4];controlX=2*x-controlX;controlY=2*y-controlY;context.bezierCurveTo(controlX+l,controlY+t,x+current[1]+l,y+current[2]+t,tempX+l,tempY+t);controlX=x+current[1];controlY=y+current[2];x=tempX;y=tempY;break;case"S":tempX=current[3];tempY=current[4];controlX=2*x-controlX;controlY=2*y-controlY;context.bezierCurveTo(controlX+l,controlY+t,current[1]+l,current[2]+t,tempX+l,tempY+t);x=tempX;y=tempY;controlX=current[1];controlY=current[2];break;case"q":tempX=x+current[3];tempY=y+current[4];controlX=x+current[1];controlY=y+current[2];context.quadraticCurveTo(controlX+l,controlY+t,tempX+l,tempY+t);x=tempX;y=tempY;break;case"Q":tempX=current[3];tempY=current[4];context.quadraticCurveTo(current[1]+l,current[2]+t,tempX+l,tempY+t);x=tempX;y=tempY;controlX=current[1];controlY=current[2];break;case"t":tempX=x+current[1];tempY=y+current[2];if(previous[0].match(/[QqTt]/)===null){controlX=x;controlY=y}else if(previous[0]==="t"){controlX=2*x-tempControlX;controlY=2*y-tempControlY}else if(previous[0]==="q"){controlX=2*x-controlX;controlY=2*y-controlY}tempControlX=controlX;tempControlY=controlY;context.quadraticCurveTo(controlX+l,controlY+t,tempX+l,tempY+t);x=tempX;y=tempY;controlX=x+current[1];controlY=y+current[2];break;case"T":tempX=current[1];tempY=current[2];controlX=2*x-controlX;controlY=2*y-controlY;context.quadraticCurveTo(controlX+l,controlY+t,tempX+l,tempY+t);x=tempX;y=tempY;break;case"a":drawArc(context,x+l,y+t,[current[1],current[2],current[3],current[4],current[5],current[6]+x+l,current[7]+y+t]);x+=current[6];y+=current[7];break;case"A":drawArc(context,x+l,y+t,[current[1],current[2],current[3],current[4],current[5],current[6]+l,current[7]+t]);x=current[6];y=current[7];break;case"z":case"Z":x=anchorX;y=anchorY;context.closePath();break}previous=current}}function drawArc(context,x,y,coords){const seg=segments(coords[5],coords[6],coords[0],coords[1],coords[3],coords[4],coords[2],x,y);for(let i=0;i<seg.length;++i){const bez=bezier(seg[i]);context.bezierCurveTo(bez[0],bez[1],bez[2],bez[3],bez[4],bez[5])}}const Tan30=.5773502691896257;const builtins={circle:{draw:function(context,size){const r=Math.sqrt(size)/2;context.moveTo(r,0);context.arc(0,0,r,0,Tau)}},cross:{draw:function(context,size){var r=Math.sqrt(size)/2,s=r/2.5;context.moveTo(-r,-s);context.lineTo(-r,s);context.lineTo(-s,s);context.lineTo(-s,r);context.lineTo(s,r);context.lineTo(s,s);context.lineTo(r,s);context.lineTo(r,-s);context.lineTo(s,-s);context.lineTo(s,-r);context.lineTo(-s,-r);context.lineTo(-s,-s);context.closePath()}},diamond:{draw:function(context,size){const r=Math.sqrt(size)/2;context.moveTo(-r,0);context.lineTo(0,-r);context.lineTo(r,0);context.lineTo(0,r);context.closePath()}},square:{draw:function(context,size){var w=Math.sqrt(size),x=-w/2;context.rect(x,x,w,w)}},arrow:{draw:function(context,size){var r=Math.sqrt(size)/2,s=r/7,t=r/2.5,v=r/8;context.moveTo(-s,r);context.lineTo(s,r);context.lineTo(s,-v);context.lineTo(t,-v);context.lineTo(0,-r);context.lineTo(-t,-v);context.lineTo(-s,-v);context.closePath()}},wedge:{draw:function(context,size){var r=Math.sqrt(size)/2,h=HalfSqrt3*r,o=h-r*Tan30,b=r/4;context.moveTo(0,-h-o);context.lineTo(-b,h-o);context.lineTo(b,h-o);context.closePath()}},triangle:{draw:function(context,size){var r=Math.sqrt(size)/2,h=HalfSqrt3*r,o=h-r*Tan30;context.moveTo(0,-h-o);context.lineTo(-r,h-o);context.lineTo(r,h-o);context.closePath()}},"triangle-up":{draw:function(context,size){var r=Math.sqrt(size)/2,h=HalfSqrt3*r;context.moveTo(0,-h);context.lineTo(-r,h);context.lineTo(r,h);context.closePath()}},"triangle-down":{draw:function(context,size){var r=Math.sqrt(size)/2,h=HalfSqrt3*r;context.moveTo(0,h);context.lineTo(-r,-h);context.lineTo(r,-h);context.closePath()}},"triangle-right":{draw:function(context,size){var r=Math.sqrt(size)/2,h=HalfSqrt3*r;context.moveTo(h,0);context.lineTo(-h,-r);context.lineTo(-h,r);context.closePath()}},"triangle-left":{draw:function(context,size){var r=Math.sqrt(size)/2,h=HalfSqrt3*r;context.moveTo(-h,0);context.lineTo(h,-r);context.lineTo(h,r);context.closePath()}},stroke:{draw:function(context,size){const r=Math.sqrt(size)/2;context.moveTo(-r,0);context.lineTo(r,0)}}};function symbols(_){return has$1(builtins,_)?builtins[_]:customSymbol(_)}var custom={};function customSymbol(path){if(!has$1(custom,path)){const parsed=parse$3(path);custom[path]={draw:function(context,size){pathRender(context,parsed,0,0,Math.sqrt(size)/2)}}}return custom[path]}const C=.448084975506;function rectangleX(d){return d.x}function rectangleY(d){return d.y}function rectangleWidth(d){return d.width}function rectangleHeight(d){return d.height}function number$3(_){return typeof _==="function"?_:()=>+_}function clamp(value,min,max){return Math.max(min,Math.min(value,max))}function vg_rect(){var x=rectangleX,y=rectangleY,width=rectangleWidth,height=rectangleHeight,crTL=number$3(0),crTR=crTL,crBL=crTL,crBR=crTL,context=null;function rectangle(_,x0,y0){var buffer,x1=x0!=null?x0:+x.call(this,_),y1=y0!=null?y0:+y.call(this,_),w=+width.call(this,_),h=+height.call(this,_),s=Math.min(w,h)/2,tl=clamp(+crTL.call(this,_),0,s),tr=clamp(+crTR.call(this,_),0,s),bl=clamp(+crBL.call(this,_),0,s),br=clamp(+crBR.call(this,_),0,s);if(!context)context=buffer=path$3();if(tl<=0&&tr<=0&&bl<=0&&br<=0){context.rect(x1,y1,w,h)}else{var x2=x1+w,y2=y1+h;context.moveTo(x1+tl,y1);context.lineTo(x2-tr,y1);context.bezierCurveTo(x2-C*tr,y1,x2,y1+C*tr,x2,y1+tr);context.lineTo(x2,y2-br);context.bezierCurveTo(x2,y2-C*br,x2-C*br,y2,x2-br,y2);context.lineTo(x1+bl,y2);context.bezierCurveTo(x1+C*bl,y2,x1,y2-C*bl,x1,y2-bl);context.lineTo(x1,y1+tl);context.bezierCurveTo(x1,y1+C*tl,x1+C*tl,y1,x1+tl,y1);context.closePath()}if(buffer){context=null;return buffer+""||null}}rectangle.x=function(_){if(arguments.length){x=number$3(_);return rectangle}else{return x}};rectangle.y=function(_){if(arguments.length){y=number$3(_);return rectangle}else{return y}};rectangle.width=function(_){if(arguments.length){width=number$3(_);return rectangle}else{return width}};rectangle.height=function(_){if(arguments.length){height=number$3(_);return rectangle}else{return height}};rectangle.cornerRadius=function(tl,tr,br,bl){if(arguments.length){crTL=number$3(tl);crTR=tr!=null?number$3(tr):crTL;crBR=br!=null?number$3(br):crTL;crBL=bl!=null?number$3(bl):crTR;return rectangle}else{return crTL}};rectangle.context=function(_){if(arguments.length){context=_==null?null:_;return rectangle}else{return context}};return rectangle}function vg_trail(){var x,y,size,defined,context=null,ready,x1,y1,r1;function point(x2,y2,w2){const r2=w2/2;if(ready){var ux=y1-y2,uy=x2-x1;if(ux||uy){var ud=Math.sqrt(ux*ux+uy*uy),rx=(ux/=ud)*r1,ry=(uy/=ud)*r1,t=Math.atan2(uy,ux);context.moveTo(x1-rx,y1-ry);context.lineTo(x2-ux*r2,y2-uy*r2);context.arc(x2,y2,r2,t-Math.PI,t);context.lineTo(x1+rx,y1+ry);context.arc(x1,y1,r1,t,t+Math.PI)}else{context.arc(x2,y2,r2,0,Tau)}context.closePath()}else{ready=1}x1=x2;y1=y2;r1=r2}function trail(data){var i,n=data.length,d,defined0=false,buffer;if(context==null)context=buffer=path$3();for(i=0;i<=n;++i){if(!(i<n&&defined(d=data[i],i,data))===defined0){if(defined0=!defined0)ready=0}if(defined0)point(+x(d,i,data),+y(d,i,data),+size(d,i,data))}if(buffer){context=null;return buffer+""||null}}trail.x=function(_){if(arguments.length){x=_;return trail}else{return x}};trail.y=function(_){if(arguments.length){y=_;return trail}else{return y}};trail.size=function(_){if(arguments.length){size=_;return trail}else{return size}};trail.defined=function(_){if(arguments.length){defined=_;return trail}else{return defined}};trail.context=function(_){if(arguments.length){if(_==null){context=null}else{context=_}return trail}else{return context}};return trail}function value$1(a,b){return a!=null?a:b}const x$2=item=>item.x||0,y$2=item=>item.y||0,w=item=>item.width||0,h=item=>item.height||0,xw=item=>(item.x||0)+(item.width||0),yh=item=>(item.y||0)+(item.height||0),sa=item=>item.startAngle||0,ea=item=>item.endAngle||0,pa=item=>item.padAngle||0,ir=item=>item.innerRadius||0,or=item=>item.outerRadius||0,cr=item=>item.cornerRadius||0,tl=item=>value$1(item.cornerRadiusTopLeft,item.cornerRadius)||0,tr=item=>value$1(item.cornerRadiusTopRight,item.cornerRadius)||0,br=item=>value$1(item.cornerRadiusBottomRight,item.cornerRadius)||0,bl=item=>value$1(item.cornerRadiusBottomLeft,item.cornerRadius)||0,sz=item=>value$1(item.size,64),ts=item=>item.size||1,def=item=>!(item.defined===false),type=item=>symbols(item.shape||"circle");const arcShape=arc$2$1().startAngle(sa).endAngle(ea).padAngle(pa).innerRadius(ir).outerRadius(or).cornerRadius(cr),areavShape=area$2$1().x(x$2).y1(y$2).y0(yh).defined(def),areahShape=area$2$1().y(y$2).x1(x$2).x0(xw).defined(def),lineShape=line$2$1().x(x$2).y(y$2).defined(def),rectShape=vg_rect().x(x$2).y(y$2).width(w).height(h).cornerRadius(tl,tr,br,bl),symbolShape=Symbol$1().type(type).size(sz),trailShape=vg_trail().x(x$2).y(y$2).defined(def).size(ts);function hasCornerRadius(item){return item.cornerRadius||item.cornerRadiusTopLeft||item.cornerRadiusTopRight||item.cornerRadiusBottomRight||item.cornerRadiusBottomLeft}function arc$1(context,item){return arcShape.context(context)(item)}function area$1(context,items){const item=items[0],interp=item.interpolate||"linear";return(item.orient==="horizontal"?areahShape:areavShape).curve(curves(interp,item.orient,item.tension)).context(context)(items)}function line$1(context,items){const item=items[0],interp=item.interpolate||"linear";return lineShape.curve(curves(interp,item.orient,item.tension)).context(context)(items)}function rectangle(context,item,x,y){return rectShape.context(context)(item,x,y)}function shape$1(context,item){return(item.mark.shape||item.shape).context(context)(item)}function symbol$1(context,item){return symbolShape.context(context)(item)}function trail$1(context,items){return trailShape.context(context)(items)}var clip_id=1;function resetSVGClipId(){clip_id=1}function clip$1$1(renderer,item,size){var clip=item.clip,defs=renderer._defs,id=item.clip_id||(item.clip_id="clip"+clip_id++),c=defs.clipping[id]||(defs.clipping[id]={id:id});if(isFunction(clip)){c.path=clip(null)}else if(hasCornerRadius(size)){c.path=rectangle(null,size,0,0)}else{c.width=size.width||0;c.height=size.height||0}return"url(#"+id+")"}function Bounds(b){this.clear();if(b)this.union(b)}Bounds.prototype={clone(){return new Bounds(this)},clear(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(b){return this.x1===b.x1&&this.y1===b.y1&&this.x2===b.x2&&this.y2===b.y2},set(x1,y1,x2,y2){if(x2<x1){this.x2=x1;this.x1=x2}else{this.x1=x1;this.x2=x2}if(y2<y1){this.y2=y1;this.y1=y2}else{this.y1=y1;this.y2=y2}return this},add(x,y){if(x<this.x1)this.x1=x;if(y<this.y1)this.y1=y;if(x>this.x2)this.x2=x;if(y>this.y2)this.y2=y;return this},expand(d){this.x1-=d;this.y1-=d;this.x2+=d;this.y2+=d;return this},round(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this},scale(s){this.x1*=s;this.y1*=s;this.x2*=s;this.y2*=s;return this},translate(dx,dy){this.x1+=dx;this.x2+=dx;this.y1+=dy;this.y2+=dy;return this},rotate(angle,x,y){const p=this.rotatedPoints(angle,x,y);return this.clear().add(p[0],p[1]).add(p[2],p[3]).add(p[4],p[5]).add(p[6],p[7])},rotatedPoints(angle,x,y){var{x1:x1,y1:y1,x2:x2,y2:y2}=this,cos=Math.cos(angle),sin=Math.sin(angle),cx=x-x*cos+y*sin,cy=y-x*sin-y*cos;return[cos*x1-sin*y1+cx,sin*x1+cos*y1+cy,cos*x1-sin*y2+cx,sin*x1+cos*y2+cy,cos*x2-sin*y1+cx,sin*x2+cos*y1+cy,cos*x2-sin*y2+cx,sin*x2+cos*y2+cy]},union(b){if(b.x1<this.x1)this.x1=b.x1;if(b.y1<this.y1)this.y1=b.y1;if(b.x2>this.x2)this.x2=b.x2;if(b.y2>this.y2)this.y2=b.y2;return this},intersect(b){if(b.x1>this.x1)this.x1=b.x1;if(b.y1>this.y1)this.y1=b.y1;if(b.x2<this.x2)this.x2=b.x2;if(b.y2<this.y2)this.y2=b.y2;return this},encloses(b){return b&&this.x1<=b.x1&&this.x2>=b.x2&&this.y1<=b.y1&&this.y2>=b.y2},alignsWith(b){return b&&(this.x1==b.x1||this.x2==b.x2||this.y1==b.y1||this.y2==b.y2)},intersects(b){return b&&!(this.x2<b.x1||this.x1>b.x2||this.y2<b.y1||this.y1>b.y2)},contains(x,y){return!(x<this.x1||x>this.x2||y<this.y1||y>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function Item(mark){this.mark=mark;this.bounds=this.bounds||new Bounds}function GroupItem(mark){Item.call(this,mark);this.items=this.items||[]}inherits(GroupItem,Item);function ResourceLoader(customLoader){this._pending=0;this._loader=customLoader||loader()}function increment(loader){loader._pending+=1}function decrement(loader){loader._pending-=1}ResourceLoader.prototype={pending(){return this._pending},sanitizeURL(uri){const loader=this;increment(loader);return loader._loader.sanitize(uri,{context:"href"}).then(opt=>{decrement(loader);return opt}).catch(()=>{decrement(loader);return null})},loadImage(uri){const loader=this,Image=domImage();increment(loader);return loader._loader.sanitize(uri,{context:"image"}).then(opt=>{const url=opt.href;if(!url||!Image)throw{url:url};const img=new Image;const cors=has$1(opt,"crossOrigin")?opt.crossOrigin:"anonymous";if(cors!=null)img.crossOrigin=cors;img.onload=()=>decrement(loader);img.onerror=()=>decrement(loader);img.src=url;return img}).catch(e=>{decrement(loader);return{complete:false,width:0,height:0,src:e&&e.url||""}})},ready(){const loader=this;return new Promise(accept=>{function poll(value){if(!loader.pending())accept(value);else setTimeout(()=>{poll(true)},10)}poll(false)})}};function boundStroke(bounds,item,miter){if(item.stroke&&item.opacity!==0&&item.strokeOpacity!==0){const sw=item.strokeWidth!=null?+item.strokeWidth:1;bounds.expand(sw+(miter?miterAdjustment(item,sw):0))}return bounds}function miterAdjustment(item,strokeWidth){return item.strokeJoin&&item.strokeJoin!=="miter"?0:strokeWidth}const circleThreshold=Tau-1e-8;let bounds,lx,ly,rot,ma,mb,mc,md;const add$1=(x,y)=>bounds.add(x,y);const addL=(x,y)=>add$1(lx=x,ly=y);const addX=x=>add$1(x,bounds.y1);const addY=y=>add$1(bounds.x1,y);const px=(x,y)=>ma*x+mc*y;const py=(x,y)=>mb*x+md*y;const addp=(x,y)=>add$1(px(x,y),py(x,y));const addpL=(x,y)=>addL(px(x,y),py(x,y));function boundContext(_,deg){bounds=_;if(deg){rot=deg*DegToRad;ma=md=Math.cos(rot);mb=Math.sin(rot);mc=-mb}else{ma=md=1;rot=mb=mc=0}return context$1}const context$1={beginPath(){},closePath(){},moveTo:addpL,lineTo:addpL,rect(x,y,w,h){if(rot){addp(x+w,y);addp(x+w,y+h);addp(x,y+h);addpL(x,y)}else{add$1(x+w,y+h);addL(x,y)}},quadraticCurveTo(x1,y1,x2,y2){const px1=px(x1,y1),py1=py(x1,y1),px2=px(x2,y2),py2=py(x2,y2);quadExtrema(lx,px1,px2,addX);quadExtrema(ly,py1,py2,addY);addL(px2,py2)},bezierCurveTo(x1,y1,x2,y2,x3,y3){const px1=px(x1,y1),py1=py(x1,y1),px2=px(x2,y2),py2=py(x2,y2),px3=px(x3,y3),py3=py(x3,y3);cubicExtrema(lx,px1,px2,px3,addX);cubicExtrema(ly,py1,py2,py3,addY);addL(px3,py3)},arc(cx,cy,r,sa,ea,ccw){sa+=rot;ea+=rot;lx=r*Math.cos(ea)+cx;ly=r*Math.sin(ea)+cy;if(Math.abs(ea-sa)>circleThreshold){add$1(cx-r,cy-r);add$1(cx+r,cy+r)}else{const update=a=>add$1(r*Math.cos(a)+cx,r*Math.sin(a)+cy);let s,i;update(sa);update(ea);if(ea!==sa){sa=sa%Tau;if(sa<0)sa+=Tau;ea=ea%Tau;if(ea<0)ea+=Tau;if(ea<sa){ccw=!ccw;s=sa;sa=ea;ea=s}if(ccw){ea-=Tau;s=sa-sa%HalfPi;for(i=0;i<4&&s>ea;++i,s-=HalfPi)update(s)}else{s=sa-sa%HalfPi+HalfPi;for(i=0;i<4&&s<ea;++i,s=s+HalfPi)update(s)}}}}};function quadExtrema(x0,x1,x2,cb){const t=(x0-x1)/(x0+x2-2*x1);if(0<t&&t<1)cb(x0+(x1-x0)*t)}function cubicExtrema(x0,x1,x2,x3,cb){const a=x3-x0+3*x1-3*x2,b=x0+x2-2*x1,c=x0-x1;let t0=0,t1=0,r;if(Math.abs(a)>Epsilon){r=b*b+c*a;if(r>=0){r=Math.sqrt(r);t0=(-b+r)/a;t1=(-b-r)/a}}else{t0=.5*c/b}if(0<t0&&t0<1)cb(cubic(t0,x0,x1,x2,x3));if(0<t1&&t1<1)cb(cubic(t1,x0,x1,x2,x3))}function cubic(t,x0,x1,x2,x3){const s=1-t,s2=s*s,t2=t*t;return s2*s*x0+3*s2*t*x1+3*s*t2*x2+t2*t*x3}var context$2=(context$2=domCanvas(1,1))?context$2.getContext("2d"):null;const b=new Bounds;function intersectPath(draw){return function(item,brush){if(!context$2)return true;draw(context$2,item);b.clear().union(item.bounds).intersect(brush).round();const{x1:x1,y1:y1,x2:x2,y2:y2}=b;for(let y=y1;y<=y2;++y){for(let x=x1;x<=x2;++x){if(context$2.isPointInPath(x,y)){return true}}}return false}}function intersectPoint(item,box){return box.contains(item.x||0,item.y||0)}function intersectRect(item,box){const x=item.x||0,y=item.y||0,w=item.width||0,h=item.height||0;return box.intersects(b.set(x,y,x+w,y+h))}function intersectRule(item,box){const x=item.x||0,y=item.y||0,x2=item.x2!=null?item.x2:x,y2=item.y2!=null?item.y2:y;return intersectBoxLine(box,x,y,x2,y2)}function intersectBoxLine(box,x,y,u,v){const{x1:x1,y1:y1,x2:x2,y2:y2}=box,dx=u-x,dy=v-y;let t0=0,t1=1,p,q,r,e;for(e=0;e<4;++e){if(e===0){p=-dx;q=-(x1-x)}if(e===1){p=dx;q=x2-x}if(e===2){p=-dy;q=-(y1-y)}if(e===3){p=dy;q=y2-y}if(Math.abs(p)<1e-10&&q<0)return false;r=q/p;if(p<0){if(r>t1)return false;else if(r>t0)t0=r}else if(p>0){if(r<t0)return false;else if(r<t1)t1=r}}return true}function blend(context,item){context.globalCompositeOperation=item.blend||"source-over"}function value$2(value,dflt){return value==null?dflt:value}function addStops(gradient,stops){const n=stops.length;for(let i=0;i<n;++i){gradient.addColorStop(stops[i].offset,stops[i].color)}return gradient}function gradient$1(context,spec,bounds){const w=bounds.width(),h=bounds.height();let gradient;if(spec.gradient==="radial"){gradient=context.createRadialGradient(bounds.x1+value$2(spec.x1,.5)*w,bounds.y1+value$2(spec.y1,.5)*h,Math.max(w,h)*value$2(spec.r1,0),bounds.x1+value$2(spec.x2,.5)*w,bounds.y1+value$2(spec.y2,.5)*h,Math.max(w,h)*value$2(spec.r2,.5))}else{const x1=value$2(spec.x1,0),y1=value$2(spec.y1,0),x2=value$2(spec.x2,1),y2=value$2(spec.y2,0);if(x1===x2||y1===y2||w===h){gradient=context.createLinearGradient(bounds.x1+x1*w,bounds.y1+y1*h,bounds.x1+x2*w,bounds.y1+y2*h)}else{const image=domCanvas(Math.ceil(w),Math.ceil(h)),ictx=image.getContext("2d");ictx.scale(w,h);ictx.fillStyle=addStops(ictx.createLinearGradient(x1,y1,x2,y2),spec.stops);ictx.fillRect(0,0,w,h);return context.createPattern(image,"no-repeat")}}return addStops(gradient,spec.stops)}function color$1(context,item,value){return isGradient(value)?gradient$1(context,value,item.bounds):value}function fill(context,item,opacity){opacity*=item.fillOpacity==null?1:item.fillOpacity;if(opacity>0){context.globalAlpha=opacity;context.fillStyle=color$1(context,item,item.fill);return true}else{return false}}var Empty=[];function stroke(context,item,opacity){var lw=(lw=item.strokeWidth)!=null?lw:1;if(lw<=0)return false;opacity*=item.strokeOpacity==null?1:item.strokeOpacity;if(opacity>0){context.globalAlpha=opacity;context.strokeStyle=color$1(context,item,item.stroke);context.lineWidth=lw;context.lineCap=item.strokeCap||"butt";context.lineJoin=item.strokeJoin||"miter";context.miterLimit=item.strokeMiterLimit||10;if(context.setLineDash){context.setLineDash(item.strokeDash||Empty);context.lineDashOffset=item.strokeDashOffset||0}return true}else{return false}}function compare(a,b){return a.zindex-b.zindex||a.index-b.index}function zorder(scene){if(!scene.zdirty)return scene.zitems;var items=scene.items,output=[],item,i,n;for(i=0,n=items.length;i<n;++i){item=items[i];item.index=i;if(item.zindex)output.push(item)}scene.zdirty=false;return scene.zitems=output.sort(compare)}function visit(scene,visitor){var items=scene.items,i,n;if(!items||!items.length)return;const zitems=zorder(scene);if(zitems&&zitems.length){for(i=0,n=items.length;i<n;++i){if(!items[i].zindex)visitor(items[i])}items=zitems}for(i=0,n=items.length;i<n;++i){visitor(items[i])}}function pickVisit(scene,visitor){var items=scene.items,hit,i;if(!items||!items.length)return null;const zitems=zorder(scene);if(zitems&&zitems.length)items=zitems;for(i=items.length;--i>=0;){if(hit=visitor(items[i]))return hit}if(items===zitems){for(items=scene.items,i=items.length;--i>=0;){if(!items[i].zindex){if(hit=visitor(items[i]))return hit}}}return null}function drawAll(path){return function(context,scene,bounds){visit(scene,item=>{if(!bounds||bounds.intersects(item.bounds)){drawPath(path,context,item,item)}})}}function drawOne(path){return function(context,scene,bounds){if(scene.items.length&&(!bounds||bounds.intersects(scene.bounds))){drawPath(path,context,scene.items[0],scene.items)}}}function drawPath(path,context,item,items){var opacity=item.opacity==null?1:item.opacity;if(opacity===0)return;if(path(context,items))return;blend(context,item);if(item.fill&&fill(context,item,opacity)){context.fill()}if(item.stroke&&stroke(context,item,opacity)){context.stroke()}}function pick$1(test){test=test||truthy;return function(context,scene,x,y,gx,gy){x*=context.pixelRatio;y*=context.pixelRatio;return pickVisit(scene,item=>{const b=item.bounds;if(b&&!b.contains(gx,gy)||!b)return;if(test(context,item,x,y,gx,gy))return item})}}function hitPath(path,filled){return function(context,o,x,y){var item=Array.isArray(o)?o[0]:o,fill=filled==null?item.fill:filled,stroke=item.stroke&&context.isPointInStroke,lw,lc;if(stroke){lw=item.strokeWidth;lc=item.strokeCap;context.lineWidth=lw!=null?lw:1;context.lineCap=lc!=null?lc:"butt"}return path(context,o)?false:fill&&context.isPointInPath(x,y)||stroke&&context.isPointInStroke(x,y)}}function pickPath(path){return pick$1(hitPath(path))}function translate$1(x,y){return"translate("+x+","+y+")"}function rotate(a){return"rotate("+a+")"}function scale$4(scaleX,scaleY){return"scale("+scaleX+","+scaleY+")"}function translateItem(item){return translate$1(item.x||0,item.y||0)}function rotateItem(item){return translate$1(item.x||0,item.y||0)+(item.angle?" "+rotate(item.angle):"")}function transformItem(item){return translate$1(item.x||0,item.y||0)+(item.angle?" "+rotate(item.angle):"")+(item.scaleX||item.scaleY?" "+scale$4(item.scaleX||1,item.scaleY||1):"")}function markItemPath(type,shape,isect){function attr(emit,item){emit("transform",rotateItem(item));emit("d",shape(null,item))}function bound(bounds,item){shape(boundContext(bounds,item.angle),item);return boundStroke(bounds,item).translate(item.x||0,item.y||0)}function draw(context,item){var x=item.x||0,y=item.y||0,a=item.angle||0;context.translate(x,y);if(a)context.rotate(a*=DegToRad);context.beginPath();shape(context,item);if(a)context.rotate(-a);context.translate(-x,-y)}return{type:type,tag:"path",nested:false,attr:attr,bound:bound,draw:drawAll(draw),pick:pickPath(draw),isect:isect||intersectPath(draw)}}var arc$2=markItemPath("arc",arc$1);function pickArea(a,p){var v=a[0].orient==="horizontal"?p[1]:p[0],z=a[0].orient==="horizontal"?"y":"x",i=a.length,min=+Infinity,hit,d;while(--i>=0){if(a[i].defined===false)continue;d=Math.abs(a[i][z]-v);if(d<min){min=d;hit=a[i]}}return hit}function pickLine(a,p){var t=Math.pow(a[0].strokeWidth||1,2),i=a.length,dx,dy,dd;while(--i>=0){if(a[i].defined===false)continue;dx=a[i].x-p[0];dy=a[i].y-p[1];dd=dx*dx+dy*dy;if(dd<t)return a[i]}return null}function pickTrail(a,p){var i=a.length,dx,dy,dd;while(--i>=0){if(a[i].defined===false)continue;dx=a[i].x-p[0];dy=a[i].y-p[1];dd=dx*dx+dy*dy;dx=a[i].size||1;if(dd<dx*dx)return a[i]}return null}function markMultiItemPath(type,shape,tip){function attr(emit,item){var items=item.mark.items;if(items.length)emit("d",shape(null,items))}function bound(bounds,mark){var items=mark.items;if(items.length===0){return bounds}else{shape(boundContext(bounds),items);return boundStroke(bounds,items[0])}}function draw(context,items){context.beginPath();shape(context,items)}const hit=hitPath(draw);function pick(context,scene,x,y,gx,gy){var items=scene.items,b=scene.bounds;if(!items||!items.length||b&&!b.contains(gx,gy)){return null}x*=context.pixelRatio;y*=context.pixelRatio;return hit(context,items,x,y)?items[0]:null}return{type:type,tag:"path",nested:true,attr:attr,bound:bound,draw:drawOne(draw),pick:pick,isect:intersectPoint,tip:tip}}var area$2=markMultiItemPath("area",area$1,pickArea);function clip$2(context,scene){var clip=scene.clip;context.save();if(isFunction(clip)){context.beginPath();clip(context);context.clip()}else{clipGroup(context,scene.group)}}function clipGroup(context,group){context.beginPath();hasCornerRadius(group)?rectangle(context,group,0,0):context.rect(0,0,group.width||0,group.height||0);context.clip()}function offset$1(item){const sw=value$2(item.strokeWidth,1);return item.strokeOffset!=null?item.strokeOffset:item.stroke&&sw>.5&&sw<1.5?.5-Math.abs(sw-1):0}function attr$5(emit,item){emit("transform",translateItem(item))}function emitRectangle(emit,item){const off=offset$1(item);emit("d",rectangle(null,item,off,off))}function background$1(emit,item){emit("class","background");emit("aria-hidden",true);emitRectangle(emit,item)}function foreground(emit,item){emit("class","foreground");emit("aria-hidden",true);if(item.strokeForeground){emitRectangle(emit,item)}else{emit("d","")}}function content(emit,item,renderer){const url=item.clip?clip$1$1(renderer,item,item):null;emit("clip-path",url)}function bound$5(bounds,group){if(!group.clip&&group.items){const items=group.items,m=items.length;for(let j=0;j<m;++j){bounds.union(items[j].bounds)}}if((group.clip||group.width||group.height)&&!group.noBound){bounds.add(0,0).add(group.width||0,group.height||0)}boundStroke(bounds,group);return bounds.translate(group.x||0,group.y||0)}function rectanglePath(context,group,x,y){const off=offset$1(group);context.beginPath();rectangle(context,group,(x||0)+off,(y||0)+off)}const hitBackground=hitPath(rectanglePath);const hitForeground=hitPath(rectanglePath,false);const hitCorner=hitPath(rectanglePath,true);function draw$4(context,scene,bounds){visit(scene,group=>{const gx=group.x||0,gy=group.y||0,fore=group.strokeForeground,opacity=group.opacity==null?1:group.opacity;if((group.stroke||group.fill)&&opacity){rectanglePath(context,group,gx,gy);blend(context,group);if(group.fill&&fill(context,group,opacity)){context.fill()}if(group.stroke&&!fore&&stroke(context,group,opacity)){context.stroke()}}context.save();context.translate(gx,gy);if(group.clip)clipGroup(context,group);if(bounds)bounds.translate(-gx,-gy);visit(group,item=>{this.draw(context,item,bounds)});if(bounds)bounds.translate(gx,gy);context.restore();if(fore&&group.stroke&&opacity){rectanglePath(context,group,gx,gy);blend(context,group);if(stroke(context,group,opacity)){context.stroke()}}})}function pick(context,scene,x,y,gx,gy){if(scene.bounds&&!scene.bounds.contains(gx,gy)||!scene.items){return null}const cx=x*context.pixelRatio,cy=y*context.pixelRatio;return pickVisit(scene,group=>{let hit,dx,dy;const b=group.bounds;if(b&&!b.contains(gx,gy))return;dx=group.x||0;dy=group.y||0;const dw=dx+(group.width||0),dh=dy+(group.height||0),c=group.clip;if(c&&(gx<dx||gx>dw||gy<dy||gy>dh))return;context.save();context.translate(dx,dy);dx=gx-dx;dy=gy-dy;if(c&&hasCornerRadius(group)&&!hitCorner(context,group,cx,cy)){context.restore();return null}const fore=group.strokeForeground,ix=scene.interactive!==false;if(ix&&fore&&group.stroke&&hitForeground(context,group,cx,cy)){context.restore();return group}hit=pickVisit(group,mark=>pickMark(mark,dx,dy)?this.pick(mark,x,y,dx,dy):null);if(!hit&&ix&&(group.fill||!fore&&group.stroke)&&hitBackground(context,group,cx,cy)){hit=group}context.restore();return hit||null})}function pickMark(mark,x,y){return(mark.interactive!==false||mark.marktype==="group")&&mark.bounds&&mark.bounds.contains(x,y)}var group={type:"group",tag:"g",nested:false,attr:attr$5,bound:bound$5,draw:draw$4,pick:pick,isect:intersectRect,content:content,background:background$1,foreground:foreground};var metadata={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function getImage(item,renderer){var image=item.image;if(!image||item.url&&item.url!==image.url){image={complete:false,width:0,height:0};renderer.loadImage(item.url).then(image=>{item.image=image;item.image.url=item.url})}return image}function imageWidth(item,image){return item.width!=null?item.width:!image||!image.width?0:item.aspect!==false&&item.height?item.height*image.width/image.height:image.width}function imageHeight(item,image){return item.height!=null?item.height:!image||!image.height?0:item.aspect!==false&&item.width?item.width*image.height/image.width:image.height}function imageXOffset(align,w){return align==="center"?w/2:align==="right"?w:0}function imageYOffset(baseline,h){return baseline==="middle"?h/2:baseline==="bottom"?h:0}function attr$4(emit,item,renderer){const img=getImage(item,renderer),w=imageWidth(item,img),h=imageHeight(item,img),x=(item.x||0)-imageXOffset(item.align,w),y=(item.y||0)-imageYOffset(item.baseline,h),i=!img.src&&img.toDataURL?img.toDataURL():img.src||"";emit("href",i,metadata["xmlns:xlink"],"xlink:href");emit("transform",translate$1(x,y));emit("width",w);emit("height",h);emit("preserveAspectRatio",item.aspect===false?"none":"xMidYMid")}function bound$4(bounds,item){const img=item.image,w=imageWidth(item,img),h=imageHeight(item,img),x=(item.x||0)-imageXOffset(item.align,w),y=(item.y||0)-imageYOffset(item.baseline,h);return bounds.set(x,y,x+w,y+h)}function draw$3(context,scene,bounds){visit(scene,item=>{if(bounds&&!bounds.intersects(item.bounds))return;const img=getImage(item,this);let w=imageWidth(item,img);let h=imageHeight(item,img);if(w===0||h===0)return;let x=(item.x||0)-imageXOffset(item.align,w),y=(item.y||0)-imageYOffset(item.baseline,h),opacity,ar0,ar1,t;if(item.aspect!==false){ar0=img.width/img.height;ar1=item.width/item.height;if(ar0===ar0&&ar1===ar1&&ar0!==ar1){if(ar1<ar0){t=w/ar0;y+=(h-t)/2;h=t}else{t=h*ar0;x+=(w-t)/2;w=t}}}if(img.complete||img.toDataURL){blend(context,item);context.globalAlpha=(opacity=item.opacity)!=null?opacity:1;context.imageSmoothingEnabled=item.smooth!==false;context.drawImage(img,x,y,w,h)}})}var image={type:"image",tag:"image",nested:false,attr:attr$4,bound:bound$4,draw:draw$3,pick:pick$1(),isect:truthy,get:getImage,xOffset:imageXOffset,yOffset:imageYOffset};var line$2=markMultiItemPath("line",line$1,pickLine);function attr$3(emit,item){var sx=item.scaleX||1,sy=item.scaleY||1;if(sx!==1||sy!==1){emit("vector-effect","non-scaling-stroke")}emit("transform",transformItem(item));emit("d",item.path)}function path$1(context,item){var path=item.path;if(path==null)return true;var x=item.x||0,y=item.y||0,sx=item.scaleX||1,sy=item.scaleY||1,a=(item.angle||0)*DegToRad,cache=item.pathCache;if(!cache||cache.path!==path){(item.pathCache=cache=parse$3(path)).path=path}if(a&&context.rotate&&context.translate){context.translate(x,y);context.rotate(a);pathRender(context,cache,0,0,sx,sy);context.rotate(-a);context.translate(-x,-y)}else{pathRender(context,cache,x,y,sx,sy)}}function bound$3(bounds,item){return path$1(boundContext(bounds,item.angle),item)?bounds.set(0,0,0,0):boundStroke(bounds,item,true)}var path$2={type:"path",tag:"path",nested:false,attr:attr$3,bound:bound$3,draw:drawAll(path$1),pick:pickPath(path$1),isect:intersectPath(path$1)};function attr$2(emit,item){emit("d",rectangle(null,item))}function bound$2(bounds,item){var x,y;return boundStroke(bounds.set(x=item.x||0,y=item.y||0,x+item.width||0,y+item.height||0),item)}function draw$2(context,item){context.beginPath();rectangle(context,item)}var rect={type:"rect",tag:"path",nested:false,attr:attr$2,bound:bound$2,draw:drawAll(draw$2),pick:pickPath(draw$2),isect:intersectRect};function attr$1(emit,item){emit("transform",translateItem(item));emit("x2",item.x2!=null?item.x2-(item.x||0):0);emit("y2",item.y2!=null?item.y2-(item.y||0):0)}function bound$1(bounds,item){var x1,y1;return boundStroke(bounds.set(x1=item.x||0,y1=item.y||0,item.x2!=null?item.x2:x1,item.y2!=null?item.y2:y1),item)}function path(context,item,opacity){var x1,y1,x2,y2;if(item.stroke&&stroke(context,item,opacity)){x1=item.x||0;y1=item.y||0;x2=item.x2!=null?item.x2:x1;y2=item.y2!=null?item.y2:y1;context.beginPath();context.moveTo(x1,y1);context.lineTo(x2,y2);return true}return false}function draw$1(context,scene,bounds){visit(scene,item=>{if(bounds&&!bounds.intersects(item.bounds))return;var opacity=item.opacity==null?1:item.opacity;if(opacity&&path(context,item,opacity)){blend(context,item);context.stroke()}})}function hit$1(context,item,x,y){if(!context.isPointInStroke)return false;return path(context,item,1)&&context.isPointInStroke(x,y)}var rule$1={type:"rule",tag:"line",nested:false,attr:attr$1,bound:bound$1,draw:draw$1,pick:pick$1(hit$1),isect:intersectRule};var shape=markItemPath("shape",shape$1);var symbol=markItemPath("symbol",symbol$1,intersectPoint);const widthCache=lruCache();var textMetrics={height:fontSize,measureWidth:measureWidth,estimateWidth:estimateWidth,width:estimateWidth,canvas:useCanvas};useCanvas(true);function useCanvas(use){textMetrics.width=use&&context$2?measureWidth:estimateWidth}function estimateWidth(item,text){return _estimateWidth(textValue(item,text),fontSize(item))}function _estimateWidth(text,currentFontHeight){return~~(.8*text.length*currentFontHeight)}function measureWidth(item,text){return fontSize(item)<=0||!(text=textValue(item,text))?0:_measureWidth(text,font(item))}function _measureWidth(text,currentFont){const key=`(${currentFont}) ${text}`;let width=widthCache.get(key);if(width===undefined){context$2.font=currentFont;width=context$2.measureText(text).width;widthCache.set(key,width)}return width}function fontSize(item){return item.fontSize!=null?+item.fontSize||0:11}function lineHeight(item){return item.lineHeight!=null?item.lineHeight:fontSize(item)+2}function lineArray(_){return isArray(_)?_.length>1?_:_[0]:_}function textLines(item){return lineArray(item.lineBreak&&item.text&&!isArray(item.text)?item.text.split(item.lineBreak):item.text)}function multiLineOffset(item){const tl=textLines(item);return(isArray(tl)?tl.length-1:0)*lineHeight(item)}function textValue(item,line){const text=line==null?"":(line+"").trim();return item.limit>0&&text.length?truncate(item,text):text}function widthGetter(item){if(textMetrics.width===measureWidth){const currentFont=font(item);return text=>_measureWidth(text,currentFont)}else{const currentFontHeight=fontSize(item);return text=>_estimateWidth(text,currentFontHeight)}}function truncate(item,text){var limit=+item.limit,width=widthGetter(item);if(width(text)<limit)return text;var ellipsis=item.ellipsis||"",rtl=item.dir==="rtl",lo=0,hi=text.length,mid;limit-=width(ellipsis);if(rtl){while(lo<hi){mid=lo+hi>>>1;if(width(text.slice(mid))>limit)lo=mid+1;else hi=mid}return ellipsis+text.slice(lo)}else{while(lo<hi){mid=1+(lo+hi>>>1);if(width(text.slice(0,mid))<limit)lo=mid;else hi=mid-1}return text.slice(0,lo)+ellipsis}}function fontFamily(item,quote){var font=item.font;return(quote&&font?String(font).replace(/"/g,"'"):font)||"sans-serif"}function font(item,quote){return""+(item.fontStyle?item.fontStyle+" ":"")+(item.fontVariant?item.fontVariant+" ":"")+(item.fontWeight?item.fontWeight+" ":"")+fontSize(item)+"px "+fontFamily(item,quote)}function offset$2(item){var baseline=item.baseline,h=fontSize(item);return Math.round(baseline==="top"?.79*h:baseline==="middle"?.3*h:baseline==="bottom"?-.21*h:baseline==="line-top"?.29*h+.5*lineHeight(item):baseline==="line-bottom"?.29*h-.5*lineHeight(item):0)}const textAlign={left:"start",center:"middle",right:"end"};const tempBounds$1=new Bounds;function anchorPoint(item){var x=item.x||0,y=item.y||0,r=item.radius||0,t;if(r){t=(item.theta||0)-HalfPi;x+=r*Math.cos(t);y+=r*Math.sin(t)}tempBounds$1.x1=x;tempBounds$1.y1=y;return tempBounds$1}function attr(emit,item){var dx=item.dx||0,dy=(item.dy||0)+offset$2(item),p=anchorPoint(item),x=p.x1,y=p.y1,a=item.angle||0,t;emit("text-anchor",textAlign[item.align]||"start");if(a){t=translate$1(x,y)+" "+rotate(a);if(dx||dy)t+=" "+translate$1(dx,dy)}else{t=translate$1(x+dx,y+dy)}emit("transform",t)}function bound(bounds,item,mode){var h=textMetrics.height(item),a=item.align,p=anchorPoint(item),x=p.x1,y=p.y1,dx=item.dx||0,dy=(item.dy||0)+offset$2(item)-Math.round(.8*h),tl=textLines(item),w;if(isArray(tl)){h+=lineHeight(item)*(tl.length-1);w=tl.reduce((w,t)=>Math.max(w,textMetrics.width(item,t)),0)}else{w=textMetrics.width(item,tl)}if(a==="center"){dx-=w/2}else if(a==="right"){dx-=w}else;bounds.set(dx+=x,dy+=y,dx+w,dy+h);if(item.angle&&!mode){bounds.rotate(item.angle*DegToRad,x,y)}else if(mode===2){return bounds.rotatedPoints(item.angle*DegToRad,x,y)}return bounds}function draw$5(context,scene,bounds){visit(scene,item=>{var opacity=item.opacity==null?1:item.opacity,p,x,y,i,lh,tl,str;if(bounds&&!bounds.intersects(item.bounds)||opacity===0||item.fontSize<=0||item.text==null||item.text.length===0)return;context.font=font(item);context.textAlign=item.align||"left";p=anchorPoint(item);x=p.x1,y=p.y1;if(item.angle){context.save();context.translate(x,y);context.rotate(item.angle*DegToRad);x=y=0}x+=item.dx||0;y+=(item.dy||0)+offset$2(item);tl=textLines(item);blend(context,item);if(isArray(tl)){lh=lineHeight(item);for(i=0;i<tl.length;++i){str=textValue(item,tl[i]);if(item.fill&&fill(context,item,opacity)){context.fillText(str,x,y)}if(item.stroke&&stroke(context,item,opacity)){context.strokeText(str,x,y)}y+=lh}}else{str=textValue(item,tl);if(item.fill&&fill(context,item,opacity)){context.fillText(str,x,y)}if(item.stroke&&stroke(context,item,opacity)){context.strokeText(str,x,y)}}if(item.angle)context.restore()})}function hit(context,item,x,y,gx,gy){if(item.fontSize<=0)return false;if(!item.angle)return true;var p=anchorPoint(item),ax=p.x1,ay=p.y1,b=bound(tempBounds$1,item,1),a=-item.angle*DegToRad,cos=Math.cos(a),sin=Math.sin(a),px=cos*gx-sin*gy+(ax-cos*ax+sin*ay),py=sin*gx+cos*gy+(ay-sin*ax-cos*ay);return b.contains(px,py)}function intersectText(item,box){const p=bound(tempBounds$1,item,2);return intersectBoxLine(box,p[0],p[1],p[2],p[3])||intersectBoxLine(box,p[0],p[1],p[4],p[5])||intersectBoxLine(box,p[4],p[5],p[6],p[7])||intersectBoxLine(box,p[2],p[3],p[6],p[7])}var text={type:"text",tag:"text",nested:false,attr:attr,bound:bound,draw:draw$5,pick:pick$1(hit),isect:intersectText};var trail=markMultiItemPath("trail",trail$1,pickTrail);var Marks={arc:arc$2,area:area$2,group:group,image:image,line:line$2,path:path$2,rect:rect,rule:rule$1,shape:shape,symbol:symbol,text:text,trail:trail};function boundItem$1(item,func,opt){var type=Marks[item.mark.marktype],bound=func||type.bound;if(type.nested)item=item.mark;return bound(item.bounds||(item.bounds=new Bounds),item,opt)}var DUMMY={mark:null};function boundMark(mark,bounds,opt){var type=Marks[mark.marktype],bound=type.bound,items=mark.items,hasItems=items&&items.length,i,n,item,b;if(type.nested){if(hasItems){item=items[0]}else{DUMMY.mark=mark;item=DUMMY}b=boundItem$1(item,bound,opt);bounds=bounds&&bounds.union(b)||b;return bounds}bounds=bounds||mark.bounds&&mark.bounds.clear()||new Bounds;if(hasItems){for(i=0,n=items.length;i<n;++i){bounds.union(boundItem$1(items[i],bound,opt))}}return mark.bounds=bounds}const keys$1=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function sceneToJSON(scene,indent){return JSON.stringify(scene,keys$1,indent)}function sceneFromJSON(json){const scene=typeof json==="string"?JSON.parse(json):json;return initialize$1(scene)}function initialize$1(scene){var type=scene.marktype,items=scene.items,parent,i,n;if(items){for(i=0,n=items.length;i<n;++i){parent=type?"mark":"group";items[i][parent]=scene;if(items[i].zindex)items[i][parent].zdirty=true;if("group"===(type||parent))initialize$1(items[i])}}if(type)boundMark(scene);return scene}function Scenegraph(scene){if(arguments.length){this.root=sceneFromJSON(scene)}else{this.root=createMark({marktype:"group",name:"root",role:"frame"});this.root.items=[new GroupItem(this.root)]}}Scenegraph.prototype={toJSON(indent){return sceneToJSON(this.root,indent||0)},mark(markdef,group,index){group=group||this.root.items[0];const mark=createMark(markdef,group);group.items[index]=mark;if(mark.zindex)mark.group.zdirty=true;return mark}};function createMark(def,group){const mark={bounds:new Bounds,clip:!!def.clip,group:group,interactive:def.interactive===false?false:true,items:[],marktype:def.marktype,name:def.name||undefined,role:def.role||undefined,zindex:def.zindex||0};if(def.aria!=null){mark.aria=def.aria}if(def.description){mark.description=def.description}return mark}function domCreate(doc,tag,ns){if(!doc&&typeof document!=="undefined"&&document.createElement){doc=document}return doc?ns?doc.createElementNS(ns,tag):doc.createElement(tag):null}function domFind(el,tag){tag=tag.toLowerCase();var nodes=el.childNodes,i=0,n=nodes.length;for(;i<n;++i)if(nodes[i].tagName.toLowerCase()===tag){return nodes[i]}}function domChild(el,index,tag,ns){var a=el.childNodes[index],b;if(!a||a.tagName.toLowerCase()!==tag.toLowerCase()){b=a||null;a=domCreate(el.ownerDocument,tag,ns);el.insertBefore(a,b)}return a}function domClear(el,index){var nodes=el.childNodes,curr=nodes.length;while(curr>index)el.removeChild(nodes[--curr]);return el}function cssClass(mark){return"mark-"+mark.marktype+(mark.role?" role-"+mark.role:"")+(mark.name?" "+mark.name:"")}function point$1(event,el){const rect=el.getBoundingClientRect();return[event.clientX-rect.left-(el.clientLeft||0),event.clientY-rect.top-(el.clientTop||0)]}function resolveItem(item,event,el,origin){var mark=item&&item.mark,mdef,p;if(mark&&(mdef=Marks[mark.marktype]).tip){p=point$1(event,el);p[0]-=origin[0];p[1]-=origin[1];while(item=item.mark.group){p[0]-=item.x||0;p[1]-=item.y||0}item=mdef.tip(mark.items,p)}return item}function Handler(customLoader,customTooltip){this._active=null;this._handlers={};this._loader=customLoader||loader();this._tooltip=customTooltip||defaultTooltip$1}function defaultTooltip$1(handler,event,item,value){handler.element().setAttribute("title",value||"")}Handler.prototype={initialize(el,origin,obj){this._el=el;this._obj=obj||null;return this.origin(origin)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(origin){if(arguments.length){this._origin=origin||[0,0];return this}else{return this._origin.slice()}},scene(scene){if(!arguments.length)return this._scene;this._scene=scene;return this},on(){},off(){},_handlerIndex(h,type,handler){for(let i=h?h.length:0;--i>=0;){if(h[i].type===type&&(!handler||h[i].handler===handler)){return i}}return-1},handlers(type){const h=this._handlers,a=[];if(type){a.push(...h[this.eventName(type)])}else{for(const k in h){a.push(...h[k])}}return a},eventName(name){const i=name.indexOf(".");return i<0?name:name.slice(0,i)},handleHref(event,item,href){this._loader.sanitize(href,{context:"href"}).then(opt=>{const e=new MouseEvent(event.type,event),a=domCreate(null,"a");for(const name in opt)a.setAttribute(name,opt[name]);a.dispatchEvent(e)}).catch(()=>{})},handleTooltip(event,item,show){if(item&&item.tooltip!=null){item=resolveItem(item,event,this.canvas(),this._origin);const value=show&&item&&item.tooltip||null;this._tooltip.call(this._obj,this,event,item,value)}},getItemBoundingClientRect(item){const el=this.canvas();if(!el)return;const rect=el.getBoundingClientRect(),origin=this._origin,bounds=item.bounds,width=bounds.width(),height=bounds.height();let x=bounds.x1+origin[0]+rect.left,y=bounds.y1+origin[1]+rect.top;while(item.mark&&(item=item.mark.group)){x+=item.x||0;y+=item.y||0}return{x:x,y:y,width:width,height:height,left:x,top:y,right:x+width,bottom:y+height}}};function Renderer(loader){this._el=null;this._bgcolor=null;this._loader=new ResourceLoader(loader)}Renderer.prototype={initialize(el,width,height,origin,scaleFactor){this._el=el;return this.resize(width,height,origin,scaleFactor)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(bgcolor){if(arguments.length===0)return this._bgcolor;this._bgcolor=bgcolor;return this},resize(width,height,origin,scaleFactor){this._width=width;this._height=height;this._origin=origin||[0,0];this._scale=scaleFactor||1;return this},dirty(){},render(scene){const r=this;r._call=function(){r._render(scene)};r._call();r._call=null;return r},_render(){},renderAsync(scene){const r=this.render(scene);return this._ready?this._ready.then(()=>r):Promise.resolve(r)},_load(method,uri){var r=this,p=r._loader[method](uri);if(!r._ready){const call=r._call;r._ready=r._loader.ready().then(redraw=>{if(redraw)call();r._ready=null})}return p},sanitizeURL(uri){return this._load("sanitizeURL",uri)},loadImage(uri){return this._load("loadImage",uri)}};const KeyDownEvent="keydown";const KeyPressEvent="keypress";const KeyUpEvent="keyup";const DragEnterEvent="dragenter";const DragLeaveEvent="dragleave";const DragOverEvent="dragover";const MouseDownEvent="mousedown";const MouseUpEvent="mouseup";const MouseMoveEvent="mousemove";const MouseOutEvent="mouseout";const MouseOverEvent="mouseover";const ClickEvent="click";const DoubleClickEvent="dblclick";const WheelEvent="wheel";const MouseWheelEvent="mousewheel";const TouchStartEvent="touchstart";const TouchMoveEvent="touchmove";const TouchEndEvent="touchend";const Events=[KeyDownEvent,KeyPressEvent,KeyUpEvent,DragEnterEvent,DragLeaveEvent,DragOverEvent,MouseDownEvent,MouseUpEvent,MouseMoveEvent,MouseOutEvent,MouseOverEvent,ClickEvent,DoubleClickEvent,WheelEvent,MouseWheelEvent,TouchStartEvent,TouchMoveEvent,TouchEndEvent];const TooltipShowEvent=MouseMoveEvent;const TooltipHideEvent=MouseOutEvent;const HrefEvent=ClickEvent;function CanvasHandler(loader,tooltip){Handler.call(this,loader,tooltip);this._down=null;this._touch=null;this._first=true;this._events={}}const eventBundle=type=>type===TouchStartEvent||type===TouchMoveEvent||type===TouchEndEvent?[TouchStartEvent,TouchMoveEvent,TouchEndEvent]:[type];function eventListenerCheck(handler,type){eventBundle(type).forEach(_=>addEventListener(handler,_))}function addEventListener(handler,type){const canvas=handler.canvas();if(canvas&&!handler._events[type]){handler._events[type]=1;canvas.addEventListener(type,handler[type]?evt=>handler[type](evt):evt=>handler.fire(type,evt))}}function move(moveEvent,overEvent,outEvent){return function(evt){const a=this._active,p=this.pickEvent(evt);if(p===a){this.fire(moveEvent,evt)}else{if(!a||!a.exit){this.fire(outEvent,evt)}this._active=p;this.fire(overEvent,evt);this.fire(moveEvent,evt)}}}function inactive(type){return function(evt){this.fire(type,evt);this._active=null}}inherits(CanvasHandler,Handler,{initialize(el,origin,obj){this._canvas=el&&domFind(el,"canvas");[ClickEvent,MouseDownEvent,MouseMoveEvent,MouseOutEvent,DragLeaveEvent].forEach(type=>eventListenerCheck(this,type));return Handler.prototype.initialize.call(this,el,origin,obj)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:Events,DOMMouseScroll(evt){this.fire(MouseWheelEvent,evt)},mousemove:move(MouseMoveEvent,MouseOverEvent,MouseOutEvent),dragover:move(DragOverEvent,DragEnterEvent,DragLeaveEvent),mouseout:inactive(MouseOutEvent),dragleave:inactive(DragLeaveEvent),mousedown(evt){this._down=this._active;this.fire(MouseDownEvent,evt)},click(evt){if(this._down===this._active){this.fire(ClickEvent,evt);this._down=null}},touchstart(evt){this._touch=this.pickEvent(evt.changedTouches[0]);if(this._first){this._active=this._touch;this._first=false}this.fire(TouchStartEvent,evt,true)},touchmove(evt){this.fire(TouchMoveEvent,evt,true)},touchend(evt){this.fire(TouchEndEvent,evt,true);this._touch=null},fire(type,evt,touch){const a=touch?this._touch:this._active,h=this._handlers[type];evt.vegaType=type;if(type===HrefEvent&&a&&a.href){this.handleHref(evt,a,a.href)}else if(type===TooltipShowEvent||type===TooltipHideEvent){this.handleTooltip(evt,a,type!==TooltipHideEvent)}if(h){for(let i=0,len=h.length;i<len;++i){h[i].handler.call(this._obj,evt,a)}}},on(type,handler){const name=this.eventName(type),h=this._handlers,i=this._handlerIndex(h[name],type,handler);if(i<0){eventListenerCheck(this,type);(h[name]||(h[name]=[])).push({type:type,handler:handler})}return this},off(type,handler){const name=this.eventName(type),h=this._handlers[name],i=this._handlerIndex(h,type,handler);if(i>=0){h.splice(i,1)}return this},pickEvent(evt){const p=point$1(evt,this._canvas),o=this._origin;return this.pick(this._scene,p[0],p[1],p[0]-o[0],p[1]-o[1])},pick(scene,x,y,gx,gy){const g=this.context(),mark=Marks[scene.marktype];return mark.pick.call(this,g,scene,x,y,gx,gy)}});function devicePixelRatio(){return typeof window!=="undefined"?window.devicePixelRatio||1:1}var pixelRatio=devicePixelRatio();function resize(canvas,width,height,origin,scaleFactor,opt){const inDOM=typeof HTMLElement!=="undefined"&&canvas instanceof HTMLElement&&canvas.parentNode!=null,context=canvas.getContext("2d"),ratio=inDOM?pixelRatio:scaleFactor;canvas.width=width*ratio;canvas.height=height*ratio;for(const key in opt){context[key]=opt[key]}if(inDOM&&ratio!==1){canvas.style.width=width+"px";canvas.style.height=height+"px"}context.pixelRatio=ratio;context.setTransform(ratio,0,0,ratio,ratio*origin[0],ratio*origin[1]);return canvas}function CanvasRenderer(loader){Renderer.call(this,loader);this._options={};this._redraw=false;this._dirty=new Bounds;this._tempb=new Bounds}const base$1=Renderer.prototype;const viewBounds=(origin,width,height)=>(new Bounds).set(0,0,width,height).translate(-origin[0],-origin[1]);function clipToBounds(g,b,origin){b.expand(1).round();if(g.pixelRatio%1){b.scale(g.pixelRatio).round().scale(1/g.pixelRatio)}b.translate(-(origin[0]%1),-(origin[1]%1));g.beginPath();g.rect(b.x1,b.y1,b.width(),b.height());g.clip();return b}inherits(CanvasRenderer,Renderer,{initialize(el,width,height,origin,scaleFactor,options){this._options=options||{};this._canvas=this._options.externalContext?null:domCanvas(1,1,this._options.type);if(el&&this._canvas){domClear(el,0).appendChild(this._canvas);this._canvas.setAttribute("class","marks")}return base$1.initialize.call(this,el,width,height,origin,scaleFactor)},resize(width,height,origin,scaleFactor){base$1.resize.call(this,width,height,origin,scaleFactor);if(this._canvas){resize(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context)}else{const ctx=this._options.externalContext;if(!ctx)error("CanvasRenderer is missing a valid canvas or context");ctx.scale(this._scale,this._scale);ctx.translate(this._origin[0],this._origin[1])}this._redraw=true;return this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(item){const b=this._tempb.clear().union(item.bounds);let g=item.mark.group;while(g){b.translate(g.x||0,g.y||0);g=g.mark.group}this._dirty.union(b)},_render(scene){const g=this.context(),o=this._origin,w=this._width,h=this._height,db=this._dirty,vb=viewBounds(o,w,h);g.save();const b=this._redraw||db.empty()?(this._redraw=false,vb.expand(1)):clipToBounds(g,vb.intersect(db),o);this.clear(-o[0],-o[1],w,h);this.draw(g,scene,b);g.restore();db.clear();return this},draw(ctx,scene,bounds){const mark=Marks[scene.marktype];if(scene.clip)clip$2(ctx,scene);mark.draw.call(this,ctx,scene,bounds);if(scene.clip)ctx.restore()},clear(x,y,w,h){const opt=this._options,g=this.context();if(opt.type!=="pdf"&&!opt.externalContext){g.clearRect(x,y,w,h)}if(this._bgcolor!=null){g.fillStyle=this._bgcolor;g.fillRect(x,y,w,h)}}});function SVGHandler(loader,tooltip){Handler.call(this,loader,tooltip);const h=this;h._hrefHandler=listener(h,(evt,item)=>{if(item&&item.href)h.handleHref(evt,item,item.href)});h._tooltipHandler=listener(h,(evt,item)=>{h.handleTooltip(evt,item,evt.type!==TooltipHideEvent)})}const listener=(context,handler)=>evt=>{let item=evt.target.__data__;item=Array.isArray(item)?item[0]:item;evt.vegaType=evt.type;handler.call(context._obj,evt,item)};inherits(SVGHandler,Handler,{initialize(el,origin,obj){let svg=this._svg;if(svg){svg.removeEventListener(HrefEvent,this._hrefHandler);svg.removeEventListener(TooltipShowEvent,this._tooltipHandler);svg.removeEventListener(TooltipHideEvent,this._tooltipHandler)}this._svg=svg=el&&domFind(el,"svg");if(svg){svg.addEventListener(HrefEvent,this._hrefHandler);svg.addEventListener(TooltipShowEvent,this._tooltipHandler);svg.addEventListener(TooltipHideEvent,this._tooltipHandler)}return Handler.prototype.initialize.call(this,el,origin,obj)},canvas(){return this._svg},on(type,handler){const name=this.eventName(type),h=this._handlers,i=this._handlerIndex(h[name],type,handler);if(i<0){const x={type:type,handler:handler,listener:listener(this,handler)};(h[name]||(h[name]=[])).push(x);if(this._svg){this._svg.addEventListener(name,x.listener)}}return this},off(type,handler){const name=this.eventName(type),h=this._handlers[name],i=this._handlerIndex(h,type,handler);if(i>=0){if(this._svg){this._svg.removeEventListener(name,h[i].listener)}h.splice(i,1)}return this}});const ARIA_HIDDEN="aria-hidden";const ARIA_LABEL="aria-label";const ARIA_ROLE="role";const ARIA_ROLEDESCRIPTION="aria-roledescription";const GRAPHICS_OBJECT="graphics-object";const GRAPHICS_SYMBOL="graphics-symbol";const bundle=(role,roledesc,label)=>({[ARIA_ROLE]:role,[ARIA_ROLEDESCRIPTION]:roledesc,[ARIA_LABEL]:label||undefined});const AriaIgnore=toSet(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]);const AriaGuides={axis:{desc:"axis",caption:axisCaption},legend:{desc:"legend",caption:legendCaption},"title-text":{desc:"title",caption:item=>`Title text '${titleCaption(item)}'`},"title-subtitle":{desc:"subtitle",caption:item=>`Subtitle text '${titleCaption(item)}'`}};const AriaEncode={ariaRole:ARIA_ROLE,ariaRoleDescription:ARIA_ROLEDESCRIPTION,description:ARIA_LABEL};function ariaItemAttributes(emit,item){const hide=item.aria===false;emit(ARIA_HIDDEN,hide||undefined);if(hide||item.description==null){for(const prop in AriaEncode){emit(AriaEncode[prop],undefined)}}else{const type=item.mark.marktype;emit(ARIA_LABEL,item.description);emit(ARIA_ROLE,item.ariaRole||(type==="group"?GRAPHICS_OBJECT:GRAPHICS_SYMBOL));emit(ARIA_ROLEDESCRIPTION,item.ariaRoleDescription||`${type} mark`)}}function ariaMarkAttributes(mark){return mark.aria===false?{[ARIA_HIDDEN]:true}:AriaIgnore[mark.role]?null:AriaGuides[mark.role]?ariaGuide(mark,AriaGuides[mark.role]):ariaMark(mark)}function ariaMark(mark){const type=mark.marktype;const recurse=type==="group"||type==="text"||mark.items.some(_=>_.description!=null&&_.aria!==false);return bundle(recurse?GRAPHICS_OBJECT:GRAPHICS_SYMBOL,`${type} mark container`,mark.description)}function ariaGuide(mark,opt){try{const item=mark.items[0],caption=opt.caption||(()=>"");return bundle(opt.role||GRAPHICS_SYMBOL,opt.desc,item.description||caption(item))}catch(err){return null}}function titleCaption(item){return array$5(item.text).join(" ")}function axisCaption(item){const datum=item.datum,orient=item.orient,title=datum.title?extractTitle(item):null,ctx=item.context,scale=ctx.scales[datum.scale].value,locale=ctx.dataflow.locale(),type=scale.type,xy=orient==="left"||orient==="right"?"Y":"X";return`${xy}-axis`+(title?` titled '${title}'`:"")+` for a ${isDiscrete(type)?"discrete":type} scale`+` with ${domainCaption(locale,scale,item)}`}function legendCaption(item){const datum=item.datum,title=datum.title?extractTitle(item):null,type=`${datum.type||""} legend`.trim(),scales=datum.scales,props=Object.keys(scales),ctx=item.context,scale=ctx.scales[scales[props[0]]].value,locale=ctx.dataflow.locale();return capitalize(type)+(title?` titled '${title}'`:"")+` for ${channelCaption(props)}`+` with ${domainCaption(locale,scale,item)}`}function extractTitle(item){try{return array$5(peek$1(item.items).items[0].text).join(" ")}catch(err){return null}}function channelCaption(props){props=props.map(p=>p+(p==="fill"||p==="stroke"?" color":""));return props.length<2?props[0]:props.slice(0,-1).join(", ")+" and "+peek$1(props)}function capitalize(s){return s.length?s[0].toUpperCase()+s.slice(1):s}const innerText=val=>(val+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");const attrText=val=>innerText(val).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function markup(){let buf="",outer="",inner="";const stack=[],clear=()=>outer=inner="",push=tag=>{if(outer){buf+=`${outer}>${inner}`;clear()}stack.push(tag)},attr=(name,value)=>{if(value!=null)outer+=` ${name}="${attrText(value)}"`;return m},m={open(tag){push(tag);outer="<"+tag;for(var _len=arguments.length,attrs=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){attrs[_key-1]=arguments[_key]}for(const set of attrs){for(const key in set)attr(key,set[key])}return m},close(){const tag=stack.pop();if(outer){buf+=outer+(inner?`>${inner}</${tag}>`:"/>")}else{buf+=`</${tag}>`}clear();return m},attr:attr,text:t=>(inner+=innerText(t),m),toString:()=>buf};return m}const serializeXML=node=>_serialize(markup(),node)+"";function _serialize(m,node){m.open(node.tagName);if(node.hasAttributes()){const attrs=node.attributes,n=attrs.length;for(let i=0;i<n;++i){m.attr(attrs[i].name,attrs[i].value)}}if(node.hasChildNodes()){const children=node.childNodes;for(const child of children){child.nodeType===3?m.text(child.nodeValue):_serialize(m,child)}}return m.close()}const stylesAttr={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"};const stylesCss={blend:"mix-blend-mode"};const rootAttributes={fill:"none","stroke-miterlimit":10};const RootIndex=0,xmlns="http://www.w3.org/2000/xmlns/",svgns=metadata.xmlns;function SVGRenderer(loader){Renderer.call(this,loader);this._dirtyID=0;this._dirty=[];this._svg=null;this._root=null;this._defs=null}const base=Renderer.prototype;inherits(SVGRenderer,Renderer,{initialize(el,width,height,origin,scaleFactor){this._defs={};this._clearDefs();if(el){this._svg=domChild(el,0,"svg",svgns);this._svg.setAttributeNS(xmlns,"xmlns",svgns);this._svg.setAttributeNS(xmlns,"xmlns:xlink",metadata["xmlns:xlink"]);this._svg.setAttribute("version",metadata["version"]);this._svg.setAttribute("class","marks");domClear(el,1);this._root=domChild(this._svg,RootIndex,"g",svgns);setAttributes(this._root,rootAttributes);domClear(this._svg,RootIndex+1)}this.background(this._bgcolor);return base.initialize.call(this,el,width,height,origin,scaleFactor)},background(bgcolor){if(arguments.length&&this._svg){this._svg.style.setProperty("background-color",bgcolor)}return base.background.apply(this,arguments)},resize(width,height,origin,scaleFactor){base.resize.call(this,width,height,origin,scaleFactor);if(this._svg){setAttributes(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`});this._root.setAttribute("transform",`translate(${this._origin})`)}this._dirty=[];return this},canvas(){return this._svg},svg(){const svg=this._svg,bg=this._bgcolor;if(!svg)return null;let node;if(bg){svg.removeAttribute("style");node=domChild(svg,RootIndex,"rect",svgns);setAttributes(node,{width:this._width,height:this._height,fill:bg})}const text=serializeXML(svg);if(bg){svg.removeChild(node);this._svg.style.setProperty("background-color",bg)}return text},_render(scene){if(this._dirtyCheck()){if(this._dirtyAll)this._clearDefs();this.mark(this._root,scene);domClear(this._root,1)}this.defs();this._dirty=[];++this._dirtyID;return this},dirty(item){if(item.dirty!==this._dirtyID){item.dirty=this._dirtyID;this._dirty.push(item)}},isDirty(item){return this._dirtyAll||!item._svg||!item._svg.ownerSVGElement||item.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=true;const items=this._dirty;if(!items.length||!this._dirtyID)return true;const id=++this._dirtyID;let item,mark,type,mdef,i,n,o;for(i=0,n=items.length;i<n;++i){item=items[i];mark=item.mark;if(mark.marktype!==type){type=mark.marktype;mdef=Marks[type]}if(mark.zdirty&&mark.dirty!==id){this._dirtyAll=false;dirtyParents(item,id);mark.items.forEach(i=>{i.dirty=id})}if(mark.zdirty)continue;if(item.exit){if(mdef.nested&&mark.items.length){o=mark.items[0];if(o._svg)this._update(mdef,o._svg,o)}else if(item._svg){o=item._svg.parentNode;if(o)o.removeChild(item._svg)}item._svg=null;continue}item=mdef.nested?mark.items[0]:item;if(item._update===id)continue;if(!item._svg||!item._svg.ownerSVGElement){this._dirtyAll=false;dirtyParents(item,id)}else{this._update(mdef,item._svg,item)}item._update=id}return!this._dirtyAll},mark(el,scene,prev){if(!this.isDirty(scene)){return scene._svg}const svg=this._svg,mdef=Marks[scene.marktype],events=scene.interactive===false?"none":null,isGroup=mdef.tag==="g";const parent=bind$1(scene,el,prev,"g",svg);parent.setAttribute("class",cssClass(scene));const aria=ariaMarkAttributes(scene);for(const key in aria)setAttribute(parent,key,aria[key]);if(!isGroup){setAttribute(parent,"pointer-events",events)}setAttribute(parent,"clip-path",scene.clip?clip$1$1(this,scene,scene.group):null);let sibling=null,i=0;const process=item=>{const dirty=this.isDirty(item),node=bind$1(item,parent,sibling,mdef.tag,svg);if(dirty){this._update(mdef,node,item);if(isGroup)recurse(this,node,item)}sibling=node;++i};if(mdef.nested){if(scene.items.length)process(scene.items[0])}else{visit(scene,process)}domClear(parent,i);return parent},_update(mdef,el,item){element$1=el;values=el.__values__;ariaItemAttributes(emit,item);mdef.attr(emit,item,this);const extra=mark_extras[mdef.type];if(extra)extra.call(this,mdef,el,item);if(element$1)this.style(element$1,item)},style(el,item){if(item==null)return;for(const prop in stylesAttr){let value=prop==="font"?fontFamily(item):item[prop];if(value===values[prop])continue;const name=stylesAttr[prop];if(value==null){el.removeAttribute(name)}else{if(isGradient(value)){value=gradientRef(value,this._defs.gradient,href())}el.setAttribute(name,value+"")}values[prop]=value}for(const prop in stylesCss){setStyle(el,stylesCss[prop],item[prop])}},defs(){const svg=this._svg,defs=this._defs;let el=defs.el,index=0;for(const id in defs.gradient){if(!el)defs.el=el=domChild(svg,RootIndex+1,"defs",svgns);index=updateGradient(el,defs.gradient[id],index)}for(const id in defs.clipping){if(!el)defs.el=el=domChild(svg,RootIndex+1,"defs",svgns);index=updateClipping(el,defs.clipping[id],index)}if(el){index===0?(svg.removeChild(el),defs.el=null):domClear(el,index)}},_clearDefs(){const def=this._defs;def.gradient={};def.clipping={}}});function dirtyParents(item,id){for(;item&&item.dirty!==id;item=item.mark.group){item.dirty=id;if(item.mark&&item.mark.dirty!==id){item.mark.dirty=id}else return}}function updateGradient(el,grad,index){let i,n,stop;if(grad.gradient==="radial"){let pt=domChild(el,index++,"pattern",svgns);setAttributes(pt,{id:patternPrefix+grad.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"});pt=domChild(pt,0,"rect",svgns);setAttributes(pt,{width:1,height:1,fill:`url(${href()}#${grad.id})`});el=domChild(el,index++,"radialGradient",svgns);setAttributes(el,{id:grad.id,fx:grad.x1,fy:grad.y1,fr:grad.r1,cx:grad.x2,cy:grad.y2,r:grad.r2})}else{el=domChild(el,index++,"linearGradient",svgns);setAttributes(el,{id:grad.id,x1:grad.x1,x2:grad.x2,y1:grad.y1,y2:grad.y2})}for(i=0,n=grad.stops.length;i<n;++i){stop=domChild(el,i,"stop",svgns);stop.setAttribute("offset",grad.stops[i].offset);stop.setAttribute("stop-color",grad.stops[i].color)}domClear(el,i);return index}function updateClipping(el,clip,index){let mask;el=domChild(el,index,"clipPath",svgns);el.setAttribute("id",clip.id);if(clip.path){mask=domChild(el,0,"path",svgns);mask.setAttribute("d",clip.path)}else{mask=domChild(el,0,"rect",svgns);setAttributes(mask,{x:0,y:0,width:clip.width,height:clip.height})}domClear(el,1);return index+1}function recurse(renderer,el,group){el=el.lastChild.previousSibling;let prev,idx=0;visit(group,item=>{prev=renderer.mark(el,item,prev);++idx});domClear(el,1+idx)}function bind$1(item,el,sibling,tag,svg){let node=item._svg,doc;if(!node){doc=el.ownerDocument;node=domCreate(doc,tag,svgns);item._svg=node;if(item.mark){node.__data__=item;node.__values__={fill:"default"};if(tag==="g"){const bg=domCreate(doc,"path",svgns);node.appendChild(bg);bg.__data__=item;const cg=domCreate(doc,"g",svgns);node.appendChild(cg);cg.__data__=item;const fg=domCreate(doc,"path",svgns);node.appendChild(fg);fg.__data__=item;fg.__values__={fill:"default"}}}}if(node.ownerSVGElement!==svg||siblingCheck(node,sibling)){el.insertBefore(node,sibling?sibling.nextSibling:el.firstChild)}return node}function siblingCheck(node,sibling){return node.parentNode&&node.parentNode.childNodes.length>1&&node.previousSibling!=sibling}let element$1=null,values=null;const mark_extras={group(mdef,el,item){const fg=element$1=el.childNodes[2];values=fg.__values__;mdef.foreground(emit,item,this);values=el.__values__;element$1=el.childNodes[1];mdef.content(emit,item,this);const bg=element$1=el.childNodes[0];mdef.background(emit,item,this);const value=item.mark.interactive===false?"none":null;if(value!==values.events){setAttribute(fg,"pointer-events",value);setAttribute(bg,"pointer-events",value);values.events=value}if(item.strokeForeground&&item.stroke){const fill=item.fill;setAttribute(fg,"display",null);this.style(bg,item);setAttribute(bg,"stroke",null);if(fill)item.fill=null;values=fg.__values__;this.style(fg,item);if(fill)item.fill=fill;element$1=null}else{setAttribute(fg,"display","none")}},image(mdef,el,item){if(item.smooth===false){setStyle(el,"image-rendering","optimizeSpeed");setStyle(el,"image-rendering","pixelated")}else{setStyle(el,"image-rendering",null)}},text(mdef,el,item){const tl=textLines(item);let key,value,doc,lh;if(isArray(tl)){value=tl.map(_=>textValue(item,_));key=value.join("\n");if(key!==values.text){domClear(el,0);doc=el.ownerDocument;lh=lineHeight(item);value.forEach((t,i)=>{const ts=domCreate(doc,"tspan",svgns);ts.__data__=item;ts.textContent=t;if(i){ts.setAttribute("x",0);ts.setAttribute("dy",lh)}el.appendChild(ts)});values.text=key}}else{value=textValue(item,tl);if(value!==values.text){el.textContent=value;values.text=value}}setAttribute(el,"font-family",fontFamily(item));setAttribute(el,"font-size",fontSize(item)+"px");setAttribute(el,"font-style",item.fontStyle);setAttribute(el,"font-variant",item.fontVariant);setAttribute(el,"font-weight",item.fontWeight)}};function emit(name,value,ns){if(value===values[name])return;if(ns){setAttributeNS(element$1,name,value,ns)}else{setAttribute(element$1,name,value)}values[name]=value}function setStyle(el,name,value){if(value!==values[name]){if(value==null){el.style.removeProperty(name)}else{el.style.setProperty(name,value+"")}values[name]=value}}function setAttributes(el,attrs){for(const key in attrs){setAttribute(el,key,attrs[key])}}function setAttribute(el,name,value){if(value!=null){el.setAttribute(name,value)}else{el.removeAttribute(name)}}function setAttributeNS(el,name,value,ns){if(value!=null){el.setAttributeNS(ns,name,value)}else{el.removeAttributeNS(ns,name)}}function href(){let loc;return typeof window==="undefined"?"":(loc=window.location).hash?loc.href.slice(0,-loc.hash.length):loc.href}function SVGStringRenderer(loader){Renderer.call(this,loader);this._text=null;this._defs={gradient:{},clipping:{}}}inherits(SVGStringRenderer,Renderer,{svg(){return this._text},_render(scene){const m=markup();m.open("svg",extend$1({},metadata,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const bg=this._bgcolor;if(bg&&bg!=="transparent"&&bg!=="none"){m.open("rect",{width:this._width,height:this._height,fill:bg}).close()}m.open("g",rootAttributes,{transform:"translate("+this._origin+")"});this.mark(m,scene);m.close();this.defs(m);this._text=m.close()+"";return this},mark(m,scene){const mdef=Marks[scene.marktype],tag=mdef.tag,attrList=[ariaItemAttributes,mdef.attr];m.open("g",{class:cssClass(scene),"clip-path":scene.clip?clip$1$1(this,scene,scene.group):null},ariaMarkAttributes(scene),{"pointer-events":tag!=="g"&&scene.interactive===false?"none":null});const process=item=>{const href=this.href(item);if(href)m.open("a",href);m.open(tag,this.attr(scene,item,attrList,tag!=="g"?tag:null));if(tag==="text"){const tl=textLines(item);if(isArray(tl)){const attrs={x:0,dy:lineHeight(item)};for(let i=0;i<tl.length;++i){m.open("tspan",i?attrs:null).text(textValue(item,tl[i])).close()}}else{m.text(textValue(item,tl))}}else if(tag==="g"){const fore=item.strokeForeground,fill=item.fill,stroke=item.stroke;if(fore&&stroke){item.stroke=null}m.open("path",this.attr(scene,item,mdef.background,"bgrect")).close();m.open("g",this.attr(scene,item,mdef.content));visit(item,scene=>this.mark(m,scene));m.close();if(fore&&stroke){if(fill)item.fill=null;item.stroke=stroke;m.open("path",this.attr(scene,item,mdef.foreground,"bgrect")).close();if(fill)item.fill=fill}else{m.open("path",this.attr(scene,item,mdef.foreground,"bgfore")).close()}}m.close();if(href)m.close()};if(mdef.nested){if(scene.items&&scene.items.length)process(scene.items[0])}else{visit(scene,process)}return m.close()},href(item){const href=item.href;let attr;if(href){if(attr=this._hrefs&&this._hrefs[href]){return attr}else{this.sanitizeURL(href).then(attr=>{attr["xlink:href"]=attr.href;attr.href=null;(this._hrefs||(this._hrefs={}))[href]=attr})}}return null},attr(scene,item,attrs,tag){const object={},emit=(name,value,ns,prefixed)=>{object[prefixed||name]=value};if(Array.isArray(attrs)){attrs.forEach(fn=>fn(emit,item,this))}else{attrs(emit,item,this)}if(tag){style(object,item,scene,tag,this._defs)}return object},defs(m){const gradient=this._defs.gradient,clipping=this._defs.clipping,count=Object.keys(gradient).length+Object.keys(clipping).length;if(count===0)return;m.open("defs");for(const id in gradient){const def=gradient[id],stops=def.stops;if(def.gradient==="radial"){m.open("pattern",{id:patternPrefix+id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"});m.open("rect",{width:"1",height:"1",fill:"url(#"+id+")"}).close();m.close();m.open("radialGradient",{id:id,fx:def.x1,fy:def.y1,fr:def.r1,cx:def.x2,cy:def.y2,r:def.r2})}else{m.open("linearGradient",{id:id,x1:def.x1,x2:def.x2,y1:def.y1,y2:def.y2})}for(let i=0;i<stops.length;++i){m.open("stop",{offset:stops[i].offset,"stop-color":stops[i].color}).close()}m.close()}for(const id in clipping){const def=clipping[id];m.open("clipPath",{id:id});if(def.path){m.open("path",{d:def.path}).close()}else{m.open("rect",{x:0,y:0,width:def.width,height:def.height}).close()}m.close()}m.close()}});function style(s,item,scene,tag,defs){let styleList;if(item==null)return s;if(tag==="bgrect"&&scene.interactive===false){s["pointer-events"]="none"}if(tag==="bgfore"){if(scene.interactive===false){s["pointer-events"]="none"}s.display="none";if(item.fill!==null)return s}if(tag==="image"&&item.smooth===false){styleList=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]}if(tag==="text"){s["font-family"]=fontFamily(item);s["font-size"]=fontSize(item)+"px";s["font-style"]=item.fontStyle;s["font-variant"]=item.fontVariant;s["font-weight"]=item.fontWeight}for(const prop in stylesAttr){let value=item[prop];const name=stylesAttr[prop];if(value==="transparent"&&(name==="fill"||name==="stroke"));else if(value!=null){if(isGradient(value)){value=gradientRef(value,defs.gradient,"")}s[name]=value}}for(const prop in stylesCss){const value=item[prop];if(value!=null){styleList=styleList||[];styleList.push(`${stylesCss[prop]}: ${value};`)}}if(styleList){s.style=styleList.join(" ")}return s}const Canvas="canvas";const PNG="png";const SVG="svg";const None$1="none";const RenderType={Canvas:Canvas,PNG:PNG,SVG:SVG,None:None$1};const modules={};modules[Canvas]=modules[PNG]={renderer:CanvasRenderer,headless:CanvasRenderer,handler:CanvasHandler};modules[SVG]={renderer:SVGRenderer,headless:SVGStringRenderer,handler:SVGHandler};modules[None$1]={};function renderModule(name,_){name=String(name||"").toLowerCase();if(arguments.length>1){modules[name]=_;return this}else{return modules[name]}}function intersect$2(scene,bounds,filter){const hits=[],box=(new Bounds).union(bounds),type=scene.marktype;return type?intersectMark(scene,box,filter,hits):type==="group"?intersectGroup(scene,box,filter,hits):error("Intersect scene must be mark node or group item.")}function intersectMark(mark,box,filter,hits){if(visitMark(mark,box,filter)){const items=mark.items,type=mark.marktype,n=items.length;let i=0;if(type==="group"){for(;i<n;++i){intersectGroup(items[i],box,filter,hits)}}else{for(const test=Marks[type].isect;i<n;++i){const item=items[i];if(intersectItem(item,box,test))hits.push(item)}}}return hits}function visitMark(mark,box,filter){return mark.bounds&&box.intersects(mark.bounds)&&(mark.marktype==="group"||mark.interactive!==false&&(!filter||filter(mark)))}function intersectGroup(group,box,filter,hits){if(filter&&filter(group.mark)&&intersectItem(group,box,Marks.group.isect)){hits.push(group)}const marks=group.items,n=marks&&marks.length;if(n){const x=group.x||0,y=group.y||0;box.translate(-x,-y);for(let i=0;i<n;++i){intersectMark(marks[i],box,filter,hits)}box.translate(x,y)}return hits}function intersectItem(item,box,test){const bounds=item.bounds;return box.encloses(bounds)||box.intersects(bounds)&&test(item,box)}const clipBounds=new Bounds;function boundClip(mark){const clip=mark.clip;if(isFunction(clip)){clip(boundContext(clipBounds.clear()))}else if(clip){clipBounds.set(0,0,mark.group.width,mark.group.height)}else return;mark.bounds.intersect(clipBounds)}const TOLERANCE=1e-9;function sceneEqual(a,b,key){return a===b?true:key==="path"?pathEqual(a,b):a instanceof Date&&b instanceof Date?+a===+b:isNumber$1(a)&&isNumber$1(b)?Math.abs(a-b)<=TOLERANCE:!a||!b||!isObject(a)&&!isObject(b)?a==b:objectEqual(a,b)}function pathEqual(a,b){return sceneEqual(parse$3(a),parse$3(b))}function objectEqual(a,b){var ka=Object.keys(a),kb=Object.keys(b),key,i;if(ka.length!==kb.length)return false;ka.sort();kb.sort();for(i=ka.length-1;i>=0;i--){if(ka[i]!=kb[i])return false}for(i=ka.length-1;i>=0;i--){key=ka[i];if(!sceneEqual(a[key],b[key],key))return false}return typeof a===typeof b}function resetSVGDefIds(){resetSVGClipId();resetSVGGradientId()}const Top$1="top";const Left$1="left";const Right$1="right";const Bottom$1="bottom";const TopLeft="top-left";const TopRight="top-right";const BottomLeft="bottom-left";const BottomRight="bottom-right";const Start$1="start";const Middle$1="middle";const End$1="end";const X="x";const Y="y";const Group="group";const AxisRole$1="axis";const TitleRole$1="title";const FrameRole$1="frame";const ScopeRole$1="scope";const LegendRole$1="legend";const RowHeader="row-header";const RowFooter="row-footer";const RowTitle="row-title";const ColHeader="column-header";const ColFooter="column-footer";const ColTitle="column-title";const Padding$1="padding";const Symbols$1="symbol";const Fit="fit";const FitX="fit-x";const FitY="fit-y";const Pad="pad";const None="none";const All="all";const Each="each";const Flush="flush";const Column="column";const Row="row";function Bound$1(params){Transform.call(this,null,params)}inherits(Bound$1,Transform,{transform(_,pulse){const view=pulse.dataflow,mark=_.mark,type=mark.marktype,entry=Marks[type],bound=entry.bound;let markBounds=mark.bounds,rebound;if(entry.nested){if(mark.items.length)view.dirty(mark.items[0]);markBounds=boundItem(mark,bound);mark.items.forEach(item=>{item.bounds.clear().union(markBounds)})}else if(type===Group||_.modified()){pulse.visit(pulse.MOD,item=>view.dirty(item));markBounds.clear();mark.items.forEach(item=>markBounds.union(boundItem(item,bound)));switch(mark.role){case AxisRole$1:case LegendRole$1:case TitleRole$1:pulse.reflow()}}else{rebound=pulse.changed(pulse.REM);pulse.visit(pulse.ADD,item=>{markBounds.union(boundItem(item,bound))});pulse.visit(pulse.MOD,item=>{rebound=rebound||markBounds.alignsWith(item.bounds);view.dirty(item);markBounds.union(boundItem(item,bound))});if(rebound){markBounds.clear();mark.items.forEach(item=>markBounds.union(item.bounds))}}boundClip(mark);return pulse.modifies("bounds")}});function boundItem(item,bound,opt){return bound(item.bounds.clear(),item,opt)}const COUNTER_NAME=":vega_identifier:";function Identifier$1(params){Transform.call(this,0,params)}Identifier$1.Definition={type:"Identifier",metadata:{modifies:true},params:[{name:"as",type:"string",required:true}]};inherits(Identifier$1,Transform,{transform(_,pulse){const counter=getCounter(pulse.dataflow),as=_.as;let id=counter.value;pulse.visit(pulse.ADD,t=>t[as]=t[as]||++id);counter.set(this.value=id);return pulse}});function getCounter(view){return view._signals[COUNTER_NAME]||(view._signals[COUNTER_NAME]=view.add(0))}function Mark$1(params){Transform.call(this,null,params)}inherits(Mark$1,Transform,{transform(_,pulse){let mark=this.value;if(!mark){mark=pulse.dataflow.scenegraph().mark(_.markdef,lookup$1$1(_),_.index);mark.group.context=_.context;if(!_.context.group)_.context.group=mark.group;mark.source=this.source;mark.clip=_.clip;mark.interactive=_.interactive;this.value=mark}const Init=mark.marktype===Group?GroupItem:Item;pulse.visit(pulse.ADD,item=>Init.call(item,mark));if(_.modified("clip")||_.modified("interactive")){mark.clip=_.clip;mark.interactive=!!_.interactive;mark.zdirty=true;pulse.reflow()}mark.items=pulse.source;return pulse}});function lookup$1$1(_){const g=_.groups,p=_.parent;return g&&g.size===1?g.get(Object.keys(g.object)[0]):g&&p?g.lookup(p):null}function Overlap$1(params){Transform.call(this,null,params)}const methods={parity:items=>items.filter((item,i)=>i%2?item.opacity=0:1),greedy:(items,sep)=>{let a;return items.filter((b,i)=>!i||!intersect$1(a.bounds,b.bounds,sep)?(a=b,1):b.opacity=0)}};const intersect$1=(a,b,sep)=>sep>Math.max(b.x1-a.x2,a.x1-b.x2,b.y1-a.y2,a.y1-b.y2);const hasOverlap=(items,pad)=>{for(var i=1,n=items.length,a=items[0].bounds,b;i<n;a=b,++i){if(intersect$1(a,b=items[i].bounds,pad))return true}};const hasBounds=item=>{const b=item.bounds;return b.width()>1&&b.height()>1};const boundTest=(scale,orient,tolerance)=>{var range=scale.range(),b=new Bounds;if(orient===Top$1||orient===Bottom$1){b.set(range[0],-Infinity,range[1],+Infinity)}else{b.set(-Infinity,range[0],+Infinity,range[1])}b.expand(tolerance||1);return item=>b.encloses(item.bounds)};const reset=source=>{source.forEach(item=>item.opacity=1);return source};const reflow=(pulse,_)=>pulse.reflow(_.modified()).modifies("opacity");inherits(Overlap$1,Transform,{transform(_,pulse){const reduce=methods[_.method]||methods.parity,sep=_.separation||0;let source=pulse.materialize(pulse.SOURCE).source,items,test;if(!source||!source.length)return;if(!_.method){if(_.modified("method")){reset(source);pulse=reflow(pulse,_)}return pulse}source=source.filter(hasBounds);if(!source.length)return;if(_.sort){source=source.slice().sort(_.sort)}items=reset(source);pulse=reflow(pulse,_);if(items.length>=3&&hasOverlap(items,sep)){do{items=reduce(items,sep)}while(items.length>=3&&hasOverlap(items,sep));if(items.length<3&&!peek$1(source).opacity){if(items.length>1)peek$1(items).opacity=0;peek$1(source).opacity=1}}if(_.boundScale&&_.boundTolerance>=0){test=boundTest(_.boundScale,_.boundOrient,+_.boundTolerance);source.forEach(item=>{if(!test(item))item.opacity=0})}const bounds=items[0].mark.bounds.clear();source.forEach(item=>{if(item.opacity)bounds.union(item.bounds)});return pulse}});function Render$1(params){Transform.call(this,null,params)}inherits(Render$1,Transform,{transform(_,pulse){const view=pulse.dataflow;pulse.visit(pulse.ALL,item=>view.dirty(item));if(pulse.fields&&pulse.fields["zindex"]){const item=pulse.source&&pulse.source[0];if(item)item.mark.zdirty=true}}});const tempBounds=new Bounds;function set$2(item,property,value){return item[property]===value?0:(item[property]=value,1)}function isYAxis(mark){var orient=mark.items[0].orient;return orient===Left$1||orient===Right$1}function axisIndices(datum){let index=+datum.grid;return[datum.ticks?index++:-1,datum.labels?index++:-1,index+ +datum.domain]}function axisLayout(view,axis,width,height){var item=axis.items[0],datum=item.datum,delta=item.translate!=null?item.translate:.5,orient=item.orient,indices=axisIndices(datum),range=item.range,offset=item.offset,position=item.position,minExtent=item.minExtent,maxExtent=item.maxExtent,title=datum.title&&item.items[indices[2]].items[0],titlePadding=item.titlePadding,bounds=item.bounds,dl=title&&multiLineOffset(title),x=0,y=0,i,s;tempBounds.clear().union(bounds);bounds.clear();if((i=indices[0])>-1)bounds.union(item.items[i].bounds);if((i=indices[1])>-1)bounds.union(item.items[i].bounds);switch(orient){case Top$1:x=position||0;y=-offset;s=Math.max(minExtent,Math.min(maxExtent,-bounds.y1));bounds.add(0,-s).add(range,0);if(title)axisTitleLayout(view,title,s,titlePadding,dl,0,-1,bounds);break;case Left$1:x=-offset;y=position||0;s=Math.max(minExtent,Math.min(maxExtent,-bounds.x1));bounds.add(-s,0).add(0,range);if(title)axisTitleLayout(view,title,s,titlePadding,dl,1,-1,bounds);break;case Right$1:x=width+offset;y=position||0;s=Math.max(minExtent,Math.min(maxExtent,bounds.x2));bounds.add(0,0).add(s,range);if(title)axisTitleLayout(view,title,s,titlePadding,dl,1,1,bounds);break;case Bottom$1:x=position||0;y=height+offset;s=Math.max(minExtent,Math.min(maxExtent,bounds.y2));bounds.add(0,0).add(range,s);if(title)axisTitleLayout(view,title,s,titlePadding,0,0,1,bounds);break;default:x=item.x;y=item.y}boundStroke(bounds.translate(x,y),item);if(set$2(item,"x",x+delta)|set$2(item,"y",y+delta)){item.bounds=tempBounds;view.dirty(item);item.bounds=bounds;view.dirty(item)}return item.mark.bounds.clear().union(bounds)}function axisTitleLayout(view,title,offset,pad,dl,isYAxis,sign,bounds){const b=title.bounds;if(title.auto){const v=sign*(offset+dl+pad);let dx=0,dy=0;view.dirty(title);isYAxis?dx=(title.x||0)-(title.x=v):dy=(title.y||0)-(title.y=v);title.mark.bounds.clear().union(b.translate(-dx,-dy));view.dirty(title)}bounds.union(b)}const min=(a,b)=>Math.floor(Math.min(a,b));const max=(a,b)=>Math.ceil(Math.max(a,b));function gridLayoutGroups(group){var groups=group.items,n=groups.length,i=0,mark,items;const views={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;i<n;++i){mark=groups[i];items=mark.items;if(mark.marktype===Group){switch(mark.role){case AxisRole$1:case LegendRole$1:case TitleRole$1:break;case RowHeader:views.rowheaders.push(...items);break;case RowFooter:views.rowfooters.push(...items);break;case ColHeader:views.colheaders.push(...items);break;case ColFooter:views.colfooters.push(...items);break;case RowTitle:views.rowtitle=items[0];break;case ColTitle:views.coltitle=items[0];break;default:views.marks.push(...items)}}}return views}function bboxFlush(item){return(new Bounds).set(0,0,item.width||0,item.height||0)}function bboxFull(item){const b=item.bounds.clone();return b.empty()?b.set(0,0,0,0):b.translate(-(item.x||0),-(item.y||0))}function get$1(opt,key,d){const v=isObject(opt)?opt[key]:opt;return v!=null?v:d!==undefined?d:0}function offsetValue$1(v){return v<0?Math.ceil(-v):0}function gridLayout(view,groups,opt){var dirty=!opt.nodirty,bbox=opt.bounds===Flush?bboxFlush:bboxFull,bounds=tempBounds.set(0,0,0,0),alignCol=get$1(opt.align,Column),alignRow=get$1(opt.align,Row),padCol=get$1(opt.padding,Column),padRow=get$1(opt.padding,Row),ncols=opt.columns||groups.length,nrows=ncols<=0?1:Math.ceil(groups.length/ncols),n=groups.length,xOffset=Array(n),xExtent=Array(ncols),xMax=0,yOffset=Array(n),yExtent=Array(nrows),yMax=0,dx=Array(n),dy=Array(n),boxes=Array(n),m,i,c,r,b,g,px,py,x,y,offset;for(i=0;i<ncols;++i)xExtent[i]=0;for(i=0;i<nrows;++i)yExtent[i]=0;for(i=0;i<n;++i){g=groups[i];b=boxes[i]=bbox(g);g.x=g.x||0;dx[i]=0;g.y=g.y||0;dy[i]=0;c=i%ncols;r=~~(i/ncols);xMax=Math.max(xMax,px=Math.ceil(b.x2));yMax=Math.max(yMax,py=Math.ceil(b.y2));xExtent[c]=Math.max(xExtent[c],px);yExtent[r]=Math.max(yExtent[r],py);xOffset[i]=padCol+offsetValue$1(b.x1);yOffset[i]=padRow+offsetValue$1(b.y1);if(dirty)view.dirty(groups[i])}for(i=0;i<n;++i){if(i%ncols===0)xOffset[i]=0;if(i<ncols)yOffset[i]=0}if(alignCol===Each){for(c=1;c<ncols;++c){for(offset=0,i=c;i<n;i+=ncols){if(offset<xOffset[i])offset=xOffset[i]}for(i=c;i<n;i+=ncols){xOffset[i]=offset+xExtent[c-1]}}}else if(alignCol===All){for(offset=0,i=0;i<n;++i){if(i%ncols&&offset<xOffset[i])offset=xOffset[i]}for(i=0;i<n;++i){if(i%ncols)xOffset[i]=offset+xMax}}else{for(alignCol=false,c=1;c<ncols;++c){for(i=c;i<n;i+=ncols){xOffset[i]+=xExtent[c-1]}}}if(alignRow===Each){for(r=1;r<nrows;++r){for(offset=0,i=r*ncols,m=i+ncols;i<m;++i){if(offset<yOffset[i])offset=yOffset[i]}for(i=r*ncols;i<m;++i){yOffset[i]=offset+yExtent[r-1]}}}else if(alignRow===All){for(offset=0,i=ncols;i<n;++i){if(offset<yOffset[i])offset=yOffset[i]}for(i=ncols;i<n;++i){yOffset[i]=offset+yMax}}else{for(alignRow=false,r=1;r<nrows;++r){for(i=r*ncols,m=i+ncols;i<m;++i){yOffset[i]+=yExtent[r-1]}}}for(x=0,i=0;i<n;++i){x=xOffset[i]+(i%ncols?x:0);dx[i]+=x-groups[i].x}for(c=0;c<ncols;++c){for(y=0,i=c;i<n;i+=ncols){y+=yOffset[i];dy[i]+=y-groups[i].y}}if(alignCol&&get$1(opt.center,Column)&&nrows>1){for(i=0;i<n;++i){b=alignCol===All?xMax:xExtent[i%ncols];x=b-boxes[i].x2-groups[i].x-dx[i];if(x>0)dx[i]+=x/2}}if(alignRow&&get$1(opt.center,Row)&&ncols!==1){for(i=0;i<n;++i){b=alignRow===All?yMax:yExtent[~~(i/ncols)];y=b-boxes[i].y2-groups[i].y-dy[i];if(y>0)dy[i]+=y/2}}for(i=0;i<n;++i){bounds.union(boxes[i].translate(dx[i],dy[i]))}x=get$1(opt.anchor,X);y=get$1(opt.anchor,Y);switch(get$1(opt.anchor,Column)){case End$1:x-=bounds.width();break;case Middle$1:x-=bounds.width()/2}switch(get$1(opt.anchor,Row)){case End$1:y-=bounds.height();break;case Middle$1:y-=bounds.height()/2}x=Math.round(x);y=Math.round(y);bounds.clear();for(i=0;i<n;++i){groups[i].mark.bounds.clear()}for(i=0;i<n;++i){g=groups[i];g.x+=dx[i]+=x;g.y+=dy[i]+=y;bounds.union(g.mark.bounds.union(g.bounds.translate(dx[i],dy[i])));if(dirty)view.dirty(g)}return bounds}function trellisLayout(view,group,opt){var views=gridLayoutGroups(group),groups=views.marks,bbox=opt.bounds===Flush?boundFlush:boundFull,off=opt.offset,ncols=opt.columns||groups.length,nrows=ncols<=0?1:Math.ceil(groups.length/ncols),cells=nrows*ncols,x,y,x2,y2,anchor,band,offset;const bounds=gridLayout(view,groups,opt);if(bounds.empty())bounds.set(0,0,0,0);if(views.rowheaders){band=get$1(opt.headerBand,Row,null);x=layoutHeaders(view,views.rowheaders,groups,ncols,nrows,-get$1(off,"rowHeader"),min,0,bbox,"x1",0,ncols,1,band)}if(views.colheaders){band=get$1(opt.headerBand,Column,null);y=layoutHeaders(view,views.colheaders,groups,ncols,ncols,-get$1(off,"columnHeader"),min,1,bbox,"y1",0,1,ncols,band)}if(views.rowfooters){band=get$1(opt.footerBand,Row,null);x2=layoutHeaders(view,views.rowfooters,groups,ncols,nrows,get$1(off,"rowFooter"),max,0,bbox,"x2",ncols-1,ncols,1,band)}if(views.colfooters){band=get$1(opt.footerBand,Column,null);y2=layoutHeaders(view,views.colfooters,groups,ncols,ncols,get$1(off,"columnFooter"),max,1,bbox,"y2",cells-ncols,1,ncols,band)}if(views.rowtitle){anchor=get$1(opt.titleAnchor,Row);offset=get$1(off,"rowTitle");offset=anchor===End$1?x2+offset:x-offset;band=get$1(opt.titleBand,Row,.5);layoutTitle(view,views.rowtitle,offset,0,bounds,band)}if(views.coltitle){anchor=get$1(opt.titleAnchor,Column);offset=get$1(off,"columnTitle");offset=anchor===End$1?y2+offset:y-offset;band=get$1(opt.titleBand,Column,.5);layoutTitle(view,views.coltitle,offset,1,bounds,band)}}function boundFlush(item,field){return field==="x1"?item.x||0:field==="y1"?item.y||0:field==="x2"?(item.x||0)+(item.width||0):field==="y2"?(item.y||0)+(item.height||0):undefined}function boundFull(item,field){return item.bounds[field]}function layoutHeaders(view,headers,groups,ncols,limit,offset,agg,isX,bound,bf,start,stride,back,band){var n=groups.length,init=0,edge=0,i,j,k,m,b,h,g,x,y;if(!n)return init;for(i=start;i<n;i+=stride){if(groups[i])init=agg(init,bound(groups[i],bf))}if(!headers.length)return init;if(headers.length>limit){view.warn("Grid headers exceed limit: "+limit);headers=headers.slice(0,limit)}init+=offset;for(j=0,m=headers.length;j<m;++j){view.dirty(headers[j]);headers[j].mark.bounds.clear()}for(i=start,j=0,m=headers.length;j<m;++j,i+=stride){h=headers[j];b=h.mark.bounds;for(k=i;k>=0&&(g=groups[k])==null;k-=back);if(isX){x=band==null?g.x:Math.round(g.bounds.x1+band*g.bounds.width());y=init}else{x=init;y=band==null?g.y:Math.round(g.bounds.y1+band*g.bounds.height())}b.union(h.bounds.translate(x-(h.x||0),y-(h.y||0)));h.x=x;h.y=y;view.dirty(h);edge=agg(edge,b[bf])}return edge}function layoutTitle(view,g,offset,isX,bounds,band){if(!g)return;view.dirty(g);var x=offset,y=offset;isX?x=Math.round(bounds.x1+band*bounds.width()):y=Math.round(bounds.y1+band*bounds.height());g.bounds.translate(x-(g.x||0),y-(g.y||0));g.mark.bounds.clear().union(g.bounds);g.x=x;g.y=y;view.dirty(g)}function lookup$3(config,orient){const opt=config[orient]||{};return(key,d)=>opt[key]!=null?opt[key]:config[key]!=null?config[key]:d}function offsets(legends,value){let max=-Infinity;legends.forEach(item=>{if(item.offset!=null)max=Math.max(max,item.offset)});return max>-Infinity?max:value}function legendParams(g,orient,config,xb,yb,w,h){const _=lookup$3(config,orient),offset=offsets(g,_("offset",0)),anchor=_("anchor",Start$1),mult=anchor===End$1?1:anchor===Middle$1?.5:0;const p={align:Each,bounds:_("bounds",Flush),columns:_("direction")==="vertical"?1:g.length,padding:_("margin",8),center:_("center"),nodirty:true};switch(orient){case Left$1:p.anchor={x:Math.floor(xb.x1)-offset,column:End$1,y:mult*(h||xb.height()+2*xb.y1),row:anchor};break;case Right$1:p.anchor={x:Math.ceil(xb.x2)+offset,y:mult*(h||xb.height()+2*xb.y1),row:anchor};break;case Top$1:p.anchor={y:Math.floor(yb.y1)-offset,row:End$1,x:mult*(w||yb.width()+2*yb.x1),column:anchor};break;case Bottom$1:p.anchor={y:Math.ceil(yb.y2)+offset,x:mult*(w||yb.width()+2*yb.x1),column:anchor};break;case TopLeft:p.anchor={x:offset,y:offset};break;case TopRight:p.anchor={x:w-offset,y:offset,column:End$1};break;case BottomLeft:p.anchor={x:offset,y:h-offset,row:End$1};break;case BottomRight:p.anchor={x:w-offset,y:h-offset,column:End$1,row:End$1};break}return p}function legendLayout(view,legend){var item=legend.items[0],datum=item.datum,orient=item.orient,bounds=item.bounds,x=item.x,y=item.y,w,h;item._bounds?item._bounds.clear().union(bounds):item._bounds=bounds.clone();bounds.clear();legendGroupLayout(view,item,item.items[0].items[0]);bounds=legendBounds(item,bounds);w=2*item.padding;h=2*item.padding;if(!bounds.empty()){w=Math.ceil(bounds.width()+w);h=Math.ceil(bounds.height()+h)}if(datum.type===Symbols$1){legendEntryLayout(item.items[0].items[0].items[0].items)}if(orient!==None){item.x=x=0;item.y=y=0}item.width=w;item.height=h;boundStroke(bounds.set(x,y,x+w,y+h),item);item.mark.bounds.clear().union(bounds);return item}function legendBounds(item,b){item.items.forEach(_=>b.union(_.bounds));b.x1=item.padding;b.y1=item.padding;return b}function legendGroupLayout(view,item,entry){var pad=item.padding,ex=pad-entry.x,ey=pad-entry.y;if(!item.datum.title){if(ex||ey)translate(view,entry,ex,ey)}else{var title=item.items[1].items[0],anchor=title.anchor,tpad=item.titlePadding||0,tx=pad-title.x,ty=pad-title.y;switch(title.orient){case Left$1:ex+=Math.ceil(title.bounds.width())+tpad;break;case Right$1:case Bottom$1:break;default:ey+=title.bounds.height()+tpad}if(ex||ey)translate(view,entry,ex,ey);switch(title.orient){case Left$1:ty+=legendTitleOffset(item,entry,title,anchor,1,1);break;case Right$1:tx+=legendTitleOffset(item,entry,title,End$1,0,0)+tpad;ty+=legendTitleOffset(item,entry,title,anchor,1,1);break;case Bottom$1:tx+=legendTitleOffset(item,entry,title,anchor,0,0);ty+=legendTitleOffset(item,entry,title,End$1,-1,0,1)+tpad;break;default:tx+=legendTitleOffset(item,entry,title,anchor,0,0)}if(tx||ty)translate(view,title,tx,ty);if((tx=Math.round(title.bounds.x1-pad))<0){translate(view,entry,-tx,0);translate(view,title,-tx,0)}}}function legendTitleOffset(item,entry,title,anchor,y,lr,noBar){const grad=item.datum.type!=="symbol",vgrad=title.datum.vgrad,e=grad&&(lr||!vgrad)&&!noBar?entry.items[0]:entry,s=e.bounds[y?"y2":"x2"]-item.padding,u=vgrad&&lr?s:0,v=vgrad&&lr?0:s,o=y<=0?0:multiLineOffset(title);return Math.round(anchor===Start$1?u:anchor===End$1?v-o:.5*(s-o))}function translate(view,item,dx,dy){item.x+=dx;item.y+=dy;item.bounds.translate(dx,dy);item.mark.bounds.translate(dx,dy);view.dirty(item)}function legendEntryLayout(entries){const widths=entries.reduce((w,g)=>{w[g.column]=Math.max(g.bounds.x2-g.x,w[g.column]||0);return w},{});entries.forEach(g=>{g.width=widths[g.column];g.height=g.bounds.y2-g.y})}function titleLayout(view,mark,width,height,viewBounds){var group=mark.items[0],frame=group.frame,orient=group.orient,anchor=group.anchor,offset=group.offset,padding=group.padding,title=group.items[0].items[0],subtitle=group.items[1]&&group.items[1].items[0],end=orient===Left$1||orient===Right$1?height:width,start=0,x=0,y=0,sx=0,sy=0,pos;if(frame!==Group){orient===Left$1?(start=viewBounds.y2,end=viewBounds.y1):orient===Right$1?(start=viewBounds.y1,end=viewBounds.y2):(start=viewBounds.x1,end=viewBounds.x2)}else if(orient===Left$1){start=height,end=0}pos=anchor===Start$1?start:anchor===End$1?end:(start+end)/2;if(subtitle&&subtitle.text){switch(orient){case Top$1:case Bottom$1:sy=title.bounds.height()+padding;break;case Left$1:sx=title.bounds.width()+padding;break;case Right$1:sx=-title.bounds.width()-padding;break}tempBounds.clear().union(subtitle.bounds);tempBounds.translate(sx-(subtitle.x||0),sy-(subtitle.y||0));if(set$2(subtitle,"x",sx)|set$2(subtitle,"y",sy)){view.dirty(subtitle);subtitle.bounds.clear().union(tempBounds);subtitle.mark.bounds.clear().union(tempBounds);view.dirty(subtitle)}tempBounds.clear().union(subtitle.bounds)}else{tempBounds.clear()}tempBounds.union(title.bounds);switch(orient){case Top$1:x=pos;y=viewBounds.y1-tempBounds.height()-offset;break;case Left$1:x=viewBounds.x1-tempBounds.width()-offset;y=pos;break;case Right$1:x=viewBounds.x2+tempBounds.width()+offset;y=pos;break;case Bottom$1:x=pos;y=viewBounds.y2+offset;break;default:x=group.x;y=group.y}if(set$2(group,"x",x)|set$2(group,"y",y)){tempBounds.translate(x,y);view.dirty(group);group.bounds.clear().union(tempBounds);mark.bounds.clear().union(tempBounds);view.dirty(group)}return group.bounds}function ViewLayout$1(params){Transform.call(this,null,params)}inherits(ViewLayout$1,Transform,{transform(_,pulse){const view=pulse.dataflow;_.mark.items.forEach(group=>{if(_.layout)trellisLayout(view,group,_.layout);layoutGroup(view,group,_)});return shouldReflow(_.mark.group)?pulse.reflow():pulse}});function shouldReflow(group){return group&&group.mark.role!=="legend-entry"}function layoutGroup(view,group,_){var items=group.items,width=Math.max(0,group.width||0),height=Math.max(0,group.height||0),viewBounds=(new Bounds).set(0,0,width,height),xBounds=viewBounds.clone(),yBounds=viewBounds.clone(),legends=[],title,mark,orient,b,i,n;for(i=0,n=items.length;i<n;++i){mark=items[i];switch(mark.role){case AxisRole$1:b=isYAxis(mark)?xBounds:yBounds;b.union(axisLayout(view,mark,width,height));break;case TitleRole$1:title=mark;break;case LegendRole$1:legends.push(legendLayout(view,mark));break;case FrameRole$1:case ScopeRole$1:case RowHeader:case RowFooter:case RowTitle:case ColHeader:case ColFooter:case ColTitle:xBounds.union(mark.bounds);yBounds.union(mark.bounds);break;default:viewBounds.union(mark.bounds)}}if(legends.length){const l={};legends.forEach(item=>{orient=item.orient||Right$1;if(orient!==None)(l[orient]||(l[orient]=[])).push(item)});for(const orient in l){const g=l[orient];gridLayout(view,g,legendParams(g,orient,_.legends,xBounds,yBounds,width,height))}legends.forEach(item=>{const b=item.bounds;if(!b.equals(item._bounds)){item.bounds=item._bounds;view.dirty(item);item.bounds=b;view.dirty(item)}if(_.autosize&&(_.autosize.type===Fit||_.autosize.type===FitX||_.autosize.type===FitY)){switch(item.orient){case Left$1:case Right$1:viewBounds.add(b.x1,0).add(b.x2,0);break;case Top$1:case Bottom$1:viewBounds.add(0,b.y1).add(0,b.y2)}}else{viewBounds.union(b)}})}viewBounds.union(xBounds).union(yBounds);if(title){viewBounds.union(titleLayout(view,title,width,height,viewBounds))}if(group.clip){viewBounds.set(0,0,group.width||0,group.height||0)}viewSizeLayout(view,group,viewBounds,_)}function viewSizeLayout(view,group,viewBounds,_){const auto=_.autosize||{},type=auto.type;if(view._autosize<1||!type)return;let viewWidth=view._width,viewHeight=view._height,width=Math.max(0,group.width||0),left=Math.max(0,Math.ceil(-viewBounds.x1)),height=Math.max(0,group.height||0),top=Math.max(0,Math.ceil(-viewBounds.y1));const right=Math.max(0,Math.ceil(viewBounds.x2-width)),bottom=Math.max(0,Math.ceil(viewBounds.y2-height));if(auto.contains===Padding$1){const padding=view.padding();viewWidth-=padding.left+padding.right;viewHeight-=padding.top+padding.bottom}if(type===None){left=0;top=0;width=viewWidth;height=viewHeight}else if(type===Fit){width=Math.max(0,viewWidth-left-right);height=Math.max(0,viewHeight-top-bottom)}else if(type===FitX){width=Math.max(0,viewWidth-left-right);viewHeight=height+top+bottom}else if(type===FitY){viewWidth=width+left+right;height=Math.max(0,viewHeight-top-bottom)}else if(type===Pad){viewWidth=width+left+right;viewHeight=height+top+bottom}view._resizeView(viewWidth,viewHeight,width,height,[left,top],auto.resize)}var vtx=Object.freeze({__proto__:null,bound:Bound$1,identifier:Identifier$1,mark:Mark$1,overlap:Overlap$1,render:Render$1,viewlayout:ViewLayout$1});function AxisTicks$1(params){Transform.call(this,null,params)}inherits(AxisTicks$1,Transform,{transform(_,pulse){if(this.value&&!_.modified()){return pulse.StopPropagation}var locale=pulse.dataflow.locale(),out=pulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS),ticks=this.value,scale=_.scale,tally=_.count==null?_.values?_.values.length:10:_.count,count=tickCount(scale,tally,_.minstep),format=_.format||tickFormat(locale,scale,count,_.formatSpecifier,_.formatType,!!_.values),values=_.values?validTicks(scale,_.values,count):tickValues(scale,count);if(ticks)out.rem=ticks;ticks=values.map((value,i)=>ingest$1({index:i/(values.length-1||1),value:value,label:format(value)}));if(_.extra&&ticks.length){ticks.push(ingest$1({index:-1,extra:{value:ticks[0].value},label:""}))}out.source=ticks;out.add=ticks;this.value=ticks;return out}});function DataJoin$1(params){Transform.call(this,null,params)}function defaultItemCreate(){return ingest$1({})}function newMap(key){const map=fastmap().test(t=>t.exit);map.lookup=t=>map.get(key(t));return map}inherits(DataJoin$1,Transform,{transform(_,pulse){var df=pulse.dataflow,out=pulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS),item=_.item||defaultItemCreate,key=_.key||tupleid,map=this.value;if(isArray(out.encode)){out.encode=null}if(map&&(_.modified("key")||pulse.modified(key))){error("DataJoin does not support modified key function or fields.")}if(!map){pulse=pulse.addAll();this.value=map=newMap(key)}pulse.visit(pulse.ADD,t=>{const k=key(t);let x=map.get(k);if(x){if(x.exit){map.empty--;out.add.push(x)}else{out.mod.push(x)}}else{x=item(t);map.set(k,x);out.add.push(x)}x.datum=t;x.exit=false});pulse.visit(pulse.MOD,t=>{const k=key(t),x=map.get(k);if(x){x.datum=t;out.mod.push(x)}});pulse.visit(pulse.REM,t=>{const k=key(t),x=map.get(k);if(t===x.datum&&!x.exit){out.rem.push(x);x.exit=true;++map.empty}});if(pulse.changed(pulse.ADD_MOD))out.modifies("datum");if(pulse.clean()||_.clean&&map.empty>df.cleanThreshold){df.runAfter(map.clean)}return out}});function Encode$1(params){Transform.call(this,null,params)}inherits(Encode$1,Transform,{transform(_,pulse){var out=pulse.fork(pulse.ADD_REM),fmod=_.mod||false,encoders=_.encoders,encode=pulse.encode;if(isArray(encode)){if(out.changed()||encode.every(e=>encoders[e])){encode=encode[0];out.encode=null}else{return pulse.StopPropagation}}var reenter=encode==="enter",update=encoders.update||falsy,enter=encoders.enter||falsy,exit=encoders.exit||falsy,set=(encode&&!reenter?encoders[encode]:update)||falsy;if(pulse.changed(pulse.ADD)){pulse.visit(pulse.ADD,t=>{enter(t,_);update(t,_)});out.modifies(enter.output);out.modifies(update.output);if(set!==falsy&&set!==update){pulse.visit(pulse.ADD,t=>{set(t,_)});out.modifies(set.output)}}if(pulse.changed(pulse.REM)&&exit!==falsy){pulse.visit(pulse.REM,t=>{exit(t,_)});out.modifies(exit.output)}if(reenter||set!==falsy){const flag=pulse.MOD|(_.modified()?pulse.REFLOW:0);if(reenter){pulse.visit(flag,t=>{const mod=enter(t,_)||fmod;if(set(t,_)||mod)out.mod.push(t)});if(out.mod.length)out.modifies(enter.output)}else{pulse.visit(flag,t=>{if(set(t,_)||fmod)out.mod.push(t)})}if(out.mod.length)out.modifies(set.output)}return out.changed()?out:pulse.StopPropagation}});function LegendEntries$1(params){Transform.call(this,[],params)}inherits(LegendEntries$1,Transform,{transform(_,pulse){if(this.value!=null&&!_.modified()){return pulse.StopPropagation}var locale=pulse.dataflow.locale(),out=pulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS),items=this.value,type=_.type||SymbolLegend,scale=_.scale,limit=+_.limit,count=tickCount(scale,_.count==null?5:_.count,_.minstep),lskip=!!_.values||type===SymbolLegend,format=_.format||labelFormat(locale,scale,count,type,_.formatSpecifier,_.formatType,lskip),values=_.values||labelValues(scale,count),domain,fraction,size,offset,ellipsis;if(items)out.rem=items;if(type===SymbolLegend){if(limit&&values.length>limit){pulse.dataflow.warn("Symbol legend count exceeds limit, filtering items.");items=values.slice(0,limit-1);ellipsis=true}else{items=values}if(isFunction(size=_.size)){if(!_.values&&scale(items[0])===0){items=items.slice(1)}offset=items.reduce((max,value)=>Math.max(max,size(value,_)),0)}else{size=constant$4(offset=size||8)}items=items.map((value,index)=>ingest$1({index:index,label:format(value,index,items),value:value,offset:offset,size:size(value,_)}));if(ellipsis){ellipsis=values[items.length];items.push(ingest$1({index:items.length,label:`${values.length-items.length} entries`,value:ellipsis,offset:offset,size:size(ellipsis,_)}))}}else if(type===GradientLegend){domain=scale.domain(),fraction=scaleFraction(scale,domain[0],peek$1(domain));if(values.length<3&&!_.values&&domain[0]!==peek$1(domain)){values=[domain[0],peek$1(domain)]}items=values.map((value,index)=>ingest$1({index:index,label:format(value,index,values),value:value,perc:fraction(value)}))}else{size=values.length-1;fraction=labelFraction(scale);items=values.map((value,index)=>ingest$1({index:index,label:format(value,index,values),value:value,perc:index?fraction(value):0,perc2:index===size?1:fraction(values[index+1])}))}out.source=items;out.add=items;this.value=items;return out}});const sourceX=t=>t.source.x;const sourceY=t=>t.source.y;const targetX=t=>t.target.x;const targetY=t=>t.target.y;function LinkPath(params){Transform.call(this,{},params)}LinkPath.Definition={type:"LinkPath",metadata:{modifies:true},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};inherits(LinkPath,Transform,{transform(_,pulse){var sx=_.sourceX||sourceX,sy=_.sourceY||sourceY,tx=_.targetX||targetX,ty=_.targetY||targetY,as=_.as||"path",orient=_.orient||"vertical",shape=_.shape||"line",path=Paths.get(shape+"-"+orient)||Paths.get(shape);if(!path){error("LinkPath unsupported type: "+_.shape+(_.orient?"-"+_.orient:""))}pulse.visit(pulse.SOURCE,t=>{t[as]=path(sx(t),sy(t),tx(t),ty(t))});return pulse.reflow(_.modified()).modifies(as)}});const line=(sx,sy,tx,ty)=>"M"+sx+","+sy+"L"+tx+","+ty;const lineR=(sa,sr,ta,tr)=>line(sr*Math.cos(sa),sr*Math.sin(sa),tr*Math.cos(ta),tr*Math.sin(ta));const arc=(sx,sy,tx,ty)=>{var dx=tx-sx,dy=ty-sy,rr=Math.sqrt(dx*dx+dy*dy)/2,ra=180*Math.atan2(dy,dx)/Math.PI;return"M"+sx+","+sy+"A"+rr+","+rr+" "+ra+" 0 1"+" "+tx+","+ty};const arcR=(sa,sr,ta,tr)=>arc(sr*Math.cos(sa),sr*Math.sin(sa),tr*Math.cos(ta),tr*Math.sin(ta));const curve=(sx,sy,tx,ty)=>{const dx=tx-sx,dy=ty-sy,ix=.2*(dx+dy),iy=.2*(dy-dx);return"M"+sx+","+sy+"C"+(sx+ix)+","+(sy+iy)+" "+(tx+iy)+","+(ty-ix)+" "+tx+","+ty};const curveR=(sa,sr,ta,tr)=>curve(sr*Math.cos(sa),sr*Math.sin(sa),tr*Math.cos(ta),tr*Math.sin(ta));const orthoX=(sx,sy,tx,ty)=>"M"+sx+","+sy+"V"+ty+"H"+tx;const orthoY=(sx,sy,tx,ty)=>"M"+sx+","+sy+"H"+tx+"V"+ty;const orthoR=(sa,sr,ta,tr)=>{const sc=Math.cos(sa),ss=Math.sin(sa),tc=Math.cos(ta),ts=Math.sin(ta),sf=Math.abs(ta-sa)>Math.PI?ta<=sa:ta>sa;return"M"+sr*sc+","+sr*ss+"A"+sr+","+sr+" 0 0,"+(sf?1:0)+" "+sr*tc+","+sr*ts+"L"+tr*tc+","+tr*ts};const diagonalX=(sx,sy,tx,ty)=>{const m=(sx+tx)/2;return"M"+sx+","+sy+"C"+m+","+sy+" "+m+","+ty+" "+tx+","+ty};const diagonalY=(sx,sy,tx,ty)=>{const m=(sy+ty)/2;return"M"+sx+","+sy+"C"+sx+","+m+" "+tx+","+m+" "+tx+","+ty};const diagonalR=(sa,sr,ta,tr)=>{const sc=Math.cos(sa),ss=Math.sin(sa),tc=Math.cos(ta),ts=Math.sin(ta),mr=(sr+tr)/2;return"M"+sr*sc+","+sr*ss+"C"+mr*sc+","+mr*ss+" "+mr*tc+","+mr*ts+" "+tr*tc+","+tr*ts};const Paths=fastmap({line:line,"line-radial":lineR,arc:arc,"arc-radial":arcR,curve:curve,"curve-radial":curveR,"orthogonal-horizontal":orthoX,"orthogonal-vertical":orthoY,"orthogonal-radial":orthoR,"diagonal-horizontal":diagonalX,"diagonal-vertical":diagonalY,"diagonal-radial":diagonalR});function Pie(params){Transform.call(this,null,params)}Pie.Definition={type:"Pie",metadata:{modifies:true},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:false},{name:"as",type:"string",array:true,length:2,default:["startAngle","endAngle"]}]};inherits(Pie,Transform,{transform(_,pulse){var as=_.as||["startAngle","endAngle"],startAngle=as[0],endAngle=as[1],field=_.field||one$2,start=_.startAngle||0,stop=_.endAngle!=null?_.endAngle:2*Math.PI,data=pulse.source,values=data.map(field),n=values.length,a=start,k=(stop-start)/sum$1(values),index=range$3(n),i,t,v;if(_.sort){index.sort((a,b)=>values[a]-values[b])}for(i=0;i<n;++i){v=values[index[i]];t=data[index[i]];t[startAngle]=a;t[endAngle]=a+=v*k}this.value=values;return pulse.reflow(_.modified()).modifies(as)}});const DEFAULT_COUNT=5;function includeZero(scale){const type=scale.type;return!scale.bins&&(type===Linear$1||type===Pow$1||type===Sqrt$1)}function includePad(type){return isContinuous(type)&&type!==Sequential$1}const SKIP$1=toSet(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function Scale$1(params){Transform.call(this,null,params);this.modified(true)}inherits(Scale$1,Transform,{transform(_,pulse){var df=pulse.dataflow,scale$1=this.value,key=scaleKey(_);if(!scale$1||key!==scale$1.type){this.value=scale$1=scale$5(key)()}for(key in _)if(!SKIP$1[key]){if(key==="padding"&&includePad(scale$1.type))continue;isFunction(scale$1[key])?scale$1[key](_[key]):df.warn("Unsupported scale property: "+key)}configureRange(scale$1,_,configureBins(scale$1,_,configureDomain(scale$1,_,df)));return pulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS)}});function scaleKey(_){var t=_.type,d="",n;if(t===Sequential$1)return Sequential$1+"-"+Linear$1;if(isContinuousColor(_)){n=_.rawDomain?_.rawDomain.length:_.domain?_.domain.length+ +(_.domainMid!=null):0;d=n===2?Sequential$1+"-":n===3?Diverging$1+"-":""}return(d+t||Linear$1).toLowerCase()}function isContinuousColor(_){const t=_.type;return isContinuous(t)&&t!==Time$1&&t!==UTC$1&&(_.scheme||_.range&&_.range.length&&_.range.every(isString))}function configureDomain(scale,_,df){const raw=rawDomain(scale,_.domainRaw,df);if(raw>-1)return raw;var domain=_.domain,type=scale.type,zero=_.zero||_.zero===undefined&&includeZero(scale),n,mid;if(!domain)return 0;if(includePad(type)&&_.padding&&domain[0]!==peek$1(domain)){domain=padDomain(type,domain,_.range,_.padding,_.exponent,_.constant)}if(zero||_.domainMin!=null||_.domainMax!=null||_.domainMid!=null){n=(domain=domain.slice()).length-1||1;if(zero){if(domain[0]>0)domain[0]=0;if(domain[n]<0)domain[n]=0}if(_.domainMin!=null)domain[0]=_.domainMin;if(_.domainMax!=null)domain[n]=_.domainMax;if(_.domainMid!=null){mid=_.domainMid;const i=mid>domain[n]?n+1:mid<domain[0]?0:n;if(i!==n)df.warn("Scale domainMid exceeds domain min or max.",mid);domain.splice(i,0,mid)}}scale.domain(domainCheck(type,domain,df));if(type===Ordinal$1){scale.unknown(_.domainImplicit?implicit:undefined)}if(_.nice&&scale.nice){scale.nice(_.nice!==true&&tickCount(scale,_.nice)||null)}return domain.length}function rawDomain(scale,raw,df){if(raw){scale.domain(domainCheck(scale.type,raw,df));return raw.length}else{return-1}}function padDomain(type,domain,range,pad,exponent,constant){var span=Math.abs(peek$1(range)-range[0]),frac=span/(span-2*pad),d=type===Log$1?zoomLog(domain,null,frac):type===Sqrt$1?zoomPow(domain,null,frac,.5):type===Pow$1?zoomPow(domain,null,frac,exponent||1):type===Symlog$1?zoomSymlog(domain,null,frac,constant||1):zoomLinear(domain,null,frac);domain=domain.slice();domain[0]=d[0];domain[domain.length-1]=d[1];return domain}function domainCheck(type,domain,df){if(isLogarithmic(type)){var s=Math.abs(domain.reduce((s,v)=>s+(v<0?-1:v>0?1:0),0));if(s!==domain.length){df.warn("Log scale domain includes zero: "+$(domain))}}return domain}function configureBins(scale,_,count){let bins=_.bins;if(bins&&!isArray(bins)){const domain=scale.domain(),lo=domain[0],hi=peek$1(domain),step=bins.step;let start=bins.start==null?lo:bins.start,stop=bins.stop==null?hi:bins.stop;if(!step)error("Scale bins parameter missing step property.");if(start<lo)start=step*Math.ceil(lo/step);if(stop>hi)stop=step*Math.floor(hi/step);bins=range$3(start,stop+step/2,step)}if(bins){scale.bins=bins}else if(scale.bins){delete scale.bins}if(scale.type===BinOrdinal$1){if(!bins){scale.bins=scale.domain()}else if(!_.domain&&!_.domainRaw){scale.domain(bins);count=bins.length}}return count}function configureRange(scale,_,count){var type=scale.type,round=_.round||false,range=_.range;if(_.rangeStep!=null){range=configureRangeStep(type,_,count)}else if(_.scheme){range=configureScheme(type,_,count);if(isFunction(range)){if(scale.interpolator){return scale.interpolator(range)}else{error(`Scale type ${type} does not support interpolating color schemes.`)}}}if(range&&isInterpolating(type)){return scale.interpolator(interpolateColors$1(flip(range,_.reverse),_.interpolate,_.interpolateGamma))}if(range&&_.interpolate&&scale.interpolate){scale.interpolate(interpolate$1(_.interpolate,_.interpolateGamma))}else if(isFunction(scale.round)){scale.round(round)}else if(isFunction(scale.rangeRound)){scale.interpolate(round?interpolateRound:interpolate$1$1)}if(range)scale.range(flip(range,_.reverse))}function configureRangeStep(type,_,count){if(type!==Band$1&&type!==Point$1){error("Only band and point scales support rangeStep.")}var outer=(_.paddingOuter!=null?_.paddingOuter:_.padding)||0,inner=type===Point$1?1:(_.paddingInner!=null?_.paddingInner:_.padding)||0;return[0,_.rangeStep*bandSpace$1(count,inner,outer)]}function configureScheme(type,_,count){var extent=_.schemeExtent,name,scheme$1$1;if(isArray(_.scheme)){scheme$1$1=interpolateColors$1(_.scheme,_.interpolate,_.interpolateGamma)}else{name=_.scheme.toLowerCase();scheme$1$1=scheme$1(name);if(!scheme$1$1)error(`Unrecognized scheme name: ${_.scheme}`)}count=type===Threshold$1?count+1:type===BinOrdinal$1?count-1:type===Quantile$1||type===Quantize$1?+_.schemeCount||DEFAULT_COUNT:count;return isInterpolating(type)?adjustScheme(scheme$1$1,extent,_.reverse):isFunction(scheme$1$1)?quantizeInterpolator$1(adjustScheme(scheme$1$1,extent),count):type===Ordinal$1?scheme$1$1:scheme$1$1.slice(0,count)}function adjustScheme(scheme,extent,reverse){return isFunction(scheme)&&(extent||reverse)?interpolateRange$1(scheme,flip(extent||[0,1],reverse)):scheme}function flip(array,reverse){return reverse?array.slice().reverse():array}function SortItems$1(params){Transform.call(this,null,params)}inherits(SortItems$1,Transform,{transform(_,pulse){const mod=_.modified("sort")||pulse.changed(pulse.ADD)||pulse.modified(_.sort.fields)||pulse.modified("datum");if(mod)pulse.source.sort(stableCompare(_.sort));this.modified(mod);return pulse}});const Zero="zero",Center$1="center",Normalize="normalize",DefOutput=["y0","y1"];function Stack(params){Transform.call(this,null,params)}Stack.Definition={type:"Stack",metadata:{modifies:true},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:true},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:Zero,values:[Zero,Center$1,Normalize]},{name:"as",type:"string",array:true,length:2,default:DefOutput}]};inherits(Stack,Transform,{transform(_,pulse){var as=_.as||DefOutput,y0=as[0],y1=as[1],sort=stableCompare(_.sort),field=_.field||one$2,stack=_.offset===Center$1?stackCenter:_.offset===Normalize?stackNormalize:stackZero,groups,i,n,max;groups=partition$3(pulse.source,_.groupby,sort,field);for(i=0,n=groups.length,max=groups.max;i<n;++i){stack(groups[i],max,field,y0,y1)}return pulse.reflow(_.modified()).modifies(as)}});function stackCenter(group,max,field,y0,y1){var last=(max-group.sum)/2,m=group.length,j=0,t;for(;j<m;++j){t=group[j];t[y0]=last;t[y1]=last+=Math.abs(field(t))}}function stackNormalize(group,max,field,y0,y1){var scale=1/group.sum,last=0,m=group.length,j=0,v=0,t;for(;j<m;++j){t=group[j];t[y0]=last;t[y1]=last=scale*(v+=Math.abs(field(t)))}}function stackZero(group,max,field,y0,y1){var lastPos=0,lastNeg=0,m=group.length,j=0,v,t;for(;j<m;++j){t=group[j];v=+field(t);if(v<0){t[y0]=lastNeg;t[y1]=lastNeg+=v}else{t[y0]=lastPos;t[y1]=lastPos+=v}}}function partition$3(data,groupby,sort,field){var groups=[],get=f=>f(t),map,i,n,m,t,k,g,s,max;if(groupby==null){groups.push(data.slice())}else{for(map={},i=0,n=data.length;i<n;++i){t=data[i];k=groupby.map(get);g=map[k];if(!g){map[k]=g=[];groups.push(g)}g.push(t)}}for(k=0,max=0,m=groups.length;k<m;++k){g=groups[k];for(i=0,s=0,n=g.length;i<n;++i){s+=Math.abs(field(g[i]))}g.sum=s;if(s>max)max=s;if(sort)g.sort(sort)}groups.max=max;return groups}var encode$1=Object.freeze({__proto__:null,axisticks:AxisTicks$1,datajoin:DataJoin$1,encode:Encode$1,legendentries:LegendEntries$1,linkpath:LinkPath,pie:Pie,scale:Scale$1,sortitems:SortItems$1,stack:Stack});var epsilon$3=1e-6;var epsilon2=1e-12;var pi$1=Math.PI;var halfPi$1=pi$1/2;var quarterPi=pi$1/4;var tau$1=pi$1*2;var degrees=180/pi$1;var radians=pi$1/180;var abs$1=Math.abs;var atan=Math.atan;var atan2=Math.atan2;var cos$1=Math.cos;var ceil=Math.ceil;var exp=Math.exp;var hypot=Math.hypot;var log$1=Math.log;var pow$1=Math.pow;var sin$1=Math.sin;var sign=Math.sign||function(x){return x>0?1:x<0?-1:0};var sqrt$1=Math.sqrt;var tan=Math.tan;function acos(x){return x>1?0:x<-1?pi$1:Math.acos(x)}function asin$1(x){return x>1?halfPi$1:x<-1?-halfPi$1:Math.asin(x)}function noop$2(){}function streamGeometry(geometry,stream){if(geometry&&streamGeometryType.hasOwnProperty(geometry.type)){streamGeometryType[geometry.type](geometry,stream)}}var streamObjectType={Feature:function(object,stream){streamGeometry(object.geometry,stream)},FeatureCollection:function(object,stream){var features=object.features,i=-1,n=features.length;while(++i<n)streamGeometry(features[i].geometry,stream)}};var streamGeometryType={Sphere:function(object,stream){stream.sphere()},Point:function(object,stream){object=object.coordinates;stream.point(object[0],object[1],object[2])},MultiPoint:function(object,stream){var coordinates=object.coordinates,i=-1,n=coordinates.length;while(++i<n)object=coordinates[i],stream.point(object[0],object[1],object[2])},LineString:function(object,stream){streamLine(object.coordinates,stream,0)},MultiLineString:function(object,stream){var coordinates=object.coordinates,i=-1,n=coordinates.length;while(++i<n)streamLine(coordinates[i],stream,0)},Polygon:function(object,stream){streamPolygon(object.coordinates,stream)},MultiPolygon:function(object,stream){var coordinates=object.coordinates,i=-1,n=coordinates.length;while(++i<n)streamPolygon(coordinates[i],stream)},GeometryCollection:function(object,stream){var geometries=object.geometries,i=-1,n=geometries.length;while(++i<n)streamGeometry(geometries[i],stream)}};function streamLine(coordinates,stream,closed){var i=-1,n=coordinates.length-closed,coordinate;stream.lineStart();while(++i<n)coordinate=coordinates[i],stream.point(coordinate[0],coordinate[1],coordinate[2]);stream.lineEnd()}function streamPolygon(coordinates,stream){var i=-1,n=coordinates.length;stream.polygonStart();while(++i<n)streamLine(coordinates[i],stream,1);stream.polygonEnd()}function geoStream(object,stream){if(object&&streamObjectType.hasOwnProperty(object.type)){streamObjectType[object.type](object,stream)}else{streamGeometry(object,stream)}}var areaRingSum$1=new Adder;var areaSum$1=new Adder,lambda00$2,phi00$2,lambda0$1,cosPhi0,sinPhi0;var areaStream$1={point:noop$2,lineStart:noop$2,lineEnd:noop$2,polygonStart:function(){areaRingSum$1=new Adder;areaStream$1.lineStart=areaRingStart$1;areaStream$1.lineEnd=areaRingEnd$1},polygonEnd:function(){var areaRing=+areaRingSum$1;areaSum$1.add(areaRing<0?tau$1+areaRing:areaRing);this.lineStart=this.lineEnd=this.point=noop$2},sphere:function(){areaSum$1.add(tau$1)}};function areaRingStart$1(){areaStream$1.point=areaPointFirst$1}function areaRingEnd$1(){areaPoint$1(lambda00$2,phi00$2)}function areaPointFirst$1(lambda,phi){areaStream$1.point=areaPoint$1;lambda00$2=lambda,phi00$2=phi;lambda*=radians,phi*=radians;lambda0$1=lambda,cosPhi0=cos$1(phi=phi/2+quarterPi),sinPhi0=sin$1(phi)}function areaPoint$1(lambda,phi){lambda*=radians,phi*=radians;phi=phi/2+quarterPi;var dLambda=lambda-lambda0$1,sdLambda=dLambda>=0?1:-1,adLambda=sdLambda*dLambda,cosPhi=cos$1(phi),sinPhi=sin$1(phi),k=sinPhi0*sinPhi,u=cosPhi0*cosPhi+k*cos$1(adLambda),v=k*sdLambda*sin$1(adLambda);areaRingSum$1.add(atan2(v,u));lambda0$1=lambda,cosPhi0=cosPhi,sinPhi0=sinPhi}function geoArea$1(object){areaSum$1=new Adder;geoStream(object,areaStream$1);return areaSum$1*2}function spherical(cartesian){return[atan2(cartesian[1],cartesian[0]),asin$1(cartesian[2])]}function cartesian(spherical){var lambda=spherical[0],phi=spherical[1],cosPhi=cos$1(phi);return[cosPhi*cos$1(lambda),cosPhi*sin$1(lambda),sin$1(phi)]}function cartesianDot(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function cartesianCross(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function cartesianAddInPlace(a,b){a[0]+=b[0],a[1]+=b[1],a[2]+=b[2]}function cartesianScale(vector,k){return[vector[0]*k,vector[1]*k,vector[2]*k]}function cartesianNormalizeInPlace(d){var l=sqrt$1(d[0]*d[0]+d[1]*d[1]+d[2]*d[2]);d[0]/=l,d[1]/=l,d[2]/=l}var lambda0,phi0,lambda1,phi1,lambda2,lambda00$1,phi00$1,p0,deltaSum,ranges,range$2;var boundsStream$2={point:boundsPoint$1,lineStart:boundsLineStart,lineEnd:boundsLineEnd,polygonStart:function(){boundsStream$2.point=boundsRingPoint;boundsStream$2.lineStart=boundsRingStart;boundsStream$2.lineEnd=boundsRingEnd;deltaSum=new Adder;areaStream$1.polygonStart()},polygonEnd:function(){areaStream$1.polygonEnd();boundsStream$2.point=boundsPoint$1;boundsStream$2.lineStart=boundsLineStart;boundsStream$2.lineEnd=boundsLineEnd;if(areaRingSum$1<0)lambda0=-(lambda1=180),phi0=-(phi1=90);else if(deltaSum>epsilon$3)phi1=90;else if(deltaSum<-epsilon$3)phi0=-90;range$2[0]=lambda0,range$2[1]=lambda1},sphere:function(){lambda0=-(lambda1=180),phi0=-(phi1=90)}};function boundsPoint$1(lambda,phi){ranges.push(range$2=[lambda0=lambda,lambda1=lambda]);if(phi<phi0)phi0=phi;if(phi>phi1)phi1=phi}function linePoint(lambda,phi){var p=cartesian([lambda*radians,phi*radians]);if(p0){var normal=cartesianCross(p0,p),equatorial=[normal[1],-normal[0],0],inflection=cartesianCross(equatorial,normal);cartesianNormalizeInPlace(inflection);inflection=spherical(inflection);var delta=lambda-lambda2,sign=delta>0?1:-1,lambdai=inflection[0]*degrees*sign,phii,antimeridian=abs$1(delta)>180;if(antimeridian^(sign*lambda2<lambdai&&lambdai<sign*lambda)){phii=inflection[1]*degrees;if(phii>phi1)phi1=phii}else if(lambdai=(lambdai+360)%360-180,antimeridian^(sign*lambda2<lambdai&&lambdai<sign*lambda)){phii=-inflection[1]*degrees;if(phii<phi0)phi0=phii}else{if(phi<phi0)phi0=phi;if(phi>phi1)phi1=phi}if(antimeridian){if(lambda<lambda2){if(angle(lambda0,lambda)>angle(lambda0,lambda1))lambda1=lambda}else{if(angle(lambda,lambda1)>angle(lambda0,lambda1))lambda0=lambda}}else{if(lambda1>=lambda0){if(lambda<lambda0)lambda0=lambda;if(lambda>lambda1)lambda1=lambda}else{if(lambda>lambda2){if(angle(lambda0,lambda)>angle(lambda0,lambda1))lambda1=lambda}else{if(angle(lambda,lambda1)>angle(lambda0,lambda1))lambda0=lambda}}}}else{ranges.push(range$2=[lambda0=lambda,lambda1=lambda])}if(phi<phi0)phi0=phi;if(phi>phi1)phi1=phi;p0=p,lambda2=lambda}function boundsLineStart(){boundsStream$2.point=linePoint}function boundsLineEnd(){range$2[0]=lambda0,range$2[1]=lambda1;boundsStream$2.point=boundsPoint$1;p0=null}function boundsRingPoint(lambda,phi){if(p0){var delta=lambda-lambda2;deltaSum.add(abs$1(delta)>180?delta+(delta>0?360:-360):delta)}else{lambda00$1=lambda,phi00$1=phi}areaStream$1.point(lambda,phi);linePoint(lambda,phi)}function boundsRingStart(){areaStream$1.lineStart()}function boundsRingEnd(){boundsRingPoint(lambda00$1,phi00$1);areaStream$1.lineEnd();if(abs$1(deltaSum)>epsilon$3)lambda0=-(lambda1=180);range$2[0]=lambda0,range$2[1]=lambda1;p0=null}function angle(lambda0,lambda1){return(lambda1-=lambda0)<0?lambda1+360:lambda1}function rangeCompare(a,b){return a[0]-b[0]}function rangeContains(range,x){return range[0]<=range[1]?range[0]<=x&&x<=range[1]:x<range[0]||range[1]<x}function geoBounds$1(feature){var i,n,a,b,merged,deltaMax,delta;phi1=lambda1=-(lambda0=phi0=Infinity);ranges=[];geoStream(feature,boundsStream$2);if(n=ranges.length){ranges.sort(rangeCompare);for(i=1,a=ranges[0],merged=[a];i<n;++i){b=ranges[i];if(rangeContains(a,b[0])||rangeContains(a,b[1])){if(angle(a[0],b[1])>angle(a[0],a[1]))a[1]=b[1];if(angle(b[0],a[1])>angle(a[0],a[1]))a[0]=b[0]}else{merged.push(a=b)}}for(deltaMax=-Infinity,n=merged.length-1,i=0,a=merged[n];i<=n;a=b,++i){b=merged[i];if((delta=angle(a[1],b[0]))>deltaMax)deltaMax=delta,lambda0=b[0],lambda1=a[1]}}ranges=range$2=null;return lambda0===Infinity||phi0===Infinity?[[NaN,NaN],[NaN,NaN]]:[[lambda0,phi0],[lambda1,phi1]]}var W0,W1,X0$1,Y0$1,Z0$1,X1$1,Y1$1,Z1$1,X2$1,Y2$1,Z2$1,lambda00,phi00,x0$4,y0$4,z0;var centroidStream$1={sphere:noop$2,point:centroidPoint$1,lineStart:centroidLineStart$1,lineEnd:centroidLineEnd$1,polygonStart:function(){centroidStream$1.lineStart=centroidRingStart$1;centroidStream$1.lineEnd=centroidRingEnd$1},polygonEnd:function(){centroidStream$1.lineStart=centroidLineStart$1;centroidStream$1.lineEnd=centroidLineEnd$1}};function centroidPoint$1(lambda,phi){lambda*=radians,phi*=radians;var cosPhi=cos$1(phi);centroidPointCartesian(cosPhi*cos$1(lambda),cosPhi*sin$1(lambda),sin$1(phi))}function centroidPointCartesian(x,y,z){++W0;X0$1+=(x-X0$1)/W0;Y0$1+=(y-Y0$1)/W0;Z0$1+=(z-Z0$1)/W0}function centroidLineStart$1(){centroidStream$1.point=centroidLinePointFirst}function centroidLinePointFirst(lambda,phi){lambda*=radians,phi*=radians;var cosPhi=cos$1(phi);x0$4=cosPhi*cos$1(lambda);y0$4=cosPhi*sin$1(lambda);z0=sin$1(phi);centroidStream$1.point=centroidLinePoint;centroidPointCartesian(x0$4,y0$4,z0)}function centroidLinePoint(lambda,phi){lambda*=radians,phi*=radians;var cosPhi=cos$1(phi),x=cosPhi*cos$1(lambda),y=cosPhi*sin$1(lambda),z=sin$1(phi),w=atan2(sqrt$1((w=y0$4*z-z0*y)*w+(w=z0*x-x0$4*z)*w+(w=x0$4*y-y0$4*x)*w),x0$4*x+y0$4*y+z0*z);W1+=w;X1$1+=w*(x0$4+(x0$4=x));Y1$1+=w*(y0$4+(y0$4=y));Z1$1+=w*(z0+(z0=z));centroidPointCartesian(x0$4,y0$4,z0)}function centroidLineEnd$1(){centroidStream$1.point=centroidPoint$1}function centroidRingStart$1(){centroidStream$1.point=centroidRingPointFirst}function centroidRingEnd$1(){centroidRingPoint(lambda00,phi00);centroidStream$1.point=centroidPoint$1}function centroidRingPointFirst(lambda,phi){lambda00=lambda,phi00=phi;lambda*=radians,phi*=radians;centroidStream$1.point=centroidRingPoint;var cosPhi=cos$1(phi);x0$4=cosPhi*cos$1(lambda);y0$4=cosPhi*sin$1(lambda);z0=sin$1(phi);centroidPointCartesian(x0$4,y0$4,z0)}function centroidRingPoint(lambda,phi){lambda*=radians,phi*=radians;var cosPhi=cos$1(phi),x=cosPhi*cos$1(lambda),y=cosPhi*sin$1(lambda),z=sin$1(phi),cx=y0$4*z-z0*y,cy=z0*x-x0$4*z,cz=x0$4*y-y0$4*x,m=hypot(cx,cy,cz),w=asin$1(m),v=m&&-w/m;X2$1.add(v*cx);Y2$1.add(v*cy);Z2$1.add(v*cz);W1+=w;X1$1+=w*(x0$4+(x0$4=x));Y1$1+=w*(y0$4+(y0$4=y));Z1$1+=w*(z0+(z0=z));centroidPointCartesian(x0$4,y0$4,z0)}function geoCentroid$1(object){W0=W1=X0$1=Y0$1=Z0$1=X1$1=Y1$1=Z1$1=0;X2$1=new Adder;Y2$1=new Adder;Z2$1=new Adder;geoStream(object,centroidStream$1);var x=+X2$1,y=+Y2$1,z=+Z2$1,m=hypot(x,y,z);if(m<epsilon2){x=X1$1,y=Y1$1,z=Z1$1;if(W1<epsilon$3)x=X0$1,y=Y0$1,z=Z0$1;m=hypot(x,y,z);if(m<epsilon2)return[NaN,NaN]}return[atan2(y,x)*degrees,asin$1(z/m)*degrees]}function compose(a,b){function compose(x,y){return x=a(x,y),b(x[0],x[1])}if(a.invert&&b.invert)compose.invert=function(x,y){return x=b.invert(x,y),x&&a.invert(x[0],x[1])};return compose}function rotationIdentity(lambda,phi){if(abs$1(lambda)>pi$1)lambda-=Math.round(lambda/tau$1)*tau$1;return[lambda,phi]}rotationIdentity.invert=rotationIdentity;function rotateRadians(deltaLambda,deltaPhi,deltaGamma){return(deltaLambda%=tau$1)?deltaPhi||deltaGamma?compose(rotationLambda(deltaLambda),rotationPhiGamma(deltaPhi,deltaGamma)):rotationLambda(deltaLambda):deltaPhi||deltaGamma?rotationPhiGamma(deltaPhi,deltaGamma):rotationIdentity}function forwardRotationLambda(deltaLambda){return function(lambda,phi){lambda+=deltaLambda;if(abs$1(lambda)>pi$1)lambda-=Math.round(lambda/tau$1)*tau$1;return[lambda,phi]}}function rotationLambda(deltaLambda){var rotation=forwardRotationLambda(deltaLambda);rotation.invert=forwardRotationLambda(-deltaLambda);return rotation}function rotationPhiGamma(deltaPhi,deltaGamma){var cosDeltaPhi=cos$1(deltaPhi),sinDeltaPhi=sin$1(deltaPhi),cosDeltaGamma=cos$1(deltaGamma),sinDeltaGamma=sin$1(deltaGamma);function rotation(lambda,phi){var cosPhi=cos$1(phi),x=cos$1(lambda)*cosPhi,y=sin$1(lambda)*cosPhi,z=sin$1(phi),k=z*cosDeltaPhi+x*sinDeltaPhi;return[atan2(y*cosDeltaGamma-k*sinDeltaGamma,x*cosDeltaPhi-z*sinDeltaPhi),asin$1(k*cosDeltaGamma+y*sinDeltaGamma)]}rotation.invert=function(lambda,phi){var cosPhi=cos$1(phi),x=cos$1(lambda)*cosPhi,y=sin$1(lambda)*cosPhi,z=sin$1(phi),k=z*cosDeltaGamma-y*sinDeltaGamma;return[atan2(y*cosDeltaGamma+z*sinDeltaGamma,x*cosDeltaPhi+k*sinDeltaPhi),asin$1(k*cosDeltaPhi-x*sinDeltaPhi)]};return rotation}function rotation(rotate){rotate=rotateRadians(rotate[0]*radians,rotate[1]*radians,rotate.length>2?rotate[2]*radians:0);function forward(coordinates){coordinates=rotate(coordinates[0]*radians,coordinates[1]*radians);return coordinates[0]*=degrees,coordinates[1]*=degrees,coordinates}forward.invert=function(coordinates){coordinates=rotate.invert(coordinates[0]*radians,coordinates[1]*radians);return coordinates[0]*=degrees,coordinates[1]*=degrees,coordinates};return forward}function circleStream(stream,radius,delta,direction,t0,t1){if(!delta)return;var cosRadius=cos$1(radius),sinRadius=sin$1(radius),step=direction*delta;if(t0==null){t0=radius+direction*tau$1;t1=radius-step/2}else{t0=circleRadius(cosRadius,t0);t1=circleRadius(cosRadius,t1);if(direction>0?t0<t1:t0>t1)t0+=direction*tau$1}for(var point,t=t0;direction>0?t>t1:t<t1;t-=step){point=spherical([cosRadius,-sinRadius*cos$1(t),-sinRadius*sin$1(t)]);stream.point(point[0],point[1])}}function circleRadius(cosRadius,point){point=cartesian(point),point[0]-=cosRadius;cartesianNormalizeInPlace(point);var radius=acos(-point[1]);return((-point[2]<0?-radius:radius)+tau$1-epsilon$3)%tau$1}function clipBuffer(){var lines=[],line;return{point:function(x,y,m){line.push([x,y,m])},lineStart:function(){lines.push(line=[])},lineEnd:noop$2,rejoin:function(){if(lines.length>1)lines.push(lines.pop().concat(lines.shift()))},result:function(){var result=lines;lines=[];line=null;return result}}}function pointEqual(a,b){return abs$1(a[0]-b[0])<epsilon$3&&abs$1(a[1]-b[1])<epsilon$3}function Intersection(point,points,other,entry){this.x=point;this.z=points;this.o=other;this.e=entry;this.v=false;this.n=this.p=null}function clipRejoin(segments,compareIntersection,startInside,interpolate,stream){var subject=[],clip=[],i,n;segments.forEach((function(segment){if((n=segment.length-1)<=0)return;var n,p0=segment[0],p1=segment[n],x;if(pointEqual(p0,p1)){if(!p0[2]&&!p1[2]){stream.lineStart();for(i=0;i<n;++i)stream.point((p0=segment[i])[0],p0[1]);stream.lineEnd();return}p1[0]+=2*epsilon$3}subject.push(x=new Intersection(p0,segment,null,true));clip.push(x.o=new Intersection(p0,null,x,false));subject.push(x=new Intersection(p1,segment,null,false));clip.push(x.o=new Intersection(p1,null,x,true))}));if(!subject.length)return;clip.sort(compareIntersection);link(subject);link(clip);for(i=0,n=clip.length;i<n;++i){clip[i].e=startInside=!startInside}var start=subject[0],points,point;while(1){var current=start,isSubject=true;while(current.v)if((current=current.n)===start)return;points=current.z;stream.lineStart();do{current.v=current.o.v=true;if(current.e){if(isSubject){for(i=0,n=points.length;i<n;++i)stream.point((point=points[i])[0],point[1])}else{interpolate(current.x,current.n.x,1,stream)}current=current.n}else{if(isSubject){points=current.p.z;for(i=points.length-1;i>=0;--i)stream.point((point=points[i])[0],point[1])}else{interpolate(current.x,current.p.x,-1,stream)}current=current.p}current=current.o;points=current.z;isSubject=!isSubject}while(!current.v);stream.lineEnd()}}function link(array){if(!(n=array.length))return;var n,i=0,a=array[0],b;while(++i<n){a.n=b=array[i];b.p=a;a=b}a.n=b=array[0];b.p=a}function longitude(point){return abs$1(point[0])<=pi$1?point[0]:sign(point[0])*((abs$1(point[0])+pi$1)%tau$1-pi$1)}function polygonContains(polygon,point){var lambda=longitude(point),phi=point[1],sinPhi=sin$1(phi),normal=[sin$1(lambda),-cos$1(lambda),0],angle=0,winding=0;var sum=new Adder;if(sinPhi===1)phi=halfPi$1+epsilon$3;else if(sinPhi===-1)phi=-halfPi$1-epsilon$3;for(var i=0,n=polygon.length;i<n;++i){if(!(m=(ring=polygon[i]).length))continue;var ring,m,point0=ring[m-1],lambda0=longitude(point0),phi0=point0[1]/2+quarterPi,sinPhi0=sin$1(phi0),cosPhi0=cos$1(phi0);for(var j=0;j<m;++j,lambda0=lambda1,sinPhi0=sinPhi1,cosPhi0=cosPhi1,point0=point1){var point1=ring[j],lambda1=longitude(point1),phi1=point1[1]/2+quarterPi,sinPhi1=sin$1(phi1),cosPhi1=cos$1(phi1),delta=lambda1-lambda0,sign=delta>=0?1:-1,absDelta=sign*delta,antimeridian=absDelta>pi$1,k=sinPhi0*sinPhi1;sum.add(atan2(k*sign*sin$1(absDelta),cosPhi0*cosPhi1+k*cos$1(absDelta)));angle+=antimeridian?delta+sign*tau$1:delta;if(antimeridian^lambda0>=lambda^lambda1>=lambda){var arc=cartesianCross(cartesian(point0),cartesian(point1));cartesianNormalizeInPlace(arc);var intersection=cartesianCross(normal,arc);cartesianNormalizeInPlace(intersection);var phiArc=(antimeridian^delta>=0?-1:1)*asin$1(intersection[2]);if(phi>phiArc||phi===phiArc&&(arc[0]||arc[1])){winding+=antimeridian^delta>=0?1:-1}}}}return(angle<-epsilon$3||angle<epsilon$3&&sum<-epsilon2)^winding&1}function clip$1(pointVisible,clipLine,interpolate,start){return function(sink){var line=clipLine(sink),ringBuffer=clipBuffer(),ringSink=clipLine(ringBuffer),polygonStarted=false,polygon,segments,ring;var clip={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){clip.point=pointRing;clip.lineStart=ringStart;clip.lineEnd=ringEnd;segments=[];polygon=[]},polygonEnd:function(){clip.point=point;clip.lineStart=lineStart;clip.lineEnd=lineEnd;segments=merge$2(segments);var startInside=polygonContains(polygon,start);if(segments.length){if(!polygonStarted)sink.polygonStart(),polygonStarted=true;clipRejoin(segments,compareIntersection,startInside,interpolate,sink)}else if(startInside){if(!polygonStarted)sink.polygonStart(),polygonStarted=true;sink.lineStart();interpolate(null,null,1,sink);sink.lineEnd()}if(polygonStarted)sink.polygonEnd(),polygonStarted=false;segments=polygon=null},sphere:function(){sink.polygonStart();sink.lineStart();interpolate(null,null,1,sink);sink.lineEnd();sink.polygonEnd()}};function point(lambda,phi){if(pointVisible(lambda,phi))sink.point(lambda,phi)}function pointLine(lambda,phi){line.point(lambda,phi)}function lineStart(){clip.point=pointLine;line.lineStart()}function lineEnd(){clip.point=point;line.lineEnd()}function pointRing(lambda,phi){ring.push([lambda,phi]);ringSink.point(lambda,phi)}function ringStart(){ringSink.lineStart();ring=[]}function ringEnd(){pointRing(ring[0][0],ring[0][1]);ringSink.lineEnd();var clean=ringSink.clean(),ringSegments=ringBuffer.result(),i,n=ringSegments.length,m,segment,point;ring.pop();polygon.push(ring);ring=null;if(!n)return;if(clean&1){segment=ringSegments[0];if((m=segment.length-1)>0){if(!polygonStarted)sink.polygonStart(),polygonStarted=true;sink.lineStart();for(i=0;i<m;++i)sink.point((point=segment[i])[0],point[1]);sink.lineEnd()}return}if(n>1&&clean&2)ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));segments.push(ringSegments.filter(validSegment))}return clip}}function validSegment(segment){return segment.length>1}function compareIntersection(a,b){return((a=a.x)[0]<0?a[1]-halfPi$1-epsilon$3:halfPi$1-a[1])-((b=b.x)[0]<0?b[1]-halfPi$1-epsilon$3:halfPi$1-b[1])}var clipAntimeridian=clip$1((function(){return true}),clipAntimeridianLine,clipAntimeridianInterpolate,[-pi$1,-halfPi$1]);function clipAntimeridianLine(stream){var lambda0=NaN,phi0=NaN,sign0=NaN,clean;return{lineStart:function(){stream.lineStart();clean=1},point:function(lambda1,phi1){var sign1=lambda1>0?pi$1:-pi$1,delta=abs$1(lambda1-lambda0);if(abs$1(delta-pi$1)<epsilon$3){stream.point(lambda0,phi0=(phi0+phi1)/2>0?halfPi$1:-halfPi$1);stream.point(sign0,phi0);stream.lineEnd();stream.lineStart();stream.point(sign1,phi0);stream.point(lambda1,phi0);clean=0}else if(sign0!==sign1&&delta>=pi$1){if(abs$1(lambda0-sign0)<epsilon$3)lambda0-=sign0*epsilon$3;if(abs$1(lambda1-sign1)<epsilon$3)lambda1-=sign1*epsilon$3;phi0=clipAntimeridianIntersect(lambda0,phi0,lambda1,phi1);stream.point(sign0,phi0);stream.lineEnd();stream.lineStart();stream.point(sign1,phi0);clean=0}stream.point(lambda0=lambda1,phi0=phi1);sign0=sign1},lineEnd:function(){stream.lineEnd();lambda0=phi0=NaN},clean:function(){return 2-clean}}}function clipAntimeridianIntersect(lambda0,phi0,lambda1,phi1){var cosPhi0,cosPhi1,sinLambda0Lambda1=sin$1(lambda0-lambda1);return abs$1(sinLambda0Lambda1)>epsilon$3?atan((sin$1(phi0)*(cosPhi1=cos$1(phi1))*sin$1(lambda1)-sin$1(phi1)*(cosPhi0=cos$1(phi0))*sin$1(lambda0))/(cosPhi0*cosPhi1*sinLambda0Lambda1)):(phi0+phi1)/2}function clipAntimeridianInterpolate(from,to,direction,stream){var phi;if(from==null){phi=direction*halfPi$1;stream.point(-pi$1,phi);stream.point(0,phi);stream.point(pi$1,phi);stream.point(pi$1,0);stream.point(pi$1,-phi);stream.point(0,-phi);stream.point(-pi$1,-phi);stream.point(-pi$1,0);stream.point(-pi$1,phi)}else if(abs$1(from[0]-to[0])>epsilon$3){var lambda=from[0]<to[0]?pi$1:-pi$1;phi=direction*lambda/2;stream.point(-lambda,phi);stream.point(0,phi);stream.point(lambda,phi)}else{stream.point(to[0],to[1])}}function clipCircle(radius){var cr=cos$1(radius),delta=6*radians,smallRadius=cr>0,notHemisphere=abs$1(cr)>epsilon$3;function interpolate(from,to,direction,stream){circleStream(stream,radius,delta,direction,from,to)}function visible(lambda,phi){return cos$1(lambda)*cos$1(phi)>cr}function clipLine(stream){var point0,c0,v0,v00,clean;return{lineStart:function(){v00=v0=false;clean=1},point:function(lambda,phi){var point1=[lambda,phi],point2,v=visible(lambda,phi),c=smallRadius?v?0:code(lambda,phi):v?code(lambda+(lambda<0?pi$1:-pi$1),phi):0;if(!point0&&(v00=v0=v))stream.lineStart();if(v!==v0){point2=intersect(point0,point1);if(!point2||pointEqual(point0,point2)||pointEqual(point1,point2))point1[2]=1}if(v!==v0){clean=0;if(v){stream.lineStart();point2=intersect(point1,point0);stream.point(point2[0],point2[1])}else{point2=intersect(point0,point1);stream.point(point2[0],point2[1],2);stream.lineEnd()}point0=point2}else if(notHemisphere&&point0&&smallRadius^v){var t;if(!(c&c0)&&(t=intersect(point1,point0,true))){clean=0;if(smallRadius){stream.lineStart();stream.point(t[0][0],t[0][1]);stream.point(t[1][0],t[1][1]);stream.lineEnd()}else{stream.point(t[1][0],t[1][1]);stream.lineEnd();stream.lineStart();stream.point(t[0][0],t[0][1],3)}}}if(v&&(!point0||!pointEqual(point0,point1))){stream.point(point1[0],point1[1])}point0=point1,v0=v,c0=c},lineEnd:function(){if(v0)stream.lineEnd();point0=null},clean:function(){return clean|(v00&&v0)<<1}}}function intersect(a,b,two){var pa=cartesian(a),pb=cartesian(b);var n1=[1,0,0],n2=cartesianCross(pa,pb),n2n2=cartesianDot(n2,n2),n1n2=n2[0],determinant=n2n2-n1n2*n1n2;if(!determinant)return!two&&a;var c1=cr*n2n2/determinant,c2=-cr*n1n2/determinant,n1xn2=cartesianCross(n1,n2),A=cartesianScale(n1,c1),B=cartesianScale(n2,c2);cartesianAddInPlace(A,B);var u=n1xn2,w=cartesianDot(A,u),uu=cartesianDot(u,u),t2=w*w-uu*(cartesianDot(A,A)-1);if(t2<0)return;var t=sqrt$1(t2),q=cartesianScale(u,(-w-t)/uu);cartesianAddInPlace(q,A);q=spherical(q);if(!two)return q;var lambda0=a[0],lambda1=b[0],phi0=a[1],phi1=b[1],z;if(lambda1<lambda0)z=lambda0,lambda0=lambda1,lambda1=z;var delta=lambda1-lambda0,polar=abs$1(delta-pi$1)<epsilon$3,meridian=polar||delta<epsilon$3;if(!polar&&phi1<phi0)z=phi0,phi0=phi1,phi1=z;if(meridian?polar?phi0+phi1>0^q[1]<(abs$1(q[0]-lambda0)<epsilon$3?phi0:phi1):phi0<=q[1]&&q[1]<=phi1:delta>pi$1^(lambda0<=q[0]&&q[0]<=lambda1)){var q1=cartesianScale(u,(-w+t)/uu);cartesianAddInPlace(q1,A);return[q,spherical(q1)]}}function code(lambda,phi){var r=smallRadius?radius:pi$1-radius,code=0;if(lambda<-r)code|=1;else if(lambda>r)code|=2;if(phi<-r)code|=4;else if(phi>r)code|=8;return code}return clip$1(visible,clipLine,interpolate,smallRadius?[0,-radius]:[-pi$1,radius-pi$1])}function clipLine(a,b,x0,y0,x1,y1){var ax=a[0],ay=a[1],bx=b[0],by=b[1],t0=0,t1=1,dx=bx-ax,dy=by-ay,r;r=x0-ax;if(!dx&&r>0)return;r/=dx;if(dx<0){if(r<t0)return;if(r<t1)t1=r}else if(dx>0){if(r>t1)return;if(r>t0)t0=r}r=x1-ax;if(!dx&&r<0)return;r/=dx;if(dx<0){if(r>t1)return;if(r>t0)t0=r}else if(dx>0){if(r<t0)return;if(r<t1)t1=r}r=y0-ay;if(!dy&&r>0)return;r/=dy;if(dy<0){if(r<t0)return;if(r<t1)t1=r}else if(dy>0){if(r>t1)return;if(r>t0)t0=r}r=y1-ay;if(!dy&&r<0)return;r/=dy;if(dy<0){if(r>t1)return;if(r>t0)t0=r}else if(dy>0){if(r<t0)return;if(r<t1)t1=r}if(t0>0)a[0]=ax+t0*dx,a[1]=ay+t0*dy;if(t1<1)b[0]=ax+t1*dx,b[1]=ay+t1*dy;return true}var clipMax=1e9,clipMin=-clipMax;function clipRectangle(x0,y0,x1,y1){function visible(x,y){return x0<=x&&x<=x1&&y0<=y&&y<=y1}function interpolate(from,to,direction,stream){var a=0,a1=0;if(from==null||(a=corner(from,direction))!==(a1=corner(to,direction))||comparePoint(from,to)<0^direction>0){do{stream.point(a===0||a===3?x0:x1,a>1?y1:y0)}while((a=(a+direction+4)%4)!==a1)}else{stream.point(to[0],to[1])}}function corner(p,direction){return abs$1(p[0]-x0)<epsilon$3?direction>0?0:3:abs$1(p[0]-x1)<epsilon$3?direction>0?2:1:abs$1(p[1]-y0)<epsilon$3?direction>0?1:0:direction>0?3:2}function compareIntersection(a,b){return comparePoint(a.x,b.x)}function comparePoint(a,b){var ca=corner(a,1),cb=corner(b,1);return ca!==cb?ca-cb:ca===0?b[1]-a[1]:ca===1?a[0]-b[0]:ca===2?a[1]-b[1]:b[0]-a[0]}return function(stream){var activeStream=stream,bufferStream=clipBuffer(),segments,polygon,ring,x__,y__,v__,x_,y_,v_,first,clean;var clipStream={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:polygonStart,polygonEnd:polygonEnd};function point(x,y){if(visible(x,y))activeStream.point(x,y)}function polygonInside(){var winding=0;for(var i=0,n=polygon.length;i<n;++i){for(var ring=polygon[i],j=1,m=ring.length,point=ring[0],a0,a1,b0=point[0],b1=point[1];j<m;++j){a0=b0,a1=b1,point=ring[j],b0=point[0],b1=point[1];if(a1<=y1){if(b1>y1&&(b0-a0)*(y1-a1)>(b1-a1)*(x0-a0))++winding}else{if(b1<=y1&&(b0-a0)*(y1-a1)<(b1-a1)*(x0-a0))--winding}}}return winding}function polygonStart(){activeStream=bufferStream,segments=[],polygon=[],clean=true}function polygonEnd(){var startInside=polygonInside(),cleanInside=clean&&startInside,visible=(segments=merge$2(segments)).length;if(cleanInside||visible){stream.polygonStart();if(cleanInside){stream.lineStart();interpolate(null,null,1,stream);stream.lineEnd()}if(visible){clipRejoin(segments,compareIntersection,startInside,interpolate,stream)}stream.polygonEnd()}activeStream=stream,segments=polygon=ring=null}function lineStart(){clipStream.point=linePoint;if(polygon)polygon.push(ring=[]);first=true;v_=false;x_=y_=NaN}function lineEnd(){if(segments){linePoint(x__,y__);if(v__&&v_)bufferStream.rejoin();segments.push(bufferStream.result())}clipStream.point=point;if(v_)activeStream.lineEnd()}function linePoint(x,y){var v=visible(x,y);if(polygon)ring.push([x,y]);if(first){x__=x,y__=y,v__=v;first=false;if(v){activeStream.lineStart();activeStream.point(x,y)}}else{if(v&&v_)activeStream.point(x,y);else{var a=[x_=Math.max(clipMin,Math.min(clipMax,x_)),y_=Math.max(clipMin,Math.min(clipMax,y_))],b=[x=Math.max(clipMin,Math.min(clipMax,x)),y=Math.max(clipMin,Math.min(clipMax,y))];if(clipLine(a,b,x0,y0,x1,y1)){if(!v_){activeStream.lineStart();activeStream.point(a[0],a[1])}activeStream.point(b[0],b[1]);if(!v)activeStream.lineEnd();clean=false}else if(v){activeStream.lineStart();activeStream.point(x,y);clean=false}}}x_=x,y_=y,v_=v}return clipStream}}function graticuleX(y0,y1,dy){var y=range$3(y0,y1-epsilon$3,dy).concat(y1);return function(x){return y.map((function(y){return[x,y]}))}}function graticuleY(x0,x1,dx){var x=range$3(x0,x1-epsilon$3,dx).concat(x1);return function(y){return x.map((function(x){return[x,y]}))}}function graticule(){var x1,x0,X1,X0,y1,y0,Y1,Y0,dx=10,dy=dx,DX=90,DY=360,x,y,X,Y,precision=2.5;function graticule(){return{type:"MultiLineString",coordinates:lines()}}function lines(){return range$3(ceil(X0/DX)*DX,X1,DX).map(X).concat(range$3(ceil(Y0/DY)*DY,Y1,DY).map(Y)).concat(range$3(ceil(x0/dx)*dx,x1,dx).filter((function(x){return abs$1(x%DX)>epsilon$3})).map(x)).concat(range$3(ceil(y0/dy)*dy,y1,dy).filter((function(y){return abs$1(y%DY)>epsilon$3})).map(y))}graticule.lines=function(){return lines().map((function(coordinates){return{type:"LineString",coordinates:coordinates}}))};graticule.outline=function(){return{type:"Polygon",coordinates:[X(X0).concat(Y(Y1).slice(1),X(X1).reverse().slice(1),Y(Y0).reverse().slice(1))]}};graticule.extent=function(_){if(!arguments.length)return graticule.extentMinor();return graticule.extentMajor(_).extentMinor(_)};graticule.extentMajor=function(_){if(!arguments.length)return[[X0,Y0],[X1,Y1]];X0=+_[0][0],X1=+_[1][0];Y0=+_[0][1],Y1=+_[1][1];if(X0>X1)_=X0,X0=X1,X1=_;if(Y0>Y1)_=Y0,Y0=Y1,Y1=_;return graticule.precision(precision)};graticule.extentMinor=function(_){if(!arguments.length)return[[x0,y0],[x1,y1]];x0=+_[0][0],x1=+_[1][0];y0=+_[0][1],y1=+_[1][1];if(x0>x1)_=x0,x0=x1,x1=_;if(y0>y1)_=y0,y0=y1,y1=_;return graticule.precision(precision)};graticule.step=function(_){if(!arguments.length)return graticule.stepMinor();return graticule.stepMajor(_).stepMinor(_)};graticule.stepMajor=function(_){if(!arguments.length)return[DX,DY];DX=+_[0],DY=+_[1];return graticule};graticule.stepMinor=function(_){if(!arguments.length)return[dx,dy];dx=+_[0],dy=+_[1];return graticule};graticule.precision=function(_){if(!arguments.length)return precision;precision=+_;x=graticuleX(y0,y1,90);y=graticuleY(x0,x1,precision);X=graticuleX(Y0,Y1,90);Y=graticuleY(X0,X1,precision);return graticule};return graticule.extentMajor([[-180,-90+epsilon$3],[180,90-epsilon$3]]).extentMinor([[-180,-80-epsilon$3],[180,80+epsilon$3]])}var identity=x=>x;var areaSum=new Adder,areaRingSum=new Adder,x00$2,y00$2,x0$3,y0$3;var areaStream={point:noop$2,lineStart:noop$2,lineEnd:noop$2,polygonStart:function(){areaStream.lineStart=areaRingStart;areaStream.lineEnd=areaRingEnd},polygonEnd:function(){areaStream.lineStart=areaStream.lineEnd=areaStream.point=noop$2;areaSum.add(abs$1(areaRingSum));areaRingSum=new Adder},result:function(){var area=areaSum/2;areaSum=new Adder;return area}};function areaRingStart(){areaStream.point=areaPointFirst}function areaPointFirst(x,y){areaStream.point=areaPoint;x00$2=x0$3=x,y00$2=y0$3=y}function areaPoint(x,y){areaRingSum.add(y0$3*x-x0$3*y);x0$3=x,y0$3=y}function areaRingEnd(){areaPoint(x00$2,y00$2)}var pathArea=areaStream;var x0$2=Infinity,y0$2=x0$2,x1=-x0$2,y1=x1;var boundsStream={point:boundsPoint,lineStart:noop$2,lineEnd:noop$2,polygonStart:noop$2,polygonEnd:noop$2,result:function(){var bounds=[[x0$2,y0$2],[x1,y1]];x1=y1=-(y0$2=x0$2=Infinity);return bounds}};function boundsPoint(x,y){if(x<x0$2)x0$2=x;if(x>x1)x1=x;if(y<y0$2)y0$2=y;if(y>y1)y1=y}var boundsStream$1=boundsStream;var X0=0,Y0=0,Z0=0,X1=0,Y1=0,Z1=0,X2=0,Y2=0,Z2=0,x00$1,y00$1,x0$1,y0$1;var centroidStream={point:centroidPoint,lineStart:centroidLineStart,lineEnd:centroidLineEnd,polygonStart:function(){centroidStream.lineStart=centroidRingStart;centroidStream.lineEnd=centroidRingEnd},polygonEnd:function(){centroidStream.point=centroidPoint;centroidStream.lineStart=centroidLineStart;centroidStream.lineEnd=centroidLineEnd},result:function(){var centroid=Z2?[X2/Z2,Y2/Z2]:Z1?[X1/Z1,Y1/Z1]:Z0?[X0/Z0,Y0/Z0]:[NaN,NaN];X0=Y0=Z0=X1=Y1=Z1=X2=Y2=Z2=0;return centroid}};function centroidPoint(x,y){X0+=x;Y0+=y;++Z0}function centroidLineStart(){centroidStream.point=centroidPointFirstLine}function centroidPointFirstLine(x,y){centroidStream.point=centroidPointLine;centroidPoint(x0$1=x,y0$1=y)}function centroidPointLine(x,y){var dx=x-x0$1,dy=y-y0$1,z=sqrt$1(dx*dx+dy*dy);X1+=z*(x0$1+x)/2;Y1+=z*(y0$1+y)/2;Z1+=z;centroidPoint(x0$1=x,y0$1=y)}function centroidLineEnd(){centroidStream.point=centroidPoint}function centroidRingStart(){centroidStream.point=centroidPointFirstRing}function centroidRingEnd(){centroidPointRing(x00$1,y00$1)}function centroidPointFirstRing(x,y){centroidStream.point=centroidPointRing;centroidPoint(x00$1=x0$1=x,y00$1=y0$1=y)}function centroidPointRing(x,y){var dx=x-x0$1,dy=y-y0$1,z=sqrt$1(dx*dx+dy*dy);X1+=z*(x0$1+x)/2;Y1+=z*(y0$1+y)/2;Z1+=z;z=y0$1*x-x0$1*y;X2+=z*(x0$1+x);Y2+=z*(y0$1+y);Z2+=z*3;centroidPoint(x0$1=x,y0$1=y)}var pathCentroid=centroidStream;function PathContext(context){this._context=context}PathContext.prototype={_radius:4.5,pointRadius:function(_){return this._radius=_,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){if(this._line===0)this._context.closePath();this._point=NaN},point:function(x,y){switch(this._point){case 0:{this._context.moveTo(x,y);this._point=1;break}case 1:{this._context.lineTo(x,y);break}default:{this._context.moveTo(x+this._radius,y);this._context.arc(x,y,this._radius,0,tau$1);break}}},result:noop$2};var lengthSum=new Adder,lengthRing,x00,y00,x0,y0;var lengthStream={point:noop$2,lineStart:function(){lengthStream.point=lengthPointFirst},lineEnd:function(){if(lengthRing)lengthPoint(x00,y00);lengthStream.point=noop$2},polygonStart:function(){lengthRing=true},polygonEnd:function(){lengthRing=null},result:function(){var length=+lengthSum;lengthSum=new Adder;return length}};function lengthPointFirst(x,y){lengthStream.point=lengthPoint;x00=x0=x,y00=y0=y}function lengthPoint(x,y){x0-=x,y0-=y;lengthSum.add(sqrt$1(x0*x0+y0*y0));x0=x,y0=y}var pathMeasure=lengthStream;let cacheDigits,cacheAppend,cacheRadius,cacheCircle;class PathString{constructor(digits){this._append=digits==null?append:appendRound(digits);this._radius=4.5;this._=""}pointRadius(_){this._radius=+_;return this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){if(this._line===0)this._+="Z";this._point=NaN}point(x,y){switch(this._point){case 0:{this._append`M${x},${y}`;this._point=1;break}case 1:{this._append`L${x},${y}`;break}default:{this._append`M${x},${y}`;if(this._radius!==cacheRadius||this._append!==cacheAppend){const r=this._radius;const s=this._;this._="";this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`;cacheRadius=r;cacheAppend=this._append;cacheCircle=this._;this._=s}this._+=cacheCircle;break}}}result(){const result=this._;this._="";return result.length?result:null}}function append(strings){let i=1;this._+=strings[0];for(const j=strings.length;i<j;++i){this._+=arguments[i]+strings[i]}}function appendRound(digits){const d=Math.floor(digits);if(!(d>=0))throw new RangeError(`invalid digits: ${digits}`);if(d>15)return append;if(d!==cacheDigits){const k=10**d;cacheDigits=d;cacheAppend=function append(strings){let i=1;this._+=strings[0];for(const j=strings.length;i<j;++i){this._+=Math.round(arguments[i]*k)/k+strings[i]}}}return cacheAppend}function geoPath(projection,context){let digits=3,pointRadius=4.5,projectionStream,contextStream;function path(object){if(object){if(typeof pointRadius==="function")contextStream.pointRadius(+pointRadius.apply(this,arguments));geoStream(object,projectionStream(contextStream))}return contextStream.result()}path.area=function(object){geoStream(object,projectionStream(pathArea));return pathArea.result()};path.measure=function(object){geoStream(object,projectionStream(pathMeasure));return pathMeasure.result()};path.bounds=function(object){geoStream(object,projectionStream(boundsStream$1));return boundsStream$1.result()};path.centroid=function(object){geoStream(object,projectionStream(pathCentroid));return pathCentroid.result()};path.projection=function(_){if(!arguments.length)return projection;projectionStream=_==null?(projection=null,identity):(projection=_).stream;return path};path.context=function(_){if(!arguments.length)return context;contextStream=_==null?(context=null,new PathString(digits)):new PathContext(context=_);if(typeof pointRadius!=="function")contextStream.pointRadius(pointRadius);return path};path.pointRadius=function(_){if(!arguments.length)return pointRadius;pointRadius=typeof _==="function"?_:(contextStream.pointRadius(+_),+_);return path};path.digits=function(_){if(!arguments.length)return digits;if(_==null)digits=null;else{const d=Math.floor(_);if(!(d>=0))throw new RangeError(`invalid digits: ${_}`);digits=d}if(context===null)contextStream=new PathString(digits);return path};return path.projection(projection).digits(digits).context(context)}function transformer(methods){return function(stream){var s=new TransformStream;for(var key in methods)s[key]=methods[key];s.stream=stream;return s}}function TransformStream(){}TransformStream.prototype={constructor:TransformStream,point:function(x,y){this.stream.point(x,y)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function fit$1(projection,fitBounds,object){var clip=projection.clipExtent&&projection.clipExtent();projection.scale(150).translate([0,0]);if(clip!=null)projection.clipExtent(null);geoStream(object,projection.stream(boundsStream$1));fitBounds(boundsStream$1.result());if(clip!=null)projection.clipExtent(clip);return projection}function fitExtent(projection,extent,object){return fit$1(projection,(function(b){var w=extent[1][0]-extent[0][0],h=extent[1][1]-extent[0][1],k=Math.min(w/(b[1][0]-b[0][0]),h/(b[1][1]-b[0][1])),x=+extent[0][0]+(w-k*(b[1][0]+b[0][0]))/2,y=+extent[0][1]+(h-k*(b[1][1]+b[0][1]))/2;projection.scale(150*k).translate([x,y])}),object)}function fitSize(projection,size,object){return fitExtent(projection,[[0,0],size],object)}function fitWidth(projection,width,object){return fit$1(projection,(function(b){var w=+width,k=w/(b[1][0]-b[0][0]),x=(w-k*(b[1][0]+b[0][0]))/2,y=-k*b[0][1];projection.scale(150*k).translate([x,y])}),object)}function fitHeight(projection,height,object){return fit$1(projection,(function(b){var h=+height,k=h/(b[1][1]-b[0][1]),x=-k*b[0][0],y=(h-k*(b[1][1]+b[0][1]))/2;projection.scale(150*k).translate([x,y])}),object)}var maxDepth=16,cosMinDistance=cos$1(30*radians);function resample(project,delta2){return+delta2?resample$1(project,delta2):resampleNone(project)}function resampleNone(project){return transformer({point:function(x,y){x=project(x,y);this.stream.point(x[0],x[1])}})}function resample$1(project,delta2){function resampleLineTo(x0,y0,lambda0,a0,b0,c0,x1,y1,lambda1,a1,b1,c1,depth,stream){var dx=x1-x0,dy=y1-y0,d2=dx*dx+dy*dy;if(d2>4*delta2&&depth--){var a=a0+a1,b=b0+b1,c=c0+c1,m=sqrt$1(a*a+b*b+c*c),phi2=asin$1(c/=m),lambda2=abs$1(abs$1(c)-1)<epsilon$3||abs$1(lambda0-lambda1)<epsilon$3?(lambda0+lambda1)/2:atan2(b,a),p=project(lambda2,phi2),x2=p[0],y2=p[1],dx2=x2-x0,dy2=y2-y0,dz=dy*dx2-dx*dy2;if(dz*dz/d2>delta2||abs$1((dx*dx2+dy*dy2)/d2-.5)>.3||a0*a1+b0*b1+c0*c1<cosMinDistance){resampleLineTo(x0,y0,lambda0,a0,b0,c0,x2,y2,lambda2,a/=m,b/=m,c,depth,stream);stream.point(x2,y2);resampleLineTo(x2,y2,lambda2,a,b,c,x1,y1,lambda1,a1,b1,c1,depth,stream)}}}return function(stream){var lambda00,x00,y00,a00,b00,c00,lambda0,x0,y0,a0,b0,c0;var resampleStream={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){stream.polygonStart();resampleStream.lineStart=ringStart},polygonEnd:function(){stream.polygonEnd();resampleStream.lineStart=lineStart}};function point(x,y){x=project(x,y);stream.point(x[0],x[1])}function lineStart(){x0=NaN;resampleStream.point=linePoint;stream.lineStart()}function linePoint(lambda,phi){var c=cartesian([lambda,phi]),p=project(lambda,phi);resampleLineTo(x0,y0,lambda0,a0,b0,c0,x0=p[0],y0=p[1],lambda0=lambda,a0=c[0],b0=c[1],c0=c[2],maxDepth,stream);stream.point(x0,y0)}function lineEnd(){resampleStream.point=point;stream.lineEnd()}function ringStart(){lineStart();resampleStream.point=ringPoint;resampleStream.lineEnd=ringEnd}function ringPoint(lambda,phi){linePoint(lambda00=lambda,phi),x00=x0,y00=y0,a00=a0,b00=b0,c00=c0;resampleStream.point=linePoint}function ringEnd(){resampleLineTo(x0,y0,lambda0,a0,b0,c0,x00,y00,lambda00,a00,b00,c00,maxDepth,stream);resampleStream.lineEnd=lineEnd;lineEnd()}return resampleStream}}var transformRadians=transformer({point:function(x,y){this.stream.point(x*radians,y*radians)}});function transformRotate(rotate){return transformer({point:function(x,y){var r=rotate(x,y);return this.stream.point(r[0],r[1])}})}function scaleTranslate(k,dx,dy,sx,sy){function transform(x,y){x*=sx;y*=sy;return[dx+k*x,dy-k*y]}transform.invert=function(x,y){return[(x-dx)/k*sx,(dy-y)/k*sy]};return transform}function scaleTranslateRotate(k,dx,dy,sx,sy,alpha){if(!alpha)return scaleTranslate(k,dx,dy,sx,sy);var cosAlpha=cos$1(alpha),sinAlpha=sin$1(alpha),a=cosAlpha*k,b=sinAlpha*k,ai=cosAlpha/k,bi=sinAlpha/k,ci=(sinAlpha*dy-cosAlpha*dx)/k,fi=(sinAlpha*dx+cosAlpha*dy)/k;function transform(x,y){x*=sx;y*=sy;return[a*x-b*y+dx,dy-b*x-a*y]}transform.invert=function(x,y){return[sx*(ai*x-bi*y+ci),sy*(fi-bi*x-ai*y)]};return transform}function projection$1(project){return projectionMutator((function(){return project}))()}function projectionMutator(projectAt){var project,k=150,x=480,y=250,lambda=0,phi=0,deltaLambda=0,deltaPhi=0,deltaGamma=0,rotate,alpha=0,sx=1,sy=1,theta=null,preclip=clipAntimeridian,x0=null,y0,x1,y1,postclip=identity,delta2=.5,projectResample,projectTransform,projectRotateTransform,cache,cacheStream;function projection(point){return projectRotateTransform(point[0]*radians,point[1]*radians)}function invert(point){point=projectRotateTransform.invert(point[0],point[1]);return point&&[point[0]*degrees,point[1]*degrees]}projection.stream=function(stream){return cache&&cacheStream===stream?cache:cache=transformRadians(transformRotate(rotate)(preclip(projectResample(postclip(cacheStream=stream)))))};projection.preclip=function(_){return arguments.length?(preclip=_,theta=undefined,reset()):preclip};projection.postclip=function(_){return arguments.length?(postclip=_,x0=y0=x1=y1=null,reset()):postclip};projection.clipAngle=function(_){return arguments.length?(preclip=+_?clipCircle(theta=_*radians):(theta=null,clipAntimeridian),reset()):theta*degrees};projection.clipExtent=function(_){return arguments.length?(postclip=_==null?(x0=y0=x1=y1=null,identity):clipRectangle(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1]),reset()):x0==null?null:[[x0,y0],[x1,y1]]};projection.scale=function(_){return arguments.length?(k=+_,recenter()):k};projection.translate=function(_){return arguments.length?(x=+_[0],y=+_[1],recenter()):[x,y]};projection.center=function(_){return arguments.length?(lambda=_[0]%360*radians,phi=_[1]%360*radians,recenter()):[lambda*degrees,phi*degrees]};projection.rotate=function(_){return arguments.length?(deltaLambda=_[0]%360*radians,deltaPhi=_[1]%360*radians,deltaGamma=_.length>2?_[2]%360*radians:0,recenter()):[deltaLambda*degrees,deltaPhi*degrees,deltaGamma*degrees]};projection.angle=function(_){return arguments.length?(alpha=_%360*radians,recenter()):alpha*degrees};projection.reflectX=function(_){return arguments.length?(sx=_?-1:1,recenter()):sx<0};projection.reflectY=function(_){return arguments.length?(sy=_?-1:1,recenter()):sy<0};projection.precision=function(_){return arguments.length?(projectResample=resample(projectTransform,delta2=_*_),reset()):sqrt$1(delta2)};projection.fitExtent=function(extent,object){return fitExtent(projection,extent,object)};projection.fitSize=function(size,object){return fitSize(projection,size,object)};projection.fitWidth=function(width,object){return fitWidth(projection,width,object)};projection.fitHeight=function(height,object){return fitHeight(projection,height,object)};function recenter(){var center=scaleTranslateRotate(k,0,0,sx,sy,alpha).apply(null,project(lambda,phi)),transform=scaleTranslateRotate(k,x-center[0],y-center[1],sx,sy,alpha);rotate=rotateRadians(deltaLambda,deltaPhi,deltaGamma);projectTransform=compose(project,transform);projectRotateTransform=compose(rotate,projectTransform);projectResample=resample(projectTransform,delta2);return reset()}function reset(){cache=cacheStream=null;return projection}return function(){project=projectAt.apply(this,arguments);projection.invert=project.invert&&invert;return recenter()}}function conicProjection(projectAt){var phi0=0,phi1=pi$1/3,m=projectionMutator(projectAt),p=m(phi0,phi1);p.parallels=function(_){return arguments.length?m(phi0=_[0]*radians,phi1=_[1]*radians):[phi0*degrees,phi1*degrees]};return p}function cylindricalEqualAreaRaw(phi0){var cosPhi0=cos$1(phi0);function forward(lambda,phi){return[lambda*cosPhi0,sin$1(phi)/cosPhi0]}forward.invert=function(x,y){return[x/cosPhi0,asin$1(y*cosPhi0)]};return forward}function conicEqualAreaRaw(y0,y1){var sy0=sin$1(y0),n=(sy0+sin$1(y1))/2;if(abs$1(n)<epsilon$3)return cylindricalEqualAreaRaw(y0);var c=1+sy0*(2*n-sy0),r0=sqrt$1(c)/n;function project(x,y){var r=sqrt$1(c-2*n*sin$1(y))/n;return[r*sin$1(x*=n),r0-r*cos$1(x)]}project.invert=function(x,y){var r0y=r0-y,l=atan2(x,abs$1(r0y))*sign(r0y);if(r0y*n<0)l-=pi$1*sign(x)*sign(r0y);return[l/n,asin$1((c-(x*x+r0y*r0y)*n*n)/(2*n))]};return project}function geoConicEqualArea(){return conicProjection(conicEqualAreaRaw).scale(155.424).center([0,33.6442])}function geoAlbers(){return geoConicEqualArea().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function multiplex(streams){var n=streams.length;return{point:function(x,y){var i=-1;while(++i<n)streams[i].point(x,y)},sphere:function(){var i=-1;while(++i<n)streams[i].sphere()},lineStart:function(){var i=-1;while(++i<n)streams[i].lineStart()},lineEnd:function(){var i=-1;while(++i<n)streams[i].lineEnd()},polygonStart:function(){var i=-1;while(++i<n)streams[i].polygonStart()},polygonEnd:function(){var i=-1;while(++i<n)streams[i].polygonEnd()}}}function geoAlbersUsa(){var cache,cacheStream,lower48=geoAlbers(),lower48Point,alaska=geoConicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),alaskaPoint,hawaii=geoConicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),hawaiiPoint,point,pointStream={point:function(x,y){point=[x,y]}};function albersUsa(coordinates){var x=coordinates[0],y=coordinates[1];return point=null,(lower48Point.point(x,y),point)||(alaskaPoint.point(x,y),point)||(hawaiiPoint.point(x,y),point)}albersUsa.invert=function(coordinates){var k=lower48.scale(),t=lower48.translate(),x=(coordinates[0]-t[0])/k,y=(coordinates[1]-t[1])/k;return(y>=.12&&y<.234&&x>=-.425&&x<-.214?alaska:y>=.166&&y<.234&&x>=-.214&&x<-.115?hawaii:lower48).invert(coordinates)};albersUsa.stream=function(stream){return cache&&cacheStream===stream?cache:cache=multiplex([lower48.stream(cacheStream=stream),alaska.stream(stream),hawaii.stream(stream)])};albersUsa.precision=function(_){if(!arguments.length)return lower48.precision();lower48.precision(_),alaska.precision(_),hawaii.precision(_);return reset()};albersUsa.scale=function(_){if(!arguments.length)return lower48.scale();lower48.scale(_),alaska.scale(_*.35),hawaii.scale(_);return albersUsa.translate(lower48.translate())};albersUsa.translate=function(_){if(!arguments.length)return lower48.translate();var k=lower48.scale(),x=+_[0],y=+_[1];lower48Point=lower48.translate(_).clipExtent([[x-.455*k,y-.238*k],[x+.455*k,y+.238*k]]).stream(pointStream);alaskaPoint=alaska.translate([x-.307*k,y+.201*k]).clipExtent([[x-.425*k+epsilon$3,y+.12*k+epsilon$3],[x-.214*k-epsilon$3,y+.234*k-epsilon$3]]).stream(pointStream);hawaiiPoint=hawaii.translate([x-.205*k,y+.212*k]).clipExtent([[x-.214*k+epsilon$3,y+.166*k+epsilon$3],[x-.115*k-epsilon$3,y+.234*k-epsilon$3]]).stream(pointStream);return reset()};albersUsa.fitExtent=function(extent,object){return fitExtent(albersUsa,extent,object)};albersUsa.fitSize=function(size,object){return fitSize(albersUsa,size,object)};albersUsa.fitWidth=function(width,object){return fitWidth(albersUsa,width,object)};albersUsa.fitHeight=function(height,object){return fitHeight(albersUsa,height,object)};function reset(){cache=cacheStream=null;return albersUsa}return albersUsa.scale(1070)}function azimuthalRaw(scale){return function(x,y){var cx=cos$1(x),cy=cos$1(y),k=scale(cx*cy);if(k===Infinity)return[2,0];return[k*cy*sin$1(x),k*sin$1(y)]}}function azimuthalInvert(angle){return function(x,y){var z=sqrt$1(x*x+y*y),c=angle(z),sc=sin$1(c),cc=cos$1(c);return[atan2(x*sc,z*cc),asin$1(z&&y*sc/z)]}}var azimuthalEqualAreaRaw=azimuthalRaw((function(cxcy){return sqrt$1(2/(1+cxcy))}));azimuthalEqualAreaRaw.invert=azimuthalInvert((function(z){return 2*asin$1(z/2)}));function geoAzimuthalEqualArea(){return projection$1(azimuthalEqualAreaRaw).scale(124.75).clipAngle(180-.001)}var azimuthalEquidistantRaw=azimuthalRaw((function(c){return(c=acos(c))&&c/sin$1(c)}));azimuthalEquidistantRaw.invert=azimuthalInvert((function(z){return z}));function geoAzimuthalEquidistant(){return projection$1(azimuthalEquidistantRaw).scale(79.4188).clipAngle(180-.001)}function mercatorRaw(lambda,phi){return[lambda,log$1(tan((halfPi$1+phi)/2))]}mercatorRaw.invert=function(x,y){return[x,2*atan(exp(y))-halfPi$1]};function geoMercator(){return mercatorProjection(mercatorRaw).scale(961/tau$1)}function mercatorProjection(project){var m=projection$1(project),center=m.center,scale=m.scale,translate=m.translate,clipExtent=m.clipExtent,x0=null,y0,x1,y1;m.scale=function(_){return arguments.length?(scale(_),reclip()):scale()};m.translate=function(_){return arguments.length?(translate(_),reclip()):translate()};m.center=function(_){return arguments.length?(center(_),reclip()):center()};m.clipExtent=function(_){return arguments.length?(_==null?x0=y0=x1=y1=null:(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1]),reclip()):x0==null?null:[[x0,y0],[x1,y1]]};function reclip(){var k=pi$1*scale(),t=m(rotation(m.rotate()).invert([0,0]));return clipExtent(x0==null?[[t[0]-k,t[1]-k],[t[0]+k,t[1]+k]]:project===mercatorRaw?[[Math.max(t[0]-k,x0),y0],[Math.min(t[0]+k,x1),y1]]:[[x0,Math.max(t[1]-k,y0)],[x1,Math.min(t[1]+k,y1)]])}return reclip()}function tany(y){return tan((halfPi$1+y)/2)}function conicConformalRaw(y0,y1){var cy0=cos$1(y0),n=y0===y1?sin$1(y0):log$1(cy0/cos$1(y1))/log$1(tany(y1)/tany(y0)),f=cy0*pow$1(tany(y0),n)/n;if(!n)return mercatorRaw;function project(x,y){if(f>0){if(y<-halfPi$1+epsilon$3)y=-halfPi$1+epsilon$3}else{if(y>halfPi$1-epsilon$3)y=halfPi$1-epsilon$3}var r=f/pow$1(tany(y),n);return[r*sin$1(n*x),f-r*cos$1(n*x)]}project.invert=function(x,y){var fy=f-y,r=sign(n)*sqrt$1(x*x+fy*fy),l=atan2(x,abs$1(fy))*sign(fy);if(fy*n<0)l-=pi$1*sign(x)*sign(fy);return[l/n,2*atan(pow$1(f/r,1/n))-halfPi$1]};return project}function geoConicConformal(){return conicProjection(conicConformalRaw).scale(109.5).parallels([30,30])}function equirectangularRaw(lambda,phi){return[lambda,phi]}equirectangularRaw.invert=equirectangularRaw;function geoEquirectangular(){return projection$1(equirectangularRaw).scale(152.63)}function conicEquidistantRaw(y0,y1){var cy0=cos$1(y0),n=y0===y1?sin$1(y0):(cy0-cos$1(y1))/(y1-y0),g=cy0/n+y0;if(abs$1(n)<epsilon$3)return equirectangularRaw;function project(x,y){var gy=g-y,nx=n*x;return[gy*sin$1(nx),g-gy*cos$1(nx)]}project.invert=function(x,y){var gy=g-y,l=atan2(x,abs$1(gy))*sign(gy);if(gy*n<0)l-=pi$1*sign(x)*sign(gy);return[l/n,g-sign(n)*sqrt$1(x*x+gy*gy)]};return project}function geoConicEquidistant(){return conicProjection(conicEquidistantRaw).scale(131.154).center([0,13.9389])}var A1=1.340264,A2=-.081106,A3=893e-6,A4=.003796,M=sqrt$1(3)/2,iterations=12;function equalEarthRaw(lambda,phi){var l=asin$1(M*sin$1(phi)),l2=l*l,l6=l2*l2*l2;return[lambda*cos$1(l)/(M*(A1+3*A2*l2+l6*(7*A3+9*A4*l2))),l*(A1+A2*l2+l6*(A3+A4*l2))]}equalEarthRaw.invert=function(x,y){var l=y,l2=l*l,l6=l2*l2*l2;for(var i=0,delta,fy,fpy;i<iterations;++i){fy=l*(A1+A2*l2+l6*(A3+A4*l2))-y;fpy=A1+3*A2*l2+l6*(7*A3+9*A4*l2);l-=delta=fy/fpy,l2=l*l,l6=l2*l2*l2;if(abs$1(delta)<epsilon2)break}return[M*x*(A1+3*A2*l2+l6*(7*A3+9*A4*l2))/cos$1(l),asin$1(sin$1(l)/M)]};function geoEqualEarth(){return projection$1(equalEarthRaw).scale(177.158)}function gnomonicRaw(x,y){var cy=cos$1(y),k=cos$1(x)*cy;return[cy*sin$1(x)/k,sin$1(y)/k]}gnomonicRaw.invert=azimuthalInvert(atan);function geoGnomonic(){return projection$1(gnomonicRaw).scale(144.049).clipAngle(60)}function geoIdentity(){var k=1,tx=0,ty=0,sx=1,sy=1,alpha=0,ca,sa,x0=null,y0,x1,y1,kx=1,ky=1,transform=transformer({point:function(x,y){var p=projection([x,y]);this.stream.point(p[0],p[1])}}),postclip=identity,cache,cacheStream;function reset(){kx=k*sx;ky=k*sy;cache=cacheStream=null;return projection}function projection(p){var x=p[0]*kx,y=p[1]*ky;if(alpha){var t=y*ca-x*sa;x=x*ca+y*sa;y=t}return[x+tx,y+ty]}projection.invert=function(p){var x=p[0]-tx,y=p[1]-ty;if(alpha){var t=y*ca+x*sa;x=x*ca-y*sa;y=t}return[x/kx,y/ky]};projection.stream=function(stream){return cache&&cacheStream===stream?cache:cache=transform(postclip(cacheStream=stream))};projection.postclip=function(_){return arguments.length?(postclip=_,x0=y0=x1=y1=null,reset()):postclip};projection.clipExtent=function(_){return arguments.length?(postclip=_==null?(x0=y0=x1=y1=null,identity):clipRectangle(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1]),reset()):x0==null?null:[[x0,y0],[x1,y1]]};projection.scale=function(_){return arguments.length?(k=+_,reset()):k};projection.translate=function(_){return arguments.length?(tx=+_[0],ty=+_[1],reset()):[tx,ty]};projection.angle=function(_){return arguments.length?(alpha=_%360*radians,sa=sin$1(alpha),ca=cos$1(alpha),reset()):alpha*degrees};projection.reflectX=function(_){return arguments.length?(sx=_?-1:1,reset()):sx<0};projection.reflectY=function(_){return arguments.length?(sy=_?-1:1,reset()):sy<0};projection.fitExtent=function(extent,object){return fitExtent(projection,extent,object)};projection.fitSize=function(size,object){return fitSize(projection,size,object)};projection.fitWidth=function(width,object){return fitWidth(projection,width,object)};projection.fitHeight=function(height,object){return fitHeight(projection,height,object)};return projection}function naturalEarth1Raw(lambda,phi){var phi2=phi*phi,phi4=phi2*phi2;return[lambda*(.8707-.131979*phi2+phi4*(-.013791+phi4*(.003971*phi2-.001529*phi4))),phi*(1.007226+phi2*(.015085+phi4*(-.044475+.028874*phi2-.005916*phi4)))]}naturalEarth1Raw.invert=function(x,y){var phi=y,i=25,delta;do{var phi2=phi*phi,phi4=phi2*phi2;phi-=delta=(phi*(1.007226+phi2*(.015085+phi4*(-.044475+.028874*phi2-.005916*phi4)))-y)/(1.007226+phi2*(.015085*3+phi4*(-.044475*7+.028874*9*phi2-.005916*11*phi4)))}while(abs$1(delta)>epsilon$3&&--i>0);return[x/(.8707+(phi2=phi*phi)*(-.131979+phi2*(-.013791+phi2*phi2*phi2*(.003971-.001529*phi2)))),phi]};function geoNaturalEarth1(){return projection$1(naturalEarth1Raw).scale(175.295)}function orthographicRaw(x,y){return[cos$1(y)*sin$1(x),sin$1(y)]}orthographicRaw.invert=azimuthalInvert(asin$1);function geoOrthographic(){return projection$1(orthographicRaw).scale(249.5).clipAngle(90+epsilon$3)}function stereographicRaw(x,y){var cy=cos$1(y),k=1+cos$1(x)*cy;return[cy*sin$1(x)/k,sin$1(y)/k]}stereographicRaw.invert=azimuthalInvert((function(z){return 2*atan(z)}));function geoStereographic(){return projection$1(stereographicRaw).scale(250).clipAngle(142)}function transverseMercatorRaw(lambda,phi){return[log$1(tan((halfPi$1+phi)/2)),-lambda]}transverseMercatorRaw.invert=function(x,y){return[-y,2*atan(exp(x))-halfPi$1]};function geoTransverseMercator(){var m=mercatorProjection(transverseMercatorRaw),center=m.center,rotate=m.rotate;m.center=function(_){return arguments.length?center([-_[1],_[0]]):(_=center(),[_[1],-_[0]])};m.rotate=function(_){return arguments.length?rotate([_[0],_[1],_.length>2?_[2]+90:90]):(_=rotate(),[_[0],_[1],_[2]-90])};return rotate([0,0,90]).scale(159.155)}var abs=Math.abs;var cos=Math.cos;var sin=Math.sin;var epsilon$2=1e-6;var pi=Math.PI;var halfPi=pi/2;var sqrt2=sqrt(2);function asin(x){return x>1?halfPi:x<-1?-halfPi:Math.asin(x)}function sqrt(x){return x>0?Math.sqrt(x):0}function mollweideBromleyTheta(cp,phi){var cpsinPhi=cp*sin(phi),i=30,delta;do{phi-=delta=(phi+sin(phi)-cpsinPhi)/(1+cos(phi))}while(abs(delta)>epsilon$2&&--i>0);return phi/2}function mollweideBromleyRaw(cx,cy,cp){function forward(lambda,phi){return[cx*lambda*cos(phi=mollweideBromleyTheta(cp,phi)),cy*sin(phi)]}forward.invert=function(x,y){return y=asin(y/cy),[x/(cx*cos(y)),asin((2*y+sin(2*y))/cp)]};return forward}var mollweideRaw=mollweideBromleyRaw(sqrt2/halfPi,sqrt2,pi);function geoMollweide(){return projection$1(mollweideRaw).scale(169.529)}const defaultPath=geoPath();const projectionProperties=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function create$2(type,constructor){return function projection(){const p=constructor();p.type=type;p.path=geoPath().projection(p);p.copy=p.copy||function(){const c=projection();projectionProperties.forEach(prop=>{if(p[prop])c[prop](p[prop]())});c.path.pointRadius(p.path.pointRadius());return c};return registerScale(p)}}function projection(type,proj){if(!type||typeof type!=="string"){throw new Error("Projection type must be a name string.")}type=type.toLowerCase();if(arguments.length>1){projections[type]=create$2(type,proj);return this}else{return projections[type]||null}}function getProjectionPath(proj){return proj&&proj.path||defaultPath}const projections={albers:geoAlbers,albersusa:geoAlbersUsa,azimuthalequalarea:geoAzimuthalEqualArea,azimuthalequidistant:geoAzimuthalEquidistant,conicconformal:geoConicConformal,conicequalarea:geoConicEqualArea,conicequidistant:geoConicEquidistant,equalEarth:geoEqualEarth,equirectangular:geoEquirectangular,gnomonic:geoGnomonic,identity:geoIdentity,mercator:geoMercator,mollweide:geoMollweide,naturalEarth1:geoNaturalEarth1,orthographic:geoOrthographic,stereographic:geoStereographic,transversemercator:geoTransverseMercator};for(const key in projections){projection(key,projections[key])}function noop$1(){}const cases=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function contours(){var dx=1,dy=1,smooth=smoothLinear;function contours(values,tz){return tz.map(value=>contour(values,value))}function contour(values,value){var polygons=[],holes=[];isorings(values,value,ring=>{smooth(ring,values,value);if(area(ring)>0)polygons.push([ring]);else holes.push(ring)});holes.forEach(hole=>{for(var i=0,n=polygons.length,polygon;i<n;++i){if(contains((polygon=polygons[i])[0],hole)!==-1){polygon.push(hole);return}}});return{type:"MultiPolygon",value:value,coordinates:polygons}}function isorings(values,value,callback){var fragmentByStart=new Array,fragmentByEnd=new Array,x,y,t0,t1,t2,t3;x=y=-1;t1=values[0]>=value;cases[t1<<1].forEach(stitch);while(++x<dx-1){t0=t1,t1=values[x+1]>=value;cases[t0|t1<<1].forEach(stitch)}cases[t1<<0].forEach(stitch);while(++y<dy-1){x=-1;t1=values[y*dx+dx]>=value;t2=values[y*dx]>=value;cases[t1<<1|t2<<2].forEach(stitch);while(++x<dx-1){t0=t1,t1=values[y*dx+dx+x+1]>=value;t3=t2,t2=values[y*dx+x+1]>=value;cases[t0|t1<<1|t2<<2|t3<<3].forEach(stitch)}cases[t1|t2<<3].forEach(stitch)}x=-1;t2=values[y*dx]>=value;cases[t2<<2].forEach(stitch);while(++x<dx-1){t3=t2,t2=values[y*dx+x+1]>=value;cases[t2<<2|t3<<3].forEach(stitch)}cases[t2<<3].forEach(stitch);function stitch(line){var start=[line[0][0]+x,line[0][1]+y],end=[line[1][0]+x,line[1][1]+y],startIndex=index(start),endIndex=index(end),f,g;if(f=fragmentByEnd[startIndex]){if(g=fragmentByStart[endIndex]){delete fragmentByEnd[f.end];delete fragmentByStart[g.start];if(f===g){f.ring.push(end);callback(f.ring)}else{fragmentByStart[f.start]=fragmentByEnd[g.end]={start:f.start,end:g.end,ring:f.ring.concat(g.ring)}}}else{delete fragmentByEnd[f.end];f.ring.push(end);fragmentByEnd[f.end=endIndex]=f}}else if(f=fragmentByStart[endIndex]){if(g=fragmentByEnd[startIndex]){delete fragmentByStart[f.start];delete fragmentByEnd[g.end];if(f===g){f.ring.push(end);callback(f.ring)}else{fragmentByStart[g.start]=fragmentByEnd[f.end]={start:g.start,end:f.end,ring:g.ring.concat(f.ring)}}}else{delete fragmentByStart[f.start];f.ring.unshift(start);fragmentByStart[f.start=startIndex]=f}}else{fragmentByStart[startIndex]=fragmentByEnd[endIndex]={start:startIndex,end:endIndex,ring:[start,end]}}}}function index(point){return point[0]*2+point[1]*(dx+1)*4}function smoothLinear(ring,values,value){ring.forEach(point=>{var x=point[0],y=point[1],xt=x|0,yt=y|0,v0,v1=values[yt*dx+xt];if(x>0&&x<dx&&xt===x){v0=values[yt*dx+xt-1];point[0]=x+(value-v0)/(v1-v0)-.5}if(y>0&&y<dy&&yt===y){v0=values[(yt-1)*dx+xt];point[1]=y+(value-v0)/(v1-v0)-.5}})}contours.contour=contour;contours.size=function(_){if(!arguments.length)return[dx,dy];var _0=Math.floor(_[0]),_1=Math.floor(_[1]);if(!(_0>=0&&_1>=0))error("invalid size");return dx=_0,dy=_1,contours};contours.smooth=function(_){return arguments.length?(smooth=_?smoothLinear:noop$1,contours):smooth===smoothLinear};return contours}function area(ring){var i=0,n=ring.length,area=ring[n-1][1]*ring[0][0]-ring[n-1][0]*ring[0][1];while(++i<n)area+=ring[i-1][1]*ring[i][0]-ring[i-1][0]*ring[i][1];return area}function contains(ring,hole){var i=-1,n=hole.length,c;while(++i<n)if(c=ringContains(ring,hole[i]))return c;return 0}function ringContains(ring,point){var x=point[0],y=point[1],contains=-1;for(var i=0,n=ring.length,j=n-1;i<n;j=i++){var pi=ring[i],xi=pi[0],yi=pi[1],pj=ring[j],xj=pj[0],yj=pj[1];if(segmentContains(pi,pj,point))return 0;if(yi>y!==yj>y&&x<(xj-xi)*(y-yi)/(yj-yi)+xi)contains=-contains}return contains}function segmentContains(a,b,c){var i;return collinear$1(a,b,c)&&within(a[i=+(a[0]===b[0])],c[i],b[i])}function collinear$1(a,b,c){return(b[0]-a[0])*(c[1]-a[1])===(c[0]-a[0])*(b[1]-a[1])}function within(p,q,r){return p<=q&&q<=r||r<=q&&q<=p}function quantize(k,nice,zero){return function(values){var ex=extent(values),start=zero?Math.min(ex[0],0):ex[0],stop=ex[1],span=stop-start,step=nice?tickStep(start,stop,k):span/(k+1);return range$3(start+step,stop,step)}}function Isocontour(params){Transform.call(this,null,params)}Isocontour.Definition={type:"Isocontour",metadata:{generates:true},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:true},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:false},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:true},{name:"smooth",type:"boolean",default:true},{name:"scale",type:"number",expr:true},{name:"translate",type:"number",array:true,expr:true},{name:"as",type:"string",null:true,default:"contour"}]};inherits(Isocontour,Transform,{transform(_,pulse){if(this.value&&!pulse.changed()&&!_.modified()){return pulse.StopPropagation}var out=pulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS),source=pulse.materialize(pulse.SOURCE).source,field=_.field||identity$6,contour=contours().smooth(_.smooth!==false),tz=_.thresholds||levels(source,field,_),as=_.as===null?null:_.as||"contour",values=[];source.forEach(t=>{const grid=field(t);const paths=contour.size([grid.width,grid.height])(grid.values,isArray(tz)?tz:tz(grid.values));transformPaths(paths,grid,t,_);paths.forEach(p=>{values.push(rederive(t,ingest$1(as!=null?{[as]:p}:p)))})});if(this.value)out.rem=this.value;this.value=out.source=out.add=values;return out}});function levels(values,f,_){const q=quantize(_.levels||10,_.nice,_.zero!==false);return _.resolve!=="shared"?q:q(values.map(t=>max$2(f(t).values)))}function transformPaths(paths,grid,datum,_){let s=_.scale||grid.scale,t=_.translate||grid.translate;if(isFunction(s))s=s(datum,_);if(isFunction(t))t=t(datum,_);if((s===1||s==null)&&!t)return;const sx=(isNumber$1(s)?s:s[0])||1,sy=(isNumber$1(s)?s:s[1])||1,tx=t&&t[0]||0,ty=t&&t[1]||0;paths.forEach(transform$1(grid,sx,sy,tx,ty))}function transform$1(grid,sx,sy,tx,ty){const x1=grid.x1||0,y1=grid.y1||0,flip=sx*sy<0;function transformPolygon(coordinates){coordinates.forEach(transformRing)}function transformRing(coordinates){if(flip)coordinates.reverse();coordinates.forEach(transformPoint)}function transformPoint(coordinates){coordinates[0]=(coordinates[0]-x1)*sx+tx;coordinates[1]=(coordinates[1]-y1)*sy+ty}return function(geometry){geometry.coordinates.forEach(transformPolygon);return geometry}}function radius(bw,data,f){const v=bw>=0?bw:estimateBandwidth(data,f);return Math.round((Math.sqrt(4*v*v+1)-1)/2)}function number$2(_){return isFunction(_)?_:constant$4(+_)}function density2D(){var x=d=>d[0],y=d=>d[1],weight=one$2,bandwidth=[-1,-1],dx=960,dy=500,k=2;function density(data,counts){const rx=radius(bandwidth[0],data,x)>>k,ry=radius(bandwidth[1],data,y)>>k,ox=rx?rx+2:0,oy=ry?ry+2:0,n=2*ox+(dx>>k),m=2*oy+(dy>>k),values0=new Float32Array(n*m),values1=new Float32Array(n*m);let values=values0;data.forEach(d=>{const xi=ox+(+x(d)>>k),yi=oy+(+y(d)>>k);if(xi>=0&&xi<n&&yi>=0&&yi<m){values0[xi+yi*n]+=+weight(d)}});if(rx>0&&ry>0){blurX(n,m,values0,values1,rx);blurY(n,m,values1,values0,ry);blurX(n,m,values0,values1,rx);blurY(n,m,values1,values0,ry);blurX(n,m,values0,values1,rx);blurY(n,m,values1,values0,ry)}else if(rx>0){blurX(n,m,values0,values1,rx);blurX(n,m,values1,values0,rx);blurX(n,m,values0,values1,rx);values=values1}else if(ry>0){blurY(n,m,values0,values1,ry);blurY(n,m,values1,values0,ry);blurY(n,m,values0,values1,ry);values=values1}const s=counts?Math.pow(2,-2*k):1/sum$1(values);for(let i=0,sz=n*m;i<sz;++i)values[i]*=s;return{values:values,scale:1<<k,width:n,height:m,x1:ox,y1:oy,x2:ox+(dx>>k),y2:oy+(dy>>k)}}density.x=function(_){return arguments.length?(x=number$2(_),density):x};density.y=function(_){return arguments.length?(y=number$2(_),density):y};density.weight=function(_){return arguments.length?(weight=number$2(_),density):weight};density.size=function(_){if(!arguments.length)return[dx,dy];var _0=+_[0],_1=+_[1];if(!(_0>=0&&_1>=0))error("invalid size");return dx=_0,dy=_1,density};density.cellSize=function(_){if(!arguments.length)return 1<<k;if(!((_=+_)>=1))error("invalid cell size");k=Math.floor(Math.log(_)/Math.LN2);return density};density.bandwidth=function(_){if(!arguments.length)return bandwidth;_=array$5(_);if(_.length===1)_=[+_[0],+_[0]];if(_.length!==2)error("invalid bandwidth");return bandwidth=_,density};return density}function blurX(n,m,source,target,r){const w=(r<<1)+1;for(let j=0;j<m;++j){for(let i=0,sr=0;i<n+r;++i){if(i<n){sr+=source[i+j*n]}if(i>=r){if(i>=w){sr-=source[i-w+j*n]}target[i-r+j*n]=sr/Math.min(i+1,n-1+w-i,w)}}}}function blurY(n,m,source,target,r){const w=(r<<1)+1;for(let i=0;i<n;++i){for(let j=0,sr=0;j<m+r;++j){if(j<m){sr+=source[i+j*n]}if(j>=r){if(j>=w){sr-=source[i+(j-w)*n]}target[i+(j-r)*n]=sr/Math.min(j+1,m-1+w-j,w)}}}}function KDE2D(params){Transform.call(this,null,params)}KDE2D.Definition={type:"KDE2D",metadata:{generates:true},params:[{name:"size",type:"number",array:true,length:2,required:true},{name:"x",type:"field",required:true},{name:"y",type:"field",required:true},{name:"weight",type:"field"},{name:"groupby",type:"field",array:true},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:true,length:2},{name:"counts",type:"boolean",default:false},{name:"as",type:"string",default:"grid"}]};const PARAMS=["x","y","weight","size","cellSize","bandwidth"];function params(obj,_){PARAMS.forEach(param=>_[param]!=null?obj[param](_[param]):0);return obj}inherits(KDE2D,Transform,{transform(_,pulse){if(this.value&&!pulse.changed()&&!_.modified())return pulse.StopPropagation;var out=pulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS),source=pulse.materialize(pulse.SOURCE).source,groups=partition$2(source,_.groupby),names=(_.groupby||[]).map(accessorName),kde=params(density2D(),_),as=_.as||"grid",values=[];function set(t,vals){for(let i=0;i<names.length;++i)t[names[i]]=vals[i];return t}values=groups.map(g=>ingest$1(set({[as]:kde(g,_.counts)},g.dims)));if(this.value)out.rem=this.value;this.value=out.source=out.add=values;return out}});function partition$2(data,groupby){var groups=[],get=f=>f(t),map,i,n,t,k,g;if(groupby==null){groups.push(data)}else{for(map={},i=0,n=data.length;i<n;++i){t=data[i];k=groupby.map(get);g=map[k];if(!g){map[k]=g=[];g.dims=k;groups.push(g)}g.push(t)}}return groups}function Contour(params){Transform.call(this,null,params)}Contour.Definition={type:"Contour",metadata:{generates:true},params:[{name:"size",type:"number",array:true,length:2,required:true},{name:"values",type:"number",array:true},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:false},{name:"thresholds",type:"number",array:true},{name:"smooth",type:"boolean",default:true}]};inherits(Contour,Transform,{transform(_,pulse){if(this.value&&!pulse.changed()&&!_.modified()){return pulse.StopPropagation}var out=pulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS),contour=contours().smooth(_.smooth!==false),values=_.values,thresh=_.thresholds||quantize(_.count||10,_.nice,!!values),size=_.size,grid,post;if(!values){values=pulse.materialize(pulse.SOURCE).source;grid=params(density2D(),_)(values,true);post=transform$1(grid,grid.scale||1,grid.scale||1,0,0);size=[grid.width,grid.height];values=grid.values}thresh=isArray(thresh)?thresh:thresh(values);values=contour.size(size)(values,thresh);if(post)values.forEach(post);if(this.value)out.rem=this.value;this.value=out.source=out.add=(values||[]).map(ingest$1);return out}});const Feature="Feature";const FeatureCollection="FeatureCollection";const MultiPoint="MultiPoint";function GeoJSON(params){Transform.call(this,null,params)}GeoJSON.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:true,length:2},{name:"geojson",type:"field"}]};inherits(GeoJSON,Transform,{transform(_,pulse){var features=this._features,points=this._points,fields=_.fields,lon=fields&&fields[0],lat=fields&&fields[1],geojson=_.geojson||!fields&&identity$6,flag=pulse.ADD,mod;mod=_.modified()||pulse.changed(pulse.REM)||pulse.modified(accessorFields(geojson))||lon&&pulse.modified(accessorFields(lon))||lat&&pulse.modified(accessorFields(lat));if(!this.value||mod){flag=pulse.SOURCE;this._features=features=[];this._points=points=[]}if(geojson){pulse.visit(flag,t=>features.push(geojson(t)))}if(lon&&lat){pulse.visit(flag,t=>{var x=lon(t),y=lat(t);if(x!=null&&y!=null&&(x=+x)===x&&(y=+y)===y){points.push([x,y])}});features=features.concat({type:Feature,geometry:{type:MultiPoint,coordinates:points}})}this.value={type:FeatureCollection,features:features}}});function GeoPath(params){Transform.call(this,null,params)}GeoPath.Definition={type:"GeoPath",metadata:{modifies:true},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:true},{name:"as",type:"string",default:"path"}]};inherits(GeoPath,Transform,{transform(_,pulse){var out=pulse.fork(pulse.ALL),path=this.value,field=_.field||identity$6,as=_.as||"path",flag=out.SOURCE;if(!path||_.modified()){this.value=path=getProjectionPath(_.projection);out.materialize().reflow()}else{flag=field===identity$6||pulse.modified(field.fields)?out.ADD_MOD:out.ADD}const prev=initPath(path,_.pointRadius);out.visit(flag,t=>t[as]=path(field(t)));path.pointRadius(prev);return out.modifies(as)}});function initPath(path,pointRadius){const prev=path.pointRadius();path.context(null);if(pointRadius!=null){path.pointRadius(pointRadius)}return prev}function GeoPoint(params){Transform.call(this,null,params)}GeoPoint.Definition={type:"GeoPoint",metadata:{modifies:true},params:[{name:"projection",type:"projection",required:true},{name:"fields",type:"field",array:true,required:true,length:2},{name:"as",type:"string",array:true,length:2,default:["x","y"]}]};inherits(GeoPoint,Transform,{transform(_,pulse){var proj=_.projection,lon=_.fields[0],lat=_.fields[1],as=_.as||["x","y"],x=as[0],y=as[1],mod;function set(t){const xy=proj([lon(t),lat(t)]);if(xy){t[x]=xy[0];t[y]=xy[1]}else{t[x]=undefined;t[y]=undefined}}if(_.modified()){pulse=pulse.materialize().reflow(true).visit(pulse.SOURCE,set)}else{mod=pulse.modified(lon.fields)||pulse.modified(lat.fields);pulse.visit(mod?pulse.ADD_MOD:pulse.ADD,set)}return pulse.modifies(as)}});function GeoShape(params){Transform.call(this,null,params)}GeoShape.Definition={type:"GeoShape",metadata:{modifies:true,nomod:true},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:true},{name:"as",type:"string",default:"shape"}]};inherits(GeoShape,Transform,{transform(_,pulse){var out=pulse.fork(pulse.ALL),shape=this.value,as=_.as||"shape",flag=out.ADD;if(!shape||_.modified()){this.value=shape=shapeGenerator(getProjectionPath(_.projection),_.field||field$1("datum"),_.pointRadius);out.materialize().reflow();flag=out.SOURCE}out.visit(flag,t=>t[as]=shape);return out.modifies(as)}});function shapeGenerator(path,field,pointRadius){const shape=pointRadius==null?_=>path(field(_)):_=>{var prev=path.pointRadius(),value=path.pointRadius(pointRadius)(field(_));path.pointRadius(prev);return value};shape.context=_=>{path.context(_);return shape};return shape}function Graticule(params){Transform.call(this,[],params);this.generator=graticule()}Graticule.Definition={type:"Graticule",metadata:{changes:true,generates:true},params:[{name:"extent",type:"array",array:true,length:2,content:{type:"number",array:true,length:2}},{name:"extentMajor",type:"array",array:true,length:2,content:{type:"number",array:true,length:2}},{name:"extentMinor",type:"array",array:true,length:2,content:{type:"number",array:true,length:2}},{name:"step",type:"number",array:true,length:2},{name:"stepMajor",type:"number",array:true,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:true,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};inherits(Graticule,Transform,{transform(_,pulse){var src=this.value,gen=this.generator,t;if(!src.length||_.modified()){for(const prop in _){if(isFunction(gen[prop])){gen[prop](_[prop])}}}t=gen();if(src.length){pulse.mod.push(replace$1(src[0],t))}else{pulse.add.push(ingest$1(t))}src[0]=t;return pulse}});function Heatmap(params){Transform.call(this,null,params)}Heatmap.Definition={type:"heatmap",metadata:{modifies:true},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:true},{name:"opacity",type:"number",expr:true},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};inherits(Heatmap,Transform,{transform(_,pulse){if(!pulse.changed()&&!_.modified()){return pulse.StopPropagation}var source=pulse.materialize(pulse.SOURCE).source,shared=_.resolve==="shared",field=_.field||identity$6,opacity=opacity_(_.opacity,_),color=color_(_.color,_),as=_.as||"image",obj={$x:0,$y:0,$value:0,$max:shared?max$2(source.map(t=>max$2(field(t).values))):0};source.forEach(t=>{const v=field(t);const o=extend$1({},t,obj);if(!shared)o.$max=max$2(v.values||[]);t[as]=toCanvas(v,o,color.dep?color:constant$4(color(o)),opacity.dep?opacity:constant$4(opacity(o)))});return pulse.reflow(true).modifies(as)}});function color_(color,_){let f;if(isFunction(color)){f=obj=>rgb$1(color(obj,_));f.dep=dependency(color)}else{f=constant$4(rgb$1(color||"#888"))}return f}function opacity_(opacity,_){let f;if(isFunction(opacity)){f=obj=>opacity(obj,_);f.dep=dependency(opacity)}else if(opacity){f=constant$4(opacity)}else{f=obj=>obj.$value/obj.$max||0;f.dep=true}return f}function dependency(f){if(!isFunction(f))return false;const set=toSet(accessorFields(f));return set.$x||set.$y||set.$value||set.$max}function toCanvas(grid,obj,color,opacity){const n=grid.width,m=grid.height,x1=grid.x1||0,y1=grid.y1||0,x2=grid.x2||n,y2=grid.y2||m,val=grid.values,value=val?i=>val[i]:zero$3,can=domCanvas(x2-x1,y2-y1),ctx=can.getContext("2d"),img=ctx.getImageData(0,0,x2-x1,y2-y1),pix=img.data;for(let j=y1,k=0;j<y2;++j){obj.$y=j-y1;for(let i=x1,r=j*n;i<x2;++i,k+=4){obj.$x=i-x1;obj.$value=value(i+r);const v=color(obj);pix[k+0]=v.r;pix[k+1]=v.g;pix[k+2]=v.b;pix[k+3]=~~(255*opacity(obj))}}ctx.putImageData(img,0,0);return can}function Projection$1(params){Transform.call(this,null,params);this.modified(true)}inherits(Projection$1,Transform,{transform(_,pulse){let proj=this.value;if(!proj||_.modified("type")){this.value=proj=create$1(_.type);projectionProperties.forEach(prop=>{if(_[prop]!=null)set$1(proj,prop,_[prop])})}else{projectionProperties.forEach(prop=>{if(_.modified(prop))set$1(proj,prop,_[prop])})}if(_.pointRadius!=null)proj.path.pointRadius(_.pointRadius);if(_.fit)fit(proj,_);return pulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS)}});function fit(proj,_){const data=collectGeoJSON(_.fit);_.extent?proj.fitExtent(_.extent,data):_.size?proj.fitSize(_.size,data):0}function create$1(type){const constructor=projection((type||"mercator").toLowerCase());if(!constructor)error("Unrecognized projection type: "+type);return constructor()}function set$1(proj,key,value){if(isFunction(proj[key]))proj[key](value)}function collectGeoJSON(data){data=array$5(data);return data.length===1?data[0]:{type:FeatureCollection,features:data.reduce((a,f)=>a.concat(featurize(f)),[])}}function featurize(f){return f.type===FeatureCollection?f.features:array$5(f).filter(d=>d!=null).map(d=>d.type===Feature?d:{type:Feature,geometry:d})}var geo=Object.freeze({__proto__:null,contour:Contour,geojson:GeoJSON,geopath:GeoPath,geopoint:GeoPoint,geoshape:GeoShape,graticule:Graticule,heatmap:Heatmap,isocontour:Isocontour,kde2d:KDE2D,projection:Projection$1});function forceCenter(x,y){var nodes,strength=1;if(x==null)x=0;if(y==null)y=0;function force(){var i,n=nodes.length,node,sx=0,sy=0;for(i=0;i<n;++i){node=nodes[i],sx+=node.x,sy+=node.y}for(sx=(sx/n-x)*strength,sy=(sy/n-y)*strength,i=0;i<n;++i){node=nodes[i],node.x-=sx,node.y-=sy}}force.initialize=function(_){nodes=_};force.x=function(_){return arguments.length?(x=+_,force):x};force.y=function(_){return arguments.length?(y=+_,force):y};force.strength=function(_){return arguments.length?(strength=+_,force):strength};return force}function tree_add(d){const x=+this._x.call(null,d),y=+this._y.call(null,d);return add(this.cover(x,y),x,y,d)}function add(tree,x,y,d){if(isNaN(x)||isNaN(y))return tree;var parent,node=tree._root,leaf={data:d},x0=tree._x0,y0=tree._y0,x1=tree._x1,y1=tree._y1,xm,ym,xp,yp,right,bottom,i,j;if(!node)return tree._root=leaf,tree;while(node.length){if(right=x>=(xm=(x0+x1)/2))x0=xm;else x1=xm;if(bottom=y>=(ym=(y0+y1)/2))y0=ym;else y1=ym;if(parent=node,!(node=node[i=bottom<<1|right]))return parent[i]=leaf,tree}xp=+tree._x.call(null,node.data);yp=+tree._y.call(null,node.data);if(x===xp&&y===yp)return leaf.next=node,parent?parent[i]=leaf:tree._root=leaf,tree;do{parent=parent?parent[i]=new Array(4):tree._root=new Array(4);if(right=x>=(xm=(x0+x1)/2))x0=xm;else x1=xm;if(bottom=y>=(ym=(y0+y1)/2))y0=ym;else y1=ym}while((i=bottom<<1|right)===(j=(yp>=ym)<<1|xp>=xm));return parent[j]=node,parent[i]=leaf,tree}function addAll(data){var d,i,n=data.length,x,y,xz=new Array(n),yz=new Array(n),x0=Infinity,y0=Infinity,x1=-Infinity,y1=-Infinity;for(i=0;i<n;++i){if(isNaN(x=+this._x.call(null,d=data[i]))||isNaN(y=+this._y.call(null,d)))continue;xz[i]=x;yz[i]=y;if(x<x0)x0=x;if(x>x1)x1=x;if(y<y0)y0=y;if(y>y1)y1=y}if(x0>x1||y0>y1)return this;this.cover(x0,y0).cover(x1,y1);for(i=0;i<n;++i){add(this,xz[i],yz[i],data[i])}return this}function tree_cover(x,y){if(isNaN(x=+x)||isNaN(y=+y))return this;var x0=this._x0,y0=this._y0,x1=this._x1,y1=this._y1;if(isNaN(x0)){x1=(x0=Math.floor(x))+1;y1=(y0=Math.floor(y))+1}else{var z=x1-x0||1,node=this._root,parent,i;while(x0>x||x>=x1||y0>y||y>=y1){i=(y<y0)<<1|x<x0;parent=new Array(4),parent[i]=node,node=parent,z*=2;switch(i){case 0:x1=x0+z,y1=y0+z;break;case 1:x0=x1-z,y1=y0+z;break;case 2:x1=x0+z,y0=y1-z;break;case 3:x0=x1-z,y0=y1-z;break}}if(this._root&&this._root.length)this._root=node}this._x0=x0;this._y0=y0;this._x1=x1;this._y1=y1;return this}function tree_data(){var data=[];this.visit((function(node){if(!node.length)do{data.push(node.data)}while(node=node.next)}));return data}function tree_extent(_){return arguments.length?this.cover(+_[0][0],+_[0][1]).cover(+_[1][0],+_[1][1]):isNaN(this._x0)?undefined:[[this._x0,this._y0],[this._x1,this._y1]]}function Quad(node,x0,y0,x1,y1){this.node=node;this.x0=x0;this.y0=y0;this.x1=x1;this.y1=y1}function tree_find(x,y,radius){var data,x0=this._x0,y0=this._y0,x1,y1,x2,y2,x3=this._x1,y3=this._y1,quads=[],node=this._root,q,i;if(node)quads.push(new Quad(node,x0,y0,x3,y3));if(radius==null)radius=Infinity;else{x0=x-radius,y0=y-radius;x3=x+radius,y3=y+radius;radius*=radius}while(q=quads.pop()){if(!(node=q.node)||(x1=q.x0)>x3||(y1=q.y0)>y3||(x2=q.x1)<x0||(y2=q.y1)<y0)continue;if(node.length){var xm=(x1+x2)/2,ym=(y1+y2)/2;quads.push(new Quad(node[3],xm,ym,x2,y2),new Quad(node[2],x1,ym,xm,y2),new Quad(node[1],xm,y1,x2,ym),new Quad(node[0],x1,y1,xm,ym));if(i=(y>=ym)<<1|x>=xm){q=quads[quads.length-1];quads[quads.length-1]=quads[quads.length-1-i];quads[quads.length-1-i]=q}}else{var dx=x-+this._x.call(null,node.data),dy=y-+this._y.call(null,node.data),d2=dx*dx+dy*dy;if(d2<radius){var d=Math.sqrt(radius=d2);x0=x-d,y0=y-d;x3=x+d,y3=y+d;data=node.data}}}return data}function tree_remove(d){if(isNaN(x=+this._x.call(null,d))||isNaN(y=+this._y.call(null,d)))return this;var parent,node=this._root,retainer,previous,next,x0=this._x0,y0=this._y0,x1=this._x1,y1=this._y1,x,y,xm,ym,right,bottom,i,j;if(!node)return this;if(node.length)while(true){if(right=x>=(xm=(x0+x1)/2))x0=xm;else x1=xm;if(bottom=y>=(ym=(y0+y1)/2))y0=ym;else y1=ym;if(!(parent=node,node=node[i=bottom<<1|right]))return this;if(!node.length)break;if(parent[i+1&3]||parent[i+2&3]||parent[i+3&3])retainer=parent,j=i}while(node.data!==d)if(!(previous=node,node=node.next))return this;if(next=node.next)delete node.next;if(previous)return next?previous.next=next:delete previous.next,this;if(!parent)return this._root=next,this;next?parent[i]=next:delete parent[i];if((node=parent[0]||parent[1]||parent[2]||parent[3])&&node===(parent[3]||parent[2]||parent[1]||parent[0])&&!node.length){if(retainer)retainer[j]=node;else this._root=node}return this}function removeAll(data){for(var i=0,n=data.length;i<n;++i)this.remove(data[i]);return this}function tree_root(){return this._root}function tree_size(){var size=0;this.visit((function(node){if(!node.length)do{++size}while(node=node.next)}));return size}function tree_visit(callback){var quads=[],q,node=this._root,child,x0,y0,x1,y1;if(node)quads.push(new Quad(node,this._x0,this._y0,this._x1,this._y1));while(q=quads.pop()){if(!callback(node=q.node,x0=q.x0,y0=q.y0,x1=q.x1,y1=q.y1)&&node.length){var xm=(x0+x1)/2,ym=(y0+y1)/2;if(child=node[3])quads.push(new Quad(child,xm,ym,x1,y1));if(child=node[2])quads.push(new Quad(child,x0,ym,xm,y1));if(child=node[1])quads.push(new Quad(child,xm,y0,x1,ym));if(child=node[0])quads.push(new Quad(child,x0,y0,xm,ym))}}return this}function tree_visitAfter(callback){var quads=[],next=[],q;if(this._root)quads.push(new Quad(this._root,this._x0,this._y0,this._x1,this._y1));while(q=quads.pop()){var node=q.node;if(node.length){var child,x0=q.x0,y0=q.y0,x1=q.x1,y1=q.y1,xm=(x0+x1)/2,ym=(y0+y1)/2;if(child=node[0])quads.push(new Quad(child,x0,y0,xm,ym));if(child=node[1])quads.push(new Quad(child,xm,y0,x1,ym));if(child=node[2])quads.push(new Quad(child,x0,ym,xm,y1));if(child=node[3])quads.push(new Quad(child,xm,ym,x1,y1))}next.push(q)}while(q=next.pop()){callback(q.node,q.x0,q.y0,q.x1,q.y1)}return this}function defaultX(d){return d[0]}function tree_x(_){return arguments.length?(this._x=_,this):this._x}function defaultY(d){return d[1]}function tree_y(_){return arguments.length?(this._y=_,this):this._y}function quadtree(nodes,x,y){var tree=new Quadtree(x==null?defaultX:x,y==null?defaultY:y,NaN,NaN,NaN,NaN);return nodes==null?tree:tree.addAll(nodes)}function Quadtree(x,y,x0,y0,x1,y1){this._x=x;this._y=y;this._x0=x0;this._y0=y0;this._x1=x1;this._y1=y1;this._root=undefined}function leaf_copy(leaf){var copy={data:leaf.data},next=copy;while(leaf=leaf.next)next=next.next={data:leaf.data};return copy}var treeProto=quadtree.prototype=Quadtree.prototype;treeProto.copy=function(){var copy=new Quadtree(this._x,this._y,this._x0,this._y0,this._x1,this._y1),node=this._root,nodes,child;if(!node)return copy;if(!node.length)return copy._root=leaf_copy(node),copy;nodes=[{source:node,target:copy._root=new Array(4)}];while(node=nodes.pop()){for(var i=0;i<4;++i){if(child=node.source[i]){if(child.length)nodes.push({source:child,target:node.target[i]=new Array(4)});else node.target[i]=leaf_copy(child)}}}return copy};treeProto.add=tree_add;treeProto.addAll=addAll;treeProto.cover=tree_cover;treeProto.data=tree_data;treeProto.extent=tree_extent;treeProto.find=tree_find;treeProto.remove=tree_remove;treeProto.removeAll=removeAll;treeProto.root=tree_root;treeProto.size=tree_size;treeProto.visit=tree_visit;treeProto.visitAfter=tree_visitAfter;treeProto.x=tree_x;treeProto.y=tree_y;function constant$1(x){return function(){return x}}function jiggle(random){return(random()-.5)*1e-6}function x$1(d){return d.x+d.vx}function y$1(d){return d.y+d.vy}function forceCollide(radius){var nodes,radii,random,strength=1,iterations=1;if(typeof radius!=="function")radius=constant$1(radius==null?1:+radius);function force(){var i,n=nodes.length,tree,node,xi,yi,ri,ri2;for(var k=0;k<iterations;++k){tree=quadtree(nodes,x$1,y$1).visitAfter(prepare);for(i=0;i<n;++i){node=nodes[i];ri=radii[node.index],ri2=ri*ri;xi=node.x+node.vx;yi=node.y+node.vy;tree.visit(apply)}}function apply(quad,x0,y0,x1,y1){var data=quad.data,rj=quad.r,r=ri+rj;if(data){if(data.index>node.index){var x=xi-data.x-data.vx,y=yi-data.y-data.vy,l=x*x+y*y;if(l<r*r){if(x===0)x=jiggle(random),l+=x*x;if(y===0)y=jiggle(random),l+=y*y;l=(r-(l=Math.sqrt(l)))/l*strength;node.vx+=(x*=l)*(r=(rj*=rj)/(ri2+rj));node.vy+=(y*=l)*r;data.vx-=x*(r=1-r);data.vy-=y*r}}return}return x0>xi+r||x1<xi-r||y0>yi+r||y1<yi-r}}function prepare(quad){if(quad.data)return quad.r=radii[quad.data.index];for(var i=quad.r=0;i<4;++i){if(quad[i]&&quad[i].r>quad.r){quad.r=quad[i].r}}}function initialize(){if(!nodes)return;var i,n=nodes.length,node;radii=new Array(n);for(i=0;i<n;++i)node=nodes[i],radii[node.index]=+radius(node,i,nodes)}force.initialize=function(_nodes,_random){nodes=_nodes;random=_random;initialize()};force.iterations=function(_){return arguments.length?(iterations=+_,force):iterations};force.strength=function(_){return arguments.length?(strength=+_,force):strength};force.radius=function(_){return arguments.length?(radius=typeof _==="function"?_:constant$1(+_),initialize(),force):radius};return force}function index$1(d){return d.index}function find$1(nodeById,nodeId){var node=nodeById.get(nodeId);if(!node)throw new Error("node not found: "+nodeId);return node}function forceLink(links){var id=index$1,strength=defaultStrength,strengths,distance=constant$1(30),distances,nodes,count,bias,random,iterations=1;if(links==null)links=[];function defaultStrength(link){return 1/Math.min(count[link.source.index],count[link.target.index])}function force(alpha){for(var k=0,n=links.length;k<iterations;++k){for(var i=0,link,source,target,x,y,l,b;i<n;++i){link=links[i],source=link.source,target=link.target;x=target.x+target.vx-source.x-source.vx||jiggle(random);y=target.y+target.vy-source.y-source.vy||jiggle(random);l=Math.sqrt(x*x+y*y);l=(l-distances[i])/l*alpha*strengths[i];x*=l,y*=l;target.vx-=x*(b=bias[i]);target.vy-=y*b;source.vx+=x*(b=1-b);source.vy+=y*b}}}function initialize(){if(!nodes)return;var i,n=nodes.length,m=links.length,nodeById=new Map(nodes.map((d,i)=>[id(d,i,nodes),d])),link;for(i=0,count=new Array(n);i<m;++i){link=links[i],link.index=i;if(typeof link.source!=="object")link.source=find$1(nodeById,link.source);if(typeof link.target!=="object")link.target=find$1(nodeById,link.target);count[link.source.index]=(count[link.source.index]||0)+1;count[link.target.index]=(count[link.target.index]||0)+1}for(i=0,bias=new Array(m);i<m;++i){link=links[i],bias[i]=count[link.source.index]/(count[link.source.index]+count[link.target.index])}strengths=new Array(m),initializeStrength();distances=new Array(m),initializeDistance()}function initializeStrength(){if(!nodes)return;for(var i=0,n=links.length;i<n;++i){strengths[i]=+strength(links[i],i,links)}}function initializeDistance(){if(!nodes)return;for(var i=0,n=links.length;i<n;++i){distances[i]=+distance(links[i],i,links)}}force.initialize=function(_nodes,_random){nodes=_nodes;random=_random;initialize()};force.links=function(_){return arguments.length?(links=_,initialize(),force):links};force.id=function(_){return arguments.length?(id=_,force):id};force.iterations=function(_){return arguments.length?(iterations=+_,force):iterations};force.strength=function(_){return arguments.length?(strength=typeof _==="function"?_:constant$1(+_),initializeStrength(),force):strength};force.distance=function(_){return arguments.length?(distance=typeof _==="function"?_:constant$1(+_),initializeDistance(),force):distance};return force}var noop={value:()=>{}};function dispatch(){for(var i=0,n=arguments.length,_={},t;i<n;++i){if(!(t=arguments[i]+"")||t in _||/[\s.]/.test(t))throw new Error("illegal type: "+t);_[t]=[]}return new Dispatch(_)}function Dispatch(_){this._=_}function parseTypenames(typenames,types){return typenames.trim().split(/^|\s+/).map((function(t){var name="",i=t.indexOf(".");if(i>=0)name=t.slice(i+1),t=t.slice(0,i);if(t&&!types.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:name}}))}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(typename,callback){var _=this._,T=parseTypenames(typename+"",_),t,i=-1,n=T.length;if(arguments.length<2){while(++i<n)if((t=(typename=T[i]).type)&&(t=get(_[t],typename.name)))return t;return}if(callback!=null&&typeof callback!=="function")throw new Error("invalid callback: "+callback);while(++i<n){if(t=(typename=T[i]).type)_[t]=set(_[t],typename.name,callback);else if(callback==null)for(t in _)_[t]=set(_[t],typename.name,null)}return this},copy:function(){var copy={},_=this._;for(var t in _)copy[t]=_[t].slice();return new Dispatch(copy)},call:function(type,that){if((n=arguments.length-2)>0)for(var args=new Array(n),i=0,n,t;i<n;++i)args[i]=arguments[i+2];if(!this._.hasOwnProperty(type))throw new Error("unknown type: "+type);for(t=this._[type],i=0,n=t.length;i<n;++i)t[i].value.apply(that,args)},apply:function(type,that,args){if(!this._.hasOwnProperty(type))throw new Error("unknown type: "+type);for(var t=this._[type],i=0,n=t.length;i<n;++i)t[i].value.apply(that,args)}};function get(type,name){for(var i=0,n=type.length,c;i<n;++i){if((c=type[i]).name===name){return c.value}}}function set(type,name,callback){for(var i=0,n=type.length;i<n;++i){if(type[i].name===name){type[i]=noop,type=type.slice(0,i).concat(type.slice(i+1));break}}if(callback!=null)type.push({name:name,value:callback});return type}var frame=0,timeout=0,interval$1=0,pokeDelay=1e3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock=typeof performance==="object"&&performance.now?performance:Date,setFrame=typeof window==="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(f){setTimeout(f,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer$1(){this._call=this._time=this._next=null}Timer$1.prototype=timer$1.prototype={constructor:Timer$1,restart:function(callback,delay,time){if(typeof callback!=="function")throw new TypeError("callback is not a function");time=(time==null?now():+time)+(delay==null?0:+delay);if(!this._next&&taskTail!==this){if(taskTail)taskTail._next=this;else taskHead=this;taskTail=this}this._call=callback;this._time=time;sleep()},stop:function(){if(this._call){this._call=null;this._time=Infinity;sleep()}}};function timer$1(callback,delay,time){var t=new Timer$1;t.restart(callback,delay,time);return t}function timerFlush(){now();++frame;var t=taskHead,e;while(t){if((e=clockNow-t._time)>=0)t._call.call(undefined,e);t=t._next}--frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew;frame=timeout=0;try{timerFlush()}finally{frame=0;nap();clockNow=0}}function poke(){var now=clock.now(),delay=now-clockLast;if(delay>pokeDelay)clockSkew-=delay,clockLast=now}function nap(){var t0,t1=taskHead,t2,time=Infinity;while(t1){if(t1._call){if(time>t1._time)time=t1._time;t0=t1,t1=t1._next}else{t2=t1._next,t1._next=null;t1=t0?t0._next=t2:taskHead=t2}}taskTail=t0;sleep(time)}function sleep(time){if(frame)return;if(timeout)timeout=clearTimeout(timeout);var delay=time-clockNow;if(delay>24){if(time<Infinity)timeout=setTimeout(wake,time-clock.now()-clockSkew);if(interval$1)interval$1=clearInterval(interval$1)}else{if(!interval$1)clockLast=clock.now(),interval$1=setInterval(poke,pokeDelay);frame=1,setFrame(wake)}}function interval(callback,delay,time){var t=new Timer$1,total=delay;if(delay==null)return t.restart(callback,delay,time),t;t._restart=t.restart;t.restart=function(callback,delay,time){delay=+delay,time=time==null?now():+time;t._restart((function tick(elapsed){elapsed+=total;t._restart(tick,total+=delay,time);callback(elapsed)}),delay,time)};t.restart(callback,delay,time);return t}const a$1=1664525;const c$1=1013904223;const m$1=4294967296;function lcg$1(){let s=1;return()=>(s=(a$1*s+c$1)%m$1)/m$1}function x(d){return d.x}function y(d){return d.y}var initialRadius=10,initialAngle=Math.PI*(3-Math.sqrt(5));function forceSimulation(nodes){var simulation,alpha=1,alphaMin=.001,alphaDecay=1-Math.pow(alphaMin,1/300),alphaTarget=0,velocityDecay=.6,forces=new Map,stepper=timer$1(step),event=dispatch("tick","end"),random=lcg$1();if(nodes==null)nodes=[];function step(){tick();event.call("tick",simulation);if(alpha<alphaMin){stepper.stop();event.call("end",simulation)}}function tick(iterations){var i,n=nodes.length,node;if(iterations===undefined)iterations=1;for(var k=0;k<iterations;++k){alpha+=(alphaTarget-alpha)*alphaDecay;forces.forEach((function(force){force(alpha)}));for(i=0;i<n;++i){node=nodes[i];if(node.fx==null)node.x+=node.vx*=velocityDecay;else node.x=node.fx,node.vx=0;if(node.fy==null)node.y+=node.vy*=velocityDecay;else node.y=node.fy,node.vy=0}}return simulation}function initializeNodes(){for(var i=0,n=nodes.length,node;i<n;++i){node=nodes[i],node.index=i;if(node.fx!=null)node.x=node.fx;if(node.fy!=null)node.y=node.fy;if(isNaN(node.x)||isNaN(node.y)){var radius=initialRadius*Math.sqrt(.5+i),angle=i*initialAngle;node.x=radius*Math.cos(angle);node.y=radius*Math.sin(angle)}if(isNaN(node.vx)||isNaN(node.vy)){node.vx=node.vy=0}}}function initializeForce(force){if(force.initialize)force.initialize(nodes,random);return force}initializeNodes();return simulation={tick:tick,restart:function(){return stepper.restart(step),simulation},stop:function(){return stepper.stop(),simulation},nodes:function(_){return arguments.length?(nodes=_,initializeNodes(),forces.forEach(initializeForce),simulation):nodes},alpha:function(_){return arguments.length?(alpha=+_,simulation):alpha},alphaMin:function(_){return arguments.length?(alphaMin=+_,simulation):alphaMin},alphaDecay:function(_){return arguments.length?(alphaDecay=+_,simulation):+alphaDecay},alphaTarget:function(_){return arguments.length?(alphaTarget=+_,simulation):alphaTarget},velocityDecay:function(_){return arguments.length?(velocityDecay=1-_,simulation):1-velocityDecay},randomSource:function(_){return arguments.length?(random=_,forces.forEach(initializeForce),simulation):random},force:function(name,_){return arguments.length>1?(_==null?forces.delete(name):forces.set(name,initializeForce(_)),simulation):forces.get(name)},find:function(x,y,radius){var i=0,n=nodes.length,dx,dy,d2,node,closest;if(radius==null)radius=Infinity;else radius*=radius;for(i=0;i<n;++i){node=nodes[i];dx=x-node.x;dy=y-node.y;d2=dx*dx+dy*dy;if(d2<radius)closest=node,radius=d2}return closest},on:function(name,_){return arguments.length>1?(event.on(name,_),simulation):event.on(name)}}}function forceManyBody(){var nodes,node,random,alpha,strength=constant$1(-30),strengths,distanceMin2=1,distanceMax2=Infinity,theta2=.81;function force(_){var i,n=nodes.length,tree=quadtree(nodes,x,y).visitAfter(accumulate);for(alpha=_,i=0;i<n;++i)node=nodes[i],tree.visit(apply)}function initialize(){if(!nodes)return;var i,n=nodes.length,node;strengths=new Array(n);for(i=0;i<n;++i)node=nodes[i],strengths[node.index]=+strength(node,i,nodes)}function accumulate(quad){var strength=0,q,c,weight=0,x,y,i;if(quad.length){for(x=y=i=0;i<4;++i){if((q=quad[i])&&(c=Math.abs(q.value))){strength+=q.value,weight+=c,x+=c*q.x,y+=c*q.y}}quad.x=x/weight;quad.y=y/weight}else{q=quad;q.x=q.data.x;q.y=q.data.y;do{strength+=strengths[q.data.index]}while(q=q.next)}quad.value=strength}function apply(quad,x1,_,x2){if(!quad.value)return true;var x=quad.x-node.x,y=quad.y-node.y,w=x2-x1,l=x*x+y*y;if(w*w/theta2<l){if(l<distanceMax2){if(x===0)x=jiggle(random),l+=x*x;if(y===0)y=jiggle(random),l+=y*y;if(l<distanceMin2)l=Math.sqrt(distanceMin2*l);node.vx+=x*quad.value*alpha/l;node.vy+=y*quad.value*alpha/l}return true}else if(quad.length||l>=distanceMax2)return;if(quad.data!==node||quad.next){if(x===0)x=jiggle(random),l+=x*x;if(y===0)y=jiggle(random),l+=y*y;if(l<distanceMin2)l=Math.sqrt(distanceMin2*l)}do{if(quad.data!==node){w=strengths[quad.data.index]*alpha/l;node.vx+=x*w;node.vy+=y*w}}while(quad=quad.next)}force.initialize=function(_nodes,_random){nodes=_nodes;random=_random;initialize()};force.strength=function(_){return arguments.length?(strength=typeof _==="function"?_:constant$1(+_),initialize(),force):strength};force.distanceMin=function(_){return arguments.length?(distanceMin2=_*_,force):Math.sqrt(distanceMin2)};force.distanceMax=function(_){return arguments.length?(distanceMax2=_*_,force):Math.sqrt(distanceMax2)};force.theta=function(_){return arguments.length?(theta2=_*_,force):Math.sqrt(theta2)};return force}function forceX(x){var strength=constant$1(.1),nodes,strengths,xz;if(typeof x!=="function")x=constant$1(x==null?0:+x);function force(alpha){for(var i=0,n=nodes.length,node;i<n;++i){node=nodes[i],node.vx+=(xz[i]-node.x)*strengths[i]*alpha}}function initialize(){if(!nodes)return;var i,n=nodes.length;strengths=new Array(n);xz=new Array(n);for(i=0;i<n;++i){strengths[i]=isNaN(xz[i]=+x(nodes[i],i,nodes))?0:+strength(nodes[i],i,nodes)}}force.initialize=function(_){nodes=_;initialize()};force.strength=function(_){return arguments.length?(strength=typeof _==="function"?_:constant$1(+_),initialize(),force):strength};force.x=function(_){return arguments.length?(x=typeof _==="function"?_:constant$1(+_),initialize(),force):x};return force}function forceY(y){var strength=constant$1(.1),nodes,strengths,yz;if(typeof y!=="function")y=constant$1(y==null?0:+y);function force(alpha){for(var i=0,n=nodes.length,node;i<n;++i){node=nodes[i],node.vy+=(yz[i]-node.y)*strengths[i]*alpha}}function initialize(){if(!nodes)return;var i,n=nodes.length;strengths=new Array(n);yz=new Array(n);for(i=0;i<n;++i){strengths[i]=isNaN(yz[i]=+y(nodes[i],i,nodes))?0:+strength(nodes[i],i,nodes)}}force.initialize=function(_){nodes=_;initialize()};force.strength=function(_){return arguments.length?(strength=typeof _==="function"?_:constant$1(+_),initialize(),force):strength};force.y=function(_){return arguments.length?(y=typeof _==="function"?_:constant$1(+_),initialize(),force):y};return force}const ForceMap={center:forceCenter,collide:forceCollide,nbody:forceManyBody,link:forceLink,x:forceX,y:forceY};const Forces="forces",ForceParams=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],ForceConfig=["static","iterations"],ForceOutput=["x","y","vx","vy"];function Force(params){Transform.call(this,null,params)}Force.Definition={type:"Force",metadata:{modifies:true},params:[{name:"static",type:"boolean",default:false},{name:"restart",type:"boolean",default:false},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:true,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:true},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:true},{name:"strength",type:"number",expr:true},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:true,modify:false,default:ForceOutput}]};inherits(Force,Transform,{transform(_,pulse){var sim=this.value,change=pulse.changed(pulse.ADD_REM),params=_.modified(ForceParams),iters=_.iterations||300;if(!sim){this.value=sim=simulation(pulse.source,_);sim.on("tick",rerun(pulse.dataflow,this));if(!_.static){change=true;sim.tick()}pulse.modifies("index")}else{if(change){pulse.modifies("index");sim.nodes(pulse.source)}if(params||pulse.changed(pulse.MOD)){setup(sim,_,0,pulse)}}if(params||change||_.modified(ForceConfig)||pulse.changed()&&_.restart){sim.alpha(Math.max(sim.alpha(),_.alpha||1)).alphaDecay(1-Math.pow(sim.alphaMin(),1/iters));if(_.static){for(sim.stop();--iters>=0;)sim.tick()}else{if(sim.stopped())sim.restart();if(!change)return pulse.StopPropagation}}return this.finish(_,pulse)},finish(_,pulse){const dataflow=pulse.dataflow;for(let args=this._argops,j=0,m=args.length,arg;j<m;++j){arg=args[j];if(arg.name!==Forces||arg.op._argval.force!=="link"){continue}for(var ops=arg.op._argops,i=0,n=ops.length,op;i<n;++i){if(ops[i].name==="links"&&(op=ops[i].op.source)){dataflow.pulse(op,dataflow.changeset().reflow());break}}}return pulse.reflow(_.modified()).modifies(ForceOutput)}});function rerun(df,op){return()=>df.touch(op).run()}function simulation(nodes,_){const sim=forceSimulation(nodes),stop=sim.stop,restart=sim.restart;let stopped=false;sim.stopped=()=>stopped;sim.restart=()=>(stopped=false,restart());sim.stop=()=>(stopped=true,stop());return setup(sim,_,true).on("end",()=>stopped=true)}function setup(sim,_,init,pulse){var f=array$5(_.forces),i,n,p,name;for(i=0,n=ForceParams.length;i<n;++i){p=ForceParams[i];if(p!==Forces&&_.modified(p))sim[p](_[p])}for(i=0,n=f.length;i<n;++i){name=Forces+i;p=init||_.modified(Forces,i)?getForce(f[i]):pulse&&modified(f[i],pulse)?sim.force(name):null;if(p)sim.force(name,p)}for(n=sim.numForces||0;i<n;++i){sim.force(Forces+i,null)}sim.numForces=f.length;return sim}function modified(f,pulse){var k,v;for(k in f){if(isFunction(v=f[k])&&pulse.modified(accessorFields(v)))return 1}return 0}function getForce(_){var f,p;if(!has$1(ForceMap,_.force)){error("Unrecognized force: "+_.force)}f=ForceMap[_.force]();for(p in _){if(isFunction(f[p]))setForceParam(f[p],_[p],_)}return f}function setForceParam(f,v,_){f(isFunction(v)?d=>v(d,_):v)}var force=Object.freeze({__proto__:null,force:Force});function defaultSeparation$2(a,b){return a.parent===b.parent?1:2}function meanX(children){return children.reduce(meanXReduce,0)/children.length}function meanXReduce(x,c){return x+c.x}function maxY(children){return 1+children.reduce(maxYReduce,0)}function maxYReduce(y,c){return Math.max(y,c.y)}function leafLeft(node){var children;while(children=node.children)node=children[0];return node}function leafRight(node){var children;while(children=node.children)node=children[children.length-1];return node}function cluster(){var separation=defaultSeparation$2,dx=1,dy=1,nodeSize=false;function cluster(root){var previousNode,x=0;root.eachAfter((function(node){var children=node.children;if(children){node.x=meanX(children);node.y=maxY(children)}else{node.x=previousNode?x+=separation(node,previousNode):0;node.y=0;previousNode=node}}));var left=leafLeft(root),right=leafRight(root),x0=left.x-separation(left,right)/2,x1=right.x+separation(right,left)/2;return root.eachAfter(nodeSize?function(node){node.x=(node.x-root.x)*dx;node.y=(root.y-node.y)*dy}:function(node){node.x=(node.x-x0)/(x1-x0)*dx;node.y=(1-(root.y?node.y/root.y:1))*dy})}cluster.separation=function(x){return arguments.length?(separation=x,cluster):separation};cluster.size=function(x){return arguments.length?(nodeSize=false,dx=+x[0],dy=+x[1],cluster):nodeSize?null:[dx,dy]};cluster.nodeSize=function(x){return arguments.length?(nodeSize=true,dx=+x[0],dy=+x[1],cluster):nodeSize?[dx,dy]:null};return cluster}function count(node){var sum=0,children=node.children,i=children&&children.length;if(!i)sum=1;else while(--i>=0)sum+=children[i].value;node.value=sum}function node_count(){return this.eachAfter(count)}function node_each(callback,that){let index=-1;for(const node of this){callback.call(that,node,++index,this)}return this}function node_eachBefore(callback,that){var node=this,nodes=[node],children,i,index=-1;while(node=nodes.pop()){callback.call(that,node,++index,this);if(children=node.children){for(i=children.length-1;i>=0;--i){nodes.push(children[i])}}}return this}function node_eachAfter(callback,that){var node=this,nodes=[node],next=[],children,i,n,index=-1;while(node=nodes.pop()){next.push(node);if(children=node.children){for(i=0,n=children.length;i<n;++i){nodes.push(children[i])}}}while(node=next.pop()){callback.call(that,node,++index,this)}return this}function node_find(callback,that){let index=-1;for(const node of this){if(callback.call(that,node,++index,this)){return node}}}function node_sum(value){return this.eachAfter((function(node){var sum=+value(node.data)||0,children=node.children,i=children&&children.length;while(--i>=0)sum+=children[i].value;node.value=sum}))}function node_sort(compare){return this.eachBefore((function(node){if(node.children){node.children.sort(compare)}}))}function node_path(end){var start=this,ancestor=leastCommonAncestor(start,end),nodes=[start];while(start!==ancestor){start=start.parent;nodes.push(start)}var k=nodes.length;while(end!==ancestor){nodes.splice(k,0,end);end=end.parent}return nodes}function leastCommonAncestor(a,b){if(a===b)return a;var aNodes=a.ancestors(),bNodes=b.ancestors(),c=null;a=aNodes.pop();b=bNodes.pop();while(a===b){c=a;a=aNodes.pop();b=bNodes.pop()}return c}function node_ancestors(){var node=this,nodes=[node];while(node=node.parent){nodes.push(node)}return nodes}function node_descendants(){return Array.from(this)}function node_leaves(){var leaves=[];this.eachBefore((function(node){if(!node.children){leaves.push(node)}}));return leaves}function node_links(){var root=this,links=[];root.each((function(node){if(node!==root){links.push({source:node.parent,target:node})}}));return links}function*node_iterator(){var node=this,current,next=[node],children,i,n;do{current=next.reverse(),next=[];while(node=current.pop()){yield node;if(children=node.children){for(i=0,n=children.length;i<n;++i){next.push(children[i])}}}}while(next.length)}function hierarchy(data,children){if(data instanceof Map){data=[undefined,data];if(children===undefined)children=mapChildren}else if(children===undefined){children=objectChildren}var root=new Node$1(data),node,nodes=[root],child,childs,i,n;while(node=nodes.pop()){if((childs=children(node.data))&&(n=(childs=Array.from(childs)).length)){node.children=childs;for(i=n-1;i>=0;--i){nodes.push(child=childs[i]=new Node$1(childs[i]));child.parent=node;child.depth=node.depth+1}}}return root.eachBefore(computeHeight)}function node_copy(){return hierarchy(this).eachBefore(copyData)}function objectChildren(d){return d.children}function mapChildren(d){return Array.isArray(d)?d[1]:null}function copyData(node){if(node.data.value!==undefined)node.value=node.data.value;node.data=node.data.data}function computeHeight(node){var height=0;do{node.height=height}while((node=node.parent)&&node.height<++height)}function Node$1(data){this.data=data;this.depth=this.height=0;this.parent=null}Node$1.prototype=hierarchy.prototype={constructor:Node$1,count:node_count,each:node_each,eachAfter:node_eachAfter,eachBefore:node_eachBefore,find:node_find,sum:node_sum,sort:node_sort,path:node_path,ancestors:node_ancestors,descendants:node_descendants,leaves:node_leaves,links:node_links,copy:node_copy,[Symbol.iterator]:node_iterator};function optional(f){return f==null?null:required(f)}function required(f){if(typeof f!=="function")throw new Error;return f}function constantZero(){return 0}function constant(x){return function(){return x}}const a=1664525;const c=1013904223;const m=4294967296;function lcg(){let s=1;return()=>(s=(a*s+c)%m)/m}function array$2(x){return typeof x==="object"&&"length"in x?x:Array.from(x)}function shuffle(array,random){let m=array.length,t,i;while(m){i=random()*m--|0;t=array[m];array[m]=array[i];array[i]=t}return array}function packEncloseRandom(circles,random){var i=0,n=(circles=shuffle(Array.from(circles),random)).length,B=[],p,e;while(i<n){p=circles[i];if(e&&enclosesWeak(e,p))++i;else e=encloseBasis(B=extendBasis(B,p)),i=0}return e}function extendBasis(B,p){var i,j;if(enclosesWeakAll(p,B))return[p];for(i=0;i<B.length;++i){if(enclosesNot(p,B[i])&&enclosesWeakAll(encloseBasis2(B[i],p),B)){return[B[i],p]}}for(i=0;i<B.length-1;++i){for(j=i+1;j<B.length;++j){if(enclosesNot(encloseBasis2(B[i],B[j]),p)&&enclosesNot(encloseBasis2(B[i],p),B[j])&&enclosesNot(encloseBasis2(B[j],p),B[i])&&enclosesWeakAll(encloseBasis3(B[i],B[j],p),B)){return[B[i],B[j],p]}}}throw new Error}function enclosesNot(a,b){var dr=a.r-b.r,dx=b.x-a.x,dy=b.y-a.y;return dr<0||dr*dr<dx*dx+dy*dy}function enclosesWeak(a,b){var dr=a.r-b.r+Math.max(a.r,b.r,1)*1e-9,dx=b.x-a.x,dy=b.y-a.y;return dr>0&&dr*dr>dx*dx+dy*dy}function enclosesWeakAll(a,B){for(var i=0;i<B.length;++i){if(!enclosesWeak(a,B[i])){return false}}return true}function encloseBasis(B){switch(B.length){case 1:return encloseBasis1(B[0]);case 2:return encloseBasis2(B[0],B[1]);case 3:return encloseBasis3(B[0],B[1],B[2])}}function encloseBasis1(a){return{x:a.x,y:a.y,r:a.r}}function encloseBasis2(a,b){var x1=a.x,y1=a.y,r1=a.r,x2=b.x,y2=b.y,r2=b.r,x21=x2-x1,y21=y2-y1,r21=r2-r1,l=Math.sqrt(x21*x21+y21*y21);return{x:(x1+x2+x21/l*r21)/2,y:(y1+y2+y21/l*r21)/2,r:(l+r1+r2)/2}}function encloseBasis3(a,b,c){var x1=a.x,y1=a.y,r1=a.r,x2=b.x,y2=b.y,r2=b.r,x3=c.x,y3=c.y,r3=c.r,a2=x1-x2,a3=x1-x3,b2=y1-y2,b3=y1-y3,c2=r2-r1,c3=r3-r1,d1=x1*x1+y1*y1-r1*r1,d2=d1-x2*x2-y2*y2+r2*r2,d3=d1-x3*x3-y3*y3+r3*r3,ab=a3*b2-a2*b3,xa=(b2*d3-b3*d2)/(ab*2)-x1,xb=(b3*c2-b2*c3)/ab,ya=(a3*d2-a2*d3)/(ab*2)-y1,yb=(a2*c3-a3*c2)/ab,A=xb*xb+yb*yb-1,B=2*(r1+xa*xb+ya*yb),C=xa*xa+ya*ya-r1*r1,r=-(Math.abs(A)>1e-6?(B+Math.sqrt(B*B-4*A*C))/(2*A):C/B);return{x:x1+xa+xb*r,y:y1+ya+yb*r,r:r}}function place(b,a,c){var dx=b.x-a.x,x,a2,dy=b.y-a.y,y,b2,d2=dx*dx+dy*dy;if(d2){a2=a.r+c.r,a2*=a2;b2=b.r+c.r,b2*=b2;if(a2>b2){x=(d2+b2-a2)/(2*d2);y=Math.sqrt(Math.max(0,b2/d2-x*x));c.x=b.x-x*dx-y*dy;c.y=b.y-x*dy+y*dx}else{x=(d2+a2-b2)/(2*d2);y=Math.sqrt(Math.max(0,a2/d2-x*x));c.x=a.x+x*dx-y*dy;c.y=a.y+x*dy+y*dx}}else{c.x=a.x+c.r;c.y=a.y}}function intersects(a,b){var dr=a.r+b.r-1e-6,dx=b.x-a.x,dy=b.y-a.y;return dr>0&&dr*dr>dx*dx+dy*dy}function score(node){var a=node._,b=node.next._,ab=a.r+b.r,dx=(a.x*b.r+b.x*a.r)/ab,dy=(a.y*b.r+b.y*a.r)/ab;return dx*dx+dy*dy}function Node(circle){this._=circle;this.next=null;this.previous=null}function packSiblingsRandom(circles,random){if(!(n=(circles=array$2(circles)).length))return 0;var a,b,c,n,aa,ca,i,j,k,sj,sk;a=circles[0],a.x=0,a.y=0;if(!(n>1))return a.r;b=circles[1],a.x=-b.r,b.x=a.r,b.y=0;if(!(n>2))return a.r+b.r;place(b,a,c=circles[2]);a=new Node(a),b=new Node(b),c=new Node(c);a.next=c.previous=b;b.next=a.previous=c;c.next=b.previous=a;pack:for(i=3;i<n;++i){place(a._,b._,c=circles[i]),c=new Node(c);j=b.next,k=a.previous,sj=b._.r,sk=a._.r;do{if(sj<=sk){if(intersects(j._,c._)){b=j,a.next=b,b.previous=a,--i;continue pack}sj+=j._.r,j=j.next}else{if(intersects(k._,c._)){a=k,a.next=b,b.previous=a,--i;continue pack}sk+=k._.r,k=k.previous}}while(j!==k.next);c.previous=a,c.next=b,a.next=b.previous=b=c;aa=score(a);while((c=c.next)!==b){if((ca=score(c))<aa){a=c,aa=ca}}b=a.next}a=[b._],c=b;while((c=c.next)!==b)a.push(c._);c=packEncloseRandom(a,random);for(i=0;i<n;++i)a=circles[i],a.x-=c.x,a.y-=c.y;return c.r}function defaultRadius(d){return Math.sqrt(d.value)}function pack(){var radius=null,dx=1,dy=1,padding=constantZero;function pack(root){const random=lcg();root.x=dx/2,root.y=dy/2;if(radius){root.eachBefore(radiusLeaf(radius)).eachAfter(packChildrenRandom(padding,.5,random)).eachBefore(translateChild(1))}else{root.eachBefore(radiusLeaf(defaultRadius)).eachAfter(packChildrenRandom(constantZero,1,random)).eachAfter(packChildrenRandom(padding,root.r/Math.min(dx,dy),random)).eachBefore(translateChild(Math.min(dx,dy)/(2*root.r)))}return root}pack.radius=function(x){return arguments.length?(radius=optional(x),pack):radius};pack.size=function(x){return arguments.length?(dx=+x[0],dy=+x[1],pack):[dx,dy]};pack.padding=function(x){return arguments.length?(padding=typeof x==="function"?x:constant(+x),pack):padding};return pack}function radiusLeaf(radius){return function(node){if(!node.children){node.r=Math.max(0,+radius(node)||0)}}}function packChildrenRandom(padding,k,random){return function(node){if(children=node.children){var children,i,n=children.length,r=padding(node)*k||0,e;if(r)for(i=0;i<n;++i)children[i].r+=r;e=packSiblingsRandom(children,random);if(r)for(i=0;i<n;++i)children[i].r-=r;node.r=e+r}}}function translateChild(k){return function(node){var parent=node.parent;node.r*=k;if(parent){node.x=parent.x+k*node.x;node.y=parent.y+k*node.y}}}function roundNode(node){node.x0=Math.round(node.x0);node.y0=Math.round(node.y0);node.x1=Math.round(node.x1);node.y1=Math.round(node.y1)}function treemapDice(parent,x0,y0,x1,y1){var nodes=parent.children,node,i=-1,n=nodes.length,k=parent.value&&(x1-x0)/parent.value;while(++i<n){node=nodes[i],node.y0=y0,node.y1=y1;node.x0=x0,node.x1=x0+=node.value*k}}function partition$1(){var dx=1,dy=1,padding=0,round=false;function partition(root){var n=root.height+1;root.x0=root.y0=padding;root.x1=dx;root.y1=dy/n;root.eachBefore(positionNode(dy,n));if(round)root.eachBefore(roundNode);return root}function positionNode(dy,n){return function(node){if(node.children){treemapDice(node,node.x0,dy*(node.depth+1)/n,node.x1,dy*(node.depth+2)/n)}var x0=node.x0,y0=node.y0,x1=node.x1-padding,y1=node.y1-padding;if(x1<x0)x0=x1=(x0+x1)/2;if(y1<y0)y0=y1=(y0+y1)/2;node.x0=x0;node.y0=y0;node.x1=x1;node.y1=y1}}partition.round=function(x){return arguments.length?(round=!!x,partition):round};partition.size=function(x){return arguments.length?(dx=+x[0],dy=+x[1],partition):[dx,dy]};partition.padding=function(x){return arguments.length?(padding=+x,partition):padding};return partition}var preroot={depth:-1},ambiguous={},imputed={};function defaultId(d){return d.id}function defaultParentId(d){return d.parentId}function stratify(){var id=defaultId,parentId=defaultParentId,path;function stratify(data){var nodes=Array.from(data),currentId=id,currentParentId=parentId,n,d,i,root,parent,node,nodeId,nodeKey,nodeByKey=new Map;if(path!=null){const I=nodes.map((d,i)=>normalize(path(d,i,data)));const P=I.map(parentof);const S=new Set(I).add("");for(const i of P){if(!S.has(i)){S.add(i);I.push(i);P.push(parentof(i));nodes.push(imputed)}}currentId=(_,i)=>I[i];currentParentId=(_,i)=>P[i]}for(i=0,n=nodes.length;i<n;++i){d=nodes[i],node=nodes[i]=new Node$1(d);if((nodeId=currentId(d,i,data))!=null&&(nodeId+="")){nodeKey=node.id=nodeId;nodeByKey.set(nodeKey,nodeByKey.has(nodeKey)?ambiguous:node)}if((nodeId=currentParentId(d,i,data))!=null&&(nodeId+="")){node.parent=nodeId}}for(i=0;i<n;++i){node=nodes[i];if(nodeId=node.parent){parent=nodeByKey.get(nodeId);if(!parent)throw new Error("missing: "+nodeId);if(parent===ambiguous)throw new Error("ambiguous: "+nodeId);if(parent.children)parent.children.push(node);else parent.children=[node];node.parent=parent}else{if(root)throw new Error("multiple roots");root=node}}if(!root)throw new Error("no root");if(path!=null){while(root.data===imputed&&root.children.length===1){root=root.children[0],--n}for(let i=nodes.length-1;i>=0;--i){node=nodes[i];if(node.data!==imputed)break;node.data=null}}root.parent=preroot;root.eachBefore((function(node){node.depth=node.parent.depth+1;--n})).eachBefore(computeHeight);root.parent=null;if(n>0)throw new Error("cycle");return root}stratify.id=function(x){return arguments.length?(id=optional(x),stratify):id};stratify.parentId=function(x){return arguments.length?(parentId=optional(x),stratify):parentId};stratify.path=function(x){return arguments.length?(path=optional(x),stratify):path};return stratify}function normalize(path){path=`${path}`;let i=path.length;if(slash(path,i-1)&&!slash(path,i-2))path=path.slice(0,-1);return path[0]==="/"?path:`/${path}`}function parentof(path){let i=path.length;if(i<2)return"";while(--i>1)if(slash(path,i))break;return path.slice(0,i)}function slash(path,i){if(path[i]==="/"){let k=0;while(i>0&&path[--i]==="\\")++k;if((k&1)===0)return true}return false}function defaultSeparation$1(a,b){return a.parent===b.parent?1:2}function nextLeft(v){var children=v.children;return children?children[0]:v.t}function nextRight(v){var children=v.children;return children?children[children.length-1]:v.t}function moveSubtree(wm,wp,shift){var change=shift/(wp.i-wm.i);wp.c-=change;wp.s+=shift;wm.c+=change;wp.z+=shift;wp.m+=shift}function executeShifts(v){var shift=0,change=0,children=v.children,i=children.length,w;while(--i>=0){w=children[i];w.z+=shift;w.m+=shift;shift+=w.s+(change+=w.c)}}function nextAncestor(vim,v,ancestor){return vim.a.parent===v.parent?vim.a:ancestor}function TreeNode(node,i){this._=node;this.parent=null;this.children=null;this.A=null;this.a=this;this.z=0;this.m=0;this.c=0;this.s=0;this.t=null;this.i=i}TreeNode.prototype=Object.create(Node$1.prototype);function treeRoot(root){var tree=new TreeNode(root,0),node,nodes=[tree],child,children,i,n;while(node=nodes.pop()){if(children=node._.children){node.children=new Array(n=children.length);for(i=n-1;i>=0;--i){nodes.push(child=node.children[i]=new TreeNode(children[i],i));child.parent=node}}}(tree.parent=new TreeNode(null,0)).children=[tree];return tree}function tree$1(){var separation=defaultSeparation$1,dx=1,dy=1,nodeSize=null;function tree(root){var t=treeRoot(root);t.eachAfter(firstWalk),t.parent.m=-t.z;t.eachBefore(secondWalk);if(nodeSize)root.eachBefore(sizeNode);else{var left=root,right=root,bottom=root;root.eachBefore((function(node){if(node.x<left.x)left=node;if(node.x>right.x)right=node;if(node.depth>bottom.depth)bottom=node}));var s=left===right?1:separation(left,right)/2,tx=s-left.x,kx=dx/(right.x+s+tx),ky=dy/(bottom.depth||1);root.eachBefore((function(node){node.x=(node.x+tx)*kx;node.y=node.depth*ky}))}return root}function firstWalk(v){var children=v.children,siblings=v.parent.children,w=v.i?siblings[v.i-1]:null;if(children){executeShifts(v);var midpoint=(children[0].z+children[children.length-1].z)/2;if(w){v.z=w.z+separation(v._,w._);v.m=v.z-midpoint}else{v.z=midpoint}}else if(w){v.z=w.z+separation(v._,w._)}v.parent.A=apportion(v,w,v.parent.A||siblings[0])}function secondWalk(v){v._.x=v.z+v.parent.m;v.m+=v.parent.m}function apportion(v,w,ancestor){if(w){var vip=v,vop=v,vim=w,vom=vip.parent.children[0],sip=vip.m,sop=vop.m,sim=vim.m,som=vom.m,shift;while(vim=nextRight(vim),vip=nextLeft(vip),vim&&vip){vom=nextLeft(vom);vop=nextRight(vop);vop.a=v;shift=vim.z+sim-vip.z-sip+separation(vim._,vip._);if(shift>0){moveSubtree(nextAncestor(vim,v,ancestor),v,shift);sip+=shift;sop+=shift}sim+=vim.m;sip+=vip.m;som+=vom.m;sop+=vop.m}if(vim&&!nextRight(vop)){vop.t=vim;vop.m+=sim-sop}if(vip&&!nextLeft(vom)){vom.t=vip;vom.m+=sip-som;ancestor=v}}return ancestor}function sizeNode(node){node.x*=dx;node.y=node.depth*dy}tree.separation=function(x){return arguments.length?(separation=x,tree):separation};tree.size=function(x){return arguments.length?(nodeSize=false,dx=+x[0],dy=+x[1],tree):nodeSize?null:[dx,dy]};tree.nodeSize=function(x){return arguments.length?(nodeSize=true,dx=+x[0],dy=+x[1],tree):nodeSize?[dx,dy]:null};return tree}function treemapSlice(parent,x0,y0,x1,y1){var nodes=parent.children,node,i=-1,n=nodes.length,k=parent.value&&(y1-y0)/parent.value;while(++i<n){node=nodes[i],node.x0=x0,node.x1=x1;node.y0=y0,node.y1=y0+=node.value*k}}var phi=(1+Math.sqrt(5))/2;function squarifyRatio(ratio,parent,x0,y0,x1,y1){var rows=[],nodes=parent.children,row,nodeValue,i0=0,i1=0,n=nodes.length,dx,dy,value=parent.value,sumValue,minValue,maxValue,newRatio,minRatio,alpha,beta;while(i0<n){dx=x1-x0,dy=y1-y0;do{sumValue=nodes[i1++].value}while(!sumValue&&i1<n);minValue=maxValue=sumValue;alpha=Math.max(dy/dx,dx/dy)/(value*ratio);beta=sumValue*sumValue*alpha;minRatio=Math.max(maxValue/beta,beta/minValue);for(;i1<n;++i1){sumValue+=nodeValue=nodes[i1].value;if(nodeValue<minValue)minValue=nodeValue;if(nodeValue>maxValue)maxValue=nodeValue;beta=sumValue*sumValue*alpha;newRatio=Math.max(maxValue/beta,beta/minValue);if(newRatio>minRatio){sumValue-=nodeValue;break}minRatio=newRatio}rows.push(row={value:sumValue,dice:dx<dy,children:nodes.slice(i0,i1)});if(row.dice)treemapDice(row,x0,y0,x1,value?y0+=dy*sumValue/value:y1);else treemapSlice(row,x0,y0,value?x0+=dx*sumValue/value:x1,y1);value-=sumValue,i0=i1}return rows}var treemapSquarify=function custom(ratio){function squarify(parent,x0,y0,x1,y1){squarifyRatio(ratio,parent,x0,y0,x1,y1)}squarify.ratio=function(x){return custom((x=+x)>1?x:1)};return squarify}(phi);function treemap(){var tile=treemapSquarify,round=false,dx=1,dy=1,paddingStack=[0],paddingInner=constantZero,paddingTop=constantZero,paddingRight=constantZero,paddingBottom=constantZero,paddingLeft=constantZero;function treemap(root){root.x0=root.y0=0;root.x1=dx;root.y1=dy;root.eachBefore(positionNode);paddingStack=[0];if(round)root.eachBefore(roundNode);return root}function positionNode(node){var p=paddingStack[node.depth],x0=node.x0+p,y0=node.y0+p,x1=node.x1-p,y1=node.y1-p;if(x1<x0)x0=x1=(x0+x1)/2;if(y1<y0)y0=y1=(y0+y1)/2;node.x0=x0;node.y0=y0;node.x1=x1;node.y1=y1;if(node.children){p=paddingStack[node.depth+1]=paddingInner(node)/2;x0+=paddingLeft(node)-p;y0+=paddingTop(node)-p;x1-=paddingRight(node)-p;y1-=paddingBottom(node)-p;if(x1<x0)x0=x1=(x0+x1)/2;if(y1<y0)y0=y1=(y0+y1)/2;tile(node,x0,y0,x1,y1)}}treemap.round=function(x){return arguments.length?(round=!!x,treemap):round};treemap.size=function(x){return arguments.length?(dx=+x[0],dy=+x[1],treemap):[dx,dy]};treemap.tile=function(x){return arguments.length?(tile=required(x),treemap):tile};treemap.padding=function(x){return arguments.length?treemap.paddingInner(x).paddingOuter(x):treemap.paddingInner()};treemap.paddingInner=function(x){return arguments.length?(paddingInner=typeof x==="function"?x:constant(+x),treemap):paddingInner};treemap.paddingOuter=function(x){return arguments.length?treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x):treemap.paddingTop()};treemap.paddingTop=function(x){return arguments.length?(paddingTop=typeof x==="function"?x:constant(+x),treemap):paddingTop};treemap.paddingRight=function(x){return arguments.length?(paddingRight=typeof x==="function"?x:constant(+x),treemap):paddingRight};treemap.paddingBottom=function(x){return arguments.length?(paddingBottom=typeof x==="function"?x:constant(+x),treemap):paddingBottom};treemap.paddingLeft=function(x){return arguments.length?(paddingLeft=typeof x==="function"?x:constant(+x),treemap):paddingLeft};return treemap}function treemapBinary(parent,x0,y0,x1,y1){var nodes=parent.children,i,n=nodes.length,sum,sums=new Array(n+1);for(sums[0]=sum=i=0;i<n;++i){sums[i+1]=sum+=nodes[i].value}partition(0,n,parent.value,x0,y0,x1,y1);function partition(i,j,value,x0,y0,x1,y1){if(i>=j-1){var node=nodes[i];node.x0=x0,node.y0=y0;node.x1=x1,node.y1=y1;return}var valueOffset=sums[i],valueTarget=value/2+valueOffset,k=i+1,hi=j-1;while(k<hi){var mid=k+hi>>>1;if(sums[mid]<valueTarget)k=mid+1;else hi=mid}if(valueTarget-sums[k-1]<sums[k]-valueTarget&&i+1<k)--k;var valueLeft=sums[k]-valueOffset,valueRight=value-valueLeft;if(x1-x0>y1-y0){var xk=value?(x0*valueRight+x1*valueLeft)/value:x1;partition(i,k,valueLeft,x0,y0,xk,y1);partition(k,j,valueRight,xk,y0,x1,y1)}else{var yk=value?(y0*valueRight+y1*valueLeft)/value:y1;partition(i,k,valueLeft,x0,y0,x1,yk);partition(k,j,valueRight,x0,yk,x1,y1)}}}function treemapSliceDice(parent,x0,y0,x1,y1){(parent.depth&1?treemapSlice:treemapDice)(parent,x0,y0,x1,y1)}var treemapResquarify=function custom(ratio){function resquarify(parent,x0,y0,x1,y1){if((rows=parent._squarify)&&rows.ratio===ratio){var rows,row,nodes,i,j=-1,n,m=rows.length,value=parent.value;while(++j<m){row=rows[j],nodes=row.children;for(i=row.value=0,n=nodes.length;i<n;++i)row.value+=nodes[i].value;if(row.dice)treemapDice(row,x0,y0,x1,value?y0+=(y1-y0)*row.value/value:y1);else treemapSlice(row,x0,y0,value?x0+=(x1-x0)*row.value/value:x1,y1);value-=row.value}}else{parent._squarify=rows=squarifyRatio(ratio,parent,x0,y0,x1,y1);rows.ratio=ratio}}resquarify.ratio=function(x){return custom((x=+x)>1?x:1)};return resquarify}(phi);function lookup$2(tree,key,filter){const map={};tree.each(node=>{const t=node.data;if(filter(t))map[key(t)]=node});tree.lookup=map;return tree}function Nest(params){Transform.call(this,null,params)}Nest.Definition={type:"Nest",metadata:{treesource:true,changes:true},params:[{name:"keys",type:"field",array:true},{name:"generate",type:"boolean"}]};const children$1=n=>n.values;inherits(Nest,Transform,{transform(_,pulse){if(!pulse.source){error("Nest transform requires an upstream data source.")}var gen=_.generate,mod=_.modified(),out=pulse.clone(),tree=this.value;if(!tree||mod||pulse.changed()){if(tree){tree.each(node=>{if(node.children&&isTuple(node.data)){out.rem.push(node.data)}})}this.value=tree=hierarchy({values:array$5(_.keys).reduce((n,k)=>{n.key(k);return n},nest()).entries(out.source)},children$1);if(gen){tree.each(node=>{if(node.children){node=ingest$1(node.data);out.add.push(node);out.source.push(node)}})}lookup$2(tree,tupleid,tupleid)}out.source.root=tree;return out}});function nest(){const keys=[],nest={entries:array=>entries(apply(array,0),0),key:d=>(keys.push(d),nest)};function apply(array,depth){if(depth>=keys.length){return array}const n=array.length,key=keys[depth++],valuesByKey={},result={};let i=-1,keyValue,value,values;while(++i<n){keyValue=key(value=array[i])+"";if(values=valuesByKey[keyValue]){values.push(value)}else{valuesByKey[keyValue]=[value]}}for(keyValue in valuesByKey){result[keyValue]=apply(valuesByKey[keyValue],depth)}return result}function entries(map,depth){if(++depth>keys.length)return map;const array=[];for(const key in map){array.push({key:key,values:entries(map[key],depth)})}return array}return nest}function HierarchyLayout(params){Transform.call(this,null,params)}const defaultSeparation=(a,b)=>a.parent===b.parent?1:2;inherits(HierarchyLayout,Transform,{transform(_,pulse){if(!pulse.source||!pulse.source.root){error(this.constructor.name+" transform requires a backing tree data source.")}const layout=this.layout(_.method),fields=this.fields,root=pulse.source.root,as=_.as||fields;if(_.field)root.sum(_.field);else root.count();if(_.sort)root.sort(stableCompare(_.sort,d=>d.data));setParams(layout,this.params,_);if(layout.separation){layout.separation(_.separation!==false?defaultSeparation:one$2)}try{this.value=layout(root)}catch(err){error(err)}root.each(node=>setFields(node,fields,as));return pulse.reflow(_.modified()).modifies(as).modifies("leaf")}});function setParams(layout,params,_){for(let p,i=0,n=params.length;i<n;++i){p=params[i];if(p in _)layout[p](_[p])}}function setFields(node,fields,as){const t=node.data,n=fields.length-1;for(let i=0;i<n;++i){t[as[i]]=node[fields[i]]}t[as[n]]=node.children?node.children.length:0}const Output$3=["x","y","r","depth","children"];function Pack(params){HierarchyLayout.call(this,params)}Pack.Definition={type:"Pack",metadata:{tree:true,modifies:true},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:true,length:2},{name:"as",type:"string",array:true,length:Output$3.length,default:Output$3}]};inherits(Pack,HierarchyLayout,{layout:pack,params:["radius","size","padding"],fields:Output$3});const Output$2=["x0","y0","x1","y1","depth","children"];function Partition(params){HierarchyLayout.call(this,params)}Partition.Definition={type:"Partition",metadata:{tree:true,modifies:true},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:false},{name:"size",type:"number",array:true,length:2},{name:"as",type:"string",array:true,length:Output$2.length,default:Output$2}]};inherits(Partition,HierarchyLayout,{layout:partition$1,params:["size","round","padding"],fields:Output$2});function Stratify(params){Transform.call(this,null,params)}Stratify.Definition={type:"Stratify",metadata:{treesource:true},params:[{name:"key",type:"field",required:true},{name:"parentKey",type:"field",required:true}]};inherits(Stratify,Transform,{transform(_,pulse){if(!pulse.source){error("Stratify transform requires an upstream data source.")}let tree=this.value;const mod=_.modified(),out=pulse.fork(pulse.ALL).materialize(pulse.SOURCE),run=!tree||mod||pulse.changed(pulse.ADD_REM)||pulse.modified(_.key.fields)||pulse.modified(_.parentKey.fields);out.source=out.source.slice();if(run){tree=out.source.length?lookup$2(stratify().id(_.key).parentId(_.parentKey)(out.source),_.key,truthy):lookup$2(stratify()([{}]),_.key,_.key)}out.source.root=this.value=tree;return out}});const Layouts={tidy:tree$1,cluster:cluster};const Output$1$1=["x","y","depth","children"];function Tree(params){HierarchyLayout.call(this,params)}Tree.Definition={type:"Tree",metadata:{tree:true,modifies:true},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:true,length:2},{name:"nodeSize",type:"number",array:true,length:2},{name:"separation",type:"boolean",default:true},{name:"as",type:"string",array:true,length:Output$1$1.length,default:Output$1$1}]};inherits(Tree,HierarchyLayout,{layout(method){const m=method||"tidy";if(has$1(Layouts,m))return Layouts[m]();else error("Unrecognized Tree layout method: "+m)},params:["size","nodeSize"],fields:Output$1$1});function TreeLinks(params){Transform.call(this,[],params)}TreeLinks.Definition={type:"TreeLinks",metadata:{tree:true,generates:true,changes:true},params:[]};inherits(TreeLinks,Transform,{transform(_,pulse){const links=this.value,tree=pulse.source&&pulse.source.root,out=pulse.fork(pulse.NO_SOURCE),lut={};if(!tree)error("TreeLinks transform requires a tree data source.");if(pulse.changed(pulse.ADD_REM)){out.rem=links;pulse.visit(pulse.SOURCE,t=>lut[tupleid(t)]=1);tree.each(node=>{const t=node.data,p=node.parent&&node.parent.data;if(p&&lut[tupleid(t)]&&lut[tupleid(p)]){out.add.push(ingest$1({source:p,target:t}))}});this.value=out.add}else if(pulse.changed(pulse.MOD)){pulse.visit(pulse.MOD,t=>lut[tupleid(t)]=1);links.forEach(link=>{if(lut[tupleid(link.source)]||lut[tupleid(link.target)]){out.mod.push(link)}})}return out}});const Tiles={binary:treemapBinary,dice:treemapDice,slice:treemapSlice,slicedice:treemapSliceDice,squarify:treemapSquarify,resquarify:treemapResquarify};const Output$4=["x0","y0","x1","y1","depth","children"];function Treemap(params){HierarchyLayout.call(this,params)}Treemap.Definition={type:"Treemap",metadata:{tree:true,modifies:true},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:false},{name:"size",type:"number",array:true,length:2},{name:"as",type:"string",array:true,length:Output$4.length,default:Output$4}]};inherits(Treemap,HierarchyLayout,{layout(){const x=treemap();x.ratio=_=>{const t=x.tile();if(t.ratio)x.tile(t.ratio(_))};x.method=_=>{if(has$1(Tiles,_))x.tile(Tiles[_]);else error("Unrecognized Treemap layout method: "+_)};return x},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:Output$4});var tree=Object.freeze({__proto__:null,nest:Nest,pack:Pack,partition:Partition,stratify:Stratify,tree:Tree,treelinks:TreeLinks,treemap:Treemap});const ALPHA_MASK=4278190080;function baseBitmaps($,data){const bitmap=$.bitmap();(data||[]).forEach(d=>bitmap.set($(d.boundary[0]),$(d.boundary[3])));return[bitmap,undefined]}function markBitmaps($,baseMark,avoidMarks,labelInside,isGroupArea){const width=$.width,height=$.height,border=labelInside||isGroupArea,context=domCanvas(width,height).getContext("2d"),baseMarkContext=domCanvas(width,height).getContext("2d"),strokeContext=border&&domCanvas(width,height).getContext("2d");avoidMarks.forEach(items=>draw(context,items,false));draw(baseMarkContext,baseMark,false);if(border){draw(strokeContext,baseMark,true)}const buffer=getBuffer(context,width,height),baseMarkBuffer=getBuffer(baseMarkContext,width,height),strokeBuffer=border&&getBuffer(strokeContext,width,height),layer1=$.bitmap(),layer2=border&&$.bitmap();let x,y,u,v,index,alpha,strokeAlpha,baseMarkAlpha;for(y=0;y<height;++y){for(x=0;x<width;++x){index=y*width+x;alpha=buffer[index]&ALPHA_MASK;baseMarkAlpha=baseMarkBuffer[index]&ALPHA_MASK;strokeAlpha=border&&strokeBuffer[index]&ALPHA_MASK;if(alpha||strokeAlpha||baseMarkAlpha){u=$(x);v=$(y);if(!isGroupArea&&(alpha||baseMarkAlpha))layer1.set(u,v);if(border&&(alpha||strokeAlpha))layer2.set(u,v)}}}return[layer1,layer2]}function getBuffer(context,width,height){return new Uint32Array(context.getImageData(0,0,width,height).data.buffer)}function draw(context,items,interior){if(!items.length)return;const type=items[0].mark.marktype;if(type==="group"){items.forEach(group=>{group.items.forEach(mark=>draw(context,mark.items,interior))})}else{Marks[type].draw(context,{items:interior?items.map(prepare):items})}}function prepare(source){const item=rederive(source,{});if(item.stroke&&item.strokeOpacity!==0||item.fill&&item.fillOpacity!==0){return{...item,strokeOpacity:1,stroke:"#000",fillOpacity:0}}return item}const DIV=5,MOD=31,SIZE=32,RIGHT0=new Uint32Array(SIZE+1),RIGHT1=new Uint32Array(SIZE+1);RIGHT1[0]=0;RIGHT0[0]=~RIGHT1[0];for(let i=1;i<=SIZE;++i){RIGHT1[i]=RIGHT1[i-1]<<1|1;RIGHT0[i]=~RIGHT1[i]}function Bitmap(w,h){const array=new Uint32Array(~~((w*h+SIZE)/SIZE));function _set(index,mask){array[index]|=mask}function _clear(index,mask){array[index]&=mask}return{array:array,get:(x,y)=>{const index=y*w+x;return array[index>>>DIV]&1<<(index&MOD)},set:(x,y)=>{const index=y*w+x;_set(index>>>DIV,1<<(index&MOD))},clear:(x,y)=>{const index=y*w+x;_clear(index>>>DIV,~(1<<(index&MOD)))},getRange:(x,y,x2,y2)=>{let r=y2,start,end,indexStart,indexEnd;for(;r>=y;--r){start=r*w+x;end=r*w+x2;indexStart=start>>>DIV;indexEnd=end>>>DIV;if(indexStart===indexEnd){if(array[indexStart]&RIGHT0[start&MOD]&RIGHT1[(end&MOD)+1]){return true}}else{if(array[indexStart]&RIGHT0[start&MOD])return true;if(array[indexEnd]&RIGHT1[(end&MOD)+1])return true;for(let i=indexStart+1;i<indexEnd;++i){if(array[i])return true}}}return false},setRange:(x,y,x2,y2)=>{let start,end,indexStart,indexEnd,i;for(;y<=y2;++y){start=y*w+x;end=y*w+x2;indexStart=start>>>DIV;indexEnd=end>>>DIV;if(indexStart===indexEnd){_set(indexStart,RIGHT0[start&MOD]&RIGHT1[(end&MOD)+1])}else{_set(indexStart,RIGHT0[start&MOD]);_set(indexEnd,RIGHT1[(end&MOD)+1]);for(i=indexStart+1;i<indexEnd;++i)_set(i,4294967295)}}},clearRange:(x,y,x2,y2)=>{let start,end,indexStart,indexEnd,i;for(;y<=y2;++y){start=y*w+x;end=y*w+x2;indexStart=start>>>DIV;indexEnd=end>>>DIV;if(indexStart===indexEnd){_clear(indexStart,RIGHT1[start&MOD]|RIGHT0[(end&MOD)+1])}else{_clear(indexStart,RIGHT1[start&MOD]);_clear(indexEnd,RIGHT0[(end&MOD)+1]);for(i=indexStart+1;i<indexEnd;++i)_clear(i,0)}}},outOfBounds:(x,y,x2,y2)=>x<0||y<0||y2>=h||x2>=w}}function scaler(width,height,padding){const ratio=Math.max(1,Math.sqrt(width*height/1e6)),w=~~((width+2*padding+ratio)/ratio),h=~~((height+2*padding+ratio)/ratio),scale=_=>~~((_+padding)/ratio);scale.invert=_=>_*ratio-padding;scale.bitmap=()=>Bitmap(w,h);scale.ratio=ratio;scale.padding=padding;scale.width=width;scale.height=height;return scale}function placeAreaLabelNaive($,bitmaps,avoidBaseMark,markIndex){const width=$.width,height=$.height;return function(d){const items=d.datum.datum.items[markIndex].items,n=items.length,textHeight=d.datum.fontSize,textWidth=textMetrics.width(d.datum,d.datum.text);let maxAreaWidth=0,x1,x2,y1,y2,x,y,areaWidth;for(let i=0;i<n;++i){x1=items[i].x;y1=items[i].y;x2=items[i].x2===undefined?x1:items[i].x2;y2=items[i].y2===undefined?y1:items[i].y2;x=(x1+x2)/2;y=(y1+y2)/2;areaWidth=Math.abs(x2-x1+y2-y1);if(areaWidth>=maxAreaWidth){maxAreaWidth=areaWidth;d.x=x;d.y=y}}x=textWidth/2;y=textHeight/2;x1=d.x-x;x2=d.x+x;y1=d.y-y;y2=d.y+y;d.align="center";if(x1<0&&x2<=width){d.align="left"}else if(0<=x1&&width<x2){d.align="right"}d.baseline="middle";if(y1<0&&y2<=height){d.baseline="top"}else if(0<=y1&&height<y2){d.baseline="bottom"}return true}}function outOfBounds(x,y,textWidth,textHeight,width,height){let r=textWidth/2;return x-r<0||x+r>width||y-(r=textHeight/2)<0||y+r>height}function collision($,x,y,textHeight,textWidth,h,bm0,bm1){const w=textWidth*h/(textHeight*2),x1=$(x-w),x2=$(x+w),y1=$(y-(h=h/2)),y2=$(y+h);return bm0.outOfBounds(x1,y1,x2,y2)||bm0.getRange(x1,y1,x2,y2)||bm1&&bm1.getRange(x1,y1,x2,y2)}function placeAreaLabelReducedSearch($,bitmaps,avoidBaseMark,markIndex){const width=$.width,height=$.height,bm0=bitmaps[0],bm1=bitmaps[1];function tryLabel(_x,_y,maxSize,textWidth,textHeight){const x=$.invert(_x),y=$.invert(_y);let lo=maxSize,hi=height,mid;if(!outOfBounds(x,y,textWidth,textHeight,width,height)&&!collision($,x,y,textHeight,textWidth,lo,bm0,bm1)&&!collision($,x,y,textHeight,textWidth,textHeight,bm0,null)){while(hi-lo>=1){mid=(lo+hi)/2;if(collision($,x,y,textHeight,textWidth,mid,bm0,bm1)){hi=mid}else{lo=mid}}if(lo>maxSize){return[x,y,lo,true]}}}return function(d){const items=d.datum.datum.items[markIndex].items,n=items.length,textHeight=d.datum.fontSize,textWidth=textMetrics.width(d.datum,d.datum.text);let maxSize=avoidBaseMark?textHeight:0,labelPlaced=false,labelPlaced2=false,maxAreaWidth=0,x1,x2,y1,y2,x,y,_x,_y,_x1,_xMid,_x2,_y1,_yMid,_y2,areaWidth,result,swapTmp;for(let i=0;i<n;++i){x1=items[i].x;y1=items[i].y;x2=items[i].x2===undefined?x1:items[i].x2;y2=items[i].y2===undefined?y1:items[i].y2;if(x1>x2){swapTmp=x1;x1=x2;x2=swapTmp}if(y1>y2){swapTmp=y1;y1=y2;y2=swapTmp}_x1=$(x1);_x2=$(x2);_xMid=~~((_x1+_x2)/2);_y1=$(y1);_y2=$(y2);_yMid=~~((_y1+_y2)/2);for(_x=_xMid;_x>=_x1;--_x){for(_y=_yMid;_y>=_y1;--_y){result=tryLabel(_x,_y,maxSize,textWidth,textHeight);if(result){[d.x,d.y,maxSize,labelPlaced]=result}}}for(_x=_xMid;_x<=_x2;++_x){for(_y=_yMid;_y<=_y2;++_y){result=tryLabel(_x,_y,maxSize,textWidth,textHeight);if(result){[d.x,d.y,maxSize,labelPlaced]=result}}}if(!labelPlaced&&!avoidBaseMark){areaWidth=Math.abs(x2-x1+y2-y1);x=(x1+x2)/2;y=(y1+y2)/2;if(areaWidth>=maxAreaWidth&&!outOfBounds(x,y,textWidth,textHeight,width,height)&&!collision($,x,y,textHeight,textWidth,textHeight,bm0,null)){maxAreaWidth=areaWidth;d.x=x;d.y=y;labelPlaced2=true}}}if(labelPlaced||labelPlaced2){x=textWidth/2;y=textHeight/2;bm0.setRange($(d.x-x),$(d.y-y),$(d.x+x),$(d.y+y));d.align="center";d.baseline="middle";return true}else{return false}}}const X_DIR=[-1,-1,1,1];const Y_DIR=[-1,1,-1,1];function placeAreaLabelFloodFill($,bitmaps,avoidBaseMark,markIndex){const width=$.width,height=$.height,bm0=bitmaps[0],bm1=bitmaps[1],bm2=$.bitmap();return function(d){const items=d.datum.datum.items[markIndex].items,n=items.length,textHeight=d.datum.fontSize,textWidth=textMetrics.width(d.datum,d.datum.text),stack=[];let maxSize=avoidBaseMark?textHeight:0,labelPlaced=false,labelPlaced2=false,maxAreaWidth=0,x1,x2,y1,y2,x,y,_x,_y,lo,hi,mid,areaWidth;for(let i=0;i<n;++i){x1=items[i].x;y1=items[i].y;x2=items[i].x2===undefined?x1:items[i].x2;y2=items[i].y2===undefined?y1:items[i].y2;stack.push([$((x1+x2)/2),$((y1+y2)/2)]);while(stack.length){[_x,_y]=stack.pop();if(bm0.get(_x,_y)||bm1.get(_x,_y)||bm2.get(_x,_y))continue;bm2.set(_x,_y);for(let j=0;j<4;++j){x=_x+X_DIR[j];y=_y+Y_DIR[j];if(!bm2.outOfBounds(x,y,x,y))stack.push([x,y])}x=$.invert(_x);y=$.invert(_y);lo=maxSize;hi=height;if(!outOfBounds(x,y,textWidth,textHeight,width,height)&&!collision($,x,y,textHeight,textWidth,lo,bm0,bm1)&&!collision($,x,y,textHeight,textWidth,textHeight,bm0,null)){while(hi-lo>=1){mid=(lo+hi)/2;if(collision($,x,y,textHeight,textWidth,mid,bm0,bm1)){hi=mid}else{lo=mid}}if(lo>maxSize){d.x=x;d.y=y;maxSize=lo;labelPlaced=true}}}if(!labelPlaced&&!avoidBaseMark){areaWidth=Math.abs(x2-x1+y2-y1);x=(x1+x2)/2;y=(y1+y2)/2;if(areaWidth>=maxAreaWidth&&!outOfBounds(x,y,textWidth,textHeight,width,height)&&!collision($,x,y,textHeight,textWidth,textHeight,bm0,null)){maxAreaWidth=areaWidth;d.x=x;d.y=y;labelPlaced2=true}}}if(labelPlaced||labelPlaced2){x=textWidth/2;y=textHeight/2;bm0.setRange($(d.x-x),$(d.y-y),$(d.x+x),$(d.y+y));d.align="center";d.baseline="middle";return true}else{return false}}}const Aligns=["right","center","left"],Baselines=["bottom","middle","top"];function placeMarkLabel($,bitmaps,anchors,offsets){const width=$.width,height=$.height,bm0=bitmaps[0],bm1=bitmaps[1],n=offsets.length;return function(d){const boundary=d.boundary,textHeight=d.datum.fontSize;if(boundary[2]<0||boundary[5]<0||boundary[0]>width||boundary[3]>height){return false}let textWidth=d.textWidth??0,dx,dy,isInside,sizeFactor,insideFactor,x1,x2,y1,y2,xc,yc,_x1,_x2,_y1,_y2;for(let i=0;i<n;++i){dx=(anchors[i]&3)-1;dy=(anchors[i]>>>2&3)-1;isInside=dx===0&&dy===0||offsets[i]<0;sizeFactor=dx&&dy?Math.SQRT1_2:1;insideFactor=offsets[i]<0?-1:1;x1=boundary[1+dx]+offsets[i]*dx*sizeFactor;yc=boundary[4+dy]+insideFactor*textHeight*dy/2+offsets[i]*dy*sizeFactor;y1=yc-textHeight/2;y2=yc+textHeight/2;_x1=$(x1);_y1=$(y1);_y2=$(y2);if(!textWidth){if(!test(_x1,_x1,_y1,_y2,bm0,bm1,x1,x1,y1,y2,boundary,isInside)){continue}else{textWidth=textMetrics.width(d.datum,d.datum.text)}}xc=x1+insideFactor*textWidth*dx/2;x1=xc-textWidth/2;x2=xc+textWidth/2;_x1=$(x1);_x2=$(x2);if(test(_x1,_x2,_y1,_y2,bm0,bm1,x1,x2,y1,y2,boundary,isInside)){d.x=!dx?xc:dx*insideFactor<0?x2:x1;d.y=!dy?yc:dy*insideFactor<0?y2:y1;d.align=Aligns[dx*insideFactor+1];d.baseline=Baselines[dy*insideFactor+1];bm0.setRange(_x1,_y1,_x2,_y2);return true}}return false}}function test(_x1,_x2,_y1,_y2,bm0,bm1,x1,x2,y1,y2,boundary,isInside){return!(bm0.outOfBounds(_x1,_y1,_x2,_y2)||(isInside&&bm1||bm0).getRange(_x1,_y1,_x2,_y2))}const TOP=0,MIDDLE=4,BOTTOM=8,LEFT=0,CENTER=1,RIGHT=2;const anchorCode={"top-left":TOP+LEFT,top:TOP+CENTER,"top-right":TOP+RIGHT,left:MIDDLE+LEFT,middle:MIDDLE+CENTER,right:MIDDLE+RIGHT,"bottom-left":BOTTOM+LEFT,bottom:BOTTOM+CENTER,"bottom-right":BOTTOM+RIGHT};const placeAreaLabel={naive:placeAreaLabelNaive,"reduced-search":placeAreaLabelReducedSearch,floodfill:placeAreaLabelFloodFill};function labelLayout(texts,size,compare,offset,anchor,avoidMarks,avoidBaseMark,lineAnchor,markIndex,padding,method){if(!texts.length)return texts;const positions=Math.max(offset.length,anchor.length),offsets=getOffsets(offset,positions),anchors=getAnchors(anchor,positions),marktype=markType(texts[0].datum),grouptype=marktype==="group"&&texts[0].datum.items[markIndex].marktype,isGroupArea=grouptype==="area",boundary=markBoundary(marktype,grouptype,lineAnchor,markIndex),infPadding=padding===null||padding===Infinity,isNaiveGroupArea=isGroupArea&&method==="naive";let maxTextWidth=-1,maxTextHeight=-1;const data=texts.map(d=>{const textWidth=infPadding?textMetrics.width(d,d.text):undefined;maxTextWidth=Math.max(maxTextWidth,textWidth);maxTextHeight=Math.max(maxTextHeight,d.fontSize);return{datum:d,opacity:0,x:undefined,y:undefined,align:undefined,baseline:undefined,boundary:boundary(d),textWidth:textWidth}});padding=padding===null||padding===Infinity?Math.max(maxTextWidth,maxTextHeight)+Math.max(...offset):padding;const $=scaler(size[0],size[1],padding);let bitmaps;if(!isNaiveGroupArea){if(compare){data.sort((a,b)=>compare(a.datum,b.datum))}let labelInside=false;for(let i=0;i<anchors.length&&!labelInside;++i){labelInside=anchors[i]===5||offsets[i]<0}const baseMark=(marktype&&avoidBaseMark||isGroupArea)&&texts.map(d=>d.datum);bitmaps=avoidMarks.length||baseMark?markBitmaps($,baseMark||[],avoidMarks,labelInside,isGroupArea):baseBitmaps($,avoidBaseMark&&data)}const place=isGroupArea?placeAreaLabel[method]($,bitmaps,avoidBaseMark,markIndex):placeMarkLabel($,bitmaps,anchors,offsets);data.forEach(d=>d.opacity=+place(d));return data}function getOffsets(_,count){const offsets=new Float64Array(count),n=_.length;for(let i=0;i<n;++i)offsets[i]=_[i]||0;for(let i=n;i<count;++i)offsets[i]=offsets[n-1];return offsets}function getAnchors(_,count){const anchors=new Int8Array(count),n=_.length;for(let i=0;i<n;++i)anchors[i]|=anchorCode[_[i]];for(let i=n;i<count;++i)anchors[i]=anchors[n-1];return anchors}function markType(item){return item&&item.mark&&item.mark.marktype}function markBoundary(marktype,grouptype,lineAnchor,markIndex){const xy=d=>[d.x,d.x,d.x,d.y,d.y,d.y];if(!marktype){return xy}else if(marktype==="line"||marktype==="area"){return d=>xy(d.datum)}else if(grouptype==="line"){return d=>{const items=d.datum.items[markIndex].items;return xy(items.length?items[lineAnchor==="start"?0:items.length-1]:{x:NaN,y:NaN})}}else{return d=>{const b=d.datum.bounds;return[b.x1,(b.x1+b.x2)/2,b.x2,b.y1,(b.y1+b.y2)/2,b.y2]}}}const Output$1=["x","y","opacity","align","baseline"];const Anchors=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function Label$1(params){Transform.call(this,null,params)}Label$1.Definition={type:"Label",metadata:{modifies:true},params:[{name:"size",type:"number",array:true,length:2,required:true},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:true,default:Anchors},{name:"offset",type:"number",array:true,default:[1]},{name:"padding",type:"number",default:0,null:true},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:true},{name:"avoidMarks",type:"data",array:true},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:true,length:Output$1.length,default:Output$1}]};inherits(Label$1,Transform,{transform(_,pulse){function modp(param){const p=_[param];return isFunction(p)&&pulse.modified(p.fields)}const mod=_.modified();if(!(mod||pulse.changed(pulse.ADD_REM)||modp("sort")))return;if(!_.size||_.size.length!==2){error("Size parameter should be specified as a [width, height] array.")}const as=_.as||Output$1;labelLayout(pulse.materialize(pulse.SOURCE).source||[],_.size,_.sort,array$5(_.offset==null?1:_.offset),array$5(_.anchor||Anchors),_.avoidMarks||[],_.avoidBaseMark!==false,_.lineAnchor||"end",_.markIndex||0,_.padding===undefined?0:_.padding,_.method||"naive").forEach(l=>{const t=l.datum;t[as[0]]=l.x;t[as[1]]=l.y;t[as[2]]=l.opacity;t[as[3]]=l.align;t[as[4]]=l.baseline});return pulse.reflow(mod).modifies(as)}});var label=Object.freeze({__proto__:null,label:Label$1});function partition(data,groupby){var groups=[],get=function(f){return f(t)},map,i,n,t,k,g;if(groupby==null){groups.push(data)}else{for(map={},i=0,n=data.length;i<n;++i){t=data[i];k=groupby.map(get);g=map[k];if(!g){map[k]=g=[];g.dims=k;groups.push(g)}g.push(t)}}return groups}function Loess(params){Transform.call(this,null,params)}Loess.Definition={type:"Loess",metadata:{generates:true},params:[{name:"x",type:"field",required:true},{name:"y",type:"field",required:true},{name:"groupby",type:"field",array:true},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:true}]};inherits(Loess,Transform,{transform(_,pulse){const out=pulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS);if(!this.value||pulse.changed()||_.modified()){const source=pulse.materialize(pulse.SOURCE).source,groups=partition(source,_.groupby),names=(_.groupby||[]).map(accessorName),m=names.length,as=_.as||[accessorName(_.x),accessorName(_.y)],values=[];groups.forEach(g=>{loess(g,_.x,_.y,_.bandwidth||.3).forEach(p=>{const t={};for(let i=0;i<m;++i){t[names[i]]=g.dims[i]}t[as[0]]=p[0];t[as[1]]=p[1];values.push(ingest$1(t))})});if(this.value)out.rem=this.value;this.value=out.add=out.source=values}return out}});const Methods={linear:linear$2,log:log$3,exp:exp$1,pow:pow$3,quad:quad,poly:poly};const degreesOfFreedom=(method,order)=>method==="poly"?order:method==="quad"?2:1;function Regression(params){Transform.call(this,null,params)}Regression.Definition={type:"Regression",metadata:{generates:true},params:[{name:"x",type:"field",required:true},{name:"y",type:"field",required:true},{name:"groupby",type:"field",array:true},{name:"method",type:"string",default:"linear",values:Object.keys(Methods)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:true,length:2},{name:"params",type:"boolean",default:false},{name:"as",type:"string",array:true}]};inherits(Regression,Transform,{transform(_,pulse){const out=pulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS);if(!this.value||pulse.changed()||_.modified()){const source=pulse.materialize(pulse.SOURCE).source,groups=partition(source,_.groupby),names=(_.groupby||[]).map(accessorName),method=_.method||"linear",order=_.order||3,dof=degreesOfFreedom(method,order),as=_.as||[accessorName(_.x),accessorName(_.y)],fit=Methods[method],values=[];let domain=_.extent;if(!has$1(Methods,method)){error("Invalid regression method: "+method)}if(domain!=null){if(method==="log"&&domain[0]<=0){pulse.dataflow.warn("Ignoring extent with values <= 0 for log regression.");domain=null}}groups.forEach(g=>{const n=g.length;if(n<=dof){pulse.dataflow.warn("Skipping regression with more parameters than data points.");return}const model=fit(g,_.x,_.y,order);if(_.params){values.push(ingest$1({keys:g.dims,coef:model.coef,rSquared:model.rSquared}));return}const dom=domain||extent(g,_.x),add=p=>{const t={};for(let i=0;i<names.length;++i){t[names[i]]=g.dims[i]}t[as[0]]=p[0];t[as[1]]=p[1];values.push(ingest$1(t))};if(method==="linear"){dom.forEach(x=>add([x,model.predict(x)]))}else{sampleCurve(model.predict,dom,25,200).forEach(add)}});if(this.value)out.rem=this.value;this.value=out.add=out.source=values}return out}});var reg=Object.freeze({__proto__:null,loess:Loess,regression:Regression});const epsilon$1=11102230246251565e-32;const splitter=134217729;const resulterrbound=(3+8*epsilon$1)*epsilon$1;function sum(elen,e,flen,f,h){let Q,Qnew,hh,bvirt;let enow=e[0];let fnow=f[0];let eindex=0;let findex=0;if(fnow>enow===fnow>-enow){Q=enow;enow=e[++eindex]}else{Q=fnow;fnow=f[++findex]}let hindex=0;if(eindex<elen&&findex<flen){if(fnow>enow===fnow>-enow){Qnew=enow+Q;hh=Q-(Qnew-enow);enow=e[++eindex]}else{Qnew=fnow+Q;hh=Q-(Qnew-fnow);fnow=f[++findex]}Q=Qnew;if(hh!==0){h[hindex++]=hh}while(eindex<elen&&findex<flen){if(fnow>enow===fnow>-enow){Qnew=Q+enow;bvirt=Qnew-Q;hh=Q-(Qnew-bvirt)+(enow-bvirt);enow=e[++eindex]}else{Qnew=Q+fnow;bvirt=Qnew-Q;hh=Q-(Qnew-bvirt)+(fnow-bvirt);fnow=f[++findex]}Q=Qnew;if(hh!==0){h[hindex++]=hh}}}while(eindex<elen){Qnew=Q+enow;bvirt=Qnew-Q;hh=Q-(Qnew-bvirt)+(enow-bvirt);enow=e[++eindex];Q=Qnew;if(hh!==0){h[hindex++]=hh}}while(findex<flen){Qnew=Q+fnow;bvirt=Qnew-Q;hh=Q-(Qnew-bvirt)+(fnow-bvirt);fnow=f[++findex];Q=Qnew;if(hh!==0){h[hindex++]=hh}}if(Q!==0||hindex===0){h[hindex++]=Q}return hindex}function estimate(elen,e){let Q=e[0];for(let i=1;i<elen;i++)Q+=e[i];return Q}function vec(n){return new Float64Array(n)}const ccwerrboundA=(3+16*epsilon$1)*epsilon$1;const ccwerrboundB=(2+12*epsilon$1)*epsilon$1;const ccwerrboundC=(9+64*epsilon$1)*epsilon$1*epsilon$1;const B=vec(4);const C1=vec(8);const C2=vec(12);const D=vec(16);const u=vec(4);function orient2dadapt(ax,ay,bx,by,cx,cy,detsum){let acxtail,acytail,bcxtail,bcytail;let bvirt,c,ahi,alo,bhi,blo,_i,_j,_0,s1,s0,t1,t0,u3;const acx=ax-cx;const bcx=bx-cx;const acy=ay-cy;const bcy=by-cy;s1=acx*bcy;c=splitter*acx;ahi=c-(c-acx);alo=acx-ahi;c=splitter*bcy;bhi=c-(c-bcy);blo=bcy-bhi;s0=alo*blo-(s1-ahi*bhi-alo*bhi-ahi*blo);t1=acy*bcx;c=splitter*acy;ahi=c-(c-acy);alo=acy-ahi;c=splitter*bcx;bhi=c-(c-bcx);blo=bcx-bhi;t0=alo*blo-(t1-ahi*bhi-alo*bhi-ahi*blo);_i=s0-t0;bvirt=s0-_i;B[0]=s0-(_i+bvirt)+(bvirt-t0);_j=s1+_i;bvirt=_j-s1;_0=s1-(_j-bvirt)+(_i-bvirt);_i=_0-t1;bvirt=_0-_i;B[1]=_0-(_i+bvirt)+(bvirt-t1);u3=_j+_i;bvirt=u3-_j;B[2]=_j-(u3-bvirt)+(_i-bvirt);B[3]=u3;let det=estimate(4,B);let errbound=ccwerrboundB*detsum;if(det>=errbound||-det>=errbound){return det}bvirt=ax-acx;acxtail=ax-(acx+bvirt)+(bvirt-cx);bvirt=bx-bcx;bcxtail=bx-(bcx+bvirt)+(bvirt-cx);bvirt=ay-acy;acytail=ay-(acy+bvirt)+(bvirt-cy);bvirt=by-bcy;bcytail=by-(bcy+bvirt)+(bvirt-cy);if(acxtail===0&&acytail===0&&bcxtail===0&&bcytail===0){return det}errbound=ccwerrboundC*detsum+resulterrbound*Math.abs(det);det+=acx*bcytail+bcy*acxtail-(acy*bcxtail+bcx*acytail);if(det>=errbound||-det>=errbound)return det;s1=acxtail*bcy;c=splitter*acxtail;ahi=c-(c-acxtail);alo=acxtail-ahi;c=splitter*bcy;bhi=c-(c-bcy);blo=bcy-bhi;s0=alo*blo-(s1-ahi*bhi-alo*bhi-ahi*blo);t1=acytail*bcx;c=splitter*acytail;ahi=c-(c-acytail);alo=acytail-ahi;c=splitter*bcx;bhi=c-(c-bcx);blo=bcx-bhi;t0=alo*blo-(t1-ahi*bhi-alo*bhi-ahi*blo);_i=s0-t0;bvirt=s0-_i;u[0]=s0-(_i+bvirt)+(bvirt-t0);_j=s1+_i;bvirt=_j-s1;_0=s1-(_j-bvirt)+(_i-bvirt);_i=_0-t1;bvirt=_0-_i;u[1]=_0-(_i+bvirt)+(bvirt-t1);u3=_j+_i;bvirt=u3-_j;u[2]=_j-(u3-bvirt)+(_i-bvirt);u[3]=u3;const C1len=sum(4,B,4,u,C1);s1=acx*bcytail;c=splitter*acx;ahi=c-(c-acx);alo=acx-ahi;c=splitter*bcytail;bhi=c-(c-bcytail);blo=bcytail-bhi;s0=alo*blo-(s1-ahi*bhi-alo*bhi-ahi*blo);t1=acy*bcxtail;c=splitter*acy;ahi=c-(c-acy);alo=acy-ahi;c=splitter*bcxtail;bhi=c-(c-bcxtail);blo=bcxtail-bhi;t0=alo*blo-(t1-ahi*bhi-alo*bhi-ahi*blo);_i=s0-t0;bvirt=s0-_i;u[0]=s0-(_i+bvirt)+(bvirt-t0);_j=s1+_i;bvirt=_j-s1;_0=s1-(_j-bvirt)+(_i-bvirt);_i=_0-t1;bvirt=_0-_i;u[1]=_0-(_i+bvirt)+(bvirt-t1);u3=_j+_i;bvirt=u3-_j;u[2]=_j-(u3-bvirt)+(_i-bvirt);u[3]=u3;const C2len=sum(C1len,C1,4,u,C2);s1=acxtail*bcytail;c=splitter*acxtail;ahi=c-(c-acxtail);alo=acxtail-ahi;c=splitter*bcytail;bhi=c-(c-bcytail);blo=bcytail-bhi;s0=alo*blo-(s1-ahi*bhi-alo*bhi-ahi*blo);t1=acytail*bcxtail;c=splitter*acytail;ahi=c-(c-acytail);alo=acytail-ahi;c=splitter*bcxtail;bhi=c-(c-bcxtail);blo=bcxtail-bhi;t0=alo*blo-(t1-ahi*bhi-alo*bhi-ahi*blo);_i=s0-t0;bvirt=s0-_i;u[0]=s0-(_i+bvirt)+(bvirt-t0);_j=s1+_i;bvirt=_j-s1;_0=s1-(_j-bvirt)+(_i-bvirt);_i=_0-t1;bvirt=_0-_i;u[1]=_0-(_i+bvirt)+(bvirt-t1);u3=_j+_i;bvirt=u3-_j;u[2]=_j-(u3-bvirt)+(_i-bvirt);u[3]=u3;const Dlen=sum(C2len,C2,4,u,D);return D[Dlen-1]}function orient2d(ax,ay,bx,by,cx,cy){const detleft=(ay-cy)*(bx-cx);const detright=(ax-cx)*(by-cy);const det=detleft-detright;if(detleft===0||detright===0||detleft>0!==detright>0)return det;const detsum=Math.abs(detleft+detright);if(Math.abs(det)>=ccwerrboundA*detsum)return det;return-orient2dadapt(ax,ay,bx,by,cx,cy,detsum)}const EPSILON=Math.pow(2,-52);const EDGE_STACK=new Uint32Array(512);class Delaunator{static from(points){let getX=arguments.length>1&&arguments[1]!==undefined?arguments[1]:defaultGetX;let getY=arguments.length>2&&arguments[2]!==undefined?arguments[2]:defaultGetY;const n=points.length;const coords=new Float64Array(n*2);for(let i=0;i<n;i++){const p=points[i];coords[2*i]=getX(p);coords[2*i+1]=getY(p)}return new Delaunator(coords)}constructor(coords){const n=coords.length>>1;if(n>0&&typeof coords[0]!=="number")throw new Error("Expected coords to contain numbers.");this.coords=coords;const maxTriangles=Math.max(2*n-5,0);this._triangles=new Uint32Array(maxTriangles*3);this._halfedges=new Int32Array(maxTriangles*3);this._hashSize=Math.ceil(Math.sqrt(n));this._hullPrev=new Uint32Array(n);this._hullNext=new Uint32Array(n);this._hullTri=new Uint32Array(n);this._hullHash=new Int32Array(this._hashSize).fill(-1);this._ids=new Uint32Array(n);this._dists=new Float64Array(n);this.update()}update(){const{coords:coords,_hullPrev:hullPrev,_hullNext:hullNext,_hullTri:hullTri,_hullHash:hullHash}=this;const n=coords.length>>1;let minX=Infinity;let minY=Infinity;let maxX=-Infinity;let maxY=-Infinity;for(let i=0;i<n;i++){const x=coords[2*i];const y=coords[2*i+1];if(x<minX)minX=x;if(y<minY)minY=y;if(x>maxX)maxX=x;if(y>maxY)maxY=y;this._ids[i]=i}const cx=(minX+maxX)/2;const cy=(minY+maxY)/2;let minDist=Infinity;let i0,i1,i2;for(let i=0;i<n;i++){const d=dist(cx,cy,coords[2*i],coords[2*i+1]);if(d<minDist){i0=i;minDist=d}}const i0x=coords[2*i0];const i0y=coords[2*i0+1];minDist=Infinity;for(let i=0;i<n;i++){if(i===i0)continue;const d=dist(i0x,i0y,coords[2*i],coords[2*i+1]);if(d<minDist&&d>0){i1=i;minDist=d}}let i1x=coords[2*i1];let i1y=coords[2*i1+1];let minRadius=Infinity;for(let i=0;i<n;i++){if(i===i0||i===i1)continue;const r=circumradius(i0x,i0y,i1x,i1y,coords[2*i],coords[2*i+1]);if(r<minRadius){i2=i;minRadius=r}}let i2x=coords[2*i2];let i2y=coords[2*i2+1];if(minRadius===Infinity){for(let i=0;i<n;i++){this._dists[i]=coords[2*i]-coords[0]||coords[2*i+1]-coords[1]}quicksort(this._ids,this._dists,0,n-1);const hull=new Uint32Array(n);let j=0;for(let i=0,d0=-Infinity;i<n;i++){const id=this._ids[i];if(this._dists[id]>d0){hull[j++]=id;d0=this._dists[id]}}this.hull=hull.subarray(0,j);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0);return}if(orient2d(i0x,i0y,i1x,i1y,i2x,i2y)<0){const i=i1;const x=i1x;const y=i1y;i1=i2;i1x=i2x;i1y=i2y;i2=i;i2x=x;i2y=y}const center=circumcenter(i0x,i0y,i1x,i1y,i2x,i2y);this._cx=center.x;this._cy=center.y;for(let i=0;i<n;i++){this._dists[i]=dist(coords[2*i],coords[2*i+1],center.x,center.y)}quicksort(this._ids,this._dists,0,n-1);this._hullStart=i0;let hullSize=3;hullNext[i0]=hullPrev[i2]=i1;hullNext[i1]=hullPrev[i0]=i2;hullNext[i2]=hullPrev[i1]=i0;hullTri[i0]=0;hullTri[i1]=1;hullTri[i2]=2;hullHash.fill(-1);hullHash[this._hashKey(i0x,i0y)]=i0;hullHash[this._hashKey(i1x,i1y)]=i1;hullHash[this._hashKey(i2x,i2y)]=i2;this.trianglesLen=0;this._addTriangle(i0,i1,i2,-1,-1,-1);for(let k=0,xp,yp;k<this._ids.length;k++){const i=this._ids[k];const x=coords[2*i];const y=coords[2*i+1];if(k>0&&Math.abs(x-xp)<=EPSILON&&Math.abs(y-yp)<=EPSILON)continue;xp=x;yp=y;if(i===i0||i===i1||i===i2)continue;let start=0;for(let j=0,key=this._hashKey(x,y);j<this._hashSize;j++){start=hullHash[(key+j)%this._hashSize];if(start!==-1&&start!==hullNext[start])break}start=hullPrev[start];let e=start,q;while(q=hullNext[e],orient2d(x,y,coords[2*e],coords[2*e+1],coords[2*q],coords[2*q+1])>=0){e=q;if(e===start){e=-1;break}}if(e===-1)continue;let t=this._addTriangle(e,i,hullNext[e],-1,-1,hullTri[e]);hullTri[i]=this._legalize(t+2);hullTri[e]=t;hullSize++;let n=hullNext[e];while(q=hullNext[n],orient2d(x,y,coords[2*n],coords[2*n+1],coords[2*q],coords[2*q+1])<0){t=this._addTriangle(n,i,q,hullTri[i],-1,hullTri[n]);hullTri[i]=this._legalize(t+2);hullNext[n]=n;hullSize--;n=q}if(e===start){while(q=hullPrev[e],orient2d(x,y,coords[2*q],coords[2*q+1],coords[2*e],coords[2*e+1])<0){t=this._addTriangle(q,i,e,-1,hullTri[e],hullTri[q]);this._legalize(t+2);hullTri[q]=t;hullNext[e]=e;hullSize--;e=q}}this._hullStart=hullPrev[i]=e;hullNext[e]=hullPrev[n]=i;hullNext[i]=n;hullHash[this._hashKey(x,y)]=i;hullHash[this._hashKey(coords[2*e],coords[2*e+1])]=e}this.hull=new Uint32Array(hullSize);for(let i=0,e=this._hullStart;i<hullSize;i++){this.hull[i]=e;e=hullNext[e]}this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(x,y){return Math.floor(pseudoAngle(x-this._cx,y-this._cy)*this._hashSize)%this._hashSize}_legalize(a){const{_triangles:triangles,_halfedges:halfedges,coords:coords}=this;let i=0;let ar=0;while(true){const b=halfedges[a];const a0=a-a%3;ar=a0+(a+2)%3;if(b===-1){if(i===0)break;a=EDGE_STACK[--i];continue}const b0=b-b%3;const al=a0+(a+1)%3;const bl=b0+(b+2)%3;const p0=triangles[ar];const pr=triangles[a];const pl=triangles[al];const p1=triangles[bl];const illegal=inCircle(coords[2*p0],coords[2*p0+1],coords[2*pr],coords[2*pr+1],coords[2*pl],coords[2*pl+1],coords[2*p1],coords[2*p1+1]);if(illegal){triangles[a]=p1;triangles[b]=p0;const hbl=halfedges[bl];if(hbl===-1){let e=this._hullStart;do{if(this._hullTri[e]===bl){this._hullTri[e]=a;break}e=this._hullPrev[e]}while(e!==this._hullStart)}this._link(a,hbl);this._link(b,halfedges[ar]);this._link(ar,bl);const br=b0+(b+1)%3;if(i<EDGE_STACK.length){EDGE_STACK[i++]=br}}else{if(i===0)break;a=EDGE_STACK[--i]}}return ar}_link(a,b){this._halfedges[a]=b;if(b!==-1)this._halfedges[b]=a}_addTriangle(i0,i1,i2,a,b,c){const t=this.trianglesLen;this._triangles[t]=i0;this._triangles[t+1]=i1;this._triangles[t+2]=i2;this._link(t,a);this._link(t+1,b);this._link(t+2,c);this.trianglesLen+=3;return t}}function pseudoAngle(dx,dy){const p=dx/(Math.abs(dx)+Math.abs(dy));return(dy>0?3-p:1+p)/4}function dist(ax,ay,bx,by){const dx=ax-bx;const dy=ay-by;return dx*dx+dy*dy}function inCircle(ax,ay,bx,by,cx,cy,px,py){const dx=ax-px;const dy=ay-py;const ex=bx-px;const ey=by-py;const fx=cx-px;const fy=cy-py;const ap=dx*dx+dy*dy;const bp=ex*ex+ey*ey;const cp=fx*fx+fy*fy;return dx*(ey*cp-bp*fy)-dy*(ex*cp-bp*fx)+ap*(ex*fy-ey*fx)<0}function circumradius(ax,ay,bx,by,cx,cy){const dx=bx-ax;const dy=by-ay;const ex=cx-ax;const ey=cy-ay;const bl=dx*dx+dy*dy;const cl=ex*ex+ey*ey;const d=.5/(dx*ey-dy*ex);const x=(ey*bl-dy*cl)*d;const y=(dx*cl-ex*bl)*d;return x*x+y*y}function circumcenter(ax,ay,bx,by,cx,cy){const dx=bx-ax;const dy=by-ay;const ex=cx-ax;const ey=cy-ay;const bl=dx*dx+dy*dy;const cl=ex*ex+ey*ey;const d=.5/(dx*ey-dy*ex);const x=ax+(ey*bl-dy*cl)*d;const y=ay+(dx*cl-ex*bl)*d;return{x:x,y:y}}function quicksort(ids,dists,left,right){if(right-left<=20){for(let i=left+1;i<=right;i++){const temp=ids[i];const tempDist=dists[temp];let j=i-1;while(j>=left&&dists[ids[j]]>tempDist)ids[j+1]=ids[j--];ids[j+1]=temp}}else{const median=left+right>>1;let i=left+1;let j=right;swap(ids,median,i);if(dists[ids[left]]>dists[ids[right]])swap(ids,left,right);if(dists[ids[i]]>dists[ids[right]])swap(ids,i,right);if(dists[ids[left]]>dists[ids[i]])swap(ids,left,i);const temp=ids[i];const tempDist=dists[temp];while(true){do{i++}while(dists[ids[i]]<tempDist);do{j--}while(dists[ids[j]]>tempDist);if(j<i)break;swap(ids,i,j)}ids[left+1]=ids[j];ids[j]=temp;if(right-i+1>=j-left){quicksort(ids,dists,i,right);quicksort(ids,dists,left,j-1)}else{quicksort(ids,dists,left,j-1);quicksort(ids,dists,i,right)}}}function swap(arr,i,j){const tmp=arr[i];arr[i]=arr[j];arr[j]=tmp}function defaultGetX(p){return p[0]}function defaultGetY(p){return p[1]}const epsilon=1e-6;class Path{constructor(){this._x0=this._y0=this._x1=this._y1=null;this._=""}moveTo(x,y){this._+=`M${this._x0=this._x1=+x},${this._y0=this._y1=+y}`}closePath(){if(this._x1!==null){this._x1=this._x0,this._y1=this._y0;this._+="Z"}}lineTo(x,y){this._+=`L${this._x1=+x},${this._y1=+y}`}arc(x,y,r){x=+x,y=+y,r=+r;const x0=x+r;const y0=y;if(r<0)throw new Error("negative radius");if(this._x1===null)this._+=`M${x0},${y0}`;else if(Math.abs(this._x1-x0)>epsilon||Math.abs(this._y1-y0)>epsilon)this._+="L"+x0+","+y0;if(!r)return;this._+=`A${r},${r},0,1,1,${x-r},${y}A${r},${r},0,1,1,${this._x1=x0},${this._y1=y0}`}rect(x,y,w,h){this._+=`M${this._x0=this._x1=+x},${this._y0=this._y1=+y}h${+w}v${+h}h${-w}Z`}value(){return this._||null}}class Polygon{constructor(){this._=[]}moveTo(x,y){this._.push([x,y])}closePath(){this._.push(this._[0].slice())}lineTo(x,y){this._.push([x,y])}value(){return this._.length?this._:null}}let Voronoi$1=class Voronoi{constructor(delaunay){let[xmin,ymin,xmax,ymax]=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[0,0,960,500];if(!((xmax=+xmax)>=(xmin=+xmin))||!((ymax=+ymax)>=(ymin=+ymin)))throw new Error("invalid bounds");this.delaunay=delaunay;this._circumcenters=new Float64Array(delaunay.points.length*2);this.vectors=new Float64Array(delaunay.points.length*2);this.xmax=xmax,this.xmin=xmin;this.ymax=ymax,this.ymin=ymin;this._init()}update(){this.delaunay.update();this._init();return this}_init(){const{delaunay:{points:points,hull:hull,triangles:triangles},vectors:vectors}=this;const circumcenters=this.circumcenters=this._circumcenters.subarray(0,triangles.length/3*2);for(let i=0,j=0,n=triangles.length,x,y;i<n;i+=3,j+=2){const t1=triangles[i]*2;const t2=triangles[i+1]*2;const t3=triangles[i+2]*2;const x1=points[t1];const y1=points[t1+1];const x2=points[t2];const y2=points[t2+1];const x3=points[t3];const y3=points[t3+1];const dx=x2-x1;const dy=y2-y1;const ex=x3-x1;const ey=y3-y1;const ab=(dx*ey-dy*ex)*2;if(Math.abs(ab)<1e-9){let a=1e9;const r=triangles[0]*2;a*=Math.sign((points[r]-x1)*ey-(points[r+1]-y1)*ex);x=(x1+x3)/2-a*ey;y=(y1+y3)/2+a*ex}else{const d=1/ab;const bl=dx*dx+dy*dy;const cl=ex*ex+ey*ey;x=x1+(ey*bl-dy*cl)*d;y=y1+(dx*cl-ex*bl)*d}circumcenters[j]=x;circumcenters[j+1]=y}let h=hull[hull.length-1];let p0,p1=h*4;let x0,x1=points[2*h];let y0,y1=points[2*h+1];vectors.fill(0);for(let i=0;i<hull.length;++i){h=hull[i];p0=p1,x0=x1,y0=y1;p1=h*4,x1=points[2*h],y1=points[2*h+1];vectors[p0+2]=vectors[p1]=y0-y1;vectors[p0+3]=vectors[p1+1]=x1-x0}}render(context){const buffer=context==null?context=new Path:undefined;const{delaunay:{halfedges:halfedges,inedges:inedges,hull:hull},circumcenters:circumcenters,vectors:vectors}=this;if(hull.length<=1)return null;for(let i=0,n=halfedges.length;i<n;++i){const j=halfedges[i];if(j<i)continue;const ti=Math.floor(i/3)*2;const tj=Math.floor(j/3)*2;const xi=circumcenters[ti];const yi=circumcenters[ti+1];const xj=circumcenters[tj];const yj=circumcenters[tj+1];this._renderSegment(xi,yi,xj,yj,context)}let h0,h1=hull[hull.length-1];for(let i=0;i<hull.length;++i){h0=h1,h1=hull[i];const t=Math.floor(inedges[h1]/3)*2;const x=circumcenters[t];const y=circumcenters[t+1];const v=h0*4;const p=this._project(x,y,vectors[v+2],vectors[v+3]);if(p)this._renderSegment(x,y,p[0],p[1],context)}return buffer&&buffer.value()}renderBounds(context){const buffer=context==null?context=new Path:undefined;context.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return buffer&&buffer.value()}renderCell(i,context){const buffer=context==null?context=new Path:undefined;const points=this._clip(i);if(points===null||!points.length)return;context.moveTo(points[0],points[1]);let n=points.length;while(points[0]===points[n-2]&&points[1]===points[n-1]&&n>1)n-=2;for(let i=2;i<n;i+=2){if(points[i]!==points[i-2]||points[i+1]!==points[i-1])context.lineTo(points[i],points[i+1])}context.closePath();return buffer&&buffer.value()}*cellPolygons(){const{delaunay:{points:points}}=this;for(let i=0,n=points.length/2;i<n;++i){const cell=this.cellPolygon(i);if(cell)cell.index=i,yield cell}}cellPolygon(i){const polygon=new Polygon;this.renderCell(i,polygon);return polygon.value()}_renderSegment(x0,y0,x1,y1,context){let S;const c0=this._regioncode(x0,y0);const c1=this._regioncode(x1,y1);if(c0===0&&c1===0){context.moveTo(x0,y0);context.lineTo(x1,y1)}else if(S=this._clipSegment(x0,y0,x1,y1,c0,c1)){context.moveTo(S[0],S[1]);context.lineTo(S[2],S[3])}}contains(i,x,y){if((x=+x,x!==x)||(y=+y,y!==y))return false;return this.delaunay._step(i,x,y)===i}*neighbors(i){const ci=this._clip(i);if(ci)for(const j of this.delaunay.neighbors(i)){const cj=this._clip(j);if(cj)loop:for(let ai=0,li=ci.length;ai<li;ai+=2){for(let aj=0,lj=cj.length;aj<lj;aj+=2){if(ci[ai]==cj[aj]&&ci[ai+1]==cj[aj+1]&&ci[(ai+2)%li]==cj[(aj+lj-2)%lj]&&ci[(ai+3)%li]==cj[(aj+lj-1)%lj]){yield j;break loop}}}}}_cell(i){const{circumcenters:circumcenters,delaunay:{inedges:inedges,halfedges:halfedges,triangles:triangles}}=this;const e0=inedges[i];if(e0===-1)return null;const points=[];let e=e0;do{const t=Math.floor(e/3);points.push(circumcenters[t*2],circumcenters[t*2+1]);e=e%3===2?e-2:e+1;if(triangles[e]!==i)break;e=halfedges[e]}while(e!==e0&&e!==-1);return points}_clip(i){if(i===0&&this.delaunay.hull.length===1){return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin]}const points=this._cell(i);if(points===null)return null;const{vectors:V}=this;const v=i*4;return V[v]||V[v+1]?this._clipInfinite(i,points,V[v],V[v+1],V[v+2],V[v+3]):this._clipFinite(i,points)}_clipFinite(i,points){const n=points.length;let P=null;let x0,y0,x1=points[n-2],y1=points[n-1];let c0,c1=this._regioncode(x1,y1);let e0,e1=0;for(let j=0;j<n;j+=2){x0=x1,y0=y1,x1=points[j],y1=points[j+1];c0=c1,c1=this._regioncode(x1,y1);if(c0===0&&c1===0){e0=e1,e1=0;if(P)P.push(x1,y1);else P=[x1,y1]}else{let S,sx0,sy0,sx1,sy1;if(c0===0){if((S=this._clipSegment(x0,y0,x1,y1,c0,c1))===null)continue;[sx0,sy0,sx1,sy1]=S}else{if((S=this._clipSegment(x1,y1,x0,y0,c1,c0))===null)continue;[sx1,sy1,sx0,sy0]=S;e0=e1,e1=this._edgecode(sx0,sy0);if(e0&&e1)this._edge(i,e0,e1,P,P.length);if(P)P.push(sx0,sy0);else P=[sx0,sy0]}e0=e1,e1=this._edgecode(sx1,sy1);if(e0&&e1)this._edge(i,e0,e1,P,P.length);if(P)P.push(sx1,sy1);else P=[sx1,sy1]}}if(P){e0=e1,e1=this._edgecode(P[0],P[1]);if(e0&&e1)this._edge(i,e0,e1,P,P.length)}else if(this.contains(i,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)){return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin]}return P}_clipSegment(x0,y0,x1,y1,c0,c1){while(true){if(c0===0&&c1===0)return[x0,y0,x1,y1];if(c0&c1)return null;let x,y,c=c0||c1;if(c&8)x=x0+(x1-x0)*(this.ymax-y0)/(y1-y0),y=this.ymax;else if(c&4)x=x0+(x1-x0)*(this.ymin-y0)/(y1-y0),y=this.ymin;else if(c&2)y=y0+(y1-y0)*(this.xmax-x0)/(x1-x0),x=this.xmax;else y=y0+(y1-y0)*(this.xmin-x0)/(x1-x0),x=this.xmin;if(c0)x0=x,y0=y,c0=this._regioncode(x0,y0);else x1=x,y1=y,c1=this._regioncode(x1,y1)}}_clipInfinite(i,points,vx0,vy0,vxn,vyn){let P=Array.from(points),p;if(p=this._project(P[0],P[1],vx0,vy0))P.unshift(p[0],p[1]);if(p=this._project(P[P.length-2],P[P.length-1],vxn,vyn))P.push(p[0],p[1]);if(P=this._clipFinite(i,P)){for(let j=0,n=P.length,c0,c1=this._edgecode(P[n-2],P[n-1]);j<n;j+=2){c0=c1,c1=this._edgecode(P[j],P[j+1]);if(c0&&c1)j=this._edge(i,c0,c1,P,j),n=P.length}}else if(this.contains(i,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)){P=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]}return P}_edge(i,e0,e1,P,j){while(e0!==e1){let x,y;switch(e0){case 5:e0=4;continue;case 4:e0=6,x=this.xmax,y=this.ymin;break;case 6:e0=2;continue;case 2:e0=10,x=this.xmax,y=this.ymax;break;case 10:e0=8;continue;case 8:e0=9,x=this.xmin,y=this.ymax;break;case 9:e0=1;continue;case 1:e0=5,x=this.xmin,y=this.ymin;break}if((P[j]!==x||P[j+1]!==y)&&this.contains(i,x,y)){P.splice(j,0,x,y),j+=2}}if(P.length>4){for(let i=0;i<P.length;i+=2){const j=(i+2)%P.length,k=(i+4)%P.length;if(P[i]===P[j]&&P[j]===P[k]||P[i+1]===P[j+1]&&P[j+1]===P[k+1])P.splice(j,2),i-=2}}return j}_project(x0,y0,vx,vy){let t=Infinity,c,x,y;if(vy<0){if(y0<=this.ymin)return null;if((c=(this.ymin-y0)/vy)<t)y=this.ymin,x=x0+(t=c)*vx}else if(vy>0){if(y0>=this.ymax)return null;if((c=(this.ymax-y0)/vy)<t)y=this.ymax,x=x0+(t=c)*vx}if(vx>0){if(x0>=this.xmax)return null;if((c=(this.xmax-x0)/vx)<t)x=this.xmax,y=y0+(t=c)*vy}else if(vx<0){if(x0<=this.xmin)return null;if((c=(this.xmin-x0)/vx)<t)x=this.xmin,y=y0+(t=c)*vy}return[x,y]}_edgecode(x,y){return(x===this.xmin?1:x===this.xmax?2:0)|(y===this.ymin?4:y===this.ymax?8:0)}_regioncode(x,y){return(x<this.xmin?1:x>this.xmax?2:0)|(y<this.ymin?4:y>this.ymax?8:0)}};const tau=2*Math.PI,pow=Math.pow;function pointX(p){return p[0]}function pointY(p){return p[1]}function collinear(d){const{triangles:triangles,coords:coords}=d;for(let i=0;i<triangles.length;i+=3){const a=2*triangles[i],b=2*triangles[i+1],c=2*triangles[i+2],cross=(coords[c]-coords[a])*(coords[b+1]-coords[a+1])-(coords[b]-coords[a])*(coords[c+1]-coords[a+1]);if(cross>1e-10)return false}return true}function jitter(x,y,r){return[x+Math.sin(x+y)*r,y+Math.cos(x-y)*r]}class Delaunay{static from(points){let fx=arguments.length>1&&arguments[1]!==undefined?arguments[1]:pointX;let fy=arguments.length>2&&arguments[2]!==undefined?arguments[2]:pointY;let that=arguments.length>3?arguments[3]:undefined;return new Delaunay("length"in points?flatArray(points,fx,fy,that):Float64Array.from(flatIterable(points,fx,fy,that)))}constructor(points){this._delaunator=new Delaunator(points);this.inedges=new Int32Array(points.length/2);this._hullIndex=new Int32Array(points.length/2);this.points=this._delaunator.coords;this._init()}update(){this._delaunator.update();this._init();return this}_init(){const d=this._delaunator,points=this.points;if(d.hull&&d.hull.length>2&&collinear(d)){this.collinear=Int32Array.from({length:points.length/2},(_,i)=>i).sort((i,j)=>points[2*i]-points[2*j]||points[2*i+1]-points[2*j+1]);const e=this.collinear[0],f=this.collinear[this.collinear.length-1],bounds=[points[2*e],points[2*e+1],points[2*f],points[2*f+1]],r=1e-8*Math.hypot(bounds[3]-bounds[1],bounds[2]-bounds[0]);for(let i=0,n=points.length/2;i<n;++i){const p=jitter(points[2*i],points[2*i+1],r);points[2*i]=p[0];points[2*i+1]=p[1]}this._delaunator=new Delaunator(points)}else{delete this.collinear}const halfedges=this.halfedges=this._delaunator.halfedges;const hull=this.hull=this._delaunator.hull;const triangles=this.triangles=this._delaunator.triangles;const inedges=this.inedges.fill(-1);const hullIndex=this._hullIndex.fill(-1);for(let e=0,n=halfedges.length;e<n;++e){const p=triangles[e%3===2?e-2:e+1];if(halfedges[e]===-1||inedges[p]===-1)inedges[p]=e}for(let i=0,n=hull.length;i<n;++i){hullIndex[hull[i]]=i}if(hull.length<=2&&hull.length>0){this.triangles=new Int32Array(3).fill(-1);this.halfedges=new Int32Array(3).fill(-1);this.triangles[0]=hull[0];inedges[hull[0]]=1;if(hull.length===2){inedges[hull[1]]=0;this.triangles[1]=hull[1];this.triangles[2]=hull[1]}}}voronoi(bounds){return new Voronoi$1(this,bounds)}*neighbors(i){const{inedges:inedges,hull:hull,_hullIndex:_hullIndex,halfedges:halfedges,triangles:triangles,collinear:collinear}=this;if(collinear){const l=collinear.indexOf(i);if(l>0)yield collinear[l-1];if(l<collinear.length-1)yield collinear[l+1];return}const e0=inedges[i];if(e0===-1)return;let e=e0,p0=-1;do{yield p0=triangles[e];e=e%3===2?e-2:e+1;if(triangles[e]!==i)return;e=halfedges[e];if(e===-1){const p=hull[(_hullIndex[i]+1)%hull.length];if(p!==p0)yield p;return}}while(e!==e0)}find(x,y){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;if((x=+x,x!==x)||(y=+y,y!==y))return-1;const i0=i;let c;while((c=this._step(i,x,y))>=0&&c!==i&&c!==i0)i=c;return c}_step(i,x,y){const{inedges:inedges,hull:hull,_hullIndex:_hullIndex,halfedges:halfedges,triangles:triangles,points:points}=this;if(inedges[i]===-1||!points.length)return(i+1)%(points.length>>1);let c=i;let dc=pow(x-points[i*2],2)+pow(y-points[i*2+1],2);const e0=inedges[i];let e=e0;do{let t=triangles[e];const dt=pow(x-points[t*2],2)+pow(y-points[t*2+1],2);if(dt<dc)dc=dt,c=t;e=e%3===2?e-2:e+1;if(triangles[e]!==i)break;e=halfedges[e];if(e===-1){e=hull[(_hullIndex[i]+1)%hull.length];if(e!==t){if(pow(x-points[e*2],2)+pow(y-points[e*2+1],2)<dc)return e}break}}while(e!==e0);return c}render(context){const buffer=context==null?context=new Path:undefined;const{points:points,halfedges:halfedges,triangles:triangles}=this;for(let i=0,n=halfedges.length;i<n;++i){const j=halfedges[i];if(j<i)continue;const ti=triangles[i]*2;const tj=triangles[j]*2;context.moveTo(points[ti],points[ti+1]);context.lineTo(points[tj],points[tj+1])}this.renderHull(context);return buffer&&buffer.value()}renderPoints(context,r){if(r===undefined&&(!context||typeof context.moveTo!=="function"))r=context,context=null;r=r==undefined?2:+r;const buffer=context==null?context=new Path:undefined;const{points:points}=this;for(let i=0,n=points.length;i<n;i+=2){const x=points[i],y=points[i+1];context.moveTo(x+r,y);context.arc(x,y,r,0,tau)}return buffer&&buffer.value()}renderHull(context){const buffer=context==null?context=new Path:undefined;const{hull:hull,points:points}=this;const h=hull[0]*2,n=hull.length;context.moveTo(points[h],points[h+1]);for(let i=1;i<n;++i){const h=2*hull[i];context.lineTo(points[h],points[h+1])}context.closePath();return buffer&&buffer.value()}hullPolygon(){const polygon=new Polygon;this.renderHull(polygon);return polygon.value()}renderTriangle(i,context){const buffer=context==null?context=new Path:undefined;const{points:points,triangles:triangles}=this;const t0=triangles[i*=3]*2;const t1=triangles[i+1]*2;const t2=triangles[i+2]*2;context.moveTo(points[t0],points[t0+1]);context.lineTo(points[t1],points[t1+1]);context.lineTo(points[t2],points[t2+1]);context.closePath();return buffer&&buffer.value()}*trianglePolygons(){const{triangles:triangles}=this;for(let i=0,n=triangles.length/3;i<n;++i){yield this.trianglePolygon(i)}}trianglePolygon(i){const polygon=new Polygon;this.renderTriangle(i,polygon);return polygon.value()}}function flatArray(points,fx,fy,that){const n=points.length;const array=new Float64Array(n*2);for(let i=0;i<n;++i){const p=points[i];array[i*2]=fx.call(that,p,i,points);array[i*2+1]=fy.call(that,p,i,points)}return array}function*flatIterable(points,fx,fy,that){let i=0;for(const p of points){yield fx.call(that,p,i,points);yield fy.call(that,p,i,points);++i}}function Voronoi(params){Transform.call(this,null,params)}Voronoi.Definition={type:"Voronoi",metadata:{modifies:true},params:[{name:"x",type:"field",required:true},{name:"y",type:"field",required:true},{name:"size",type:"number",array:true,length:2},{name:"extent",type:"array",array:true,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:true,length:2}},{name:"as",type:"string",default:"path"}]};const defaultExtent=[-1e5,-1e5,1e5,1e5];inherits(Voronoi,Transform,{transform(_,pulse){const as=_.as||"path",data=pulse.source;if(!data||!data.length)return pulse;let s=_.size;s=s?[0,0,s[0],s[1]]:(s=_.extent)?[s[0][0],s[0][1],s[1][0],s[1][1]]:defaultExtent;const voronoi=this.value=Delaunay.from(data,_.x,_.y).voronoi(s);for(let i=0,n=data.length;i<n;++i){const polygon=voronoi.cellPolygon(i);data[i][as]=polygon?toPathString(polygon):null}return pulse.reflow(_.modified()).modifies(as)}});function toPathString(p){const x=p[0][0],y=p[0][1];let n=p.length-1;for(;p[n][0]===x&&p[n][1]===y;--n);return"M"+p.slice(0,n+1).join("L")+"Z"}var voronoi=Object.freeze({__proto__:null,voronoi:Voronoi});var cloudRadians=Math.PI/180,cw=1<<11>>5,ch=1<<11;function cloud(){var size=[256,256],text,font,fontSize,fontStyle,fontWeight,rotate,padding,spiral=archimedeanSpiral,words=[],random=Math.random,cloud={};cloud.layout=function(){var contextAndRatio=getContext(domCanvas()),board=zeroArray((size[0]>>5)*size[1]),bounds=null,n=words.length,i=-1,tags=[],data=words.map(d=>({text:text(d),font:font(d),style:fontStyle(d),weight:fontWeight(d),rotate:rotate(d),size:~~(fontSize(d)+1e-14),padding:padding(d),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:false,sprite:null,datum:d})).sort((a,b)=>b.size-a.size);while(++i<n){var d=data[i];d.x=size[0]*(random()+.5)>>1;d.y=size[1]*(random()+.5)>>1;cloudSprite(contextAndRatio,d,data,i);if(d.hasText&&place(board,d,bounds)){tags.push(d);if(bounds)cloudBounds(bounds,d);else bounds=[{x:d.x+d.x0,y:d.y+d.y0},{x:d.x+d.x1,y:d.y+d.y1}];d.x-=size[0]>>1;d.y-=size[1]>>1}}return tags};function getContext(canvas){canvas.width=canvas.height=1;var ratio=Math.sqrt(canvas.getContext("2d").getImageData(0,0,1,1).data.length>>2);canvas.width=(cw<<5)/ratio;canvas.height=ch/ratio;var context=canvas.getContext("2d");context.fillStyle=context.strokeStyle="red";context.textAlign="center";return{context:context,ratio:ratio}}function place(board,tag,bounds){var startX=tag.x,startY=tag.y,maxDelta=Math.sqrt(size[0]*size[0]+size[1]*size[1]),s=spiral(size),dt=random()<.5?1:-1,t=-dt,dxdy,dx,dy;while(dxdy=s(t+=dt)){dx=~~dxdy[0];dy=~~dxdy[1];if(Math.min(Math.abs(dx),Math.abs(dy))>=maxDelta)break;tag.x=startX+dx;tag.y=startY+dy;if(tag.x+tag.x0<0||tag.y+tag.y0<0||tag.x+tag.x1>size[0]||tag.y+tag.y1>size[1])continue;if(!bounds||!cloudCollide(tag,board,size[0])){if(!bounds||collideRects(tag,bounds)){var sprite=tag.sprite,w=tag.width>>5,sw=size[0]>>5,lx=tag.x-(w<<4),sx=lx&127,msx=32-sx,h=tag.y1-tag.y0,x=(tag.y+tag.y0)*sw+(lx>>5),last;for(var j=0;j<h;j++){last=0;for(var i=0;i<=w;i++){board[x+i]|=last<<msx|(i<w?(last=sprite[j*w+i])>>>sx:0)}x+=sw}tag.sprite=null;return true}}}return false}cloud.words=function(_){if(arguments.length){words=_;return cloud}else{return words}};cloud.size=function(_){if(arguments.length){size=[+_[0],+_[1]];return cloud}else{return size}};cloud.font=function(_){if(arguments.length){font=functor(_);return cloud}else{return font}};cloud.fontStyle=function(_){if(arguments.length){fontStyle=functor(_);return cloud}else{return fontStyle}};cloud.fontWeight=function(_){if(arguments.length){fontWeight=functor(_);return cloud}else{return fontWeight}};cloud.rotate=function(_){if(arguments.length){rotate=functor(_);return cloud}else{return rotate}};cloud.text=function(_){if(arguments.length){text=functor(_);return cloud}else{return text}};cloud.spiral=function(_){if(arguments.length){spiral=spirals[_]||_;return cloud}else{return spiral}};cloud.fontSize=function(_){if(arguments.length){fontSize=functor(_);return cloud}else{return fontSize}};cloud.padding=function(_){if(arguments.length){padding=functor(_);return cloud}else{return padding}};cloud.random=function(_){if(arguments.length){random=_;return cloud}else{return random}};return cloud}function cloudSprite(contextAndRatio,d,data,di){if(d.sprite)return;var c=contextAndRatio.context,ratio=contextAndRatio.ratio;c.clearRect(0,0,(cw<<5)/ratio,ch/ratio);var x=0,y=0,maxh=0,n=data.length,w,w32,h,i,j;--di;while(++di<n){d=data[di];c.save();c.font=d.style+" "+d.weight+" "+~~((d.size+1)/ratio)+"px "+d.font;w=c.measureText(d.text+"m").width*ratio;h=d.size<<1;if(d.rotate){var sr=Math.sin(d.rotate*cloudRadians),cr=Math.cos(d.rotate*cloudRadians),wcr=w*cr,wsr=w*sr,hcr=h*cr,hsr=h*sr;w=Math.max(Math.abs(wcr+hsr),Math.abs(wcr-hsr))+31>>5<<5;h=~~Math.max(Math.abs(wsr+hcr),Math.abs(wsr-hcr))}else{w=w+31>>5<<5}if(h>maxh)maxh=h;if(x+w>=cw<<5){x=0;y+=maxh;maxh=0}if(y+h>=ch)break;c.translate((x+(w>>1))/ratio,(y+(h>>1))/ratio);if(d.rotate)c.rotate(d.rotate*cloudRadians);c.fillText(d.text,0,0);if(d.padding){c.lineWidth=2*d.padding;c.strokeText(d.text,0,0)}c.restore();d.width=w;d.height=h;d.xoff=x;d.yoff=y;d.x1=w>>1;d.y1=h>>1;d.x0=-d.x1;d.y0=-d.y1;d.hasText=true;x+=w}var pixels=c.getImageData(0,0,(cw<<5)/ratio,ch/ratio).data,sprite=[];while(--di>=0){d=data[di];if(!d.hasText)continue;w=d.width;w32=w>>5;h=d.y1-d.y0;for(i=0;i<h*w32;i++)sprite[i]=0;x=d.xoff;if(x==null)return;y=d.yoff;var seen=0,seenRow=-1;for(j=0;j<h;j++){for(i=0;i<w;i++){var k=w32*j+(i>>5),m=pixels[(y+j)*(cw<<5)+(x+i)<<2]?1<<31-i%32:0;sprite[k]|=m;seen|=m}if(seen)seenRow=j;else{d.y0++;h--;j--;y++}}d.y1=d.y0+seenRow;d.sprite=sprite.slice(0,(d.y1-d.y0)*w32)}}function cloudCollide(tag,board,sw){sw>>=5;var sprite=tag.sprite,w=tag.width>>5,lx=tag.x-(w<<4),sx=lx&127,msx=32-sx,h=tag.y1-tag.y0,x=(tag.y+tag.y0)*sw+(lx>>5),last;for(var j=0;j<h;j++){last=0;for(var i=0;i<=w;i++){if((last<<msx|(i<w?(last=sprite[j*w+i])>>>sx:0))&board[x+i])return true}x+=sw}return false}function cloudBounds(bounds,d){var b0=bounds[0],b1=bounds[1];if(d.x+d.x0<b0.x)b0.x=d.x+d.x0;if(d.y+d.y0<b0.y)b0.y=d.y+d.y0;if(d.x+d.x1>b1.x)b1.x=d.x+d.x1;if(d.y+d.y1>b1.y)b1.y=d.y+d.y1}function collideRects(a,b){return a.x+a.x1>b[0].x&&a.x+a.x0<b[1].x&&a.y+a.y1>b[0].y&&a.y+a.y0<b[1].y}function archimedeanSpiral(size){var e=size[0]/size[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function rectangularSpiral(size){var dy=4,dx=dy*size[0]/size[1],x=0,y=0;return function(t){var sign=t<0?-1:1;switch(Math.sqrt(1+4*sign*t)-sign&3){case 0:x+=dx;break;case 1:y+=dy;break;case 2:x-=dx;break;default:y-=dy;break}return[x,y]}}function zeroArray(n){var a=[],i=-1;while(++i<n)a[i]=0;return a}function functor(d){return typeof d==="function"?d:function(){return d}}var spirals={archimedean:archimedeanSpiral,rectangular:rectangularSpiral};const Output=["x","y","font","fontSize","fontStyle","fontWeight","angle"];const Params$1=["text","font","rotate","fontSize","fontStyle","fontWeight"];function Wordcloud(params){Transform.call(this,cloud(),params)}Wordcloud.Definition={type:"Wordcloud",metadata:{modifies:true},params:[{name:"size",type:"number",array:true,length:2},{name:"font",type:"string",expr:true,default:"sans-serif"},{name:"fontStyle",type:"string",expr:true,default:"normal"},{name:"fontWeight",type:"string",expr:true,default:"normal"},{name:"fontSize",type:"number",expr:true,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:true,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:true},{name:"as",type:"string",array:true,length:7,default:Output}]};inherits(Wordcloud,Transform,{transform(_,pulse){if(_.size&&!(_.size[0]&&_.size[1])){error("Wordcloud size dimensions must be non-zero.")}function modp(param){const p=_[param];return isFunction(p)&&pulse.modified(p.fields)}const mod=_.modified();if(!(mod||pulse.changed(pulse.ADD_REM)||Params$1.some(modp)))return;const data=pulse.materialize(pulse.SOURCE).source,layout=this.value,as=_.as||Output;let fontSize=_.fontSize||14,range;isFunction(fontSize)?range=_.fontSizeRange:fontSize=constant$4(fontSize);if(range){const fsize=fontSize,sizeScale=scale$5("sqrt")().domain(extent(data,fsize)).range(range);fontSize=x=>sizeScale(fsize(x))}data.forEach(t=>{t[as[0]]=NaN;t[as[1]]=NaN;t[as[3]]=0});const words=layout.words(data).text(_.text).size(_.size||[500,500]).padding(_.padding||1).spiral(_.spiral||"archimedean").rotate(_.rotate||0).font(_.font||"sans-serif").fontStyle(_.fontStyle||"normal").fontWeight(_.fontWeight||"normal").fontSize(fontSize).random(exports.random).layout();const size=layout.size(),dx=size[0]>>1,dy=size[1]>>1,n=words.length;for(let i=0,w,t;i<n;++i){w=words[i];t=w.datum;t[as[0]]=w.x+dx;t[as[1]]=w.y+dy;t[as[2]]=w.font;t[as[3]]=w.size;t[as[4]]=w.style;t[as[5]]=w.weight;t[as[6]]=w.rotate}return pulse.reflow(mod).modifies(as)}});var wordcloud=Object.freeze({__proto__:null,wordcloud:Wordcloud});const array8=n=>new Uint8Array(n);const array16=n=>new Uint16Array(n);const array32=n=>new Uint32Array(n);function Bitmaps(){let width=8,data=[],seen=array32(0),curr=array$1(0,width),prev=array$1(0,width);return{data:()=>data,seen:()=>seen=lengthen(seen,data.length),add(array){for(let i=0,j=data.length,n=array.length,t;i<n;++i){t=array[i];t._index=j++;data.push(t)}},remove(num,map){const n=data.length,copy=Array(n-num),reindex=data;let t,i,j;for(i=0;!map[i]&&i<n;++i){copy[i]=data[i];reindex[i]=i}for(j=i;i<n;++i){t=data[i];if(!map[i]){reindex[i]=j;curr[j]=curr[i];prev[j]=prev[i];copy[j]=t;t._index=j++}else{reindex[i]=-1}curr[i]=0}data=copy;return reindex},size:()=>data.length,curr:()=>curr,prev:()=>prev,reset:k=>prev[k]=curr[k],all:()=>width<257?255:width<65537?65535:4294967295,set(k,one){curr[k]|=one},clear(k,one){curr[k]&=~one},resize(n,m){const k=curr.length;if(n>k||m>width){width=Math.max(m,width);curr=array$1(n,width,curr);prev=array$1(n,width)}}}}function lengthen(array,length,copy){if(array.length>=length)return array;copy=copy||new array.constructor(length);copy.set(array);return copy}function array$1(n,m,array){const copy=(m<257?array8:m<65537?array16:array32)(n);if(array)copy.set(array);return copy}function Dimension(index,i,query){const bit=1<<i;return{one:bit,zero:~bit,range:query.slice(),bisect:index.bisect,index:index.index,size:index.size,onAdd(added,curr){const dim=this,range=dim.bisect(dim.range,added.value),idx=added.index,lo=range[0],hi=range[1],n1=idx.length;let i;for(i=0;i<lo;++i)curr[idx[i]]|=bit;for(i=hi;i<n1;++i)curr[idx[i]]|=bit;return dim}}}function SortedIndex(){let index=array32(0),value=[],size=0;function insert(key,data,base){if(!data.length)return[];const n0=size,n1=data.length,addi=array32(n1);let addv=Array(n1),oldv,oldi,i;for(i=0;i<n1;++i){addv[i]=key(data[i]);addi[i]=i}addv=sort(addv,addi);if(n0){oldv=value;oldi=index;value=Array(n0+n1);index=array32(n0+n1);merge$1(base,oldv,oldi,n0,addv,addi,n1,value,index)}else{if(base>0)for(i=0;i<n1;++i){addi[i]+=base}value=addv;index=addi}size=n0+n1;return{index:addi,value:addv}}function remove(num,map){const n=size;let idx,i,j;for(i=0;!map[index[i]]&&i<n;++i);for(j=i;i<n;++i){if(!map[idx=index[i]]){index[j]=idx;value[j]=value[i];++j}}size=n-num}function reindex(map){for(let i=0,n=size;i<n;++i){index[i]=map[index[i]]}}function bisect(range,array){let n;if(array){n=array.length}else{array=value;n=size}return[bisectLeft$1(array,range[0],0,n),bisectRight$1(array,range[1],0,n)]}return{insert:insert,remove:remove,bisect:bisect,reindex:reindex,index:()=>index,size:()=>size}}function sort(values,index){values.sort.call(index,(a,b)=>{const x=values[a],y=values[b];return x<y?-1:x>y?1:0});return permute(values,index)}function merge$1(base,value0,index0,n0,value1,index1,n1,value,index){let i0=0,i1=0,i;for(i=0;i0<n0&&i1<n1;++i){if(value0[i0]<value1[i1]){value[i]=value0[i0];index[i]=index0[i0++]}else{value[i]=value1[i1];index[i]=index1[i1++]+base}}for(;i0<n0;++i0,++i){value[i]=value0[i0];index[i]=index0[i0]}for(;i1<n1;++i1,++i){value[i]=value1[i1];index[i]=index1[i1]+base}}function CrossFilter(params){Transform.call(this,Bitmaps(),params);this._indices=null;this._dims=null}CrossFilter.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:true,required:true},{name:"query",type:"array",array:true,required:true,content:{type:"number",array:true,length:2}}]};inherits(CrossFilter,Transform,{transform(_,pulse){if(!this._dims){return this.init(_,pulse)}else{var init=_.modified("fields")||_.fields.some(f=>pulse.modified(f.fields));return init?this.reinit(_,pulse):this.eval(_,pulse)}},init(_,pulse){const fields=_.fields,query=_.query,indices=this._indices={},dims=this._dims=[],m=query.length;let i=0,key,index;for(;i<m;++i){key=fields[i].fname;index=indices[key]||(indices[key]=SortedIndex());dims.push(Dimension(index,i,query[i]))}return this.eval(_,pulse)},reinit(_,pulse){const output=pulse.materialize().fork(),fields=_.fields,query=_.query,indices=this._indices,dims=this._dims,bits=this.value,curr=bits.curr(),prev=bits.prev(),all=bits.all(),out=output.rem=output.add,mod=output.mod,m=query.length,adds={};let add,index,key,mods,remMap,modMap,i,n,f;prev.set(curr);if(pulse.rem.length){remMap=this.remove(_,pulse,output)}if(pulse.add.length){bits.add(pulse.add)}if(pulse.mod.length){modMap={};for(mods=pulse.mod,i=0,n=mods.length;i<n;++i){modMap[mods[i]._index]=1}}for(i=0;i<m;++i){f=fields[i];if(!dims[i]||_.modified("fields",i)||pulse.modified(f.fields)){key=f.fname;if(!(add=adds[key])){indices[key]=index=SortedIndex();adds[key]=add=index.insert(f,pulse.source,0)}dims[i]=Dimension(index,i,query[i]).onAdd(add,curr)}}for(i=0,n=bits.data().length;i<n;++i){if(remMap[i]){continue}else if(prev[i]!==curr[i]){out.push(i)}else if(modMap[i]&&curr[i]!==all){mod.push(i)}}bits.mask=(1<<m)-1;return output},eval(_,pulse){const output=pulse.materialize().fork(),m=this._dims.length;let mask=0;if(pulse.rem.length){this.remove(_,pulse,output);mask|=(1<<m)-1}if(_.modified("query")&&!_.modified("fields")){mask|=this.update(_,pulse,output)}if(pulse.add.length){this.insert(_,pulse,output);mask|=(1<<m)-1}if(pulse.mod.length){this.modify(pulse,output);mask|=(1<<m)-1}this.value.mask=mask;return output},insert(_,pulse,output){const tuples=pulse.add,bits=this.value,dims=this._dims,indices=this._indices,fields=_.fields,adds={},out=output.add,n=bits.size()+tuples.length,m=dims.length;let k=bits.size(),j,key,add;bits.resize(n,m);bits.add(tuples);const curr=bits.curr(),prev=bits.prev(),all=bits.all();for(j=0;j<m;++j){key=fields[j].fname;add=adds[key]||(adds[key]=indices[key].insert(fields[j],tuples,k));dims[j].onAdd(add,curr)}for(;k<n;++k){prev[k]=all;if(curr[k]!==all)out.push(k)}},modify(pulse,output){const out=output.mod,bits=this.value,curr=bits.curr(),all=bits.all(),tuples=pulse.mod;let i,n,k;for(i=0,n=tuples.length;i<n;++i){k=tuples[i]._index;if(curr[k]!==all)out.push(k)}},remove(_,pulse,output){const indices=this._indices,bits=this.value,curr=bits.curr(),prev=bits.prev(),all=bits.all(),map={},out=output.rem,tuples=pulse.rem;let i,n,k,f;for(i=0,n=tuples.length;i<n;++i){k=tuples[i]._index;map[k]=1;prev[k]=f=curr[k];curr[k]=all;if(f!==all)out.push(k)}for(k in indices){indices[k].remove(n,map)}this.reindex(pulse,n,map);return map},reindex(pulse,num,map){const indices=this._indices,bits=this.value;pulse.runAfter(()=>{const indexMap=bits.remove(num,map);for(const key in indices)indices[key].reindex(indexMap)})},update(_,pulse,output){const dims=this._dims,query=_.query,stamp=pulse.stamp,m=dims.length;let mask=0,i,q;output.filters=0;for(q=0;q<m;++q){if(_.modified("query",q)){i=q;++mask}}if(mask===1){mask=dims[i].one;this.incrementOne(dims[i],query[i],output.add,output.rem)}else{for(q=0,mask=0;q<m;++q){if(!_.modified("query",q))continue;mask|=dims[q].one;this.incrementAll(dims[q],query[q],stamp,output.add);output.rem=output.add}}return mask},incrementAll(dim,query,stamp,out){const bits=this.value,seen=bits.seen(),curr=bits.curr(),prev=bits.prev(),index=dim.index(),old=dim.bisect(dim.range),range=dim.bisect(query),lo1=range[0],hi1=range[1],lo0=old[0],hi0=old[1],one=dim.one;let i,j,k;if(lo1<lo0){for(i=lo1,j=Math.min(lo0,hi1);i<j;++i){k=index[i];if(seen[k]!==stamp){prev[k]=curr[k];seen[k]=stamp;out.push(k)}curr[k]^=one}}else if(lo1>lo0){for(i=lo0,j=Math.min(lo1,hi0);i<j;++i){k=index[i];if(seen[k]!==stamp){prev[k]=curr[k];seen[k]=stamp;out.push(k)}curr[k]^=one}}if(hi1>hi0){for(i=Math.max(lo1,hi0),j=hi1;i<j;++i){k=index[i];if(seen[k]!==stamp){prev[k]=curr[k];seen[k]=stamp;out.push(k)}curr[k]^=one}}else if(hi1<hi0){for(i=Math.max(lo0,hi1),j=hi0;i<j;++i){k=index[i];if(seen[k]!==stamp){prev[k]=curr[k];seen[k]=stamp;out.push(k)}curr[k]^=one}}dim.range=query.slice()},incrementOne(dim,query,add,rem){const bits=this.value,curr=bits.curr(),index=dim.index(),old=dim.bisect(dim.range),range=dim.bisect(query),lo1=range[0],hi1=range[1],lo0=old[0],hi0=old[1],one=dim.one;let i,j,k;if(lo1<lo0){for(i=lo1,j=Math.min(lo0,hi1);i<j;++i){k=index[i];curr[k]^=one;add.push(k)}}else if(lo1>lo0){for(i=lo0,j=Math.min(lo1,hi0);i<j;++i){k=index[i];curr[k]^=one;rem.push(k)}}if(hi1>hi0){for(i=Math.max(lo1,hi0),j=hi1;i<j;++i){k=index[i];curr[k]^=one;add.push(k)}}else if(hi1<hi0){for(i=Math.max(lo0,hi1),j=hi0;i<j;++i){k=index[i];curr[k]^=one;rem.push(k)}}dim.range=query.slice()}});function ResolveFilter(params){Transform.call(this,null,params)}ResolveFilter.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:true,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:true,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};inherits(ResolveFilter,Transform,{transform(_,pulse){const ignore=~(_.ignore||0),bitmap=_.filter,mask=bitmap.mask;if((mask&ignore)===0)return pulse.StopPropagation;const output=pulse.fork(pulse.ALL),data=bitmap.data(),curr=bitmap.curr(),prev=bitmap.prev(),pass=k=>!(curr[k]&ignore)?data[k]:null;output.filter(output.MOD,pass);if(!(mask&mask-1)){output.filter(output.ADD,pass);output.filter(output.REM,k=>(curr[k]&ignore)===mask?data[k]:null)}else{output.filter(output.ADD,k=>{const c=curr[k]&ignore,f=!c&&c^prev[k]&ignore;return f?data[k]:null});output.filter(output.REM,k=>{const c=curr[k]&ignore,f=c&&!(c^(c^prev[k]&ignore));return f?data[k]:null})}return output.filter(output.SOURCE,t=>pass(t._index))}});var xf=Object.freeze({__proto__:null,crossfilter:CrossFilter,resolvefilter:ResolveFilter});var version="5.23.0";function bandSpace(count,paddingInner,paddingOuter){const space=count-paddingInner+paddingOuter*2;return count?space>0?space:1:0}const Identity="identity";const Linear="linear";const Log="log";const Pow="pow";const Sqrt="sqrt";const Symlog="symlog";const Time="time";const UTC="utc";const Sequential="sequential";const Diverging="diverging";const Quantile="quantile";const Quantize="quantize";const Threshold="threshold";const Ordinal="ordinal";const Point="point";const Band="band";const BinOrdinal="bin-ordinal";const Continuous="continuous";const Discrete$1="discrete";const Discretizing="discretizing";const Interpolating="interpolating";const Temporal="temporal";function invertRange(scale){return function(_){let lo=_[0],hi=_[1],t;if(hi<lo){t=lo;lo=hi;hi=t}return[scale.invert(lo),scale.invert(hi)]}}function invertRangeExtent(scale){return function(_){const range=scale.range();let lo=_[0],hi=_[1],min=-1,max,t,i,n;if(hi<lo){t=lo;lo=hi;hi=t}for(i=0,n=range.length;i<n;++i){if(range[i]>=lo&&range[i]<=hi){if(min<0)min=i;max=i}}if(min<0)return undefined;lo=scale.invertExtent(range[min]);hi=scale.invertExtent(range[max]);return[lo[0]===undefined?lo[1]:lo[0],hi[1]===undefined?hi[0]:hi[1]]}}function band(){const scale=ordinal().unknown(undefined),domain=scale.domain,ordinalRange=scale.range;let range$1=[0,1],step,bandwidth,round=false,paddingInner=0,paddingOuter=0,align=.5;delete scale.unknown;function rescale(){const n=domain().length,reverse=range$1[1]<range$1[0],stop=range$1[1-reverse],space=bandSpace(n,paddingInner,paddingOuter);let start=range$1[reverse-0];step=(stop-start)/(space||1);if(round){step=Math.floor(step)}start+=(stop-start-step*(n-paddingInner))*align;bandwidth=step*(1-paddingInner);if(round){start=Math.round(start);bandwidth=Math.round(bandwidth)}const values=range$3(n).map(i=>start+step*i);return ordinalRange(reverse?values.reverse():values)}scale.domain=function(_){if(arguments.length){domain(_);return rescale()}else{return domain()}};scale.range=function(_){if(arguments.length){range$1=[+_[0],+_[1]];return rescale()}else{return range$1.slice()}};scale.rangeRound=function(_){range$1=[+_[0],+_[1]];round=true;return rescale()};scale.bandwidth=function(){return bandwidth};scale.step=function(){return step};scale.round=function(_){if(arguments.length){round=!!_;return rescale()}else{return round}};scale.padding=function(_){if(arguments.length){paddingOuter=Math.max(0,Math.min(1,_));paddingInner=paddingOuter;return rescale()}else{return paddingInner}};scale.paddingInner=function(_){if(arguments.length){paddingInner=Math.max(0,Math.min(1,_));return rescale()}else{return paddingInner}};scale.paddingOuter=function(_){if(arguments.length){paddingOuter=Math.max(0,Math.min(1,_));return rescale()}else{return paddingOuter}};scale.align=function(_){if(arguments.length){align=Math.max(0,Math.min(1,_));return rescale()}else{return align}};scale.invertRange=function(_){if(_[0]==null||_[1]==null)return;const reverse=range$1[1]<range$1[0],values=reverse?ordinalRange().reverse():ordinalRange(),n=values.length-1;let lo=+_[0],hi=+_[1],a,b,t;if(lo!==lo||hi!==hi)return;if(hi<lo){t=lo;lo=hi;hi=t}if(hi<values[0]||lo>range$1[1-reverse])return;a=Math.max(0,bisectRight$1(values,lo)-1);b=lo===hi?a:bisectRight$1(values,hi)-1;if(lo-values[a]>bandwidth+1e-10)++a;if(reverse){t=a;a=n-b;b=n-t}return a>b?undefined:domain().slice(a,b+1)};scale.invert=function(_){const value=scale.invertRange([_,_]);return value?value[0]:value};scale.copy=function(){return band().domain(domain()).range(range$1).round(round).paddingInner(paddingInner).paddingOuter(paddingOuter).align(align)};return rescale()}function pointish(scale){const copy=scale.copy;scale.padding=scale.paddingOuter;delete scale.paddingInner;scale.copy=function(){return pointish(copy())};return scale}function point(){return pointish(band().paddingInner(1))}var map=Array.prototype.map;function numbers(_){return map.call(_,toNumber)}const slice$1=Array.prototype.slice;function scaleBinOrdinal(){let domain=[],range=[];function scale(x){return x==null||x!==x?undefined:range[(bisect$1(domain,x)-1)%range.length]}scale.domain=function(_){if(arguments.length){domain=numbers(_);return scale}else{return domain.slice()}};scale.range=function(_){if(arguments.length){range=slice$1.call(_);return scale}else{return range.slice()}};scale.tickFormat=function(count,specifier){return tickFormat$1(domain[0],peek$1(domain),count==null?10:count,specifier)};scale.copy=function(){return scaleBinOrdinal().domain(scale.domain()).range(scale.range())};return scale}const scales={};function create(type,constructor,metadata){const ctr=function scale(){const s=constructor();if(!s.invertRange){s.invertRange=s.invert?invertRange(s):s.invertExtent?invertRangeExtent(s):undefined}s.type=type;return s};ctr.metadata=toSet(array$5(metadata));return ctr}function scale$3(type,scale,metadata){if(arguments.length>1){scales[type]=create(type,scale,metadata);return this}else{return isValidScaleType(type)?scales[type]:undefined}}scale$3(Identity,identity$1);scale$3(Linear,linear,Continuous);scale$3(Log,log$2,[Continuous,Log]);scale$3(Pow,pow$2,Continuous);scale$3(Sqrt,sqrt$2,Continuous);scale$3(Symlog,symlog,Continuous);scale$3(Time,time$1,[Continuous,Temporal]);scale$3(UTC,utcTime,[Continuous,Temporal]);scale$3(Sequential,sequential,[Continuous,Interpolating]);scale$3("".concat(Sequential,"-").concat(Linear),sequential,[Continuous,Interpolating]);scale$3("".concat(Sequential,"-").concat(Log),sequentialLog,[Continuous,Interpolating,Log]);scale$3("".concat(Sequential,"-").concat(Pow),sequentialPow,[Continuous,Interpolating]);scale$3("".concat(Sequential,"-").concat(Sqrt),sequentialSqrt,[Continuous,Interpolating]);scale$3("".concat(Sequential,"-").concat(Symlog),sequentialSymlog,[Continuous,Interpolating]);scale$3("".concat(Diverging,"-").concat(Linear),diverging,[Continuous,Interpolating]);scale$3("".concat(Diverging,"-").concat(Log),divergingLog,[Continuous,Interpolating,Log]);scale$3("".concat(Diverging,"-").concat(Pow),divergingPow,[Continuous,Interpolating]);scale$3("".concat(Diverging,"-").concat(Sqrt),divergingSqrt,[Continuous,Interpolating]);scale$3("".concat(Diverging,"-").concat(Symlog),divergingSymlog,[Continuous,Interpolating]);scale$3(Quantile,quantile,[Discretizing,Quantile]);scale$3(Quantize,quantize$1,Discretizing);scale$3(Threshold,threshold,Discretizing);scale$3(BinOrdinal,scaleBinOrdinal,[Discrete$1,Discretizing]);scale$3(Ordinal,ordinal,Discrete$1);scale$3(Band,band,Discrete$1);scale$3(Point,point,Discrete$1);function isValidScaleType(type){return has$1(scales,type)}function interpolateRange(interpolator,range){const start=range[0],span=peek$1(range)-start;return function(i){return interpolator(start+i*span)}}function interpolateColors(colors,type,gamma){return piecewise(interpolate(type||"rgb",gamma),colors)}function quantizeInterpolator(interpolator,count){const samples=new Array(count),n=count+1;for(let i=0;i<count;)samples[i]=interpolator(++i/n);return samples}function interpolate(type,gamma){const interp=$$1[method(type)];return gamma!=null&&interp&&interp.gamma?interp.gamma(gamma):interp}function method(type){return"interpolate"+type.toLowerCase().split("-").map(s=>s[0].toUpperCase()+s.slice(1)).join("")}const continuous={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"};const discrete={category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"};function colors(palette){const n=palette.length/6|0,c=new Array(n);for(let i=0;i<n;){c[i]="#"+palette.slice(i*6,++i*6)}return c}function apply(_,f){for(const k in _)scheme(k,f(_[k]))}const schemes={};apply(discrete,colors);apply(continuous,_=>interpolateColors(colors(_)));function scheme(name,scheme){name=name&&name.toLowerCase();if(arguments.length>1){schemes[name]=scheme;return this}else{return schemes[name]}}const RawCode="RawCode";const Literal="Literal";const Property="Property";const Identifier="Identifier";const ArrayExpression="ArrayExpression";const BinaryExpression="BinaryExpression";const CallExpression="CallExpression";const ConditionalExpression="ConditionalExpression";const LogicalExpression="LogicalExpression";const MemberExpression="MemberExpression";const ObjectExpression="ObjectExpression";const UnaryExpression="UnaryExpression";function ASTNode(type){this.type=type}ASTNode.prototype.visit=function(visitor){let c,i,n;if(visitor(this))return 1;for(c=children(this),i=0,n=c.length;i<n;++i){if(c[i].visit(visitor))return 1}};function children(node){switch(node.type){case ArrayExpression:return node.elements;case BinaryExpression:case LogicalExpression:return[node.left,node.right];case CallExpression:return[node.callee].concat(node.arguments);case ConditionalExpression:return[node.test,node.consequent,node.alternate];case MemberExpression:return[node.object,node.property];case ObjectExpression:return node.properties;case Property:return[node.key,node.value];case UnaryExpression:return[node.argument];case Identifier:case Literal:case RawCode:default:return[]}}var TokenName,source,index,length,lookahead;var TokenBooleanLiteral=1,TokenEOF=2,TokenIdentifier=3,TokenKeyword=4,TokenNullLiteral=5,TokenNumericLiteral=6,TokenPunctuator=7,TokenStringLiteral=8,TokenRegularExpression=9;TokenName={};TokenName[TokenBooleanLiteral]="Boolean";TokenName[TokenEOF]="<end>";TokenName[TokenIdentifier]="Identifier";TokenName[TokenKeyword]="Keyword";TokenName[TokenNullLiteral]="Null";TokenName[TokenNumericLiteral]="Numeric";TokenName[TokenPunctuator]="Punctuator";TokenName[TokenStringLiteral]="String";TokenName[TokenRegularExpression]="RegularExpression";var SyntaxArrayExpression="ArrayExpression",SyntaxBinaryExpression="BinaryExpression",SyntaxCallExpression="CallExpression",SyntaxConditionalExpression="ConditionalExpression",SyntaxIdentifier="Identifier",SyntaxLiteral="Literal",SyntaxLogicalExpression="LogicalExpression",SyntaxMemberExpression="MemberExpression",SyntaxObjectExpression="ObjectExpression",SyntaxProperty="Property",SyntaxUnaryExpression="UnaryExpression";var MessageUnexpectedToken="Unexpected token %0",MessageUnexpectedNumber="Unexpected number",MessageUnexpectedString="Unexpected string",MessageUnexpectedIdentifier="Unexpected identifier",MessageUnexpectedReserved="Unexpected reserved word",MessageUnexpectedEOS="Unexpected end of input",MessageInvalidRegExp="Invalid regular expression",MessageUnterminatedRegExp="Invalid regular expression: missing /",MessageStrictOctalLiteral="Octal literals are not allowed in strict mode.",MessageStrictDuplicateProperty="Duplicate data property in object literal not allowed in strict mode";var ILLEGAL$1="ILLEGAL",DISABLED="Disabled.";var RegexNonAsciiIdentifierStart=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),RegexNonAsciiIdentifierPart=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function assert(condition,message){if(!condition){throw new Error("ASSERT: "+message)}}function isDecimalDigit(ch){return ch>=48&&ch<=57}function isHexDigit(ch){return"0123456789abcdefABCDEF".indexOf(ch)>=0}function isOctalDigit(ch){return"01234567".indexOf(ch)>=0}function isWhiteSpace(ch){return ch===32||ch===9||ch===11||ch===12||ch===160||ch>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(ch)>=0}function isLineTerminator(ch){return ch===10||ch===13||ch===8232||ch===8233}function isIdentifierStart(ch){return ch===36||ch===95||ch>=65&&ch<=90||ch>=97&&ch<=122||ch===92||ch>=128&&RegexNonAsciiIdentifierStart.test(String.fromCharCode(ch))}function isIdentifierPart(ch){return ch===36||ch===95||ch>=65&&ch<=90||ch>=97&&ch<=122||ch>=48&&ch<=57||ch===92||ch>=128&&RegexNonAsciiIdentifierPart.test(String.fromCharCode(ch))}const keywords={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function skipComment(){while(index<length){const ch=source.charCodeAt(index);if(isWhiteSpace(ch)||isLineTerminator(ch)){++index}else{break}}}function scanHexEscape(prefix){var i,len,ch,code=0;len=prefix==="u"?4:2;for(i=0;i<len;++i){if(index<length&&isHexDigit(source[index])){ch=source[index++];code=code*16+"0123456789abcdef".indexOf(ch.toLowerCase())}else{throwError({},MessageUnexpectedToken,ILLEGAL$1)}}return String.fromCharCode(code)}function scanUnicodeCodePointEscape(){var ch,code,cu1,cu2;ch=source[index];code=0;if(ch==="}"){throwError({},MessageUnexpectedToken,ILLEGAL$1)}while(index<length){ch=source[index++];if(!isHexDigit(ch)){break}code=code*16+"0123456789abcdef".indexOf(ch.toLowerCase())}if(code>1114111||ch!=="}"){throwError({},MessageUnexpectedToken,ILLEGAL$1)}if(code<=65535){return String.fromCharCode(code)}cu1=(code-65536>>10)+55296;cu2=(code-65536&1023)+56320;return String.fromCharCode(cu1,cu2)}function getEscapedIdentifier(){var ch,id;ch=source.charCodeAt(index++);id=String.fromCharCode(ch);if(ch===92){if(source.charCodeAt(index)!==117){throwError({},MessageUnexpectedToken,ILLEGAL$1)}++index;ch=scanHexEscape("u");if(!ch||ch==="\\"||!isIdentifierStart(ch.charCodeAt(0))){throwError({},MessageUnexpectedToken,ILLEGAL$1)}id=ch}while(index<length){ch=source.charCodeAt(index);if(!isIdentifierPart(ch)){break}++index;id+=String.fromCharCode(ch);if(ch===92){id=id.substr(0,id.length-1);if(source.charCodeAt(index)!==117){throwError({},MessageUnexpectedToken,ILLEGAL$1)}++index;ch=scanHexEscape("u");if(!ch||ch==="\\"||!isIdentifierPart(ch.charCodeAt(0))){throwError({},MessageUnexpectedToken,ILLEGAL$1)}id+=ch}}return id}function getIdentifier(){var start,ch;start=index++;while(index<length){ch=source.charCodeAt(index);if(ch===92){index=start;return getEscapedIdentifier()}if(isIdentifierPart(ch)){++index}else{break}}return source.slice(start,index)}function scanIdentifier(){var start,id,type;start=index;id=source.charCodeAt(index)===92?getEscapedIdentifier():getIdentifier();if(id.length===1){type=TokenIdentifier}else if(keywords.hasOwnProperty(id)){type=TokenKeyword}else if(id==="null"){type=TokenNullLiteral}else if(id==="true"||id==="false"){type=TokenBooleanLiteral}else{type=TokenIdentifier}return{type:type,value:id,start:start,end:index}}function scanPunctuator(){var start=index,code=source.charCodeAt(index),code2,ch1=source[index],ch2,ch3,ch4;switch(code){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:++index;return{type:TokenPunctuator,value:String.fromCharCode(code),start:start,end:index};default:code2=source.charCodeAt(index+1);if(code2===61){switch(code){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:index+=2;return{type:TokenPunctuator,value:String.fromCharCode(code)+String.fromCharCode(code2),start:start,end:index};case 33:case 61:index+=2;if(source.charCodeAt(index)===61){++index}return{type:TokenPunctuator,value:source.slice(start,index),start:start,end:index}}}}ch4=source.substr(index,4);if(ch4===">>>="){index+=4;return{type:TokenPunctuator,value:ch4,start:start,end:index}}ch3=ch4.substr(0,3);if(ch3===">>>"||ch3==="<<="||ch3===">>="){index+=3;return{type:TokenPunctuator,value:ch3,start:start,end:index}}ch2=ch3.substr(0,2);if(ch1===ch2[1]&&"+-<>&|".indexOf(ch1)>=0||ch2==="=>"){index+=2;return{type:TokenPunctuator,value:ch2,start:start,end:index}}if(ch2==="//"){throwError({},MessageUnexpectedToken,ILLEGAL$1)}if("<>=!+-*%&|^/".indexOf(ch1)>=0){++index;return{type:TokenPunctuator,value:ch1,start:start,end:index}}throwError({},MessageUnexpectedToken,ILLEGAL$1)}function scanHexLiteral(start){let number="";while(index<length){if(!isHexDigit(source[index])){break}number+=source[index++]}if(number.length===0){throwError({},MessageUnexpectedToken,ILLEGAL$1)}if(isIdentifierStart(source.charCodeAt(index))){throwError({},MessageUnexpectedToken,ILLEGAL$1)}return{type:TokenNumericLiteral,value:parseInt("0x"+number,16),start:start,end:index}}function scanOctalLiteral(start){let number="0"+source[index++];while(index<length){if(!isOctalDigit(source[index])){break}number+=source[index++]}if(isIdentifierStart(source.charCodeAt(index))||isDecimalDigit(source.charCodeAt(index))){throwError({},MessageUnexpectedToken,ILLEGAL$1)}return{type:TokenNumericLiteral,value:parseInt(number,8),octal:true,start:start,end:index}}function scanNumericLiteral(){var number,start,ch;ch=source[index];assert(isDecimalDigit(ch.charCodeAt(0))||ch===".","Numeric literal must start with a decimal digit or a decimal point");start=index;number="";if(ch!=="."){number=source[index++];ch=source[index];if(number==="0"){if(ch==="x"||ch==="X"){++index;return scanHexLiteral(start)}if(isOctalDigit(ch)){return scanOctalLiteral(start)}if(ch&&isDecimalDigit(ch.charCodeAt(0))){throwError({},MessageUnexpectedToken,ILLEGAL$1)}}while(isDecimalDigit(source.charCodeAt(index))){number+=source[index++]}ch=source[index]}if(ch==="."){number+=source[index++];while(isDecimalDigit(source.charCodeAt(index))){number+=source[index++]}ch=source[index]}if(ch==="e"||ch==="E"){number+=source[index++];ch=source[index];if(ch==="+"||ch==="-"){number+=source[index++]}if(isDecimalDigit(source.charCodeAt(index))){while(isDecimalDigit(source.charCodeAt(index))){number+=source[index++]}}else{throwError({},MessageUnexpectedToken,ILLEGAL$1)}}if(isIdentifierStart(source.charCodeAt(index))){throwError({},MessageUnexpectedToken,ILLEGAL$1)}return{type:TokenNumericLiteral,value:parseFloat(number),start:start,end:index}}function scanStringLiteral(){var str="",quote,start,ch,code,octal=false;quote=source[index];assert(quote==="'"||quote==='"',"String literal must starts with a quote");start=index;++index;while(index<length){ch=source[index++];if(ch===quote){quote="";break}else if(ch==="\\"){ch=source[index++];if(!ch||!isLineTerminator(ch.charCodeAt(0))){switch(ch){case"u":case"x":if(source[index]==="{"){++index;str+=scanUnicodeCodePointEscape()}else{str+=scanHexEscape(ch)}break;case"n":str+="\n";break;case"r":str+="\r";break;case"t":str+="\t";break;case"b":str+="\b";break;case"f":str+="\f";break;case"v":str+="\v";break;default:if(isOctalDigit(ch)){code="01234567".indexOf(ch);if(code!==0){octal=true}if(index<length&&isOctalDigit(source[index])){octal=true;code=code*8+"01234567".indexOf(source[index++]);if("0123".indexOf(ch)>=0&&index<length&&isOctalDigit(source[index])){code=code*8+"01234567".indexOf(source[index++])}}str+=String.fromCharCode(code)}else{str+=ch}break}}else{if(ch==="\r"&&source[index]==="\n"){++index}}}else if(isLineTerminator(ch.charCodeAt(0))){break}else{str+=ch}}if(quote!==""){throwError({},MessageUnexpectedToken,ILLEGAL$1)}return{type:TokenStringLiteral,value:str,octal:octal,start:start,end:index}}function testRegExp(pattern,flags){let tmp=pattern;if(flags.indexOf("u")>=0){tmp=tmp.replace(/\\u\{([0-9a-fA-F]+)\}/g,($0,$1)=>{if(parseInt($1,16)<=1114111){return"x"}throwError({},MessageInvalidRegExp)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x")}try{new RegExp(tmp)}catch(e){throwError({},MessageInvalidRegExp)}try{return new RegExp(pattern,flags)}catch(exception){return null}}function scanRegExpBody(){var ch,str,classMarker,terminated,body;ch=source[index];assert(ch==="/","Regular expression literal must start with a slash");str=source[index++];classMarker=false;terminated=false;while(index<length){ch=source[index++];str+=ch;if(ch==="\\"){ch=source[index++];if(isLineTerminator(ch.charCodeAt(0))){throwError({},MessageUnterminatedRegExp)}str+=ch}else if(isLineTerminator(ch.charCodeAt(0))){throwError({},MessageUnterminatedRegExp)}else if(classMarker){if(ch==="]"){classMarker=false}}else{if(ch==="/"){terminated=true;break}else if(ch==="["){classMarker=true}}}if(!terminated){throwError({},MessageUnterminatedRegExp)}body=str.substr(1,str.length-2);return{value:body,literal:str}}function scanRegExpFlags(){var ch,str,flags;str="";flags="";while(index<length){ch=source[index];if(!isIdentifierPart(ch.charCodeAt(0))){break}++index;if(ch==="\\"&&index<length){throwError({},MessageUnexpectedToken,ILLEGAL$1)}else{flags+=ch;str+=ch}}if(flags.search(/[^gimuy]/g)>=0){throwError({},MessageInvalidRegExp,flags)}return{value:flags,literal:str}}function scanRegExp(){var start,body,flags,value;lookahead=null;skipComment();start=index;body=scanRegExpBody();flags=scanRegExpFlags();value=testRegExp(body.value,flags.value);return{literal:body.literal+flags.literal,value:value,regex:{pattern:body.value,flags:flags.value},start:start,end:index}}function isIdentifierName(token){return token.type===TokenIdentifier||token.type===TokenKeyword||token.type===TokenBooleanLiteral||token.type===TokenNullLiteral}function advance(){skipComment();if(index>=length){return{type:TokenEOF,start:index,end:index}}const ch=source.charCodeAt(index);if(isIdentifierStart(ch)){return scanIdentifier()}if(ch===40||ch===41||ch===59){return scanPunctuator()}if(ch===39||ch===34){return scanStringLiteral()}if(ch===46){if(isDecimalDigit(source.charCodeAt(index+1))){return scanNumericLiteral()}return scanPunctuator()}if(isDecimalDigit(ch)){return scanNumericLiteral()}return scanPunctuator()}function lex(){const token=lookahead;index=token.end;lookahead=advance();index=token.end;return token}function peek(){const pos=index;lookahead=advance();index=pos}function finishArrayExpression(elements){const node=new ASTNode(SyntaxArrayExpression);node.elements=elements;return node}function finishBinaryExpression(operator,left,right){const node=new ASTNode(operator==="||"||operator==="&&"?SyntaxLogicalExpression:SyntaxBinaryExpression);node.operator=operator;node.left=left;node.right=right;return node}function finishCallExpression(callee,args){const node=new ASTNode(SyntaxCallExpression);node.callee=callee;node.arguments=args;return node}function finishConditionalExpression(test,consequent,alternate){const node=new ASTNode(SyntaxConditionalExpression);node.test=test;node.consequent=consequent;node.alternate=alternate;return node}function finishIdentifier(name){const node=new ASTNode(SyntaxIdentifier);node.name=name;return node}function finishLiteral(token){const node=new ASTNode(SyntaxLiteral);node.value=token.value;node.raw=source.slice(token.start,token.end);if(token.regex){if(node.raw==="//"){node.raw="/(?:)/"}node.regex=token.regex}return node}function finishMemberExpression(accessor,object,property){const node=new ASTNode(SyntaxMemberExpression);node.computed=accessor==="[";node.object=object;node.property=property;if(!node.computed)property.member=true;return node}function finishObjectExpression(properties){const node=new ASTNode(SyntaxObjectExpression);node.properties=properties;return node}function finishProperty(kind,key,value){const node=new ASTNode(SyntaxProperty);node.key=key;node.value=value;node.kind=kind;return node}function finishUnaryExpression(operator,argument){const node=new ASTNode(SyntaxUnaryExpression);node.operator=operator;node.argument=argument;node.prefix=true;return node}function throwError(token,messageFormat){var error,args=Array.prototype.slice.call(arguments,2),msg=messageFormat.replace(/%(\d)/g,(whole,index)=>{assert(index<args.length,"Message reference must be in range");return args[index]});error=new Error(msg);error.index=index;error.description=msg;throw error}function throwUnexpected(token){if(token.type===TokenEOF){throwError(token,MessageUnexpectedEOS)}if(token.type===TokenNumericLiteral){throwError(token,MessageUnexpectedNumber)}if(token.type===TokenStringLiteral){throwError(token,MessageUnexpectedString)}if(token.type===TokenIdentifier){throwError(token,MessageUnexpectedIdentifier)}if(token.type===TokenKeyword){throwError(token,MessageUnexpectedReserved)}throwError(token,MessageUnexpectedToken,token.value)}function expect(value){const token=lex();if(token.type!==TokenPunctuator||token.value!==value){throwUnexpected(token)}}function match(value){return lookahead.type===TokenPunctuator&&lookahead.value===value}function matchKeyword(keyword){return lookahead.type===TokenKeyword&&lookahead.value===keyword}function parseArrayInitialiser(){const elements=[];index=lookahead.start;expect("[");while(!match("]")){if(match(",")){lex();elements.push(null)}else{elements.push(parseConditionalExpression());if(!match("]")){expect(",")}}}lex();return finishArrayExpression(elements)}function parseObjectPropertyKey(){index=lookahead.start;const token=lex();if(token.type===TokenStringLiteral||token.type===TokenNumericLiteral){if(token.octal){throwError(token,MessageStrictOctalLiteral)}return finishLiteral(token)}return finishIdentifier(token.value)}function parseObjectProperty(){var token,key,id,value;index=lookahead.start;token=lookahead;if(token.type===TokenIdentifier){id=parseObjectPropertyKey();expect(":");value=parseConditionalExpression();return finishProperty("init",id,value)}if(token.type===TokenEOF||token.type===TokenPunctuator){throwUnexpected(token)}else{key=parseObjectPropertyKey();expect(":");value=parseConditionalExpression();return finishProperty("init",key,value)}}function parseObjectInitialiser(){var properties=[],property,name,key,map={},toString=String;index=lookahead.start;expect("{");while(!match("}")){property=parseObjectProperty();if(property.key.type===SyntaxIdentifier){name=property.key.name}else{name=toString(property.key.value)}key="$"+name;if(Object.prototype.hasOwnProperty.call(map,key)){throwError({},MessageStrictDuplicateProperty)}else{map[key]=true}properties.push(property);if(!match("}")){expect(",")}}expect("}");return finishObjectExpression(properties)}function parseGroupExpression(){expect("(");const expr=parseExpression();expect(")");return expr}const legalKeywords={if:1};function parsePrimaryExpression(){var type,token,expr;if(match("(")){return parseGroupExpression()}if(match("[")){return parseArrayInitialiser()}if(match("{")){return parseObjectInitialiser()}type=lookahead.type;index=lookahead.start;if(type===TokenIdentifier||legalKeywords[lookahead.value]){expr=finishIdentifier(lex().value)}else if(type===TokenStringLiteral||type===TokenNumericLiteral){if(lookahead.octal){throwError(lookahead,MessageStrictOctalLiteral)}expr=finishLiteral(lex())}else if(type===TokenKeyword){throw new Error(DISABLED)}else if(type===TokenBooleanLiteral){token=lex();token.value=token.value==="true";expr=finishLiteral(token)}else if(type===TokenNullLiteral){token=lex();token.value=null;expr=finishLiteral(token)}else if(match("/")||match("/=")){expr=finishLiteral(scanRegExp());peek()}else{throwUnexpected(lex())}return expr}function parseArguments(){const args=[];expect("(");if(!match(")")){while(index<length){args.push(parseConditionalExpression());if(match(")")){break}expect(",")}}expect(")");return args}function parseNonComputedProperty(){index=lookahead.start;const token=lex();if(!isIdentifierName(token)){throwUnexpected(token)}return finishIdentifier(token.value)}function parseNonComputedMember(){expect(".");return parseNonComputedProperty()}function parseComputedMember(){expect("[");const expr=parseExpression();expect("]");return expr}function parseLeftHandSideExpressionAllowCall(){var expr,args,property;expr=parsePrimaryExpression();for(;;){if(match(".")){property=parseNonComputedMember();expr=finishMemberExpression(".",expr,property)}else if(match("(")){args=parseArguments();expr=finishCallExpression(expr,args)}else if(match("[")){property=parseComputedMember();expr=finishMemberExpression("[",expr,property)}else{break}}return expr}function parsePostfixExpression(){const expr=parseLeftHandSideExpressionAllowCall();if(lookahead.type===TokenPunctuator){if(match("++")||match("--")){throw new Error(DISABLED)}}return expr}function parseUnaryExpression(){var token,expr;if(lookahead.type!==TokenPunctuator&&lookahead.type!==TokenKeyword){expr=parsePostfixExpression()}else if(match("++")||match("--")){throw new Error(DISABLED)}else if(match("+")||match("-")||match("~")||match("!")){token=lex();expr=parseUnaryExpression();expr=finishUnaryExpression(token.value,expr)}else if(matchKeyword("delete")||matchKeyword("void")||matchKeyword("typeof")){throw new Error(DISABLED)}else{expr=parsePostfixExpression()}return expr}function binaryPrecedence(token){let prec=0;if(token.type!==TokenPunctuator&&token.type!==TokenKeyword){return 0}switch(token.value){case"||":prec=1;break;case"&&":prec=2;break;case"|":prec=3;break;case"^":prec=4;break;case"&":prec=5;break;case"==":case"!=":case"===":case"!==":prec=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":prec=7;break;case"<<":case">>":case">>>":prec=8;break;case"+":case"-":prec=9;break;case"*":case"/":case"%":prec=11;break}return prec}function parseBinaryExpression(){var marker,markers,expr,token,prec,stack,right,operator,left,i;marker=lookahead;left=parseUnaryExpression();token=lookahead;prec=binaryPrecedence(token);if(prec===0){return left}token.prec=prec;lex();markers=[marker,lookahead];right=parseUnaryExpression();stack=[left,token,right];while((prec=binaryPrecedence(lookahead))>0){while(stack.length>2&&prec<=stack[stack.length-2].prec){right=stack.pop();operator=stack.pop().value;left=stack.pop();markers.pop();expr=finishBinaryExpression(operator,left,right);stack.push(expr)}token=lex();token.prec=prec;stack.push(token);markers.push(lookahead);expr=parseUnaryExpression();stack.push(expr)}i=stack.length-1;expr=stack[i];markers.pop();while(i>1){markers.pop();expr=finishBinaryExpression(stack[i-1].value,stack[i-2],expr);i-=2}return expr}function parseConditionalExpression(){var expr,consequent,alternate;expr=parseBinaryExpression();if(match("?")){lex();consequent=parseConditionalExpression();expect(":");alternate=parseConditionalExpression();expr=finishConditionalExpression(expr,consequent,alternate)}return expr}function parseExpression(){const expr=parseConditionalExpression();if(match(",")){throw new Error(DISABLED)}return expr}function parser$1(code){source=code;index=0;length=source.length;lookahead=null;peek();const expr=parseExpression();if(lookahead.type!==TokenEOF){throw new Error("Unexpect token after expression.")}return expr}var Constants={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function Functions(codegen){function fncall(name,args,cast,type){let obj=codegen(args[0]);if(cast){obj=cast+"("+obj+")";if(cast.lastIndexOf("new ",0)===0)obj="("+obj+")"}return obj+"."+name+(type<0?"":type===0?"()":"("+args.slice(1).map(codegen).join(",")+")")}function fn(name,cast,type){return args=>fncall(name,args,cast,type)}const DATE="new Date",STRING="String",REGEXP="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(args){if(args.length<3)error("Missing arguments to clamp function.");if(args.length>3)error("Too many arguments to clamp function.");const a=args.map(codegen);return"Math.max("+a[1]+", Math.min("+a[2]+","+a[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:DATE,date:fn("getDate",DATE,0),day:fn("getDay",DATE,0),year:fn("getFullYear",DATE,0),month:fn("getMonth",DATE,0),hours:fn("getHours",DATE,0),minutes:fn("getMinutes",DATE,0),seconds:fn("getSeconds",DATE,0),milliseconds:fn("getMilliseconds",DATE,0),time:fn("getTime",DATE,0),timezoneoffset:fn("getTimezoneOffset",DATE,0),utcdate:fn("getUTCDate",DATE,0),utcday:fn("getUTCDay",DATE,0),utcyear:fn("getUTCFullYear",DATE,0),utcmonth:fn("getUTCMonth",DATE,0),utchours:fn("getUTCHours",DATE,0),utcminutes:fn("getUTCMinutes",DATE,0),utcseconds:fn("getUTCSeconds",DATE,0),utcmilliseconds:fn("getUTCMilliseconds",DATE,0),length:fn("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:fn("toUpperCase",STRING,0),lower:fn("toLowerCase",STRING,0),substring:fn("substring",STRING),split:fn("split",STRING),trim:fn("trim",STRING,0),regexp:REGEXP,test:fn("test",REGEXP),if:function(args){if(args.length<3)error("Missing arguments to if function.");if(args.length>3)error("Too many arguments to if function.");const a=args.map(codegen);return"("+a[0]+"?"+a[1]+":"+a[2]+")"}}}function stripQuotes(s){const n=s&&s.length-1;return n&&(s[0]==='"'&&s[n]==='"'||s[0]==="'"&&s[n]==="'")?s.slice(1,-1):s}function codegen(opt){opt=opt||{};const allowed=opt.allowed?toSet(opt.allowed):{},forbidden=opt.forbidden?toSet(opt.forbidden):{},constants=opt.constants||Constants,functions=(opt.functions||Functions)(visit),globalvar=opt.globalvar,fieldvar=opt.fieldvar,outputGlobal=isFunction(globalvar)?globalvar:id=>`${globalvar}["${id}"]`;let globals={},fields={},memberDepth=0;function visit(ast){if(isString(ast))return ast;const generator=Generators[ast.type];if(generator==null)error("Unsupported type: "+ast.type);return generator(ast)}const Generators={Literal:n=>n.raw,Identifier:n=>{const id=n.name;if(memberDepth>0){return id}else if(has$1(forbidden,id)){return error("Illegal identifier: "+id)}else if(has$1(constants,id)){return constants[id]}else if(has$1(allowed,id)){return id}else{globals[id]=1;return outputGlobal(id)}},MemberExpression:n=>{const d=!n.computed,o=visit(n.object);if(d)memberDepth+=1;const p=visit(n.property);if(o===fieldvar){fields[stripQuotes(p)]=1}if(d)memberDepth-=1;return o+(d?"."+p:"["+p+"]")},CallExpression:n=>{if(n.callee.type!=="Identifier"){error("Illegal callee type: "+n.callee.type)}const callee=n.callee.name,args=n.arguments,fn=has$1(functions,callee)&&functions[callee];if(!fn)error("Unrecognized function: "+callee);return isFunction(fn)?fn(args):fn+"("+args.map(visit).join(",")+")"},ArrayExpression:n=>"["+n.elements.map(visit).join(",")+"]",BinaryExpression:n=>"("+visit(n.left)+" "+n.operator+" "+visit(n.right)+")",UnaryExpression:n=>"("+n.operator+visit(n.argument)+")",ConditionalExpression:n=>"("+visit(n.test)+"?"+visit(n.consequent)+":"+visit(n.alternate)+")",LogicalExpression:n=>"("+visit(n.left)+n.operator+visit(n.right)+")",ObjectExpression:n=>"{"+n.properties.map(visit).join(",")+"}",Property:n=>{memberDepth+=1;const k=visit(n.key);memberDepth-=1;return k+":"+visit(n.value)}};function codegen(ast){const result={code:visit(ast),globals:Object.keys(globals),fields:Object.keys(fields)};globals={};fields={};return result}codegen.functions=functions;codegen.constants=constants;return codegen}const Intersect="intersect";const Union="union";const VlMulti="vlMulti";const VlPoint="vlPoint";const Or="or";const And="and";const SelectionId="_vgsid_";const $selectionId=field$1(SelectionId);const TYPE_ENUM="E",TYPE_RANGE_INC="R",TYPE_RANGE_EXC="R-E",TYPE_RANGE_LE="R-LE",TYPE_RANGE_RE="R-RE",UNIT_INDEX="index:unit";function testPoint(datum,entry){var fields=entry.fields,values=entry.values,n=fields.length,i=0,dval,f;for(;i<n;++i){f=fields[i];f.getter=field$1.getter||field$1(f.field);dval=f.getter(datum);if(isDate$1(dval))dval=toNumber(dval);if(isDate$1(values[i]))values[i]=toNumber(values[i]);if(isDate$1(values[i][0]))values[i]=values[i].map(toNumber);if(f.type===TYPE_ENUM){if(isArray(values[i])?values[i].indexOf(dval)<0:dval!==values[i]){return false}}else{if(f.type===TYPE_RANGE_INC){if(!inrange(dval,values[i]))return false}else if(f.type===TYPE_RANGE_RE){if(!inrange(dval,values[i],true,false))return false}else if(f.type===TYPE_RANGE_EXC){if(!inrange(dval,values[i],false,false))return false}else if(f.type===TYPE_RANGE_LE){if(!inrange(dval,values[i],false,true))return false}}}return true}function selectionTest(name,datum,op){var data=this.context.data[name],entries=data?data.values.value:[],unitIdx=data?data[UNIT_INDEX]&&data[UNIT_INDEX].value:undefined,intersect=op===Intersect,n=entries.length,i=0,entry,miss,count,unit,b;for(;i<n;++i){entry=entries[i];if(unitIdx&&intersect){miss=miss||{};count=miss[unit=entry.unit]||0;if(count===-1)continue;b=testPoint(datum,entry);miss[unit]=b?-1:++count;if(b&&unitIdx.size===1)return true;if(!b&&count===unitIdx.get(unit).count)return false}else{b=testPoint(datum,entry);if(intersect^b)return b}}return n&&intersect}const bisect=bisector($selectionId),bisectLeft=bisect.left,bisectRight=bisect.right;function selectionIdTest(name,datum,op){const data=this.context.data[name],entries=data?data.values.value:[],unitIdx=data?data[UNIT_INDEX]&&data[UNIT_INDEX].value:undefined,intersect=op===Intersect,value=$selectionId(datum),index=bisectLeft(entries,value);if(index===entries.length)return false;if($selectionId(entries[index])!==value)return false;if(unitIdx&&intersect){if(unitIdx.size===1)return true;if(bisectRight(entries,value)-index<unitIdx.size)return false}return true}function selectionTuples(array,base){return array.map(x=>extend$1(base.fields?{values:base.fields.map(f=>(f.getter||(f.getter=field$1(f.field)))(x.datum))}:{[SelectionId]:$selectionId(x.datum)},base))}function selectionResolve(name,op,isMulti,vl5){var data=this.context.data[name],entries=data?data.values.value:[],resolved={},multiRes={},types={},entry,fields,values,unit,field,value,res,resUnit,type,union,n=entries.length,i=0,j,m;for(;i<n;++i){entry=entries[i];unit=entry.unit;fields=entry.fields;values=entry.values;if(fields&&values){for(j=0,m=fields.length;j<m;++j){field=fields[j];res=resolved[field.field]||(resolved[field.field]={});resUnit=res[unit]||(res[unit]=[]);types[field.field]=type=field.type.charAt(0);union=ops[`${type}_union`];res[unit]=union(resUnit,array$5(values[j]))}if(isMulti){resUnit=multiRes[unit]||(multiRes[unit]=[]);resUnit.push(array$5(values).reduce((obj,curr,j)=>(obj[fields[j].field]=curr,obj),{}))}}else{field=SelectionId;value=$selectionId(entry);res=resolved[field]||(resolved[field]={});resUnit=res[unit]||(res[unit]=[]);resUnit.push(value);if(isMulti){resUnit=multiRes[unit]||(multiRes[unit]=[]);resUnit.push({[SelectionId]:value})}}}op=op||Union;if(resolved[SelectionId]){resolved[SelectionId]=ops[`${SelectionId}_${op}`](...Object.values(resolved[SelectionId]))}else{Object.keys(resolved).forEach(field=>{resolved[field]=Object.keys(resolved[field]).map(unit=>resolved[field][unit]).reduce((acc,curr)=>acc===undefined?curr:ops[`${types[field]}_${op}`](acc,curr))})}entries=Object.keys(multiRes);if(isMulti&&entries.length){const key=vl5?VlPoint:VlMulti;resolved[key]=op===Union?{[Or]:entries.reduce((acc,k)=>(acc.push(...multiRes[k]),acc),[])}:{[And]:entries.map(k=>({[Or]:multiRes[k]}))}}return resolved}var ops={[`${SelectionId}_union`]:union,[`${SelectionId}_intersect`]:intersection,E_union:function(base,value){if(!base.length)return value;var i=0,n=value.length;for(;i<n;++i)if(base.indexOf(value[i])<0)base.push(value[i]);return base},E_intersect:function(base,value){return!base.length?value:base.filter(v=>value.indexOf(v)>=0)},R_union:function(base,value){var lo=toNumber(value[0]),hi=toNumber(value[1]);if(lo>hi){lo=value[1];hi=value[0]}if(!base.length)return[lo,hi];if(base[0]>lo)base[0]=lo;if(base[1]<hi)base[1]=hi;return base},R_intersect:function(base,value){var lo=toNumber(value[0]),hi=toNumber(value[1]);if(lo>hi){lo=value[1];hi=value[0]}if(!base.length)return[lo,hi];if(hi<base[0]||base[1]<lo){return[]}else{if(base[0]<lo)base[0]=lo;if(base[1]>hi)base[1]=hi}return base}};const DataPrefix$1=":",IndexPrefix$1="@";function selectionVisitor(name,args,scope,params){if(args[0].type!==Literal)error("First argument to selection functions must be a string literal.");const data=args[0].value,op=args.length>=2&&peek$1(args).value,field="unit",indexName=IndexPrefix$1+field,dataName=DataPrefix$1+data;if(op===Intersect&&!has$1(params,indexName)){params[indexName]=scope.getData(data).indataRef(scope,field)}if(!has$1(params,dataName)){params[dataName]=scope.getData(data).tuplesRef()}}function data$1(name){const data=this.context.data[name];return data?data.values.value:[]}function indata(name,field,value){const index=this.context.data[name]["index:"+field],entry=index?index.value.get(value):undefined;return entry?entry.count:entry}function setdata(name,tuples){const df=this.context.dataflow,data=this.context.data[name],input=data.input;df.pulse(input,df.changeset().remove(truthy).insert(tuples));return 1}function encode(item,name,retval){if(item){const df=this.context.dataflow,target=item.mark.source;df.pulse(target,df.changeset().encode(item,name))}return retval!==undefined?retval:item}const wrap=method=>function(value,spec){const locale=this.context.dataflow.locale();return locale[method](spec)(value)};const format=wrap("format");const timeFormat=wrap("timeFormat");const utcFormat=wrap("utcFormat");const timeParse=wrap("timeParse");const utcParse=wrap("utcParse");const dateObj=new Date(2e3,0,1);function time(month,day,specifier){if(!Number.isInteger(month)||!Number.isInteger(day))return"";dateObj.setYear(2e3);dateObj.setMonth(month);dateObj.setDate(day);return timeFormat.call(this,dateObj,specifier)}function monthFormat(month){return time.call(this,month,1,"%B")}function monthAbbrevFormat(month){return time.call(this,month,1,"%b")}function dayFormat(day){return time.call(this,0,2+day,"%A")}function dayAbbrevFormat(day){return time.call(this,0,2+day,"%a")}const DataPrefix=":";const IndexPrefix="@";const ScalePrefix="%";const SignalPrefix="$";function dataVisitor(name,args,scope,params){if(args[0].type!==Literal){error("First argument to data functions must be a string literal.")}const data=args[0].value,dataName=DataPrefix+data;if(!has$1(dataName,params)){try{params[dataName]=scope.getData(data).tuplesRef()}catch(err){}}}function indataVisitor(name,args,scope,params){if(args[0].type!==Literal)error("First argument to indata must be a string literal.");if(args[1].type!==Literal)error("Second argument to indata must be a string literal.");const data=args[0].value,field=args[1].value,indexName=IndexPrefix+field;if(!has$1(indexName,params)){params[indexName]=scope.getData(data).indataRef(scope,field)}}function scaleVisitor(name,args,scope,params){if(args[0].type===Literal){addScaleDependency(scope,params,args[0].value)}else{for(name in scope.scales){addScaleDependency(scope,params,name)}}}function addScaleDependency(scope,params,name){const scaleName=ScalePrefix+name;if(!has$1(params,scaleName)){try{params[scaleName]=scope.scaleRef(name)}catch(err){}}}function getScale(nameOrFunction,ctx){if(isFunction(nameOrFunction)){return nameOrFunction}if(isString(nameOrFunction)){const maybeScale=ctx.scales[nameOrFunction];return maybeScale&&isRegisteredScale(maybeScale.value)?maybeScale.value:undefined}return undefined}function internalScaleFunctions(codegen,fnctx,visitors){fnctx.__bandwidth=s=>s&&s.bandwidth?s.bandwidth():0;visitors._bandwidth=scaleVisitor;visitors._range=scaleVisitor;visitors._scale=scaleVisitor;const ref=arg=>"_["+(arg.type===Literal?$(ScalePrefix+arg.value):$(ScalePrefix)+"+"+codegen(arg))+"]";return{_bandwidth:args=>`this.__bandwidth(${ref(args[0])})`,_range:args=>`${ref(args[0])}.range()`,_scale:args=>`${ref(args[0])}(${codegen(args[1])})`}}function geoMethod(methodName,globalMethod){return function(projection,geojson,group){if(projection){const p=getScale(projection,(group||this).context);return p&&p.path[methodName](geojson)}else{return globalMethod(geojson)}}}const geoArea=geoMethod("area",geoArea$1);const geoBounds=geoMethod("bounds",geoBounds$1);const geoCentroid=geoMethod("centroid",geoCentroid$1);function inScope(item){const group=this.context.group;let value=false;if(group)while(item){if(item===group){value=true;break}item=item.mark.group}return value}function log(df,method,args){try{df[method].apply(df,["EXPRESSION"].concat([].slice.call(args)))}catch(err){df.warn(err)}return args[args.length-1]}function warn(){return log(this.context.dataflow,"warn",arguments)}function info(){return log(this.context.dataflow,"info",arguments)}function debug(){return log(this.context.dataflow,"debug",arguments)}function channel_luminance_value(channelValue){const val=channelValue/255;if(val<=.03928){return val/12.92}return Math.pow((val+.055)/1.055,2.4)}function luminance(color){const c=rgb$1(color),r=channel_luminance_value(c.r),g=channel_luminance_value(c.g),b=channel_luminance_value(c.b);return.2126*r+.7152*g+.0722*b}function contrast(color1,color2){const lum1=luminance(color1),lum2=luminance(color2),lumL=Math.max(lum1,lum2),lumD=Math.min(lum1,lum2);return(lumL+.05)/(lumD+.05)}function merge(){const args=[].slice.call(arguments);args.unshift({});return extend$1(...args)}function equal(a,b){return a===b||a!==a&&b!==b?true:isArray(a)?isArray(b)&&a.length===b.length?equalArray(a,b):false:isObject(a)&&isObject(b)?equalObject(a,b):false}function equalArray(a,b){for(let i=0,n=a.length;i<n;++i){if(!equal(a[i],b[i]))return false}return true}function equalObject(a,b){for(const key in a){if(!equal(a[key],b[key]))return false}return true}function removePredicate(props){return _=>equalObject(props,_)}function modify(name,insert,remove,toggle,modify,values){const df=this.context.dataflow,data=this.context.data[name],input=data.input,stamp=df.stamp();let changes=data.changes,predicate,key;if(df._trigger===false||!(input.value.length||insert||toggle)){return 0}if(!changes||changes.stamp<stamp){data.changes=changes=df.changeset();changes.stamp=stamp;df.runAfter(()=>{data.modified=true;df.pulse(input,changes).run()},true,1)}if(remove){predicate=remove===true?truthy:isArray(remove)||isTuple(remove)?remove:removePredicate(remove);changes.remove(predicate)}if(insert){changes.insert(insert)}if(toggle){predicate=removePredicate(toggle);if(input.value.some(predicate)){changes.remove(predicate)}else{changes.insert(toggle)}}if(modify){for(key in values){changes.modify(modify,key,values[key])}}return 1}function pinchDistance(event){const t=event.touches,dx=t[0].clientX-t[1].clientX,dy=t[0].clientY-t[1].clientY;return Math.sqrt(dx*dx+dy*dy)}function pinchAngle(event){const t=event.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}const accessors={};function pluck(data,name){const accessor=accessors[name]||(accessors[name]=field$1(name));return isArray(data)?data.map(accessor):accessor(data)}function array(seq){return isArray(seq)||ArrayBuffer.isView(seq)?seq:null}function sequence(seq){return array(seq)||(isString(seq)?seq:null)}function join(seq){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key]}return array(seq).join(...args)}function indexof(seq){for(var _len2=arguments.length,args=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){args[_key2-1]=arguments[_key2]}return sequence(seq).indexOf(...args)}function lastindexof(seq){for(var _len3=arguments.length,args=new Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++){args[_key3-1]=arguments[_key3]}return sequence(seq).lastIndexOf(...args)}function slice(seq){for(var _len4=arguments.length,args=new Array(_len4>1?_len4-1:0),_key4=1;_key4<_len4;_key4++){args[_key4-1]=arguments[_key4]}return sequence(seq).slice(...args)}function replace(str,pattern,repl){if(isFunction(repl))error("Function argument passed to replace.");return String(str).replace(pattern,repl)}function reverse(seq){return array(seq).slice().reverse()}function bandspace(count,paddingInner,paddingOuter){return bandSpace$1(count||0,paddingInner||0,paddingOuter||0)}function bandwidth(name,group){const s=getScale(name,(group||this).context);return s&&s.bandwidth?s.bandwidth():0}function copy(name,group){const s=getScale(name,(group||this).context);return s?s.copy():undefined}function domain(name,group){const s=getScale(name,(group||this).context);return s?s.domain():[]}function invert(name,range,group){const s=getScale(name,(group||this).context);return!s?undefined:isArray(range)?(s.invertRange||s.invert)(range):(s.invert||s.invertExtent)(range)}function range$1(name,group){const s=getScale(name,(group||this).context);return s&&s.range?s.range():[]}function scale$2(name,value,group){const s=getScale(name,(group||this).context);return s?s(value):undefined}function scaleGradient(scale,p0,p1,count,group){scale=getScale(scale,(group||this).context);const gradient=Gradient$1(p0,p1);let stops=scale.domain(),min=stops[0],max=peek$1(stops),fraction=identity$6;if(!(max-min)){scale=(scale.interpolator?scale$5("sequential")().interpolator(scale.interpolator()):scale$5("linear")().interpolate(scale.interpolate()).range(scale.range())).domain([min=0,max=1])}else{fraction=scaleFraction(scale,min,max)}if(scale.ticks){stops=scale.ticks(+count||15);if(min!==stops[0])stops.unshift(min);if(max!==peek$1(stops))stops.push(max)}stops.forEach(_=>gradient.stop(fraction(_),scale(_)));return gradient}function geoShape(projection,geojson,group){const p=getScale(projection,(group||this).context);return function(context){return p?p.path.context(context)(geojson):""}}function pathShape(path){let p=null;return function(context){return context?pathRender(context,p=p||parse$3(path)):path}}const datum=d=>d.data;function treeNodes(name,context){const tree=data$1.call(context,name);return tree.root&&tree.root.lookup||{}}function treePath(name,source,target){const nodes=treeNodes(name,this),s=nodes[source],t=nodes[target];return s&&t?s.path(t).map(datum):undefined}function treeAncestors(name,node){const n=treeNodes(name,this)[node];return n?n.ancestors().map(datum):undefined}const _window=()=>typeof window!=="undefined"&&window||null;function screen(){const w=_window();return w?w.screen:{}}function windowSize(){const w=_window();return w?[w.innerWidth,w.innerHeight]:[undefined,undefined]}function containerSize(){const view=this.context.dataflow,el=view.container&&view.container();return el?[el.clientWidth,el.clientHeight]:[undefined,undefined]}function intersect(b,opt,group){if(!b)return[];const[u,v]=b,box=(new Bounds).set(u[0],u[1],v[0],v[1]),scene=group||this.context.dataflow.scenegraph().root;return intersect$2(scene,box,filter(opt))}function filter(opt){let p=null;if(opt){const types=array$5(opt.marktype),names=array$5(opt.markname);p=_=>(!types.length||types.some(t=>_.marktype===t))&&(!names.length||names.some(s=>_.name===s))}return p}function lassoAppend(lasso,x,y){let minDist=arguments.length>3&&arguments[3]!==undefined?arguments[3]:5;lasso=array$5(lasso);const last=lasso[lasso.length-1];return last===undefined||Math.sqrt((last[0]-x)**2+(last[1]-y)**2)>minDist?[...lasso,[x,y]]:lasso}function lassoPath(lasso){return array$5(lasso).reduce((svg,_ref,i)=>{let[x,y]=_ref;return svg+=i==0?`M ${x},${y} `:i===lasso.length-1?" Z":`L ${x},${y} `},"")}function intersectLasso(markname,pixelLasso,unit){const{x:x,y:y,mark:mark}=unit;const bb=(new Bounds).set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[px,py]of pixelLasso){if(px<bb.x1)bb.x1=px;if(px>bb.x2)bb.x2=px;if(py<bb.y1)bb.y1=py;if(py>bb.y2)bb.y2=py}bb.translate(x,y);const intersection=intersect([[bb.x1,bb.y1],[bb.x2,bb.y2]],markname,mark);return intersection.filter(tuple=>pointInPolygon(tuple.x,tuple.y,pixelLasso))}function pointInPolygon(testx,testy,polygon){let intersections=0;for(let i=0,j=polygon.length-1;i<polygon.length;j=i++){const[prevX,prevY]=polygon[j];const[x,y]=polygon[i];if(y>testy!=prevY>testy&&testx<(prevX-x)*(testy-y)/(prevY-y)+x){intersections++}}return intersections&1}const functionContext={random(){return exports.random()},cumulativeNormal:cumulativeNormal,cumulativeLogNormal:cumulativeLogNormal,cumulativeUniform:cumulativeUniform,densityNormal:densityNormal,densityLogNormal:densityLogNormal,densityUniform:densityUniform,quantileNormal:quantileNormal,quantileLogNormal:quantileLogNormal,quantileUniform:quantileUniform,sampleNormal:sampleNormal,sampleLogNormal:sampleLogNormal,sampleUniform:sampleUniform,isArray:isArray,isBoolean:isBoolean$1,isDate:isDate$1,isDefined(_){return _!==undefined},isNumber:isNumber$1,isObject:isObject,isRegExp:isRegExp,isString:isString,isTuple:isTuple,isValid(_){return _!=null&&_===_},toBoolean:toBoolean,toDate(_){return toDate(_)},toNumber:toNumber,toString:toString,indexof:indexof,join:join,lastindexof:lastindexof,replace:replace,reverse:reverse,slice:slice,flush:flush,lerp:lerp,merge:merge,pad:pad$2,peek:peek$1,pluck:pluck,span:span,inrange:inrange,truncate:truncate$1,rgb:rgb$1,lab:lab$1,hcl:hcl$2,hsl:hsl$2,luminance:luminance,contrast:contrast,sequence:range$3,format:format,utcFormat:utcFormat,utcParse:utcParse,utcOffset:utcOffset,utcSequence:utcSequence,timeFormat:timeFormat,timeParse:timeParse,timeOffset:timeOffset,timeSequence:timeSequence,timeUnitSpecifier:timeUnitSpecifier,monthFormat:monthFormat,monthAbbrevFormat:monthAbbrevFormat,dayFormat:dayFormat,dayAbbrevFormat:dayAbbrevFormat,quarter:quarter,utcquarter:utcquarter,week:week,utcweek:utcweek,dayofyear:dayofyear,utcdayofyear:utcdayofyear,warn:warn,info:info,debug:debug,extent(_){return extent(_)},inScope:inScope,intersect:intersect,clampRange:clampRange,pinchDistance:pinchDistance,pinchAngle:pinchAngle,screen:screen,containerSize:containerSize,windowSize:windowSize,bandspace:bandspace,setdata:setdata,pathShape:pathShape,panLinear:panLinear,panLog:panLog,panPow:panPow,panSymlog:panSymlog,zoomLinear:zoomLinear,zoomLog:zoomLog,zoomPow:zoomPow,zoomSymlog:zoomSymlog,encode:encode,modify:modify,lassoAppend:lassoAppend,lassoPath:lassoPath,intersectLasso:intersectLasso};const eventFunctions=["view","item","group","xy","x","y"],eventPrefix="event.vega.",thisPrefix="this.",astVisitors={};const codegenParams={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:id=>`_[${$(SignalPrefix+id)}]`,functions:buildFunctions,constants:Constants,visitors:astVisitors};const codeGenerator=codegen(codegenParams);function buildFunctions(codegen){const fn=Functions(codegen);eventFunctions.forEach(name=>fn[name]=eventPrefix+name);for(const name in functionContext){fn[name]=thisPrefix+name}extend$1(fn,internalScaleFunctions(codegen,functionContext,astVisitors));return fn}function expressionFunction(name,fn,visitor){if(arguments.length===1){return functionContext[name]}functionContext[name]=fn;if(visitor)astVisitors[name]=visitor;if(codeGenerator)codeGenerator.functions[name]=thisPrefix+name;return this}expressionFunction("bandwidth",bandwidth,scaleVisitor);expressionFunction("copy",copy,scaleVisitor);expressionFunction("domain",domain,scaleVisitor);expressionFunction("range",range$1,scaleVisitor);expressionFunction("invert",invert,scaleVisitor);expressionFunction("scale",scale$2,scaleVisitor);expressionFunction("gradient",scaleGradient,scaleVisitor);expressionFunction("geoArea",geoArea,scaleVisitor);expressionFunction("geoBounds",geoBounds,scaleVisitor);expressionFunction("geoCentroid",geoCentroid,scaleVisitor);expressionFunction("geoShape",geoShape,scaleVisitor);expressionFunction("indata",indata,indataVisitor);expressionFunction("data",data$1,dataVisitor);expressionFunction("treePath",treePath,dataVisitor);expressionFunction("treeAncestors",treeAncestors,dataVisitor);expressionFunction("vlSelectionTest",selectionTest,selectionVisitor);expressionFunction("vlSelectionIdTest",selectionIdTest,selectionVisitor);expressionFunction("vlSelectionResolve",selectionResolve,selectionVisitor);expressionFunction("vlSelectionTuples",selectionTuples);function parser(expr,scope){const params={};let ast;try{expr=isString(expr)?expr:$(expr)+"";ast=parser$1(expr)}catch(err){error("Expression parse error: "+expr)}ast.visit(node=>{if(node.type!==CallExpression)return;const name=node.callee.name,visit=codegenParams.visitors[name];if(visit)visit(name,node.arguments,scope,params)});const gen=codeGenerator(ast);gen.globals.forEach(name=>{const signalName=SignalPrefix+name;if(!has$1(params,signalName)&&scope.getSignal(name)){params[signalName]=scope.signalRef(name)}});return{$expr:extend$1({code:gen.code},scope.options.ast?{ast:ast}:null),$fields:gen.fields,$params:params}}function parse$2(spec){const ctx=this,operators=spec.operators||[];if(spec.background){ctx.background=spec.background}if(spec.eventConfig){ctx.eventConfig=spec.eventConfig}if(spec.locale){ctx.locale=spec.locale}operators.forEach(entry=>ctx.parseOperator(entry));operators.forEach(entry=>ctx.parseOperatorParameters(entry));(spec.streams||[]).forEach(entry=>ctx.parseStream(entry));(spec.updates||[]).forEach(entry=>ctx.parseUpdate(entry));return ctx.resolve()}const Skip$2=toSet(["rule"]),Swap=toSet(["group","image","rect"]);function adjustSpatial(encode,marktype){let code="";if(Skip$2[marktype])return code;if(encode.x2){if(encode.x){if(Swap[marktype]){code+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"}code+="o.width=o.x2-o.x;"}else{code+="o.x=o.x2-(o.width||0);"}}if(encode.xc){code+="o.x=o.xc-(o.width||0)/2;"}if(encode.y2){if(encode.y){if(Swap[marktype]){code+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"}code+="o.height=o.y2-o.y;"}else{code+="o.y=o.y2-(o.height||0);"}}if(encode.yc){code+="o.y=o.yc-(o.height||0)/2;"}return code}function canonicalType(type){return(type+"").toLowerCase()}function isOperator(type){return canonicalType(type)==="operator"}function isCollect(type){return canonicalType(type)==="collect"}function expression(ctx,args,code){if(!code.endsWith(";")){code="return("+code+");"}const fn=Function(...args.concat(code));return ctx&&ctx.functions?fn.bind(ctx.functions):fn}function _compare(u,v,lt,gt){return`((u = ${u}) < (v = ${v}) || u == null) && v != null ? ${lt}\n  : (u > v || v == null) && u != null ? ${gt}\n  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${lt}\n  : v !== v && u === u ? ${gt} : `}var expressionCodegen={operator:(ctx,expr)=>expression(ctx,["_"],expr.code),parameter:(ctx,expr)=>expression(ctx,["datum","_"],expr.code),event:(ctx,expr)=>expression(ctx,["event"],expr.code),handler:(ctx,expr)=>{const code=`var datum=event.item&&event.item.datum;return ${expr.code};`;return expression(ctx,["_","event"],code)},encode:(ctx,encode)=>{const{marktype:marktype,channels:channels}=encode;let code="var o=item,datum=o.datum,m=0,$;";for(const name in channels){const o="o["+$(name)+"]";code+=`$=${channels[name].code};if(${o}!==$)${o}=$,m=1;`}code+=adjustSpatial(channels,marktype);code+="return m;";return expression(ctx,["item","_"],code)},codegen:{get(path){const ref=`[${path.map($).join("][")}]`;const get=Function("_",`return _${ref};`);get.path=ref;return get},comparator(fields,orders){let t;const map=(f,i)=>{const o=orders[i];let u,v;if(f.path){u=`a${f.path}`;v=`b${f.path}`}else{(t=t||{})["f"+i]=f;u=`this.f${i}(a)`;v=`this.f${i}(b)`}return _compare(u,v,-o,o)};const fn=Function("a","b","var u, v; return "+fields.map(map).join("")+"0;");return t?fn.bind(t):fn}}};function parseOperator(spec){const ctx=this;if(isOperator(spec.type)||!spec.type){ctx.operator(spec,spec.update?ctx.operatorExpression(spec.update):null)}else{ctx.transform(spec,spec.type)}}function parseOperatorParameters(spec){const ctx=this;if(spec.params){const op=ctx.get(spec.id);if(!op)error("Invalid operator id: "+spec.id);ctx.dataflow.connect(op,op.parameters(ctx.parseParameters(spec.params),spec.react,spec.initonly))}}function parseParameters$1(spec,params){params=params||{};const ctx=this;for(const key in spec){const value=spec[key];params[key]=isArray(value)?value.map(v=>parseParameter$2(v,ctx,params)):parseParameter$2(value,ctx,params)}return params}function parseParameter$2(spec,ctx,params){if(!spec||!isObject(spec))return spec;for(let i=0,n=PARSERS.length,p;i<n;++i){p=PARSERS[i];if(has$1(spec,p.key)){return p.parse(spec,ctx,params)}}return spec}var PARSERS=[{key:"$ref",parse:getOperator},{key:"$key",parse:getKey},{key:"$expr",parse:getExpression},{key:"$field",parse:getField},{key:"$encode",parse:getEncode},{key:"$compare",parse:getCompare},{key:"$context",parse:getContext},{key:"$subflow",parse:getSubflow},{key:"$tupleid",parse:getTupleId}];function getOperator(_,ctx){return ctx.get(_.$ref)||error("Operator not defined: "+_.$ref)}function getExpression(_,ctx,params){if(_.$params){ctx.parseParameters(_.$params,params)}const k="e:"+_.$expr.code;return ctx.fn[k]||(ctx.fn[k]=accessor(ctx.parameterExpression(_.$expr),_.$fields))}function getKey(_,ctx){const k="k:"+_.$key+"_"+!!_.$flat;return ctx.fn[k]||(ctx.fn[k]=key(_.$key,_.$flat,ctx.expr.codegen))}function getField(_,ctx){if(!_.$field)return null;const k="f:"+_.$field+"_"+_.$name;return ctx.fn[k]||(ctx.fn[k]=field$1(_.$field,_.$name,ctx.expr.codegen))}function getCompare(_,ctx){const k="c:"+_.$compare+"_"+_.$order,c=array$5(_.$compare).map(_=>_&&_.$tupleid?tupleid:_);return ctx.fn[k]||(ctx.fn[k]=compare$1(c,_.$order,ctx.expr.codegen))}function getEncode(_,ctx){const spec=_.$encode,encode={};for(const name in spec){const enc=spec[name];encode[name]=accessor(ctx.encodeExpression(enc.$expr),enc.$fields);encode[name].output=enc.$output}return encode}function getContext(_,ctx){return ctx}function getSubflow(_,ctx){const spec=_.$subflow;return function(dataflow,key,parent){const subctx=ctx.fork().parse(spec),op=subctx.get(spec.operators[0].id),p=subctx.signals.parent;if(p)p.set(parent);op.detachSubflow=()=>ctx.detach(subctx);return op}}function getTupleId(){return tupleid}function parseStream$2(spec){var ctx=this,filter=spec.filter!=null?ctx.eventExpression(spec.filter):undefined,stream=spec.stream!=null?ctx.get(spec.stream):undefined,args;if(spec.source){stream=ctx.events(spec.source,spec.type,filter)}else if(spec.merge){args=spec.merge.map(_=>ctx.get(_));stream=args[0].merge.apply(args[0],args.slice(1))}if(spec.between){args=spec.between.map(_=>ctx.get(_));stream=stream.between(args[0],args[1])}if(spec.filter){stream=stream.filter(filter)}if(spec.throttle!=null){stream=stream.throttle(+spec.throttle)}if(spec.debounce!=null){stream=stream.debounce(+spec.debounce)}if(stream==null){error("Invalid stream definition: "+JSON.stringify(spec))}if(spec.consume)stream.consume(true);ctx.stream(spec,stream)}function parseUpdate$1(spec){var ctx=this,srcid=isObject(srcid=spec.source)?srcid.$ref:srcid,source=ctx.get(srcid),target=null,update=spec.update,params=undefined;if(!source)error("Source not defined: "+spec.source);target=spec.target&&spec.target.$expr?ctx.eventExpression(spec.target.$expr):ctx.get(spec.target);if(update&&update.$expr){if(update.$params){params=ctx.parseParameters(update.$params)}update=ctx.handlerExpression(update.$expr)}ctx.update(spec,source,target,update,params)}const SKIP={skip:true};function getState$1(options){var ctx=this,state={};if(options.signals){var signals=state.signals={};Object.keys(ctx.signals).forEach(key=>{const op=ctx.signals[key];if(options.signals(key,op)){signals[key]=op.value}})}if(options.data){var data=state.data={};Object.keys(ctx.data).forEach(key=>{const dataset=ctx.data[key];if(options.data(key,dataset)){data[key]=dataset.input.value}})}if(ctx.subcontext&&options.recurse!==false){state.subcontext=ctx.subcontext.map(ctx=>ctx.getState(options))}return state}function setState$1(state){var ctx=this,df=ctx.dataflow,data=state.data,signals=state.signals;Object.keys(signals||{}).forEach(key=>{df.update(ctx.signals[key],signals[key],SKIP)});Object.keys(data||{}).forEach(key=>{df.pulse(ctx.data[key].input,df.changeset().remove(truthy).insert(data[key]))});(state.subcontext||[]).forEach((substate,i)=>{const subctx=ctx.subcontext[i];if(subctx)subctx.setState(substate)})}function context(df,transforms,functions,expr){return new Context(df,transforms,functions,expr)}function Context(df,transforms,functions,expr){this.dataflow=df;this.transforms=transforms;this.events=df.events.bind(df);this.expr=expr||expressionCodegen,this.signals={};this.scales={};this.nodes={};this.data={};this.fn={};if(functions){this.functions=Object.create(functions);this.functions.context=this}}function Subcontext(ctx){this.dataflow=ctx.dataflow;this.transforms=ctx.transforms;this.events=ctx.events;this.expr=ctx.expr;this.signals=Object.create(ctx.signals);this.scales=Object.create(ctx.scales);this.nodes=Object.create(ctx.nodes);this.data=Object.create(ctx.data);this.fn=Object.create(ctx.fn);if(ctx.functions){this.functions=Object.create(ctx.functions);this.functions.context=this}}Context.prototype=Subcontext.prototype={fork(){const ctx=new Subcontext(this);(this.subcontext||(this.subcontext=[])).push(ctx);return ctx},detach(ctx){this.subcontext=this.subcontext.filter(c=>c!==ctx);const keys=Object.keys(ctx.nodes);for(const key of keys)ctx.nodes[key]._targets=null;for(const key of keys)ctx.nodes[key].detach();ctx.nodes=null},get(id){return this.nodes[id]},set(id,node){return this.nodes[id]=node},add(spec,op){const ctx=this,df=ctx.dataflow,data=spec.value;ctx.set(spec.id,op);if(isCollect(spec.type)&&data){if(data.$ingest){df.ingest(op,data.$ingest,data.$format)}else if(data.$request){df.preload(op,data.$request,data.$format)}else{df.pulse(op,df.changeset().insert(data))}}if(spec.root){ctx.root=op}if(spec.parent){let p=ctx.get(spec.parent.$ref);if(p){df.connect(p,[op]);op.targets().add(p)}else{(ctx.unresolved=ctx.unresolved||[]).push(()=>{p=ctx.get(spec.parent.$ref);df.connect(p,[op]);op.targets().add(p)})}}if(spec.signal){ctx.signals[spec.signal]=op}if(spec.scale){ctx.scales[spec.scale]=op}if(spec.data){for(const name in spec.data){const data=ctx.data[name]||(ctx.data[name]={});spec.data[name].forEach(role=>data[role]=op)}}},resolve(){(this.unresolved||[]).forEach(fn=>fn());delete this.unresolved;return this},operator(spec,update){this.add(spec,this.dataflow.add(spec.value,update))},transform(spec,type){this.add(spec,this.dataflow.add(this.transforms[canonicalType(type)]))},stream(spec,stream){this.set(spec.id,stream)},update(spec,stream,target,update,params){this.dataflow.on(stream,target,update,params,spec.options)},operatorExpression(expr){return this.expr.operator(this,expr)},parameterExpression(expr){return this.expr.parameter(this,expr)},eventExpression(expr){return this.expr.event(this,expr)},handlerExpression(expr){return this.expr.handler(this,expr)},encodeExpression(encode){return this.expr.encode(this,encode)},parse:parse$2,parseOperator:parseOperator,parseOperatorParameters:parseOperatorParameters,parseParameters:parseParameters$1,parseStream:parseStream$2,parseUpdate:parseUpdate$1,getState:getState$1,setState:setState$1};function initializeAria(view){const el=view.container();if(el){el.setAttribute("role","graphics-document");el.setAttribute("aria-roleDescription","visualization");ariaLabel(el,view.description())}}function ariaLabel(el,desc){if(el)desc==null?el.removeAttribute("aria-label"):el.setAttribute("aria-label",desc)}function background(view){view.add(null,_=>{view._background=_.bg;view._resize=1;return _.bg},{bg:view._signals.background})}const Default="default";function cursor(view){const cursor=view._signals.cursor||(view._signals.cursor=view.add({user:Default,item:null}));view.on(view.events("view","mousemove"),cursor,(_,event)=>{const value=cursor.value,user=value?isString(value)?value:value.user:Default,item=event.item&&event.item.cursor||null;return value&&user===value.user&&item==value.item?value:{user:user,item:item}});view.add(null,(function(_){let user=_.cursor,item=this.value;if(!isString(user)){item=user.item;user=user.user}setCursor(view,user&&user!==Default?user:item||user);return item}),{cursor:cursor})}function setCursor(view,cursor){const el=view.globalCursor()?typeof document!=="undefined"&&document.body:view.container();if(el){return cursor==null?el.style.removeProperty("cursor"):el.style.cursor=cursor}}function dataref(view,name){var data=view._runtime.data;if(!has$1(data,name)){error("Unrecognized data set: "+name)}return data[name]}function data(name,values){return arguments.length<2?dataref(this,name).values.value:change.call(this,name,changeset().remove(truthy).insert(values))}function change(name,changes){if(!isChangeSet(changes)){error("Second argument to changes must be a changeset.")}const dataset=dataref(this,name);dataset.modified=true;return this.pulse(dataset.input,changes)}function insert(name,_){return change.call(this,name,changeset().insert(_))}function remove(name,_){return change.call(this,name,changeset().remove(_))}function width(view){var padding=view.padding();return Math.max(0,view._viewWidth+padding.left+padding.right)}function height(view){var padding=view.padding();return Math.max(0,view._viewHeight+padding.top+padding.bottom)}function offset(view){var padding=view.padding(),origin=view._origin;return[padding.left+origin[0],padding.top+origin[1]]}function resizeRenderer(view){var origin=offset(view),w=width(view),h=height(view);view._renderer.background(view.background());view._renderer.resize(w,h,origin);view._handler.origin(origin);view._resizeListeners.forEach(handler=>{try{handler(w,h)}catch(error){view.error(error)}})}function eventExtend(view,event,item){var r=view._renderer,el=r&&r.canvas(),p,e,translate;if(el){translate=offset(view);e=event.changedTouches?event.changedTouches[0]:event;p=point$1(e,el);p[0]-=translate[0];p[1]-=translate[1]}event.dataflow=view;event.item=item;event.vega=extension(view,item,p);return event}function extension(view,item,point){const itemGroup=item?item.mark.marktype==="group"?item:item.mark.group:null;function group(name){var g=itemGroup,i;if(name)for(i=item;i;i=i.mark.group){if(i.mark.name===name){g=i;break}}return g&&g.mark&&g.mark.interactive?g:{}}function xy(item){if(!item)return point;if(isString(item))item=group(item);const p=point.slice();while(item){p[0]-=item.x||0;p[1]-=item.y||0;item=item.mark&&item.mark.group}return p}return{view:constant$4(view),item:constant$4(item||{}),group:group,xy:xy,x:item=>xy(item)[0],y:item=>xy(item)[1]}}const VIEW$1="view",TIMER="timer",WINDOW="window",NO_TRAP={trap:false};function initializeEventConfig(config){const events=extend$1({defaults:{}},config);const unpack=(obj,keys)=>{keys.forEach(k=>{if(isArray(obj[k]))obj[k]=toSet(obj[k])})};unpack(events.defaults,["prevent","allow"]);unpack(events,["view","window","selector"]);return events}function trackEventListener(view,sources,type,handler){view._eventListeners.push({type:type,sources:array$5(sources),handler:handler})}function prevent(view,type){var def=view._eventConfig.defaults,prevent=def.prevent,allow=def.allow;return prevent===false||allow===true?false:prevent===true||allow===false?true:prevent?prevent[type]:allow?!allow[type]:view.preventDefault()}function permit(view,key,type){const rule=view._eventConfig&&view._eventConfig[key];if(rule===false||isObject(rule)&&!rule[type]){view.warn(`Blocked ${key} ${type} event listener.`);return false}return true}function events(source,type,filter){var view=this,s=new EventStream(filter),send=function(e,item){view.runAsync(null,()=>{if(source===VIEW$1&&prevent(view,type)){e.preventDefault()}s.receive(eventExtend(view,e,item))})},sources;if(source===TIMER){if(permit(view,"timer",type)){view.timer(send,type)}}else if(source===VIEW$1){if(permit(view,"view",type)){view.addEventListener(type,send,NO_TRAP)}}else{if(source===WINDOW){if(permit(view,"window",type)&&typeof window!=="undefined"){sources=[window]}}else if(typeof document!=="undefined"){if(permit(view,"selector",type)){sources=Array.from(document.querySelectorAll(source))}}if(!sources){view.warn("Can not resolve event source: "+source)}else{for(var i=0,n=sources.length;i<n;++i){sources[i].addEventListener(type,send)}trackEventListener(view,sources,type,send)}}return s}function itemFilter(event){return event.item}function markTarget(event){return event.item.mark.source}function invoke(name){return function(_,event){return event.vega.view().changeset().encode(event.item,name)}}function hover(hoverSet,leaveSet){hoverSet=[hoverSet||"hover"];leaveSet=[leaveSet||"update",hoverSet[0]];this.on(this.events("view","mouseover",itemFilter),markTarget,invoke(hoverSet));this.on(this.events("view","mouseout",itemFilter),markTarget,invoke(leaveSet));return this}function finalize(){var tooltip=this._tooltip,timers=this._timers,listeners=this._eventListeners,n,m,e;n=timers.length;while(--n>=0){timers[n].stop()}n=listeners.length;while(--n>=0){e=listeners[n];m=e.sources.length;while(--m>=0){e.sources[m].removeEventListener(e.type,e.handler)}}if(tooltip){tooltip.call(this,this._handler,null,null,null)}return this}function element(tag,attr,text){const el=document.createElement(tag);for(const key in attr)el.setAttribute(key,attr[key]);if(text!=null)el.textContent=text;return el}const BindClass="vega-bind",NameClass="vega-bind-name",RadioClass="vega-bind-radio";function bind(view,el,binding){if(!el)return;const param=binding.param;let bind=binding.state;if(!bind){bind=binding.state={elements:null,active:false,set:null,update:value=>{if(value!=view.signal(param.signal)){view.runAsync(null,()=>{bind.source=true;view.signal(param.signal,value)})}}};if(param.debounce){bind.update=debounce(param.debounce,bind.update)}}const create=param.input==null&&param.element?target:generate;create(bind,el,param,view);if(!bind.active){view.on(view._signals[param.signal],null,()=>{bind.source?bind.source=false:bind.set(view.signal(param.signal))});bind.active=true}return bind}function target(bind,node,param,view){const type=param.event||"input";const handler=()=>bind.update(node.value);view.signal(param.signal,node.value);node.addEventListener(type,handler);trackEventListener(view,node,type,handler);bind.set=value=>{node.value=value;node.dispatchEvent(event(type))}}function event(type){return typeof Event!=="undefined"?new Event(type):{type:type}}function generate(bind,el,param,view){const value=view.signal(param.signal);const div=element("div",{class:BindClass});const wrapper=param.input==="radio"?div:div.appendChild(element("label"));wrapper.appendChild(element("span",{class:NameClass},param.name||param.signal));el.appendChild(div);let input=form;switch(param.input){case"checkbox":input=checkbox;break;case"select":input=select;break;case"radio":input=radio;break;case"range":input=range;break}input(bind,wrapper,param,value)}function form(bind,el,param,value){const node=element("input");for(const key in param){if(key!=="signal"&&key!=="element"){node.setAttribute(key==="input"?"type":key,param[key])}}node.setAttribute("name",param.signal);node.value=value;el.appendChild(node);node.addEventListener("input",()=>bind.update(node.value));bind.elements=[node];bind.set=value=>node.value=value}function checkbox(bind,el,param,value){const attr={type:"checkbox",name:param.signal};if(value)attr.checked=true;const node=element("input",attr);el.appendChild(node);node.addEventListener("change",()=>bind.update(node.checked));bind.elements=[node];bind.set=value=>node.checked=!!value||null}function select(bind,el,param,value){const node=element("select",{name:param.signal}),labels=param.labels||[];param.options.forEach((option,i)=>{const attr={value:option};if(valuesEqual(option,value))attr.selected=true;node.appendChild(element("option",attr,(labels[i]||option)+""))});el.appendChild(node);node.addEventListener("change",()=>{bind.update(param.options[node.selectedIndex])});bind.elements=[node];bind.set=value=>{for(let i=0,n=param.options.length;i<n;++i){if(valuesEqual(param.options[i],value)){node.selectedIndex=i;return}}}}function radio(bind,el,param,value){const group=element("span",{class:RadioClass}),labels=param.labels||[];el.appendChild(group);bind.elements=param.options.map((option,i)=>{const attr={type:"radio",name:param.signal,value:option};if(valuesEqual(option,value))attr.checked=true;const input=element("input",attr);input.addEventListener("change",()=>bind.update(option));const label=element("label",{},(labels[i]||option)+"");label.prepend(input);group.appendChild(label);return input});bind.set=value=>{const nodes=bind.elements,n=nodes.length;for(let i=0;i<n;++i){if(valuesEqual(nodes[i].value,value))nodes[i].checked=true}}}function range(bind,el,param,value){value=value!==undefined?value:(+param.max+ +param.min)/2;const max=param.max!=null?param.max:Math.max(100,+value)||100,min=param.min||Math.min(0,max,+value)||0,step=param.step||tickStep(min,max,100);const node=element("input",{type:"range",name:param.signal,min:min,max:max,step:step});node.value=value;const span=element("span",{},+value);el.appendChild(node);el.appendChild(span);const update=()=>{span.textContent=node.value;bind.update(+node.value)};node.addEventListener("input",update);node.addEventListener("change",update);bind.elements=[node];bind.set=value=>{node.value=value;span.textContent=value}}function valuesEqual(a,b){return a===b||a+""===b+""}function initializeRenderer(view,r,el,constructor,scaleFactor,opt){r=r||new constructor(view.loader());return r.initialize(el,width(view),height(view),offset(view),scaleFactor,opt).background(view.background())}function trap(view,fn){return!fn?null:function(){try{fn.apply(this,arguments)}catch(error){view.error(error)}}}function initializeHandler(view,prevHandler,el,constructor){const handler=new constructor(view.loader(),trap(view,view.tooltip())).scene(view.scenegraph().root).initialize(el,offset(view),view);if(prevHandler){prevHandler.handlers().forEach(h=>{handler.on(h.type,h.handler)})}return handler}function initialize(el,elBind){const view=this,type=view._renderType,config=view._eventConfig.bind,module=renderModule(type);el=view._el=el?lookup$1(view,el,true):null;initializeAria(view);if(!module)view.error("Unrecognized renderer type: "+type);const Handler=module.handler||CanvasHandler,Renderer=el?module.renderer:module.headless;view._renderer=!Renderer?null:initializeRenderer(view,view._renderer,el,Renderer);view._handler=initializeHandler(view,view._handler,el,Handler);view._redraw=true;if(el&&config!=="none"){elBind=elBind?view._elBind=lookup$1(view,elBind,true):el.appendChild(element("form",{class:"vega-bindings"}));view._bind.forEach(_=>{if(_.param.element&&config!=="container"){_.element=lookup$1(view,_.param.element,!!_.param.input)}});view._bind.forEach(_=>{bind(view,_.element||elBind,_)})}return view}function lookup$1(view,el,clear){if(typeof el==="string"){if(typeof document!=="undefined"){el=document.querySelector(el);if(!el){view.error("Signal bind element not found: "+el);return null}}else{view.error("DOM document instance not found.");return null}}if(el&&clear){try{el.textContent=""}catch(e){el=null;view.error(e)}}return el}const number$1=_=>+_||0;const paddingObject$1=_=>({top:_,bottom:_,left:_,right:_});function padding(_){return isObject(_)?{top:number$1(_.top),bottom:number$1(_.bottom),left:number$1(_.left),right:number$1(_.right)}:paddingObject$1(number$1(_))}async function renderHeadless(view,type,scaleFactor,opt){const module=renderModule(type),ctr=module&&module.headless;if(!ctr)error("Unrecognized renderer type: "+type);await view.runAsync();return initializeRenderer(view,null,null,ctr,scaleFactor,opt).renderAsync(view._scenegraph.root)}async function renderToImageURL(type,scaleFactor){if(type!==RenderType.Canvas&&type!==RenderType.SVG&&type!==RenderType.PNG){error("Unrecognized image type: "+type)}const r=await renderHeadless(this,type,scaleFactor);return type===RenderType.SVG?toBlobURL(r.svg(),"image/svg+xml"):r.canvas().toDataURL("image/png")}function toBlobURL(data,mime){const blob=new Blob([data],{type:mime});return window.URL.createObjectURL(blob)}async function renderToCanvas(scaleFactor,opt){const r=await renderHeadless(this,RenderType.Canvas,scaleFactor,opt);return r.canvas()}async function renderToSVG(scaleFactor){const r=await renderHeadless(this,RenderType.SVG,scaleFactor);return r.svg()}function runtime(view,spec,expr){return context(view,transforms,functionContext,expr).parse(spec)}function scale$1(name){var scales=this._runtime.scales;if(!has$1(scales,name)){error("Unrecognized scale or projection: "+name)}return scales[name].value}var Width="width",Height="height",Padding="padding",Skip$1={skip:true};function viewWidth(view,width){var a=view.autosize(),p=view.padding();return width-(a&&a.contains===Padding?p.left+p.right:0)}function viewHeight(view,height){var a=view.autosize(),p=view.padding();return height-(a&&a.contains===Padding?p.top+p.bottom:0)}function initializeResize(view){var s=view._signals,w=s[Width],h=s[Height],p=s[Padding];function resetSize(){view._autosize=view._resize=1}view._resizeWidth=view.add(null,_=>{view._width=_.size;view._viewWidth=viewWidth(view,_.size);resetSize()},{size:w});view._resizeHeight=view.add(null,_=>{view._height=_.size;view._viewHeight=viewHeight(view,_.size);resetSize()},{size:h});const resizePadding=view.add(null,resetSize,{pad:p});view._resizeWidth.rank=w.rank+1;view._resizeHeight.rank=h.rank+1;resizePadding.rank=p.rank+1}function resizeView(viewWidth,viewHeight,width,height,origin,auto){this.runAfter(view=>{let rerun=0;view._autosize=0;if(view.width()!==width){rerun=1;view.signal(Width,width,Skip$1);view._resizeWidth.skip(true)}if(view.height()!==height){rerun=1;view.signal(Height,height,Skip$1);view._resizeHeight.skip(true)}if(view._viewWidth!==viewWidth){view._resize=1;view._viewWidth=viewWidth}if(view._viewHeight!==viewHeight){view._resize=1;view._viewHeight=viewHeight}if(view._origin[0]!==origin[0]||view._origin[1]!==origin[1]){view._resize=1;view._origin=origin}if(rerun)view.run("enter");if(auto)view.runAfter(v=>v.resize())},false,1)}function getState(options){return this._runtime.getState(options||{data:dataTest,signals:signalTest,recurse:true})}function dataTest(name,data){return data.modified&&isArray(data.input.value)&&name.indexOf("_:vega:_")}function signalTest(name,op){return!(name==="parent"||op instanceof transforms.proxy)}function setState(state){this.runAsync(null,v=>{v._trigger=false;v._runtime.setState(state)},v=>{v._trigger=true});return this}function timer(callback,delay){function tick(elapsed){callback({timestamp:Date.now(),elapsed:elapsed})}this._timers.push(interval(tick,delay))}function defaultTooltip(handler,event,item,value){const el=handler.element();if(el)el.setAttribute("title",formatTooltip(value))}function formatTooltip(value){return value==null?"":isArray(value)?formatArray(value):isObject(value)&&!isDate$1(value)?formatObject(value):value+""}function formatObject(obj){return Object.keys(obj).map(key=>{const v=obj[key];return key+": "+(isArray(v)?formatArray(v):formatValue(v))}).join("\n")}function formatArray(value){return"["+value.map(formatValue).join(", ")+"]"}function formatValue(value){return isArray(value)?"[]":isObject(value)&&!isDate$1(value)?"{}":value}function View$1(spec,options){const view=this;options=options||{};Dataflow.call(view);if(options.loader)view.loader(options.loader);if(options.logger)view.logger(options.logger);if(options.logLevel!=null)view.logLevel(options.logLevel);if(options.locale||spec.locale){const loc=extend$1({},spec.locale,options.locale);view.locale(locale(loc.number,loc.time))}view._el=null;view._elBind=null;view._renderType=options.renderer||RenderType.Canvas;view._scenegraph=new Scenegraph;const root=view._scenegraph.root;view._renderer=null;view._tooltip=options.tooltip||defaultTooltip,view._redraw=true;view._handler=(new CanvasHandler).scene(root);view._globalCursor=false;view._preventDefault=false;view._timers=[];view._eventListeners=[];view._resizeListeners=[];view._eventConfig=initializeEventConfig(spec.eventConfig);view.globalCursor(view._eventConfig.globalCursor);const ctx=runtime(view,spec,options.expr);view._runtime=ctx;view._signals=ctx.signals;view._bind=(spec.bindings||[]).map(_=>({state:null,param:extend$1({},_)}));if(ctx.root)ctx.root.set(root);root.source=ctx.data.root.input;view.pulse(ctx.data.root.input,view.changeset().insert(root.items));view._width=view.width();view._height=view.height();view._viewWidth=viewWidth(view,view._width);view._viewHeight=viewHeight(view,view._height);view._origin=[0,0];view._resize=0;view._autosize=1;initializeResize(view);background(view);cursor(view);view.description(spec.description);if(options.hover)view.hover();if(options.container)view.initialize(options.container,options.bind)}function lookupSignal(view,name){return has$1(view._signals,name)?view._signals[name]:error("Unrecognized signal name: "+$(name))}function findOperatorHandler(op,handler){const h=(op._targets||[]).filter(op=>op._update&&op._update.handler===handler);return h.length?h[0]:null}function addOperatorListener(view,name,op,handler){let h=findOperatorHandler(op,handler);if(!h){h=trap(view,()=>handler(name,op.value));h.handler=handler;view.on(op,null,h)}return view}function removeOperatorListener(view,op,handler){const h=findOperatorHandler(op,handler);if(h)op._targets.remove(h);return view}inherits(View$1,Dataflow,{async evaluate(encode,prerun,postrun){await Dataflow.prototype.evaluate.call(this,encode,prerun);if(this._redraw||this._resize){try{if(this._renderer){if(this._resize){this._resize=0;resizeRenderer(this)}await this._renderer.renderAsync(this._scenegraph.root)}this._redraw=false}catch(e){this.error(e)}}if(postrun)asyncCallback(this,postrun);return this},dirty(item){this._redraw=true;this._renderer&&this._renderer.dirty(item)},description(text){if(arguments.length){const desc=text!=null?text+"":null;if(desc!==this._desc)ariaLabel(this._el,this._desc=desc);return this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(name,value,options){const op=lookupSignal(this,name);return arguments.length===1?op.value:this.update(op,value,options)},width(_){return arguments.length?this.signal("width",_):this.signal("width")},height(_){return arguments.length?this.signal("height",_):this.signal("height")},padding(_){return arguments.length?this.signal("padding",padding(_)):padding(this.signal("padding"))},autosize(_){return arguments.length?this.signal("autosize",_):this.signal("autosize")},background(_){return arguments.length?this.signal("background",_):this.signal("background")},renderer(type){if(!arguments.length)return this._renderType;if(!renderModule(type))error("Unrecognized renderer type: "+type);if(type!==this._renderType){this._renderType=type;this._resetRenderer()}return this},tooltip(handler){if(!arguments.length)return this._tooltip;if(handler!==this._tooltip){this._tooltip=handler;this._resetRenderer()}return this},loader(loader){if(!arguments.length)return this._loader;if(loader!==this._loader){Dataflow.prototype.loader.call(this,loader);this._resetRenderer()}return this},resize(){this._autosize=1;return this.touch(lookupSignal(this,"autosize"))},_resetRenderer(){if(this._renderer){this._renderer=null;this.initialize(this._el,this._elBind)}},_resizeView:resizeView,addEventListener(type,handler,options){let callback=handler;if(!(options&&options.trap===false)){callback=trap(this,handler);callback.raw=handler}this._handler.on(type,callback);return this},removeEventListener(type,handler){var handlers=this._handler.handlers(type),i=handlers.length,h,t;while(--i>=0){t=handlers[i].type;h=handlers[i].handler;if(type===t&&(handler===h||handler===h.raw)){this._handler.off(t,h);break}}return this},addResizeListener(handler){const l=this._resizeListeners;if(l.indexOf(handler)<0){l.push(handler)}return this},removeResizeListener(handler){var l=this._resizeListeners,i=l.indexOf(handler);if(i>=0){l.splice(i,1)}return this},addSignalListener(name,handler){return addOperatorListener(this,name,lookupSignal(this,name),handler)},removeSignalListener(name,handler){return removeOperatorListener(this,lookupSignal(this,name),handler)},addDataListener(name,handler){return addOperatorListener(this,name,dataref(this,name).values,handler)},removeDataListener(name,handler){return removeOperatorListener(this,dataref(this,name).values,handler)},globalCursor(_){if(arguments.length){if(this._globalCursor!==!!_){const prev=setCursor(this,null);this._globalCursor=!!_;if(prev)setCursor(this,prev)}return this}else{return this._globalCursor}},preventDefault(_){if(arguments.length){this._preventDefault=_;return this}else{return this._preventDefault}},timer:timer,events:events,finalize:finalize,hover:hover,data:data,change:change,insert:insert,remove:remove,scale:scale$1,initialize:initialize,toImageURL:renderToImageURL,toCanvas:renderToCanvas,toSVG:renderToSVG,getState:getState,setState:setState});const VIEW="view",LBRACK="[",RBRACK="]",LBRACE="{",RBRACE="}",COLON=":",COMMA=",",NAME="@",GT=">",ILLEGAL=/[[\]{}]/,DEFAULT_MARKS={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let DEFAULT_SOURCE,MARKS;function eventSelector(selector,source,marks){DEFAULT_SOURCE=source||VIEW;MARKS=marks||DEFAULT_MARKS;return parseMerge(selector.trim()).map(parseSelector)}function isMarkType(type){return MARKS[type]}function find(s,i,endChar,pushChar,popChar){const n=s.length;let count=0,c;for(;i<n;++i){c=s[i];if(!count&&c===endChar)return i;else if(popChar&&popChar.indexOf(c)>=0)--count;else if(pushChar&&pushChar.indexOf(c)>=0)++count}return i}function parseMerge(s){const output=[],n=s.length;let start=0,i=0;while(i<n){i=find(s,i,COMMA,LBRACK+LBRACE,RBRACK+RBRACE);output.push(s.substring(start,i).trim());start=++i}if(output.length===0){throw"Empty event selector: "+s}return output}function parseSelector(s){return s[0]==="["?parseBetween(s):parseStream$1(s)}function parseBetween(s){const n=s.length;let i=1,b;i=find(s,i,RBRACK,LBRACK,RBRACK);if(i===n){throw"Empty between selector: "+s}b=parseMerge(s.substring(1,i));if(b.length!==2){throw"Between selector must have two elements: "+s}s=s.slice(i+1).trim();if(s[0]!==GT){throw"Expected '>' after between selector: "+s}b=b.map(parseSelector);const stream=parseSelector(s.slice(1).trim());if(stream.between){return{between:b,stream:stream}}else{stream.between=b}return stream}function parseStream$1(s){const stream={source:DEFAULT_SOURCE},source=[];let throttle=[0,0],markname=0,start=0,n=s.length,i=0,j,filter;if(s[n-1]===RBRACE){i=s.lastIndexOf(LBRACE);if(i>=0){try{throttle=parseThrottle(s.substring(i+1,n-1))}catch(e){throw"Invalid throttle specification: "+s}s=s.slice(0,i).trim();n=s.length}else throw"Unmatched right brace: "+s;i=0}if(!n)throw s;if(s[0]===NAME)markname=++i;j=find(s,i,COLON);if(j<n){source.push(s.substring(start,j).trim());start=i=++j}i=find(s,i,LBRACK);if(i===n){source.push(s.substring(start,n).trim())}else{source.push(s.substring(start,i).trim());filter=[];start=++i;if(start===n)throw"Unmatched left bracket: "+s}while(i<n){i=find(s,i,RBRACK);if(i===n)throw"Unmatched left bracket: "+s;filter.push(s.substring(start,i).trim());if(i<n-1&&s[++i]!==LBRACK)throw"Expected left bracket: "+s;start=++i}if(!(n=source.length)||ILLEGAL.test(source[n-1])){throw"Invalid event selector: "+s}if(n>1){stream.type=source[1];if(markname){stream.markname=source[0].slice(1)}else if(isMarkType(source[0])){stream.marktype=source[0]}else{stream.source=source[0]}}else{stream.type=source[0]}if(stream.type.slice(-1)==="!"){stream.consume=true;stream.type=stream.type.slice(0,-1)}if(filter!=null)stream.filter=filter;if(throttle[0])stream.throttle=throttle[0];if(throttle[1])stream.debounce=throttle[1];return stream}function parseThrottle(s){const a=s.split(COMMA);if(!s.length||a.length>2)throw s;return a.map(_=>{const x=+_;if(x!==x)throw s;return x})}function parseAutosize(spec){return isObject(spec)?spec:{type:spec||"pad"}}const number=_=>+_||0;const paddingObject=_=>({top:_,bottom:_,left:_,right:_});function parsePadding(spec){return!isObject(spec)?paddingObject(number(spec)):spec.signal?spec:{top:number(spec.top),bottom:number(spec.bottom),left:number(spec.left),right:number(spec.right)}}const encoder=_=>isObject(_)&&!isArray(_)?extend$1({},_):{value:_};function addEncode(object,name,value,set){if(value!=null){const isEncoder=isObject(value)&&!isArray(value)||isArray(value)&&value.length&&isObject(value[0]);if(isEncoder){object.update[name]=value}else{object[set||"enter"][name]={value:value}}return 1}else{return 0}}function addEncoders(object,enter,update){for(const name in enter){addEncode(object,name,enter[name])}for(const name in update){addEncode(object,name,update[name],"update")}}function extendEncode(encode,extra,skip){for(const name in extra){if(skip&&has$1(skip,name))continue;encode[name]=extend$1(encode[name]||{},extra[name])}return encode}function has(key,encode){return encode&&(encode.enter&&encode.enter[key]||encode.update&&encode.update[key])}const MarkRole="mark";const FrameRole="frame";const ScopeRole="scope";const AxisRole="axis";const AxisDomainRole="axis-domain";const AxisGridRole="axis-grid";const AxisLabelRole="axis-label";const AxisTickRole="axis-tick";const AxisTitleRole="axis-title";const LegendRole="legend";const LegendBandRole="legend-band";const LegendEntryRole="legend-entry";const LegendGradientRole="legend-gradient";const LegendLabelRole="legend-label";const LegendSymbolRole="legend-symbol";const LegendTitleRole="legend-title";const TitleRole="title";const TitleTextRole="title-text";const TitleSubtitleRole="title-subtitle";function applyDefaults(encode,type,role,style,config){const defaults={},enter={};let update,key,skip,props;key="lineBreak";if(type==="text"&&config[key]!=null&&!has(key,encode)){applyDefault(defaults,key,config[key])}if(role=="legend"||String(role).startsWith("axis")){role=null}props=role===FrameRole?config.group:role===MarkRole?extend$1({},config.mark,config[type]):null;for(key in props){skip=has(key,encode)||(key==="fill"||key==="stroke")&&(has("fill",encode)||has("stroke",encode));if(!skip)applyDefault(defaults,key,props[key])}array$5(style).forEach(name=>{const props=config.style&&config.style[name];for(const key in props){if(!has(key,encode)){applyDefault(defaults,key,props[key])}}});encode=extend$1({},encode);for(key in defaults){props=defaults[key];if(props.signal){(update=update||{})[key]=props}else{enter[key]=props}}encode.enter=extend$1(enter,encode.enter);if(update)encode.update=extend$1(update,encode.update);return encode}function applyDefault(defaults,key,value){defaults[key]=value&&value.signal?{signal:value.signal}:{value:value}}const scaleRef=scale=>isString(scale)?$(scale):scale.signal?`(${scale.signal})`:field(scale);function entry$1(enc){if(enc.gradient!=null){return gradient(enc)}let value=enc.signal?`(${enc.signal})`:enc.color?color(enc.color):enc.field!=null?field(enc.field):enc.value!==undefined?$(enc.value):undefined;if(enc.scale!=null){value=scale(enc,value)}if(value===undefined){value=null}if(enc.exponent!=null){value=`pow(${value},${property(enc.exponent)})`}if(enc.mult!=null){value+=`*${property(enc.mult)}`}if(enc.offset!=null){value+=`+${property(enc.offset)}`}if(enc.round){value=`round(${value})`}return value}const _color=(type,x,y,z)=>`(${type}(${[x,y,z].map(entry$1).join(",")})+'')`;function color(enc){return enc.c?_color("hcl",enc.h,enc.c,enc.l):enc.h||enc.s?_color("hsl",enc.h,enc.s,enc.l):enc.l||enc.a?_color("lab",enc.l,enc.a,enc.b):enc.r||enc.g||enc.b?_color("rgb",enc.r,enc.g,enc.b):null}function gradient(enc){const args=[enc.start,enc.stop,enc.count].map(_=>_==null?null:$(_));while(args.length&&peek$1(args)==null)args.pop();args.unshift(scaleRef(enc.gradient));return`gradient(${args.join(",")})`}function property(property){return isObject(property)?"("+entry$1(property)+")":property}function field(ref){return resolveField(isObject(ref)?ref:{datum:ref})}function resolveField(ref){let object,level,field;if(ref.signal){object="datum";field=ref.signal}else if(ref.group||ref.parent){level=Math.max(1,ref.level||1);object="item";while(level-- >0){object+=".mark.group"}if(ref.parent){field=ref.parent;object+=".datum"}else{field=ref.group}}else if(ref.datum){object="datum";field=ref.datum}else{error("Invalid field reference: "+$(ref))}if(!ref.signal){field=isString(field)?splitAccessPath(field).map($).join("]["):resolveField(field)}return object+"["+field+"]"}function scale(enc,value){const scale=scaleRef(enc.scale);if(enc.range!=null){value=`lerp(_range(${scale}), ${+enc.range})`}else{if(value!==undefined)value=`_scale(${scale}, ${value})`;if(enc.band){value=(value?value+"+":"")+`_bandwidth(${scale})`+(+enc.band===1?"":"*"+property(enc.band));if(enc.extra){value=`(datum.extra ? _scale(${scale}, datum.extra.value) : ${value})`}}if(value==null)value="0"}return value}function rule(enc){let code="";enc.forEach(rule=>{const value=entry$1(rule);code+=rule.test?`(${rule.test})?${value}:`:value});if(peek$1(code)===":"){code+="null"}return code}function parseEncode(encode,type,role,style,scope,params){const enc={};params=params||{};params.encoders={$encode:enc};encode=applyDefaults(encode,type,role,style,scope.config);for(const key in encode){enc[key]=parseBlock(encode[key],type,params,scope)}return params}function parseBlock(block,marktype,params,scope){const channels={},fields={};for(const name in block){if(block[name]!=null){channels[name]=parse$1(expr(block[name]),scope,params,fields)}}return{$expr:{marktype:marktype,channels:channels},$fields:Object.keys(fields),$output:Object.keys(block)}}function expr(enc){return isArray(enc)?rule(enc):entry$1(enc)}function parse$1(code,scope,params,fields){const expr=parser(code,scope);expr.$fields.forEach(name=>fields[name]=1);extend$1(params,expr.$params);return expr.$expr}const OUTER="outer",OUTER_INVALID=["value","update","init","react","bind"];function outerError(prefix,name){error(prefix+' for "outer" push: '+$(name))}function parseSignal(signal,scope){const name=signal.name;if(signal.push===OUTER){if(!scope.signals[name])outerError("No prior signal definition",name);OUTER_INVALID.forEach(prop=>{if(signal[prop]!==undefined)outerError("Invalid property ",prop)})}else{const op=scope.addSignal(name,signal.value);if(signal.react===false)op.react=false;if(signal.bind)scope.addBinding(name,signal.bind)}}function Entry(type,value,params,parent){this.id=-1;this.type=type;this.value=value;this.params=params;if(parent)this.parent=parent}function entry(type,value,params,parent){return new Entry(type,value,params,parent)}function operator(value,params){return entry("operator",value,params)}function ref(op){const ref={$ref:op.id};if(op.id<0)(op.refs=op.refs||[]).push(ref);return ref}function fieldRef$1(field,name){return name?{$field:field,$name:name}:{$field:field}}const keyFieldRef=fieldRef$1("key");function compareRef(fields,orders){return{$compare:fields,$order:orders}}function keyRef(fields,flat){const ref={$key:fields};if(flat)ref.$flat=true;return ref}const Ascending="ascending";const Descending="descending";function sortKey(sort){return!isObject(sort)?"":(sort.order===Descending?"-":"+")+aggrField(sort.op,sort.field)}function aggrField(op,field){return(op&&op.signal?"$"+op.signal:op||"")+(op&&field?"_":"")+(field&&field.signal?"$"+field.signal:field||"")}const Scope$1="scope";const View="view";function isSignal(_){return _&&_.signal}function isExpr$1(_){return _&&_.expr}function hasSignal(_){if(isSignal(_))return true;if(isObject(_))for(const key in _){if(hasSignal(_[key]))return true}return false}function value(specValue,defaultValue){return specValue!=null?specValue:defaultValue}function deref(v){return v&&v.signal||v}const Timer="timer";function parseStream(stream,scope){const method=stream.merge?mergeStream:stream.stream?nestedStream:stream.type?eventStream:error("Invalid stream specification: "+$(stream));return method(stream,scope)}function eventSource(source){return source===Scope$1?View:source||View}function mergeStream(stream,scope){const list=stream.merge.map(s=>parseStream(s,scope)),entry=streamParameters({merge:list},stream,scope);return scope.addStream(entry).id}function nestedStream(stream,scope){const id=parseStream(stream.stream,scope),entry=streamParameters({stream:id},stream,scope);return scope.addStream(entry).id}function eventStream(stream,scope){let id;if(stream.type===Timer){id=scope.event(Timer,stream.throttle);stream={between:stream.between,filter:stream.filter}}else{id=scope.event(eventSource(stream.source),stream.type)}const entry=streamParameters({stream:id},stream,scope);return Object.keys(entry).length===1?id:scope.addStream(entry).id}function streamParameters(entry,stream,scope){let param=stream.between;if(param){if(param.length!==2){error('Stream "between" parameter must have 2 entries: '+$(stream))}entry.between=[parseStream(param[0],scope),parseStream(param[1],scope)]}param=stream.filter?[].concat(stream.filter):[];if(stream.marktype||stream.markname||stream.markrole){param.push(filterMark(stream.marktype,stream.markname,stream.markrole))}if(stream.source===Scope$1){param.push("inScope(event.item)")}if(param.length){entry.filter=parser("("+param.join(")&&(")+")",scope).$expr}if((param=stream.throttle)!=null){entry.throttle=+param}if((param=stream.debounce)!=null){entry.debounce=+param}if(stream.consume){entry.consume=true}return entry}function filterMark(type,name,role){const item="event.item";return item+(type&&type!=="*"?"&&"+item+".mark.marktype==='"+type+"'":"")+(role?"&&"+item+".mark.role==='"+role+"'":"")+(name?"&&"+item+".mark.name==='"+name+"'":"")}const OP_VALUE_EXPR={code:"_.$value",ast:{type:"Identifier",value:"value"}};function parseUpdate(spec,scope,target){const encode=spec.encode,entry={target:target};let events=spec.events,update=spec.update,sources=[];if(!events){error("Signal update missing events specification.")}if(isString(events)){events=eventSelector(events,scope.isSubscope()?Scope$1:View)}events=array$5(events).filter(s=>s.signal||s.scale?(sources.push(s),0):1);if(sources.length>1){sources=[mergeSources(sources)]}if(events.length){sources.push(events.length>1?{merge:events}:events[0])}if(encode!=null){if(update)error("Signal encode and update are mutually exclusive.");update="encode(item(),"+$(encode)+")"}entry.update=isString(update)?parser(update,scope):update.expr!=null?parser(update.expr,scope):update.value!=null?update.value:update.signal!=null?{$expr:OP_VALUE_EXPR,$params:{$value:scope.signalRef(update.signal)}}:error("Invalid signal update specification.");if(spec.force){entry.options={force:true}}sources.forEach(source=>scope.addUpdate(extend$1(streamSource(source,scope),entry)))}function streamSource(stream,scope){return{source:stream.signal?scope.signalRef(stream.signal):stream.scale?scope.scaleRef(stream.scale):parseStream(stream,scope)}}function mergeSources(sources){return{signal:"["+sources.map(s=>s.scale?'scale("'+s.scale+'")':s.signal)+"]"}}function parseSignalUpdates(signal,scope){const op=scope.getSignal(signal.name);let expr=signal.update;if(signal.init){if(expr){error("Signals can not include both init and update expressions.")}else{expr=signal.init;op.initonly=true}}if(expr){expr=parser(expr,scope);op.update=expr.$expr;op.params=expr.$params}if(signal.on){signal.on.forEach(_=>parseUpdate(_,scope,op.id))}}const transform=name=>(params,value,parent)=>entry(name,value,params||undefined,parent);const Aggregate=transform("aggregate");const AxisTicks=transform("axisticks");const Bound=transform("bound");const Collect=transform("collect");const Compare=transform("compare");const DataJoin=transform("datajoin");const Encode=transform("encode");const Expression=transform("expression");const Facet=transform("facet");const Field=transform("field");const Key=transform("key");const LegendEntries=transform("legendentries");const Load=transform("load");const Mark=transform("mark");const MultiExtent=transform("multiextent");const MultiValues=transform("multivalues");const Overlap=transform("overlap");const Params=transform("params");const PreFacet=transform("prefacet");const Projection=transform("projection");const Proxy=transform("proxy");const Relay=transform("relay");const Render=transform("render");const Scale=transform("scale");const Sieve=transform("sieve");const SortItems=transform("sortitems");const ViewLayout=transform("viewlayout");const Values=transform("values");let FIELD_REF_ID=0;const MULTIDOMAIN_SORT_OPS={min:"min",max:"max",count:"sum"};function initScale(spec,scope){const type=spec.type||"linear";if(!isValidScaleType$1(type)){error("Unrecognized scale type: "+$(type))}scope.addScale(spec.name,{type:type,domain:undefined})}function parseScale(spec,scope){const params=scope.getScale(spec.name).params;let key;params.domain=parseScaleDomain(spec.domain,spec,scope);if(spec.range!=null){params.range=parseScaleRange(spec,scope,params)}if(spec.interpolate!=null){parseScaleInterpolate(spec.interpolate,params)}if(spec.nice!=null){params.nice=parseScaleNice(spec.nice)}if(spec.bins!=null){params.bins=parseScaleBins(spec.bins,scope)}for(key in spec){if(has$1(params,key)||key==="name")continue;params[key]=parseLiteral(spec[key],scope)}}function parseLiteral(v,scope){return!isObject(v)?v:v.signal?scope.signalRef(v.signal):error("Unsupported object: "+$(v))}function parseArray(v,scope){return v.signal?scope.signalRef(v.signal):v.map(v=>parseLiteral(v,scope))}function dataLookupError(name){error("Can not find data set: "+$(name))}function parseScaleDomain(domain,spec,scope){if(!domain){if(spec.domainMin!=null||spec.domainMax!=null){error("No scale domain defined for domainMin/domainMax to override.")}return}return domain.signal?scope.signalRef(domain.signal):(isArray(domain)?explicitDomain:domain.fields?multipleDomain:singularDomain)(domain,spec,scope)}function explicitDomain(domain,spec,scope){return domain.map(v=>parseLiteral(v,scope))}function singularDomain(domain,spec,scope){const data=scope.getData(domain.data);if(!data)dataLookupError(domain.data);return isDiscrete(spec.type)?data.valuesRef(scope,domain.field,parseSort(domain.sort,false)):isQuantile(spec.type)?data.domainRef(scope,domain.field):data.extentRef(scope,domain.field)}function multipleDomain(domain,spec,scope){const data=domain.data,fields=domain.fields.reduce((dom,d)=>{d=isString(d)?{data:data,field:d}:isArray(d)||d.signal?fieldRef(d,scope):d;dom.push(d);return dom},[]);return(isDiscrete(spec.type)?ordinalMultipleDomain:isQuantile(spec.type)?quantileMultipleDomain:numericMultipleDomain)(domain,scope,fields)}function fieldRef(data,scope){const name="_:vega:_"+FIELD_REF_ID++,coll=Collect({});if(isArray(data)){coll.value={$ingest:data}}else if(data.signal){const code="setdata("+$(name)+","+data.signal+")";coll.params.input=scope.signalRef(code)}scope.addDataPipeline(name,[coll,Sieve({})]);return{data:name,field:"data"}}function ordinalMultipleDomain(domain,scope,fields){const sort=parseSort(domain.sort,true);let a,v;const counts=fields.map(f=>{const data=scope.getData(f.data);if(!data)dataLookupError(f.data);return data.countsRef(scope,f.field,sort)});const p={groupby:keyFieldRef,pulse:counts};if(sort){a=sort.op||"count";v=sort.field?aggrField(a,sort.field):"count";p.ops=[MULTIDOMAIN_SORT_OPS[a]];p.fields=[scope.fieldRef(v)];p.as=[v]}a=scope.add(Aggregate(p));const c=scope.add(Collect({pulse:ref(a)}));v=scope.add(Values({field:keyFieldRef,sort:scope.sortRef(sort),pulse:ref(c)}));return ref(v)}function parseSort(sort,multidomain){if(sort){if(!sort.field&&!sort.op){if(isObject(sort))sort.field="key";else sort={field:"key"}}else if(!sort.field&&sort.op!=="count"){error("No field provided for sort aggregate op: "+sort.op)}else if(multidomain&&sort.field){if(sort.op&&!MULTIDOMAIN_SORT_OPS[sort.op]){error("Multiple domain scales can not be sorted using "+sort.op)}}}return sort}function quantileMultipleDomain(domain,scope,fields){const values=fields.map(f=>{const data=scope.getData(f.data);if(!data)dataLookupError(f.data);return data.domainRef(scope,f.field)});return ref(scope.add(MultiValues({values:values})))}function numericMultipleDomain(domain,scope,fields){const extents=fields.map(f=>{const data=scope.getData(f.data);if(!data)dataLookupError(f.data);return data.extentRef(scope,f.field)});return ref(scope.add(MultiExtent({extents:extents})))}function parseScaleBins(v,scope){return v.signal||isArray(v)?parseArray(v,scope):scope.objectProperty(v)}function parseScaleNice(nice){return isObject(nice)?{interval:parseLiteral(nice.interval),step:parseLiteral(nice.step)}:parseLiteral(nice)}function parseScaleInterpolate(interpolate,params){params.interpolate=parseLiteral(interpolate.type||interpolate);if(interpolate.gamma!=null){params.interpolateGamma=parseLiteral(interpolate.gamma)}}function parseScaleRange(spec,scope,params){const config=scope.config.range;let range=spec.range;if(range.signal){return scope.signalRef(range.signal)}else if(isString(range)){if(config&&has$1(config,range)){spec=extend$1({},spec,{range:config[range]});return parseScaleRange(spec,scope,params)}else if(range==="width"){range=[0,{signal:"width"}]}else if(range==="height"){range=isDiscrete(spec.type)?[0,{signal:"height"}]:[{signal:"height"},0]}else{error("Unrecognized scale range value: "+$(range))}}else if(range.scheme){params.scheme=isArray(range.scheme)?parseArray(range.scheme,scope):parseLiteral(range.scheme,scope);if(range.extent)params.schemeExtent=parseArray(range.extent,scope);if(range.count)params.schemeCount=parseLiteral(range.count,scope);return}else if(range.step){params.rangeStep=parseLiteral(range.step,scope);return}else if(isDiscrete(spec.type)&&!isArray(range)){return parseScaleDomain(range,spec,scope)}else if(!isArray(range)){error("Unsupported range type: "+$(range))}return range.map(v=>(isArray(v)?parseArray:parseLiteral)(v,scope))}function parseProjection(proj,scope){const config=scope.config.projection||{},params={};for(const name in proj){if(name==="name")continue;params[name]=parseParameter$1(proj[name],name,scope)}for(const name in config){if(params[name]==null){params[name]=parseParameter$1(config[name],name,scope)}}scope.addProjection(proj.name,params)}function parseParameter$1(_,name,scope){return isArray(_)?_.map(_=>parseParameter$1(_,name,scope)):!isObject(_)?_:_.signal?scope.signalRef(_.signal):name==="fit"?_:error("Unsupported parameter object: "+$(_))}const Top="top";const Left="left";const Right="right";const Bottom="bottom";const Center="center";const Vertical="vertical";const Start="start";const Middle="middle";const End="end";const Index="index";const Label="label";const Offset="offset";const Perc="perc";const Perc2="perc2";const Value="value";const GuideLabelStyle="guide-label";const GuideTitleStyle="guide-title";const GroupTitleStyle="group-title";const GroupSubtitleStyle="group-subtitle";const Symbols="symbol";const Gradient="gradient";const Discrete="discrete";const Size="size";const Shape="shape";const Fill="fill";const Stroke="stroke";const StrokeWidth="strokeWidth";const StrokeDash="strokeDash";const Opacity="opacity";const LegendScales=[Size,Shape,Fill,Stroke,StrokeWidth,StrokeDash,Opacity];const Skip={name:1,style:1,interactive:1};const zero={value:0};const one={value:1};const GroupMark="group";const RectMark="rect";const RuleMark="rule";const SymbolMark="symbol";const TextMark="text";function guideGroup(mark){mark.type=GroupMark;mark.interactive=mark.interactive||false;return mark}function lookup(spec,config){const _=(name,dflt)=>value(spec[name],value(config[name],dflt));_.isVertical=s=>Vertical===value(spec.direction,config.direction||(s?config.symbolDirection:config.gradientDirection));_.gradientLength=()=>value(spec.gradientLength,config.gradientLength||config.gradientWidth);_.gradientThickness=()=>value(spec.gradientThickness,config.gradientThickness||config.gradientHeight);_.entryColumns=()=>value(spec.columns,value(config.columns,+_.isVertical(true)));return _}function getEncoding(name,encode){const v=encode&&(encode.update&&encode.update[name]||encode.enter&&encode.enter[name]);return v&&v.signal?v:v?v.value:null}function getStyle(name,scope,style){const s=scope.config.style[style];return s&&s[name]}function anchorExpr(s,e,m){return`item.anchor === '${Start}' ? ${s} : item.anchor === '${End}' ? ${e} : ${m}`}const alignExpr$1=anchorExpr($(Left),$(Right),$(Center));function tickBand(_){const v=_("tickBand");let offset=_("tickOffset"),band,extra;if(!v){band=_("bandPosition");extra=_("tickExtra")}else if(v.signal){band={signal:`(${v.signal}) === 'extent' ? 1 : 0.5`};extra={signal:`(${v.signal}) === 'extent'`};if(!isObject(offset)){offset={signal:`(${v.signal}) === 'extent' ? 0 : ${offset}`}}}else if(v==="extent"){band=1;extra=true;offset=0}else{band=.5;extra=false}return{extra:extra,band:band,offset:offset}}function extendOffset(value,offset){return!offset?value:!value?offset:!isObject(value)?{value:value,offset:offset}:Object.assign({},value,{offset:extendOffset(value.offset,offset)})}function guideMark(mark,extras){if(extras){mark.name=extras.name;mark.style=extras.style||mark.style;mark.interactive=!!extras.interactive;mark.encode=extendEncode(mark.encode,extras,Skip)}else{mark.interactive=false}return mark}function legendGradient(spec,scale,config,userEncode){const _=lookup(spec,config),vertical=_.isVertical(),thickness=_.gradientThickness(),length=_.gradientLength();let enter,start,stop,width,height;if(vertical){start=[0,1];stop=[0,0];width=thickness;height=length}else{start=[0,0];stop=[1,0];width=length;height=thickness}const encode={enter:enter={opacity:zero,x:zero,y:zero,width:encoder(width),height:encoder(height)},update:extend$1({},enter,{opacity:one,fill:{gradient:scale,start:start,stop:stop}}),exit:{opacity:zero}};addEncoders(encode,{stroke:_("gradientStrokeColor"),strokeWidth:_("gradientStrokeWidth")},{opacity:_("gradientOpacity")});return guideMark({type:RectMark,role:LegendGradientRole,encode:encode},userEncode)}function legendGradientDiscrete(spec,scale,config,userEncode,dataRef){const _=lookup(spec,config),vertical=_.isVertical(),thickness=_.gradientThickness(),length=_.gradientLength();let u,v,uu,vv,adjust="";vertical?(u="y",uu="y2",v="x",vv="width",adjust="1-"):(u="x",uu="x2",v="y",vv="height");const enter={opacity:zero,fill:{scale:scale,field:Value}};enter[u]={signal:adjust+"datum."+Perc,mult:length};enter[v]=zero;enter[uu]={signal:adjust+"datum."+Perc2,mult:length};enter[vv]=encoder(thickness);const encode={enter:enter,update:extend$1({},enter,{opacity:one}),exit:{opacity:zero}};addEncoders(encode,{stroke:_("gradientStrokeColor"),strokeWidth:_("gradientStrokeWidth")},{opacity:_("gradientOpacity")});return guideMark({type:RectMark,role:LegendBandRole,key:Value,from:dataRef,encode:encode},userEncode)}const alignExpr=`datum.${Perc}<=0?"${Left}":datum.${Perc}>=1?"${Right}":"${Center}"`,baselineExpr=`datum.${Perc}<=0?"${Bottom}":datum.${Perc}>=1?"${Top}":"${Middle}"`;function legendGradientLabels(spec,config,userEncode,dataRef){const _=lookup(spec,config),vertical=_.isVertical(),thickness=encoder(_.gradientThickness()),length=_.gradientLength();let overlap=_("labelOverlap"),enter,update,u,v,adjust="";const encode={enter:enter={opacity:zero},update:update={opacity:one,text:{field:Label}},exit:{opacity:zero}};addEncoders(encode,{fill:_("labelColor"),fillOpacity:_("labelOpacity"),font:_("labelFont"),fontSize:_("labelFontSize"),fontStyle:_("labelFontStyle"),fontWeight:_("labelFontWeight"),limit:value(spec.labelLimit,config.gradientLabelLimit)});if(vertical){enter.align={value:"left"};enter.baseline=update.baseline={signal:baselineExpr};u="y";v="x";adjust="1-"}else{enter.align=update.align={signal:alignExpr};enter.baseline={value:"top"};u="x";v="y"}enter[u]=update[u]={signal:adjust+"datum."+Perc,mult:length};enter[v]=update[v]=thickness;thickness.offset=value(spec.labelOffset,config.gradientLabelOffset)||0;overlap=overlap?{separation:_("labelSeparation"),method:overlap,order:"datum."+Index}:undefined;return guideMark({type:TextMark,role:LegendLabelRole,style:GuideLabelStyle,key:Value,from:dataRef,encode:encode,overlap:overlap},userEncode)}function legendSymbolGroups(spec,config,userEncode,dataRef,columns){const _=lookup(spec,config),entries=userEncode.entries,interactive=!!(entries&&entries.interactive),name=entries?entries.name:undefined,height=_("clipHeight"),symbolOffset=_("symbolOffset"),valueRef={data:"value"},xSignal=`(${columns}) ? datum.${Offset} : datum.${Size}`,yEncode=height?encoder(height):{field:Size},index=`datum.${Index}`,ncols=`max(1, ${columns})`;let encode,enter,update,nrows,sort;yEncode.mult=.5;encode={enter:enter={opacity:zero,x:{signal:xSignal,mult:.5,offset:symbolOffset},y:yEncode},update:update={opacity:one,x:enter.x,y:enter.y},exit:{opacity:zero}};let baseFill=null,baseStroke=null;if(!spec.fill){baseFill=config.symbolBaseFillColor;baseStroke=config.symbolBaseStrokeColor}addEncoders(encode,{fill:_("symbolFillColor",baseFill),shape:_("symbolType"),size:_("symbolSize"),stroke:_("symbolStrokeColor",baseStroke),strokeDash:_("symbolDash"),strokeDashOffset:_("symbolDashOffset"),strokeWidth:_("symbolStrokeWidth")},{opacity:_("symbolOpacity")});LegendScales.forEach(scale=>{if(spec[scale]){update[scale]=enter[scale]={scale:spec[scale],field:Value}}});const symbols=guideMark({type:SymbolMark,role:LegendSymbolRole,key:Value,from:valueRef,clip:height?true:undefined,encode:encode},userEncode.symbols);const labelOffset=encoder(symbolOffset);labelOffset.offset=_("labelOffset");encode={enter:enter={opacity:zero,x:{signal:xSignal,offset:labelOffset},y:yEncode},update:update={opacity:one,text:{field:Label},x:enter.x,y:enter.y},exit:{opacity:zero}};addEncoders(encode,{align:_("labelAlign"),baseline:_("labelBaseline"),fill:_("labelColor"),fillOpacity:_("labelOpacity"),font:_("labelFont"),fontSize:_("labelFontSize"),fontStyle:_("labelFontStyle"),fontWeight:_("labelFontWeight"),limit:_("labelLimit")});const labels=guideMark({type:TextMark,role:LegendLabelRole,style:GuideLabelStyle,key:Value,from:valueRef,encode:encode},userEncode.labels);encode={enter:{noBound:{value:!height},width:zero,height:height?encoder(height):zero,opacity:zero},exit:{opacity:zero},update:update={opacity:one,row:{signal:null},column:{signal:null}}};if(_.isVertical(true)){nrows=`ceil(item.mark.items.length / ${ncols})`;update.row.signal=`${index}%${nrows}`;update.column.signal=`floor(${index} / ${nrows})`;sort={field:["row",index]}}else{update.row.signal=`floor(${index} / ${ncols})`;update.column.signal=`${index} % ${ncols}`;sort={field:index}}update.column.signal=`(${columns})?${update.column.signal}:${index}`;dataRef={facet:{data:dataRef,name:"value",groupby:Index}};return guideGroup({role:ScopeRole,from:dataRef,encode:extendEncode(encode,entries,Skip),marks:[symbols,labels],name:name,interactive:interactive,sort:sort})}function legendSymbolLayout(spec,config){const _=lookup(spec,config);return{align:_("gridAlign"),columns:_.entryColumns(),center:{row:true,column:false},padding:{row:_("rowPadding"),column:_("columnPadding")}}}const isL='item.orient === "left"',isR='item.orient === "right"',isLR=`(${isL} || ${isR})`,isVG=`datum.vgrad && ${isLR}`,baseline=anchorExpr('"top"','"bottom"','"middle"'),alignFlip=anchorExpr('"right"','"left"','"center"'),exprAlign=`datum.vgrad && ${isR} ? (${alignFlip}) : (${isLR} && !(datum.vgrad && ${isL})) ? "left" : ${alignExpr$1}`,exprAnchor=`item._anchor || (${isLR} ? "middle" : "start")`,exprAngle=`${isVG} ? (${isL} ? -90 : 90) : 0`,exprBaseline=`${isLR} ? (datum.vgrad ? (${isR} ? "bottom" : "top") : ${baseline}) : "top"`;function legendTitle(spec,config,userEncode,dataRef){const _=lookup(spec,config);const encode={enter:{opacity:zero},update:{opacity:one,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:zero}};addEncoders(encode,{orient:_("titleOrient"),_anchor:_("titleAnchor"),anchor:{signal:exprAnchor},angle:{signal:exprAngle},align:{signal:exprAlign},baseline:{signal:exprBaseline},text:spec.title,fill:_("titleColor"),fillOpacity:_("titleOpacity"),font:_("titleFont"),fontSize:_("titleFontSize"),fontStyle:_("titleFontStyle"),fontWeight:_("titleFontWeight"),limit:_("titleLimit"),lineHeight:_("titleLineHeight")},{align:_("titleAlign"),baseline:_("titleBaseline")});return guideMark({type:TextMark,role:LegendTitleRole,style:GuideTitleStyle,from:dataRef,encode:encode},userEncode)}function clip(clip,scope){let expr;if(isObject(clip)){if(clip.signal){expr=clip.signal}else if(clip.path){expr="pathShape("+param(clip.path)+")"}else if(clip.sphere){expr="geoShape("+param(clip.sphere)+', {type: "Sphere"})'}}return expr?scope.signalRef(expr):!!clip}function param(value){return isObject(value)&&value.signal?value.signal:$(value)}function getRole(spec){const role=spec.role||"";return!role.indexOf("axis")||!role.indexOf("legend")||!role.indexOf("title")?role:spec.type===GroupMark?ScopeRole:role||MarkRole}function definition(spec){return{marktype:spec.type,name:spec.name||undefined,role:spec.role||getRole(spec),zindex:+spec.zindex||undefined,aria:spec.aria,description:spec.description}}function interactive(spec,scope){return spec&&spec.signal?scope.signalRef(spec.signal):spec===false?false:true}function parseTransform(spec,scope){const def=definition$1(spec.type);if(!def)error("Unrecognized transform type: "+$(spec.type));const t=entry(def.type.toLowerCase(),null,parseParameters(def,spec,scope));if(spec.signal)scope.addSignal(spec.signal,scope.proxy(t));t.metadata=def.metadata||{};return t}function parseParameters(def,spec,scope){const params={},n=def.params.length;for(let i=0;i<n;++i){const pdef=def.params[i];params[pdef.name]=parseParameter(pdef,spec,scope)}return params}function parseParameter(def,spec,scope){const type=def.type,value=spec[def.name];if(type==="index"){return parseIndexParameter(def,spec,scope)}else if(value===undefined){if(def.required){error("Missing required "+$(spec.type)+" parameter: "+$(def.name))}return}else if(type==="param"){return parseSubParameters(def,spec,scope)}else if(type==="projection"){return scope.projectionRef(spec[def.name])}return def.array&&!isSignal(value)?value.map(v=>parameterValue(def,v,scope)):parameterValue(def,value,scope)}function parameterValue(def,value,scope){const type=def.type;if(isSignal(value)){return isExpr(type)?error("Expression references can not be signals."):isField(type)?scope.fieldRef(value):isCompare(type)?scope.compareRef(value):scope.signalRef(value.signal)}else{const expr=def.expr||isField(type);return expr&&outerExpr(value)?scope.exprRef(value.expr,value.as):expr&&outerField(value)?fieldRef$1(value.field,value.as):isExpr(type)?parser(value,scope):isData(type)?ref(scope.getData(value).values):isField(type)?fieldRef$1(value):isCompare(type)?scope.compareRef(value):value}}function parseIndexParameter(def,spec,scope){if(!isString(spec.from)){error('Lookup "from" parameter must be a string literal.')}return scope.getData(spec.from).lookupRef(scope,spec.key)}function parseSubParameters(def,spec,scope){const value=spec[def.name];if(def.array){if(!isArray(value)){error("Expected an array of sub-parameters. Instead: "+$(value))}return value.map(v=>parseSubParameter(def,v,scope))}else{return parseSubParameter(def,value,scope)}}function parseSubParameter(def,value,scope){const n=def.params.length;let pdef;for(let i=0;i<n;++i){pdef=def.params[i];for(const k in pdef.key){if(pdef.key[k]!==value[k]){pdef=null;break}}if(pdef)break}if(!pdef)error("Unsupported parameter: "+$(value));const params=extend$1(parseParameters(pdef,value,scope),pdef.key);return ref(scope.add(Params(params)))}const outerExpr=_=>_&&_.expr;const outerField=_=>_&&_.field;const isData=_=>_==="data";const isExpr=_=>_==="expr";const isField=_=>_==="field";const isCompare=_=>_==="compare";function parseData$1(from,group,scope){let facet,key,op,dataRef,parent;if(!from){dataRef=ref(scope.add(Collect(null,[{}])))}else if(facet=from.facet){if(!group)error("Only group marks can be faceted.");if(facet.field!=null){dataRef=parent=getDataRef(facet,scope)}else{if(!from.data){op=parseTransform(extend$1({type:"aggregate",groupby:array$5(facet.groupby)},facet.aggregate),scope);op.params.key=scope.keyRef(facet.groupby);op.params.pulse=getDataRef(facet,scope);dataRef=parent=ref(scope.add(op))}else{parent=ref(scope.getData(from.data).aggregate)}key=scope.keyRef(facet.groupby,true)}}if(!dataRef){dataRef=getDataRef(from,scope)}return{key:key,pulse:dataRef,parent:parent}}function getDataRef(from,scope){return from.$ref?from:from.data&&from.data.$ref?from.data:ref(scope.getData(from.data).output)}function DataScope(scope,input,output,values,aggr){this.scope=scope;this.input=input;this.output=output;this.values=values;this.aggregate=aggr;this.index={}}DataScope.fromEntries=function(scope,entries){const n=entries.length,values=entries[n-1],output=entries[n-2];let input=entries[0],aggr=null,i=1;if(input&&input.type==="load"){input=entries[1]}scope.add(entries[0]);for(;i<n;++i){entries[i].params.pulse=ref(entries[i-1]);scope.add(entries[i]);if(entries[i].type==="aggregate")aggr=entries[i]}return new DataScope(scope,input,output,values,aggr)};function fieldKey(field){return isString(field)?field:null}function addSortField(scope,p,sort){const as=aggrField(sort.op,sort.field);let s;if(p.ops){for(let i=0,n=p.as.length;i<n;++i){if(p.as[i]===as)return}}else{p.ops=["count"];p.fields=[null];p.as=["count"]}if(sort.op){p.ops.push((s=sort.op.signal)?scope.signalRef(s):sort.op);p.fields.push(scope.fieldRef(sort.field));p.as.push(as)}}function cache(scope,ds,name,optype,field,counts,index){const cache=ds[name]||(ds[name]={}),sort=sortKey(counts);let k=fieldKey(field),v,op;if(k!=null){scope=ds.scope;k=k+(sort?"|"+sort:"");v=cache[k]}if(!v){const params=counts?{field:keyFieldRef,pulse:ds.countsRef(scope,field,counts)}:{field:scope.fieldRef(field),pulse:ref(ds.output)};if(sort)params.sort=scope.sortRef(counts);op=scope.add(entry(optype,undefined,params));if(index)ds.index[field]=op;v=ref(op);if(k!=null)cache[k]=v}return v}DataScope.prototype={countsRef(scope,field,sort){const ds=this,cache=ds.counts||(ds.counts={}),k=fieldKey(field);let v,a,p;if(k!=null){scope=ds.scope;v=cache[k]}if(!v){p={groupby:scope.fieldRef(field,"key"),pulse:ref(ds.output)};if(sort&&sort.field)addSortField(scope,p,sort);a=scope.add(Aggregate(p));v=scope.add(Collect({pulse:ref(a)}));v={agg:a,ref:ref(v)};if(k!=null)cache[k]=v}else if(sort&&sort.field){addSortField(scope,v.agg.params,sort)}return v.ref},tuplesRef(){return ref(this.values)},extentRef(scope,field){return cache(scope,this,"extent","extent",field,false)},domainRef(scope,field){return cache(scope,this,"domain","values",field,false)},valuesRef(scope,field,sort){return cache(scope,this,"vals","values",field,sort||true)},lookupRef(scope,field){return cache(scope,this,"lookup","tupleindex",field,false)},indataRef(scope,field){return cache(scope,this,"indata","tupleindex",field,true,true)}};function parseFacet(spec,scope,group){const facet=spec.from.facet,name=facet.name,data=getDataRef(facet,scope);let op;if(!facet.name){error("Facet must have a name: "+$(facet))}if(!facet.data){error("Facet must reference a data set: "+$(facet))}if(facet.field){op=scope.add(PreFacet({field:scope.fieldRef(facet.field),pulse:data}))}else if(facet.groupby){op=scope.add(Facet({key:scope.keyRef(facet.groupby),group:ref(scope.proxy(group.parent)),pulse:data}))}else{error("Facet must specify groupby or field: "+$(facet))}const subscope=scope.fork(),source=subscope.add(Collect()),values=subscope.add(Sieve({pulse:ref(source)}));subscope.addData(name,new DataScope(subscope,source,source,values));subscope.addSignal("parent",null);op.params.subflow={$subflow:subscope.parse(spec).toRuntime()}}function parseSubflow(spec,scope,input){const op=scope.add(PreFacet({pulse:input.pulse})),subscope=scope.fork();subscope.add(Sieve());subscope.addSignal("parent",null);op.params.subflow={$subflow:subscope.parse(spec).toRuntime()}}function parseTrigger(spec,scope,name){const remove=spec.remove,insert=spec.insert,toggle=spec.toggle,modify=spec.modify,values=spec.values,op=scope.add(operator());const update="if("+spec.trigger+',modify("'+name+'",'+[insert,remove,toggle,modify,values].map(_=>_==null?"null":_).join(",")+"),0)";const expr=parser(update,scope);op.update=expr.$expr;op.params=expr.$params}function parseMark(spec,scope){const role=getRole(spec),group=spec.type===GroupMark,facet=spec.from&&spec.from.facet,overlap=spec.overlap;let layout=spec.layout||role===ScopeRole||role===FrameRole,ops,op,store,enc,name,layoutRef,boundRef;const nested=role===MarkRole||layout||facet;const input=parseData$1(spec.from,group,scope);op=scope.add(DataJoin({key:input.key||(spec.key?fieldRef$1(spec.key):undefined),pulse:input.pulse,clean:!group}));const joinRef=ref(op);op=store=scope.add(Collect({pulse:joinRef}));op=scope.add(Mark({markdef:definition(spec),interactive:interactive(spec.interactive,scope),clip:clip(spec.clip,scope),context:{$context:true},groups:scope.lookup(),parent:scope.signals.parent?scope.signalRef("parent"):null,index:scope.markpath(),pulse:ref(op)}));const markRef=ref(op);op=enc=scope.add(Encode(parseEncode(spec.encode,spec.type,role,spec.style,scope,{mod:false,pulse:markRef})));op.params.parent=scope.encode();if(spec.transform){spec.transform.forEach(_=>{const tx=parseTransform(_,scope),md=tx.metadata;if(md.generates||md.changes){error("Mark transforms should not generate new data.")}if(!md.nomod)enc.params.mod=true;tx.params.pulse=ref(op);scope.add(op=tx)})}if(spec.sort){op=scope.add(SortItems({sort:scope.compareRef(spec.sort),pulse:ref(op)}))}const encodeRef=ref(op);if(facet||layout){layout=scope.add(ViewLayout({layout:scope.objectProperty(spec.layout),legends:scope.legends,mark:markRef,pulse:encodeRef}));layoutRef=ref(layout)}const bound=scope.add(Bound({mark:markRef,pulse:layoutRef||encodeRef}));boundRef=ref(bound);if(group){if(nested){ops=scope.operators;ops.pop();if(layout)ops.pop()}scope.pushState(encodeRef,layoutRef||boundRef,joinRef);facet?parseFacet(spec,scope,input):nested?parseSubflow(spec,scope,input):scope.parse(spec);scope.popState();if(nested){if(layout)ops.push(layout);ops.push(bound)}}if(overlap){boundRef=parseOverlap(overlap,boundRef,scope)}const render=scope.add(Render({pulse:boundRef})),sieve=scope.add(Sieve({pulse:ref(render)},undefined,scope.parent()));if(spec.name!=null){name=spec.name;scope.addData(name,new DataScope(scope,store,render,sieve));if(spec.on)spec.on.forEach(on=>{if(on.insert||on.remove||on.toggle){error("Marks only support modify triggers.")}parseTrigger(on,scope,name)})}}function parseOverlap(overlap,source,scope){const method=overlap.method,bound=overlap.bound,sep=overlap.separation;const params={separation:isSignal(sep)?scope.signalRef(sep.signal):sep,method:isSignal(method)?scope.signalRef(method.signal):method,pulse:source};if(overlap.order){params.sort=scope.compareRef({field:overlap.order})}if(bound){const tol=bound.tolerance;params.boundTolerance=isSignal(tol)?scope.signalRef(tol.signal):+tol;params.boundScale=scope.scaleRef(bound.scale);params.boundOrient=bound.orient}return ref(scope.add(Overlap(params)))}function parseLegend(spec,scope){const config=scope.config.legend,encode=spec.encode||{},_=lookup(spec,config),legendEncode=encode.legend||{},name=legendEncode.name||undefined,interactive=legendEncode.interactive,style=legendEncode.style,scales={};let scale=0,entryLayout,params,children;LegendScales.forEach(s=>spec[s]?(scales[s]=spec[s],scale=scale||spec[s]):0);if(!scale)error("Missing valid scale for legend.");const type=legendType(spec,scope.scaleType(scale));const datum={title:spec.title!=null,scales:scales,type:type,vgrad:type!=="symbol"&&_.isVertical()};const dataRef=ref(scope.add(Collect(null,[datum])));const entryEncode={enter:{x:{value:0},y:{value:0}}};const entryRef=ref(scope.add(LegendEntries(params={type:type,scale:scope.scaleRef(scale),count:scope.objectProperty(_("tickCount")),limit:scope.property(_("symbolLimit")),values:scope.objectProperty(spec.values),minstep:scope.property(spec.tickMinStep),formatType:scope.property(spec.formatType),formatSpecifier:scope.property(spec.format)})));if(type===Gradient){children=[legendGradient(spec,scale,config,encode.gradient),legendGradientLabels(spec,config,encode.labels,entryRef)];params.count=params.count||scope.signalRef(`max(2,2*floor((${deref(_.gradientLength())})/100))`)}else if(type===Discrete){children=[legendGradientDiscrete(spec,scale,config,encode.gradient,entryRef),legendGradientLabels(spec,config,encode.labels,entryRef)]}else{entryLayout=legendSymbolLayout(spec,config);children=[legendSymbolGroups(spec,config,encode,entryRef,deref(entryLayout.columns))];params.size=sizeExpression(spec,scope,children[0].marks)}children=[guideGroup({role:LegendEntryRole,from:dataRef,encode:entryEncode,marks:children,layout:entryLayout,interactive:interactive})];if(datum.title){children.push(legendTitle(spec,config,encode.title,dataRef))}return parseMark(guideGroup({role:LegendRole,from:dataRef,encode:extendEncode(buildLegendEncode(_,spec,config),legendEncode,Skip),marks:children,aria:_("aria"),description:_("description"),zindex:_("zindex"),name:name,interactive:interactive,style:style}),scope)}function legendType(spec,scaleType){let type=spec.type||Symbols;if(!spec.type&&scaleCount(spec)===1&&(spec.fill||spec.stroke)){type=isContinuous(scaleType)?Gradient:isDiscretizing(scaleType)?Discrete:Symbols}return type!==Gradient?type:isDiscretizing(scaleType)?Discrete:Gradient}function scaleCount(spec){return LegendScales.reduce((count,type)=>count+(spec[type]?1:0),0)}function buildLegendEncode(_,spec,config){const encode={enter:{},update:{}};addEncoders(encode,{orient:_("orient"),offset:_("offset"),padding:_("padding"),titlePadding:_("titlePadding"),cornerRadius:_("cornerRadius"),fill:_("fillColor"),stroke:_("strokeColor"),strokeWidth:config.strokeWidth,strokeDash:config.strokeDash,x:_("legendX"),y:_("legendY"),format:spec.format,formatType:spec.formatType});return encode}function sizeExpression(spec,scope,marks){const size=deref(getChannel("size",spec,marks)),strokeWidth=deref(getChannel("strokeWidth",spec,marks)),fontSize=deref(getFontSize(marks[1].encode,scope,GuideLabelStyle));return parser(`max(ceil(sqrt(${size})+${strokeWidth}),${fontSize})`,scope)}function getChannel(name,spec,marks){return spec[name]?`scale("${spec[name]}",datum)`:getEncoding(name,marks[0].encode)}function getFontSize(encode,scope,style){return getEncoding("fontSize",encode)||getStyle("fontSize",scope,style)}const angleExpr=`item.orient==="${Left}"?-90:item.orient==="${Right}"?90:0`;function parseTitle(spec,scope){spec=isString(spec)?{text:spec}:spec;const _=lookup(spec,scope.config.title),encode=spec.encode||{},userEncode=encode.group||{},name=userEncode.name||undefined,interactive=userEncode.interactive,style=userEncode.style,children=[];const datum={},dataRef=ref(scope.add(Collect(null,[datum])));children.push(buildTitle(spec,_,titleEncode(spec),dataRef));if(spec.subtitle){children.push(buildSubTitle(spec,_,encode.subtitle,dataRef))}return parseMark(guideGroup({role:TitleRole,from:dataRef,encode:groupEncode(_,userEncode),marks:children,aria:_("aria"),description:_("description"),zindex:_("zindex"),name:name,interactive:interactive,style:style}),scope)}function titleEncode(spec){const encode=spec.encode;return encode&&encode.title||extend$1({name:spec.name,interactive:spec.interactive,style:spec.style},encode)}function groupEncode(_,userEncode){const encode={enter:{},update:{}};addEncoders(encode,{orient:_("orient"),anchor:_("anchor"),align:{signal:alignExpr$1},angle:{signal:angleExpr},limit:_("limit"),frame:_("frame"),offset:_("offset")||0,padding:_("subtitlePadding")});return extendEncode(encode,userEncode,Skip)}function buildTitle(spec,_,userEncode,dataRef){const zero={value:0},text=spec.text,encode={enter:{opacity:zero},update:{opacity:{value:1}},exit:{opacity:zero}};addEncoders(encode,{text:text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:_("dx"),dy:_("dy"),fill:_("color"),font:_("font"),fontSize:_("fontSize"),fontStyle:_("fontStyle"),fontWeight:_("fontWeight"),lineHeight:_("lineHeight")},{align:_("align"),angle:_("angle"),baseline:_("baseline")});return guideMark({type:TextMark,role:TitleTextRole,style:GroupTitleStyle,from:dataRef,encode:encode},userEncode)}function buildSubTitle(spec,_,userEncode,dataRef){const zero={value:0},text=spec.subtitle,encode={enter:{opacity:zero},update:{opacity:{value:1}},exit:{opacity:zero}};addEncoders(encode,{text:text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:_("dx"),dy:_("dy"),fill:_("subtitleColor"),font:_("subtitleFont"),fontSize:_("subtitleFontSize"),fontStyle:_("subtitleFontStyle"),fontWeight:_("subtitleFontWeight"),lineHeight:_("subtitleLineHeight")},{align:_("align"),angle:_("angle"),baseline:_("baseline")});return guideMark({type:TextMark,role:TitleSubtitleRole,style:GroupSubtitleStyle,from:dataRef,encode:encode},userEncode)}function parseData(data,scope){const transforms=[];if(data.transform){data.transform.forEach(tx=>{transforms.push(parseTransform(tx,scope))})}if(data.on){data.on.forEach(on=>{parseTrigger(on,scope,data.name)})}scope.addDataPipeline(data.name,analyze(data,scope,transforms))}function analyze(data,scope,ops){const output=[];let source=null,modify=false,generate=false,upstream,i,n,t,m;if(data.values){if(isSignal(data.values)||hasSignal(data.format)){output.push(load(scope,data));output.push(source=collect())}else{output.push(source=collect({$ingest:data.values,$format:data.format}))}}else if(data.url){if(hasSignal(data.url)||hasSignal(data.format)){output.push(load(scope,data));output.push(source=collect())}else{output.push(source=collect({$request:data.url,$format:data.format}))}}else if(data.source){source=upstream=array$5(data.source).map(d=>ref(scope.getData(d).output));output.push(null)}for(i=0,n=ops.length;i<n;++i){t=ops[i];m=t.metadata;if(!source&&!m.source){output.push(source=collect())}output.push(t);if(m.generates)generate=true;if(m.modifies&&!generate)modify=true;if(m.source)source=t;else if(m.changes)source=null}if(upstream){n=upstream.length-1;output[0]=Relay({derive:modify,pulse:n?upstream:upstream[0]});if(modify||n){output.splice(1,0,collect())}}if(!source)output.push(collect());output.push(Sieve({}));return output}function collect(values){const s=Collect({},values);s.metadata={source:true};return s}function load(scope,data){return Load({url:data.url?scope.property(data.url):undefined,async:data.async?scope.property(data.async):undefined,values:data.values?scope.property(data.values):undefined,format:scope.objectProperty(data.format)})}const isX=orient=>orient===Bottom||orient===Top;const getSign=(orient,a,b)=>isSignal(orient)?ifLeftTopExpr(orient.signal,a,b):orient===Left||orient===Top?a:b;const ifX=(orient,a,b)=>isSignal(orient)?ifXEnc(orient.signal,a,b):isX(orient)?a:b;const ifY=(orient,a,b)=>isSignal(orient)?ifYEnc(orient.signal,a,b):isX(orient)?b:a;const ifTop=(orient,a,b)=>isSignal(orient)?ifTopExpr(orient.signal,a,b):orient===Top?{value:a}:{value:b};const ifRight=(orient,a,b)=>isSignal(orient)?ifRightExpr(orient.signal,a,b):orient===Right?{value:a}:{value:b};const ifXEnc=($orient,a,b)=>ifEnc(`${$orient} === '${Top}' || ${$orient} === '${Bottom}'`,a,b);const ifYEnc=($orient,a,b)=>ifEnc(`${$orient} !== '${Top}' && ${$orient} !== '${Bottom}'`,a,b);const ifLeftTopExpr=($orient,a,b)=>ifExpr(`${$orient} === '${Left}' || ${$orient} === '${Top}'`,a,b);const ifTopExpr=($orient,a,b)=>ifExpr(`${$orient} === '${Top}'`,a,b);const ifRightExpr=($orient,a,b)=>ifExpr(`${$orient} === '${Right}'`,a,b);const ifEnc=(test,a,b)=>{a=a!=null?encoder(a):a;b=b!=null?encoder(b):b;if(isSimple(a)&&isSimple(b)){a=a?a.signal||$(a.value):null;b=b?b.signal||$(b.value):null;return{signal:`${test} ? (${a}) : (${b})`}}else{return[extend$1({test:test},a)].concat(b||[])}};const isSimple=enc=>enc==null||Object.keys(enc).length===1;const ifExpr=(test,a,b)=>({signal:`${test} ? (${toExpr(a)}) : (${toExpr(b)})`});const ifOrient=($orient,t,b,l,r)=>({signal:(l!=null?`${$orient} === '${Left}' ? (${toExpr(l)}) : `:"")+(b!=null?`${$orient} === '${Bottom}' ? (${toExpr(b)}) : `:"")+(r!=null?`${$orient} === '${Right}' ? (${toExpr(r)}) : `:"")+(t!=null?`${$orient} === '${Top}' ? (${toExpr(t)}) : `:"")+"(null)"});const toExpr=v=>isSignal(v)?v.signal:v==null?null:$(v);const mult=(sign,value)=>value===0?0:isSignal(sign)?{signal:`(${sign.signal}) * ${value}`}:{value:sign*value};const patch=(value,base)=>{const s=value.signal;return s&&s.endsWith("(null)")?{signal:s.slice(0,-6)+base.signal}:value};function fallback(prop,config,axisConfig,style){let styleProp;if(config&&has$1(config,prop)){return config[prop]}else if(has$1(axisConfig,prop)){return axisConfig[prop]}else if(prop.startsWith("title")){switch(prop){case"titleColor":styleProp="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":styleProp=prop[5].toLowerCase()+prop.slice(6)}return style[GuideTitleStyle][styleProp]}else if(prop.startsWith("label")){switch(prop){case"labelColor":styleProp="fill";break;case"labelFont":case"labelFontSize":styleProp=prop[5].toLowerCase()+prop.slice(6)}return style[GuideLabelStyle][styleProp]}return null}function keys(objects){const map={};for(const obj of objects){if(!obj)continue;for(const key in obj)map[key]=1}return Object.keys(map)}function axisConfig(spec,scope){var config=scope.config,style=config.style,axis=config.axis,band=scope.scaleType(spec.scale)==="band"&&config.axisBand,orient=spec.orient,xy,or,key;if(isSignal(orient)){const xyKeys=keys([config.axisX,config.axisY]),orientKeys=keys([config.axisTop,config.axisBottom,config.axisLeft,config.axisRight]);xy={};for(key of xyKeys){xy[key]=ifX(orient,fallback(key,config.axisX,axis,style),fallback(key,config.axisY,axis,style))}or={};for(key of orientKeys){or[key]=ifOrient(orient.signal,fallback(key,config.axisTop,axis,style),fallback(key,config.axisBottom,axis,style),fallback(key,config.axisLeft,axis,style),fallback(key,config.axisRight,axis,style))}}else{xy=orient===Top||orient===Bottom?config.axisX:config.axisY;or=config["axis"+orient[0].toUpperCase()+orient.slice(1)]}const result=xy||or||band?extend$1({},axis,xy,or,band):axis;return result}function axisDomain(spec,config,userEncode,dataRef){const _=lookup(spec,config),orient=spec.orient;let enter,update;const encode={enter:enter={opacity:zero},update:update={opacity:one},exit:{opacity:zero}};addEncoders(encode,{stroke:_("domainColor"),strokeCap:_("domainCap"),strokeDash:_("domainDash"),strokeDashOffset:_("domainDashOffset"),strokeWidth:_("domainWidth"),strokeOpacity:_("domainOpacity")});const pos0=position(spec,0);const pos1=position(spec,1);enter.x=update.x=ifX(orient,pos0,zero);enter.x2=update.x2=ifX(orient,pos1);enter.y=update.y=ifY(orient,pos0,zero);enter.y2=update.y2=ifY(orient,pos1);return guideMark({type:RuleMark,role:AxisDomainRole,from:dataRef,encode:encode},userEncode)}function position(spec,pos){return{scale:spec.scale,range:pos}}function axisGrid(spec,config,userEncode,dataRef,band){const _=lookup(spec,config),orient=spec.orient,vscale=spec.gridScale,sign=getSign(orient,1,-1),offset=offsetValue(spec.offset,sign);let enter,exit,update;const encode={enter:enter={opacity:zero},update:update={opacity:one},exit:exit={opacity:zero}};addEncoders(encode,{stroke:_("gridColor"),strokeCap:_("gridCap"),strokeDash:_("gridDash"),strokeDashOffset:_("gridDashOffset"),strokeOpacity:_("gridOpacity"),strokeWidth:_("gridWidth")});const tickPos={scale:spec.scale,field:Value,band:band.band,extra:band.extra,offset:band.offset,round:_("tickRound")};const sz=ifX(orient,{signal:"height"},{signal:"width"});const gridStart=vscale?{scale:vscale,range:0,mult:sign,offset:offset}:{value:0,offset:offset};const gridEnd=vscale?{scale:vscale,range:1,mult:sign,offset:offset}:extend$1(sz,{mult:sign,offset:offset});enter.x=update.x=ifX(orient,tickPos,gridStart);enter.y=update.y=ifY(orient,tickPos,gridStart);enter.x2=update.x2=ifY(orient,gridEnd);enter.y2=update.y2=ifX(orient,gridEnd);exit.x=ifX(orient,tickPos);exit.y=ifY(orient,tickPos);return guideMark({type:RuleMark,role:AxisGridRole,key:Value,from:dataRef,encode:encode},userEncode)}function offsetValue(offset,sign){if(sign===1);else if(!isObject(offset)){offset=isSignal(sign)?{signal:`(${sign.signal}) * (${offset||0})`}:sign*(offset||0)}else{let entry=offset=extend$1({},offset);while(entry.mult!=null){if(!isObject(entry.mult)){entry.mult=isSignal(sign)?{signal:`(${entry.mult}) * (${sign.signal})`}:entry.mult*sign;return offset}else{entry=entry.mult=extend$1({},entry.mult)}}entry.mult=sign}return offset}function axisTicks(spec,config,userEncode,dataRef,size,band){const _=lookup(spec,config),orient=spec.orient,sign=getSign(orient,-1,1);let enter,exit,update;const encode={enter:enter={opacity:zero},update:update={opacity:one},exit:exit={opacity:zero}};addEncoders(encode,{stroke:_("tickColor"),strokeCap:_("tickCap"),strokeDash:_("tickDash"),strokeDashOffset:_("tickDashOffset"),strokeOpacity:_("tickOpacity"),strokeWidth:_("tickWidth")});const tickSize=encoder(size);tickSize.mult=sign;const tickPos={scale:spec.scale,field:Value,band:band.band,extra:band.extra,offset:band.offset,round:_("tickRound")};update.y=enter.y=ifX(orient,zero,tickPos);update.y2=enter.y2=ifX(orient,tickSize);exit.x=ifX(orient,tickPos);update.x=enter.x=ifY(orient,zero,tickPos);update.x2=enter.x2=ifY(orient,tickSize);exit.y=ifY(orient,tickPos);return guideMark({type:RuleMark,role:AxisTickRole,key:Value,from:dataRef,encode:encode},userEncode)}function flushExpr(scale,threshold,a,b,c){return{signal:'flush(range("'+scale+'"), '+'scale("'+scale+'", datum.value), '+threshold+","+a+","+b+","+c+")"}}function axisLabels(spec,config,userEncode,dataRef,size,band){const _=lookup(spec,config),orient=spec.orient,scale=spec.scale,sign=getSign(orient,-1,1),flush=deref(_("labelFlush")),flushOffset=deref(_("labelFlushOffset")),labelAlign=_("labelAlign"),labelBaseline=_("labelBaseline");let flushOn=flush===0||!!flush,update;const tickSize=encoder(size);tickSize.mult=sign;tickSize.offset=encoder(_("labelPadding")||0);tickSize.offset.mult=sign;const tickPos={scale:scale,field:Value,band:.5,offset:extendOffset(band.offset,_("labelOffset"))};const align=ifX(orient,flushOn?flushExpr(scale,flush,'"left"','"right"','"center"'):{value:"center"},ifRight(orient,"left","right"));const baseline=ifX(orient,ifTop(orient,"bottom","top"),flushOn?flushExpr(scale,flush,'"top"','"bottom"','"middle"'):{value:"middle"});const offsetExpr=flushExpr(scale,flush,`-(${flushOffset})`,flushOffset,0);flushOn=flushOn&&flushOffset;const enter={opacity:zero,x:ifX(orient,tickPos,tickSize),y:ifY(orient,tickPos,tickSize)};const encode={enter:enter,update:update={opacity:one,text:{field:Label},x:enter.x,y:enter.y,align:align,baseline:baseline},exit:{opacity:zero,x:enter.x,y:enter.y}};addEncoders(encode,{dx:!labelAlign&&flushOn?ifX(orient,offsetExpr):null,dy:!labelBaseline&&flushOn?ifY(orient,offsetExpr):null});addEncoders(encode,{angle:_("labelAngle"),fill:_("labelColor"),fillOpacity:_("labelOpacity"),font:_("labelFont"),fontSize:_("labelFontSize"),fontWeight:_("labelFontWeight"),fontStyle:_("labelFontStyle"),limit:_("labelLimit"),lineHeight:_("labelLineHeight")},{align:labelAlign,baseline:labelBaseline});const bound=_("labelBound");let overlap=_("labelOverlap");overlap=overlap||bound?{separation:_("labelSeparation"),method:overlap,order:"datum.index",bound:bound?{scale:scale,orient:orient,tolerance:bound}:null}:undefined;if(update.align!==align){update.align=patch(update.align,align)}if(update.baseline!==baseline){update.baseline=patch(update.baseline,baseline)}return guideMark({type:TextMark,role:AxisLabelRole,style:GuideLabelStyle,key:Value,from:dataRef,encode:encode,overlap:overlap},userEncode)}function axisTitle(spec,config,userEncode,dataRef){const _=lookup(spec,config),orient=spec.orient,sign=getSign(orient,-1,1);let enter,update;const encode={enter:enter={opacity:zero,anchor:encoder(_("titleAnchor",null)),align:{signal:alignExpr$1}},update:update=extend$1({},enter,{opacity:one,text:encoder(spec.title)}),exit:{opacity:zero}};const titlePos={signal:`lerp(range("${spec.scale}"), ${anchorExpr(0,1,.5)})`};update.x=ifX(orient,titlePos);update.y=ifY(orient,titlePos);enter.angle=ifX(orient,zero,mult(sign,90));enter.baseline=ifX(orient,ifTop(orient,Bottom,Top),{value:Bottom});update.angle=enter.angle;update.baseline=enter.baseline;addEncoders(encode,{fill:_("titleColor"),fillOpacity:_("titleOpacity"),font:_("titleFont"),fontSize:_("titleFontSize"),fontStyle:_("titleFontStyle"),fontWeight:_("titleFontWeight"),limit:_("titleLimit"),lineHeight:_("titleLineHeight")},{align:_("titleAlign"),angle:_("titleAngle"),baseline:_("titleBaseline")});autoLayout(_,orient,encode,userEncode);encode.update.align=patch(encode.update.align,enter.align);encode.update.angle=patch(encode.update.angle,enter.angle);encode.update.baseline=patch(encode.update.baseline,enter.baseline);return guideMark({type:TextMark,role:AxisTitleRole,style:GuideTitleStyle,from:dataRef,encode:encode},userEncode)}function autoLayout(_,orient,encode,userEncode){const auto=(value,dim)=>value!=null?(encode.update[dim]=patch(encoder(value),encode.update[dim]),false):!has(dim,userEncode)?true:false;const autoY=auto(_("titleX"),"x"),autoX=auto(_("titleY"),"y");encode.enter.auto=autoX===autoY?encoder(autoX):ifX(orient,encoder(autoX),encoder(autoY))}function parseAxis(spec,scope){const config=axisConfig(spec,scope),encode=spec.encode||{},axisEncode=encode.axis||{},name=axisEncode.name||undefined,interactive=axisEncode.interactive,style=axisEncode.style,_=lookup(spec,config),band=tickBand(_);const datum={scale:spec.scale,ticks:!!_("ticks"),labels:!!_("labels"),grid:!!_("grid"),domain:!!_("domain"),title:spec.title!=null};const dataRef=ref(scope.add(Collect({},[datum])));const ticksRef=ref(scope.add(AxisTicks({scale:scope.scaleRef(spec.scale),extra:scope.property(band.extra),count:scope.objectProperty(spec.tickCount),values:scope.objectProperty(spec.values),minstep:scope.property(spec.tickMinStep),formatType:scope.property(spec.formatType),formatSpecifier:scope.property(spec.format)})));const children=[];let size;if(datum.grid){children.push(axisGrid(spec,config,encode.grid,ticksRef,band))}if(datum.ticks){size=_("tickSize");children.push(axisTicks(spec,config,encode.ticks,ticksRef,size,band))}if(datum.labels){size=datum.ticks?size:0;children.push(axisLabels(spec,config,encode.labels,ticksRef,size,band))}if(datum.domain){children.push(axisDomain(spec,config,encode.domain,dataRef))}if(datum.title){children.push(axisTitle(spec,config,encode.title,dataRef))}return parseMark(guideGroup({role:AxisRole,from:dataRef,encode:extendEncode(buildAxisEncode(_,spec),axisEncode,Skip),marks:children,aria:_("aria"),description:_("description"),zindex:_("zindex"),name:name,interactive:interactive,style:style}),scope)}function buildAxisEncode(_,spec){const encode={enter:{},update:{}};addEncoders(encode,{orient:_("orient"),offset:_("offset")||0,position:value(spec.position,0),titlePadding:_("titlePadding"),minExtent:_("minExtent"),maxExtent:_("maxExtent"),range:{signal:`abs(span(range("${spec.scale}")))`},translate:_("translate"),format:spec.format,formatType:spec.formatType});return encode}function parseScope(spec,scope,preprocessed){const signals=array$5(spec.signals),scales=array$5(spec.scales);if(!preprocessed)signals.forEach(_=>parseSignal(_,scope));array$5(spec.projections).forEach(_=>parseProjection(_,scope));scales.forEach(_=>initScale(_,scope));array$5(spec.data).forEach(_=>parseData(_,scope));scales.forEach(_=>parseScale(_,scope));(preprocessed||signals).forEach(_=>parseSignalUpdates(_,scope));array$5(spec.axes).forEach(_=>parseAxis(_,scope));array$5(spec.marks).forEach(_=>parseMark(_,scope));array$5(spec.legends).forEach(_=>parseLegend(_,scope));if(spec.title)parseTitle(spec.title,scope);scope.parseLambdas();return scope}const rootEncode=spec=>extendEncode({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},spec);function parseView(spec,scope){const config=scope.config;const root=ref(scope.root=scope.add(operator()));const signals=collectSignals(spec,config);signals.forEach(_=>parseSignal(_,scope));scope.description=spec.description||config.description;scope.eventConfig=config.events;scope.legends=scope.objectProperty(config.legend&&config.legend.layout);scope.locale=config.locale;const input=scope.add(Collect());const encode=scope.add(Encode(parseEncode(rootEncode(spec.encode),GroupMark,FrameRole,spec.style,scope,{pulse:ref(input)})));const parent=scope.add(ViewLayout({layout:scope.objectProperty(spec.layout),legends:scope.legends,autosize:scope.signalRef("autosize"),mark:root,pulse:ref(encode)}));scope.operators.pop();scope.pushState(ref(encode),ref(parent),null);parseScope(spec,scope,signals);scope.operators.push(parent);let op=scope.add(Bound({mark:root,pulse:ref(parent)}));op=scope.add(Render({pulse:ref(op)}));op=scope.add(Sieve({pulse:ref(op)}));scope.addData("root",new DataScope(scope,input,input,op));return scope}function signalObject(name,value){return value&&value.signal?{name:name,update:value.signal}:{name:name,value:value}}function collectSignals(spec,config){const _=name=>value(spec[name],config[name]),signals=[signalObject("background",_("background")),signalObject("autosize",parseAutosize(_("autosize"))),signalObject("padding",parsePadding(_("padding"))),signalObject("width",_("width")||0),signalObject("height",_("height")||0)],pre=signals.reduce((p,s)=>(p[s.name]=s,p),{}),map={};array$5(spec.signals).forEach(s=>{if(has$1(pre,s.name)){s=extend$1(pre[s.name],s)}else{signals.push(s)}map[s.name]=s});array$5(config.signals).forEach(s=>{if(!has$1(map,s.name)&&!has$1(pre,s.name)){signals.push(s)}});return signals}function Scope(config,options){this.config=config||{};this.options=options||{};this.bindings=[];this.field={};this.signals={};this.lambdas={};this.scales={};this.events={};this.data={};this.streams=[];this.updates=[];this.operators=[];this.eventConfig=null;this.locale=null;this._id=0;this._subid=0;this._nextsub=[0];this._parent=[];this._encode=[];this._lookup=[];this._markpath=[]}function Subscope(scope){this.config=scope.config;this.options=scope.options;this.legends=scope.legends;this.field=Object.create(scope.field);this.signals=Object.create(scope.signals);this.lambdas=Object.create(scope.lambdas);this.scales=Object.create(scope.scales);this.events=Object.create(scope.events);this.data=Object.create(scope.data);this.streams=[];this.updates=[];this.operators=[];this._id=0;this._subid=++scope._nextsub[0];this._nextsub=scope._nextsub;this._parent=scope._parent.slice();this._encode=scope._encode.slice();this._lookup=scope._lookup.slice();this._markpath=scope._markpath}Scope.prototype=Subscope.prototype={parse(spec){return parseScope(spec,this)},fork(){return new Subscope(this)},isSubscope(){return this._subid>0},toRuntime(){this.finish();return{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(op){this.operators.push(op);op.id=this.id();if(op.refs){op.refs.forEach(ref=>{ref.$ref=op.id});op.refs=null}return op},proxy(op){const vref=op instanceof Entry?ref(op):op;return this.add(Proxy({value:vref}))},addStream(stream){this.streams.push(stream);stream.id=this.id();return stream},addUpdate(update){this.updates.push(update);return update},finish(){let name,ds;if(this.root)this.root.root=true;for(name in this.signals){this.signals[name].signal=name}for(name in this.scales){this.scales[name].scale=name}function annotate(op,name,type){let data,list;if(op){data=op.data||(op.data={});list=data[name]||(data[name]=[]);list.push(type)}}for(name in this.data){ds=this.data[name];annotate(ds.input,name,"input");annotate(ds.output,name,"output");annotate(ds.values,name,"values");for(const field in ds.index){annotate(ds.index[field],name,"index:"+field)}}return this},pushState(encode,parent,lookup){this._encode.push(ref(this.add(Sieve({pulse:encode}))));this._parent.push(parent);this._lookup.push(lookup?ref(this.proxy(lookup)):null);this._markpath.push(-1)},popState(){this._encode.pop();this._parent.pop();this._lookup.pop();this._markpath.pop()},parent(){return peek$1(this._parent)},encode(){return peek$1(this._encode)},lookup(){return peek$1(this._lookup)},markpath(){const p=this._markpath;return++p[p.length-1]},fieldRef(field,name){if(isString(field))return fieldRef$1(field,name);if(!field.signal){error("Unsupported field reference: "+$(field))}const s=field.signal;let f=this.field[s];if(!f){const params={name:this.signalRef(s)};if(name)params.as=name;this.field[s]=f=ref(this.add(Field(params)))}return f},compareRef(cmp){let signal=false;const check=_=>isSignal(_)?(signal=true,this.signalRef(_.signal)):isExpr$1(_)?(signal=true,this.exprRef(_.expr)):_;const fields=array$5(cmp.field).map(check),orders=array$5(cmp.order).map(check);return signal?ref(this.add(Compare({fields:fields,orders:orders}))):compareRef(fields,orders)},keyRef(fields,flat){let signal=false;const check=_=>isSignal(_)?(signal=true,ref(sig[_.signal])):_;const sig=this.signals;fields=array$5(fields).map(check);return signal?ref(this.add(Key({fields:fields,flat:flat}))):keyRef(fields,flat)},sortRef(sort){if(!sort)return sort;const a=aggrField(sort.op,sort.field),o=sort.order||Ascending;return o.signal?ref(this.add(Compare({fields:a,orders:this.signalRef(o.signal)}))):compareRef(a,o)},event(source,type){const key=source+":"+type;if(!this.events[key]){const id=this.id();this.streams.push({id:id,source:source,type:type});this.events[key]=id}return this.events[key]},hasOwnSignal(name){return has$1(this.signals,name)},addSignal(name,value){if(this.hasOwnSignal(name)){error("Duplicate signal name: "+$(name))}const op=value instanceof Entry?value:this.add(operator(value));return this.signals[name]=op},getSignal(name){if(!this.signals[name]){error("Unrecognized signal name: "+$(name))}return this.signals[name]},signalRef(s){if(this.signals[s]){return ref(this.signals[s])}else if(!has$1(this.lambdas,s)){this.lambdas[s]=this.add(operator(null))}return ref(this.lambdas[s])},parseLambdas(){const code=Object.keys(this.lambdas);for(let i=0,n=code.length;i<n;++i){const s=code[i],e=parser(s,this),op=this.lambdas[s];op.params=e.$params;op.update=e.$expr}},property(spec){return spec&&spec.signal?this.signalRef(spec.signal):spec},objectProperty(spec){return!spec||!isObject(spec)?spec:this.signalRef(spec.signal||propertyLambda(spec))},exprRef(code,name){const params={expr:parser(code,this)};if(name)params.expr.$name=name;return ref(this.add(Expression(params)))},addBinding(name,bind){if(!this.bindings){error("Nested signals do not support binding: "+$(name))}this.bindings.push(extend$1({signal:name},bind))},addScaleProj(name,transform){if(has$1(this.scales,name)){error("Duplicate scale or projection name: "+$(name))}this.scales[name]=this.add(transform)},addScale(name,params){this.addScaleProj(name,Scale(params))},addProjection(name,params){this.addScaleProj(name,Projection(params))},getScale(name){if(!this.scales[name]){error("Unrecognized scale name: "+$(name))}return this.scales[name]},scaleRef(name){return ref(this.getScale(name))},scaleType(name){return this.getScale(name).params.type},projectionRef(name){return this.scaleRef(name)},projectionType(name){return this.scaleType(name)},addData(name,dataScope){if(has$1(this.data,name)){error("Duplicate data set name: "+$(name))}return this.data[name]=dataScope},getData(name){if(!this.data[name]){error("Undefined data set name: "+$(name))}return this.data[name]},addDataPipeline(name,entries){if(has$1(this.data,name)){error("Duplicate data set name: "+$(name))}return this.addData(name,DataScope.fromEntries(this,entries))}};function propertyLambda(spec){return(isArray(spec)?arrayLambda:objectLambda)(spec)}function arrayLambda(array){const n=array.length;let code="[";for(let i=0;i<n;++i){const value=array[i];code+=(i>0?",":"")+(isObject(value)?value.signal||propertyLambda(value):$(value))}return code+"]"}function objectLambda(obj){let code="{",i=0,key,value;for(key in obj){value=obj[key];code+=(++i>1?",":"")+$(key)+":"+(isObject(value)?value.signal||propertyLambda(value):$(value))}return code+"}"}function defaults(){const defaultFont="sans-serif",defaultSymbolSize=30,defaultStrokeWidth=2,defaultColor="#4c78a8",black="#000",gray="#888",lightGray="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:defaultColor},area:{fill:defaultColor},image:null,line:{stroke:defaultColor,strokeWidth:defaultStrokeWidth},path:{stroke:defaultColor},rect:{fill:defaultColor},rule:{stroke:black},shape:{stroke:defaultColor},symbol:{fill:defaultColor,size:64},text:{fill:black,font:defaultFont,fontSize:11},trail:{fill:defaultColor,size:defaultStrokeWidth},style:{"guide-label":{fill:black,font:defaultFont,fontSize:10},"guide-title":{fill:black,font:defaultFont,fontSize:11,fontWeight:"bold"},"group-title":{fill:black,font:defaultFont,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:black,font:defaultFont,fontSize:12},point:{size:defaultSymbolSize,strokeWidth:defaultStrokeWidth,shape:"circle"},circle:{size:defaultSymbolSize,strokeWidth:defaultStrokeWidth},square:{size:defaultSymbolSize,strokeWidth:defaultStrokeWidth,shape:"square"},cell:{fill:"transparent",stroke:lightGray},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:true,domainWidth:1,domainColor:gray,grid:false,gridWidth:1,gridColor:lightGray,labels:true,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:true,tickColor:gray,tickOffset:0,tickRound:true,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:lightGray,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:true,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:gray,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function parse(spec,config,options){if(!isObject(spec)){error("Input Vega specification must be an object.")}config=mergeConfig(defaults(),config,spec.config);return parseView(spec,new Scope(config,options)).toRuntime()}extend$1(transforms,tx,vtx,encode$1,geo,force,label,tree,reg,voronoi,wordcloud,xf);exports.Bounds=Bounds;exports.CanvasHandler=CanvasHandler;exports.CanvasRenderer=CanvasRenderer;exports.DATE=DATE;exports.DAY=DAY;exports.DAYOFYEAR=DAYOFYEAR;exports.Dataflow=Dataflow;exports.Debug=Debug;exports.Error=Error$1;exports.EventStream=EventStream;exports.Gradient=Gradient$1;exports.GroupItem=GroupItem;exports.HOURS=HOURS;exports.Handler=Handler;exports.Info=Info;exports.Item=Item;exports.MILLISECONDS=MILLISECONDS;exports.MINUTES=MINUTES;exports.MONTH=MONTH;exports.Marks=Marks;exports.MultiPulse=MultiPulse;exports.None=None$2;exports.Operator=Operator;exports.Parameters=Parameters;exports.Pulse=Pulse;exports.QUARTER=QUARTER;exports.RenderType=RenderType;exports.Renderer=Renderer;exports.ResourceLoader=ResourceLoader;exports.SECONDS=SECONDS;exports.SVGHandler=SVGHandler;exports.SVGRenderer=SVGRenderer;exports.SVGStringRenderer=SVGStringRenderer;exports.Scenegraph=Scenegraph;exports.TIME_UNITS=TIME_UNITS;exports.Transform=Transform;exports.View=View$1;exports.WEEK=WEEK;exports.Warn=Warn;exports.YEAR=YEAR;exports.accessor=accessor;exports.accessorFields=accessorFields;exports.accessorName=accessorName;exports.array=array$5;exports.ascending=ascending$2;exports.bandwidthNRD=estimateBandwidth;exports.bin=bin;exports.bootstrapCI=bootstrapCI;exports.boundClip=boundClip;exports.boundContext=boundContext;exports.boundItem=boundItem$1;exports.boundMark=boundMark;exports.boundStroke=boundStroke;exports.changeset=changeset;exports.clampRange=clampRange;exports.codegenExpression=codegen;exports.compare=compare$1;exports.constant=constant$4;exports.cumulativeLogNormal=cumulativeLogNormal;exports.cumulativeNormal=cumulativeNormal;exports.cumulativeUniform=cumulativeUniform;exports.dayofyear=dayofyear;exports.debounce=debounce;exports.defaultLocale=defaultLocale;exports.definition=definition$1;exports.densityLogNormal=densityLogNormal;exports.densityNormal=densityNormal;exports.densityUniform=densityUniform;exports.domChild=domChild;exports.domClear=domClear;exports.domCreate=domCreate;exports.domFind=domFind;exports.dotbin=dotbin;exports.error=error;exports.expressionFunction=expressionFunction;exports.extend=extend$1;exports.extent=extent;exports.extentIndex=extentIndex;exports.falsy=falsy;exports.fastmap=fastmap;exports.field=field$1;exports.flush=flush;exports.font=font;exports.fontFamily=fontFamily;exports.fontSize=fontSize;exports.format=format$2;exports.formatLocale=numberFormatDefaultLocale;exports.formats=formats$1;exports.hasOwnProperty=has$1;exports.id=id;exports.identity=identity$6;exports.inferType=inferType;exports.inferTypes=inferTypes;exports.ingest=ingest$1;exports.inherits=inherits;exports.inrange=inrange;exports.interpolate=interpolate;exports.interpolateColors=interpolateColors;exports.interpolateRange=interpolateRange;exports.intersect=intersect$2;exports.intersectBoxLine=intersectBoxLine;exports.intersectPath=intersectPath;exports.intersectPoint=intersectPoint;exports.intersectRule=intersectRule;exports.isArray=isArray;exports.isBoolean=isBoolean$1;exports.isDate=isDate$1;exports.isFunction=isFunction;exports.isIterable=isIterable;exports.isNumber=isNumber$1;exports.isObject=isObject;exports.isRegExp=isRegExp;exports.isString=isString;exports.isTuple=isTuple;exports.key=key;exports.lerp=lerp;exports.lineHeight=lineHeight;exports.loader=loader;exports.locale=locale;exports.logger=logger;exports.lruCache=lruCache;exports.markup=markup;exports.merge=merge$3;exports.mergeConfig=mergeConfig;exports.multiLineOffset=multiLineOffset;exports.one=one$2;exports.pad=pad$2;exports.panLinear=panLinear;exports.panLog=panLog;exports.panPow=panPow;exports.panSymlog=panSymlog;exports.parse=parse;exports.parseExpression=parser$1;exports.parseSelector=eventSelector;exports.path=path$3;exports.pathCurves=curves;exports.pathEqual=pathEqual;exports.pathParse=parse$3;exports.pathRectangle=vg_rect;exports.pathRender=pathRender;exports.pathSymbols=symbols;exports.pathTrail=vg_trail;exports.peek=peek$1;exports.point=point$1;exports.projection=projection;exports.quantileLogNormal=quantileLogNormal;exports.quantileNormal=quantileNormal;exports.quantileUniform=quantileUniform;exports.quantiles=quantiles;exports.quantizeInterpolator=quantizeInterpolator;exports.quarter=quarter;exports.quartiles=quartiles;exports.randomInteger=integer;exports.randomKDE=kde;exports.randomLCG=lcg$2;exports.randomLogNormal=lognormal;exports.randomMixture=mixture$1;exports.randomNormal=gaussian;exports.randomUniform=uniform;exports.read=read;exports.regressionExp=exp$1;exports.regressionLinear=linear$2;exports.regressionLoess=loess;exports.regressionLog=log$3;exports.regressionPoly=poly;exports.regressionPow=pow$3;exports.regressionQuad=quad;exports.renderModule=renderModule;exports.repeat=repeat;exports.resetDefaultLocale=resetDefaultLocale;exports.resetSVGClipId=resetSVGClipId;exports.resetSVGDefIds=resetSVGDefIds;exports.responseType=responseType;exports.runtimeContext=context;exports.sampleCurve=sampleCurve;exports.sampleLogNormal=sampleLogNormal;exports.sampleNormal=sampleNormal;exports.sampleUniform=sampleUniform;exports.scale=scale$3;exports.sceneEqual=sceneEqual;exports.sceneFromJSON=sceneFromJSON;exports.scenePickVisit=pickVisit;exports.sceneToJSON=sceneToJSON;exports.sceneVisit=visit;exports.sceneZOrder=zorder;exports.scheme=scheme;exports.serializeXML=serializeXML;exports.setRandom=setRandom;exports.span=span;exports.splitAccessPath=splitAccessPath;exports.stringValue=$;exports.textMetrics=textMetrics;exports.timeBin=bin$1;exports.timeFloor=timeFloor;exports.timeFormatLocale=timeFormatDefaultLocale;exports.timeInterval=timeInterval;exports.timeOffset=timeOffset;exports.timeSequence=timeSequence;exports.timeUnitSpecifier=timeUnitSpecifier;exports.timeUnits=timeUnits;exports.toBoolean=toBoolean;exports.toDate=toDate;exports.toNumber=toNumber;exports.toSet=toSet;exports.toString=toString;exports.transform=transform$2;exports.transforms=transforms;exports.truncate=truncate$1;exports.truthy=truthy;exports.tupleid=tupleid;exports.typeParsers=typeParsers;exports.utcFloor=utcFloor;exports.utcInterval=utcInterval;exports.utcOffset=utcOffset;exports.utcSequence=utcSequence;exports.utcdayofyear=utcdayofyear;exports.utcquarter=utcquarter;exports.utcweek=utcweek;exports.version=version;exports.visitArray=visitArray;exports.week=week;exports.writeConfig=writeConfig;exports.zero=zero$3;exports.zoomLinear=zoomLinear;exports.zoomLog=zoomLog;exports.zoomPow=zoomPow;exports.zoomSymlog=zoomSymlog}))},function(module){module.exports=JSON.parse('{"b":">=2.16.0","a":["opensearch-security-analytics"]}')},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",(function(){return parseAlertSeverityToOption}));__webpack_require__.d(__webpack_exports__,"a",(function(){return createSelectedOptions}));__webpack_require__.d(__webpack_exports__,"c",(function(){return getNotificationChannels}));__webpack_require__.d(__webpack_exports__,"e",(function(){return parseNotificationChannelsToOptions}));__webpack_require__.d(__webpack_exports__,"b",(function(){return getEmptyAlertCondition}));var _constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(138);var _utils_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8);const parseAlertSeverityToOption=severity=>Object.values(_utils_constants__WEBPACK_IMPORTED_MODULE_1__["a"]).find(option=>option.value===severity);function createSelectedOptions(optionNames){return optionNames.map(optionName=>({id:optionName,label:optionName}))}const getNotificationChannels=async notificationsService=>{try{const response=await notificationsService.getChannels();if(response.ok){return response.response.channel_list}else{console.error("Failed to retrieve notification channels:",response.error)}}catch(e){console.error("Failed to retrieve notification channels:",e)}return[]};function parseNotificationChannelsToOptions(notificationChannels){let supportedTypes=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_constants__WEBPACK_IMPORTED_MODULE_0__["a"];const allOptions=notificationChannels.map(channel=>({label:`[Channel] ${channel.name}`,value:channel.config_id,type:channel.config_type,description:channel.description}));return supportedTypes.map(type=>({label:type,options:allOptions.filter(channel=>channel.type===type)}))}function getEmptyAlertCondition(){let conditionName=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";let detection_types=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];const emptyTriggerAction={id:"",name:"",destination_id:"",subject_template:{source:"",lang:"mustache"},message_template:{source:"",lang:"mustache"},throttle_enabled:false,throttle:{value:10,unit:"MINUTES"}};return{name:conditionName,sev_levels:[],tags:[],actions:[emptyTriggerAction],types:[],severity:"1",ids:[],detection_types:detection_types}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"g",(function(){return graphRenderOptions}));__webpack_require__.d(__webpack_exports__,"c",(function(){return getDefaultLogTypeFilterItemOptions}));__webpack_require__.d(__webpack_exports__,"a",(function(){return defaultSeverityFilterItemOptions}));__webpack_require__.d(__webpack_exports__,"b",(function(){return emptyGraphData}));__webpack_require__.d(__webpack_exports__,"d",(function(){return getLabelFromLogType}));__webpack_require__.d(__webpack_exports__,"f",(function(){return getSeverityLabel}));__webpack_require__.d(__webpack_exports__,"e",(function(){return getSeverityColor}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var _Rules_utils_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(19);var _elastic_eui__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1);var _elastic_eui__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__);var _utils_constants__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8);var _LogTypes_utils_helpers__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(25);const graphRenderOptions={nodes:{shape:"dot"},edges:{arrows:{to:{enabled:false}},color:"#000000",chosen:true},layout:{hierarchical:false,randomSeed:2222,improvedLayout:false},autoResize:true,height:"800px",width:"100%",physics:{stabilization:{fit:true,iterations:1e3}},interaction:{zoomView:true,zoomSpeed:.2,dragView:true,dragNodes:false,multiselect:true,tooltipDelay:50,hover:true}};const getDefaultLogTypeFilterItemOptions=()=>{const options=[];_utils_constants__WEBPACK_IMPORTED_MODULE_3__["H"].forEach(category=>{const logTypes=_utils_constants__WEBPACK_IMPORTED_MODULE_3__["J"][category];options.push({name:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiTitle"],{size:"xxs"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h4",null,category)),id:category,checked:"on",childOptionIds:new Set(logTypes.map(_ref=>{let{name:name}=_ref;return name})),visible:true});logTypes.forEach(_ref2=>{let{name:name}=_ref2;options.push({name:Object(_LogTypes_utils_helpers__WEBPACK_IMPORTED_MODULE_4__["a"])(name),id:name,checked:"on",visible:true})})});return options};const defaultSeverityFilterItemOptions=Object.values(_Rules_utils_constants__WEBPACK_IMPORTED_MODULE_1__["b"]).map(sev=>({name:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiIcon"],{type:"dot",color:sev.color.background})," ",`${sev.name}`),id:sev.value,checked:"on",visible:true}));const emptyGraphData={graph:{nodes:[],edges:[]},events:{}};const getLabelFromLogType=logType=>{var _ruleTypes$find;return((_ruleTypes$find=_Rules_utils_constants__WEBPACK_IMPORTED_MODULE_1__["e"].find(ruleType=>ruleType.value===logType))===null||_ruleTypes$find===void 0?void 0:_ruleTypes$find.label)||logType};const getSeverityLabel=sev=>{var _ruleSeverity$find;return((_ruleSeverity$find=_Rules_utils_constants__WEBPACK_IMPORTED_MODULE_1__["b"].find(severity=>severity.value===sev))===null||_ruleSeverity$find===void 0?void 0:_ruleSeverity$find.name)||""};const getSeverityColor=sev=>{var _ruleSeverity$find2;return((_ruleSeverity$find2=_Rules_utils_constants__WEBPACK_IMPORTED_MODULE_1__["b"].find(severity=>severity.value===sev.toLowerCase()))===null||_ruleSeverity$find2===void 0?void 0:_ruleSeverity$find2.color)||{background:"white",text:"black"}};function getNodeSize(severity){switch(severity){case"critical":return 40;case"high":return 32;case"medium":return 24;case"low":return 17;case"informational":default:return 10}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return RuleViewerFlyout}));var external_osdSharedDeps_ElasticEui_=__webpack_require__(1);var constants=__webpack_require__(8);var external_osdSharedDeps_React_=__webpack_require__(0);var external_osdSharedDeps_React_default=__webpack_require__.n(external_osdSharedDeps_React_);const DeleteRuleModal=_ref=>{let{title:title,onCancel:onCancel,onConfirm:onConfirm}=_ref;return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiConfirmModal"],{title:`Delete ${title}?`,onCancel:onCancel,onConfirm:onConfirm,cancelButtonText:"Cancel",confirmButtonText:"Delete",buttonColor:"danger",defaultFocusedButton:"confirm"},external_osdSharedDeps_React_default.a.createElement("p",null,"Delete the rule permanently? This action cannot be undone."))};var mappers=__webpack_require__(124);const RuleContentYamlViewer=_ref=>{let{rule:rule}=_ref;const yamlObject=Object(mappers["a"])(rule);const ruleYaml=Object(mappers["c"])(yamlObject);return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCodeBlock"],{language:"yaml","data-test-subj":"rule_flyout_yaml_rule",isCopyable:true},ruleYaml)};var helpers=__webpack_require__(25);const editorTypes=[{id:"visual",label:"Visual"},{id:"yaml",label:"YAML"}];const RuleContentViewer=_ref=>{let{rule:{prePackaged:prePackaged,_source:ruleData,_id:ruleId}}=_ref;if(!ruleData.id){ruleData.id=ruleId}const[selectedEditorType,setSelectedEditorType]=Object(external_osdSharedDeps_React_["useState"])("visual");const onEditorTypeChange=optionId=>{setSelectedEditorType(optionId)};return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiModalBody"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiButtonGroup"],{"data-test-subj":"change-editor-type",legend:"This is editor type selector",options:editorTypes,idSelected:selectedEditorType,onChange:id=>onEditorTypeChange(id)}),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"xl"}),selectedEditorType==="visual"&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexEnd"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFormLabel"],null,"Rule Name"),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{"data-test-subj":"rule_flyout_rule_name",size:"s"},ruleData.title)),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFormLabel"],null,"Log Type"),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{"data-test-subj":"rule_flyout_rule_log_type",size:"s"},Object(helpers["a"])(ruleData.category)))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],null),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFormLabel"],null,"Description"),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{"data-test-subj":"rule_flyout_rule_description",size:"s"},ruleData.description||constants["k"]),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],null),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexEnd"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFormLabel"],null,"Last Updated"),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s"},ruleData.last_update_time)),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{"data-test-subj":"rule_flyout_rule_author"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFormLabel"],null,"Author"),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s"},ruleData.author))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],null),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexEnd"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{"data-test-subj":"rule_flyout_rule_source"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFormLabel"],null,"Source"),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s"},prePackaged?"Standard":"Custom")),prePackaged?external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFormLabel"],null,"License"),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiLink"],{target:"_blank",href:"https://github.com/SigmaHQ/sigma/blob/master/LICENSE.Detection.Rules.md"},"Detection Rule License (DLR)"))):null),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],null),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexEnd"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{"data-test-subj":"rule_flyout_rule_severity"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFormLabel"],null,"Rule level"),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s"},ruleData.level))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],null),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFormLabel"],null,"Tags"),ruleData.tags.length>0?external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{direction:"row",wrap:true,gutterSize:"s","data-test-subj":"rule_flyout_rule_tags"},ruleData.tags.map((tag,i)=>{const isLinkable=!!tag.value.match(/attack\.t[0-9]+/);let tagComponent=tag.value;if(isLinkable){const link=`https://attack.mitre.org/techniques/${tag.value.split(".").slice(1).join("/").toUpperCase()}`;tagComponent=external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiLink"],{href:link,target:"_blank"},tag.value)}return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false,key:i},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiBadge"],{color:"#DDD"},tagComponent))})):external_osdSharedDeps_React_default.a.createElement("div",null,constants["k"]),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],null),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],null),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFormLabel"],null,"References"),ruleData.references.length>0?ruleData.references.map((reference,i)=>external_osdSharedDeps_React_default.a.createElement("div",{key:i,className:"eui-textTruncate"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiLink"],{href:reference.value,target:"_blank",key:reference,"data-test-subj":"rule_flyout_rule_references"},reference.value)),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}))):external_osdSharedDeps_React_default.a.createElement("div",null,constants["k"]),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],null),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFormLabel"],null,"False positive cases"),external_osdSharedDeps_React_default.a.createElement("div",{"data-test-subj":"rule_flyout_rule_false_positives"},ruleData.false_positives.length>0?ruleData.false_positives.map((falsepositive,i)=>external_osdSharedDeps_React_default.a.createElement("div",{key:i},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s"},falsepositive.value),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],null))):external_osdSharedDeps_React_default.a.createElement("div",null,constants["k"])),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],null),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFormLabel"],null,"Rule Status"),external_osdSharedDeps_React_default.a.createElement("div",{"data-test-subj":"rule_flyout_rule_status"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s"},ruleData.status)),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],null),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCompressedFormRow"],{label:"Detection",fullWidth:true},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCodeBlock"],{language:"yaml","data-test-subj":"rule_flyout_rule_detection"},ruleData.detection))),selectedEditorType==="yaml"&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCompressedFormRow"],{label:"Rule",fullWidth:true},external_osdSharedDeps_React_default.a.createElement(RuleContentYamlViewer,{rule:ruleData})))};const RuleViewerFlyoutHeaderActions=_ref=>{let{ruleSource:ruleSource,actionsPopoverOpen:actionsPopoverOpen,closeActionsPopover:closeActionsPopover,duplicateRule:duplicateRule,deleteRule:deleteRule,editRule:editRule,toggleActionsPopover:toggleActionsPopover}=_ref;return ruleSource==="Standard"?external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSmallButton"],{onClick:duplicateRule},"Duplicate"):external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPopover"],{button:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSmallButton"],{iconType:"arrowDown",iconSide:"right",onClick:toggleActionsPopover},"Action"),isOpen:actionsPopoverOpen,closePopover:closeActionsPopover,anchorPosition:"downLeft"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{direction:"column"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSmallButtonEmpty"],{onClick:editRule},"Edit")),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSmallButtonEmpty"],{onClick:duplicateRule},"Duplicate")),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSmallButtonEmpty"],{onClick:deleteRule},"Delete"))))};var DataStore=__webpack_require__(38);const RuleViewerFlyout=_ref=>{let{history:history,hideFlyout:hideFlyout,ruleTableItem:ruleTableItem}=_ref;const[actionsPopoverOpen,setActionsPopoverOpen]=Object(external_osdSharedDeps_React_["useState"])(false);const[isDeleteModalVisible,setIsDeleteModalVisible]=Object(external_osdSharedDeps_React_["useState"])(false);const toggleActionsPopover=()=>{setActionsPopoverOpen(!actionsPopoverOpen)};const closeActionsPopover=()=>{setActionsPopoverOpen(false)};const duplicateRule=()=>{history===null||history===void 0||history.push({pathname:constants["z"].RULES_DUPLICATE,state:{ruleItem:ruleTableItem.ruleInfo}})};const editRule=()=>{history===null||history===void 0||history.push({pathname:constants["z"].RULES_EDIT,state:{ruleItem:ruleTableItem.ruleInfo}})};const headerActions=external_osdSharedDeps_React_default.a.createElement(RuleViewerFlyoutHeaderActions,{ruleSource:ruleTableItem.source,actionsPopoverOpen:actionsPopoverOpen,closeActionsPopover:closeActionsPopover,duplicateRule:duplicateRule,editRule:editRule,deleteRule:()=>{setIsDeleteModalVisible(true)},toggleActionsPopover:toggleActionsPopover});const closeDeleteModal=()=>{setIsDeleteModalVisible(false)};const onDeleteRuleConfirmed=async()=>{const response=await DataStore["a"].rules.deleteRule(ruleTableItem.ruleId);if(response){closeDeleteModal();hideFlyout(true)}};const deleteModal=Object(external_osdSharedDeps_React_["useMemo"])(()=>ruleTableItem.source==="Custom"?external_osdSharedDeps_React_default.a.createElement(DeleteRuleModal,{title:ruleTableItem.title,onCancel:closeDeleteModal,onConfirm:onDeleteRuleConfirmed}):null,[ruleTableItem,closeDeleteModal,onDeleteRuleConfirmed]);return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlyout"],{onClose:hideFlyout,hideCloseButton:true,ownFocus:true,size:"m","data-test-subj":`rule_flyout_${ruleTableItem.title}`},isDeleteModalVisible&&deleteModal?deleteModal:null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlyoutHeader"],{hasBorder:true},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"center"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_osdSharedDeps_React_default.a.createElement("h2",null,ruleTableItem.title))),history&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false,style:{marginRight:"50px"}},headerActions),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSmallButtonIcon"],{"aria-label":"close",iconType:"cross",display:"empty",iconSize:"m",onClick:()=>hideFlyout(),"data-test-subj":`close-rule-details-flyout`})))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlyoutBody"],null,external_osdSharedDeps_React_default.a.createElement(RuleContentViewer,{rule:ruleTableItem.ruleInfo})))}},function(module,exports){function eq(value,other){return value===other||value!==value&&other!==other}module.exports=eq},function(module,exports){function copyArray(source,array){var index=-1,length=source.length;array||(array=Array(length));while(++index<length){array[index]=source[index]}return array}module.exports=copyArray},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(43),isObject=__webpack_require__(50);var asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(value){if(!isObject(value)){return false}var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}module.exports=isFunction},function(module,exports,__webpack_require__){(function(module){var root=__webpack_require__(33),stubFalse=__webpack_require__(514);var freeExports=true&&exports&&!exports.nodeType&&exports;var freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module;var moduleExports=freeModule&&freeModule.exports===freeExports;var Buffer=moduleExports?root.Buffer:undefined;var nativeIsBuffer=Buffer?Buffer.isBuffer:undefined;var isBuffer=nativeIsBuffer||stubFalse;module.exports=isBuffer}).call(this,__webpack_require__(62)(module))},function(module,exports,__webpack_require__){var isFunction=__webpack_require__(135),isLength=__webpack_require__(144);function isArrayLike(value){return value!=null&&isLength(value.length)&&!isFunction(value)}module.exports=isArrayLike},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return MAX_ALERT_CONDITIONS}));__webpack_require__.d(__webpack_exports__,"a",(function(){return CHANNEL_TYPES}));const MAX_ALERT_CONDITIONS=10;const MIN_ALERT_CONDITIONS=0;const RULE_SEVERITY_OPTIONS={CRITICAL:{id:"1",value:"critical",label:"Critical",text:"critical"},HIGH:{id:"2",value:"high",label:"High",text:"High"},MEDIUM:{id:"3",value:"medium",label:"Medium",text:"Medium"},LOW:{id:"4",value:"low",label:"Low",text:"Low"},INFORMATIONAL:{id:"5",value:"informational",label:"Info",text:"Info"}};const MIN_NUM_NOTIFICATION_CHANNELS=1;const MAX_NUM_NOTIFICATION_CHANNELS=5;const MIN_NUM_RULES=1;const MAX_NUM_RULES=5;const MIN_NUM_TAGS=0;const MAX_NUM_TAGS=5;let CHANNEL_TYPES=["slack","email","email_group","chime","webhook","ses_account","sns","microsoft_teams","smtp_account"]},function(module,exports,__webpack_require__){var _rng=__webpack_require__(478);var _byteToHex=[];var _hexToByte={};for(var i=0;i<256;i++){_byteToHex[i]=(i+256).toString(16).substr(1);_hexToByte[_byteToHex[i]]=i}function parse(s,buf,offset){var i=buf&&offset||0,ii=0;buf=buf||[];s.toLowerCase().replace(/[0-9a-f]{2}/g,(function(oct){if(ii<16){buf[i+ii++]=_hexToByte[oct]}}));while(ii<16){buf[i+ii++]=0}return buf}function unparse(buf,offset){var i=offset||0,bth=_byteToHex;return bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]}var _seedBytes=_rng();var _nodeId=[_seedBytes[0]|1,_seedBytes[1],_seedBytes[2],_seedBytes[3],_seedBytes[4],_seedBytes[5]];var _clockseq=(_seedBytes[6]<<8|_seedBytes[7])&16383;var _lastMSecs=0,_lastNSecs=0;function v1(options,buf,offset){var i=buf&&offset||0;var b=buf||[];options=options||{};var clockseq=options.clockseq!==undefined?options.clockseq:_clockseq;var msecs=options.msecs!==undefined?options.msecs:(new Date).getTime();var nsecs=options.nsecs!==undefined?options.nsecs:_lastNSecs+1;var dt=msecs-_lastMSecs+(nsecs-_lastNSecs)/1e4;if(dt<0&&options.clockseq===undefined){clockseq=clockseq+1&16383}if((dt<0||msecs>_lastMSecs)&&options.nsecs===undefined){nsecs=0}if(nsecs>=1e4){throw new Error("uuid.v1(): Can't create more than 10M uuids/sec")}_lastMSecs=msecs;_lastNSecs=nsecs;_clockseq=clockseq;msecs+=122192928e5;var tl=((msecs&268435455)*1e4+nsecs)%4294967296;b[i++]=tl>>>24&255;b[i++]=tl>>>16&255;b[i++]=tl>>>8&255;b[i++]=tl&255;var tmh=msecs/4294967296*1e4&268435455;b[i++]=tmh>>>8&255;b[i++]=tmh&255;b[i++]=tmh>>>24&15|16;b[i++]=tmh>>>16&255;b[i++]=clockseq>>>8|128;b[i++]=clockseq&255;var node=options.node||_nodeId;for(var n=0;n<6;n++){b[i+n]=node[n]}return buf?buf:unparse(b)}function v4(options,buf,offset){var i=buf&&offset||0;if(typeof options=="string"){buf=options=="binary"?new Array(16):null;options=null}options=options||{};var rnds=options.random||(options.rng||_rng)();rnds[6]=rnds[6]&15|64;rnds[8]=rnds[8]&63|128;if(buf){for(var ii=0;ii<16;ii++){buf[i+ii]=rnds[ii]}}return buf||unparse(rnds)}var uuid=v4;uuid.v1=v1;uuid.v4=v4;uuid.parse=parse;uuid.unparse=unparse;module.exports=uuid},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return logTypeDetailsTabs}));__webpack_require__.d(__webpack_exports__,"a",(function(){return defaultLogType}));__webpack_require__.d(__webpack_exports__,"c",(function(){return logTypeLabels}));const logTypeDetailsTabs=[{id:"details",name:"Details"},{id:"detection_rules",name:"Detection rules"}];const defaultLogType={name:"",description:"",source:"Custom",tags:null,category:""};const logTypeLabels={cloudtrail:"AWS Cloudtrail",dns:"DNS",vpcflow:"VPC Flow",ad_ldap:"AD/LDAP",apache_access:"Apache Access",m365:"Microsoft 365",okta:"Okta",waf:"WAF",s3:"AWS S3",github:"Github",gworkspace:"Google Workspace",windows:"Microsoft Windows",network:"Network",linux:"Linux System Logs",azure:"Microsoft Azure"}},function(module,exports,__webpack_require__){var Stack=__webpack_require__(188),arrayEach=__webpack_require__(193),assignValue=__webpack_require__(168),baseAssign=__webpack_require__(198),baseAssignIn=__webpack_require__(517),cloneBuffer=__webpack_require__(200),copyArray=__webpack_require__(134),copySymbols=__webpack_require__(520),copySymbolsIn=__webpack_require__(522),getAllKeys=__webpack_require__(201),getAllKeysIn=__webpack_require__(523),getTag=__webpack_require__(90),initCloneArray=__webpack_require__(527),initCloneByTag=__webpack_require__(528),initCloneObject=__webpack_require__(205),isArray=__webpack_require__(49),isBuffer=__webpack_require__(136),isMap=__webpack_require__(532),isObject=__webpack_require__(50),isSet=__webpack_require__(534),keys=__webpack_require__(93),keysIn=__webpack_require__(89);var CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4;var argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]";var arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=true;cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=false;function baseClone(value,bitmask,customizer,key,object,stack){var result,isDeep=bitmask&CLONE_DEEP_FLAG,isFlat=bitmask&CLONE_FLAT_FLAG,isFull=bitmask&CLONE_SYMBOLS_FLAG;if(customizer){result=object?customizer(value,key,object,stack):customizer(value)}if(result!==undefined){return result}if(!isObject(value)){return value}var isArr=isArray(value);if(isArr){result=initCloneArray(value);if(!isDeep){return copyArray(value,result)}}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value)){return cloneBuffer(value,isDeep)}if(tag==objectTag||tag==argsTag||isFunc&&!object){result=isFlat||isFunc?{}:initCloneObject(value);if(!isDeep){return isFlat?copySymbolsIn(value,baseAssignIn(result,value)):copySymbols(value,baseAssign(result,value))}}else{if(!cloneableTags[tag]){return object?value:{}}result=initCloneByTag(value,tag,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked){return stacked}stack.set(value,result);if(isSet(value)){value.forEach((function(subValue){result.add(baseClone(subValue,bitmask,customizer,subValue,value,stack))}))}else if(isMap(value)){value.forEach((function(subValue,key){result.set(key,baseClone(subValue,bitmask,customizer,key,value,stack))}))}var keysFunc=isFull?isFlat?getAllKeysIn:getAllKeys:isFlat?keysIn:keys;var props=isArr?undefined:keysFunc(value);arrayEach(props||value,(function(subValue,key){if(props){key=subValue;subValue=value[key]}assignValue(result,key,baseClone(subValue,bitmask,customizer,key,value,stack))}));return result}module.exports=baseClone},function(module,exports,__webpack_require__){var mapCacheClear=__webpack_require__(500),mapCacheDelete=__webpack_require__(507),mapCacheGet=__webpack_require__(509),mapCacheHas=__webpack_require__(510),mapCacheSet=__webpack_require__(511);function MapCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype["delete"]=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;module.exports=MapCache},function(module,exports,__webpack_require__){var defineProperty=__webpack_require__(197);function baseAssignValue(object,key,value){if(key=="__proto__"&&defineProperty){defineProperty(object,key,{configurable:true,enumerable:true,value:value,writable:true})}else{object[key]=value}}module.exports=baseAssignValue},function(module,exports){var MAX_SAFE_INTEGER=9007199254740991;function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}module.exports=isLength},function(module,exports){function arrayPush(array,values){var index=-1,length=values.length,offset=array.length;while(++index<length){array[offset+index]=values[index]}return array}module.exports=arrayPush},function(module,exports){function arrayMap(array,iteratee){var index=-1,length=array==null?0:array.length,result=Array(length);while(++index<length){result[index]=iteratee(array[index],index,array)}return result}module.exports=arrayMap},function(module,exports){function _typeof(o){"@babel/helpers - typeof";return module.exports=_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},module.exports.__esModule=true,module.exports["default"]=module.exports,_typeof(o)}module.exports=_typeof,module.exports.__esModule=true,module.exports["default"]=module.exports},function(module,exports){function _typeof(o){"@babel/helpers - typeof";return module.exports=_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},module.exports.__esModule=true,module.exports["default"]=module.exports,_typeof(o)}module.exports=_typeof,module.exports.__esModule=true,module.exports["default"]=module.exports},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(40);var $defineProperty=GetIntrinsic("%Object.defineProperty%",true);var hasPropertyDescriptors=function hasPropertyDescriptors(){if($defineProperty){try{$defineProperty({},"a",{value:1});return true}catch(e){return false}}return false};hasPropertyDescriptors.hasArrayLengthDefineBug=function hasArrayLengthDefineBug(){if(!hasPropertyDescriptors()){return null}try{return $defineProperty([],"length",{value:1}).length!==1}catch(e){return true}};module.exports=hasPropertyDescriptors},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(40);var $gOPD=GetIntrinsic("%Object.getOwnPropertyDescriptor%",true);if($gOPD){try{$gOPD([],"length")}catch(e){$gOPD=null}}module.exports=$gOPD},function(module,exports,__webpack_require__){"use strict";var formats=__webpack_require__(96);var has=Object.prototype.hasOwnProperty;var isArray=Array.isArray;var hexTable=function(){var array=[];for(var i=0;i<256;++i){array.push("%"+((i<16?"0":"")+i.toString(16)).toUpperCase())}return array}();var compactQueue=function compactQueue(queue){while(queue.length>1){var item=queue.pop();var obj=item.obj[item.prop];if(isArray(obj)){var compacted=[];for(var j=0;j<obj.length;++j){if(typeof obj[j]!=="undefined"){compacted.push(obj[j])}}item.obj[item.prop]=compacted}}};var arrayToObject=function arrayToObject(source,options){var obj=options&&options.plainObjects?Object.create(null):{};for(var i=0;i<source.length;++i){if(typeof source[i]!=="undefined"){obj[i]=source[i]}}return obj};var merge=function merge(target,source,options){if(!source){return target}if(typeof source!=="object"){if(isArray(target)){target.push(source)}else if(target&&typeof target==="object"){if(options&&(options.plainObjects||options.allowPrototypes)||!has.call(Object.prototype,source)){target[source]=true}}else{return[target,source]}return target}if(!target||typeof target!=="object"){return[target].concat(source)}var mergeTarget=target;if(isArray(target)&&!isArray(source)){mergeTarget=arrayToObject(target,options)}if(isArray(target)&&isArray(source)){source.forEach((function(item,i){if(has.call(target,i)){var targetItem=target[i];if(targetItem&&typeof targetItem==="object"&&item&&typeof item==="object"){target[i]=merge(targetItem,item,options)}else{target.push(item)}}else{target[i]=item}}));return target}return Object.keys(source).reduce((function(acc,key){var value=source[key];if(has.call(acc,key)){acc[key]=merge(acc[key],value,options)}else{acc[key]=value}return acc}),mergeTarget)};var assign=function assignSingleSource(target,source){return Object.keys(source).reduce((function(acc,key){acc[key]=source[key];return acc}),target)};var decode=function(str,decoder,charset){var strWithoutPlus=str.replace(/\+/g," ");if(charset==="iso-8859-1"){return strWithoutPlus.replace(/%[0-9a-f]{2}/gi,unescape)}try{return decodeURIComponent(strWithoutPlus)}catch(e){return strWithoutPlus}};var encode=function encode(str,defaultEncoder,charset,kind,format){if(str.length===0){return str}var string=str;if(typeof str==="symbol"){string=Symbol.prototype.toString.call(str)}else if(typeof str!=="string"){string=String(str)}if(charset==="iso-8859-1"){return escape(string).replace(/%u[0-9a-f]{4}/gi,(function($0){return"%26%23"+parseInt($0.slice(2),16)+"%3B"}))}var out="";for(var i=0;i<string.length;++i){var c=string.charCodeAt(i);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||format===formats.RFC1738&&(c===40||c===41)){out+=string.charAt(i);continue}if(c<128){out=out+hexTable[c];continue}if(c<2048){out=out+(hexTable[192|c>>6]+hexTable[128|c&63]);continue}if(c<55296||c>=57344){out=out+(hexTable[224|c>>12]+hexTable[128|c>>6&63]+hexTable[128|c&63]);continue}i+=1;c=65536+((c&1023)<<10|string.charCodeAt(i)&1023);out+=hexTable[240|c>>18]+hexTable[128|c>>12&63]+hexTable[128|c>>6&63]+hexTable[128|c&63]}return out};var compact=function compact(value){var queue=[{obj:{o:value},prop:"o"}];var refs=[];for(var i=0;i<queue.length;++i){var item=queue[i];var obj=item.obj[item.prop];var keys=Object.keys(obj);for(var j=0;j<keys.length;++j){var key=keys[j];var val=obj[key];if(typeof val==="object"&&val!==null&&refs.indexOf(val)===-1){queue.push({obj:obj,prop:key});refs.push(val)}}}compactQueue(queue);return value};var isRegExp=function isRegExp(obj){return Object.prototype.toString.call(obj)==="[object RegExp]"};var isBuffer=function isBuffer(obj){if(!obj||typeof obj!=="object"){return false}return!!(obj.constructor&&obj.constructor.isBuffer&&obj.constructor.isBuffer(obj))};var combine=function combine(a,b){return[].concat(a,b)};var maybeMap=function maybeMap(val,fn){if(isArray(val)){var mapped=[];for(var i=0;i<val.length;i+=1){mapped.push(fn(val[i]))}return mapped}return fn(val)};module.exports={arrayToObject:arrayToObject,assign:assign,combine:combine,compact:compact,decode:decode,encode:encode,isBuffer:isBuffer,isRegExp:isRegExp,maybeMap:maybeMap,merge:merge}},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Buffer){__webpack_require__.d(__webpack_exports__,"a",(function(){return Sha256}));var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2);var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);const K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];const W=new Array(64);class Sha256{constructor(){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"_a",void 0);_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"_b",void 0);_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"_c",void 0);_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"_d",void 0);_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"_e",void 0);_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"_f",void 0);_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"_g",void 0);_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"_h",void 0);_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"_block",void 0);_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"_finalSize",void 0);_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"_blockSize",void 0);_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"_len",void 0);_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"_s",void 0);_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"_w",void 0);this._a=1779033703;this._b=3144134277;this._c=1013904242;this._d=2773480762;this._e=1359893119;this._f=2600822924;this._g=528734635;this._h=1541459225;this._w=W;const blockSize=64;const finalSize=56;this._block=Buffer.alloc(blockSize);this._finalSize=finalSize;this._blockSize=blockSize;this._len=0;this._s=0}update(data,encoding){if(typeof data==="string"){encoding=encoding||"utf8";data=Buffer.from(data,encoding)}const l=this._len+=data.length;let s=this._s||0;let f=0;const buffer=this._block;while(s<l){const t=Math.min(data.length,f+this._blockSize-s%this._blockSize);const ch=t-f;for(let i=0;i<ch;i++){buffer[s%this._blockSize+i]=data[i+f]}s+=ch;f+=ch;if(s%this._blockSize===0){this._update(buffer)}}this._s=s;return this}digest(encoding){const l=this._len*8;this._block[this._len%this._blockSize]=128;this._block.fill(0,this._len%this._blockSize+1);if(l%(this._blockSize*8)>=this._finalSize*8){this._update(this._block);this._block.fill(0)}this._block.writeInt32BE(l,this._blockSize-4);this._update(this._block);const hash=this._hash();return hash.toString(encoding)}_update(M){const W=this._w;let a=this._a|0;let b=this._b|0;let c=this._c|0;let d=this._d|0;let e=this._e|0;let f=this._f|0;let g=this._g|0;let h=this._h|0;let i;for(i=0;i<16;++i)W[i]=M.readInt32BE(i*4);for(;i<64;++i)W[i]=gamma1(W[i-2])+W[i-7]+gamma0(W[i-15])+W[i-16]|0;for(let j=0;j<64;++j){const T1=h+sigma1(e)+ch(e,f,g)+K[j]+W[j]|0;const T2=sigma0(a)+maj(a,b,c)|0;h=g;g=f;f=e;e=d+T1|0;d=c;c=b;b=a;a=T1+T2|0}this._a=a+this._a|0;this._b=b+this._b|0;this._c=c+this._c|0;this._d=d+this._d|0;this._e=e+this._e|0;this._f=f+this._f|0;this._g=g+this._g|0;this._h=h+this._h|0}_hash(){const H=Buffer.alloc(32);H.writeInt32BE(this._a,0);H.writeInt32BE(this._b,4);H.writeInt32BE(this._c,8);H.writeInt32BE(this._d,12);H.writeInt32BE(this._e,16);H.writeInt32BE(this._f,20);H.writeInt32BE(this._g,24);H.writeInt32BE(this._h,28);return H}}function ch(x,y,z){return z^x&(y^z)}function maj(x,y,z){return x&y|z&(x|y)}function sigma0(x){return(x>>>2|x<<30)^(x>>>13|x<<19)^(x>>>22|x<<10)}function sigma1(x){return(x>>>6|x<<26)^(x>>>11|x<<21)^(x>>>25|x<<7)}function gamma0(x){return(x>>>7|x<<25)^(x>>>18|x<<14)^x>>>3}function gamma1(x){return(x>>>17|x<<15)^(x>>>19|x<<13)^x>>>10}}).call(this,__webpack_require__(97).Buffer)},function(module,exports){const numeric=/^[0-9]+$/;const compareIdentifiers=(a,b)=>{const anum=numeric.test(a);const bnum=numeric.test(b);if(anum&&bnum){a=+a;b=+b}return a===b?0:anum&&!bnum?-1:bnum&&!anum?1:a<b?-1:1};const rcompareIdentifiers=(a,b)=>compareIdentifiers(b,a);module.exports={compareIdentifiers:compareIdentifiers,rcompareIdentifiers:rcompareIdentifiers}},function(module,exports,__webpack_require__){const compare=__webpack_require__(28);const eq=(a,b,loose)=>compare(a,b,loose)===0;module.exports=eq},function(module,exports,__webpack_require__){const compare=__webpack_require__(28);const neq=(a,b,loose)=>compare(a,b,loose)!==0;module.exports=neq},function(module,exports,__webpack_require__){const eq=__webpack_require__(154);const neq=__webpack_require__(155);const gt=__webpack_require__(65);const gte=__webpack_require__(102);const lt=__webpack_require__(101);const lte=__webpack_require__(103);const cmp=(a,op,b,loose)=>{switch(op){case"===":if(typeof a==="object"){a=a.version}if(typeof b==="object"){b=b.version}return a===b;case"!==":if(typeof a==="object"){a=a.version}if(typeof b==="object"){b=b.version}return a!==b;case"":case"=":case"==":return eq(a,b,loose);case"!=":return neq(a,b,loose);case">":return gt(a,b,loose);case">=":return gte(a,b,loose);case"<":return lt(a,b,loose);case"<=":return lte(a,b,loose);default:throw new TypeError(`Invalid operator: ${op}`)}};module.exports=cmp},function(module,exports,__webpack_require__){var assignValue=__webpack_require__(414),castPath=__webpack_require__(425),isFunction=__webpack_require__(158),isIndex=__webpack_require__(454),isObject=__webpack_require__(108),toKey=__webpack_require__(455);function baseSet(object,path,value,customizer){if(!isObject(object)){return object}path=castPath(path,object);var index=-1,length=path.length,lastIndex=length-1,nested=object;while(nested!=null&&++index<length){var key=toKey(path[index]),newValue=value;if(key=="prototype"&&isFunction(nested)){throw new Error("Illegal access of function prototype")}if(index!=lastIndex){var objValue=hasOwnProperty.call(nested,key)?nested[key]:undefined;newValue=customizer?customizer(objValue,key,nested):undefined;if(newValue===undefined){newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{}}}assignValue(nested,key,newValue);nested=nested[key]}return object}module.exports=baseSet},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(159),isObject=__webpack_require__(108);var asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(value){if(!isObject(value)){return false}var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}module.exports=isFunction},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(106),getRawTag=__webpack_require__(419),objectToString=__webpack_require__(420);var nullTag="[object Null]",undefinedTag="[object Undefined]";var symToStringTag=Symbol?Symbol.toStringTag:undefined;function baseGetTag(value){if(value==null){return value===undefined?undefinedTag:nullTag}return symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}module.exports=baseGetTag},function(module,exports){function eq(value,other){return value===other||value!==value&&other!==other}module.exports=eq},function(module,exports,__webpack_require__){"use strict";var Schema=__webpack_require__(46);module.exports=new Schema({include:[__webpack_require__(162)]})},function(module,exports,__webpack_require__){"use strict";var Schema=__webpack_require__(46);module.exports=new Schema({include:[__webpack_require__(111)],implicit:[__webpack_require__(463),__webpack_require__(464),__webpack_require__(465),__webpack_require__(466)]})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return resolveType}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var _elastic_eui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1);var _elastic_eui__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__);const toastTypes={primary:"iInCircle",success:"check",warning:"help",danger:"alert"};const resolveType=type=>{if(type===undefined){return{color:"primary",iconType:"iInCircle"}}else{if(typeof type==="string"){return{color:type,iconType:toastTypes[type]}}else{return type}}};const CallOut=_ref=>{let{title:title,message:message,type:type,closable:closable=true,loading:loading=false,closeHandler:closeHandler}=_ref;const closeCallout=()=>closeHandler&&closeHandler(undefined);const getTitle=()=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiFlexGroup"],null,loading&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiFlexItem"],{grow:false},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiLoadingSpinner"],{size:"l"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiFlexItem"],{grow:false},title),closable&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiFlexItem"],{className:"mainCalloutCloseButton"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiSmallButtonIcon"],{onClick:()=>closeCallout(),iconType:"cross","aria-label":"Close"})));const{color:color,iconType:iconType}=resolveType(type);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiCallOut"],{title:getTitle(),color:color,iconType:!loading?iconType:undefined,className:"mainCallout"},message),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiSpacer"],{size:"m"}))};__webpack_exports__["a"]=CallOut},function(module,exports,__webpack_require__){var objectWithoutPropertiesLoose=__webpack_require__(479);function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}module.exports=_objectWithoutProperties,module.exports.__esModule=true,module.exports["default"]=module.exports},function(module,exports,__webpack_require__){(function(global){var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;module.exports=freeGlobal}).call(this,__webpack_require__(35))},function(module,exports){function overArg(func,transform){return function(arg){return func(transform(arg))}}module.exports=overArg},function(module,exports){var funcProto=Function.prototype;var funcToString=funcProto.toString;function toSource(func){if(func!=null){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}module.exports=toSource},function(module,exports,__webpack_require__){var baseAssignValue=__webpack_require__(143),eq=__webpack_require__(133);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function assignValue(object,key,value){var objValue=object[key];if(!(hasOwnProperty.call(object,key)&&eq(objValue,value))||value===undefined&&!(key in object)){baseAssignValue(object,key,value)}}module.exports=assignValue},function(module,exports,__webpack_require__){var baseTimes=__webpack_require__(512),isArguments=__webpack_require__(189),isArray=__webpack_require__(49),isBuffer=__webpack_require__(136),isIndex=__webpack_require__(190),isTypedArray=__webpack_require__(194);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value){if((inherited||hasOwnProperty.call(value,key))&&!(skipIndexes&&(key=="length"||isBuff&&(key=="offset"||key=="parent")||isType&&(key=="buffer"||key=="byteLength"||key=="byteOffset")||isIndex(key,length)))){result.push(key)}}return result}module.exports=arrayLikeKeys},function(module,exports){function stubArray(){return[]}module.exports=stubArray},function(module,exports,__webpack_require__){var arrayPush=__webpack_require__(145),getPrototype=__webpack_require__(112),getSymbols=__webpack_require__(116),stubArray=__webpack_require__(170);var nativeGetSymbols=Object.getOwnPropertySymbols;var getSymbolsIn=!nativeGetSymbols?stubArray:function(object){var result=[];while(object){arrayPush(result,getSymbols(object));object=getPrototype(object)}return result};module.exports=getSymbolsIn},function(module,exports,__webpack_require__){var arrayPush=__webpack_require__(145),isArray=__webpack_require__(49);function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}module.exports=baseGetAllKeys},function(module,exports){const numeric=/^[0-9]+$/;const compareIdentifiers=(a,b)=>{const anum=numeric.test(a);const bnum=numeric.test(b);if(anum&&bnum){a=+a;b=+b}return a===b?0:anum&&!bnum?-1:bnum&&!anum?1:a<b?-1:1};const rcompareIdentifiers=(a,b)=>compareIdentifiers(b,a);module.exports={compareIdentifiers:compareIdentifiers,rcompareIdentifiers:rcompareIdentifiers}},function(module,exports,__webpack_require__){const compare=__webpack_require__(30);const eq=(a,b,loose)=>compare(a,b,loose)===0;module.exports=eq},function(module,exports,__webpack_require__){const compare=__webpack_require__(30);const neq=(a,b,loose)=>compare(a,b,loose)!==0;module.exports=neq},function(module,exports,__webpack_require__){const eq=__webpack_require__(174);const neq=__webpack_require__(175);const gt=__webpack_require__(78);const gte=__webpack_require__(121);const lt=__webpack_require__(120);const lte=__webpack_require__(122);const cmp=(a,op,b,loose)=>{switch(op){case"===":if(typeof a==="object"){a=a.version}if(typeof b==="object"){b=b.version}return a===b;case"!==":if(typeof a==="object"){a=a.version}if(typeof b==="object"){b=b.version}return a!==b;case"":case"=":case"==":return eq(a,b,loose);case"!=":return neq(a,b,loose);case">":return gt(a,b,loose);case">=":return gte(a,b,loose);case"<":return lt(a,b,loose);case"<=":return lte(a,b,loose);default:throw new TypeError(`Invalid operator: ${op}`)}};module.exports=cmp},function(module,exports,__webpack_require__){"use strict";if(true){module.exports=__webpack_require__(259)}else{}},function(module,exports,__webpack_require__){const internalRe=__webpack_require__(53);const constants=__webpack_require__(63);const SemVer=__webpack_require__(23);const identifiers=__webpack_require__(153);const parse=__webpack_require__(44);const valid=__webpack_require__(387);const clean=__webpack_require__(388);const inc=__webpack_require__(389);const diff=__webpack_require__(390);const major=__webpack_require__(391);const minor=__webpack_require__(392);const patch=__webpack_require__(393);const prerelease=__webpack_require__(394);const compare=__webpack_require__(28);const rcompare=__webpack_require__(395);const compareLoose=__webpack_require__(396);const compareBuild=__webpack_require__(100);const sort=__webpack_require__(397);const rsort=__webpack_require__(398);const gt=__webpack_require__(65);const lt=__webpack_require__(101);const eq=__webpack_require__(154);const neq=__webpack_require__(155);const gte=__webpack_require__(102);const lte=__webpack_require__(103);const cmp=__webpack_require__(156);const coerce=__webpack_require__(399);const Comparator=__webpack_require__(66);const Range=__webpack_require__(29);const satisfies=__webpack_require__(67);const toComparators=__webpack_require__(403);const maxSatisfying=__webpack_require__(404);const minSatisfying=__webpack_require__(405);const minVersion=__webpack_require__(406);const validRange=__webpack_require__(407);const outside=__webpack_require__(104);const gtr=__webpack_require__(408);const ltr=__webpack_require__(409);const intersects=__webpack_require__(410);const simplifyRange=__webpack_require__(411);const subset=__webpack_require__(412);module.exports={parse:parse,valid:valid,clean:clean,inc:inc,diff:diff,major:major,minor:minor,patch:patch,prerelease:prerelease,compare:compare,rcompare:rcompare,compareLoose:compareLoose,compareBuild:compareBuild,sort:sort,rsort:rsort,gt:gt,lt:lt,eq:eq,neq:neq,gte:gte,lte:lte,cmp:cmp,coerce:coerce,Comparator:Comparator,Range:Range,satisfies:satisfies,toComparators:toComparators,maxSatisfying:maxSatisfying,minSatisfying:minSatisfying,minVersion:minVersion,validRange:validRange,outside:outside,gtr:gtr,ltr:ltr,intersects:intersects,simplifyRange:simplifyRange,subset:subset,SemVer:SemVer,re:internalRe.re,src:internalRe.src,tokens:internalRe.t,SEMVER_SPEC_VERSION:constants.SEMVER_SPEC_VERSION,RELEASE_TYPES:constants.RELEASE_TYPES,compareIdentifiers:identifiers.compareIdentifiers,rcompareIdentifiers:identifiers.rcompareIdentifiers}},function(module,exports,__webpack_require__){exports.set=__webpack_require__(413);exports.setWith=__webpack_require__(456)},function(module,exports){module.exports=__osdSharedDeps__.ElasticNumeral},function(module,exports){module.exports=function deepFreeze(o){Object.freeze(o);var oIsFunction=typeof o==="function";var hasOwnProp=Object.prototype.hasOwnProperty;Object.getOwnPropertyNames(o).forEach((function(prop){if(hasOwnProp.call(o,prop)&&(oIsFunction?prop!=="caller"&&prop!=="callee"&&prop!=="arguments":true)&&o[prop]!==null&&(typeof o[prop]==="object"||typeof o[prop]==="function")&&!Object.isFrozen(o[prop])){deepFreeze(o[prop])}}));return o}},function(module,exports,__webpack_require__){(function(Buffer){(function(global,factory){true?factory(exports):undefined})(this,(function(exports){"use strict";var version="4.17.0";function accessor(fn,fields,name){fn.fields=fields||[];fn.fname=name;return fn}function getter(path){return path.length===1?get1(path[0]):getN(path)}const get1=field=>function(obj){return obj[field]};const getN=path=>{const len=path.length;return function(obj){for(let i=0;i<len;++i){obj=obj[path[i]]}return obj}};function error(message){throw Error(message)}function splitAccessPath(p){const path=[],n=p.length;let q=null,b=0,s="",i,j,c;p=p+"";function push(){path.push(s+p.substring(i,j));s="";i=j+1}for(i=j=0;j<n;++j){c=p[j];if(c==="\\"){s+=p.substring(i,j);s+=p.substring(++j,++j);i=j}else if(c===q){push();q=null;b=-1}else if(q){continue}else if(i===b&&c==='"'){i=j+1;q=c}else if(i===b&&c==="'"){i=j+1;q=c}else if(c==="."&&!b){if(j>i){push()}else{i=j+1}}else if(c==="["){if(j>i)push();b=i=j+1}else if(c==="]"){if(!b)error("Access path missing open bracket: "+p);if(b>0)push();b=0;i=j+1}}if(b)error("Access path missing closing bracket: "+p);if(q)error("Access path missing closing quote: "+p);if(j>i){j++;push()}return path}function field(field,name,opt){const path=splitAccessPath(field);field=path.length===1?path[0]:field;return accessor((opt&&opt.get||getter)(path),[field],name||field)}const id=field("id");const identity=accessor(_=>_,[],"identity");const zero=accessor(()=>0,[],"zero");const one=accessor(()=>1,[],"one");const truthy=accessor(()=>true,[],"true");const falsy=accessor(()=>false,[],"false");function log(method,level,input){const args=[level].concat([].slice.call(input));console[method].apply(console,args)}const None=0;const Error$1=1;const Warn=2;const Info=3;const Debug=4;function logger(_,method){let level=_||None;return{level(_){if(arguments.length){level=+_;return this}else{return level}},error(){if(level>=Error$1)log(method||"error","ERROR",arguments);return this},warn(){if(level>=Warn)log(method||"warn","WARN",arguments);return this},info(){if(level>=Info)log(method||"log","INFO",arguments);return this},debug(){if(level>=Debug)log(method||"log","DEBUG",arguments);return this}}}var isArray=Array.isArray;function isObject(_){return _===Object(_)}const isLegalKey=key=>key!=="__proto__";function mergeConfig(...configs){return configs.reduce((out,source)=>{for(const key in source){if(key==="signals"){out.signals=mergeNamed(out.signals,source.signals)}else{const r=key==="legend"?{layout:1}:key==="style"?true:null;writeConfig(out,key,source[key],r)}}return out},{})}function writeConfig(output,key,value,recurse){if(!isLegalKey(key))return;let k,o;if(isObject(value)&&!isArray(value)){o=isObject(output[key])?output[key]:output[key]={};for(k in value){if(recurse&&(recurse===true||recurse[k])){writeConfig(o,k,value[k])}else if(isLegalKey(k)){o[k]=value[k]}}}else{output[key]=value}}function mergeNamed(a,b){if(a==null)return b;const map={},out=[];function add(_){if(!map[_.name]){map[_.name]=1;out.push(_)}}b.forEach(add);a.forEach(add);return out}function array(_){return _!=null?isArray(_)?_:[_]:[]}function isFunction(_){return typeof _==="function"}const hop=Object.prototype.hasOwnProperty;function has(object,property){return hop.call(object,property)}function isBoolean(_){return typeof _==="boolean"}function isNumber(_){return typeof _==="number"}function isString(_){return typeof _==="string"}function $(x){return isArray(x)?"["+x.map($)+"]":isObject(x)||isString(x)?JSON.stringify(x).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):x}function toSet(_){const s={},n=_.length;for(let i=0;i<n;++i)s[_[i]]=true;return s}Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function r(){var t=isNaN(arguments[0])?1:Number(arguments[0]);return t?Array.prototype.reduce.call(this,(function(a,e){return Array.isArray(e)?a.push.apply(a,r.call(e,t-1)):a.push(e),a}),[]):Array.prototype.slice.call(this)},writable:!0}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(r){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});function createCommonjsModule(fn,basedir,module){return module={path:basedir,exports:{},require:function(path,base){return commonjsRequire(path,base===undefined||base===null?module.path:base)}},fn(module,module.exports),module.exports}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var clone_1=createCommonjsModule((function(module){var clone=function(){function _instanceof(obj,type){return type!=null&&obj instanceof type}var nativeMap;try{nativeMap=Map}catch(_){nativeMap=function(){}}var nativeSet;try{nativeSet=Set}catch(_){nativeSet=function(){}}var nativePromise;try{nativePromise=Promise}catch(_){nativePromise=function(){}}function clone(parent,circular,depth,prototype,includeNonEnumerable){if(typeof circular==="object"){depth=circular.depth;prototype=circular.prototype;includeNonEnumerable=circular.includeNonEnumerable;circular=circular.circular}var allParents=[];var allChildren=[];var useBuffer=typeof Buffer!="undefined";if(typeof circular=="undefined")circular=true;if(typeof depth=="undefined")depth=Infinity;function _clone(parent,depth){if(parent===null)return null;if(depth===0)return parent;var child;var proto;if(typeof parent!="object"){return parent}if(_instanceof(parent,nativeMap)){child=new nativeMap}else if(_instanceof(parent,nativeSet)){child=new nativeSet}else if(_instanceof(parent,nativePromise)){child=new nativePromise((function(resolve,reject){parent.then((function(value){resolve(_clone(value,depth-1))}),(function(err){reject(_clone(err,depth-1))}))}))}else if(clone.__isArray(parent)){child=[]}else if(clone.__isRegExp(parent)){child=new RegExp(parent.source,__getRegExpFlags(parent));if(parent.lastIndex)child.lastIndex=parent.lastIndex}else if(clone.__isDate(parent)){child=new Date(parent.getTime())}else if(useBuffer&&Buffer.isBuffer(parent)){if(Buffer.allocUnsafe){child=Buffer.allocUnsafe(parent.length)}else{child=new Buffer(parent.length)}parent.copy(child);return child}else if(_instanceof(parent,Error)){child=Object.create(parent)}else{if(typeof prototype=="undefined"){proto=Object.getPrototypeOf(parent);child=Object.create(proto)}else{child=Object.create(prototype);proto=prototype}}if(circular){var index=allParents.indexOf(parent);if(index!=-1){return allChildren[index]}allParents.push(parent);allChildren.push(child)}if(_instanceof(parent,nativeMap)){parent.forEach((function(value,key){var keyChild=_clone(key,depth-1);var valueChild=_clone(value,depth-1);child.set(keyChild,valueChild)}))}if(_instanceof(parent,nativeSet)){parent.forEach((function(value){var entryChild=_clone(value,depth-1);child.add(entryChild)}))}for(var i in parent){var attrs;if(proto){attrs=Object.getOwnPropertyDescriptor(proto,i)}if(attrs&&attrs.set==null){continue}child[i]=_clone(parent[i],depth-1)}if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(parent);for(var i=0;i<symbols.length;i++){var symbol=symbols[i];var descriptor=Object.getOwnPropertyDescriptor(parent,symbol);if(descriptor&&!descriptor.enumerable&&!includeNonEnumerable){continue}child[symbol]=_clone(parent[symbol],depth-1);if(!descriptor.enumerable){Object.defineProperty(child,symbol,{enumerable:false})}}}if(includeNonEnumerable){var allPropertyNames=Object.getOwnPropertyNames(parent);for(var i=0;i<allPropertyNames.length;i++){var propertyName=allPropertyNames[i];var descriptor=Object.getOwnPropertyDescriptor(parent,propertyName);if(descriptor&&descriptor.enumerable){continue}child[propertyName]=_clone(parent[propertyName],depth-1);Object.defineProperty(child,propertyName,{enumerable:false})}}return child}return _clone(parent,depth)}clone.clonePrototype=function clonePrototype(parent){if(parent===null)return null;var c=function(){};c.prototype=parent;return new c};function __objToStr(o){return Object.prototype.toString.call(o)}clone.__objToStr=__objToStr;function __isDate(o){return typeof o==="object"&&__objToStr(o)==="[object Date]"}clone.__isDate=__isDate;function __isArray(o){return typeof o==="object"&&__objToStr(o)==="[object Array]"}clone.__isArray=__isArray;function __isRegExp(o){return typeof o==="object"&&__objToStr(o)==="[object RegExp]"}clone.__isRegExp=__isRegExp;function __getRegExpFlags(re){var flags="";if(re.global)flags+="g";if(re.ignoreCase)flags+="i";if(re.multiline)flags+="m";return flags}clone.__getRegExpFlags=__getRegExpFlags;return clone}();if(module.exports){module.exports=clone}}));var fastDeepEqual=function equal(a,b){if(a===b)return true;if(a&&b&&typeof a=="object"&&typeof b=="object"){if(a.constructor!==b.constructor)return false;var length,i,keys;if(Array.isArray(a)){length=a.length;if(length!=b.length)return false;for(i=length;i--!==0;)if(!equal(a[i],b[i]))return false;return true}if(a.constructor===RegExp)return a.source===b.source&&a.flags===b.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===b.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===b.toString();keys=Object.keys(a);length=keys.length;if(length!==Object.keys(b).length)return false;for(i=length;i--!==0;)if(!Object.prototype.hasOwnProperty.call(b,keys[i]))return false;for(i=length;i--!==0;){var key=keys[i];if(!equal(a[key],b[key]))return false}return true}return a!==a&&b!==b};var fastJsonStableStringify=function(data,opts){if(!opts)opts={};if(typeof opts==="function")opts={cmp:opts};var cycles=typeof opts.cycles==="boolean"?opts.cycles:false;var cmp=opts.cmp&&function(f){return function(node){return function(a,b){var aobj={key:a,value:node[a]};var bobj={key:b,value:node[b]};return f(aobj,bobj)}}}(opts.cmp);var seen=[];return function stringify(node){if(node&&node.toJSON&&typeof node.toJSON==="function"){node=node.toJSON()}if(node===undefined)return;if(typeof node=="number")return isFinite(node)?""+node:"null";if(typeof node!=="object")return JSON.stringify(node);var i,out;if(Array.isArray(node)){out="[";for(i=0;i<node.length;i++){if(i)out+=",";out+=stringify(node[i])||"null"}return out+"]"}if(node===null)return"null";if(seen.indexOf(node)!==-1){if(cycles)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var seenIndex=seen.push(node)-1;var keys=Object.keys(node).sort(cmp&&cmp(node));out="";for(i=0;i<keys.length;i++){var key=keys[i];var value=stringify(node[key]);if(!value)continue;if(out)out+=",";out+=JSON.stringify(key)+":"+value}seen.splice(seenIndex,1);return"{"+out+"}"}(data)};function isLogicalOr(op){return!!op.or}function isLogicalAnd(op){return!!op.and}function isLogicalNot(op){return!!op.not}function forEachLeaf(op,fn){if(isLogicalNot(op)){forEachLeaf(op.not,fn)}else if(isLogicalAnd(op)){for(const subop of op.and){forEachLeaf(subop,fn)}}else if(isLogicalOr(op)){for(const subop of op.or){forEachLeaf(subop,fn)}}else{fn(op)}}function normalizeLogicalComposition(op,normalizer){if(isLogicalNot(op)){return{not:normalizeLogicalComposition(op.not,normalizer)}}else if(isLogicalAnd(op)){return{and:op.and.map(o=>normalizeLogicalComposition(o,normalizer))}}else if(isLogicalOr(op)){return{or:op.or.map(o=>normalizeLogicalComposition(o,normalizer))}}else{return normalizer(op)}}const deepEqual=fastDeepEqual;const duplicate=clone_1;function pick(obj,props){const copy={};for(const prop of props){if(has(obj,prop)){copy[prop]=obj[prop]}}return copy}function omit(obj,props){const copy={...obj};for(const prop of props){delete copy[prop]}return copy}Set.prototype["toJSON"]=function(){return"Set(".concat([...this].map(x=>fastJsonStableStringify(x)).join(","),")")};const stringify=fastJsonStableStringify;function hash(a){if(isNumber(a)){return a}const str=isString(a)?a:fastJsonStableStringify(a);if(str.length<250){return str}let h=0;for(let i=0;i<str.length;i++){const char=str.charCodeAt(i);h=(h<<5)-h+char;h=h&h}return h}function isNullOrFalse(x){return x===false||x===null}function contains(array,item){return array.indexOf(item)>-1}function some(arr,f){let i=0;for(const[k,a]of arr.entries()){if(f(a,k,i++)){return true}}return false}function every(arr,f){let i=0;for(const[k,a]of arr.entries()){if(!f(a,k,i++)){return false}}return true}function mergeDeep(dest,...src){for(const s of src){deepMerge_(dest,s!==null&&s!==void 0?s:{})}return dest}function deepMerge_(dest,src){for(const property of keys(src)){writeConfig(dest,property,src[property],true)}}function unique(values,f){const results=[];const u={};let v;for(const val of values){v=f(val);if(v in u){continue}u[v]=1;results.push(val)}return results}function isEqual(dict,other){const dictKeys=keys(dict);const otherKeys=keys(other);if(dictKeys.length!==otherKeys.length){return false}for(const key of dictKeys){if(dict[key]!==other[key]){return false}}return true}function setEqual(a,b){if(a.size!==b.size){return false}for(const e of a){if(!b.has(e)){return false}}return true}function hasIntersection(a,b){for(const key of a){if(b.has(key)){return true}}return false}function prefixGenerator(a){const prefixes=new Set;for(const x of a){const splitField=splitAccessPath(x);const wrappedWithAccessors=splitField.map((y,i)=>i===0?y:"[".concat(y,"]"));const computedPrefixes=wrappedWithAccessors.map((_,i)=>wrappedWithAccessors.slice(0,i+1).join(""));for(const y of computedPrefixes){prefixes.add(y)}}return prefixes}function fieldIntersection(a,b){if(a===undefined||b===undefined){return true}return hasIntersection(prefixGenerator(a),prefixGenerator(b))}function isEmpty(obj){return keys(obj).length===0}const keys=Object.keys;const vals=Object.values;const entries=Object.entries;function isBoolean$1(b){return b===true||b===false}function varName(s){const alphanumericS=s.replace(/\W/g,"_");return(s.match(/^\d+/)?"_":"")+alphanumericS}function logicalExpr(op,cb){if(isLogicalNot(op)){return"!("+logicalExpr(op.not,cb)+")"}else if(isLogicalAnd(op)){return"("+op.and.map(and=>logicalExpr(and,cb)).join(") && (")+")"}else if(isLogicalOr(op)){return"("+op.or.map(or=>logicalExpr(or,cb)).join(") || (")+")"}else{return cb(op)}}function deleteNestedProperty(obj,orderedProps){if(orderedProps.length===0){return true}const prop=orderedProps.shift();if(prop in obj&&deleteNestedProperty(obj[prop],orderedProps)){delete obj[prop]}return isEmpty(obj)}function titleCase(s){return s.charAt(0).toUpperCase()+s.substr(1)}function accessPathWithDatum(path,datum="datum"){const pieces=splitAccessPath(path);const prefixes=[];for(let i=1;i<=pieces.length;i++){const prefix="[".concat(pieces.slice(0,i).map($).join("]["),"]");prefixes.push("".concat(datum).concat(prefix))}return prefixes.join(" && ")}function flatAccessWithDatum(path,datum="datum"){return"".concat(datum,"[").concat($(splitAccessPath(path).join(".")),"]")}function escapePathAccess(string){return string.replace(/(\[|\]|\.|'|")/g,"\\$1")}function replacePathInField(path){return"".concat(splitAccessPath(path).map(escapePathAccess).join("\\."))}function replaceAll(string,find,replacement){return string.replace(new RegExp(find.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),replacement)}function removePathFromField(path){return"".concat(splitAccessPath(path).join("."))}function accessPathDepth(path){if(!path){return 0}return splitAccessPath(path).length}function getFirstDefined(...args){for(const arg of args){if(arg!==undefined){return arg}}return undefined}let idCounter=42;function uniqueId(prefix){const id=++idCounter;return prefix?String(prefix)+id:id}function resetIdCounter(){idCounter=42}function internalField(name){return isInternalField(name)?name:"__".concat(name)}function isInternalField(name){return name.indexOf("__")===0}function normalizeAngle(angle){if(angle===undefined){return undefined}return(angle%360+360)%360}function isNumeric(value){if(isNumber(value)){return true}return!isNaN(value)&&!isNaN(parseFloat(value))}const CONDITIONAL_AXIS_PROP_INDEX={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function isConditionalAxisValue(v){return v&&v["condition"]}const AXIS_PARTS=["domain","grid","labels","ticks","title"];const AXIS_PROPERTY_TYPE={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"main",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"};const COMMON_AXIS_PROPERTIES_INDEX={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1};const AXIS_PROPERTIES_INDEX={...COMMON_AXIS_PROPERTIES_INDEX,style:1,labelExpr:1,encoding:1};function isAxisProperty(prop){return!!AXIS_PROPERTIES_INDEX[prop]}const AXIS_CONFIGS_INDEX={axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1};const AXIS_CONFIGS=keys(AXIS_CONFIGS_INDEX);const AGGREGATE_OP_INDEX={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1};const MULTIDOMAIN_SORT_OP_INDEX={count:1,min:1,max:1};function isArgminDef(a){return!!a&&!!a["argmin"]}function isArgmaxDef(a){return!!a&&!!a["argmax"]}function isAggregateOp(a){return isString(a)&&!!AGGREGATE_OP_INDEX[a]}const COUNTING_OPS=["count","valid","missing","distinct"];function isCountingAggregateOp(aggregate){return isString(aggregate)&&contains(COUNTING_OPS,aggregate)}function isMinMaxOp(aggregate){return isString(aggregate)&&contains(["min","max"],aggregate)}const SUM_OPS=["count","sum","distinct","valid","missing"];const SHARED_DOMAIN_OPS=["mean","average","median","q1","q3","min","max"];const SHARED_DOMAIN_OP_INDEX=toSet(SHARED_DOMAIN_OPS);const ROW="row";const COLUMN="column";const FACET="facet";const X="x";const Y="y";const X2="x2";const Y2="y2";const RADIUS="radius";const RADIUS2="radius2";const THETA="theta";const THETA2="theta2";const LATITUDE="latitude";const LONGITUDE="longitude";const LATITUDE2="latitude2";const LONGITUDE2="longitude2";const COLOR="color";const FILL="fill";const STROKE="stroke";const SHAPE="shape";const SIZE="size";const ANGLE="angle";const OPACITY="opacity";const FILLOPACITY="fillOpacity";const STROKEOPACITY="strokeOpacity";const STROKEWIDTH="strokeWidth";const STROKEDASH="strokeDash";const TEXT="text";const ORDER="order";const DETAIL="detail";const KEY="key";const TOOLTIP="tooltip";const HREF="href";const URL="url";const DESCRIPTION="description";const POSITION_CHANNEL_INDEX={x:1,y:1,x2:1,y2:1};const POLAR_POSITION_CHANNEL_INDEX={theta:1,theta2:1,radius:1,radius2:1};function isPolarPositionChannel(c){return c in POLAR_POSITION_CHANNEL_INDEX}const GEO_POSIITON_CHANNEL_INDEX={longitude:1,longitude2:1,latitude:1,latitude2:1};function getPositionChannelFromLatLong(channel){switch(channel){case LATITUDE:return"y";case LATITUDE2:return"y2";case LONGITUDE:return"x";case LONGITUDE2:return"x2"}}function isGeoPositionChannel(c){return c in GEO_POSIITON_CHANNEL_INDEX}const GEOPOSITION_CHANNELS=keys(GEO_POSIITON_CHANNEL_INDEX);const UNIT_CHANNEL_INDEX={...POSITION_CHANNEL_INDEX,...POLAR_POSITION_CHANNEL_INDEX,...GEO_POSIITON_CHANNEL_INDEX,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function isColorChannel(channel){return channel===COLOR||channel===FILL||channel===STROKE}const FACET_CHANNEL_INDEX={row:1,column:1,facet:1};const FACET_CHANNELS=keys(FACET_CHANNEL_INDEX);const CHANNEL_INDEX={...UNIT_CHANNEL_INDEX,...FACET_CHANNEL_INDEX};const CHANNELS=keys(CHANNEL_INDEX);const{order:_o,detail:_d,tooltip:_tt1,...SINGLE_DEF_CHANNEL_INDEX}=CHANNEL_INDEX;const{row:_r,column:_c,facet:_f,...SINGLE_DEF_UNIT_CHANNEL_INDEX}=SINGLE_DEF_CHANNEL_INDEX;function isSingleDefUnitChannel(str){return!!SINGLE_DEF_UNIT_CHANNEL_INDEX[str]}function isChannel(str){return!!CHANNEL_INDEX[str]}const SECONDARY_RANGE_CHANNEL=[X2,Y2,LATITUDE2,LONGITUDE2,THETA2,RADIUS2];function isSecondaryRangeChannel(c){const main=getMainRangeChannel(c);return main!==c}function getMainRangeChannel(channel){switch(channel){case X2:return X;case Y2:return Y;case LATITUDE2:return LATITUDE;case LONGITUDE2:return LONGITUDE;case THETA2:return THETA;case RADIUS2:return RADIUS}return channel}function getVgPositionChannel(channel){if(isPolarPositionChannel(channel)){switch(channel){case THETA:return"startAngle";case THETA2:return"endAngle";case RADIUS:return"outerRadius";case RADIUS2:return"innerRadius"}}return channel}function getSecondaryRangeChannel(channel){switch(channel){case X:return X2;case Y:return Y2;case LATITUDE:return LATITUDE2;case LONGITUDE:return LONGITUDE2;case THETA:return THETA2;case RADIUS:return RADIUS2}return undefined}function getSizeChannel(channel){switch(channel){case X:case X2:return"width";case Y:case Y2:return"height"}return undefined}function getOffsetChannel(channel){switch(channel){case X:return"xOffset";case Y:return"yOffset";case X2:return"x2Offset";case Y2:return"y2Offset";case THETA:return"thetaOffset";case RADIUS:return"radiusOffset";case THETA2:return"theta2Offset";case RADIUS2:return"radius2Offset"}return undefined}const{x:_x,y:_y,x2:_x2,y2:_y2,latitude:_latitude,longitude:_longitude,latitude2:_latitude2,longitude2:_longitude2,theta:_theta,theta2:_theta2,radius:_radius,radius2:_radius2,...NONPOSITION_CHANNEL_INDEX}=UNIT_CHANNEL_INDEX;const NONPOSITION_CHANNELS=keys(NONPOSITION_CHANNEL_INDEX);const POSITION_SCALE_CHANNEL_INDEX={x:1,y:1};const POSITION_SCALE_CHANNELS=keys(POSITION_SCALE_CHANNEL_INDEX);function isXorY(channel){return channel in POSITION_SCALE_CHANNEL_INDEX}const POLAR_POSITION_SCALE_CHANNEL_INDEX={theta:1,radius:1};const POLAR_POSITION_SCALE_CHANNELS=keys(POLAR_POSITION_SCALE_CHANNEL_INDEX);function getPositionScaleChannel(sizeType){return sizeType==="width"?X:Y}const{text:_t,tooltip:_tt,href:_hr,url:_u,description:_al,detail:_dd,key:_k,order:_oo,...NONPOSITION_SCALE_CHANNEL_INDEX}=NONPOSITION_CHANNEL_INDEX;const NONPOSITION_SCALE_CHANNELS=keys(NONPOSITION_SCALE_CHANNEL_INDEX);function isNonPositionScaleChannel(channel){return!!NONPOSITION_CHANNEL_INDEX[channel]}function supportLegend(channel){switch(channel){case COLOR:case FILL:case STROKE:case SIZE:case SHAPE:case OPACITY:case STROKEWIDTH:case STROKEDASH:return true;case FILLOPACITY:case STROKEOPACITY:case ANGLE:return false}}const SCALE_CHANNEL_INDEX={...POSITION_SCALE_CHANNEL_INDEX,...POLAR_POSITION_SCALE_CHANNEL_INDEX,...NONPOSITION_SCALE_CHANNEL_INDEX};const SCALE_CHANNELS=keys(SCALE_CHANNEL_INDEX);function isScaleChannel(channel){return!!SCALE_CHANNEL_INDEX[channel]}function supportMark(channel,mark){return getSupportedMark(channel)[mark]}const ALL_MARKS={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"};const{geoshape:_g,...ALL_MARKS_EXCEPT_GEOSHAPE}=ALL_MARKS;function getSupportedMark(channel){switch(channel){case COLOR:case FILL:case STROKE:case DESCRIPTION:case DETAIL:case KEY:case TOOLTIP:case HREF:case ORDER:case OPACITY:case FILLOPACITY:case STROKEOPACITY:case STROKEWIDTH:case FACET:case ROW:case COLUMN:return ALL_MARKS;case X:case Y:case LATITUDE:case LONGITUDE:return ALL_MARKS_EXCEPT_GEOSHAPE;case X2:case Y2:case LATITUDE2:case LONGITUDE2:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case SIZE:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case STROKEDASH:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case SHAPE:return{point:"always",geoshape:"always"};case TEXT:return{text:"always"};case ANGLE:return{point:"always",square:"always",text:"always"};case URL:return{image:"always"};case THETA:return{text:"always",arc:"always"};case RADIUS:return{text:"always",arc:"always"};case THETA2:case RADIUS2:return{arc:"always"}}}function rangeType(channel){switch(channel){case X:case Y:case THETA:case RADIUS:case SIZE:case ANGLE:case STROKEWIDTH:case OPACITY:case FILLOPACITY:case STROKEOPACITY:case X2:case Y2:case THETA2:case RADIUS2:return undefined;case FACET:case ROW:case COLUMN:case SHAPE:case STROKEDASH:case TEXT:case TOOLTIP:case HREF:case URL:case DESCRIPTION:return"discrete";case COLOR:case FILL:case STROKE:return"flexible";case LATITUDE:case LONGITUDE:case LATITUDE2:case LONGITUDE2:case DETAIL:case KEY:case ORDER:return undefined}}function binToString(bin){if(isBoolean(bin)){bin=normalizeBin(bin,undefined)}return"bin"+keys(bin).map(p=>isSelectionExtent(bin[p])?varName("_".concat(p,"_").concat(entries(bin[p]))):varName("_".concat(p,"_").concat(bin[p]))).join("")}function isBinning(bin){return bin===true||isBinParams(bin)&&!bin.binned}function isBinned(bin){return bin==="binned"||isBinParams(bin)&&bin.binned===true}function isBinParams(bin){return isObject(bin)}function isSelectionExtent(extent){return extent===null||extent===void 0?void 0:extent["selection"]}function autoMaxBins(channel){switch(channel){case ROW:case COLUMN:case SIZE:case COLOR:case FILL:case STROKE:case STROKEWIDTH:case OPACITY:case FILLOPACITY:case STROKEOPACITY:case SHAPE:return 6;case STROKEDASH:return 4;default:return 10}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classPrivateFieldGet(receiver,privateMap){var descriptor=privateMap.get(receiver);if(!descriptor){throw new TypeError("attempted to get private field on non-instance")}if(descriptor.get){return descriptor.get.call(receiver)}return descriptor.value}function _classPrivateFieldSet(receiver,privateMap,value){var descriptor=privateMap.get(receiver);if(!descriptor){throw new TypeError("attempted to set private field on non-instance")}if(descriptor.set){descriptor.set.call(receiver,value)}else{if(!descriptor.writable){throw new TypeError("attempted to set read only private field")}descriptor.value=value}return value}function invalidSpec(spec){return"Invalid specification ".concat(JSON.stringify(spec),'. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".')}const FIT_NON_SINGLE='Autosize "fit" only works for single views and layered views.';function containerSizeNonSingle(name){const uName=name=="width"?"Width":"Height";return"".concat(uName,' "container" only works for single views and layered views.')}function containerSizeNotCompatibleWithAutosize(name){const uName=name=="width"?"Width":"Height";const fitDirection=name=="width"?"x":"y";return"".concat(uName,' "container" only works well with autosize "fit" or "fit-').concat(fitDirection,'".')}function droppingFit(channel){return channel?'Dropping "fit-'.concat(channel,'" because spec has discrete ').concat(getSizeChannel(channel),"."):'Dropping "fit" because spec has discrete size.'}function unknownField(channel){return"Unknown field for ".concat(channel,". Cannot calculate view size.")}function cannotProjectOnChannelWithoutField(channel){return'Cannot project a selection on encoding channel "'.concat(channel,'", which has no field.')}function cannotProjectAggregate(channel,aggregate){return'Cannot project a selection on encoding channel "'.concat(channel,'" as it uses an aggregate function ("').concat(aggregate,'").')}function nearestNotSupportForContinuous(mark){return'The "nearest" transform is not supported for '.concat(mark," marks.")}function selectionNotSupported(mark){return"Selection not supported for ".concat(mark," yet.")}function selectionNotFound(name){return'Cannot find a selection named "'.concat(name,'".')}const SCALE_BINDINGS_CONTINUOUS="Scale bindings are currently only supported for scales with unbinned, continuous domains.";const LEGEND_BINDINGS_MUST_HAVE_PROJECTION="Legend bindings are only supported for selections over an individual field or encoding channel.";function noSameUnitLookup(name){return'Cannot define and lookup the "'.concat(name,'" selection in the same view. ')+"Try moving the lookup into a second, layered view?"}const NEEDS_SAME_SELECTION="The same selection must be used to override scale domains in a layered view.";const INTERVAL_INITIALIZED_WITH_X_Y='Interval selections should be initialized using "x" and/or "y" keys.';function noSuchRepeatedValue(field){return'Unknown repeated value "'.concat(field,'".')}function columnsNotSupportByRowCol(type){return'The "columns" property cannot be used when "'.concat(type,'" has nested row/column.')}const CONCAT_CANNOT_SHARE_AXIS="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function unrecognizedParse(p){return'Unrecognized parse "'.concat(p,'".')}function differentParse(field,local,ancestor){return'An ancestor parsed field "'.concat(field,'" as ').concat(ancestor," but a child wants to parse the field as ").concat(local,".")}const ADD_SAME_CHILD_TWICE="Attempt to add the same child twice.";function invalidTransformIgnored(transform){return"Ignoring an invalid transform: ".concat(stringify(transform),".")}const NO_FIELDS_NEEDS_AS='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function customFormatTypeNotAllowed(channel){return"Config.customFormatTypes is not true, thus custom format type and format for channel ".concat(channel," are dropped.")}function projectionOverridden(opt){const{parentProjection:parentProjection,projection:projection}=opt;return"Layer's shared projection ".concat(stringify(parentProjection)," is overridden by a child projection ").concat(stringify(projection),".")}const REPLACE_ANGLE_WITH_THETA="Arc marks uses theta channel rather than angle, replacing angle with theta.";function primitiveChannelDef(channel,type,value){return"Channel ".concat(channel," is a ").concat(type,". Converted to {value: ").concat(stringify(value),"}.")}function invalidFieldType(type){return'Invalid field type "'.concat(type,'".')}function invalidFieldTypeForCountAggregate(type,aggregate){return'Invalid field type "'.concat(type,'" for aggregate: "').concat(aggregate,'", using "quantitative" instead.')}function invalidAggregate(aggregate){return'Invalid aggregation operator "'.concat(aggregate,'".')}function droppingColor(type,opt){const{fill:fill,stroke:stroke}=opt;return"Dropping color ".concat(type," as the plot also has ").concat(fill&&stroke?"fill and stroke":fill?"fill":"stroke",".")}function emptyFieldDef(fieldDef,channel){return"Dropping ".concat(stringify(fieldDef),' from channel "').concat(channel,'" since it does not contain any data field, datum, value, or signal.')}const LINE_WITH_VARYING_SIZE="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function incompatibleChannel(channel,markOrFacet,when){return"".concat(channel,' dropped as it is incompatible with "').concat(markOrFacet,'"').concat(when?" when ".concat(when):"",".")}function invalidEncodingChannel(channel){return"".concat(channel,"-encoding is dropped as ").concat(channel," is not a valid encoding channel.")}function facetChannelShouldBeDiscrete(channel){return"".concat(channel," encoding should be discrete (ordinal / nominal / binned).")}function facetChannelDropped(channels){return"Facet encoding dropped as ".concat(channels.join(" and ")," ").concat(channels.length>1?"are":"is"," also specified.")}function discreteChannelCannotEncode(channel,type){return'Using discrete channel "'.concat(channel,'" to encode "').concat(type,'" field can be misleading as it does not encode ').concat(type==="ordinal"?"order":"magnitude",".")}function rangeMarkAlignmentCannotBeExpression(align){return"The ".concat(align," for range marks cannot be an expression")}function lineWithRange(hasX2,hasY2){const channels=hasX2&&hasY2?"x2 and y2":hasX2?"x2":"y2";return"Line mark is for continuous lines and thus cannot be used with ".concat(channels,". We will use the rule mark (line segments) instead.")}function orientOverridden(original,actual){return'Specified orient "'.concat(original,'" overridden with "').concat(actual,'".')}const RANGE_STEP_DEPRECATED='Scale\'s "rangeStep" is deprecated and will be removed in Vega-Lite 5.0. Please use "width"/"height": {"step": ...} instead. See https://vega.github.io/vega-lite/docs/size.html.';function cannotUseScalePropertyWithNonColor(prop){return'Cannot use the scale property "'.concat(prop,'" with non-color channel.')}function unaggregateDomainHasNoEffectForRawField(fieldDef){return"Using unaggregated domain with raw field has no effect (".concat(stringify(fieldDef),").")}function unaggregateDomainWithNonSharedDomainOp(aggregate){return'Unaggregated domain not applicable for "'.concat(aggregate,'" since it produces values outside the origin domain of the source data.')}function unaggregatedDomainWithLogScale(fieldDef){return"Unaggregated domain is currently unsupported for log scale (".concat(stringify(fieldDef),").")}function cannotApplySizeToNonOrientedMark(mark){return'Cannot apply size to non-oriented mark "'.concat(mark,'".')}function scaleTypeNotWorkWithChannel(channel,scaleType,defaultScaleType){return'Channel "'.concat(channel,'" does not work with "').concat(scaleType,'" scale. We are using "').concat(defaultScaleType,'" scale instead.')}function scaleTypeNotWorkWithFieldDef(scaleType,defaultScaleType){return'FieldDef does not work with "'.concat(scaleType,'" scale. We are using "').concat(defaultScaleType,'" scale instead.')}function scalePropertyNotWorkWithScaleType(scaleType,propName,channel){return"".concat(channel,"-scale's \"").concat(propName,'" is dropped as it does not work with ').concat(scaleType," scale.")}function stepDropped(channel){return'The step for "'.concat(channel,'" is dropped because the ').concat(channel==="width"?"x":"y"," is continuous.")}function mergeConflictingProperty(property,propertyOf,v1,v2){return"Conflicting ".concat(propertyOf.toString(),' property "').concat(property.toString(),'" (').concat(stringify(v1)," and ").concat(stringify(v2),"). Using ").concat(stringify(v1),".")}function mergeConflictingDomainProperty(property,propertyOf,v1,v2){return"Conflicting ".concat(propertyOf.toString(),' property "').concat(property.toString(),'" (').concat(stringify(v1)," and ").concat(stringify(v2),"). Using the union of the two domains.")}function independentScaleMeansIndependentGuide(channel){return'Setting the scale to be independent for "'.concat(channel,'" means we also have to set the guide (axis or legend) to be independent.')}function domainSortDropped(sort){return"Dropping sort property ".concat(stringify(sort),' as unioned domains only support boolean or op "count", "min", and "max".')}const MORE_THAN_ONE_SORT="Domains that should be unioned has conflicting sort properties. Sort will be set to true.";const FACETED_INDEPENDENT_DIFFERENT_SOURCES="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.";const FACETED_INDEPENDENT_SAME_FIELDS_DIFFERENT_SOURCES="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.";const FACETED_INDEPENDENT_SAME_SOURCE="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function cannotStackRangedMark(channel){return'Cannot stack "'.concat(channel,'" if there is already "').concat(channel,'2".')}function cannotStackNonLinearScale(scaleType){return"Cannot stack non-linear scale (".concat(scaleType,").")}function stackNonSummativeAggregate(aggregate){return'Stacking is applied even though the aggregate function is non-summative ("'.concat(aggregate,'").')}function invalidTimeUnit(unitName,value){return"Invalid ".concat(unitName,": ").concat(stringify(value),".")}function droppedDay(d){return"Dropping day from datetime ".concat(stringify(d)," as day cannot be combined with other units.")}function errorBarCenterAndExtentAreNotNeeded(center,extent){return"".concat(extent?"extent ":"").concat(extent&&center?"and ":"").concat(center?"center ":"").concat(extent&&center?"are ":"is ","not needed when data are aggregated.")}function errorBarCenterIsUsedWithWrongExtent(center,extent,mark){return"".concat(center," is not usually used with ").concat(extent," for ").concat(mark,".")}function errorBarContinuousAxisHasCustomizedAggregate(aggregate,compositeMark){return"Continuous axis should not have customized aggregation function ".concat(aggregate,"; ").concat(compositeMark," already agregates the axis.")}function errorBand1DNotSupport(property){return"1D error band does not support ".concat(property,".")}function channelRequiredForBinned(channel){return"Channel ".concat(channel,' is required for "binned" bin.')}function channelShouldNotBeUsedForBinned(channel){return"Channel ".concat(channel,' should not be used with "binned" bin.')}function domainRequiredForThresholdScale(channel){return"Domain for ".concat(channel," is required for threshold scale.")}const main=logger(Warn);let current=main;function set(newLogger){current=newLogger;return current}function reset(){current=main;return current}function warn(...args){current.warn(...args)}function debug(...args){current.debug(...args)}function isDateTime(o){if(o&&isObject(o)){for(const part of TIMEUNIT_PARTS){if(part in o){return true}}}return false}const MONTHS=["january","february","march","april","may","june","july","august","september","october","november","december"];const SHORT_MONTHS=MONTHS.map(m=>m.substr(0,3));const DAYS=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];const SHORT_DAYS=DAYS.map(d=>d.substr(0,3));function normalizeQuarter(q){if(isNumeric(q)){q=+q}if(isNumber(q)){if(q>4){warn(invalidTimeUnit("quarter",q))}return q-1}else{throw new Error(invalidTimeUnit("quarter",q))}}function normalizeMonth(m){if(isNumeric(m)){m=+m}if(isNumber(m)){return m-1}else{const lowerM=m.toLowerCase();const monthIndex=MONTHS.indexOf(lowerM);if(monthIndex!==-1){return monthIndex}const shortM=lowerM.substr(0,3);const shortMonthIndex=SHORT_MONTHS.indexOf(shortM);if(shortMonthIndex!==-1){return shortMonthIndex}throw new Error(invalidTimeUnit("month",m))}}function normalizeDay(d){if(isNumeric(d)){d=+d}if(isNumber(d)){return d%7}else{const lowerD=d.toLowerCase();const dayIndex=DAYS.indexOf(lowerD);if(dayIndex!==-1){return dayIndex}const shortD=lowerD.substr(0,3);const shortDayIndex=SHORT_DAYS.indexOf(shortD);if(shortDayIndex!==-1){return shortDayIndex}throw new Error(invalidTimeUnit("day",d))}}function dateTimeParts(d,normalize){const parts=[];if(normalize&&d.day!==undefined){if(keys(d).length>1){warn(droppedDay(d));d=duplicate(d);delete d.day}}if(d.year!==undefined){parts.push(d.year)}else{parts.push(2012)}if(d.month!==undefined){const month=normalize?normalizeMonth(d.month):d.month;parts.push(month)}else if(d.quarter!==undefined){const quarter=normalize?normalizeQuarter(d.quarter):d.quarter;parts.push(isNumber(quarter)?quarter*3:quarter+"*3")}else{parts.push(0)}if(d.date!==undefined){parts.push(d.date)}else if(d.day!==undefined){const day=normalize?normalizeDay(d.day):d.day;parts.push(isNumber(day)?day+1:day+"+1")}else{parts.push(1)}for(const timeUnit of["hours","minutes","seconds","milliseconds"]){const unit=d[timeUnit];parts.push(typeof unit==="undefined"?0:unit)}return parts}function dateTimeToExpr(d){const parts=dateTimeParts(d,true);const string=parts.join(", ");if(d.utc){return"utc(".concat(string,")")}else{return"datetime(".concat(string,")")}}function dateTimeExprToExpr(d){const parts=dateTimeParts(d,false);const string=parts.join(", ");if(d.utc){return"utc(".concat(string,")")}else{return"datetime(".concat(string,")")}}function dateTimeToTimestamp(d){const parts=dateTimeParts(d,true);if(d.utc){return+new Date(Date.UTC(...parts))}else{return+new Date(...parts)}}const LOCAL_SINGLE_TIMEUNIT_INDEX={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};const TIMEUNIT_PARTS=keys(LOCAL_SINGLE_TIMEUNIT_INDEX);function isLocalSingleTimeUnit(timeUnit){return!!LOCAL_SINGLE_TIMEUNIT_INDEX[timeUnit]}function isUTCTimeUnit(t){return t.startsWith("utc")}function getLocalTimeUnit(t){return t.substr(3)}const VEGALITE_TIMEFORMAT={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function getTimeUnitParts(timeUnit){const parts=[];for(const part of TIMEUNIT_PARTS){if(containsTimeUnit(timeUnit,part)){parts.push(part)}}return parts}function containsTimeUnit(fullTimeUnit,timeUnit){const index=fullTimeUnit.indexOf(timeUnit);if(index<0){return false}if(index>0&&timeUnit==="seconds"&&fullTimeUnit.charAt(index-1)==="i"){return false}if(fullTimeUnit.length>index+3&&timeUnit==="day"&&fullTimeUnit.charAt(index+3)==="o"){return false}if(index>0&&timeUnit==="year"&&fullTimeUnit.charAt(index-1)==="f"){return false}return true}function fieldExpr(fullTimeUnit,field,{end:end}={end:false}){const fieldRef=accessPathWithDatum(field);const utc=isUTCTimeUnit(fullTimeUnit)?"utc":"";function func(timeUnit){if(timeUnit==="quarter"){return"(".concat(utc,"quarter(").concat(fieldRef,")-1)")}else{return"".concat(utc).concat(timeUnit,"(").concat(fieldRef,")")}}let lastTimeUnit;const dateExpr={};for(const part of TIMEUNIT_PARTS){if(containsTimeUnit(fullTimeUnit,part)){dateExpr[part]=func(part);lastTimeUnit=part}}if(end){dateExpr[lastTimeUnit]+="+1"}return dateTimeExprToExpr(dateExpr)}function timeUnitSpecifierExpression(timeUnit){if(!timeUnit){return undefined}const timeUnitParts=getTimeUnitParts(timeUnit);return"timeUnitSpecifier(".concat(fastJsonStableStringify(timeUnitParts),", ").concat(fastJsonStableStringify(VEGALITE_TIMEFORMAT),")")}function formatExpression(timeUnit,field,isUTCScale){if(!timeUnit){return undefined}const expr=timeUnitSpecifierExpression(timeUnit);const utc=isUTCScale||isUTCTimeUnit(timeUnit);return"".concat(utc?"utc":"time","Format(").concat(field,", ").concat(expr,")")}function normalizeTimeUnit(timeUnit){if(!timeUnit){return undefined}let params;if(isString(timeUnit)){params={unit:timeUnit}}else if(isObject(timeUnit)){params={...timeUnit,...timeUnit.unit?{unit:timeUnit.unit}:{}}}if(isUTCTimeUnit(params.unit)){params.utc=true;params.unit=getLocalTimeUnit(params.unit)}return params}function timeUnitToString(tu){const{utc:utc,...rest}=normalizeTimeUnit(tu);if(rest.unit){return(utc?"utc":"")+keys(rest).map(p=>varName("".concat(p==="unit"?"":"_".concat(p,"_")).concat(rest[p]))).join("")}else{return(utc?"utc":"")+"timeunit"+keys(rest).map(p=>varName("_".concat(p,"_").concat(rest[p]))).join("")}}function isSignalRef(o){return o&&!!o["signal"]}function isVgRangeStep(range){return!!range["step"]}function isDataRefUnionedDomain(domain){if(!isArray(domain)){return"fields"in domain&&!("data"in domain)}return false}function isFieldRefUnionDomain(domain){if(!isArray(domain)){return"fields"in domain&&"data"in domain}return false}function isDataRefDomain(domain){if(!isArray(domain)){return"field"in domain&&"data"in domain}return false}const VG_MARK_CONFIG_INDEX={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1};const VG_MARK_CONFIGS=keys(VG_MARK_CONFIG_INDEX);const VG_MARK_INDEX={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};const VG_CORNERRADIUS_CHANNELS=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function isSelectionPredicate(predicate){return predicate===null||predicate===void 0?void 0:predicate["selection"]}function isFieldEqualPredicate(predicate){return predicate&&!!predicate.field&&predicate.equal!==undefined}function isFieldLTPredicate(predicate){return predicate&&!!predicate.field&&predicate.lt!==undefined}function isFieldLTEPredicate(predicate){return predicate&&!!predicate.field&&predicate.lte!==undefined}function isFieldGTPredicate(predicate){return predicate&&!!predicate.field&&predicate.gt!==undefined}function isFieldGTEPredicate(predicate){return predicate&&!!predicate.field&&predicate.gte!==undefined}function isFieldRangePredicate(predicate){if(predicate&&predicate.field){if(isArray(predicate.range)&&predicate.range.length===2){return true}else if(isSignalRef(predicate.range)){return true}}return false}function isFieldOneOfPredicate(predicate){return predicate&&!!predicate.field&&(isArray(predicate.oneOf)||isArray(predicate.in))}function isFieldValidPredicate(predicate){return predicate&&!!predicate.field&&predicate.valid!==undefined}function isFieldPredicate(predicate){return isFieldOneOfPredicate(predicate)||isFieldEqualPredicate(predicate)||isFieldRangePredicate(predicate)||isFieldLTPredicate(predicate)||isFieldGTPredicate(predicate)||isFieldLTEPredicate(predicate)||isFieldGTEPredicate(predicate)}function predicateValueExpr(v,timeUnit){return valueExpr(v,{timeUnit:timeUnit,wrapTime:true})}function predicateValuesExpr(vals,timeUnit){return vals.map(v=>predicateValueExpr(v,timeUnit))}function fieldFilterExpression(predicate,useInRange=true){var _normalizeTimeUnit;const{field:field}=predicate;const timeUnit=(_normalizeTimeUnit=normalizeTimeUnit(predicate.timeUnit))===null||_normalizeTimeUnit===void 0?void 0:_normalizeTimeUnit.unit;const fieldExpr$1=timeUnit?"time("+fieldExpr(timeUnit,field)+")":vgField(predicate,{expr:"datum"});if(isFieldEqualPredicate(predicate)){return fieldExpr$1+"==="+predicateValueExpr(predicate.equal,timeUnit)}else if(isFieldLTPredicate(predicate)){const upper=predicate.lt;return"".concat(fieldExpr$1,"<").concat(predicateValueExpr(upper,timeUnit))}else if(isFieldGTPredicate(predicate)){const lower=predicate.gt;return"".concat(fieldExpr$1,">").concat(predicateValueExpr(lower,timeUnit))}else if(isFieldLTEPredicate(predicate)){const upper=predicate.lte;return"".concat(fieldExpr$1,"<=").concat(predicateValueExpr(upper,timeUnit))}else if(isFieldGTEPredicate(predicate)){const lower=predicate.gte;return"".concat(fieldExpr$1,">=").concat(predicateValueExpr(lower,timeUnit))}else if(isFieldOneOfPredicate(predicate)){return"indexof([".concat(predicateValuesExpr(predicate.oneOf,timeUnit).join(","),"], ").concat(fieldExpr$1,") !== -1")}else if(isFieldValidPredicate(predicate)){return fieldValidPredicate(fieldExpr$1,predicate.valid)}else if(isFieldRangePredicate(predicate)){const{range:range}=predicate;const lower=isSignalRef(range)?{signal:"".concat(range.signal,"[0]")}:range[0];const upper=isSignalRef(range)?{signal:"".concat(range.signal,"[1]")}:range[1];if(lower!==null&&upper!==null&&useInRange){return"inrange("+fieldExpr$1+", ["+predicateValueExpr(lower,timeUnit)+", "+predicateValueExpr(upper,timeUnit)+"])"}const exprs=[];if(lower!==null){exprs.push("".concat(fieldExpr$1," >= ").concat(predicateValueExpr(lower,timeUnit)))}if(upper!==null){exprs.push("".concat(fieldExpr$1," <= ").concat(predicateValueExpr(upper,timeUnit)))}return exprs.length>0?exprs.join(" && "):"true"}throw new Error("Invalid field predicate: ".concat(JSON.stringify(predicate)))}function fieldValidPredicate(fieldExpr,valid=true){if(valid){return"isValid(".concat(fieldExpr,") && isFinite(+").concat(fieldExpr,")")}else{return"!isValid(".concat(fieldExpr,") || !isFinite(+").concat(fieldExpr,")")}}function normalizePredicate(f){if(isFieldPredicate(f)&&f.timeUnit){var _normalizeTimeUnit2;return{...f,timeUnit:(_normalizeTimeUnit2=normalizeTimeUnit(f.timeUnit))===null||_normalizeTimeUnit2===void 0?void 0:_normalizeTimeUnit2.unit}}return f}const Type={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};const QUANTITATIVE=Type.quantitative;const ORDINAL=Type.ordinal;const TEMPORAL=Type.temporal;const NOMINAL=Type.nominal;const GEOJSON=Type.geojson;function getFullName(type){if(type){type=type.toLowerCase();switch(type){case"q":case QUANTITATIVE:return"quantitative";case"t":case TEMPORAL:return"temporal";case"o":case ORDINAL:return"ordinal";case"n":case NOMINAL:return"nominal";case GEOJSON:return"geojson"}}return undefined}const ScaleType={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"};const SCALE_CATEGORY_INDEX={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function scaleCompatible(scaleType1,scaleType2){const scaleCategory1=SCALE_CATEGORY_INDEX[scaleType1];const scaleCategory2=SCALE_CATEGORY_INDEX[scaleType2];return scaleCategory1===scaleCategory2||scaleCategory1==="ordinal-position"&&scaleCategory2==="time"||scaleCategory2==="ordinal-position"&&scaleCategory1==="time"}const SCALE_PRECEDENCE_INDEX={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function scaleTypePrecedence(scaleType){return SCALE_PRECEDENCE_INDEX[scaleType]}const CONTINUOUS_TO_CONTINUOUS_SCALES=["linear","log","pow","sqrt","symlog","time","utc"];const CONTINUOUS_TO_CONTINUOUS_INDEX=toSet(CONTINUOUS_TO_CONTINUOUS_SCALES);const QUANTITATIVE_SCALES=["linear","log","pow","sqrt","symlog"];const QUANTITATIVE_SCALES_INDEX=toSet(QUANTITATIVE_SCALES);function isQuantitative(type){return type in QUANTITATIVE_SCALES_INDEX}const CONTINUOUS_TO_DISCRETE_SCALES=["quantile","quantize","threshold"];const CONTINUOUS_TO_DISCRETE_INDEX=toSet(CONTINUOUS_TO_DISCRETE_SCALES);const CONTINUOUS_DOMAIN_SCALES=CONTINUOUS_TO_CONTINUOUS_SCALES.concat(["quantile","quantize","threshold","sequential","identity"]);const CONTINUOUS_DOMAIN_INDEX=toSet(CONTINUOUS_DOMAIN_SCALES);const DISCRETE_DOMAIN_SCALES=["ordinal","bin-ordinal","point","band"];const DISCRETE_DOMAIN_INDEX=toSet(DISCRETE_DOMAIN_SCALES);function hasDiscreteDomain(type){return type in DISCRETE_DOMAIN_INDEX}function hasContinuousDomain(type){return type in CONTINUOUS_DOMAIN_INDEX}function isContinuousToContinuous(type){return type in CONTINUOUS_TO_CONTINUOUS_INDEX}function isContinuousToDiscrete(type){return type in CONTINUOUS_TO_DISCRETE_INDEX}const defaultScaleConfig={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4};function isExtendedScheme(scheme){return!isString(scheme)&&!!scheme["name"]}function isSelectionDomain(domain){return domain===null||domain===void 0?void 0:domain["selection"]}function isDomainUnionWith(domain){return domain&&domain["unionWith"]}const SCALE_PROPERTY_INDEX={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1};const{type:type,domain:domain,range:range,rangeMax:rangeMax,rangeMin:rangeMin,scheme:scheme,...NON_TYPE_DOMAIN_RANGE_VEGA_SCALE_PROPERTY_INDEX}=SCALE_PROPERTY_INDEX;const NON_TYPE_DOMAIN_RANGE_VEGA_SCALE_PROPERTIES=keys(NON_TYPE_DOMAIN_RANGE_VEGA_SCALE_PROPERTY_INDEX);function scaleTypeSupportProperty(scaleType,propName){switch(propName){case"type":case"domain":case"reverse":case"range":return true;case"scheme":case"interpolate":return!contains(["point","band","identity"],scaleType);case"bins":return!contains(["point","band","identity","ordinal"],scaleType);case"round":return isContinuousToContinuous(scaleType)||scaleType==="band"||scaleType==="point";case"padding":case"rangeMin":case"rangeMax":return isContinuousToContinuous(scaleType)||contains(["point","band"],scaleType);case"paddingOuter":case"align":return contains(["point","band"],scaleType);case"paddingInner":return scaleType==="band";case"domainMax":case"domainMid":case"domainMin":case"clamp":return isContinuousToContinuous(scaleType);case"nice":return isContinuousToContinuous(scaleType)||scaleType==="quantize"||scaleType==="threshold";case"exponent":return scaleType==="pow";case"base":return scaleType==="log";case"constant":return scaleType==="symlog";case"zero":return hasContinuousDomain(scaleType)&&!contains(["log","time","utc","threshold","quantile"],scaleType)}}function channelScalePropertyIncompatability(channel,propName){switch(propName){case"interpolate":case"scheme":case"domainMid":if(!isColorChannel(channel)){return cannotUseScalePropertyWithNonColor(channel)}return undefined;case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return undefined}}function scaleTypeSupportDataType(specifiedType,fieldDefType){if(contains([ORDINAL,NOMINAL],fieldDefType)){return specifiedType===undefined||hasDiscreteDomain(specifiedType)}else if(fieldDefType===TEMPORAL){return contains([ScaleType.TIME,ScaleType.UTC,undefined],specifiedType)}else if(fieldDefType===QUANTITATIVE){return contains([ScaleType.LOG,ScaleType.POW,ScaleType.SQRT,ScaleType.SYMLOG,ScaleType.QUANTILE,ScaleType.QUANTIZE,ScaleType.THRESHOLD,ScaleType.LINEAR,undefined],specifiedType)}return true}function channelSupportScaleType(channel,scaleType){if(!isScaleChannel(channel)){return false}switch(channel){case X:case Y:case THETA:case RADIUS:return isContinuousToContinuous(scaleType)||contains(["band","point"],scaleType);case SIZE:case STROKEWIDTH:case OPACITY:case FILLOPACITY:case STROKEOPACITY:case ANGLE:return isContinuousToContinuous(scaleType)||isContinuousToDiscrete(scaleType)||contains(["band","point","ordinal"],scaleType);case COLOR:case FILL:case STROKE:return scaleType!=="band";case STROKEDASH:return scaleType==="ordinal"||isContinuousToDiscrete(scaleType);case SHAPE:return scaleType==="ordinal"}}function isExprRef(o){return o&&!!o["expr"]}function replaceExprRefInIndex(index){const props=keys(index||{});const newIndex={};for(const prop of props){newIndex[prop]=signalRefOrValue(index[prop])}return newIndex}const Mark={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"};const ARC=Mark.arc;const AREA=Mark.area;const BAR=Mark.bar;const IMAGE=Mark.image;const LINE=Mark.line;const POINT=Mark.point;const RECT=Mark.rect;const RULE=Mark.rule;const TEXT$1=Mark.text;const TICK=Mark.tick;const TRAIL=Mark.trail;const CIRCLE=Mark.circle;const SQUARE=Mark.square;const GEOSHAPE=Mark.geoshape;function isPathMark(m){return contains(["line","area","trail"],m)}function isRectBasedMark(m){return contains(["rect","bar","image","arc"],m)}const PRIMITIVE_MARKS=keys(Mark);function isMarkDef(mark){return mark["type"]}const PRIMITIVE_MARK_INDEX=toSet(PRIMITIVE_MARKS);const STROKE_CONFIG=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"];const FILL_CONFIG=["fill","fillOpacity"];const FILL_STROKE_CONFIG=[...STROKE_CONFIG,...FILL_CONFIG];const VL_ONLY_MARK_CONFIG_INDEX={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBand:1,timeUnitBandPosition:1};const VL_ONLY_MARK_CONFIG_PROPERTIES=keys(VL_ONLY_MARK_CONFIG_INDEX);const VL_ONLY_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX={area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]};const defaultMarkConfig={color:"#4c78a8",invalid:"filter",timeUnitBand:1};const MARK_CONFIG_INDEX={mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1};const MARK_CONFIGS=keys(MARK_CONFIG_INDEX);const BAR_CORNER_RADIUS_INDEX={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]};const DEFAULT_RECT_BAND_SIZE=5;const defaultBarConfig={binSpacing:1,continuousBandSize:DEFAULT_RECT_BAND_SIZE,timeUnitBandPosition:.5};const defaultRectConfig={binSpacing:0,continuousBandSize:DEFAULT_RECT_BAND_SIZE,timeUnitBandPosition:.5};const defaultTickConfig={thickness:1};function getMarkType(m){return isMarkDef(m)?m.type:m}function midPointRefWithPositionInvalidTest(params){const{channel:channel,channelDef:channelDef,markDef:markDef,scale:scale,config:config}=params;const ref=midPoint(params);if(isFieldDef(channelDef)&&!isCountingAggregateOp(channelDef.aggregate)&&scale&&isContinuousToContinuous(scale.get("type"))&&scale.get("zero")===false){return wrapPositionInvalidTest({fieldDef:channelDef,channel:channel,markDef:markDef,ref:ref,config:config})}return ref}function wrapPositionInvalidTest({fieldDef:fieldDef,channel:channel,markDef:markDef,ref:ref,config:config}){if(isPathMark(markDef.type)){return ref}const invalid=getMarkPropOrConfig("invalid",markDef,config);if(invalid===null){return ref}return[fieldInvalidTestValueRef(fieldDef,channel),ref]}function fieldInvalidTestValueRef(fieldDef,channel){const test=fieldInvalidPredicate(fieldDef,true);const mainChannel=getMainRangeChannel(channel);const zeroValueRef=mainChannel==="y"?{field:{group:"height"}}:{value:0};return{test:test,...zeroValueRef}}function fieldInvalidPredicate(field,invalid=true){return fieldValidPredicate(isString(field)?field:vgField(field,{expr:"datum"}),!invalid)}function datumDefToExpr(datumDef){const{datum:datum}=datumDef;if(isDateTime(datum)){return dateTimeToExpr(datum)}return"".concat(JSON.stringify(datum))}function valueRefForFieldOrDatumDef(fieldDef,scaleName,opt,encode){const ref={};if(scaleName){ref.scale=scaleName}if(isDatumDef(fieldDef)){const{datum:datum}=fieldDef;if(isDateTime(datum)){ref.signal=dateTimeToExpr(datum)}else if(isSignalRef(datum)){ref.signal=datum.signal}else if(isExprRef(datum)){ref.signal=datum.expr}else{ref.value=datum}}else{ref.field=vgField(fieldDef,opt)}if(encode){const{offset:offset,band:band}=encode;if(offset){ref.offset=offset}if(band){ref.band=band}}return ref}function interpolatedSignalRef({scaleName:scaleName,fieldOrDatumDef:fieldOrDatumDef,fieldOrDatumDef2:fieldOrDatumDef2,offset:offset,startSuffix:startSuffix,band:band=.5}){const expr=0<band&&band<1?"datum":undefined;const start=vgField(fieldOrDatumDef,{expr:expr,suffix:startSuffix});const end=fieldOrDatumDef2!==undefined?vgField(fieldOrDatumDef2,{expr:expr}):vgField(fieldOrDatumDef,{suffix:"end",expr:expr});const ref={};if(band===0||band===1){ref.scale=scaleName;const val=band===0?start:end;ref.field=val}else{const datum="".concat(band," * ").concat(start," + ").concat(1-band," * ").concat(end);ref.signal='scale("'.concat(scaleName,'", ').concat(datum,")")}if(offset){ref.offset=offset}return ref}function midPoint({channel:channel,channelDef:channelDef,channel2Def:channel2Def,markDef:markDef,config:config,scaleName:scaleName,scale:scale,stack:stack,offset:offset,defaultRef:defaultRef,band:band}){if(channelDef){if(isFieldOrDatumDef(channelDef)){var _ref,_band2;if(isTypedFieldDef(channelDef)){var _band;band=(_band=band)!==null&&_band!==void 0?_band:getBand({channel:channel,fieldDef:channelDef,fieldDef2:channel2Def,markDef:markDef,stack:stack,config:config,isMidPoint:true});const{bin:bin,timeUnit:timeUnit,type:type}=channelDef;if(isBinning(bin)||band&&timeUnit&&type===TEMPORAL){if(stack&&stack.impute){return valueRefForFieldOrDatumDef(channelDef,scaleName,{binSuffix:"mid"},{offset:offset})}if(band){return interpolatedSignalRef({scaleName:scaleName,fieldOrDatumDef:channelDef,band:band,offset:offset})}return valueRefForFieldOrDatumDef(channelDef,scaleName,binRequiresRange(channelDef,channel)?{binSuffix:"range"}:{},{offset:offset})}else if(isBinned(bin)){if(isFieldDef(channel2Def)){return interpolatedSignalRef({scaleName:scaleName,fieldOrDatumDef:channelDef,fieldOrDatumDef2:channel2Def,band:band,offset:offset})}else{const channel2=channel===X?X2:Y2;warn(channelRequiredForBinned(channel2))}}}const scaleType=scale===null||scale===void 0?void 0:scale.get("type");return valueRefForFieldOrDatumDef(channelDef,scaleName,hasDiscreteDomain(scaleType)?{binSuffix:"range"}:{},{offset:offset,band:scaleType==="band"?(_ref=(_band2=band)!==null&&_band2!==void 0?_band2:channelDef.band)!==null&&_ref!==void 0?_ref:.5:undefined})}else if(isValueDef(channelDef)){const value=channelDef.value;const offsetMixins=offset?{offset:offset}:{};return{...widthHeightValueOrSignalRef(channel,value),...offsetMixins}}}if(isFunction(defaultRef)){defaultRef=defaultRef()}if(defaultRef){return{...defaultRef,...offset?{offset:offset}:{}}}return defaultRef}function widthHeightValueOrSignalRef(channel,value){if(contains(["x","x2"],channel)&&value==="width"){return{field:{group:"width"}}}else if(contains(["y","y2"],channel)&&value==="height"){return{field:{group:"height"}}}return signalOrValueRef(value)}function isCustomFormatType(formatType){return formatType&&formatType!=="number"&&formatType!=="time"}function customFormatExpr(formatType,field,format){return"".concat(formatType,"(").concat(field).concat(format?", ".concat(JSON.stringify(format)):"",")")}const BIN_RANGE_DELIMITER="  ";function formatSignalRef({fieldOrDatumDef:fieldOrDatumDef,format:format,formatType:formatType,expr:expr,normalizeStack:normalizeStack,config:config}){if(isCustomFormatType(formatType)){return formatCustomType({fieldOrDatumDef:fieldOrDatumDef,format:format,formatType:formatType,expr:expr,config:config})}const field=fieldToFormat(fieldOrDatumDef,expr,normalizeStack);if(isFieldOrDatumDefForTimeFormat(fieldOrDatumDef)){var _normalizeTimeUnit,_fieldOrDatumDef$scal;const signal=timeFormatExpression(field,isFieldDef(fieldOrDatumDef)?(_normalizeTimeUnit=normalizeTimeUnit(fieldOrDatumDef.timeUnit))===null||_normalizeTimeUnit===void 0?void 0:_normalizeTimeUnit.unit:undefined,format,config.timeFormat,isScaleFieldDef(fieldOrDatumDef)&&((_fieldOrDatumDef$scal=fieldOrDatumDef.scale)===null||_fieldOrDatumDef$scal===void 0?void 0:_fieldOrDatumDef$scal.type)===ScaleType.UTC);return signal?{signal:signal}:undefined}format=numberFormat(channelDefType(fieldOrDatumDef),format,config);if(isFieldDef(fieldOrDatumDef)&&isBinning(fieldOrDatumDef.bin)){const endField=vgField(fieldOrDatumDef,{expr:expr,binSuffix:"end"});return{signal:binFormatExpression(field,endField,format,formatType,config)}}else if(format||channelDefType(fieldOrDatumDef)==="quantitative"){return{signal:"".concat(formatExpr(field,format))}}else{return{signal:"isValid(".concat(field,") ? ").concat(field,' : ""+').concat(field)}}}function fieldToFormat(fieldOrDatumDef,expr,normalizeStack){if(isFieldDef(fieldOrDatumDef)){if(normalizeStack){return"".concat(vgField(fieldOrDatumDef,{expr:expr,suffix:"end"}),"-").concat(vgField(fieldOrDatumDef,{expr:expr,suffix:"start"}))}else{return vgField(fieldOrDatumDef,{expr:expr})}}else{return datumDefToExpr(fieldOrDatumDef)}}function formatCustomType({fieldOrDatumDef:fieldOrDatumDef,format:format,formatType:formatType,expr:expr,normalizeStack:normalizeStack,config:config,field:field}){var _field;field=(_field=field)!==null&&_field!==void 0?_field:fieldToFormat(fieldOrDatumDef,expr,normalizeStack);if(isFieldDef(fieldOrDatumDef)&&isBinning(fieldOrDatumDef.bin)){const endField=vgField(fieldOrDatumDef,{expr:expr,binSuffix:"end"});return{signal:binFormatExpression(field,endField,format,formatType,config)}}return{signal:customFormatExpr(formatType,field,format)}}function guideFormat(fieldOrDatumDef,type,format,formatType,config,omitTimeFormatConfig){if(isCustomFormatType(formatType)){return undefined}if(isFieldOrDatumDefForTimeFormat(fieldOrDatumDef)){var _normalizeTimeUnit2;const timeUnit=isFieldDef(fieldOrDatumDef)?(_normalizeTimeUnit2=normalizeTimeUnit(fieldOrDatumDef.timeUnit))===null||_normalizeTimeUnit2===void 0?void 0:_normalizeTimeUnit2.unit:undefined;return timeFormat(format,timeUnit,config,omitTimeFormatConfig)}return numberFormat(type,format,config)}function guideFormatType(formatType,fieldOrDatumDef,scaleType){if(formatType&&(isSignalRef(formatType)||formatType==="number"||formatType==="time")){return formatType}if(isFieldOrDatumDefForTimeFormat(fieldOrDatumDef)&&scaleType!=="time"&&scaleType!=="utc"){return"time"}return undefined}function numberFormat(type,specifiedFormat,config){if(isString(specifiedFormat)){return specifiedFormat}if(type===QUANTITATIVE){return config.numberFormat}return undefined}function timeFormat(specifiedFormat,timeUnit,config,omitTimeFormatConfig){if(specifiedFormat){return specifiedFormat}if(timeUnit){return{signal:timeUnitSpecifierExpression(timeUnit)}}return omitTimeFormatConfig?undefined:config.timeFormat}function formatExpr(field,format){return"format(".concat(field,', "').concat(format||"",'")')}function binNumberFormatExpr(field,format,formatType,config){var _ref;if(isCustomFormatType(formatType)){return customFormatExpr(formatType,field,format)}return formatExpr(field,(_ref=isString(format)?format:undefined)!==null&&_ref!==void 0?_ref:config.numberFormat)}function binFormatExpression(startField,endField,format,formatType,config){const start=binNumberFormatExpr(startField,format,formatType,config);const end=binNumberFormatExpr(endField,format,formatType,config);return"".concat(fieldValidPredicate(startField,false),' ? "null" : ').concat(start,' + "').concat(BIN_RANGE_DELIMITER,'" + ').concat(end)}function timeFormatExpression(field,timeUnit,format,rawTimeFormat,isUTCScale){if(!timeUnit||format){format=isString(format)?format:rawTimeFormat;return"".concat(isUTCScale?"utc":"time","Format(").concat(field,", '").concat(format,"')")}else{return formatExpression(timeUnit,field,isUTCScale)}}const DEFAULT_SORT_OP="min";const SORT_BY_CHANNEL_INDEX={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function isSortByChannel(c){return c in SORT_BY_CHANNEL_INDEX}function isSortByEncoding(sort){return!!sort&&!!sort["encoding"]}function isSortField(sort){return!!sort&&(sort["op"]==="count"||!!sort["field"])}function isSortArray(sort){return!!sort&&isArray(sort)}function isFacetMapping(f){return"row"in f||"column"in f}function isFacetFieldDef(channelDef){return!!channelDef&&"header"in channelDef}function isFacetSpec(spec){return"facet"in spec}function isConditionalSelection(c){return c["selection"]}function isRepeatRef(field){return field&&!isString(field)&&"repeat"in field}function toFieldDefBase(fieldDef){const{field:field,timeUnit:timeUnit,bin:bin,aggregate:aggregate}=fieldDef;return{...timeUnit?{timeUnit:timeUnit}:{},...bin?{bin:bin}:{},...aggregate?{aggregate:aggregate}:{},field:field}}function isSortableFieldDef(fieldDef){return"sort"in fieldDef}function getBand({channel:channel,fieldDef:fieldDef,fieldDef2:fieldDef2,markDef:mark,stack:stack,config:config,isMidPoint:isMidPoint}){if(isFieldOrDatumDef(fieldDef)&&fieldDef.band!==undefined){return fieldDef.band}if(isFieldDef(fieldDef)){const{timeUnit:timeUnit,bin:bin}=fieldDef;if(timeUnit&&!fieldDef2){if(isMidPoint){return getMarkConfig("timeUnitBandPosition",mark,config)}else{return isRectBasedMark(mark.type)?getMarkConfig("timeUnitBand",mark,config):0}}else if(isBinning(bin)){return isRectBasedMark(mark.type)&&!isMidPoint?1:.5}}if((stack===null||stack===void 0?void 0:stack.fieldChannel)===channel&&isMidPoint){return.5}return undefined}function hasBand(channel,fieldDef,fieldDef2,stack,markDef,config){if(isBinning(fieldDef.bin)||fieldDef.timeUnit&&isTypedFieldDef(fieldDef)&&fieldDef.type==="temporal"){return!!getBand({channel:channel,fieldDef:fieldDef,fieldDef2:fieldDef2,stack:stack,markDef:markDef,config:config})}return false}function isConditionalDef(channelDef){return!!channelDef&&"condition"in channelDef}function hasConditionalFieldDef(channelDef){const condition=channelDef&&channelDef["condition"];return!!condition&&!isArray(condition)&&isFieldDef(condition)}function hasConditionalFieldOrDatumDef(channelDef){const condition=channelDef&&channelDef["condition"];return!!condition&&!isArray(condition)&&isFieldOrDatumDef(condition)}function hasConditionalValueDef(channelDef){const condition=channelDef&&channelDef["condition"];return!!condition&&(isArray(condition)||isValueDef(condition))}function isFieldDef(channelDef){return!!channelDef&&(!!channelDef["field"]||channelDef["aggregate"]==="count")}function channelDefType(channelDef){return channelDef&&channelDef["type"]}function isDatumDef(channelDef){return!!channelDef&&"datum"in channelDef}function isContinuousFieldOrDatumDef(cd){return isTypedFieldDef(cd)&&isContinuous(cd)||isNumericDataDef(cd)}function isNumericDataDef(cd){return isDatumDef(cd)&&isNumber(cd.datum)}function isFieldOrDatumDef(channelDef){return isFieldDef(channelDef)||isDatumDef(channelDef)}function isTypedFieldDef(channelDef){return!!channelDef&&("field"in channelDef||channelDef["aggregate"]==="count")&&"type"in channelDef}function isValueDef(channelDef){return channelDef&&"value"in channelDef&&"value"in channelDef}function isScaleFieldDef(channelDef){return!!channelDef&&("scale"in channelDef||"sort"in channelDef)}function isPositionFieldOrDatumDef(channelDef){return channelDef&&("axis"in channelDef||"stack"in channelDef||"impute"in channelDef)}function isMarkPropFieldOrDatumDef(channelDef){return!!channelDef&&"legend"in channelDef}function isStringFieldOrDatumDef(channelDef){return!!channelDef&&("format"in channelDef||"formatType"in channelDef)}function toStringFieldDef(fieldDef){return omit(fieldDef,["legend","axis","header","scale"])}function isOpFieldDef(fieldDef){return"op"in fieldDef}function vgField(fieldDef,opt={}){let field=fieldDef.field;const prefix=opt.prefix;let suffix=opt.suffix;let argAccessor="";if(isCount(fieldDef)){field=internalField("count")}else{let fn;if(!opt.nofn){if(isOpFieldDef(fieldDef)){fn=fieldDef.op}else{const{bin:bin,aggregate:aggregate,timeUnit:timeUnit}=fieldDef;if(isBinning(bin)){var _opt$binSuffix,_opt$suffix;fn=binToString(bin);suffix=((_opt$binSuffix=opt.binSuffix)!==null&&_opt$binSuffix!==void 0?_opt$binSuffix:"")+((_opt$suffix=opt.suffix)!==null&&_opt$suffix!==void 0?_opt$suffix:"")}else if(aggregate){if(isArgmaxDef(aggregate)){argAccessor='["'.concat(field,'"]');field="argmax_".concat(aggregate.argmax)}else if(isArgminDef(aggregate)){argAccessor='["'.concat(field,'"]');field="argmin_".concat(aggregate.argmin)}else{fn=String(aggregate)}}else if(timeUnit){var _opt$suffix2;fn=timeUnitToString(timeUnit);suffix=(!contains(["range","mid"],opt.binSuffix)&&opt.binSuffix||"")+((_opt$suffix2=opt.suffix)!==null&&_opt$suffix2!==void 0?_opt$suffix2:"")}}}if(fn){field=field?"".concat(fn,"_").concat(field):fn}}if(suffix){field="".concat(field,"_").concat(suffix)}if(prefix){field="".concat(prefix,"_").concat(field)}if(opt.forAs){return removePathFromField(field)}else if(opt.expr){return flatAccessWithDatum(field,opt.expr)+argAccessor}else{return replacePathInField(field)+argAccessor}}function isDiscrete(def){switch(def.type){case"nominal":case"ordinal":case"geojson":return true;case"quantitative":return isFieldDef(def)&&!!def.bin;case"temporal":return false}throw new Error(invalidFieldType(def.type))}function isContinuous(fieldDef){return!isDiscrete(fieldDef)}function isCount(fieldDef){return fieldDef.aggregate==="count"}function verbalTitleFormatter(fieldDef,config){const{field:field,bin:bin,timeUnit:timeUnit,aggregate:aggregate}=fieldDef;if(aggregate==="count"){return config.countTitle}else if(isBinning(bin)){return"".concat(field," (binned)")}else if(timeUnit){var _normalizeTimeUnit;const unit=(_normalizeTimeUnit=normalizeTimeUnit(timeUnit))===null||_normalizeTimeUnit===void 0?void 0:_normalizeTimeUnit.unit;if(unit){return"".concat(field," (").concat(getTimeUnitParts(unit).join("-"),")")}}else if(aggregate){if(isArgmaxDef(aggregate)){return"".concat(field," for max ").concat(aggregate.argmax)}else if(isArgminDef(aggregate)){return"".concat(field," for min ").concat(aggregate.argmin)}else{return"".concat(titleCase(aggregate)," of ").concat(field)}}return field}function functionalTitleFormatter(fieldDef){const{aggregate:aggregate,bin:bin,timeUnit:timeUnit,field:field}=fieldDef;if(isArgmaxDef(aggregate)){return"".concat(field," for argmax(").concat(aggregate.argmax,")")}else if(isArgminDef(aggregate)){return"".concat(field," for argmin(").concat(aggregate.argmin,")")}const timeUnitParams=normalizeTimeUnit(timeUnit);const fn=aggregate||(timeUnitParams===null||timeUnitParams===void 0?void 0:timeUnitParams.unit)||(timeUnitParams===null||timeUnitParams===void 0?void 0:timeUnitParams.maxbins)&&"timeunit"||isBinning(bin)&&"bin";if(fn){return fn.toUpperCase()+"("+field+")"}else{return field}}const defaultTitleFormatter=(fieldDef,config)=>{switch(config.fieldTitle){case"plain":return fieldDef.field;case"functional":return functionalTitleFormatter(fieldDef);default:return verbalTitleFormatter(fieldDef,config)}};let titleFormatter=defaultTitleFormatter;function setTitleFormatter(formatter){titleFormatter=formatter}function resetTitleFormatter(){setTitleFormatter(defaultTitleFormatter)}function title(fieldOrDatumDef,config,{allowDisabling:allowDisabling,includeDefault:includeDefault=true}){var _getGuide;const guideTitle=(_getGuide=getGuide(fieldOrDatumDef))===null||_getGuide===void 0?void 0:_getGuide.title;if(!isFieldDef(fieldOrDatumDef)){return guideTitle}const fieldDef=fieldOrDatumDef;const def=includeDefault?defaultTitle(fieldDef,config):undefined;if(allowDisabling){return getFirstDefined(guideTitle,fieldDef.title,def)}else{var _ref;return(_ref=guideTitle!==null&&guideTitle!==void 0?guideTitle:fieldDef.title)!==null&&_ref!==void 0?_ref:def}}function getGuide(fieldDef){if(isPositionFieldOrDatumDef(fieldDef)&&fieldDef.axis){return fieldDef.axis}else if(isMarkPropFieldOrDatumDef(fieldDef)&&fieldDef.legend){return fieldDef.legend}else if(isFacetFieldDef(fieldDef)&&fieldDef.header){return fieldDef.header}return undefined}function defaultTitle(fieldDef,config){return titleFormatter(fieldDef,config)}function getFormatMixins(fieldDef){if(isStringFieldOrDatumDef(fieldDef)){const{format:format,formatType:formatType}=fieldDef;return{format:format,formatType:formatType}}else{var _getGuide2;const guide=(_getGuide2=getGuide(fieldDef))!==null&&_getGuide2!==void 0?_getGuide2:{};const{format:format,formatType:formatType}=guide;return{format:format,formatType:formatType}}}function defaultType(fieldDef,channel){var _fieldDef$scale;switch(channel){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(isSortableFieldDef(fieldDef)&&isArray(fieldDef.sort)){return"ordinal"}const{aggregate:aggregate,bin:bin,timeUnit:timeUnit}=fieldDef;if(timeUnit){return"temporal"}if(bin||aggregate&&!isArgmaxDef(aggregate)&&!isArgminDef(aggregate)){return"quantitative"}if(isScaleFieldDef(fieldDef)&&((_fieldDef$scale=fieldDef.scale)===null||_fieldDef$scale===void 0?void 0:_fieldDef$scale.type)){switch(SCALE_CATEGORY_INDEX[fieldDef.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}}return"nominal"}function getFieldDef(channelDef){if(isFieldDef(channelDef)){return channelDef}else if(hasConditionalFieldDef(channelDef)){return channelDef.condition}return undefined}function getFieldOrDatumDef(channelDef){if(isFieldOrDatumDef(channelDef)){return channelDef}else if(hasConditionalFieldOrDatumDef(channelDef)){return channelDef.condition}return undefined}function initChannelDef(channelDef,channel,config,opt={}){if(isString(channelDef)||isNumber(channelDef)||isBoolean(channelDef)){const primitiveType=isString(channelDef)?"string":isNumber(channelDef)?"number":"boolean";warn(primitiveChannelDef(channel,primitiveType,channelDef));return{value:channelDef}}if(isFieldOrDatumDef(channelDef)){return initFieldOrDatumDef(channelDef,channel,config,opt)}else if(hasConditionalFieldOrDatumDef(channelDef)){return{...channelDef,condition:initFieldOrDatumDef(channelDef.condition,channel,config,opt)}}return channelDef}function initFieldOrDatumDef(fd,channel,config,opt){if(isStringFieldOrDatumDef(fd)){const{format:format,formatType:formatType,...rest}=fd;if(isCustomFormatType(formatType)&&!config.customFormatTypes){warn(customFormatTypeNotAllowed(channel));return initFieldOrDatumDef(rest,channel,config,opt)}}else{const guideType=isPositionFieldOrDatumDef(fd)?"axis":isMarkPropFieldOrDatumDef(fd)?"legend":isFacetFieldDef(fd)?"header":null;if(guideType&&fd[guideType]){const{format:format,formatType:formatType,...newGuide}=fd[guideType];if(isCustomFormatType(formatType)&&!config.customFormatTypes){warn(customFormatTypeNotAllowed(channel));return initFieldOrDatumDef({...fd,[guideType]:newGuide},channel,config,opt)}}}if(isFieldDef(fd)){return initFieldDef(fd,channel,opt)}return initDatumDef(fd)}function initDatumDef(datumDef){let type=datumDef["type"];if(type){return datumDef}const{datum:datum}=datumDef;type=isNumber(datum)?"quantitative":isString(datum)?"nominal":isDateTime(datum)?"temporal":undefined;return{...datumDef,type:type}}function initFieldDef(fd,channel,{compositeMark:compositeMark=false}={}){const{aggregate:aggregate,timeUnit:timeUnit,bin:bin,field:field}=fd;const fieldDef={...fd};if(!compositeMark&&aggregate&&!isAggregateOp(aggregate)&&!isArgmaxDef(aggregate)&&!isArgminDef(aggregate)){warn(invalidAggregate(aggregate));delete fieldDef.aggregate}if(timeUnit){fieldDef.timeUnit=normalizeTimeUnit(timeUnit)}if(field){fieldDef.field="".concat(field)}if(isBinning(bin)){fieldDef.bin=normalizeBin(bin,channel)}if(isBinned(bin)&&!isXorY(channel)){warn(channelShouldNotBeUsedForBinned(channel))}if(isTypedFieldDef(fieldDef)){const{type:type}=fieldDef;const fullType=getFullName(type);if(type!==fullType){fieldDef.type=fullType}if(type!=="quantitative"){if(isCountingAggregateOp(aggregate)){warn(invalidFieldTypeForCountAggregate(type,aggregate));fieldDef.type="quantitative"}}}else if(!isSecondaryRangeChannel(channel)){const newType=defaultType(fieldDef,channel);fieldDef["type"]=newType}if(isTypedFieldDef(fieldDef)){const{compatible:compatible,warning:warning}=channelCompatibility(fieldDef,channel)||{};if(compatible===false){warn(warning)}}if(isSortableFieldDef(fieldDef)&&isString(fieldDef.sort)){const{sort:sort}=fieldDef;if(isSortByChannel(sort)){return{...fieldDef,sort:{encoding:sort}}}const sub=sort.substr(1);if(sort.charAt(0)==="-"&&isSortByChannel(sub)){return{...fieldDef,sort:{encoding:sub,order:"descending"}}}}if(isFacetFieldDef(fieldDef)){const{header:header}=fieldDef;const{orient:orient,...rest}=header;if(orient){return{...fieldDef,header:{...rest,labelOrient:header.labelOrient||orient,titleOrient:header.titleOrient||orient}}}}return fieldDef}function normalizeBin(bin,channel){if(isBoolean(bin)){return{maxbins:autoMaxBins(channel)}}else if(bin==="binned"){return{binned:true}}else if(!bin.maxbins&&!bin.step){return{...bin,maxbins:autoMaxBins(channel)}}else{return bin}}const COMPATIBLE={compatible:true};function channelCompatibility(fieldDef,channel){const type=fieldDef.type;if(type==="geojson"&&channel!=="shape"){return{compatible:false,warning:"Channel ".concat(channel," should not be used with a geojson data.")}}switch(channel){case ROW:case COLUMN:case FACET:if(isContinuous(fieldDef)){return{compatible:false,warning:facetChannelShouldBeDiscrete(channel)}}return COMPATIBLE;case X:case Y:case COLOR:case FILL:case STROKE:case TEXT:case DETAIL:case KEY:case TOOLTIP:case HREF:case URL:case ANGLE:case THETA:case RADIUS:case DESCRIPTION:return COMPATIBLE;case LONGITUDE:case LONGITUDE2:case LATITUDE:case LATITUDE2:if(type!==QUANTITATIVE){return{compatible:false,warning:"Channel ".concat(channel," should be used with a quantitative field only, not ").concat(fieldDef.type," field.")}}return COMPATIBLE;case OPACITY:case FILLOPACITY:case STROKEOPACITY:case STROKEWIDTH:case SIZE:case THETA2:case RADIUS2:case X2:case Y2:if(type==="nominal"&&!fieldDef["sort"]){return{compatible:false,warning:"Channel ".concat(channel," should not be used with an unsorted discrete field.")}}return COMPATIBLE;case STROKEDASH:if(!contains(["ordinal","nominal"],fieldDef.type)){return{compatible:false,warning:"StrokeDash channel should be used with only discrete data."}}return COMPATIBLE;case SHAPE:if(!contains(["ordinal","nominal","geojson"],fieldDef.type)){return{compatible:false,warning:"Shape channel should be used with only either discrete or geojson data."}}return COMPATIBLE;case ORDER:if(fieldDef.type==="nominal"&&!("sort"in fieldDef)){return{compatible:false,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}return COMPATIBLE}}function isFieldOrDatumDefForTimeFormat(fieldOrDatumDef){const{formatType:formatType}=getFormatMixins(fieldOrDatumDef);return formatType==="time"||!formatType&&isTimeFieldDef(fieldOrDatumDef)}function isTimeFieldDef(def){return def&&(def["type"]==="temporal"||isFieldDef(def)&&!!def.timeUnit)}function valueExpr(v,{timeUnit:timeUnit,type:type,wrapTime:wrapTime,undefinedIfExprNotRequired:undefinedIfExprNotRequired}){var _normalizeTimeUnit2;const unit=timeUnit&&((_normalizeTimeUnit2=normalizeTimeUnit(timeUnit))===null||_normalizeTimeUnit2===void 0?void 0:_normalizeTimeUnit2.unit);let isTime=unit||type==="temporal";let expr;if(isExprRef(v)){expr=v.expr}else if(isSignalRef(v)){expr=v.signal}else if(isDateTime(v)){isTime=true;expr=dateTimeToExpr(v)}else if(isString(v)||isNumber(v)){if(isTime){expr="datetime(".concat(JSON.stringify(v),")");if(isLocalSingleTimeUnit(unit)){if(isNumber(v)&&v<1e4||isString(v)&&isNaN(Date.parse(v))){expr=dateTimeToExpr({[unit]:v})}}}}if(expr){return wrapTime&&isTime?"time(".concat(expr,")"):expr}return undefinedIfExprNotRequired?undefined:JSON.stringify(v)}function valueArray(fieldOrDatumDef,values){const{type:type}=fieldOrDatumDef;return values.map(v=>{const expr=valueExpr(v,{timeUnit:isFieldDef(fieldOrDatumDef)?fieldOrDatumDef.timeUnit:undefined,type:type,undefinedIfExprNotRequired:true});if(expr!==undefined){return{signal:expr}}return v})}function binRequiresRange(fieldDef,channel){if(!isBinning(fieldDef.bin)){console.warn("Only call this method for binned field defs.");return false}return isScaleChannel(channel)&&contains(["ordinal","nominal"],fieldDef.type)}function extractTitleConfig(titleConfig){const{anchor:anchor,frame:frame,offset:offset,orient:orient,color:color,subtitleColor:subtitleColor,subtitleFont:subtitleFont,subtitleFontSize:subtitleFontSize,subtitleFontStyle:subtitleFontStyle,subtitleFontWeight:subtitleFontWeight,subtitleLineHeight:subtitleLineHeight,subtitlePadding:subtitlePadding,...rest}=titleConfig;const titleMarkConfig={...rest,...color?{fill:color}:{}};const nonMark={...anchor?{anchor:anchor}:{},...frame?{frame:frame}:{},...offset?{offset:offset}:{},...orient?{orient:orient}:{}};const subtitle={...subtitleColor?{subtitleColor:subtitleColor}:{},...subtitleFont?{subtitleFont:subtitleFont}:{},...subtitleFontSize?{subtitleFontSize:subtitleFontSize}:{},...subtitleFontStyle?{subtitleFontStyle:subtitleFontStyle}:{},...subtitleFontWeight?{subtitleFontWeight:subtitleFontWeight}:{},...subtitleLineHeight?{subtitleLineHeight:subtitleLineHeight}:{},...subtitlePadding?{subtitlePadding:subtitlePadding}:{}};const subtitleMarkConfig=pick(titleMarkConfig,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:titleMarkConfig,subtitleMarkConfig:subtitleMarkConfig,nonMark:nonMark,subtitle:subtitle}}function isText(v){return isString(v)||isArray(v)&&isString(v[0])}function signalOrValueRefWithCondition(val){const condition=isArray(val.condition)?val.condition.map(conditionalSignalRefOrValue):conditionalSignalRefOrValue(val.condition);return{...signalRefOrValue(val),condition:condition}}function signalRefOrValue(value){if(isExprRef(value)){const{expr:expr,...rest}=value;return{signal:expr,...rest}}return value}function conditionalSignalRefOrValue(value){if(isExprRef(value)){const{expr:expr,...rest}=value;return{signal:expr,...rest}}return value}function signalOrValueRef(value){if(isExprRef(value)){const{expr:expr,...rest}=value;return{signal:expr,...rest}}if(isSignalRef(value)){return value}return value!==undefined?{value:value}:undefined}function exprFromValueOrSignalRef(ref){if(isSignalRef(ref)){return ref.signal}return $(ref.value)}function signalOrStringValue(v){if(isSignalRef(v)){return v.signal}return v==null?null:$(v)}function applyMarkConfig(e,model,propsList){for(const property of propsList){const value=getMarkConfig(property,model.markDef,model.config);if(value!==undefined){e[property]=signalOrValueRef(value)}}return e}function getStyles(mark){var _mark$style;return[].concat(mark.type,(_mark$style=mark.style)!==null&&_mark$style!==void 0?_mark$style:[])}function getMarkPropOrConfig(channel,mark,config,opt={}){const{vgChannel:vgChannel,ignoreVgConfig:ignoreVgConfig}=opt;if(vgChannel&&mark[vgChannel]!==undefined){return mark[vgChannel]}else if(mark[channel]!==undefined){return mark[channel]}else if(ignoreVgConfig&&(!vgChannel||vgChannel===channel)){return undefined}return getMarkConfig(channel,mark,config,opt)}function getMarkConfig(channel,mark,config,{vgChannel:vgChannel}={}){return getFirstDefined(vgChannel?getMarkStyleConfig(channel,mark,config.style):undefined,getMarkStyleConfig(channel,mark,config.style),vgChannel?config[mark.type][vgChannel]:undefined,config[mark.type][channel],vgChannel?config.mark[vgChannel]:config.mark[channel])}function getMarkStyleConfig(prop,mark,styleConfigIndex){return getStyleConfig(prop,getStyles(mark),styleConfigIndex)}function getStyleConfig(p,styles,styleConfigIndex){styles=array(styles);let value;for(const style of styles){const styleConfig=styleConfigIndex[style];if(styleConfig&&styleConfig[p]!==undefined){value=styleConfig[p]}}return value}function sortParams(orderDef,fieldRefOption){return array(orderDef).reduce((s,orderChannelDef)=>{var _orderChannelDef$sort;s.field.push(vgField(orderChannelDef,fieldRefOption));s.order.push((_orderChannelDef$sort=orderChannelDef.sort)!==null&&_orderChannelDef$sort!==void 0?_orderChannelDef$sort:"ascending");return s},{field:[],order:[]})}function mergeTitleFieldDefs(f1,f2){const merged=[...f1];f2.forEach(fdToMerge=>{for(const fieldDef1 of merged){if(deepEqual(fieldDef1,fdToMerge)){return}}merged.push(fdToMerge)});return merged}function mergeTitle(title1,title2){if(deepEqual(title1,title2)||!title2){return title1}else if(!title1){return title2}else{return[...array(title1),...array(title2)].join(", ")}}function mergeTitleComponent(v1,v2){const v1Val=v1.value;const v2Val=v2.value;if(v1Val==null||v2Val===null){return{explicit:v1.explicit,value:null}}else if((isText(v1Val)||isSignalRef(v1Val))&&(isText(v2Val)||isSignalRef(v2Val))){return{explicit:v1.explicit,value:mergeTitle(v1Val,v2Val)}}else if(isText(v1Val)||isSignalRef(v1Val)){return{explicit:v1.explicit,value:v1Val}}else if(isText(v2Val)||isSignalRef(v2Val)){return{explicit:v1.explicit,value:v2Val}}else if(!isText(v1Val)&&!isSignalRef(v1Val)&&!isText(v2Val)&&!isSignalRef(v2Val)){return{explicit:v1.explicit,value:mergeTitleFieldDefs(v1Val,v2Val)}}throw new Error("It should never reach here")}function isUnitSpec(spec){return"mark"in spec}class CompositeMarkNormalizer{constructor(name,run){this.name=name;this.run=run}hasMatchingType(spec){if(isUnitSpec(spec)){return getMarkType(spec.mark)===this.name}return false}}function channelHasField(encoding,channel){const channelDef=encoding&&encoding[channel];if(channelDef){if(isArray(channelDef)){return some(channelDef,fieldDef=>!!fieldDef.field)}else{return isFieldDef(channelDef)||hasConditionalFieldDef(channelDef)}}return false}function isAggregate(encoding){return some(CHANNELS,channel=>{if(channelHasField(encoding,channel)){const channelDef=encoding[channel];if(isArray(channelDef)){return some(channelDef,fieldDef=>!!fieldDef.aggregate)}else{const fieldDef=getFieldDef(channelDef);return fieldDef&&!!fieldDef.aggregate}}return false})}function extractTransformsFromEncoding(oldEncoding,config){const groupby=[];const bins=[];const timeUnits=[];const aggregate=[];const encoding={};forEach(oldEncoding,(channelDef,channel)=>{if(isFieldDef(channelDef)){const{field:field,aggregate:aggOp,bin:bin,timeUnit:timeUnit,...remaining}=channelDef;if(aggOp||timeUnit||bin){const guide=getGuide(channelDef);const isTitleDefined=guide&&guide.title;let newField=vgField(channelDef,{forAs:true});const newFieldDef={...isTitleDefined?[]:{title:title(channelDef,config,{allowDisabling:true})},...remaining,field:newField};if(aggOp){let op;if(isArgmaxDef(aggOp)){op="argmax";newField=vgField({op:"argmax",field:aggOp.argmax},{forAs:true});newFieldDef.field="".concat(newField,".").concat(field)}else if(isArgminDef(aggOp)){op="argmin";newField=vgField({op:"argmin",field:aggOp.argmin},{forAs:true});newFieldDef.field="".concat(newField,".").concat(field)}else if(aggOp!=="boxplot"&&aggOp!=="errorbar"&&aggOp!=="errorband"){op=aggOp}if(op){const aggregateEntry={op:op,as:newField};if(field){aggregateEntry.field=field}aggregate.push(aggregateEntry)}}else{groupby.push(newField);if(isTypedFieldDef(channelDef)&&isBinning(bin)){bins.push({bin:bin,field:field,as:newField});groupby.push(vgField(channelDef,{binSuffix:"end"}));if(binRequiresRange(channelDef,channel)){groupby.push(vgField(channelDef,{binSuffix:"range"}))}if(isXorY(channel)){const secondaryChannel={field:newField+"_end"};encoding[channel+"2"]=secondaryChannel}newFieldDef.bin="binned";if(!isSecondaryRangeChannel(channel)){newFieldDef["type"]=QUANTITATIVE}}else if(timeUnit){timeUnits.push({timeUnit:timeUnit,field:field,as:newField});const formatType=isTypedFieldDef(channelDef)&&channelDef.type!==TEMPORAL&&"time";if(formatType){if(channel===TEXT||channel===TOOLTIP){newFieldDef["formatType"]=formatType}else if(isNonPositionScaleChannel(channel)){newFieldDef["legend"]={formatType:formatType,...newFieldDef["legend"]}}else if(isXorY(channel)){newFieldDef["axis"]={formatType:formatType,...newFieldDef["axis"]}}}}}encoding[channel]=newFieldDef}else{groupby.push(field);encoding[channel]=oldEncoding[channel]}}else{encoding[channel]=oldEncoding[channel]}});return{bins:bins,timeUnits:timeUnits,aggregate:aggregate,groupby:groupby,encoding:encoding}}function markChannelCompatible(encoding,channel,mark){const markSupported=supportMark(channel,mark);if(!markSupported){return false}else if(markSupported==="binned"){const primaryFieldDef=encoding[channel===X2?X:Y];if(isFieldDef(primaryFieldDef)&&isFieldDef(encoding[channel])&&isBinned(primaryFieldDef.bin)){return true}else{return false}}return true}function initEncoding(encoding,mark,filled,config){return keys(encoding).reduce((normalizedEncoding,channel)=>{if(!isChannel(channel)){warn(invalidEncodingChannel(channel));return normalizedEncoding}const channelDef=encoding[channel];if(channel==="angle"&&mark==="arc"&&!encoding.theta){warn(REPLACE_ANGLE_WITH_THETA);channel=THETA}if(!markChannelCompatible(encoding,channel,mark)){warn(incompatibleChannel(channel,mark));return normalizedEncoding}if(channel===SIZE&&mark==="line"){const fieldDef=getFieldDef(encoding[channel]);if(fieldDef===null||fieldDef===void 0?void 0:fieldDef.aggregate){warn(LINE_WITH_VARYING_SIZE);return normalizedEncoding}}if(channel===COLOR&&(filled?"fill"in encoding:"stroke"in encoding)){warn(droppingColor("encoding",{fill:"fill"in encoding,stroke:"stroke"in encoding}));return normalizedEncoding}if(channel===DETAIL||channel===ORDER&&!isArray(channelDef)&&!isValueDef(channelDef)||channel===TOOLTIP&&isArray(channelDef)){if(channelDef){normalizedEncoding[channel]=array(channelDef).reduce((defs,fieldDef)=>{if(!isFieldDef(fieldDef)){warn(emptyFieldDef(fieldDef,channel))}else{defs.push(initFieldDef(fieldDef,channel))}return defs},[])}}else{if(channel===TOOLTIP&&channelDef===null){normalizedEncoding[channel]=null}else if(!isFieldDef(channelDef)&&!isDatumDef(channelDef)&&!isValueDef(channelDef)&&!isConditionalDef(channelDef)&&!isSignalRef(channelDef)){warn(emptyFieldDef(channelDef,channel));return normalizedEncoding}normalizedEncoding[channel]=initChannelDef(channelDef,channel,config)}return normalizedEncoding},{})}function normalizeEncoding(encoding,config){const normalizedEncoding={};for(const channel of keys(encoding)){const newChannelDef=initChannelDef(encoding[channel],channel,config,{compositeMark:true});normalizedEncoding[channel]=newChannelDef}return normalizedEncoding}function fieldDefs(encoding){const arr=[];for(const channel of keys(encoding)){if(channelHasField(encoding,channel)){const channelDef=encoding[channel];const channelDefArray=array(channelDef);for(const def of channelDefArray){if(isFieldDef(def)){arr.push(def)}else if(hasConditionalFieldDef(def)){arr.push(def.condition)}}}}return arr}function forEach(mapping,f,thisArg){if(!mapping){return}for(const channel of keys(mapping)){const el=mapping[channel];if(isArray(el)){for(const channelDef of el){f.call(thisArg,channelDef,channel)}}else{f.call(thisArg,el,channel)}}}function reduce(mapping,f,init,thisArg){if(!mapping){return init}return keys(mapping).reduce((r,channel)=>{const map=mapping[channel];if(isArray(map)){return map.reduce((r1,channelDef)=>f.call(thisArg,r1,channelDef,channel),r)}else{return f.call(thisArg,r,map,channel)}},init)}function pathGroupingFields(mark,encoding){return keys(encoding).reduce((details,channel)=>{switch(channel){case X:case Y:case HREF:case DESCRIPTION:case URL:case X2:case Y2:case THETA:case THETA2:case RADIUS:case RADIUS2:case LATITUDE:case LONGITUDE:case LATITUDE2:case LONGITUDE2:case TEXT:case SHAPE:case ANGLE:case TOOLTIP:return details;case ORDER:if(mark==="line"||mark==="trail"){return details}case DETAIL:case KEY:{const channelDef=encoding[channel];if(isArray(channelDef)||isFieldDef(channelDef)){for(const fieldDef of array(channelDef)){if(!fieldDef.aggregate){details.push(vgField(fieldDef,{}))}}}return details}case SIZE:if(mark==="trail"){return details}case COLOR:case FILL:case STROKE:case OPACITY:case FILLOPACITY:case STROKEOPACITY:case STROKEDASH:case STROKEWIDTH:{const fieldDef=getFieldDef(encoding[channel]);if(fieldDef&&!fieldDef.aggregate){details.push(vgField(fieldDef,{}))}return details}}},[])}function filterTooltipWithAggregatedField(oldEncoding){const{tooltip:tooltip,...filteredEncoding}=oldEncoding;if(!tooltip){return{filteredEncoding:filteredEncoding}}let customTooltipWithAggregatedField;let customTooltipWithoutAggregatedField;if(isArray(tooltip)){for(const t of tooltip){if(t.aggregate){if(!customTooltipWithAggregatedField){customTooltipWithAggregatedField=[]}customTooltipWithAggregatedField.push(t)}else{if(!customTooltipWithoutAggregatedField){customTooltipWithoutAggregatedField=[]}customTooltipWithoutAggregatedField.push(t)}}if(customTooltipWithAggregatedField){filteredEncoding.tooltip=customTooltipWithAggregatedField}}else{if(tooltip["aggregate"]){filteredEncoding.tooltip=tooltip}else{customTooltipWithoutAggregatedField=tooltip}}if(isArray(customTooltipWithoutAggregatedField)&&customTooltipWithoutAggregatedField.length===1){customTooltipWithoutAggregatedField=customTooltipWithoutAggregatedField[0]}return{customTooltipWithoutAggregatedField:customTooltipWithoutAggregatedField,filteredEncoding:filteredEncoding}}function getCompositeMarkTooltip(tooltipSummary,continuousAxisChannelDef,encodingWithoutContinuousAxis,withFieldName=true){if("tooltip"in encodingWithoutContinuousAxis){return{tooltip:encodingWithoutContinuousAxis.tooltip}}const fiveSummaryTooltip=tooltipSummary.map(({fieldPrefix:fieldPrefix,titlePrefix:titlePrefix})=>{const mainTitle=withFieldName?" of ".concat(getTitle(continuousAxisChannelDef)):"";return{field:fieldPrefix+continuousAxisChannelDef.field,type:continuousAxisChannelDef.type,title:isSignalRef(titlePrefix)?{signal:titlePrefix+'"'.concat(escape(mainTitle),'"')}:titlePrefix+mainTitle}});const tooltipFieldDefs=fieldDefs(encodingWithoutContinuousAxis).map(toStringFieldDef);return{tooltip:[...fiveSummaryTooltip,...unique(tooltipFieldDefs,hash)]}}function getTitle(continuousAxisChannelDef){const{title:title,field:field}=continuousAxisChannelDef;return getFirstDefined(title,field)}function makeCompositeAggregatePartFactory(compositeMarkDef,continuousAxis,continuousAxisChannelDef,sharedEncoding,compositeMarkConfig){const{scale:scale,axis:axis}=continuousAxisChannelDef;return({partName:partName,mark:mark,positionPrefix:positionPrefix,endPositionPrefix:endPositionPrefix=undefined,extraEncoding:extraEncoding={}})=>{const title=getTitle(continuousAxisChannelDef);return partLayerMixins(compositeMarkDef,partName,compositeMarkConfig,{mark:mark,encoding:{[continuousAxis]:{field:positionPrefix+"_"+continuousAxisChannelDef.field,type:continuousAxisChannelDef.type,...title!==undefined?{title:title}:{},...scale!==undefined?{scale:scale}:{},...axis!==undefined?{axis:axis}:{}},...isString(endPositionPrefix)?{[continuousAxis+"2"]:{field:endPositionPrefix+"_"+continuousAxisChannelDef.field}}:{},...sharedEncoding,...extraEncoding}})}}function partLayerMixins(markDef,part,compositeMarkConfig,partBaseSpec){const{clip:clip,color:color,opacity:opacity}=markDef;const mark=markDef.type;if(markDef[part]||markDef[part]===undefined&&compositeMarkConfig[part]){return[{...partBaseSpec,mark:{...compositeMarkConfig[part],...clip?{clip:clip}:{},...color?{color:color}:{},...opacity?{opacity:opacity}:{},...isMarkDef(partBaseSpec.mark)?partBaseSpec.mark:{type:partBaseSpec.mark},style:"".concat(mark,"-").concat(part),...isBoolean(markDef[part])?{}:markDef[part]}}]}return[]}function compositeMarkContinuousAxis(spec,orient,compositeMark){const{encoding:encoding}=spec;const continuousAxis=orient==="vertical"?"y":"x";const continuousAxisChannelDef=encoding[continuousAxis];const continuousAxisChannelDef2=encoding[continuousAxis+"2"];const continuousAxisChannelDefError=encoding[continuousAxis+"Error"];const continuousAxisChannelDefError2=encoding[continuousAxis+"Error2"];return{continuousAxisChannelDef:filterAggregateFromChannelDef(continuousAxisChannelDef,compositeMark),continuousAxisChannelDef2:filterAggregateFromChannelDef(continuousAxisChannelDef2,compositeMark),continuousAxisChannelDefError:filterAggregateFromChannelDef(continuousAxisChannelDefError,compositeMark),continuousAxisChannelDefError2:filterAggregateFromChannelDef(continuousAxisChannelDefError2,compositeMark),continuousAxis:continuousAxis}}function filterAggregateFromChannelDef(continuousAxisChannelDef,compositeMark){if(continuousAxisChannelDef&&continuousAxisChannelDef.aggregate){const{aggregate:aggregate,...continuousAxisWithoutAggregate}=continuousAxisChannelDef;if(aggregate!==compositeMark){warn(errorBarContinuousAxisHasCustomizedAggregate(aggregate,compositeMark))}return continuousAxisWithoutAggregate}else{return continuousAxisChannelDef}}function compositeMarkOrient(spec,compositeMark){const{mark:mark,encoding:encoding}=spec;const{x:x,y:y}=encoding;if(isMarkDef(mark)&&mark.orient){return mark.orient}if(isContinuousFieldOrDatumDef(x)){if(isContinuousFieldOrDatumDef(y)){const xAggregate=isFieldDef(x)&&x.aggregate;const yAggregate=isFieldDef(y)&&y.aggregate;if(!xAggregate&&yAggregate===compositeMark){return"vertical"}else if(!yAggregate&&xAggregate===compositeMark){return"horizontal"}else if(xAggregate===compositeMark&&yAggregate===compositeMark){throw new Error("Both x and y cannot have aggregate")}else{if(isFieldOrDatumDefForTimeFormat(y)&&!isFieldOrDatumDefForTimeFormat(x)){return"horizontal"}return"vertical"}}return"horizontal"}else if(isContinuousFieldOrDatumDef(y)){return"vertical"}else{throw new Error("Need a valid continuous axis for ".concat(compositeMark,"s"))}}const BOXPLOT="boxplot";const BOXPLOT_PARTS=["box","median","outliers","rule","ticks"];const boxPlotNormalizer=new CompositeMarkNormalizer(BOXPLOT,normalizeBoxPlot);function getBoxPlotType(extent){if(isNumber(extent)){return"tukey"}return extent}function normalizeBoxPlot(spec,{config:config}){var _markDef$extent;spec={...spec,encoding:normalizeEncoding(spec.encoding,config)};const{mark:mark,encoding:_encoding,selection:selection,projection:_p,...outerSpec}=spec;const markDef=isMarkDef(mark)?mark:{type:mark};if(selection){warn(selectionNotSupported("boxplot"))}const extent=(_markDef$extent=markDef.extent)!==null&&_markDef$extent!==void 0?_markDef$extent:config.boxplot.extent;const sizeValue=getMarkPropOrConfig("size",markDef,config);const boxPlotType=getBoxPlotType(extent);const{bins:bins,timeUnits:timeUnits,transform:transform,continuousAxisChannelDef:continuousAxisChannelDef,continuousAxis:continuousAxis,groupby:groupby,aggregate:aggregate,encodingWithoutContinuousAxis:encodingWithoutContinuousAxis,ticksOrient:ticksOrient,boxOrient:boxOrient,customTooltipWithoutAggregatedField:customTooltipWithoutAggregatedField}=boxParams(spec,extent,config);const{color:color,size:size,...encodingWithoutSizeColorAndContinuousAxis}=encodingWithoutContinuousAxis;const makeBoxPlotPart=sharedEncoding=>makeCompositeAggregatePartFactory(markDef,continuousAxis,continuousAxisChannelDef,sharedEncoding,config.boxplot);const makeBoxPlotExtent=makeBoxPlotPart(encodingWithoutSizeColorAndContinuousAxis);const makeBoxPlotBox=makeBoxPlotPart(encodingWithoutContinuousAxis);const makeBoxPlotMidTick=makeBoxPlotPart({...encodingWithoutSizeColorAndContinuousAxis,...size?{size:size}:{}});const fiveSummaryTooltipEncoding=getCompositeMarkTooltip([{fieldPrefix:boxPlotType==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:boxPlotType==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],continuousAxisChannelDef,encodingWithoutContinuousAxis);const endTick={type:"tick",color:"black",opacity:1,orient:ticksOrient,invalid:null,aria:false};const whiskerTooltipEncoding=boxPlotType==="min-max"?fiveSummaryTooltipEncoding:getCompositeMarkTooltip([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],continuousAxisChannelDef,encodingWithoutContinuousAxis);const whiskerLayers=[...makeBoxPlotExtent({partName:"rule",mark:{type:"rule",invalid:null,aria:false},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:whiskerTooltipEncoding}),...makeBoxPlotExtent({partName:"rule",mark:{type:"rule",invalid:null,aria:false},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:whiskerTooltipEncoding}),...makeBoxPlotExtent({partName:"ticks",mark:endTick,positionPrefix:"lower_whisker",extraEncoding:whiskerTooltipEncoding}),...makeBoxPlotExtent({partName:"ticks",mark:endTick,positionPrefix:"upper_whisker",extraEncoding:whiskerTooltipEncoding})];const boxLayers=[...boxPlotType!=="tukey"?whiskerLayers:[],...makeBoxPlotBox({partName:"box",mark:{type:"bar",...sizeValue?{size:sizeValue}:{},orient:boxOrient,invalid:null,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:fiveSummaryTooltipEncoding}),...makeBoxPlotMidTick({partName:"median",mark:{type:"tick",invalid:null,...isObject(config.boxplot.median)&&config.boxplot.median.color?{color:config.boxplot.median.color}:{},...sizeValue?{size:sizeValue}:{},orient:ticksOrient,aria:false},positionPrefix:"mid_box",extraEncoding:fiveSummaryTooltipEncoding})];if(boxPlotType==="min-max"){var _outerSpec$transform;return{...outerSpec,transform:((_outerSpec$transform=outerSpec.transform)!==null&&_outerSpec$transform!==void 0?_outerSpec$transform:[]).concat(transform),layer:boxLayers}}const lowerBoxExpr='datum["lower_box_'.concat(continuousAxisChannelDef.field,'"]');const upperBoxExpr='datum["upper_box_'.concat(continuousAxisChannelDef.field,'"]');const iqrExpr="(".concat(upperBoxExpr," - ").concat(lowerBoxExpr,")");const lowerWhiskerExpr="".concat(lowerBoxExpr," - ").concat(extent," * ").concat(iqrExpr);const upperWhiskerExpr="".concat(upperBoxExpr," + ").concat(extent," * ").concat(iqrExpr);const fieldExpr='datum["'.concat(continuousAxisChannelDef.field,'"]');const joinaggregateTransform={joinaggregate:boxParamsQuartiles(continuousAxisChannelDef.field),groupby:groupby};const filteredWhiskerSpec={transform:[{filter:"(".concat(lowerWhiskerExpr," <= ").concat(fieldExpr,") && (").concat(fieldExpr," <= ").concat(upperWhiskerExpr,")")},{aggregate:[{op:"min",field:continuousAxisChannelDef.field,as:"lower_whisker_"+continuousAxisChannelDef.field},{op:"max",field:continuousAxisChannelDef.field,as:"upper_whisker_"+continuousAxisChannelDef.field},{op:"min",field:"lower_box_"+continuousAxisChannelDef.field,as:"lower_box_"+continuousAxisChannelDef.field},{op:"max",field:"upper_box_"+continuousAxisChannelDef.field,as:"upper_box_"+continuousAxisChannelDef.field},...aggregate],groupby:groupby}],layer:whiskerLayers};const{tooltip:tooltip,...encodingWithoutSizeColorContinuousAxisAndTooltip}=encodingWithoutSizeColorAndContinuousAxis;const{scale:scale,axis:axis}=continuousAxisChannelDef;const title=getTitle(continuousAxisChannelDef);const axisWithoutTitle=omit(axis,["title"]);const outlierLayersMixins=partLayerMixins(markDef,"outliers",config.boxplot,{transform:[{filter:"(".concat(fieldExpr," < ").concat(lowerWhiskerExpr,") || (").concat(fieldExpr," > ").concat(upperWhiskerExpr,")")}],mark:"point",encoding:{[continuousAxis]:{field:continuousAxisChannelDef.field,type:continuousAxisChannelDef.type,...title!==undefined?{title:title}:{},...scale!==undefined?{scale:scale}:{},...isEmpty(axisWithoutTitle)?{}:{axis:axisWithoutTitle}},...encodingWithoutSizeColorContinuousAxisAndTooltip,...color?{color:color}:{},...customTooltipWithoutAggregatedField?{tooltip:customTooltipWithoutAggregatedField}:{}}})[0];let filteredLayersMixins;const filteredLayersMixinsTransforms=[...bins,...timeUnits,joinaggregateTransform];if(outlierLayersMixins){filteredLayersMixins={transform:filteredLayersMixinsTransforms,layer:[outlierLayersMixins,filteredWhiskerSpec]}}else{filteredLayersMixins=filteredWhiskerSpec;filteredLayersMixins.transform.unshift(...filteredLayersMixinsTransforms)}return{...outerSpec,layer:[filteredLayersMixins,{transform:transform,layer:boxLayers}]}}function boxParamsQuartiles(continousAxisField){return[{op:"q1",field:continousAxisField,as:"lower_box_"+continousAxisField},{op:"q3",field:continousAxisField,as:"upper_box_"+continousAxisField}]}function boxParams(spec,extent,config){const orient=compositeMarkOrient(spec,BOXPLOT);const{continuousAxisChannelDef:continuousAxisChannelDef,continuousAxis:continuousAxis}=compositeMarkContinuousAxis(spec,orient,BOXPLOT);const continuousFieldName=continuousAxisChannelDef.field;const boxPlotType=getBoxPlotType(extent);const boxplotSpecificAggregate=[...boxParamsQuartiles(continuousFieldName),{op:"median",field:continuousFieldName,as:"mid_box_"+continuousFieldName},{op:"min",field:continuousFieldName,as:(boxPlotType==="min-max"?"lower_whisker_":"min_")+continuousFieldName},{op:"max",field:continuousFieldName,as:(boxPlotType==="min-max"?"upper_whisker_":"max_")+continuousFieldName}];const postAggregateCalculates=boxPlotType==="min-max"||boxPlotType==="tukey"?[]:[{calculate:'datum["upper_box_'.concat(continuousFieldName,'"] - datum["lower_box_').concat(continuousFieldName,'"]'),as:"iqr_"+continuousFieldName},{calculate:'min(datum["upper_box_'.concat(continuousFieldName,'"] + datum["iqr_').concat(continuousFieldName,'"] * ').concat(extent,', datum["max_').concat(continuousFieldName,'"])'),as:"upper_whisker_"+continuousFieldName},{calculate:'max(datum["lower_box_'.concat(continuousFieldName,'"] - datum["iqr_').concat(continuousFieldName,'"] * ').concat(extent,', datum["min_').concat(continuousFieldName,'"])'),as:"lower_whisker_"+continuousFieldName}];const{[continuousAxis]:oldContinuousAxisChannelDef,...oldEncodingWithoutContinuousAxis}=spec.encoding;const{customTooltipWithoutAggregatedField:customTooltipWithoutAggregatedField,filteredEncoding:filteredEncoding}=filterTooltipWithAggregatedField(oldEncodingWithoutContinuousAxis);const{bins:bins,timeUnits:timeUnits,aggregate:aggregate,groupby:groupby,encoding:encodingWithoutContinuousAxis}=extractTransformsFromEncoding(filteredEncoding,config);const ticksOrient=orient==="vertical"?"horizontal":"vertical";const boxOrient=orient;const transform=[...bins,...timeUnits,{aggregate:[...aggregate,...boxplotSpecificAggregate],groupby:groupby},...postAggregateCalculates];return{bins:bins,timeUnits:timeUnits,transform:transform,groupby:groupby,aggregate:aggregate,continuousAxisChannelDef:continuousAxisChannelDef,continuousAxis:continuousAxis,encodingWithoutContinuousAxis:encodingWithoutContinuousAxis,ticksOrient:ticksOrient,boxOrient:boxOrient,customTooltipWithoutAggregatedField:customTooltipWithoutAggregatedField}}const ERRORBAR="errorbar";const ERRORBAR_PARTS=["ticks","rule"];const errorBarNormalizer=new CompositeMarkNormalizer(ERRORBAR,normalizeErrorBar);function normalizeErrorBar(spec,{config:config}){spec={...spec,encoding:normalizeEncoding(spec.encoding,config)};const{transform:transform,continuousAxisChannelDef:continuousAxisChannelDef,continuousAxis:continuousAxis,encodingWithoutContinuousAxis:encodingWithoutContinuousAxis,ticksOrient:ticksOrient,markDef:markDef,outerSpec:outerSpec,tooltipEncoding:tooltipEncoding}=errorBarParams(spec,ERRORBAR,config);delete encodingWithoutContinuousAxis["size"];const makeErrorBarPart=makeCompositeAggregatePartFactory(markDef,continuousAxis,continuousAxisChannelDef,encodingWithoutContinuousAxis,config.errorbar);const thickness=markDef.thickness;const size=markDef.size;const tick={type:"tick",orient:ticksOrient,aria:false,...thickness!==undefined?{thickness:thickness}:{},...size!==undefined?{size:size}:{}};const layer=[...makeErrorBarPart({partName:"ticks",mark:tick,positionPrefix:"lower",extraEncoding:tooltipEncoding}),...makeErrorBarPart({partName:"ticks",mark:tick,positionPrefix:"upper",extraEncoding:tooltipEncoding}),...makeErrorBarPart({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...thickness!==undefined?{size:thickness}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:tooltipEncoding})];return{...outerSpec,transform:transform,...layer.length>1?{layer:layer}:{...layer[0]}}}function errorBarOrientAndInputType(spec,compositeMark){const{encoding:encoding}=spec;if(errorBarIsInputTypeRaw(encoding)){return{orient:compositeMarkOrient(spec,compositeMark),inputType:"raw"}}const isTypeAggregatedUpperLower=errorBarIsInputTypeAggregatedUpperLower(encoding);const isTypeAggregatedError=errorBarIsInputTypeAggregatedError(encoding);const x=encoding.x;const y=encoding.y;if(isTypeAggregatedUpperLower){if(isTypeAggregatedError){throw new Error("".concat(compositeMark," cannot be both type aggregated-upper-lower and aggregated-error"))}const x2=encoding.x2;const y2=encoding.y2;if(isFieldOrDatumDef(x2)&&isFieldOrDatumDef(y2)){throw new Error("".concat(compositeMark," cannot have both x2 and y2"))}else if(isFieldOrDatumDef(x2)){if(isContinuousFieldOrDatumDef(x)){return{orient:"horizontal",inputType:"aggregated-upper-lower"}}else{throw new Error("Both x and x2 have to be quantitative in ".concat(compositeMark))}}else if(isFieldOrDatumDef(y2)){if(isContinuousFieldOrDatumDef(y)){return{orient:"vertical",inputType:"aggregated-upper-lower"}}else{throw new Error("Both y and y2 have to be quantitative in ".concat(compositeMark))}}throw new Error("No ranged axis")}else{const xError=encoding.xError;const xError2=encoding.xError2;const yError=encoding.yError;const yError2=encoding.yError2;if(isFieldOrDatumDef(xError2)&&!isFieldOrDatumDef(xError)){throw new Error("".concat(compositeMark," cannot have xError2 without xError"))}if(isFieldOrDatumDef(yError2)&&!isFieldOrDatumDef(yError)){throw new Error("".concat(compositeMark," cannot have yError2 without yError"))}if(isFieldOrDatumDef(xError)&&isFieldOrDatumDef(yError)){throw new Error("".concat(compositeMark," cannot have both xError and yError with both are quantiative"))}else if(isFieldOrDatumDef(xError)){if(isContinuousFieldOrDatumDef(x)){return{orient:"horizontal",inputType:"aggregated-error"}}else{throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}}else if(isFieldOrDatumDef(yError)){if(isContinuousFieldOrDatumDef(y)){return{orient:"vertical",inputType:"aggregated-error"}}else{throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}}throw new Error("No ranged axis")}}function errorBarIsInputTypeRaw(encoding){return(isFieldOrDatumDef(encoding.x)||isFieldOrDatumDef(encoding.y))&&!isFieldOrDatumDef(encoding.x2)&&!isFieldOrDatumDef(encoding.y2)&&!isFieldOrDatumDef(encoding.xError)&&!isFieldOrDatumDef(encoding.xError2)&&!isFieldOrDatumDef(encoding.yError)&&!isFieldOrDatumDef(encoding.yError2)}function errorBarIsInputTypeAggregatedUpperLower(encoding){return isFieldOrDatumDef(encoding.x2)||isFieldOrDatumDef(encoding.y2)}function errorBarIsInputTypeAggregatedError(encoding){return isFieldOrDatumDef(encoding.xError)||isFieldOrDatumDef(encoding.xError2)||isFieldOrDatumDef(encoding.yError)||isFieldOrDatumDef(encoding.yError2)}function errorBarParams(spec,compositeMark,config){var _outerSpec$transform;const{mark:mark,encoding:encoding,selection:selection,projection:_p,...outerSpec}=spec;const markDef=isMarkDef(mark)?mark:{type:mark};if(selection){warn(selectionNotSupported(compositeMark))}const{orient:orient,inputType:inputType}=errorBarOrientAndInputType(spec,compositeMark);const{continuousAxisChannelDef:continuousAxisChannelDef,continuousAxisChannelDef2:continuousAxisChannelDef2,continuousAxisChannelDefError:continuousAxisChannelDefError,continuousAxisChannelDefError2:continuousAxisChannelDefError2,continuousAxis:continuousAxis}=compositeMarkContinuousAxis(spec,orient,compositeMark);const{errorBarSpecificAggregate:errorBarSpecificAggregate,postAggregateCalculates:postAggregateCalculates,tooltipSummary:tooltipSummary,tooltipTitleWithFieldName:tooltipTitleWithFieldName}=errorBarAggregationAndCalculation(markDef,continuousAxisChannelDef,continuousAxisChannelDef2,continuousAxisChannelDefError,continuousAxisChannelDefError2,inputType,compositeMark,config);const{[continuousAxis]:oldContinuousAxisChannelDef,[continuousAxis==="x"?"x2":"y2"]:oldContinuousAxisChannelDef2,[continuousAxis==="x"?"xError":"yError"]:oldContinuousAxisChannelDefError,[continuousAxis==="x"?"xError2":"yError2"]:oldContinuousAxisChannelDefError2,...oldEncodingWithoutContinuousAxis}=encoding;const{bins:bins,timeUnits:timeUnits,aggregate:oldAggregate,groupby:oldGroupBy,encoding:encodingWithoutContinuousAxis}=extractTransformsFromEncoding(oldEncodingWithoutContinuousAxis,config);const aggregate=[...oldAggregate,...errorBarSpecificAggregate];const groupby=inputType!=="raw"?[]:oldGroupBy;const tooltipEncoding=getCompositeMarkTooltip(tooltipSummary,continuousAxisChannelDef,encodingWithoutContinuousAxis,tooltipTitleWithFieldName);return{transform:[...(_outerSpec$transform=outerSpec.transform)!==null&&_outerSpec$transform!==void 0?_outerSpec$transform:[],...bins,...timeUnits,...aggregate.length===0?[]:[{aggregate:aggregate,groupby:groupby}],...postAggregateCalculates],groupby:groupby,continuousAxisChannelDef:continuousAxisChannelDef,continuousAxis:continuousAxis,encodingWithoutContinuousAxis:encodingWithoutContinuousAxis,ticksOrient:orient==="vertical"?"horizontal":"vertical",markDef:markDef,outerSpec:outerSpec,tooltipEncoding:tooltipEncoding}}function errorBarAggregationAndCalculation(markDef,continuousAxisChannelDef,continuousAxisChannelDef2,continuousAxisChannelDefError,continuousAxisChannelDefError2,inputType,compositeMark,config){let errorBarSpecificAggregate=[];let postAggregateCalculates=[];const continuousFieldName=continuousAxisChannelDef.field;let tooltipSummary;let tooltipTitleWithFieldName=false;if(inputType==="raw"){const center=markDef.center?markDef.center:markDef.extent?markDef.extent==="iqr"?"median":"mean":config.errorbar.center;const extent=markDef.extent?markDef.extent:center==="mean"?"stderr":"iqr";if(center==="median"!==(extent==="iqr")){warn(errorBarCenterIsUsedWithWrongExtent(center,extent,compositeMark))}if(extent==="stderr"||extent==="stdev"){errorBarSpecificAggregate=[{op:extent,field:continuousFieldName,as:"extent_"+continuousFieldName},{op:center,field:continuousFieldName,as:"center_"+continuousFieldName}];postAggregateCalculates=[{calculate:'datum["center_'.concat(continuousFieldName,'"] + datum["extent_').concat(continuousFieldName,'"]'),as:"upper_"+continuousFieldName},{calculate:'datum["center_'.concat(continuousFieldName,'"] - datum["extent_').concat(continuousFieldName,'"]'),as:"lower_"+continuousFieldName}];tooltipSummary=[{fieldPrefix:"center_",titlePrefix:titleCase(center)},{fieldPrefix:"upper_",titlePrefix:getTitlePrefix(center,extent,"+")},{fieldPrefix:"lower_",titlePrefix:getTitlePrefix(center,extent,"-")}];tooltipTitleWithFieldName=true}else{let centerOp;let lowerExtentOp;let upperExtentOp;if(extent==="ci"){centerOp="mean";lowerExtentOp="ci0";upperExtentOp="ci1"}else{centerOp="median";lowerExtentOp="q1";upperExtentOp="q3"}errorBarSpecificAggregate=[{op:lowerExtentOp,field:continuousFieldName,as:"lower_"+continuousFieldName},{op:upperExtentOp,field:continuousFieldName,as:"upper_"+continuousFieldName},{op:centerOp,field:continuousFieldName,as:"center_"+continuousFieldName}];tooltipSummary=[{fieldPrefix:"upper_",titlePrefix:title({field:continuousFieldName,aggregate:upperExtentOp,type:"quantitative"},config,{allowDisabling:false})},{fieldPrefix:"lower_",titlePrefix:title({field:continuousFieldName,aggregate:lowerExtentOp,type:"quantitative"},config,{allowDisabling:false})},{fieldPrefix:"center_",titlePrefix:title({field:continuousFieldName,aggregate:centerOp,type:"quantitative"},config,{allowDisabling:false})}]}}else{if(markDef.center||markDef.extent){warn(errorBarCenterAndExtentAreNotNeeded(markDef.center,markDef.extent))}if(inputType==="aggregated-upper-lower"){tooltipSummary=[];postAggregateCalculates=[{calculate:'datum["'.concat(continuousAxisChannelDef2.field,'"]'),as:"upper_"+continuousFieldName},{calculate:'datum["'.concat(continuousFieldName,'"]'),as:"lower_"+continuousFieldName}]}else if(inputType==="aggregated-error"){tooltipSummary=[{fieldPrefix:"",titlePrefix:continuousFieldName}];postAggregateCalculates=[{calculate:'datum["'.concat(continuousFieldName,'"] + datum["').concat(continuousAxisChannelDefError.field,'"]'),as:"upper_"+continuousFieldName}];if(continuousAxisChannelDefError2){postAggregateCalculates.push({calculate:'datum["'.concat(continuousFieldName,'"] + datum["').concat(continuousAxisChannelDefError2.field,'"]'),as:"lower_"+continuousFieldName})}else{postAggregateCalculates.push({calculate:'datum["'.concat(continuousFieldName,'"] - datum["').concat(continuousAxisChannelDefError.field,'"]'),as:"lower_"+continuousFieldName})}}for(const postAggregateCalculate of postAggregateCalculates){tooltipSummary.push({fieldPrefix:postAggregateCalculate.as.substring(0,6),titlePrefix:replaceAll(replaceAll(postAggregateCalculate.calculate,'datum["',""),'"]',"")})}}return{postAggregateCalculates:postAggregateCalculates,errorBarSpecificAggregate:errorBarSpecificAggregate,tooltipSummary:tooltipSummary,tooltipTitleWithFieldName:tooltipTitleWithFieldName}}function getTitlePrefix(center,extent,operation){return titleCase(center)+" "+operation+" "+extent}const ERRORBAND="errorband";const ERRORBAND_PARTS=["band","borders"];const errorBandNormalizer=new CompositeMarkNormalizer(ERRORBAND,normalizeErrorBand);function normalizeErrorBand(spec,{config:config}){spec={...spec,encoding:normalizeEncoding(spec.encoding,config)};const{transform:transform,continuousAxisChannelDef:continuousAxisChannelDef,continuousAxis:continuousAxis,encodingWithoutContinuousAxis:encodingWithoutContinuousAxis,markDef:markDef,outerSpec:outerSpec,tooltipEncoding:tooltipEncoding}=errorBarParams(spec,ERRORBAND,config);const errorBandDef=markDef;const makeErrorBandPart=makeCompositeAggregatePartFactory(errorBandDef,continuousAxis,continuousAxisChannelDef,encodingWithoutContinuousAxis,config.errorband);const is2D=spec.encoding.x!==undefined&&spec.encoding.y!==undefined;let bandMark={type:is2D?"area":"rect"};let bordersMark={type:is2D?"line":"rule"};const interpolate={...errorBandDef.interpolate?{interpolate:errorBandDef.interpolate}:{},...errorBandDef.tension&&errorBandDef.interpolate?{tension:errorBandDef.tension}:{}};if(is2D){bandMark={...bandMark,...interpolate,ariaRoleDescription:"errorband"};bordersMark={...bordersMark,...interpolate,aria:false}}else if(errorBandDef.interpolate){warn(errorBand1DNotSupport("interpolate"))}else if(errorBandDef.tension){warn(errorBand1DNotSupport("tension"))}return{...outerSpec,transform:transform,layer:[...makeErrorBandPart({partName:"band",mark:bandMark,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:tooltipEncoding}),...makeErrorBandPart({partName:"borders",mark:bordersMark,positionPrefix:"lower",extraEncoding:tooltipEncoding}),...makeErrorBandPart({partName:"borders",mark:bordersMark,positionPrefix:"upper",extraEncoding:tooltipEncoding})]}}const compositeMarkRegistry={};function add(mark,run,parts){const normalizer=new CompositeMarkNormalizer(mark,run);compositeMarkRegistry[mark]={normalizer:normalizer,parts:parts}}function getAllCompositeMarks(){return keys(compositeMarkRegistry)}add(BOXPLOT,normalizeBoxPlot,BOXPLOT_PARTS);add(ERRORBAR,normalizeErrorBar,ERRORBAR_PARTS);add(ERRORBAND,normalizeErrorBand,ERRORBAND_PARTS);const VL_ONLY_LEGEND_CONFIG=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"];const HEADER_TITLE_PROPERTIES_MAP={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"};const HEADER_LABEL_PROPERTIES_MAP={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"};const HEADER_TITLE_PROPERTIES=keys(HEADER_TITLE_PROPERTIES_MAP);const HEADER_LABEL_PROPERTIES=keys(HEADER_LABEL_PROPERTIES_MAP);const HEADER_CONFIGS_INDEX={header:1,headerRow:1,headerColumn:1,headerFacet:1};const HEADER_CONFIGS=keys(HEADER_CONFIGS_INDEX);const LEGEND_SCALE_CHANNELS=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"];const defaultLegendConfig={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35};const COMMON_LEGEND_PROPERTY_INDEX={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1};function assembleParameterSignals(params){const signals=[];for(const param of params||[]){const{expr:expr,bind:bind,...rest}=param;if(bind&&expr){const signal={...rest,bind:bind,init:expr};signals.push(signal)}else{const signal={...rest,...expr?{update:expr}:{},...bind?{bind:bind}:{}};signals.push(signal)}}return signals}const SELECTION_ID="_vgsid_";const defaultConfig={single:{on:"click",fields:[SELECTION_ID],resolve:"global",empty:"all",clear:"dblclick"},multi:{on:"click",fields:[SELECTION_ID],toggle:"event.shiftKey",resolve:"global",empty:"all",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function isLegendBinding(bind){return!!bind&&(bind==="legend"||!!bind.legend)}function isLegendStreamBinding(bind){return isLegendBinding(bind)&&isObject(bind)}function isAnyConcatSpec(spec){return isVConcatSpec(spec)||isHConcatSpec(spec)||isConcatSpec(spec)}function isConcatSpec(spec){return"concat"in spec}function isVConcatSpec(spec){return"vconcat"in spec}function isHConcatSpec(spec){return"hconcat"in spec}function isFitType(autoSizeType){return autoSizeType==="fit"||autoSizeType==="fit-x"||autoSizeType==="fit-y"}function getFitType(sizeType){return sizeType?"fit-".concat(getPositionScaleChannel(sizeType)):"fit"}const TOP_LEVEL_PROPERTIES=["background","padding"];function extractTopLevelProperties(t,includeParams){const o={};for(const p of TOP_LEVEL_PROPERTIES){if(t&&t[p]!==undefined){o[p]=signalRefOrValue(t[p])}}if(includeParams){o.params=t.params}return o}function isStep(size){return isObject(size)&&size["step"]!==undefined}function isFrameMixins(o){return o["view"]||o["width"]||o["height"]}const DEFAULT_SPACING=20;const COMPOSITION_LAYOUT_INDEX={align:1,bounds:1,center:1,columns:1,spacing:1};const COMPOSITION_LAYOUT_PROPERTIES=keys(COMPOSITION_LAYOUT_INDEX);function extractCompositionLayout(spec,specType,config){const compositionConfig=config[specType];const layout={};const{spacing:spacingConfig,columns:columns}=compositionConfig;if(spacingConfig!==undefined){layout.spacing=spacingConfig}if(columns!==undefined){if(isFacetSpec(spec)&&!isFacetMapping(spec.facet)||isConcatSpec(spec)){layout.columns=columns}}if(isVConcatSpec(spec)){layout.columns=1}for(const prop of COMPOSITION_LAYOUT_PROPERTIES){if(spec[prop]!==undefined){if(prop==="spacing"){var _spacing$row,_spacing$column;const spacing=spec[prop];layout[prop]=isNumber(spacing)?spacing:{row:(_spacing$row=spacing.row)!==null&&_spacing$row!==void 0?_spacing$row:spacingConfig,column:(_spacing$column=spacing.column)!==null&&_spacing$column!==void 0?_spacing$column:spacingConfig}}else{layout[prop]=spec[prop]}}}return layout}function getViewConfigContinuousSize(viewConfig,channel){var _viewConfig$channel;return(_viewConfig$channel=viewConfig[channel])!==null&&_viewConfig$channel!==void 0?_viewConfig$channel:viewConfig[channel==="width"?"continuousWidth":"continuousHeight"]}function getViewConfigDiscreteStep(viewConfig,channel){const size=getViewConfigDiscreteSize(viewConfig,channel);return isStep(size)?size.step:DEFAULT_STEP}function getViewConfigDiscreteSize(viewConfig,channel){var _viewConfig$channel2;const size=(_viewConfig$channel2=viewConfig[channel])!==null&&_viewConfig$channel2!==void 0?_viewConfig$channel2:viewConfig[channel==="width"?"discreteWidth":"discreteHeight"];return getFirstDefined(size,{step:viewConfig.step})}const DEFAULT_STEP=20;const defaultViewConfig={continuousWidth:200,continuousHeight:200,step:DEFAULT_STEP};const defaultConfig$1={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:defaultViewConfig,mark:defaultMarkConfig,arc:{},area:{},bar:defaultBarConfig,circle:{},geoshape:{},image:{},line:{},point:{},rect:defaultRectConfig,rule:{color:"black"},square:{},text:{color:"black"},tick:defaultTickConfig,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:true,ticks:false},errorband:{band:{opacity:.3},borders:false},scale:defaultScaleConfig,projection:{},legend:defaultLegendConfig,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:defaultConfig,style:{},title:{},facet:{spacing:DEFAULT_SPACING},concat:{spacing:DEFAULT_SPACING}};const tab10=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"];const DEFAULT_FONT_SIZE={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12};const DEFAULT_COLOR={blue:tab10[0],orange:tab10[1],red:tab10[2],teal:tab10[3],green:tab10[4],yellow:tab10[5],purple:tab10[6],pink:tab10[7],brown:tab10[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function colorSignalConfig(color={}){return{signals:[{name:"color",value:isObject(color)?{...DEFAULT_COLOR,...color}:DEFAULT_COLOR}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function fontSizeSignalConfig(fontSize){return{signals:[{name:"fontSize",value:isObject(fontSize)?{...DEFAULT_FONT_SIZE,...fontSize}:DEFAULT_FONT_SIZE}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function fontConfig(font){return{text:{font:font},style:{"guide-label":{font:font},"guide-title":{font:font},"group-title":{font:font},"group-subtitle":{font:font}}}}function getAxisConfigInternal(axisConfig){const props=keys(axisConfig||{});const axisConfigInternal={};for(const prop of props){const val=axisConfig[prop];axisConfigInternal[prop]=isConditionalAxisValue(val)?signalOrValueRefWithCondition(val):signalRefOrValue(val)}return axisConfigInternal}function getStyleConfigInternal(styleConfig){const props=keys(styleConfig);const styleConfigInternal={};for(const prop of props){styleConfigInternal[prop]=getAxisConfigInternal(styleConfig[prop])}return styleConfigInternal}const configPropsWithExpr=[...MARK_CONFIGS,...AXIS_CONFIGS,...HEADER_CONFIGS,"background","padding","legend","lineBreak","scale","style","title","view"];function initConfig(specifiedConfig={}){const{color:color,font:font,fontSize:fontSize,...restConfig}=specifiedConfig;const mergedConfig=mergeConfig({},defaultConfig$1,font?fontConfig(font):{},color?colorSignalConfig(color):{},fontSize?fontSizeSignalConfig(fontSize):{},restConfig||{});const outputConfig=omit(mergedConfig,configPropsWithExpr);for(const prop of["background","lineBreak","padding"]){if(mergedConfig[prop]){outputConfig[prop]=signalRefOrValue(mergedConfig[prop])}}for(const markConfigType of MARK_CONFIGS){if(mergedConfig[markConfigType]){outputConfig[markConfigType]=replaceExprRefInIndex(mergedConfig[markConfigType])}}for(const axisConfigType of AXIS_CONFIGS){if(mergedConfig[axisConfigType]){outputConfig[axisConfigType]=getAxisConfigInternal(mergedConfig[axisConfigType])}}for(const headerConfigType of HEADER_CONFIGS){if(mergedConfig[headerConfigType]){outputConfig[headerConfigType]=replaceExprRefInIndex(mergedConfig[headerConfigType])}}if(mergedConfig.legend){outputConfig.legend=replaceExprRefInIndex(mergedConfig.legend)}if(mergedConfig.scale){outputConfig.scale=replaceExprRefInIndex(mergedConfig.scale)}if(mergedConfig.style){outputConfig.style=getStyleConfigInternal(mergedConfig.style)}if(mergedConfig.title){outputConfig.title=replaceExprRefInIndex(mergedConfig.title)}if(mergedConfig.view){outputConfig.view=replaceExprRefInIndex(mergedConfig.view)}return outputConfig}const MARK_STYLES=["view",...PRIMITIVE_MARKS];const VL_ONLY_CONFIG_PROPERTIES=["color","fontSize","background","padding","facet","concat","numberFormat","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"];const VL_ONLY_ALL_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...VL_ONLY_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX};function stripAndRedirectConfig(config){config=duplicate(config);for(const prop of VL_ONLY_CONFIG_PROPERTIES){delete config[prop]}if(config.axis){for(const prop in config.axis){if(isConditionalAxisValue(config.axis[prop])){delete config.axis[prop]}}}if(config.legend){for(const prop of VL_ONLY_LEGEND_CONFIG){delete config.legend[prop]}}if(config.mark){for(const prop of VL_ONLY_MARK_CONFIG_PROPERTIES){delete config.mark[prop]}if(config.mark.tooltip&&isObject(config.mark.tooltip)){delete config.mark.tooltip}}if(config.params){config.signals=(config.signals||[]).concat(assembleParameterSignals(config.params));delete config.params}for(const markType of MARK_STYLES){for(const prop of VL_ONLY_MARK_CONFIG_PROPERTIES){delete config[markType][prop]}const vlOnlyMarkSpecificConfigs=VL_ONLY_ALL_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX[markType];if(vlOnlyMarkSpecificConfigs){for(const prop of vlOnlyMarkSpecificConfigs){delete config[markType][prop]}}redirectConfigToStyleConfig(config,markType)}for(const m of getAllCompositeMarks()){delete config[m]}redirectTitleConfig(config);for(const prop in config){if(isObject(config[prop])&&isEmpty(config[prop])){delete config[prop]}}return isEmpty(config)?undefined:config}function redirectTitleConfig(config){const{titleMarkConfig:titleMarkConfig,subtitleMarkConfig:subtitleMarkConfig,subtitle:subtitle}=extractTitleConfig(config.title);if(!isEmpty(titleMarkConfig)){config.style["group-title"]={...config.style["group-title"],...titleMarkConfig}}if(!isEmpty(subtitleMarkConfig)){config.style["group-subtitle"]={...config.style["group-subtitle"],...subtitleMarkConfig}}if(!isEmpty(subtitle)){config.title=subtitle}else{delete config.title}}function redirectConfigToStyleConfig(config,prop,toProp,compositeMarkPart){var _toProp;const propConfig=compositeMarkPart?config[prop][compositeMarkPart]:config[prop];if(prop==="view"){toProp="cell"}const style={...propConfig,...config.style[(_toProp=toProp)!==null&&_toProp!==void 0?_toProp:prop]};if(!isEmpty(style)){var _toProp2;config.style[(_toProp2=toProp)!==null&&_toProp2!==void 0?_toProp2:prop]=style}if(!compositeMarkPart){delete config[prop]}}function isLayerSpec(spec){return"layer"in spec}function isRepeatSpec(spec){return"repeat"in spec}function isLayerRepeatSpec(spec){return!isArray(spec.repeat)&&spec.repeat["layer"]}class SpecMapper{map(spec,params){if(isFacetSpec(spec)){return this.mapFacet(spec,params)}else if(isRepeatSpec(spec)){return this.mapRepeat(spec,params)}else if(isHConcatSpec(spec)){return this.mapHConcat(spec,params)}else if(isVConcatSpec(spec)){return this.mapVConcat(spec,params)}else if(isConcatSpec(spec)){return this.mapConcat(spec,params)}else{return this.mapLayerOrUnit(spec,params)}}mapLayerOrUnit(spec,params){if(isLayerSpec(spec)){return this.mapLayer(spec,params)}else if(isUnitSpec(spec)){return this.mapUnit(spec,params)}throw new Error(invalidSpec(spec))}mapLayer(spec,params){return{...spec,layer:spec.layer.map(subspec=>this.mapLayerOrUnit(subspec,params))}}mapHConcat(spec,params){return{...spec,hconcat:spec.hconcat.map(subspec=>this.map(subspec,params))}}mapVConcat(spec,params){return{...spec,vconcat:spec.vconcat.map(subspec=>this.map(subspec,params))}}mapConcat(spec,params){const{concat:concat,...rest}=spec;return{...rest,concat:concat.map(subspec=>this.map(subspec,params))}}mapFacet(spec,params){return{...spec,spec:this.map(spec.spec,params)}}mapRepeat(spec,params){return{...spec,spec:this.map(spec.spec,params)}}}const STACK_OFFSET_INDEX={zero:1,center:1,normalize:1};function isStackOffset(s){return s in STACK_OFFSET_INDEX}const STACKABLE_MARKS=new Set([ARC,BAR,AREA,RULE,POINT,CIRCLE,SQUARE,LINE,TEXT$1,TICK]);const STACK_BY_DEFAULT_MARKS=new Set([BAR,AREA,ARC]);function potentialStackedChannel(encoding,x){const y=x==="x"?"y":"radius";const xDef=encoding[x];const yDef=encoding[y];if(isFieldDef(xDef)&&isFieldDef(yDef)){if(channelDefType(xDef)==="quantitative"&&channelDefType(yDef)==="quantitative"){if(xDef.stack){return x}else if(yDef.stack){return y}const xAggregate=isFieldDef(xDef)&&!!xDef.aggregate;const yAggregate=isFieldDef(yDef)&&!!yDef.aggregate;if(xAggregate!==yAggregate){return xAggregate?x:y}else{var _xDef$scale,_yDef$scale;const xScale=(_xDef$scale=xDef.scale)===null||_xDef$scale===void 0?void 0:_xDef$scale.type;const yScale=(_yDef$scale=yDef.scale)===null||_yDef$scale===void 0?void 0:_yDef$scale.type;if(xScale&&xScale!=="linear"){return y}else if(yScale&&yScale!=="linear"){return x}}}else if(channelDefType(xDef)==="quantitative"){return x}else if(channelDefType(yDef)==="quantitative"){return y}}else if(channelDefType(xDef)==="quantitative"){return x}else if(channelDefType(yDef)==="quantitative"){return y}return undefined}function getDimensionChannel(channel){switch(channel){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function stack(m,encoding,opt={}){const mark=isMarkDef(m)?m.type:m;if(!STACKABLE_MARKS.has(mark)){return null}const fieldChannel=potentialStackedChannel(encoding,"x")||potentialStackedChannel(encoding,"theta");if(!fieldChannel){return null}const stackedFieldDef=encoding[fieldChannel];const stackedField=isFieldDef(stackedFieldDef)?vgField(stackedFieldDef,{}):undefined;let dimensionChannel=getDimensionChannel(fieldChannel);let dimensionDef=encoding[dimensionChannel];let dimensionField=isFieldDef(dimensionDef)?vgField(dimensionDef,{}):undefined;if(dimensionField===stackedField){dimensionField=undefined;dimensionDef=undefined;dimensionChannel=undefined}const stackBy=NONPOSITION_CHANNELS.reduce((sc,channel)=>{if(channel!=="tooltip"&&channelHasField(encoding,channel)){const channelDef=encoding[channel];for(const cDef of array(channelDef)){const fieldDef=getFieldDef(cDef);if(fieldDef.aggregate){continue}const f=vgField(fieldDef,{});if(!f||f!==dimensionField){sc.push({channel:channel,fieldDef:fieldDef})}}}return sc},[]);let offset;if(stackedFieldDef.stack!==undefined){if(isBoolean(stackedFieldDef.stack)){offset=stackedFieldDef.stack?"zero":null}else{offset=stackedFieldDef.stack}}else if(stackBy.length>0&&STACK_BY_DEFAULT_MARKS.has(mark)){offset="zero"}if(!offset||!isStackOffset(offset)){return null}if(isAggregate(encoding)&&stackBy.length===0){return null}if(stackedFieldDef.scale&&stackedFieldDef.scale.type&&stackedFieldDef.scale.type!==ScaleType.LINEAR){if(opt.disallowNonLinearStack){return null}else{warn(cannotStackNonLinearScale(stackedFieldDef.scale.type))}}if(isFieldOrDatumDef(encoding[getSecondaryRangeChannel(fieldChannel)])){if(stackedFieldDef.stack!==undefined){warn(cannotStackRangedMark(fieldChannel))}return null}if(isFieldDef(stackedFieldDef)&&stackedFieldDef.aggregate&&!contains(SUM_OPS,stackedFieldDef.aggregate)){warn(stackNonSummativeAggregate(stackedFieldDef.aggregate))}return{groupbyChannel:dimensionDef?dimensionChannel:undefined,groupbyField:dimensionField,fieldChannel:fieldChannel,impute:stackedFieldDef.impute===null?false:isPathMark(mark),stackBy:stackBy,offset:offset}}function dropLineAndPoint(markDef){const{point:_point,line:_line,...mark}=markDef;return keys(mark).length>1?mark:mark.type}function dropLineAndPointFromConfig(config){for(const mark of["line","area","rule","trail"]){if(config[mark]){config={...config,[mark]:omit(config[mark],["point","line"])}}}return config}function getPointOverlay(markDef,markConfig={},encoding){if(markDef.point==="transparent"){return{opacity:0}}else if(markDef.point){return isObject(markDef.point)?markDef.point:{}}else if(markDef.point!==undefined){return null}else{if(markConfig.point||encoding.shape){return isObject(markConfig.point)?markConfig.point:{}}return undefined}}function getLineOverlay(markDef,markConfig={}){if(markDef.line){return markDef.line===true?{}:markDef.line}else if(markDef.line!==undefined){return null}else{if(markConfig.line){return markConfig.line===true?{}:markConfig.line}return undefined}}class PathOverlayNormalizer{constructor(){_defineProperty(this,"name","path-overlay")}hasMatchingType(spec,config){if(isUnitSpec(spec)){const{mark:mark,encoding:encoding}=spec;const markDef=isMarkDef(mark)?mark:{type:mark};switch(markDef.type){case"line":case"rule":case"trail":return!!getPointOverlay(markDef,config[markDef.type],encoding);case"area":return!!getPointOverlay(markDef,config[markDef.type],encoding)||!!getLineOverlay(markDef,config[markDef.type])}}return false}run(spec,params,normalize){const{config:config}=params;const{selection:selection,projection:projection,mark:mark,encoding:e,...outerSpec}=spec;const encoding=normalizeEncoding(e,config);const markDef=isMarkDef(mark)?mark:{type:mark};const pointOverlay=getPointOverlay(markDef,config[markDef.type],encoding);const lineOverlay=markDef.type==="area"&&getLineOverlay(markDef,config[markDef.type]);const layer=[{...selection?{selection:selection}:{},mark:dropLineAndPoint({...markDef.type==="area"&&markDef.opacity===undefined&&markDef.fillOpacity===undefined?{opacity:.7}:{},...markDef}),encoding:omit(encoding,["shape"])}];const stackProps=stack(markDef,encoding);let overlayEncoding=encoding;if(stackProps){const{fieldChannel:stackFieldChannel,offset:offset}=stackProps;overlayEncoding={...encoding,[stackFieldChannel]:{...encoding[stackFieldChannel],...offset?{stack:offset}:{}}}}if(lineOverlay){layer.push({...projection?{projection:projection}:{},mark:{type:"line",...pick(markDef,["clip","interpolate","tension","tooltip"]),...lineOverlay},encoding:overlayEncoding})}if(pointOverlay){layer.push({...projection?{projection:projection}:{},mark:{type:"point",opacity:1,filled:true,...pick(markDef,["clip","tooltip"]),...pointOverlay},encoding:overlayEncoding})}return normalize({...outerSpec,layer:layer},{...params,config:dropLineAndPointFromConfig(config)})}}class RangeStepNormalizer{constructor(){_defineProperty(this,"name","RangeStep")}hasMatchingType(spec){if(isUnitSpec(spec)&&spec.encoding){for(const channel of POSITION_SCALE_CHANNELS){const def=spec.encoding[channel];if(def&&isFieldOrDatumDef(def)){var _def$scale;if(def===null||def===void 0?void 0:(_def$scale=def.scale)===null||_def$scale===void 0?void 0:_def$scale["rangeStep"]){return true}}}}return false}run(spec){const sizeMixins={};let encoding={...spec.encoding};for(const channel of POSITION_SCALE_CHANNELS){const sizeType=getSizeChannel(channel);const def=encoding[channel];if(def&&isFieldOrDatumDef(def)){var _def$scale2;if(def===null||def===void 0?void 0:(_def$scale2=def.scale)===null||_def$scale2===void 0?void 0:_def$scale2["rangeStep"]){const{scale:scale,...defWithoutScale}=def;const{rangeStep:rangeStep,...scaleWithoutRangeStep}=scale;sizeMixins[sizeType]={step:scale["rangeStep"]};warn(RANGE_STEP_DEPRECATED);encoding={...encoding,[channel]:{...defWithoutScale,...isEmpty(scaleWithoutRangeStep)?{}:{scale:scaleWithoutRangeStep}}}}}}return{...sizeMixins,...spec,encoding:encoding}}}function replaceRepeaterInFacet(facet,repeater){if(!repeater){return facet}if(isFacetMapping(facet)){return replaceRepeaterInMapping(facet,repeater)}return replaceRepeaterInFieldDef(facet,repeater)}function replaceRepeaterInEncoding(encoding,repeater){if(!repeater){return encoding}return replaceRepeaterInMapping(encoding,repeater)}function replaceRepeatInProp(prop,o,repeater){const val=o[prop];if(isRepeatRef(val)){if(val.repeat in repeater){return{...o,[prop]:repeater[val.repeat]}}else{warn(noSuchRepeatedValue(val.repeat));return undefined}}return o}function replaceRepeaterInFieldDef(fieldDef,repeater){fieldDef=replaceRepeatInProp("field",fieldDef,repeater);if(fieldDef===undefined){return undefined}else if(fieldDef===null){return null}if(isSortableFieldDef(fieldDef)&&isSortField(fieldDef.sort)){const sort=replaceRepeatInProp("field",fieldDef.sort,repeater);fieldDef={...fieldDef,...sort?{sort:sort}:{}}}return fieldDef}function replaceRepeaterInFieldOrDatumDef(def,repeater){if(isFieldDef(def)){return replaceRepeaterInFieldDef(def,repeater)}else{const datumDef=replaceRepeatInProp("datum",def,repeater);if(datumDef!==def&&!datumDef.type){datumDef.type="nominal"}return datumDef}}function replaceRepeaterInChannelDef(channelDef,repeater){if(isFieldOrDatumDef(channelDef)){const fd=replaceRepeaterInFieldOrDatumDef(channelDef,repeater);if(fd){return fd}else if(isConditionalDef(channelDef)){return{condition:channelDef.condition}}}else{if(hasConditionalFieldOrDatumDef(channelDef)){const fd=replaceRepeaterInFieldOrDatumDef(channelDef.condition,repeater);if(fd){return{...channelDef,condition:fd}}else{const{condition:condition,...channelDefWithoutCondition}=channelDef;return channelDefWithoutCondition}}return channelDef}return undefined}function replaceRepeaterInMapping(mapping,repeater){const out={};for(const channel in mapping){if(has(mapping,channel)){const channelDef=mapping[channel];if(isArray(channelDef)){out[channel]=channelDef.map(cd=>replaceRepeaterInChannelDef(cd,repeater)).filter(cd=>cd)}else{const cd=replaceRepeaterInChannelDef(channelDef,repeater);if(cd!==undefined){out[channel]=cd}}}}return out}class RuleForRangedLineNormalizer{constructor(){_defineProperty(this,"name","RuleForRangedLine")}hasMatchingType(spec){if(isUnitSpec(spec)){const{encoding:encoding,mark:mark}=spec;if(mark==="line"){for(const channel of SECONDARY_RANGE_CHANNEL){const mainChannel=getMainRangeChannel(channel);const mainChannelDef=encoding[mainChannel];if(encoding[channel]){if(isFieldDef(mainChannelDef)&&!isBinned(mainChannelDef.bin)||isDatumDef(mainChannelDef)){return true}}}}}return false}run(spec,params,normalize){const{encoding:encoding}=spec;warn(lineWithRange(!!encoding.x2,!!encoding.y2));return normalize({...spec,mark:"rule"},params)}}class CoreNormalizer extends SpecMapper{constructor(...args){super(...args);_defineProperty(this,"nonFacetUnitNormalizers",[boxPlotNormalizer,errorBarNormalizer,errorBandNormalizer,new PathOverlayNormalizer,new RuleForRangedLineNormalizer,new RangeStepNormalizer])}map(spec,params){if(isUnitSpec(spec)){const hasRow=channelHasField(spec.encoding,ROW);const hasColumn=channelHasField(spec.encoding,COLUMN);const hasFacet=channelHasField(spec.encoding,FACET);if(hasRow||hasColumn||hasFacet){return this.mapFacetedUnit(spec,params)}}return super.map(spec,params)}mapUnit(spec,params){const{parentEncoding:parentEncoding,parentProjection:parentProjection}=params;const encoding=replaceRepeaterInEncoding(spec.encoding,params.repeater);const specWithReplacedEncoding={...spec,...encoding?{encoding:encoding}:{}};if(parentEncoding||parentProjection){return this.mapUnitWithParentEncodingOrProjection(specWithReplacedEncoding,params)}const normalizeLayerOrUnit=this.mapLayerOrUnit.bind(this);for(const unitNormalizer of this.nonFacetUnitNormalizers){if(unitNormalizer.hasMatchingType(specWithReplacedEncoding,params.config)){return unitNormalizer.run(specWithReplacedEncoding,params,normalizeLayerOrUnit)}}return specWithReplacedEncoding}mapRepeat(spec,params){if(isLayerRepeatSpec(spec)){return this.mapLayerRepeat(spec,params)}else{return this.mapNonLayerRepeat(spec,params)}}mapLayerRepeat(spec,params){const{repeat:repeat,spec:childSpec,...rest}=spec;const{row:row,column:column,layer:layer}=repeat;const{repeater:repeater={},repeaterPrefix:repeaterPrefix=""}=params;if(row||column){return this.mapRepeat({...spec,repeat:{...row?{row:row}:{},...column?{column:column}:{}},spec:{repeat:{layer:layer},spec:childSpec}},params)}else{return{...rest,layer:layer.map(layerValue=>{const childRepeater={...repeater,layer:layerValue};const childName=(childSpec.name||"")+repeaterPrefix+"child__layer_".concat(varName(layerValue));const child=this.mapLayerOrUnit(childSpec,{...params,repeater:childRepeater,repeaterPrefix:childName});child.name=childName;return child})}}}mapNonLayerRepeat(spec,params){var _childSpec$data;const{repeat:repeat,spec:childSpec,data:data,...remainingProperties}=spec;if(!isArray(repeat)&&spec.columns){spec=omit(spec,["columns"]);warn(columnsNotSupportByRowCol("repeat"))}const concat=[];const{repeater:repeater={},repeaterPrefix:repeaterPrefix=""}=params;const row=!isArray(repeat)&&repeat.row||[repeater?repeater.row:null];const column=!isArray(repeat)&&repeat.column||[repeater?repeater.column:null];const repeatValues=isArray(repeat)&&repeat||[repeater?repeater.repeat:null];for(const repeatValue of repeatValues){for(const rowValue of row){for(const columnValue of column){const childRepeater={repeat:repeatValue,row:rowValue,column:columnValue,layer:repeater.layer};const childName=(childSpec.name||"")+repeaterPrefix+"child__"+(isArray(repeat)?"".concat(varName(repeatValue)):(repeat.row?"row_".concat(varName(rowValue)):"")+(repeat.column?"column_".concat(varName(columnValue)):""));const child=this.map(childSpec,{...params,repeater:childRepeater,repeaterPrefix:childName});child.name=childName;concat.push(omit(child,["data"]))}}}const columns=isArray(repeat)?spec.columns:repeat.column?repeat.column.length:1;return{data:(_childSpec$data=childSpec.data)!==null&&_childSpec$data!==void 0?_childSpec$data:data,align:"all",...remainingProperties,columns:columns,concat:concat}}mapFacet(spec,params){const{facet:facet}=spec;if(isFacetMapping(facet)&&spec.columns){spec=omit(spec,["columns"]);warn(columnsNotSupportByRowCol("facet"))}return super.mapFacet(spec,params)}mapUnitWithParentEncodingOrProjection(spec,params){const{encoding:encoding,projection:projection}=spec;const{parentEncoding:parentEncoding,parentProjection:parentProjection,config:config}=params;const mergedProjection=mergeProjection({parentProjection:parentProjection,projection:projection});const mergedEncoding=mergeEncoding({parentEncoding:parentEncoding,encoding:replaceRepeaterInEncoding(encoding,params.repeater)});return this.mapUnit({...spec,...mergedProjection?{projection:mergedProjection}:{},...mergedEncoding?{encoding:mergedEncoding}:{}},{config:config})}mapFacetedUnit(spec,params){const{row:row,column:column,facet:facet,...encoding}=spec.encoding;const{mark:mark,width:width,projection:projection,height:height,view:view,selection:selection,encoding:_,...outerSpec}=spec;const{facetMapping:facetMapping,layout:layout}=this.getFacetMappingAndLayout({row:row,column:column,facet:facet},params);const newEncoding=replaceRepeaterInEncoding(encoding,params.repeater);return this.mapFacet({...outerSpec,...layout,facet:facetMapping,spec:{...width?{width:width}:{},...height?{height:height}:{},...view?{view:view}:{},...projection?{projection:projection}:{},mark:mark,encoding:newEncoding,...selection?{selection:selection}:{}}},params)}getFacetMappingAndLayout(facets,params){const{row:row,column:column,facet:facet}=facets;if(row||column){if(facet){warn(facetChannelDropped([...row?[ROW]:[],...column?[COLUMN]:[]]))}const facetMapping={};const layout={};for(const channel of[ROW,COLUMN]){const def=facets[channel];if(def){const{align:align,center:center,spacing:spacing,columns:columns,...defWithoutLayout}=def;facetMapping[channel]=defWithoutLayout;for(const prop of["align","center","spacing"]){if(def[prop]!==undefined){var _layout$prop;layout[prop]=(_layout$prop=layout[prop])!==null&&_layout$prop!==void 0?_layout$prop:{};layout[prop][channel]=def[prop]}}}}return{facetMapping:facetMapping,layout:layout}}else{const{align:align,center:center,spacing:spacing,columns:columns,...facetMapping}=facet;return{facetMapping:replaceRepeaterInFacet(facetMapping,params.repeater),layout:{...align?{align:align}:{},...center?{center:center}:{},...spacing?{spacing:spacing}:{},...columns?{columns:columns}:{}}}}}mapLayer(spec,{parentEncoding:parentEncoding,parentProjection:parentProjection,...otherParams}){const{encoding:encoding,projection:projection,...rest}=spec;const params={...otherParams,parentEncoding:mergeEncoding({parentEncoding:parentEncoding,encoding:encoding,layer:true}),parentProjection:mergeProjection({parentProjection:parentProjection,projection:projection})};return super.mapLayer(rest,params)}}function mergeEncoding({parentEncoding:parentEncoding,encoding:encoding={},layer:layer}){let merged={};if(parentEncoding){const channels=new Set([...keys(parentEncoding),...keys(encoding)]);for(const channel of channels){const channelDef=encoding[channel];const parentChannelDef=parentEncoding[channel];if(isFieldOrDatumDef(channelDef)){const mergedChannelDef={...parentChannelDef,...channelDef};merged[channel]=mergedChannelDef}else if(hasConditionalFieldOrDatumDef(channelDef)){merged[channel]={...channelDef,condition:{...parentChannelDef,...channelDef.condition}}}else if(channelDef||channelDef===null){merged[channel]=channelDef}else if(layer||isValueDef(parentChannelDef)||isSignalRef(parentChannelDef)||isFieldOrDatumDef(parentChannelDef)||isArray(parentChannelDef)){merged[channel]=parentChannelDef}}}else{merged=encoding}return!merged||isEmpty(merged)?undefined:merged}function mergeProjection(opt){const{parentProjection:parentProjection,projection:projection}=opt;if(parentProjection&&projection){warn(projectionOverridden({parentProjection:parentProjection,projection:projection}))}return projection!==null&&projection!==void 0?projection:parentProjection}function normalize(spec,config){if(config===undefined){config=initConfig(spec.config)}const normalizedSpec=normalizeGenericSpec(spec,config);const{width:width,height:height}=spec;const autosize=normalizeAutoSize(normalizedSpec,{width:width,height:height,autosize:spec.autosize},config);return{...normalizedSpec,...autosize?{autosize:autosize}:{}}}const normalizer=new CoreNormalizer;function normalizeGenericSpec(spec,config={}){return normalizer.map(spec,{config:config})}function _normalizeAutoSize(autosize){return isString(autosize)?{type:autosize}:autosize!==null&&autosize!==void 0?autosize:{}}function normalizeAutoSize(spec,sizeInfo,config){let{width:width,height:height}=sizeInfo;const isFitCompatible=isUnitSpec(spec)||isLayerSpec(spec);const autosizeDefault={};if(!isFitCompatible){if(width=="container"){warn(containerSizeNonSingle("width"));width=undefined}if(height=="container"){warn(containerSizeNonSingle("height"));height=undefined}}else{if(width=="container"&&height=="container"){autosizeDefault.type="fit";autosizeDefault.contains="padding"}else if(width=="container"){autosizeDefault.type="fit-x";autosizeDefault.contains="padding"}else if(height=="container"){autosizeDefault.type="fit-y";autosizeDefault.contains="padding"}}const autosize={type:"pad",...autosizeDefault,...config?_normalizeAutoSize(config.autosize):{},..._normalizeAutoSize(spec.autosize)};if(autosize.type==="fit"&&!isFitCompatible){warn(FIT_NON_SINGLE);autosize.type="pad"}if(width=="container"&&!(autosize.type=="fit"||autosize.type=="fit-x")){warn(containerSizeNotCompatibleWithAutosize("width"))}if(height=="container"&&!(autosize.type=="fit"||autosize.type=="fit-y")){warn(containerSizeNotCompatibleWithAutosize("height"))}if(deepEqual(autosize,{type:"pad"})){return undefined}return autosize}class Split{constructor(explicit={},implicit={}){this.explicit=explicit;this.implicit=implicit}clone(){return new Split(duplicate(this.explicit),duplicate(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(key){return getFirstDefined(this.explicit[key],this.implicit[key])}getWithExplicit(key){if(this.explicit[key]!==undefined){return{explicit:true,value:this.explicit[key]}}else if(this.implicit[key]!==undefined){return{explicit:false,value:this.implicit[key]}}return{explicit:false,value:undefined}}setWithExplicit(key,value){if(value.value!==undefined){this.set(key,value.value,value.explicit)}}set(key,value,explicit){delete this[explicit?"implicit":"explicit"][key];this[explicit?"explicit":"implicit"][key]=value;return this}copyKeyFromSplit(key,s){if(s.explicit[key]!==undefined){this.set(key,s.explicit[key],true)}else if(s.implicit[key]!==undefined){this.set(key,s.implicit[key],false)}}copyKeyFromObject(key,s){if(s[key]!==undefined){this.set(key,s[key],true)}}copyAll(other){for(const key of keys(other.combine())){const val=other.getWithExplicit(key);this.setWithExplicit(key,val)}}}function makeExplicit(value){return{explicit:true,value:value}}function makeImplicit(value){return{explicit:false,value:value}}function tieBreakByComparing(compare){return(v1,v2,property,propertyOf)=>{const diff=compare(v1.value,v2.value);if(diff>0){return v1}else if(diff<0){return v2}return defaultTieBreaker(v1,v2,property,propertyOf)}}function defaultTieBreaker(v1,v2,property,propertyOf){if(v1.explicit&&v2.explicit){warn(mergeConflictingProperty(property,propertyOf,v1.value,v2.value))}return v1}function mergeValuesWithExplicit(v1,v2,property,propertyOf,tieBreaker=defaultTieBreaker){if(v1===undefined||v1.value===undefined){return v2}if(v1.explicit&&!v2.explicit){return v1}else if(v2.explicit&&!v1.explicit){return v2}else if(deepEqual(v1.value,v2.value)){return v1}else{return tieBreaker(v1,v2,property,propertyOf)}}class AncestorParse extends Split{constructor(explicit={},implicit={},parseNothing=false){super(explicit,implicit);this.explicit=explicit;this.implicit=implicit;this.parseNothing=parseNothing}clone(){const clone=super.clone();clone.parseNothing=this.parseNothing;return clone}}function isUrlData(data){return"url"in data}function isInlineData(data){return"values"in data}function isNamedData(data){return"name"in data&&!isUrlData(data)&&!isInlineData(data)&&!isGenerator(data)}function isGenerator(data){return data&&(isSequenceGenerator(data)||isSphereGenerator(data)||isGraticuleGenerator(data))}function isSequenceGenerator(data){return"sequence"in data}function isSphereGenerator(data){return"sphere"in data}function isGraticuleGenerator(data){return"graticule"in data}let DataSourceType;(function(DataSourceType){DataSourceType[DataSourceType["Raw"]=0]="Raw";DataSourceType[DataSourceType["Main"]=1]="Main";DataSourceType[DataSourceType["Row"]=2]="Row";DataSourceType[DataSourceType["Column"]=3]="Column";DataSourceType[DataSourceType["Lookup"]=4]="Lookup"})(DataSourceType||(DataSourceType={}));function isFilter(t){return"filter"in t}function isImputeSequence(t){return(t===null||t===void 0?void 0:t["stop"])!==undefined}function isLookup(t){return"lookup"in t}function isLookupData(from){return"data"in from}function isLookupSelection(from){return"selection"in from}function isPivot(t){return"pivot"in t}function isDensity(t){return"density"in t}function isQuantile(t){return"quantile"in t}function isRegression(t){return"regression"in t}function isLoess(t){return"loess"in t}function isSample(t){return"sample"in t}function isWindow(t){return"window"in t}function isJoinAggregate(t){return"joinaggregate"in t}function isFlatten(t){return"flatten"in t}function isCalculate(t){return"calculate"in t}function isBin(t){return"bin"in t}function isImpute(t){return"impute"in t}function isTimeUnit(t){return"timeUnit"in t}function isAggregate$1(t){return"aggregate"in t}function isStack(t){return"stack"in t}function isFold(t){return"fold"in t}function normalizeTransform(transform){return transform.map(t=>{if(isFilter(t)){return{filter:normalizeLogicalComposition(t.filter,normalizePredicate)}}return t})}const VIEW="view",LBRACK="[",RBRACK="]",LBRACE="{",RBRACE="}",COLON=":",COMMA=",",NAME="@",GT=">",ILLEGAL=/[[\]{}]/,DEFAULT_MARKS={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let DEFAULT_SOURCE,MARKS;function eventSelector(selector,source,marks){DEFAULT_SOURCE=source||VIEW;MARKS=marks||DEFAULT_MARKS;return parseMerge(selector.trim()).map(parseSelector)}function isMarkType(type){return MARKS[type]}function find(s,i,endChar,pushChar,popChar){const n=s.length;let count=0,c;for(;i<n;++i){c=s[i];if(!count&&c===endChar)return i;else if(popChar&&popChar.indexOf(c)>=0)--count;else if(pushChar&&pushChar.indexOf(c)>=0)++count}return i}function parseMerge(s){const output=[],n=s.length;let start=0,i=0;while(i<n){i=find(s,i,COMMA,LBRACK+LBRACE,RBRACK+RBRACE);output.push(s.substring(start,i).trim());start=++i}if(output.length===0){throw"Empty event selector: "+s}return output}function parseSelector(s){return s[0]==="["?parseBetween(s):parseStream(s)}function parseBetween(s){const n=s.length;let i=1,b;i=find(s,i,RBRACK,LBRACK,RBRACK);if(i===n){throw"Empty between selector: "+s}b=parseMerge(s.substring(1,i));if(b.length!==2){throw"Between selector must have two elements: "+s}s=s.slice(i+1).trim();if(s[0]!==GT){throw"Expected '>' after between selector: "+s}b=b.map(parseSelector);const stream=parseSelector(s.slice(1).trim());if(stream.between){return{between:b,stream:stream}}else{stream.between=b}return stream}function parseStream(s){const stream={source:DEFAULT_SOURCE},source=[];let throttle=[0,0],markname=0,start=0,n=s.length,i=0,j,filter;if(s[n-1]===RBRACE){i=s.lastIndexOf(LBRACE);if(i>=0){try{throttle=parseThrottle(s.substring(i+1,n-1))}catch(e){throw"Invalid throttle specification: "+s}s=s.slice(0,i).trim();n=s.length}else throw"Unmatched right brace: "+s;i=0}if(!n)throw s;if(s[0]===NAME)markname=++i;j=find(s,i,COLON);if(j<n){source.push(s.substring(start,j).trim());start=i=++j}i=find(s,i,LBRACK);if(i===n){source.push(s.substring(start,n).trim())}else{source.push(s.substring(start,i).trim());filter=[];start=++i;if(start===n)throw"Unmatched left bracket: "+s}while(i<n){i=find(s,i,RBRACK);if(i===n)throw"Unmatched left bracket: "+s;filter.push(s.substring(start,i).trim());if(i<n-1&&s[++i]!==LBRACK)throw"Expected left bracket: "+s;start=++i}if(!(n=source.length)||ILLEGAL.test(source[n-1])){throw"Invalid event selector: "+s}if(n>1){stream.type=source[1];if(markname){stream.markname=source[0].slice(1)}else if(isMarkType(source[0])){stream.marktype=source[0]}else{stream.source=source[0]}}else{stream.type=source[0]}if(stream.type.slice(-1)==="!"){stream.consume=true;stream.type=stream.type.slice(0,-1)}if(filter!=null)stream.filter=filter;if(throttle[0])stream.throttle=throttle[0];if(throttle[1])stream.debounce=throttle[1];return stream}function parseThrottle(s){const a=s.split(COMMA);if(!s.length||a.length>2)throw s;return a.map(_=>{const x=+_;if(x!==x)throw s;return x})}function wrapCondition(model,channelDef,vgChannel,refFn){const condition=isConditionalDef(channelDef)&&channelDef.condition;const valueRef=refFn(channelDef);if(condition){const conditions=array(condition);const vgConditions=conditions.map(c=>{const conditionValueRef=refFn(c);const test=isConditionalSelection(c)?parseSelectionPredicate(model,c.selection):expression(model,c.test);return{test:test,...conditionValueRef}});return{[vgChannel]:[...vgConditions,...valueRef!==undefined?[valueRef]:[]]}}else{return valueRef!==undefined?{[vgChannel]:valueRef}:{}}}function text(model,channel="text"){const channelDef=model.encoding[channel];return wrapCondition(model,channelDef,channel,cDef=>textRef(cDef,model.config))}function textRef(channelDef,config,expr="datum"){if(channelDef){if(isValueDef(channelDef)){return signalOrValueRef(channelDef.value)}if(isFieldOrDatumDef(channelDef)){const{format:format,formatType:formatType}=getFormatMixins(channelDef);return formatSignalRef({fieldOrDatumDef:channelDef,format:format,formatType:formatType,expr:expr,config:config})}}return undefined}function tooltip(model,opt={}){const{encoding:encoding,markDef:markDef,config:config,stack:stack}=model;const channelDef=encoding.tooltip;if(isArray(channelDef)){return{tooltip:tooltipRefForEncoding({tooltip:channelDef},stack,config,opt)}}else{const datum=opt.reactiveGeom?"datum.datum":"datum";return wrapCondition(model,channelDef,"tooltip",cDef=>{const tooltipRefFromChannelDef=textRef(cDef,config,datum);if(tooltipRefFromChannelDef){return tooltipRefFromChannelDef}if(cDef===null){return undefined}let markTooltip=getMarkPropOrConfig("tooltip",markDef,config);if(markTooltip===true){markTooltip={content:"encoding"}}if(isString(markTooltip)){return{value:markTooltip}}else if(isObject(markTooltip)){if(isSignalRef(markTooltip)){return markTooltip}else if(markTooltip.content==="encoding"){return tooltipRefForEncoding(encoding,stack,config,opt)}else{return{signal:datum}}}return undefined})}}function tooltipData(encoding,stack,config,{reactiveGeom:reactiveGeom}={}){const toSkip={};const expr=reactiveGeom?"datum.datum":"datum";const tuples=[];function add(fDef,channel){var _value;const mainChannel=getMainRangeChannel(channel);const fieldDef=isTypedFieldDef(fDef)?fDef:{...fDef,type:encoding[mainChannel].type};const title=fieldDef.title||defaultTitle(fieldDef,config);const key=array(title).join(", ");let value;if(isXorY(channel)){const channel2=channel==="x"?"x2":"y2";const fieldDef2=getFieldDef(encoding[channel2]);if(isBinned(fieldDef.bin)&&fieldDef2){const startField=vgField(fieldDef,{expr:expr});const endField=vgField(fieldDef2,{expr:expr});const{format:format,formatType:formatType}=getFormatMixins(fieldDef);value=binFormatExpression(startField,endField,format,formatType,config);toSkip[channel2]=true}else if(stack&&stack.fieldChannel===channel&&stack.offset==="normalize"){const{format:format,formatType:formatType}=getFormatMixins(fieldDef);value=formatSignalRef({fieldOrDatumDef:fieldDef,format:format,formatType:formatType,expr:expr,config:config,normalizeStack:true}).signal}}value=(_value=value)!==null&&_value!==void 0?_value:textRef(fieldDef,config,expr).signal;tuples.push({channel:channel,key:key,value:value})}forEach(encoding,(channelDef,channel)=>{if(isFieldDef(channelDef)){add(channelDef,channel)}else if(hasConditionalFieldDef(channelDef)){add(channelDef.condition,channel)}});const out={};for(const{channel:channel,key:key,value:value}of tuples){if(!toSkip[channel]&&!out[key]){out[key]=value}}return out}function tooltipRefForEncoding(encoding,stack,config,{reactiveGeom:reactiveGeom}={}){const data=tooltipData(encoding,stack,config,{reactiveGeom:reactiveGeom});const keyValues=entries(data).map(([key,value])=>'"'.concat(key,'": ').concat(value));return keyValues.length>0?{signal:"{".concat(keyValues.join(", "),"}")}:undefined}function aria(model){const{markDef:markDef,config:config}=model;const enableAria=getMarkPropOrConfig("aria",markDef,config);if(enableAria===false){return{}}return{...enableAria?{aria:enableAria}:{},...ariaRoleDescription(model),...description(model)}}function ariaRoleDescription(model){const{mark:mark,markDef:markDef,config:config}=model;if(config.aria===false){return{}}const ariaRoleDesc=getMarkPropOrConfig("ariaRoleDescription",markDef,config);if(ariaRoleDesc!=null){return{ariaRoleDescription:{value:ariaRoleDesc}}}return mark in VG_MARK_INDEX?{}:{ariaRoleDescription:{value:mark}}}function description(model){const{encoding:encoding,markDef:markDef,config:config,stack:stack}=model;const channelDef=encoding.description;if(channelDef){return wrapCondition(model,channelDef,"description",cDef=>textRef(cDef,model.config))}const descriptionValue=getMarkPropOrConfig("description",markDef,config);if(descriptionValue!=null){return{description:signalOrValueRef(descriptionValue)}}if(config.aria===false){return{}}const data=tooltipData(encoding,stack,config);if(isEmpty(data)){return undefined}return{description:{signal:entries(data).map(([key,value],index)=>'"'.concat(index>0?"; ":"").concat(key,': " + (').concat(value,")")).join(" + ")}}}function nonPosition(channel,model,opt={}){const{markDef:markDef,encoding:encoding,config:config}=model;const{vgChannel:vgChannel}=opt;let{defaultRef:defaultRef,defaultValue:defaultValue}=opt;if(defaultRef===undefined){var _defaultValue;defaultValue=(_defaultValue=defaultValue)!==null&&_defaultValue!==void 0?_defaultValue:getMarkPropOrConfig(channel,markDef,config,{vgChannel:vgChannel,ignoreVgConfig:true});if(defaultValue!==undefined){defaultRef=signalOrValueRef(defaultValue)}}const channelDef=encoding[channel];return wrapCondition(model,channelDef,vgChannel!==null&&vgChannel!==void 0?vgChannel:channel,cDef=>midPoint({channel:channel,channelDef:cDef,markDef:markDef,config:config,scaleName:model.scaleName(channel),scale:model.getScaleComponent(channel),stack:null,defaultRef:defaultRef}))}function color(model,opt={filled:undefined}){var _opt$filled,_ref,_getMarkPropOrConfig,_getMarkPropOrConfig2;const{markDef:markDef,encoding:encoding,config:config}=model;const{type:markType}=markDef;const filled=(_opt$filled=opt.filled)!==null&&_opt$filled!==void 0?_opt$filled:getMarkPropOrConfig("filled",markDef,config);const transparentIfNeeded=contains(["bar","point","circle","square","geoshape"],markType)?"transparent":undefined;const defaultFill=(_ref=(_getMarkPropOrConfig=getMarkPropOrConfig(filled===true?"color":undefined,markDef,config,{vgChannel:"fill"}))!==null&&_getMarkPropOrConfig!==void 0?_getMarkPropOrConfig:config.mark[filled===true&&"color"])!==null&&_ref!==void 0?_ref:transparentIfNeeded;const defaultStroke=(_getMarkPropOrConfig2=getMarkPropOrConfig(filled===false?"color":undefined,markDef,config,{vgChannel:"stroke"}))!==null&&_getMarkPropOrConfig2!==void 0?_getMarkPropOrConfig2:config.mark[filled===false&&"color"];const colorVgChannel=filled?"fill":"stroke";const fillStrokeMarkDefAndConfig={...defaultFill?{fill:signalOrValueRef(defaultFill)}:{},...defaultStroke?{stroke:signalOrValueRef(defaultStroke)}:{}};if(markDef.color&&(filled?markDef.fill:markDef.stroke)){warn(droppingColor("property",{fill:"fill"in markDef,stroke:"stroke"in markDef}))}return{...fillStrokeMarkDefAndConfig,...nonPosition("color",model,{vgChannel:colorVgChannel,defaultValue:filled?defaultFill:defaultStroke}),...nonPosition("fill",model,{defaultValue:encoding.fill?defaultFill:undefined}),...nonPosition("stroke",model,{defaultValue:encoding.stroke?defaultStroke:undefined})}}function zindex(model){const{encoding:encoding,mark:mark}=model;const order=encoding.order;if(!isPathMark(mark)&&isValueDef(order)){return wrapCondition(model,order,"zindex",cd=>signalOrValueRef(cd.value))}return{}}function getOffset(channel,markDef){const offsetChannel=getOffsetChannel(channel);const markDefOffsetValue=markDef[offsetChannel];if(markDefOffsetValue){return markDefOffsetValue}return undefined}function pointPosition(channel,model,{defaultPos:defaultPos,vgChannel:vgChannel,isMidPoint:isMidPoint}){const{encoding:encoding,markDef:markDef,config:config,stack:stack}=model;const channelDef=encoding[channel];const channel2Def=encoding[getSecondaryRangeChannel(channel)];const scaleName=model.scaleName(channel);const scale=model.getScaleComponent(channel);const offset=getOffset(channel,markDef);const defaultRef=pointPositionDefaultRef({model:model,defaultPos:defaultPos,channel:channel,scaleName:scaleName,scale:scale});const valueRef=!channelDef&&isXorY(channel)&&(encoding.latitude||encoding.longitude)?{field:model.getName(channel)}:positionRef({channel:channel,channelDef:channelDef,channel2Def:channel2Def,markDef:markDef,config:config,isMidPoint:isMidPoint,scaleName:scaleName,scale:scale,stack:stack,offset:offset,defaultRef:defaultRef});return valueRef?{[vgChannel||channel]:valueRef}:undefined}function positionRef(params){const{channel:channel,channelDef:channelDef,isMidPoint:isMidPoint,scaleName:scaleName,stack:stack,offset:offset,markDef:markDef,config:config}=params;if(isFieldOrDatumDef(channelDef)&&stack&&channel===stack.fieldChannel){if(isFieldDef(channelDef)){const band=getBand({channel:channel,fieldDef:channelDef,isMidPoint:isMidPoint,markDef:markDef,stack:stack,config:config});if(band!==undefined){return interpolatedSignalRef({scaleName:scaleName,fieldOrDatumDef:channelDef,startSuffix:"start",band:band,offset:offset})}}return valueRefForFieldOrDatumDef(channelDef,scaleName,{suffix:"end"},{offset:offset})}return midPointRefWithPositionInvalidTest(params)}function pointPositionDefaultRef({model:model,defaultPos:defaultPos,channel:channel,scaleName:scaleName,scale:scale}){const{markDef:markDef,config:config}=model;return()=>{const mainChannel=getMainRangeChannel(channel);const vgChannel=getVgPositionChannel(channel);const definedValueOrConfig=getMarkPropOrConfig(channel,markDef,config,{vgChannel:vgChannel});if(definedValueOrConfig!==undefined){return widthHeightValueOrSignalRef(channel,definedValueOrConfig)}switch(defaultPos){case"zeroOrMin":case"zeroOrMax":if(scaleName){const scaleType=scale.get("type");if(contains([ScaleType.LOG,ScaleType.TIME,ScaleType.UTC],scaleType));else{if(scale.domainDefinitelyIncludesZero()){return{scale:scaleName,value:0}}}}if(defaultPos==="zeroOrMin"){return mainChannel==="y"?{field:{group:"height"}}:{value:0}}else{switch(mainChannel){case"radius":return{signal:"min(".concat(model.width.signal,",").concat(model.height.signal,")/2")};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}}break;case"mid":{const sizeRef=model[getSizeChannel(channel)];return{...sizeRef,mult:.5}}}return undefined}}const ALIGNED_X_CHANNEL={left:"x",center:"xc",right:"x2"};const BASELINED_Y_CHANNEL={top:"y",middle:"yc",bottom:"y2"};function vgAlignedPositionChannel(channel,markDef,config,defaultAlign="middle"){if(channel==="radius"||channel==="theta"){return getVgPositionChannel(channel)}const alignChannel=channel==="x"?"align":"baseline";const align=getMarkPropOrConfig(alignChannel,markDef,config);let alignExcludingSignal;if(isSignalRef(align)){warn(rangeMarkAlignmentCannotBeExpression(alignChannel));alignExcludingSignal=undefined}else{alignExcludingSignal=align}if(channel==="x"){return ALIGNED_X_CHANNEL[alignExcludingSignal||(defaultAlign==="top"?"left":"center")]}else{return BASELINED_Y_CHANNEL[alignExcludingSignal||defaultAlign]}}function pointOrRangePosition(channel,model,{defaultPos:defaultPos,defaultPos2:defaultPos2,range:range}){if(range){return rangePosition(channel,model,{defaultPos:defaultPos,defaultPos2:defaultPos2})}return pointPosition(channel,model,{defaultPos:defaultPos})}function rangePosition(channel,model,{defaultPos:defaultPos,defaultPos2:defaultPos2}){const{markDef:markDef,config:config}=model;const channel2=getSecondaryRangeChannel(channel);const sizeChannel=getSizeChannel(channel);const pos2Mixins=pointPosition2OrSize(model,defaultPos2,channel2);const vgChannel=pos2Mixins[sizeChannel]?vgAlignedPositionChannel(channel,markDef,config):getVgPositionChannel(channel);return{...pointPosition(channel,model,{defaultPos:defaultPos,vgChannel:vgChannel}),...pos2Mixins}}function pointPosition2OrSize(model,defaultPos,channel){const{encoding:encoding,mark:mark,markDef:markDef,stack:stack,config:config}=model;const baseChannel=getMainRangeChannel(channel);const sizeChannel=getSizeChannel(channel);const vgChannel=getVgPositionChannel(channel);const channelDef=encoding[baseChannel];const scaleName=model.scaleName(baseChannel);const scale=model.getScaleComponent(baseChannel);const offset=channel in encoding||channel in markDef?getOffset(channel,model.markDef):getOffset(baseChannel,model.markDef);if(!channelDef&&(channel==="x2"||channel==="y2")&&(encoding.latitude||encoding.longitude)){return{[vgChannel]:{field:model.getName(channel)}}}const valueRef=position2Ref({channel:channel,channelDef:channelDef,channel2Def:encoding[channel],markDef:markDef,config:config,scaleName:scaleName,scale:scale,stack:stack,offset:offset,defaultRef:undefined});if(valueRef!==undefined){return{[vgChannel]:valueRef}}return position2orSize(channel,markDef)||position2orSize(channel,{[channel]:getMarkStyleConfig(channel,markDef,config.style),[sizeChannel]:getMarkStyleConfig(sizeChannel,markDef,config.style)})||position2orSize(channel,config[mark])||position2orSize(channel,config.mark)||{[vgChannel]:pointPositionDefaultRef({model:model,defaultPos:defaultPos,channel:channel,scaleName:scaleName,scale:scale})()}}function position2Ref({channel:channel,channelDef:channelDef,channel2Def:channel2Def,markDef:markDef,config:config,scaleName:scaleName,scale:scale,stack:stack,offset:offset,defaultRef:defaultRef}){if(isFieldOrDatumDef(channelDef)&&stack&&channel.charAt(0)===stack.fieldChannel.charAt(0)){return valueRefForFieldOrDatumDef(channelDef,scaleName,{suffix:"start"},{offset:offset})}return midPointRefWithPositionInvalidTest({channel:channel,channelDef:channel2Def,scaleName:scaleName,scale:scale,stack:stack,markDef:markDef,config:config,offset:offset,defaultRef:defaultRef})}function position2orSize(channel,markDef){const sizeChannel=getSizeChannel(channel);const vgChannel=getVgPositionChannel(channel);if(markDef[vgChannel]!==undefined){return{[vgChannel]:widthHeightValueOrSignalRef(channel,markDef[vgChannel])}}else if(markDef[channel]!==undefined){return{[vgChannel]:widthHeightValueOrSignalRef(channel,markDef[channel])}}else if(markDef[sizeChannel]){return{[sizeChannel]:widthHeightValueOrSignalRef(channel,markDef[sizeChannel])}}return undefined}function rectPosition(model,channel,mark){var _ref,_encoding$sizeChannel;const{config:config,encoding:encoding,markDef:markDef,stack:stack}=model;const channel2=getSecondaryRangeChannel(channel);const sizeChannel=getSizeChannel(channel);const channelDef=encoding[channel];const channelDef2=encoding[channel2];const scale=model.getScaleComponent(channel);const scaleType=scale?scale.get("type"):undefined;const scaleName=model.scaleName(channel);const orient=markDef.orient;const hasSizeDef=(_ref=(_encoding$sizeChannel=encoding[sizeChannel])!==null&&_encoding$sizeChannel!==void 0?_encoding$sizeChannel:encoding.size)!==null&&_ref!==void 0?_ref:getMarkPropOrConfig("size",markDef,config,{vgChannel:sizeChannel});const isBarBand=mark==="bar"&&(channel==="x"?orient==="vertical":orient==="horizontal");if(isFieldDef(channelDef)&&(isBinning(channelDef.bin)||isBinned(channelDef.bin)||channelDef.timeUnit&&!channelDef2)&&!hasSizeDef&&!hasDiscreteDomain(scaleType)){var _model$component$axes,_axis$get;const band=getBand({channel:channel,fieldDef:channelDef,stack:stack,markDef:markDef,config:config});const axis=(_model$component$axes=model.component.axes[channel])===null||_model$component$axes===void 0?void 0:_model$component$axes[0];const axisTranslate=(_axis$get=axis===null||axis===void 0?void 0:axis.get("translate"))!==null&&_axis$get!==void 0?_axis$get:.5;return rectBinPosition({fieldDef:channelDef,fieldDef2:channelDef2,channel:channel,markDef:markDef,scaleName:scaleName,band:band,axisTranslate:axisTranslate,spacing:isXorY(channel)?getMarkPropOrConfig("binSpacing",markDef,config):undefined,reverse:scale.get("reverse"),config:config})}else if((isFieldOrDatumDef(channelDef)&&hasDiscreteDomain(scaleType)||isBarBand)&&!channelDef2){return positionAndSize(mark,channelDef,channel,model)}else{return rangePosition(channel,model,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}}function defaultSizeRef(mark,sizeChannel,scaleName,scale,config,band){if(scale){const scaleType=scale.get("type");if(scaleType==="point"||scaleType==="band"){if(config[mark].discreteBandSize!==undefined){return{value:config[mark].discreteBandSize}}if(scaleType===ScaleType.POINT){const scaleRange=scale.get("range");if(isVgRangeStep(scaleRange)&&isNumber(scaleRange.step)){return{value:scaleRange.step-2}}return{value:DEFAULT_STEP-2}}else{return{scale:scaleName,band:band}}}else{return{value:config[mark].continuousBandSize}}}const step=getViewConfigDiscreteStep(config.view,sizeChannel);const value=getFirstDefined(config[mark].discreteBandSize,step-2);return value!==undefined?{value:value}:undefined}function positionAndSize(mark,fieldDef,channel,model){var _ref2;const{markDef:markDef,encoding:encoding,config:config,stack:stack}=model;const orient=markDef.orient;const scaleName=model.scaleName(channel);const scale=model.getScaleComponent(channel);const vgSizeChannel=getSizeChannel(channel);const channel2=getSecondaryRangeChannel(channel);const useVlSizeChannel=orient==="horizontal"&&channel==="y"||orient==="vertical"&&channel==="x";const sizeFromMarkOrConfig=getMarkPropOrConfig(useVlSizeChannel?"size":vgSizeChannel,markDef,config,{vgChannel:vgSizeChannel});let sizeMixins;if(encoding.size||sizeFromMarkOrConfig!==undefined){if(useVlSizeChannel){sizeMixins=nonPosition("size",model,{vgChannel:vgSizeChannel,defaultValue:sizeFromMarkOrConfig})}else{warn(cannotApplySizeToNonOrientedMark(markDef.type))}}const band=(_ref2=isFieldOrDatumDef(fieldDef)?getBand({channel:channel,fieldDef:fieldDef,markDef:markDef,stack:stack,config:config}):undefined)!==null&&_ref2!==void 0?_ref2:1;sizeMixins=sizeMixins||{[vgSizeChannel]:defaultSizeRef(mark,vgSizeChannel,scaleName,scale,config,band)};const center=(scale===null||scale===void 0?void 0:scale.get("type"))!=="band"||!("band"in sizeMixins[vgSizeChannel]);const vgChannel=vgAlignedPositionChannel(channel,markDef,config,center?"middle":"top");const offset=getOffset(channel,markDef);const posRef=midPointRefWithPositionInvalidTest({channel:channel,channelDef:fieldDef,markDef:markDef,config:config,scaleName:scaleName,scale:scale,stack:stack,offset:offset,defaultRef:pointPositionDefaultRef({model:model,defaultPos:"mid",channel:channel,scaleName:scaleName,scale:scale}),band:center?.5:(1-band)/2});if(vgSizeChannel){return{[vgChannel]:posRef,...sizeMixins}}else{const vgChannel2=getVgPositionChannel(channel2);const sizeRef=sizeMixins[vgSizeChannel];const sizeOffset=offset?{...sizeRef,offset:offset}:sizeRef;return{[vgChannel]:posRef,[vgChannel2]:isArray(posRef)?[posRef[0],{...posRef[1],offset:sizeOffset}]:{...posRef,offset:sizeOffset}}}}function getBinSpacing(channel,spacing,reverse,translate,offset){if(isPolarPositionChannel(channel)){return 0}const spacingOffset=channel==="x"||channel==="y2"?-spacing/2:spacing/2;if(isSignalRef(reverse)||isSignalRef(offset)||isSignalRef(translate)){const reverseExpr=signalOrStringValue(reverse);const offsetExpr=signalOrStringValue(offset);const translateExpr=signalOrStringValue(translate);const t=translateExpr?"".concat(translateExpr," + "):"";const r=reverseExpr?"(".concat(reverseExpr," ? -1 : 1) * "):"";const o=offsetExpr?"(".concat(offsetExpr," + ").concat(spacingOffset,")"):spacingOffset;return{signal:t+r+o}}else{offset=offset||0;return translate+(reverse?-offset-spacingOffset:+offset+spacingOffset)}}function rectBinPosition({fieldDef:fieldDef,fieldDef2:fieldDef2,channel:channel,band:band,scaleName:scaleName,markDef:markDef,spacing:spacing=0,axisTranslate:axisTranslate,reverse:reverse,config:config}){const channel2=getSecondaryRangeChannel(channel);const vgChannel=getVgPositionChannel(channel);const vgChannel2=getVgPositionChannel(channel2);const offset=getOffset(channel,markDef);if(isBinning(fieldDef.bin)||fieldDef.timeUnit){return{[vgChannel2]:rectBinRef({channel:channel,fieldDef:fieldDef,scaleName:scaleName,markDef:markDef,band:(1-band)/2,offset:getBinSpacing(channel2,spacing,reverse,axisTranslate,offset),config:config}),[vgChannel]:rectBinRef({channel:channel,fieldDef:fieldDef,scaleName:scaleName,markDef:markDef,band:1-(1-band)/2,offset:getBinSpacing(channel,spacing,reverse,axisTranslate,offset),config:config})}}else if(isBinned(fieldDef.bin)){const startRef=valueRefForFieldOrDatumDef(fieldDef,scaleName,{},{offset:getBinSpacing(channel2,spacing,reverse,axisTranslate,offset)});if(isFieldDef(fieldDef2)){return{[vgChannel2]:startRef,[vgChannel]:valueRefForFieldOrDatumDef(fieldDef2,scaleName,{},{offset:getBinSpacing(channel,spacing,reverse,axisTranslate,offset)})}}else if(isBinParams(fieldDef.bin)&&fieldDef.bin.step){return{[vgChannel2]:startRef,[vgChannel]:{signal:'scale("'.concat(scaleName,'", ').concat(vgField(fieldDef,{expr:"datum"})," + ").concat(fieldDef.bin.step,")"),offset:getBinSpacing(channel,spacing,reverse,axisTranslate,offset)}}}}warn(channelRequiredForBinned(channel2));return undefined}function rectBinRef({channel:channel,fieldDef:fieldDef,scaleName:scaleName,markDef:markDef,band:band,offset:offset,config:config}){const r=interpolatedSignalRef({scaleName:scaleName,fieldOrDatumDef:fieldDef,band:band,offset:offset});return wrapPositionInvalidTest({fieldDef:fieldDef,channel:channel,markDef:markDef,ref:r,config:config})}const ALWAYS_IGNORE=new Set(["aria"]);function baseEncodeEntry(model,ignore){const{fill:fill=undefined,stroke:stroke=undefined}=ignore.color==="include"?color(model):{};return{...markDefProperties(model.markDef,ignore),...wrapAllFieldsInvalid(model,"fill",fill),...wrapAllFieldsInvalid(model,"stroke",stroke),...nonPosition("opacity",model),...nonPosition("fillOpacity",model),...nonPosition("strokeOpacity",model),...nonPosition("strokeWidth",model),...nonPosition("strokeDash",model),...zindex(model),...tooltip(model),...text(model,"href"),...aria(model)}}function wrapAllFieldsInvalid(model,channel,valueRef){const{config:config,mark:mark,markDef:markDef}=model;const invalid=getMarkPropOrConfig("invalid",markDef,config);if(invalid==="hide"&&valueRef&&!isPathMark(mark)){const test=allFieldsInvalidPredicate(model,{invalid:true,channels:SCALE_CHANNELS});if(test){return{[channel]:[{test:test,value:null},...array(valueRef)]}}}return valueRef?{[channel]:valueRef}:{}}function markDefProperties(mark,ignore){return VG_MARK_CONFIGS.reduce((m,prop)=>{if(!ALWAYS_IGNORE.has(prop)&&mark[prop]!==undefined&&ignore[prop]!=="ignore"){m[prop]=signalOrValueRef(mark[prop])}return m},{})}function allFieldsInvalidPredicate(model,{invalid:invalid=false,channels:channels}){const filterIndex=channels.reduce((aggregator,channel)=>{const scaleComponent=model.getScaleComponent(channel);if(scaleComponent){const scaleType=scaleComponent.get("type");const field=model.vgField(channel,{expr:"datum"});if(field&&hasContinuousDomain(scaleType)){aggregator[field]=true}}return aggregator},{});const fields=keys(filterIndex);if(fields.length>0){const op=invalid?"||":"&&";return fields.map(field=>fieldInvalidPredicate(field,invalid)).join(" ".concat(op," "))}return undefined}function defined(model){const{config:config,markDef:markDef}=model;const invalid=getMarkPropOrConfig("invalid",markDef,config);if(invalid){const signal=allFieldsInvalidPredicate$1(model,{channels:POSITION_SCALE_CHANNELS});if(signal){return{defined:{signal:signal}}}}return{}}function allFieldsInvalidPredicate$1(model,{invalid:invalid=false,channels:channels}){const filterIndex=channels.reduce((aggregator,channel)=>{const scaleComponent=model.getScaleComponent(channel);if(scaleComponent){const scaleType=scaleComponent.get("type");const field=model.vgField(channel,{expr:"datum"});if(field&&hasContinuousDomain(scaleType)){aggregator[field]=true}}return aggregator},{});const fields=keys(filterIndex);if(fields.length>0){const op=invalid?"||":"&&";return fields.map(field=>fieldInvalidPredicate(field,invalid)).join(" ".concat(op," "))}return undefined}function valueIfDefined(prop,value){if(value!==undefined){return{[prop]:signalOrValueRef(value)}}return undefined}const VORONOI="voronoi";const nearest={has:selCmpt=>selCmpt.type!=="interval"&&selCmpt.nearest,parse:(model,selCmpt)=>{if(selCmpt.events){for(const s of selCmpt.events){s.markname=model.getName(VORONOI)}}},marks:(model,selCmpt,marks)=>{const{x:x,y:y}=selCmpt.project.hasChannel;const markType=model.mark;if(isPathMark(markType)){warn(nearestNotSupportForContinuous(markType));return marks}const cellDef={name:model.getName(VORONOI),type:"path",interactive:true,from:{data:model.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:true},...tooltip(model,{reactiveGeom:true})}},transform:[{type:"voronoi",x:{expr:x||!y?"datum.datum.x || 0":"0"},y:{expr:y||!x?"datum.datum.y || 0":"0"},size:[model.getSizeSignalRef("width"),model.getSizeSignalRef("height")]}]};let index=0;let exists=false;marks.forEach((mark,i)=>{var _mark$name;const name=(_mark$name=mark.name)!==null&&_mark$name!==void 0?_mark$name:"";if(name===model.component.mark[0].name){index=i}else if(name.indexOf(VORONOI)>=0){exists=true}});if(!exists){marks.splice(index+1,0,cellDef)}return marks}};class DataFlowNode{constructor(parent,debugName){this.debugName=debugName;_defineProperty(this,"_children",[]);_defineProperty(this,"_parent",null);_defineProperty(this,"_hash",void 0);if(parent){this.parent=parent}}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(parent){this._parent=parent;if(parent){parent.addChild(this)}}get children(){return this._children}numChildren(){return this._children.length}addChild(child,loc){if(this._children.indexOf(child)>-1){warn(ADD_SAME_CHILD_TWICE);return}if(loc!==undefined){this._children.splice(loc,0,child)}else{this._children.push(child)}}removeChild(oldChild){const loc=this._children.indexOf(oldChild);this._children.splice(loc,1);return loc}remove(){let loc=this._parent.removeChild(this);for(const child of this._children){child._parent=this._parent;this._parent.addChild(child,loc++)}}insertAsParentOf(other){const parent=other.parent;parent.removeChild(this);this.parent=parent;other.parent=this}swapWithParent(){const parent=this._parent;const newParent=parent.parent;for(const child of this._children){child.parent=parent}this._children=[];parent.removeChild(this);parent.parent.removeChild(parent);this.parent=newParent;parent.parent=this}}class OutputNode extends DataFlowNode{clone(){const cloneObj=new this.constructor;cloneObj.debugName="clone_"+this.debugName;cloneObj._source=this._source;cloneObj._name="clone_"+this._name;cloneObj.type=this.type;cloneObj.refCounts=this.refCounts;cloneObj.refCounts[cloneObj._name]=0;return cloneObj}constructor(parent,source,type,refCounts){super(parent,source);this.type=type;this.refCounts=refCounts;_defineProperty(this,"_source",void 0);_defineProperty(this,"_name",void 0);this._source=this._name=source;if(this.refCounts&&!(this._name in this.refCounts)){this.refCounts[this._name]=0}}dependentFields(){return new Set}producedFields(){return new Set}hash(){if(this._hash===undefined){this._hash="Output ".concat(uniqueId())}return this._hash}getSource(){this.refCounts[this._name]++;return this._source}isRequired(){return!!this.refCounts[this._name]}setSource(source){this._source=source}}class TimeUnitNode extends DataFlowNode{clone(){return new TimeUnitNode(null,duplicate(this.formula))}constructor(parent,formula){super(parent);this.formula=formula}static makeFromEncoding(parent,model){const formula=model.reduceFieldDef((timeUnitComponent,fieldDef,channel)=>{const{field:field,timeUnit:timeUnit}=fieldDef;const channelDef2=isUnitModel(model)?model.encoding[getSecondaryRangeChannel(channel)]:undefined;const band=isUnitModel(model)&&hasBand(channel,fieldDef,channelDef2,model.stack,model.markDef,model.config);if(timeUnit){const as=vgField(fieldDef,{forAs:true});timeUnitComponent[hash({as:as,field:field,timeUnit:timeUnit})]={as:as,field:field,timeUnit:timeUnit,...band?{band:true}:{}}}return timeUnitComponent},{});if(isEmpty(formula)){return null}return new TimeUnitNode(parent,formula)}static makeFromTransform(parent,t){const{timeUnit:timeUnit,...other}={...t};const normalizedTimeUnit=normalizeTimeUnit(timeUnit);const component={...other,timeUnit:normalizedTimeUnit};return new TimeUnitNode(parent,{[hash(component)]:component})}merge(other){this.formula={...this.formula};for(const key in other.formula){if(!this.formula[key]||other.formula[key].band){this.formula[key]=other.formula[key]}}for(const child of other.children){other.removeChild(child);child.parent=this}other.remove()}removeFormulas(fields){const newFormula={};for(const[key,timeUnit]of entries(this.formula)){if(!fields.has(timeUnit.as)){newFormula[key]=timeUnit}}this.formula=newFormula}producedFields(){return new Set(vals(this.formula).map(f=>f.as))}dependentFields(){return new Set(vals(this.formula).map(f=>f.field))}hash(){return"TimeUnit ".concat(hash(this.formula))}assemble(){const transforms=[];for(const f of vals(this.formula)){const{field:field,as:as,timeUnit:timeUnit}=f;const{unit:unit,utc:utc,...params}=normalizeTimeUnit(timeUnit);transforms.push({field:replacePathInField(field),type:"timeunit",...unit?{units:getTimeUnitParts(unit)}:{},...utc?{timezone:"utc"}:{},...params,as:[as,"".concat(as,"_end")]})}return transforms}}const TUPLE_FIELDS="_tuple_fields";class SelectionProjectionComponent{constructor(...items){_defineProperty(this,"hasChannel",void 0);_defineProperty(this,"hasField",void 0);_defineProperty(this,"timeUnit",void 0);_defineProperty(this,"items",void 0);this.items=items;this.hasChannel={};this.hasField={}}}const project={has:()=>true,parse:(model,selCmpt,selDef)=>{var _selCmpt$project;const name=selCmpt.name;const proj=(_selCmpt$project=selCmpt.project)!==null&&_selCmpt$project!==void 0?_selCmpt$project:selCmpt.project=new SelectionProjectionComponent;const parsed={};const timeUnits={};const signals=new Set;const signalName=(p,range)=>{const suffix=range==="visual"?p.channel:p.field;let sg=varName("".concat(name,"_").concat(suffix));for(let counter=1;signals.has(sg);counter++){sg=varName("".concat(name,"_").concat(suffix,"_").concat(counter))}signals.add(sg);return{[range]:sg}};if(!selDef.fields&&!selDef.encodings){const cfg=model.config.selection[selDef.type];if(selDef.init){for(const init of array(selDef.init)){for(const key of keys(init)){if(isSingleDefUnitChannel(key)){(selDef.encodings||(selDef.encodings=[])).push(key)}else{if(selDef.type==="interval"){warn(INTERVAL_INITIALIZED_WITH_X_Y);selDef.encodings=cfg.encodings}else{(selDef.fields||(selDef.fields=[])).push(key)}}}}}else{selDef.encodings=cfg.encodings;selDef.fields=cfg.fields}}for(const field of(_selDef$fields=selDef.fields)!==null&&_selDef$fields!==void 0?_selDef$fields:[]){var _selDef$fields;const p={type:"E",field:field};p.signals={...signalName(p,"data")};proj.items.push(p);proj.hasField[field]=p}for(const channel of(_selDef$encodings=selDef.encodings)!==null&&_selDef$encodings!==void 0?_selDef$encodings:[]){var _selDef$encodings;const fieldDef=model.fieldDef(channel);if(fieldDef){let field=fieldDef.field;if(fieldDef.aggregate){warn(cannotProjectAggregate(channel,fieldDef.aggregate));continue}else if(!field){warn(cannotProjectOnChannelWithoutField(channel));continue}if(fieldDef.timeUnit){field=model.vgField(channel);const component={timeUnit:fieldDef.timeUnit,as:field,field:fieldDef.field};timeUnits[hash(component)]=component}if(!parsed[field]){let type="E";if(selCmpt.type==="interval"){const scaleType=model.getScaleComponent(channel).get("type");if(hasContinuousDomain(scaleType)){type="R"}}else if(fieldDef.bin){type="R-RE"}const p={field:field,channel:channel,type:type};p.signals={...signalName(p,"data"),...signalName(p,"visual")};proj.items.push(parsed[field]=p);proj.hasField[field]=proj.hasChannel[channel]=parsed[field]}}else{warn(cannotProjectOnChannelWithoutField(channel))}}if(selDef.init){const parseInit=i=>proj.items.map(p=>i[p.channel]!==undefined?i[p.channel]:i[p.field]);if(selDef.type==="interval"){selCmpt.init=parseInit(selDef.init)}else{const init=array(selDef.init);selCmpt.init=init.map(parseInit)}}if(!isEmpty(timeUnits)){proj.timeUnit=new TimeUnitNode(null,timeUnits)}},signals:(model,selCmpt,allSignals)=>{const name=selCmpt.name+TUPLE_FIELDS;const hasSignal=allSignals.filter(s=>s.name===name);return hasSignal.length>0?allSignals:allSignals.concat({name:name,value:selCmpt.project.items.map(proj=>{const{signals:signals,hasLegend:hasLegend,...rest}=proj;rest.field=replacePathInField(rest.field);return rest})})}};const inputBindings={has:selCmpt=>selCmpt.type==="single"&&selCmpt.resolve==="global"&&selCmpt.bind&&selCmpt.bind!=="scales"&&!isLegendBinding(selCmpt.bind),parse:(model,selCmpt,selDef,origDef)=>{if(!origDef.on)delete selCmpt.events;if(!origDef.clear)delete selCmpt.clear},topLevelSignals:(model,selCmpt,signals)=>{const name=selCmpt.name;const proj=selCmpt.project;const bind=selCmpt.bind;const init=selCmpt.init&&selCmpt.init[0];const datum=nearest.has(selCmpt)?"(item().isVoronoi ? datum.datum : datum)":"datum";proj.items.forEach((p,i)=>{const sgname=varName("".concat(name,"_").concat(p.field));const hasSignal=signals.filter(s=>s.name===sgname);if(!hasSignal.length){var _ref,_bind$p$field;signals.unshift({name:sgname,...init?{init:assembleInit(init[i])}:{value:null},on:selCmpt.events?[{events:selCmpt.events,update:"datum && item().mark.marktype !== 'group' ? ".concat(datum,"[").concat($(p.field),"] : null")}]:[],bind:(_ref=(_bind$p$field=bind[p.field])!==null&&_bind$p$field!==void 0?_bind$p$field:bind[p.channel])!==null&&_ref!==void 0?_ref:bind})}});return signals},signals:(model,selCmpt,signals)=>{const name=selCmpt.name;const proj=selCmpt.project;const signal=signals.filter(s=>s.name===name+TUPLE)[0];const fields=name+TUPLE_FIELDS;const values=proj.items.map(p=>varName("".concat(name,"_").concat(p.field)));const valid=values.map(v=>"".concat(v," !== null")).join(" && ");if(values.length){signal.update="".concat(valid," ? {fields: ").concat(fields,", values: [").concat(values.join(", "),"]} : null")}delete signal.value;delete signal.on;return signals}};const TOGGLE="_toggle";const toggle={has:selCmpt=>selCmpt.type==="multi"&&!!selCmpt.toggle,signals:(model,selCmpt,signals)=>signals.concat({name:selCmpt.name+TOGGLE,value:false,on:[{events:selCmpt.events,update:selCmpt.toggle}]}),modifyExpr:(model,selCmpt)=>{const tpl=selCmpt.name+TUPLE;const signal=selCmpt.name+TOGGLE;return"".concat(signal," ? null : ").concat(tpl,", ")+(selCmpt.resolve==="global"?"".concat(signal," ? null : true, "):"".concat(signal," ? null : {unit: ").concat(unitName(model),"}, "))+"".concat(signal," ? ").concat(tpl," : null")}};const clear={has:selCmpt=>selCmpt.clear!==undefined&&selCmpt.clear!==false,parse:(model,selCmpt,selDef)=>{if(selDef.clear){selCmpt.clear=isString(selDef.clear)?eventSelector(selDef.clear,"scope"):selDef.clear}},topLevelSignals:(model,selCmpt,signals)=>{if(inputBindings.has(selCmpt)){for(const proj of selCmpt.project.items){const idx=signals.findIndex(n=>n.name===varName("".concat(selCmpt.name,"_").concat(proj.field)));if(idx!==-1){signals[idx].on.push({events:selCmpt.clear,update:"null"})}}}return signals},signals:(model,selCmpt,signals)=>{function addClear(idx,update){if(idx!==-1&&signals[idx].on){signals[idx].on.push({events:selCmpt.clear,update:update})}}if(selCmpt.type==="interval"){for(const proj of selCmpt.project.items){const vIdx=signals.findIndex(n=>n.name===proj.signals.visual);addClear(vIdx,"[0, 0]");if(vIdx===-1){const dIdx=signals.findIndex(n=>n.name===proj.signals.data);addClear(dIdx,"null")}}}else{let tIdx=signals.findIndex(n=>n.name===selCmpt.name+TUPLE);addClear(tIdx,"null");if(toggle.has(selCmpt)){tIdx=signals.findIndex(n=>n.name===selCmpt.name+TOGGLE);addClear(tIdx,"false")}}return signals}};const scaleBindings={has:selCmpt=>selCmpt.type==="interval"&&selCmpt.resolve==="global"&&selCmpt.bind&&selCmpt.bind==="scales",parse:(model,selCmpt)=>{const bound=selCmpt.scales=[];for(const proj of selCmpt.project.items){const channel=proj.channel;if(!isScaleChannel(channel)){continue}const scale=model.getScaleComponent(channel);const scaleType=scale?scale.get("type"):undefined;if(!scale||!hasContinuousDomain(scaleType)){warn(SCALE_BINDINGS_CONTINUOUS);continue}const extent={selection:selCmpt.name,field:proj.field};scale.set("selectionExtent",extent,true);bound.push(proj)}},topLevelSignals:(model,selCmpt,signals)=>{const bound=selCmpt.scales.filter(proj=>signals.filter(s=>s.name===proj.signals.data).length===0);if(!model.parent||isTopLevelLayer(model)||bound.length===0){return signals}const namedSg=signals.filter(s=>s.name===selCmpt.name)[0];let update=namedSg.update;if(update.indexOf(VL_SELECTION_RESOLVE)>=0){namedSg.update="{".concat(bound.map(proj=>"".concat($(proj.field),": ").concat(proj.signals.data)).join(", "),"}")}else{for(const proj of bound){const mapping="".concat($(proj.field),": ").concat(proj.signals.data);if(update.indexOf(mapping)<0){update="".concat(update.substring(0,update.length-1),", ").concat(mapping,"}")}}namedSg.update=update}return signals.concat(bound.map(proj=>({name:proj.signals.data})))},signals:(model,selCmpt,signals)=>{if(model.parent&&!isTopLevelLayer(model)){for(const proj of selCmpt.scales){const signal=signals.filter(s=>s.name===proj.signals.data)[0];signal.push="outer";delete signal.value;delete signal.update}}return signals}};function domain$1(model,channel){const scale=$(model.scaleName(channel));return"domain(".concat(scale,")")}function isTopLevelLayer(model){var _model$parent$parent;return model.parent&&isLayerModel(model.parent)&&((_model$parent$parent=!model.parent.parent)!==null&&_model$parent$parent!==void 0?_model$parent$parent:isTopLevelLayer(model.parent.parent))}const legendBindings={has:selCmpt=>{const spec=selCmpt.resolve==="global"&&selCmpt.bind&&isLegendBinding(selCmpt.bind);const projLen=selCmpt.project.items.length===1&&selCmpt.project.items[0].field!==SELECTION_ID;if(spec&&!projLen){warn(LEGEND_BINDINGS_MUST_HAVE_PROJECTION)}return spec&&projLen},parse:(model,selCmpt,selDef,origDef)=>{if(!origDef.on)delete selCmpt.events;if(!origDef.clear)delete selCmpt.clear;if(origDef.on||origDef.clear){const legendFilter='event.item && indexof(event.item.mark.role, "legend") < 0';for(const evt of selCmpt.events){var _evt$filter;evt.filter=array((_evt$filter=evt.filter)!==null&&_evt$filter!==void 0?_evt$filter:[]);if(evt.filter.indexOf(legendFilter)<0){evt.filter.push(legendFilter)}}}const evt=isLegendStreamBinding(selCmpt.bind)?selCmpt.bind.legend:"click";const stream=isString(evt)?eventSelector(evt,"view"):array(evt);selCmpt.bind={legend:{merge:stream}}},topLevelSignals:(model,selCmpt,signals)=>{const selName=selCmpt.name;const stream=isLegendStreamBinding(selCmpt.bind)&&selCmpt.bind.legend;const markName=name=>s=>{const ds=duplicate(s);ds.markname=name;return ds};for(const proj of selCmpt.project.items){if(!proj.hasLegend)continue;const prefix="".concat(varName(proj.field),"_legend");const sgName="".concat(selName,"_").concat(prefix);const hasSignal=signals.filter(s=>s.name===sgName);if(hasSignal.length===0){const events=stream.merge.map(markName("".concat(prefix,"_symbols"))).concat(stream.merge.map(markName("".concat(prefix,"_labels")))).concat(stream.merge.map(markName("".concat(prefix,"_entries"))));signals.unshift({name:sgName,...!selCmpt.init?{value:null}:{},on:[{events:events,update:"datum.value || item().items[0].items[0].datum.value",force:true},{events:stream.merge,update:"!event.item || !datum ? null : ".concat(sgName),force:true}]})}}return signals},signals:(model,selCmpt,signals)=>{const name=selCmpt.name;const proj=selCmpt.project;const tuple=signals.find(s=>s.name===name+TUPLE);const fields=name+TUPLE_FIELDS;const values=proj.items.filter(p=>p.hasLegend).map(p=>varName("".concat(name,"_").concat(varName(p.field),"_legend")));const valid=values.map(v=>"".concat(v," !== null")).join(" && ");const update="".concat(valid," ? {fields: ").concat(fields,", values: [").concat(values.join(", "),"]} : null");if(selCmpt.events&&values.length>0){tuple.on.push({events:values.map(signal=>({signal:signal})),update:update})}else if(values.length>0){tuple.update=update;delete tuple.value;delete tuple.on}const toggle=signals.find(s=>s.name===name+TOGGLE);const events=isLegendStreamBinding(selCmpt.bind)&&selCmpt.bind.legend;if(toggle){if(!selCmpt.events)toggle.on[0].events=events;else toggle.on.push({...toggle.on[0],events:events})}return signals}};function parseInteractiveLegend(model,channel,legendCmpt){var _model$fieldDef;const field=(_model$fieldDef=model.fieldDef(channel))===null||_model$fieldDef===void 0?void 0:_model$fieldDef.field;forEachSelection(model,selCmpt=>{var _selCmpt$project$hasF;const proj=(_selCmpt$project$hasF=selCmpt.project.hasField[field])!==null&&_selCmpt$project$hasF!==void 0?_selCmpt$project$hasF:selCmpt.project.hasChannel[channel];if(proj&&legendBindings.has(selCmpt)){var _legendCmpt$get;const legendSelections=(_legendCmpt$get=legendCmpt.get("selections"))!==null&&_legendCmpt$get!==void 0?_legendCmpt$get:[];legendSelections.push(selCmpt.name);legendCmpt.set("selections",legendSelections,false);proj.hasLegend=true}})}const ANCHOR="_translate_anchor";const DELTA="_translate_delta";const translate={has:selCmpt=>selCmpt.type==="interval"&&selCmpt.translate,signals:(model,selCmpt,signals)=>{const name=selCmpt.name;const hasScales=scaleBindings.has(selCmpt);const anchor=name+ANCHOR;const{x:x,y:y}=selCmpt.project.hasChannel;let events=eventSelector(selCmpt.translate,"scope");if(!hasScales){events=events.map(e=>(e.between[0].markname=name+BRUSH,e))}signals.push({name:anchor,value:{},on:[{events:events.map(e=>e.between[0]),update:"{x: x(unit), y: y(unit)"+(x!==undefined?", extent_x: "+(hasScales?domain$1(model,X):"slice(".concat(x.signals.visual,")")):"")+(y!==undefined?", extent_y: "+(hasScales?domain$1(model,Y):"slice(".concat(y.signals.visual,")")):"")+"}"}]},{name:name+DELTA,value:{},on:[{events:events,update:"{x: ".concat(anchor,".x - x(unit), y: ").concat(anchor,".y - y(unit)}")}]});if(x!==undefined){onDelta(model,selCmpt,x,"width",signals)}if(y!==undefined){onDelta(model,selCmpt,y,"height",signals)}return signals}};function onDelta(model,selCmpt,proj,size,signals){var _scaleCmpt$get;const name=selCmpt.name;const anchor=name+ANCHOR;const delta=name+DELTA;const channel=proj.channel;const hasScales=scaleBindings.has(selCmpt);const signal=signals.filter(s=>s.name===proj.signals[hasScales?"data":"visual"])[0];const sizeSg=model.getSizeSignalRef(size).signal;const scaleCmpt=model.getScaleComponent(channel);const scaleType=scaleCmpt.get("type");const sign=hasScales&&channel===X?"-":"";const extent="".concat(anchor,".extent_").concat(channel);const offset="".concat(sign).concat(delta,".").concat(channel," / ")+(hasScales?"".concat(sizeSg):"span(".concat(extent,")"));const panFn=!hasScales?"panLinear":scaleType==="log"?"panLog":scaleType==="pow"?"panPow":"panLinear";const update="".concat(panFn,"(").concat(extent,", ").concat(offset)+(hasScales&&scaleType==="pow"?", ".concat((_scaleCmpt$get=scaleCmpt.get("exponent"))!==null&&_scaleCmpt$get!==void 0?_scaleCmpt$get:1):"")+")";signal.on.push({events:{signal:delta},update:hasScales?update:"clampRange(".concat(update,", 0, ").concat(sizeSg,")")})}const ANCHOR$1="_zoom_anchor";const DELTA$1="_zoom_delta";const zoom={has:selCmpt=>selCmpt.type==="interval"&&selCmpt.zoom,signals:(model,selCmpt,signals)=>{const name=selCmpt.name;const hasScales=scaleBindings.has(selCmpt);const delta=name+DELTA$1;const{x:x,y:y}=selCmpt.project.hasChannel;const sx=$(model.scaleName(X));const sy=$(model.scaleName(Y));let events=eventSelector(selCmpt.zoom,"scope");if(!hasScales){events=events.map(e=>(e.markname=name+BRUSH,e))}signals.push({name:name+ANCHOR$1,on:[{events:events,update:!hasScales?"{x: x(unit), y: y(unit)}":"{"+[sx?"x: invert(".concat(sx,", x(unit))"):"",sy?"y: invert(".concat(sy,", y(unit))"):""].filter(expr=>!!expr).join(", ")+"}"}]},{name:delta,on:[{events:events,force:true,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]});if(x!==undefined){onDelta$1(model,selCmpt,x,"width",signals)}if(y!==undefined){onDelta$1(model,selCmpt,y,"height",signals)}return signals}};function onDelta$1(model,selCmpt,proj,size,signals){var _scaleCmpt$get;const name=selCmpt.name;const channel=proj.channel;const hasScales=scaleBindings.has(selCmpt);const signal=signals.filter(s=>s.name===proj.signals[hasScales?"data":"visual"])[0];const sizeSg=model.getSizeSignalRef(size).signal;const scaleCmpt=model.getScaleComponent(channel);const scaleType=scaleCmpt.get("type");const base=hasScales?domain$1(model,channel):signal.name;const delta=name+DELTA$1;const anchor="".concat(name).concat(ANCHOR$1,".").concat(channel);const zoomFn=!hasScales?"zoomLinear":scaleType==="log"?"zoomLog":scaleType==="pow"?"zoomPow":"zoomLinear";const update="".concat(zoomFn,"(").concat(base,", ").concat(anchor,", ").concat(delta)+(hasScales&&scaleType==="pow"?", ".concat((_scaleCmpt$get=scaleCmpt.get("exponent"))!==null&&_scaleCmpt$get!==void 0?_scaleCmpt$get:1):"")+")";signal.on.push({events:{signal:delta},update:hasScales?update:"clampRange(".concat(update,", 0, ").concat(sizeSg,")")})}const compilers=[project,toggle,scaleBindings,legendBindings,translate,zoom,inputBindings,nearest,clear];function forEachTransform(selCmpt,cb){for(const t of compilers){if(t.has(selCmpt)){cb(t)}}}function assembleInit(init,isExpr=true,wrap=identity){if(isArray(init)){const assembled=init.map(v=>assembleInit(v,isExpr,wrap));return isExpr?"[".concat(assembled.join(", "),"]"):assembled}else if(isDateTime(init)){if(isExpr){return wrap(dateTimeToExpr(init))}else{return wrap(dateTimeToTimestamp(init))}}return isExpr?wrap(JSON.stringify(init)):init}function assembleUnitSelectionSignals(model,signals){forEachSelection(model,(selCmpt,selCompiler)=>{const name=selCmpt.name;let modifyExpr=selCompiler.modifyExpr(model,selCmpt);signals.push(...selCompiler.signals(model,selCmpt));forEachTransform(selCmpt,txCompiler=>{if(txCompiler.signals){signals=txCompiler.signals(model,selCmpt,signals)}if(txCompiler.modifyExpr){modifyExpr=txCompiler.modifyExpr(model,selCmpt,modifyExpr)}});signals.push({name:name+MODIFY,on:[{events:{signal:selCmpt.name+TUPLE},update:"modify(".concat($(selCmpt.name+STORE),", ").concat(modifyExpr,")")}]})});return cleanupEmptyOnArray(signals)}function assembleFacetSignals(model,signals){if(model.component.selection&&keys(model.component.selection).length){const name=$(model.getName("cell"));signals.unshift({name:"facet",value:{},on:[{events:eventSelector("mousemove","scope"),update:"isTuple(facet) ? facet : group(".concat(name,").datum")}]})}return cleanupEmptyOnArray(signals)}function assembleTopLevelSignals(model,signals){let hasSelections=false;forEachSelection(model,(selCmpt,selCompiler)=>{const name=selCmpt.name;const store=$(name+STORE);const hasSg=signals.filter(s=>s.name===name);if(hasSg.length===0){const resolve=selCmpt.resolve==="global"?"union":selCmpt.resolve;const isMulti=selCmpt.type==="multi"?", true)":")";signals.push({name:selCmpt.name,update:"".concat(VL_SELECTION_RESOLVE,"(").concat(store,", ").concat($(resolve)).concat(isMulti)})}hasSelections=true;if(selCompiler.topLevelSignals){signals=selCompiler.topLevelSignals(model,selCmpt,signals)}forEachTransform(selCmpt,txCompiler=>{if(txCompiler.topLevelSignals){signals=txCompiler.topLevelSignals(model,selCmpt,signals)}})});if(hasSelections){const hasUnit=signals.filter(s=>s.name==="unit");if(hasUnit.length===0){signals.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]})}}return cleanupEmptyOnArray(signals)}function assembleUnitSelectionData(model,data){const dataCopy=[...data];forEachSelection(model,selCmpt=>{const init={name:selCmpt.name+STORE};if(selCmpt.init){const fields=selCmpt.project.items.map(proj=>{const{signals:signals,...rest}=proj;return rest});const insert=selCmpt.init.map(i=>assembleInit(i,false));init.values=selCmpt.type==="interval"?[{unit:unitName(model,{escape:false}),fields:fields,values:insert}]:insert.map(i=>({unit:unitName(model,{escape:false}),fields:fields,values:i}))}const contains=dataCopy.filter(d=>d.name===selCmpt.name+STORE);if(!contains.length){dataCopy.push(init)}});return dataCopy}function assembleUnitSelectionMarks(model,marks){forEachSelection(model,(selCmpt,selCompiler)=>{marks=selCompiler.marks?selCompiler.marks(model,selCmpt,marks):marks;forEachTransform(selCmpt,txCompiler=>{if(txCompiler.marks){marks=txCompiler.marks(model,selCmpt,marks)}})});return marks}function assembleLayerSelectionMarks(model,marks){for(const child of model.children){if(isUnitModel(child)){marks=assembleUnitSelectionMarks(child,marks)}}return marks}function assembleSelectionScaleDomain(model,extent){const name=extent.selection;const selCmpt=model.getSelectionComponent(name,varName(name));return{signal:parseSelectionBinExtent(selCmpt,extent)}}function cleanupEmptyOnArray(signals){return signals.map(s=>{if(s.on&&!s.on.length)delete s.on;return s})}const BRUSH="_brush";const SCALE_TRIGGER="_scale_trigger";const interval={signals:(model,selCmpt)=>{const name=selCmpt.name;const fieldsSg=name+TUPLE_FIELDS;const hasScales=scaleBindings.has(selCmpt);const signals=[];const dataSignals=[];const scaleTriggers=[];if(selCmpt.translate&&!hasScales){const filterExpr="!event.item || event.item.mark.name !== ".concat($(name+BRUSH));events(selCmpt,(on,evt)=>{var _evt$between$0$filter;const filters=array((_evt$between$0$filter=evt.between[0].filter)!==null&&_evt$between$0$filter!==void 0?_evt$between$0$filter:evt.between[0].filter=[]);if(filters.indexOf(filterExpr)<0){filters.push(filterExpr)}return on})}selCmpt.project.items.forEach((proj,i)=>{const channel=proj.channel;if(channel!==X&&channel!==Y){warn("Interval selections only support x and y encoding channels.");return}const init=selCmpt.init?selCmpt.init[i]:null;const cs=channelSignals(model,selCmpt,proj,init);const dname=proj.signals.data;const vname=proj.signals.visual;const scaleName=$(model.scaleName(channel));const scaleType=model.getScaleComponent(channel).get("type");const toNum=hasContinuousDomain(scaleType)?"+":"";signals.push(...cs);dataSignals.push(dname);scaleTriggers.push({scaleName:model.scaleName(channel),expr:"(!isArray(".concat(dname,") || ")+"(".concat(toNum,"invert(").concat(scaleName,", ").concat(vname,")[0] === ").concat(toNum).concat(dname,"[0] && ")+"".concat(toNum,"invert(").concat(scaleName,", ").concat(vname,")[1] === ").concat(toNum).concat(dname,"[1]))")})});if(!hasScales){signals.push({name:name+SCALE_TRIGGER,value:{},on:[{events:scaleTriggers.map(t=>({scale:t.scaleName})),update:scaleTriggers.map(t=>t.expr).join(" && ")+" ? ".concat(name+SCALE_TRIGGER," : {}")}]})}const init=selCmpt.init;const update="unit: ".concat(unitName(model),", fields: ").concat(fieldsSg,", values");return signals.concat({name:name+TUPLE,...init?{init:"{".concat(update,": ").concat(assembleInit(init),"}")}:{},on:[{events:[{signal:dataSignals.join(" || ")}],update:dataSignals.join(" && ")+" ? {".concat(update,": [").concat(dataSignals,"]} : null")}]})},modifyExpr:(model,selCmpt)=>{const tpl=selCmpt.name+TUPLE;return tpl+", "+(selCmpt.resolve==="global"?"true":"{unit: ".concat(unitName(model),"}"))},marks:(model,selCmpt,marks)=>{const name=selCmpt.name;const{x:x,y:y}=selCmpt.project.hasChannel;const xvname=x&&x.signals.visual;const yvname=y&&y.signals.visual;const store="data(".concat($(selCmpt.name+STORE),")");if(scaleBindings.has(selCmpt)){return marks}const update={x:x!==undefined?{signal:"".concat(xvname,"[0]")}:{value:0},y:y!==undefined?{signal:"".concat(yvname,"[0]")}:{value:0},x2:x!==undefined?{signal:"".concat(xvname,"[1]")}:{field:{group:"width"}},y2:y!==undefined?{signal:"".concat(yvname,"[1]")}:{field:{group:"height"}}};if(selCmpt.resolve==="global"){for(const key of keys(update)){update[key]=[{test:"".concat(store,".length && ").concat(store,"[0].unit === ").concat(unitName(model)),...update[key]},{value:0}]}}const{fill:fill,fillOpacity:fillOpacity,cursor:cursor,...stroke}=selCmpt.mark;const vgStroke=keys(stroke).reduce((def,k)=>{def[k]=[{test:[x!==undefined&&"".concat(xvname,"[0] !== ").concat(xvname,"[1]"),y!==undefined&&"".concat(yvname,"[0] !== ").concat(yvname,"[1]")].filter(t=>t).join(" && "),value:stroke[k]},{value:null}];return def},{});return[{name:name+BRUSH+"_bg",type:"rect",clip:true,encode:{enter:{fill:{value:fill},fillOpacity:{value:fillOpacity}},update:update}},...marks,{name:name+BRUSH,type:"rect",clip:true,encode:{enter:{...cursor?{cursor:{value:cursor}}:{},fill:{value:"transparent"}},update:{...update,...vgStroke}}}]}};function channelSignals(model,selCmpt,proj,init){const channel=proj.channel;const vname=proj.signals.visual;const dname=proj.signals.data;const hasScales=scaleBindings.has(selCmpt);const scaleName=$(model.scaleName(channel));const scale=model.getScaleComponent(channel);const scaleType=scale?scale.get("type"):undefined;const scaled=str=>"scale(".concat(scaleName,", ").concat(str,")");const size=model.getSizeSignalRef(channel===X?"width":"height").signal;const coord="".concat(channel,"(unit)");const on=events(selCmpt,(def,evt)=>[...def,{events:evt.between[0],update:"[".concat(coord,", ").concat(coord,"]")},{events:evt,update:"[".concat(vname,"[0], clamp(").concat(coord,", 0, ").concat(size,")]")}]);on.push({events:{signal:selCmpt.name+SCALE_TRIGGER},update:hasContinuousDomain(scaleType)?"[".concat(scaled("".concat(dname,"[0]")),", ").concat(scaled("".concat(dname,"[1]")),"]"):"[0, 0]"});return hasScales?[{name:dname,on:[]}]:[{name:vname,...init?{init:assembleInit(init,true,scaled)}:{value:[]},on:on},{name:dname,...init?{init:assembleInit(init)}:{},on:[{events:{signal:vname},update:"".concat(vname,"[0] === ").concat(vname,"[1] ? null : invert(").concat(scaleName,", ").concat(vname,")")}]}]}function events(selCmpt,cb){return selCmpt.events.reduce((on,evt)=>{if(!evt.between){warn("".concat(evt," is not an ordered event stream for interval selections."));return on}return cb(on,evt)},[])}function singleOrMultiSignals(model,selCmpt){const name=selCmpt.name;const fieldsSg=name+TUPLE_FIELDS;const project=selCmpt.project;const datum="(item().isVoronoi ? datum.datum : datum)";const values=project.items.map(p=>{const fieldDef=model.fieldDef(p.channel);return fieldDef&&fieldDef.bin?"[".concat(datum,"[").concat($(model.vgField(p.channel,{})),"], ")+"".concat(datum,"[").concat($(model.vgField(p.channel,{binSuffix:"end"})),"]]"):"".concat(datum,"[").concat($(p.field),"]")}).join(", ");const update="unit: ".concat(unitName(model),", fields: ").concat(fieldsSg,", values");const events=selCmpt.events;return[{name:name+TUPLE,on:events?[{events:events,update:"datum && item().mark.marktype !== 'group' ? {".concat(update,": [").concat(values,"]} : null"),force:true}]:[]}]}const multi={signals:singleOrMultiSignals,modifyExpr:(model,selCmpt)=>{const tpl=selCmpt.name+TUPLE;return tpl+", "+(selCmpt.resolve==="global"?"null":"{unit: ".concat(unitName(model),"}"))}};const single={signals:singleOrMultiSignals,modifyExpr:(model,selCmpt)=>{const tpl=selCmpt.name+TUPLE;return tpl+", "+(selCmpt.resolve==="global"?"true":"{unit: ".concat(unitName(model),"}"))}};const STORE="_store";const TUPLE="_tuple";const MODIFY="_modify";const VL_SELECTION_RESOLVE="vlSelectionResolve";const compilers$1={single:single,multi:multi,interval:interval};function forEachSelection(model,cb){const selections=model.component.selection;if(selections){for(const sel of vals(selections)){const success=cb(sel,compilers$1[sel.type]);if(success===true)break}}}function getFacetModel(model){let parent=model.parent;while(parent){if(isFacetModel(parent)){break}parent=parent.parent}return parent}function unitName(model,{escape:escape}={escape:true}){let name=escape?$(model.name):model.name;const facetModel=getFacetModel(model);if(facetModel){const{facet:facet}=facetModel;for(const channel of FACET_CHANNELS){if(facet[channel]){name+=" + '__facet_".concat(channel,"_' + (facet[").concat($(facetModel.vgField(channel)),"])")}}}return name}function requiresSelectionId(model){let identifier=false;forEachSelection(model,selCmpt=>{identifier=identifier||selCmpt.project.items.some(proj=>proj.field===SELECTION_ID)});return identifier}const RawCode="RawCode";const Literal="Literal";const Property="Property";const Identifier="Identifier";const ArrayExpression="ArrayExpression";const BinaryExpression="BinaryExpression";const CallExpression="CallExpression";const ConditionalExpression="ConditionalExpression";const LogicalExpression="LogicalExpression";const MemberExpression="MemberExpression";const ObjectExpression="ObjectExpression";const UnaryExpression="UnaryExpression";function ASTNode(type){this.type=type}ASTNode.prototype.visit=function(visitor){let c,i,n;if(visitor(this))return 1;for(c=children(this),i=0,n=c.length;i<n;++i){if(c[i].visit(visitor))return 1}};function children(node){switch(node.type){case ArrayExpression:return node.elements;case BinaryExpression:case LogicalExpression:return[node.left,node.right];case CallExpression:return[node.callee].concat(node.arguments);case ConditionalExpression:return[node.test,node.consequent,node.alternate];case MemberExpression:return[node.object,node.property];case ObjectExpression:return node.properties;case Property:return[node.key,node.value];case UnaryExpression:return[node.argument];case Identifier:case Literal:case RawCode:default:return[]}}var TokenName,source,index,length,lookahead;var TokenBooleanLiteral=1,TokenEOF=2,TokenIdentifier=3,TokenKeyword=4,TokenNullLiteral=5,TokenNumericLiteral=6,TokenPunctuator=7,TokenStringLiteral=8,TokenRegularExpression=9;TokenName={};TokenName[TokenBooleanLiteral]="Boolean";TokenName[TokenEOF]="<end>";TokenName[TokenIdentifier]="Identifier";TokenName[TokenKeyword]="Keyword";TokenName[TokenNullLiteral]="Null";TokenName[TokenNumericLiteral]="Numeric";TokenName[TokenPunctuator]="Punctuator";TokenName[TokenStringLiteral]="String";TokenName[TokenRegularExpression]="RegularExpression";var SyntaxArrayExpression="ArrayExpression",SyntaxBinaryExpression="BinaryExpression",SyntaxCallExpression="CallExpression",SyntaxConditionalExpression="ConditionalExpression",SyntaxIdentifier="Identifier",SyntaxLiteral="Literal",SyntaxLogicalExpression="LogicalExpression",SyntaxMemberExpression="MemberExpression",SyntaxObjectExpression="ObjectExpression",SyntaxProperty="Property",SyntaxUnaryExpression="UnaryExpression";var MessageUnexpectedToken="Unexpected token %0",MessageUnexpectedNumber="Unexpected number",MessageUnexpectedString="Unexpected string",MessageUnexpectedIdentifier="Unexpected identifier",MessageUnexpectedReserved="Unexpected reserved word",MessageUnexpectedEOS="Unexpected end of input",MessageInvalidRegExp="Invalid regular expression",MessageUnterminatedRegExp="Invalid regular expression: missing /",MessageStrictOctalLiteral="Octal literals are not allowed in strict mode.",MessageStrictDuplicateProperty="Duplicate data property in object literal not allowed in strict mode";var ILLEGAL$1="ILLEGAL",DISABLED="Disabled.";var RegexNonAsciiIdentifierStart=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),RegexNonAsciiIdentifierPart=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function assert(condition,message){if(!condition){throw new Error("ASSERT: "+message)}}function isDecimalDigit(ch){return ch>=48&&ch<=57}function isHexDigit(ch){return"0123456789abcdefABCDEF".indexOf(ch)>=0}function isOctalDigit(ch){return"01234567".indexOf(ch)>=0}function isWhiteSpace(ch){return ch===32||ch===9||ch===11||ch===12||ch===160||ch>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(ch)>=0}function isLineTerminator(ch){return ch===10||ch===13||ch===8232||ch===8233}function isIdentifierStart(ch){return ch===36||ch===95||ch>=65&&ch<=90||ch>=97&&ch<=122||ch===92||ch>=128&&RegexNonAsciiIdentifierStart.test(String.fromCharCode(ch))}function isIdentifierPart(ch){return ch===36||ch===95||ch>=65&&ch<=90||ch>=97&&ch<=122||ch>=48&&ch<=57||ch===92||ch>=128&&RegexNonAsciiIdentifierPart.test(String.fromCharCode(ch))}const keywords={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function skipComment(){while(index<length){const ch=source.charCodeAt(index);if(isWhiteSpace(ch)||isLineTerminator(ch)){++index}else{break}}}function scanHexEscape(prefix){var i,len,ch,code=0;len=prefix==="u"?4:2;for(i=0;i<len;++i){if(index<length&&isHexDigit(source[index])){ch=source[index++];code=code*16+"0123456789abcdef".indexOf(ch.toLowerCase())}else{throwError({},MessageUnexpectedToken,ILLEGAL$1)}}return String.fromCharCode(code)}function scanUnicodeCodePointEscape(){var ch,code,cu1,cu2;ch=source[index];code=0;if(ch==="}"){throwError({},MessageUnexpectedToken,ILLEGAL$1)}while(index<length){ch=source[index++];if(!isHexDigit(ch)){break}code=code*16+"0123456789abcdef".indexOf(ch.toLowerCase())}if(code>1114111||ch!=="}"){throwError({},MessageUnexpectedToken,ILLEGAL$1)}if(code<=65535){return String.fromCharCode(code)}cu1=(code-65536>>10)+55296;cu2=(code-65536&1023)+56320;return String.fromCharCode(cu1,cu2)}function getEscapedIdentifier(){var ch,id;ch=source.charCodeAt(index++);id=String.fromCharCode(ch);if(ch===92){if(source.charCodeAt(index)!==117){throwError({},MessageUnexpectedToken,ILLEGAL$1)}++index;ch=scanHexEscape("u");if(!ch||ch==="\\"||!isIdentifierStart(ch.charCodeAt(0))){throwError({},MessageUnexpectedToken,ILLEGAL$1)}id=ch}while(index<length){ch=source.charCodeAt(index);if(!isIdentifierPart(ch)){break}++index;id+=String.fromCharCode(ch);if(ch===92){id=id.substr(0,id.length-1);if(source.charCodeAt(index)!==117){throwError({},MessageUnexpectedToken,ILLEGAL$1)}++index;ch=scanHexEscape("u");if(!ch||ch==="\\"||!isIdentifierPart(ch.charCodeAt(0))){throwError({},MessageUnexpectedToken,ILLEGAL$1)}id+=ch}}return id}function getIdentifier(){var start,ch;start=index++;while(index<length){ch=source.charCodeAt(index);if(ch===92){index=start;return getEscapedIdentifier()}if(isIdentifierPart(ch)){++index}else{break}}return source.slice(start,index)}function scanIdentifier(){var start,id,type;start=index;id=source.charCodeAt(index)===92?getEscapedIdentifier():getIdentifier();if(id.length===1){type=TokenIdentifier}else if(keywords.hasOwnProperty(id)){type=TokenKeyword}else if(id==="null"){type=TokenNullLiteral}else if(id==="true"||id==="false"){type=TokenBooleanLiteral}else{type=TokenIdentifier}return{type:type,value:id,start:start,end:index}}function scanPunctuator(){var start=index,code=source.charCodeAt(index),code2,ch1=source[index],ch2,ch3,ch4;switch(code){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:++index;return{type:TokenPunctuator,value:String.fromCharCode(code),start:start,end:index};default:code2=source.charCodeAt(index+1);if(code2===61){switch(code){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:index+=2;return{type:TokenPunctuator,value:String.fromCharCode(code)+String.fromCharCode(code2),start:start,end:index};case 33:case 61:index+=2;if(source.charCodeAt(index)===61){++index}return{type:TokenPunctuator,value:source.slice(start,index),start:start,end:index}}}}ch4=source.substr(index,4);if(ch4===">>>="){index+=4;return{type:TokenPunctuator,value:ch4,start:start,end:index}}ch3=ch4.substr(0,3);if(ch3===">>>"||ch3==="<<="||ch3===">>="){index+=3;return{type:TokenPunctuator,value:ch3,start:start,end:index}}ch2=ch3.substr(0,2);if(ch1===ch2[1]&&"+-<>&|".indexOf(ch1)>=0||ch2==="=>"){index+=2;return{type:TokenPunctuator,value:ch2,start:start,end:index}}if("<>=!+-*%&|^/".indexOf(ch1)>=0){++index;return{type:TokenPunctuator,value:ch1,start:start,end:index}}throwError({},MessageUnexpectedToken,ILLEGAL$1)}function scanHexLiteral(start){let number="";while(index<length){if(!isHexDigit(source[index])){break}number+=source[index++]}if(number.length===0){throwError({},MessageUnexpectedToken,ILLEGAL$1)}if(isIdentifierStart(source.charCodeAt(index))){throwError({},MessageUnexpectedToken,ILLEGAL$1)}return{type:TokenNumericLiteral,value:parseInt("0x"+number,16),start:start,end:index}}function scanOctalLiteral(start){let number="0"+source[index++];while(index<length){if(!isOctalDigit(source[index])){break}number+=source[index++]}if(isIdentifierStart(source.charCodeAt(index))||isDecimalDigit(source.charCodeAt(index))){throwError({},MessageUnexpectedToken,ILLEGAL$1)}return{type:TokenNumericLiteral,value:parseInt(number,8),octal:true,start:start,end:index}}function scanNumericLiteral(){var number,start,ch;ch=source[index];assert(isDecimalDigit(ch.charCodeAt(0))||ch===".","Numeric literal must start with a decimal digit or a decimal point");start=index;number="";if(ch!=="."){number=source[index++];ch=source[index];if(number==="0"){if(ch==="x"||ch==="X"){++index;return scanHexLiteral(start)}if(isOctalDigit(ch)){return scanOctalLiteral(start)}if(ch&&isDecimalDigit(ch.charCodeAt(0))){throwError({},MessageUnexpectedToken,ILLEGAL$1)}}while(isDecimalDigit(source.charCodeAt(index))){number+=source[index++]}ch=source[index]}if(ch==="."){number+=source[index++];while(isDecimalDigit(source.charCodeAt(index))){number+=source[index++]}ch=source[index]}if(ch==="e"||ch==="E"){number+=source[index++];ch=source[index];if(ch==="+"||ch==="-"){number+=source[index++]}if(isDecimalDigit(source.charCodeAt(index))){while(isDecimalDigit(source.charCodeAt(index))){number+=source[index++]}}else{throwError({},MessageUnexpectedToken,ILLEGAL$1)}}if(isIdentifierStart(source.charCodeAt(index))){throwError({},MessageUnexpectedToken,ILLEGAL$1)}return{type:TokenNumericLiteral,value:parseFloat(number),start:start,end:index}}function scanStringLiteral(){var str="",quote,start,ch,code,octal=false;quote=source[index];assert(quote==="'"||quote==='"',"String literal must starts with a quote");start=index;++index;while(index<length){ch=source[index++];if(ch===quote){quote="";break}else if(ch==="\\"){ch=source[index++];if(!ch||!isLineTerminator(ch.charCodeAt(0))){switch(ch){case"u":case"x":if(source[index]==="{"){++index;str+=scanUnicodeCodePointEscape()}else{str+=scanHexEscape(ch)}break;case"n":str+="\n";break;case"r":str+="\r";break;case"t":str+="\t";break;case"b":str+="\b";break;case"f":str+="\f";break;case"v":str+="\v";break;default:if(isOctalDigit(ch)){code="01234567".indexOf(ch);if(code!==0){octal=true}if(index<length&&isOctalDigit(source[index])){octal=true;code=code*8+"01234567".indexOf(source[index++]);if("0123".indexOf(ch)>=0&&index<length&&isOctalDigit(source[index])){code=code*8+"01234567".indexOf(source[index++])}}str+=String.fromCharCode(code)}else{str+=ch}break}}else{if(ch==="\r"&&source[index]==="\n"){++index}}}else if(isLineTerminator(ch.charCodeAt(0))){break}else{str+=ch}}if(quote!==""){throwError({},MessageUnexpectedToken,ILLEGAL$1)}return{type:TokenStringLiteral,value:str,octal:octal,start:start,end:index}}function testRegExp(pattern,flags){let tmp=pattern;if(flags.indexOf("u")>=0){tmp=tmp.replace(/\\u\{([0-9a-fA-F]+)\}/g,($0,$1)=>{if(parseInt($1,16)<=1114111){return"x"}throwError({},MessageInvalidRegExp)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x")}try{new RegExp(tmp)}catch(e){throwError({},MessageInvalidRegExp)}try{return new RegExp(pattern,flags)}catch(exception){return null}}function scanRegExpBody(){var ch,str,classMarker,terminated,body;ch=source[index];assert(ch==="/","Regular expression literal must start with a slash");str=source[index++];classMarker=false;terminated=false;while(index<length){ch=source[index++];str+=ch;if(ch==="\\"){ch=source[index++];if(isLineTerminator(ch.charCodeAt(0))){throwError({},MessageUnterminatedRegExp)}str+=ch}else if(isLineTerminator(ch.charCodeAt(0))){throwError({},MessageUnterminatedRegExp)}else if(classMarker){if(ch==="]"){classMarker=false}}else{if(ch==="/"){terminated=true;break}else if(ch==="["){classMarker=true}}}if(!terminated){throwError({},MessageUnterminatedRegExp)}body=str.substr(1,str.length-2);return{value:body,literal:str}}function scanRegExpFlags(){var ch,str,flags;str="";flags="";while(index<length){ch=source[index];if(!isIdentifierPart(ch.charCodeAt(0))){break}++index;if(ch==="\\"&&index<length){throwError({},MessageUnexpectedToken,ILLEGAL$1)}else{flags+=ch;str+=ch}}if(flags.search(/[^gimuy]/g)>=0){throwError({},MessageInvalidRegExp,flags)}return{value:flags,literal:str}}function scanRegExp(){var start,body,flags,value;lookahead=null;skipComment();start=index;body=scanRegExpBody();flags=scanRegExpFlags();value=testRegExp(body.value,flags.value);return{literal:body.literal+flags.literal,value:value,regex:{pattern:body.value,flags:flags.value},start:start,end:index}}function isIdentifierName(token){return token.type===TokenIdentifier||token.type===TokenKeyword||token.type===TokenBooleanLiteral||token.type===TokenNullLiteral}function advance(){skipComment();if(index>=length){return{type:TokenEOF,start:index,end:index}}const ch=source.charCodeAt(index);if(isIdentifierStart(ch)){return scanIdentifier()}if(ch===40||ch===41||ch===59){return scanPunctuator()}if(ch===39||ch===34){return scanStringLiteral()}if(ch===46){if(isDecimalDigit(source.charCodeAt(index+1))){return scanNumericLiteral()}return scanPunctuator()}if(isDecimalDigit(ch)){return scanNumericLiteral()}return scanPunctuator()}function lex(){const token=lookahead;index=token.end;lookahead=advance();index=token.end;return token}function peek(){const pos=index;lookahead=advance();index=pos}function finishArrayExpression(elements){const node=new ASTNode(SyntaxArrayExpression);node.elements=elements;return node}function finishBinaryExpression(operator,left,right){const node=new ASTNode(operator==="||"||operator==="&&"?SyntaxLogicalExpression:SyntaxBinaryExpression);node.operator=operator;node.left=left;node.right=right;return node}function finishCallExpression(callee,args){const node=new ASTNode(SyntaxCallExpression);node.callee=callee;node.arguments=args;return node}function finishConditionalExpression(test,consequent,alternate){const node=new ASTNode(SyntaxConditionalExpression);node.test=test;node.consequent=consequent;node.alternate=alternate;return node}function finishIdentifier(name){const node=new ASTNode(SyntaxIdentifier);node.name=name;return node}function finishLiteral(token){const node=new ASTNode(SyntaxLiteral);node.value=token.value;node.raw=source.slice(token.start,token.end);if(token.regex){if(node.raw==="//"){node.raw="/(?:)/"}node.regex=token.regex}return node}function finishMemberExpression(accessor,object,property){const node=new ASTNode(SyntaxMemberExpression);node.computed=accessor==="[";node.object=object;node.property=property;if(!node.computed)property.member=true;return node}function finishObjectExpression(properties){const node=new ASTNode(SyntaxObjectExpression);node.properties=properties;return node}function finishProperty(kind,key,value){const node=new ASTNode(SyntaxProperty);node.key=key;node.value=value;node.kind=kind;return node}function finishUnaryExpression(operator,argument){const node=new ASTNode(SyntaxUnaryExpression);node.operator=operator;node.argument=argument;node.prefix=true;return node}function throwError(token,messageFormat){var error,args=Array.prototype.slice.call(arguments,2),msg=messageFormat.replace(/%(\d)/g,(whole,index)=>{assert(index<args.length,"Message reference must be in range");return args[index]});error=new Error(msg);error.index=index;error.description=msg;throw error}function throwUnexpected(token){if(token.type===TokenEOF){throwError(token,MessageUnexpectedEOS)}if(token.type===TokenNumericLiteral){throwError(token,MessageUnexpectedNumber)}if(token.type===TokenStringLiteral){throwError(token,MessageUnexpectedString)}if(token.type===TokenIdentifier){throwError(token,MessageUnexpectedIdentifier)}if(token.type===TokenKeyword){throwError(token,MessageUnexpectedReserved)}throwError(token,MessageUnexpectedToken,token.value)}function expect(value){const token=lex();if(token.type!==TokenPunctuator||token.value!==value){throwUnexpected(token)}}function match(value){return lookahead.type===TokenPunctuator&&lookahead.value===value}function matchKeyword(keyword){return lookahead.type===TokenKeyword&&lookahead.value===keyword}function parseArrayInitialiser(){const elements=[];index=lookahead.start;expect("[");while(!match("]")){if(match(",")){lex();elements.push(null)}else{elements.push(parseConditionalExpression());if(!match("]")){expect(",")}}}lex();return finishArrayExpression(elements)}function parseObjectPropertyKey(){index=lookahead.start;const token=lex();if(token.type===TokenStringLiteral||token.type===TokenNumericLiteral){if(token.octal){throwError(token,MessageStrictOctalLiteral)}return finishLiteral(token)}return finishIdentifier(token.value)}function parseObjectProperty(){var token,key,id,value;index=lookahead.start;token=lookahead;if(token.type===TokenIdentifier){id=parseObjectPropertyKey();expect(":");value=parseConditionalExpression();return finishProperty("init",id,value)}if(token.type===TokenEOF||token.type===TokenPunctuator){throwUnexpected(token)}else{key=parseObjectPropertyKey();expect(":");value=parseConditionalExpression();return finishProperty("init",key,value)}}function parseObjectInitialiser(){var properties=[],property,name,key,map={},toString=String;index=lookahead.start;expect("{");while(!match("}")){property=parseObjectProperty();if(property.key.type===SyntaxIdentifier){name=property.key.name}else{name=toString(property.key.value)}key="$"+name;if(Object.prototype.hasOwnProperty.call(map,key)){throwError({},MessageStrictDuplicateProperty)}else{map[key]=true}properties.push(property);if(!match("}")){expect(",")}}expect("}");return finishObjectExpression(properties)}function parseGroupExpression(){expect("(");const expr=parseExpression();expect(")");return expr}const legalKeywords={if:1};function parsePrimaryExpression(){var type,token,expr;if(match("(")){return parseGroupExpression()}if(match("[")){return parseArrayInitialiser()}if(match("{")){return parseObjectInitialiser()}type=lookahead.type;index=lookahead.start;if(type===TokenIdentifier||legalKeywords[lookahead.value]){expr=finishIdentifier(lex().value)}else if(type===TokenStringLiteral||type===TokenNumericLiteral){if(lookahead.octal){throwError(lookahead,MessageStrictOctalLiteral)}expr=finishLiteral(lex())}else if(type===TokenKeyword){throw new Error(DISABLED)}else if(type===TokenBooleanLiteral){token=lex();token.value=token.value==="true";expr=finishLiteral(token)}else if(type===TokenNullLiteral){token=lex();token.value=null;expr=finishLiteral(token)}else if(match("/")||match("/=")){expr=finishLiteral(scanRegExp());peek()}else{throwUnexpected(lex())}return expr}function parseArguments(){const args=[];expect("(");if(!match(")")){while(index<length){args.push(parseConditionalExpression());if(match(")")){break}expect(",")}}expect(")");return args}function parseNonComputedProperty(){index=lookahead.start;const token=lex();if(!isIdentifierName(token)){throwUnexpected(token)}return finishIdentifier(token.value)}function parseNonComputedMember(){expect(".");return parseNonComputedProperty()}function parseComputedMember(){expect("[");const expr=parseExpression();expect("]");return expr}function parseLeftHandSideExpressionAllowCall(){var expr,args,property;expr=parsePrimaryExpression();for(;;){if(match(".")){property=parseNonComputedMember();expr=finishMemberExpression(".",expr,property)}else if(match("(")){args=parseArguments();expr=finishCallExpression(expr,args)}else if(match("[")){property=parseComputedMember();expr=finishMemberExpression("[",expr,property)}else{break}}return expr}function parsePostfixExpression(){const expr=parseLeftHandSideExpressionAllowCall();if(lookahead.type===TokenPunctuator){if(match("++")||match("--")){throw new Error(DISABLED)}}return expr}function parseUnaryExpression(){var token,expr;if(lookahead.type!==TokenPunctuator&&lookahead.type!==TokenKeyword){expr=parsePostfixExpression()}else if(match("++")||match("--")){throw new Error(DISABLED)}else if(match("+")||match("-")||match("~")||match("!")){token=lex();expr=parseUnaryExpression();expr=finishUnaryExpression(token.value,expr)}else if(matchKeyword("delete")||matchKeyword("void")||matchKeyword("typeof")){throw new Error(DISABLED)}else{expr=parsePostfixExpression()}return expr}function binaryPrecedence(token){let prec=0;if(token.type!==TokenPunctuator&&token.type!==TokenKeyword){return 0}switch(token.value){case"||":prec=1;break;case"&&":prec=2;break;case"|":prec=3;break;case"^":prec=4;break;case"&":prec=5;break;case"==":case"!=":case"===":case"!==":prec=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":prec=7;break;case"<<":case">>":case">>>":prec=8;break;case"+":case"-":prec=9;break;case"*":case"/":case"%":prec=11;break}return prec}function parseBinaryExpression(){var marker,markers,expr,token,prec,stack,right,operator,left,i;marker=lookahead;left=parseUnaryExpression();token=lookahead;prec=binaryPrecedence(token);if(prec===0){return left}token.prec=prec;lex();markers=[marker,lookahead];right=parseUnaryExpression();stack=[left,token,right];while((prec=binaryPrecedence(lookahead))>0){while(stack.length>2&&prec<=stack[stack.length-2].prec){right=stack.pop();operator=stack.pop().value;left=stack.pop();markers.pop();expr=finishBinaryExpression(operator,left,right);stack.push(expr)}token=lex();token.prec=prec;stack.push(token);markers.push(lookahead);expr=parseUnaryExpression();stack.push(expr)}i=stack.length-1;expr=stack[i];markers.pop();while(i>1){markers.pop();expr=finishBinaryExpression(stack[i-1].value,stack[i-2],expr);i-=2}return expr}function parseConditionalExpression(){var expr,consequent,alternate;expr=parseBinaryExpression();if(match("?")){lex();consequent=parseConditionalExpression();expect(":");alternate=parseConditionalExpression();expr=finishConditionalExpression(expr,consequent,alternate)}return expr}function parseExpression(){const expr=parseConditionalExpression();if(match(",")){throw new Error(DISABLED)}return expr}function parser(code){source=code;index=0;length=source.length;lookahead=null;peek();const expr=parseExpression();if(lookahead.type!==TokenEOF){throw new Error("Unexpect token after expression.")}return expr}function getName(node){const name=[];if(node.type==="Identifier"){return[node.name]}if(node.type==="Literal"){return[node.value]}if(node.type==="MemberExpression"){name.push(...getName(node.object));name.push(...getName(node.property))}return name}function startsWithDatum(node){if(node.object.type==="MemberExpression"){return startsWithDatum(node.object)}return node.object.name==="datum"}function getDependentFields(expression){const ast=parser(expression);const dependents=new Set;ast.visit(node=>{if(node.type==="MemberExpression"&&startsWithDatum(node)){dependents.add(getName(node).slice(1).join("."))}});return dependents}class FilterNode extends DataFlowNode{clone(){return new FilterNode(null,this.model,duplicate(this.filter))}constructor(parent,model,filter){super(parent);this.model=model;this.filter=filter;_defineProperty(this,"expr",void 0);_defineProperty(this,"_dependentFields",void 0);this.expr=expression(this.model,this.filter,this);this._dependentFields=getDependentFields(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return"Filter ".concat(this.expr)}}function parseUnitSelection(model,selDefs){const selCmpts={};const selectionConfig=model.config.selection;for(const name of keys(selDefs!==null&&selDefs!==void 0?selDefs:{})){const selDef=duplicate(selDefs[name]);const{fields:fields,encodings:encodings,...cfg}=selectionConfig[selDef.type];for(const key in cfg){if(key==="encodings"&&selDef.fields||key==="fields"&&selDef.encodings){continue}if(key==="mark"){selDef[key]={...cfg[key],...selDef[key]}}if(selDef[key]===undefined||selDef[key]===true){var _cfg$key;selDef[key]=(_cfg$key=cfg[key])!==null&&_cfg$key!==void 0?_cfg$key:selDef[key]}}const safeName=varName(name);const selCmpt=selCmpts[safeName]={...selDef,name:safeName,events:isString(selDef.on)?eventSelector(selDef.on,"scope"):duplicate(selDef.on)};forEachTransform(selCmpt,txCompiler=>{if(txCompiler.has(selCmpt)&&txCompiler.parse){txCompiler.parse(model,selCmpt,selDef,selDefs[name])}})}return selCmpts}function parseSelectionPredicate(model,selections,dfnode,datum="datum"){const stores=[];function expr(name){const vname=varName(name);const selCmpt=model.getSelectionComponent(vname,name);const store=$(vname+STORE);if(selCmpt.project.timeUnit){const child=dfnode!==null&&dfnode!==void 0?dfnode:model.component.data.raw;const tunode=selCmpt.project.timeUnit.clone();if(child.parent){tunode.insertAsParentOf(child)}else{child.parent=tunode}}if(selCmpt.empty!=="none"){stores.push(store)}return"vlSelectionTest(".concat(store,", ").concat(datum)+(selCmpt.resolve==="global"?")":", ".concat($(selCmpt.resolve),")"))}const predicateStr=logicalExpr(selections,expr);return(stores.length?"!("+stores.map(s=>"length(data(".concat(s,"))")).join(" || ")+") || ":"")+"(".concat(predicateStr,")")}function parseSelectionBinExtent(selCmpt,extent){const encoding=extent["encoding"];let field=extent["field"];if(!encoding&&!field){field=selCmpt.project.items[0].field;if(selCmpt.project.items.length>1){warn('A "field" or "encoding" must be specified when using a selection as a scale domain. '+'Using "field": '.concat($(field),"."))}}else if(encoding&&!field){const encodings=selCmpt.project.items.filter(p=>p.channel===encoding);if(!encodings.length||encodings.length>1){field=selCmpt.project.items[0].field;warn((!encodings.length?"No ":"Multiple ")+"matching ".concat($(encoding)," encoding found for selection ").concat($(extent.selection),". ")+'Using "field": '.concat($(field),"."))}else{field=encodings[0].field}}return"".concat(selCmpt.name,"[").concat($(field),"]")}function materializeSelections(model,main){forEachSelection(model,selCmpt=>{const selection=selCmpt.name;const lookupName=model.getName("lookup_".concat(selection));model.component.data.outputNodes[lookupName]=selCmpt.materialized=new OutputNode(new FilterNode(main,model,{selection:selection}),lookupName,DataSourceType.Lookup,model.component.data.outputNodeRefCounts)})}function expression(model,filterOp,node){return logicalExpr(filterOp,predicate=>{if(isString(predicate)){return predicate}else if(isSelectionPredicate(predicate)){return parseSelectionPredicate(model,predicate.selection,node)}else{return fieldFilterExpression(predicate)}})}function assembleTitle(title,config){if(!title){return undefined}if(isArray(title)&&!isText(title)){return title.map(fieldDef=>defaultTitle(fieldDef,config)).join(", ")}return title}function setAxisEncode(axis,part,vgProp,vgRef){var _axis$encode,_axis$encode$part,_axis$encode$part$upd;axis.encode=(_axis$encode=axis.encode)!==null&&_axis$encode!==void 0?_axis$encode:{};axis.encode[part]=(_axis$encode$part=axis.encode[part])!==null&&_axis$encode$part!==void 0?_axis$encode$part:{};axis.encode[part].update=(_axis$encode$part$upd=axis.encode[part].update)!==null&&_axis$encode$part$upd!==void 0?_axis$encode$part$upd:{};axis.encode[part].update[vgProp]=vgRef}function assembleAxis(axisCmpt,kind,config,opt={header:false}){const{disable:disable,orient:orient,scale:scale,labelExpr:labelExpr,title:title,zindex:zindex,...axis}=axisCmpt.combine();if(disable){return undefined}for(const prop in axis){const propType=AXIS_PROPERTY_TYPE[prop];const propValue=axis[prop];if(propType&&propType!==kind&&propType!=="both"){delete axis[prop]}else if(isConditionalAxisValue(propValue)){const{condition:condition,...valueOrSignalRef}=propValue;const conditions=array(condition);const propIndex=CONDITIONAL_AXIS_PROP_INDEX[prop];if(propIndex){const{vgProp:vgProp,part:part}=propIndex;const vgRef=[...conditions.map(c=>{const{test:test,...valueOrSignalCRef}=c;return{test:expression(null,test),...valueOrSignalCRef}}),valueOrSignalRef];setAxisEncode(axis,part,vgProp,vgRef);delete axis[prop]}else if(propIndex===null){const signalRef={signal:conditions.map(c=>{const{test:test,...valueOrSignalCRef}=c;return"".concat(expression(null,test)," ? ").concat(exprFromValueOrSignalRef(valueOrSignalCRef)," : ")}).join("")+exprFromValueOrSignalRef(valueOrSignalRef)};axis[prop]=signalRef}}else if(isSignalRef(propValue)){const propIndex=CONDITIONAL_AXIS_PROP_INDEX[prop];if(propIndex){const{vgProp:vgProp,part:part}=propIndex;setAxisEncode(axis,part,vgProp,propValue);delete axis[prop]}}}if(kind==="grid"){if(!axis.grid){return undefined}if(axis.encode){const{grid:grid}=axis.encode;axis.encode={...grid?{grid:grid}:{}};if(isEmpty(axis.encode)){delete axis.encode}}return{scale:scale,orient:orient,...axis,domain:false,labels:false,aria:false,maxExtent:0,minExtent:0,ticks:false,zindex:getFirstDefined(zindex,0)}}else{if(!opt.header&&axisCmpt.mainExtracted){return undefined}if(labelExpr!==undefined){var _axis$encode2,_axis$encode2$labels;let expr=labelExpr;if(((_axis$encode2=axis.encode)===null||_axis$encode2===void 0?void 0:(_axis$encode2$labels=_axis$encode2.labels)===null||_axis$encode2$labels===void 0?void 0:_axis$encode2$labels.update)&&isSignalRef(axis.encode.labels.update.text)){expr=replaceAll(labelExpr,"datum.label",axis.encode.labels.update.text.signal)}setAxisEncode(axis,"labels","text",{signal:expr})}if(axis.labelAlign===null){delete axis.labelAlign}if(axis.encode){for(const part of AXIS_PARTS){if(!axisCmpt.hasAxisPart(part)){delete axis.encode[part]}}if(isEmpty(axis.encode)){delete axis.encode}}const titleString=assembleTitle(title,config);return{scale:scale,orient:orient,grid:false,...titleString?{title:titleString}:{},...axis,...config.aria===false?{aria:false}:{},zindex:getFirstDefined(zindex,0)}}}function assembleAxisSignals(model){const{axes:axes}=model.component;const signals=[];for(const channel of POSITION_SCALE_CHANNELS){if(axes[channel]){for(const axis of axes[channel]){if(!axis.get("disable")&&!axis.get("gridScale")){const sizeType=channel==="x"?"height":"width";const update=model.getSizeSignalRef(sizeType).signal;if(sizeType!==update){signals.push({name:sizeType,update:update})}}}}}return signals}function assembleAxes(axisComponents,config){const{x:x=[],y:y=[]}=axisComponents;return[...x.map(a=>assembleAxis(a,"grid",config)),...y.map(a=>assembleAxis(a,"grid",config)),...x.map(a=>assembleAxis(a,"main",config)),...y.map(a=>assembleAxis(a,"main",config))].filter(a=>a)}function getAxisConfigFromConfigTypes(configTypes,config,channel,orient){return Object.assign.apply(null,[{},...configTypes.map(configType=>{if(configType==="axisOrient"){const orient1=channel==="x"?"bottom":"left";const orientConfig1=config[channel==="x"?"axisBottom":"axisLeft"]||{};const orientConfig2=config[channel==="x"?"axisTop":"axisRight"]||{};const props=new Set([...keys(orientConfig1),...keys(orientConfig2)]);const conditionalOrientAxisConfig={};for(const prop of props.values()){conditionalOrientAxisConfig[prop]={signal:"".concat(orient["signal"],' === "').concat(orient1,'" ? ').concat(signalOrStringValue(orientConfig1[prop])," : ").concat(signalOrStringValue(orientConfig2[prop]))}}return conditionalOrientAxisConfig}return config[configType]})])}function getAxisConfigs(channel,scaleType,orient,config){const typeBasedConfigTypes=scaleType==="band"?["axisDiscrete","axisBand"]:scaleType==="point"?["axisDiscrete","axisPoint"]:isQuantitative(scaleType)?["axisQuantitative"]:scaleType==="time"||scaleType==="utc"?["axisTemporal"]:[];const axisChannel=channel==="x"?"axisX":"axisY";const axisOrient=isSignalRef(orient)?"axisOrient":"axis"+titleCase(orient);const vlOnlyConfigTypes=[...typeBasedConfigTypes,...typeBasedConfigTypes.map(c=>axisChannel+c.substr(4))];const vgConfigTypes=["axis",axisOrient,axisChannel];return{vlOnlyAxisConfig:getAxisConfigFromConfigTypes(vlOnlyConfigTypes,config,channel,orient),vgAxisConfig:getAxisConfigFromConfigTypes(vgConfigTypes,config,channel,orient),axisConfigStyle:getAxisConfigStyle([...vgConfigTypes,...vlOnlyConfigTypes],config)}}function getAxisConfigStyle(axisConfigTypes,config){const toMerge=[{}];for(const configType of axisConfigTypes){var _config$configType;let style=(_config$configType=config[configType])===null||_config$configType===void 0?void 0:_config$configType.style;if(style){style=array(style);for(const s of style){toMerge.push(config.style[s])}}}return Object.assign.apply(null,toMerge)}function getAxisConfig(property,styleConfigIndex,style,axisConfigs={}){const styleConfig=getStyleConfig(property,style,styleConfigIndex);if(styleConfig!==undefined){return{configFrom:"style",configValue:styleConfig}}for(const configFrom of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]){var _axisConfigs$configFr;if(((_axisConfigs$configFr=axisConfigs[configFrom])===null||_axisConfigs$configFr===void 0?void 0:_axisConfigs$configFr[property])!==undefined){return{configFrom:configFrom,configValue:axisConfigs[configFrom][property]}}}return{}}const axisRules={scale:({model:model,channel:channel})=>model.scaleName(channel),format:({fieldOrDatumDef:fieldOrDatumDef,config:config,axis:axis})=>{const{format:format,formatType:formatType}=axis;return guideFormat(fieldOrDatumDef,fieldOrDatumDef.type,format,formatType,config,true)},formatType:({axis:axis,fieldOrDatumDef:fieldOrDatumDef,scaleType:scaleType})=>{const{formatType:formatType}=axis;return guideFormatType(formatType,fieldOrDatumDef,scaleType)},grid:({fieldOrDatumDef:fieldOrDatumDef,axis:axis,scaleType:scaleType})=>{if(isFieldDef(fieldOrDatumDef)&&isBinned(fieldOrDatumDef.bin)){return false}else{var _axis$grid;return(_axis$grid=axis.grid)!==null&&_axis$grid!==void 0?_axis$grid:defaultGrid(scaleType,fieldOrDatumDef)}},gridScale:({model:model,channel:channel})=>gridScale(model,channel),labelAlign:({axis:axis,labelAngle:labelAngle,orient:orient,channel:channel})=>axis.labelAlign||defaultLabelAlign(labelAngle,orient,channel),labelAngle:({labelAngle:labelAngle})=>labelAngle,labelBaseline:({axis:axis,labelAngle:labelAngle,orient:orient,channel:channel})=>axis.labelBaseline||defaultLabelBaseline(labelAngle,orient,channel),labelFlush:({axis:axis,fieldOrDatumDef:fieldOrDatumDef,channel:channel})=>{var _axis$labelFlush;return(_axis$labelFlush=axis.labelFlush)!==null&&_axis$labelFlush!==void 0?_axis$labelFlush:defaultLabelFlush(fieldOrDatumDef.type,channel)},labelOverlap:({axis:axis,fieldOrDatumDef:fieldOrDatumDef,scaleType:scaleType})=>{var _axis$labelOverlap;return(_axis$labelOverlap=axis.labelOverlap)!==null&&_axis$labelOverlap!==void 0?_axis$labelOverlap:defaultLabelOverlap(fieldOrDatumDef.type,scaleType,isFieldDef(fieldOrDatumDef)&&!!fieldOrDatumDef.timeUnit,isFieldDef(fieldOrDatumDef)?fieldOrDatumDef.sort:undefined)},orient:({orient:orient})=>orient,tickCount:({channel:channel,model:model,axis:axis,fieldOrDatumDef:fieldOrDatumDef,scaleType:scaleType})=>{var _axis$tickCount;const sizeType=channel==="x"?"width":channel==="y"?"height":undefined;const size=sizeType?model.getSizeSignalRef(sizeType):undefined;return(_axis$tickCount=axis.tickCount)!==null&&_axis$tickCount!==void 0?_axis$tickCount:defaultTickCount({fieldOrDatumDef:fieldOrDatumDef,scaleType:scaleType,size:size,values:axis.values})},title:({axis:axis,model:model,channel:channel})=>{if(axis.title!==undefined){return axis.title}const fieldDefTitle=getFieldDefTitle(model,channel);if(fieldDefTitle!==undefined){return fieldDefTitle}const fieldDef=model.typedFieldDef(channel);const channel2=channel==="x"?"x2":"y2";const fieldDef2=model.fieldDef(channel2);return mergeTitleFieldDefs(fieldDef?[toFieldDefBase(fieldDef)]:[],isFieldDef(fieldDef2)?[toFieldDefBase(fieldDef2)]:[])},values:({axis:axis,fieldOrDatumDef:fieldOrDatumDef})=>values(axis,fieldOrDatumDef),zindex:({axis:axis,fieldOrDatumDef:fieldOrDatumDef,mark:mark})=>{var _axis$zindex;return(_axis$zindex=axis.zindex)!==null&&_axis$zindex!==void 0?_axis$zindex:defaultZindex(mark,fieldOrDatumDef)}};function defaultGrid(scaleType,fieldDef){return!hasDiscreteDomain(scaleType)&&isFieldDef(fieldDef)&&!isBinning(fieldDef===null||fieldDef===void 0?void 0:fieldDef.bin)}function gridScale(model,channel){const gridChannel=channel==="x"?"y":"x";if(model.getScaleComponent(gridChannel)){return model.scaleName(gridChannel)}return undefined}function getLabelAngle(fieldOrDatumDef,axis,channel,styleConfig,axisConfigs){const labelAngle=axis===null||axis===void 0?void 0:axis.labelAngle;if(labelAngle!==undefined){return isSignalRef(labelAngle)?labelAngle:normalizeAngle(labelAngle)}else{const{configValue:angle}=getAxisConfig("labelAngle",styleConfig,axis===null||axis===void 0?void 0:axis.style,axisConfigs);if(angle!==undefined){return normalizeAngle(angle)}else{if(channel===X&&contains([NOMINAL,ORDINAL],fieldOrDatumDef.type)&&!(isFieldDef(fieldOrDatumDef)&&fieldOrDatumDef.timeUnit)){return 270}return undefined}}}function normalizeAngleExpr(angle){return"(((".concat(angle.signal," % 360) + 360) % 360)")}function defaultLabelBaseline(angle,orient,channel,alwaysIncludeMiddle){if(angle!==undefined){if(channel==="x"){if(isSignalRef(angle)){const a=normalizeAngleExpr(angle);const orientIsTop=isSignalRef(orient)?"(".concat(orient.signal,' === "top")'):orient==="top";return{signal:"(45 < ".concat(a," && ").concat(a," < 135) || (225 < ").concat(a," && ").concat(a,' < 315) ? "middle" :')+"(".concat(a," <= 45 || 315 <= ").concat(a,") === ").concat(orientIsTop,' ? "bottom" : "top"')}}if(45<angle&&angle<135||225<angle&&angle<315){return"middle"}if(isSignalRef(orient)){const op=angle<=45||315<=angle?"===":"!==";return{signal:"".concat(orient.signal," ").concat(op,' "top" ? "bottom" : "top"')}}return(angle<=45||315<=angle)===(orient==="top")?"bottom":"top"}else{if(isSignalRef(angle)){const a=normalizeAngleExpr(angle);const orientIsLeft=isSignalRef(orient)?"(".concat(orient.signal,' === "left")'):orient==="left";const middle=alwaysIncludeMiddle?'"middle"':"null";return{signal:"".concat(a," <= 45 || 315 <= ").concat(a," || (135 <= ").concat(a," && ").concat(a," <= 225) ? ").concat(middle," : (45 <= ").concat(a," && ").concat(a," <= 135) === ").concat(orientIsLeft,' ? "top" : "bottom"')}}if(angle<=45||315<=angle||135<=angle&&angle<=225){return alwaysIncludeMiddle?"middle":null}if(isSignalRef(orient)){const op=45<=angle&&angle<=135?"===":"!==";return{signal:"".concat(orient.signal," ").concat(op,' "left" ? "top" : "bottom"')}}return(45<=angle&&angle<=135)===(orient==="left")?"top":"bottom"}}return undefined}function defaultLabelAlign(angle,orient,channel){if(angle===undefined){return undefined}const isX=channel==="x";const startAngle=isX?0:90;const mainOrient=isX?"bottom":"left";if(isSignalRef(angle)){const a=normalizeAngleExpr(angle);const orientIsMain=isSignalRef(orient)?"(".concat(orient.signal,' === "').concat(mainOrient,'")'):orient===mainOrient;return{signal:"(".concat(startAngle?"("+a+" + 90)":a," % 180 === 0) ? ").concat(isX?null:'"center"'," :")+"(".concat(startAngle," < ").concat(a," && ").concat(a," < ").concat(180+startAngle,") === ").concat(orientIsMain,' ? "left" : "right"')}}if((angle+startAngle)%180===0){return isX?null:"center"}if(isSignalRef(orient)){const op=startAngle<angle&&angle<180+startAngle?"===":"!==";const orientIsMain="".concat(orient.signal," ").concat(op,' "').concat(mainOrient,'"');return{signal:"".concat(orientIsMain,' ? "left" : "right"')}}if((startAngle<angle&&angle<180+startAngle)===(orient===mainOrient)){return"left"}return"right"}function defaultLabelFlush(type,channel){if(channel==="x"&&contains(["quantitative","temporal"],type)){return true}return undefined}function defaultLabelOverlap(type,scaleType,hasTimeUnit,sort){if(hasTimeUnit&&!isObject(sort)||type!=="nominal"&&type!=="ordinal"){if(scaleType==="log"||scaleType==="symlog"){return"greedy"}return true}return undefined}function defaultOrient(channel){return channel==="x"?"bottom":"left"}function defaultTickCount({fieldOrDatumDef:fieldOrDatumDef,scaleType:scaleType,size:size,values:vals}){if(!vals&&!hasDiscreteDomain(scaleType)&&scaleType!=="log"){if(isFieldDef(fieldOrDatumDef)){var _normalizeTimeUnit;if(isBinning(fieldOrDatumDef.bin)){return{signal:"ceil(".concat(size.signal,"/10)")}}if(fieldOrDatumDef.timeUnit&&contains(["month","hours","day","quarter"],(_normalizeTimeUnit=normalizeTimeUnit(fieldOrDatumDef.timeUnit))===null||_normalizeTimeUnit===void 0?void 0:_normalizeTimeUnit.unit)){return undefined}}return{signal:"ceil(".concat(size.signal,"/40)")}}return undefined}function getFieldDefTitle(model,channel){const channel2=channel==="x"?"x2":"y2";const fieldDef=model.fieldDef(channel);const fieldDef2=model.fieldDef(channel2);const title1=fieldDef?fieldDef.title:undefined;const title2=fieldDef2?fieldDef2.title:undefined;if(title1&&title2){return mergeTitle(title1,title2)}else if(title1){return title1}else if(title2){return title2}else if(title1!==undefined){return title1}else if(title2!==undefined){return title2}return undefined}function values(axis,fieldOrDatumDef){const vals=axis.values;if(isArray(vals)){return valueArray(fieldOrDatumDef,vals)}else if(isSignalRef(vals)){return vals}return undefined}function defaultZindex(mark,fieldDef){if(mark==="rect"&&isDiscrete(fieldDef)){return 1}return 0}class CalculateNode extends DataFlowNode{clone(){return new CalculateNode(null,duplicate(this.transform))}constructor(parent,transform){super(parent);this.transform=transform;_defineProperty(this,"_dependentFields",void 0);this._dependentFields=getDependentFields(this.transform.calculate)}static parseAllForSortIndex(parent,model){model.forEachFieldDef((fieldDef,channel)=>{if(!isScaleFieldDef(fieldDef)){return}if(isSortArray(fieldDef.sort)){const{field:field,timeUnit:timeUnit}=fieldDef;const sort=fieldDef.sort;const calculate=sort.map((sortValue,i)=>"".concat(fieldFilterExpression({field:field,timeUnit:timeUnit,equal:sortValue})," ? ").concat(i," : ")).join("")+sort.length;parent=new CalculateNode(parent,{calculate:calculate,as:sortArrayIndexField(fieldDef,channel,{forAs:true})})}});return parent}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return"Calculate ".concat(hash(this.transform))}}function sortArrayIndexField(fieldDef,channel,opt){return vgField(fieldDef,{prefix:channel,suffix:"sort_index",...opt!==null&&opt!==void 0?opt:{}})}function getHeaderChannel(channel,orient){if(contains(["top","bottom"],orient)){return"column"}else if(contains(["left","right"],orient)){return"row"}return channel==="row"?"row":"column"}function getHeaderProperty(prop,header,config,channel){const headerSpecificConfig=channel==="row"?config.headerRow:channel==="column"?config.headerColumn:config.headerFacet;return getFirstDefined((header||{})[prop],headerSpecificConfig[prop],config.header[prop])}function getHeaderProperties(properties,header,config,channel){const props={};for(const prop of properties){const value=getHeaderProperty(prop,header||{},config,channel);if(value!==undefined){props[prop]=value}}return props}const HEADER_CHANNELS=["row","column"];const HEADER_TYPES=["header","footer"];function assembleTitleGroup(model,channel){const title=model.component.layoutHeaders[channel].title;const config=model.config?model.config:undefined;const facetFieldDef=model.component.layoutHeaders[channel].facetFieldDef?model.component.layoutHeaders[channel].facetFieldDef:undefined;const{titleAnchor:titleAnchor,titleAngle:ta,titleOrient:titleOrient}=getHeaderProperties(["titleAnchor","titleAngle","titleOrient"],facetFieldDef.header,config,channel);const headerChannel=getHeaderChannel(channel,titleOrient);const titleAngle=normalizeAngle(ta);return{name:"".concat(channel,"-title"),type:"group",role:"".concat(headerChannel,"-title"),title:{text:title,...channel==="row"?{orient:"left"}:{},style:"guide-title",...defaultHeaderGuideBaseline(titleAngle,headerChannel),...defaultHeaderGuideAlign(headerChannel,titleAngle,titleAnchor),...assembleHeaderProperties(config,facetFieldDef,channel,HEADER_TITLE_PROPERTIES,HEADER_TITLE_PROPERTIES_MAP)}}}function defaultHeaderGuideAlign(headerChannel,angle,anchor="middle"){switch(anchor){case"start":return{align:"left"};case"end":return{align:"right"}}const align=defaultLabelAlign(angle,headerChannel==="row"?"left":"top",headerChannel==="row"?"y":"x");return align?{align:align}:{}}function defaultHeaderGuideBaseline(angle,channel){const baseline=defaultLabelBaseline(angle,channel==="row"?"left":"top",channel==="row"?"y":"x",true);return baseline?{baseline:baseline}:{}}function assembleHeaderGroups(model,channel){const layoutHeader=model.component.layoutHeaders[channel];const groups=[];for(const headerType of HEADER_TYPES){if(layoutHeader[headerType]){for(const headerComponent of layoutHeader[headerType]){const group=assembleHeaderGroup(model,channel,headerType,layoutHeader,headerComponent);if(group!=null){groups.push(group)}}}}return groups}function getSort(facetFieldDef,channel){const{sort:sort}=facetFieldDef;if(isSortField(sort)){var _sort$order;return{field:vgField(sort,{expr:"datum"}),order:(_sort$order=sort.order)!==null&&_sort$order!==void 0?_sort$order:"ascending"}}else if(isArray(sort)){return{field:sortArrayIndexField(facetFieldDef,channel,{expr:"datum"}),order:"ascending"}}else{return{field:vgField(facetFieldDef,{expr:"datum"}),order:sort!==null&&sort!==void 0?sort:"ascending"}}}function assembleLabelTitle(facetFieldDef,channel,config){const{format:format,formatType:formatType,labelAngle:labelAngle,labelAnchor:labelAnchor,labelOrient:labelOrient,labelExpr:labelExpr}=getHeaderProperties(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],facetFieldDef.header,config,channel);const titleTextExpr=formatSignalRef({fieldOrDatumDef:facetFieldDef,format:format,formatType:formatType,expr:"parent",config:config}).signal;const headerChannel=getHeaderChannel(channel,labelOrient);return{text:{signal:labelExpr?replaceAll(replaceAll(labelExpr,"datum.label",titleTextExpr),"datum.value",vgField(facetFieldDef,{expr:"parent"})):titleTextExpr},...channel==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...defaultHeaderGuideBaseline(labelAngle,headerChannel),...defaultHeaderGuideAlign(headerChannel,labelAngle,labelAnchor),...assembleHeaderProperties(config,facetFieldDef,channel,HEADER_LABEL_PROPERTIES,HEADER_LABEL_PROPERTIES_MAP)}}function assembleHeaderGroup(model,channel,headerType,layoutHeader,headerComponent){if(headerComponent){let title=null;const{facetFieldDef:facetFieldDef}=layoutHeader;const config=model.config?model.config:undefined;if(facetFieldDef&&headerComponent.labels){const{labelOrient:labelOrient}=getHeaderProperties(["labelOrient"],facetFieldDef.header,config,channel);if(channel==="row"&&!contains(["top","bottom"],labelOrient)||channel==="column"&&!contains(["left","right"],labelOrient)){title=assembleLabelTitle(facetFieldDef,channel,config)}}const isFacetWithoutRowCol=isFacetModel(model)&&!isFacetMapping(model.facet);const axes=headerComponent.axes;const hasAxes=(axes===null||axes===void 0?void 0:axes.length)>0;if(title||hasAxes){const sizeChannel=channel==="row"?"height":"width";return{name:model.getName("".concat(channel,"_").concat(headerType)),type:"group",role:"".concat(channel,"-").concat(headerType),...layoutHeader.facetFieldDef?{from:{data:model.getName(channel+"_domain")},sort:getSort(facetFieldDef,channel)}:{},...hasAxes&&isFacetWithoutRowCol?{from:{data:model.getName("facet_domain_".concat(channel))}}:{},...title?{title:title}:{},...headerComponent.sizeSignal?{encode:{update:{[sizeChannel]:headerComponent.sizeSignal}}}:{},...hasAxes?{axes:axes}:{}}}}return null}const LAYOUT_TITLE_BAND={column:{start:0,end:1},row:{start:1,end:0}};function getLayoutTitleBand(titleAnchor,headerChannel){return LAYOUT_TITLE_BAND[headerChannel][titleAnchor]}function assembleLayoutTitleBand(headerComponentIndex,config){const titleBand={};for(const channel of FACET_CHANNELS){const headerComponent=headerComponentIndex[channel];if(headerComponent===null||headerComponent===void 0?void 0:headerComponent.facetFieldDef){const{titleAnchor:titleAnchor,titleOrient:titleOrient}=getHeaderProperties(["titleAnchor","titleOrient"],headerComponent.facetFieldDef.header,config,channel);const headerChannel=getHeaderChannel(channel,titleOrient);const band=getLayoutTitleBand(titleAnchor,headerChannel);if(band!==undefined){titleBand[headerChannel]=band}}}return isEmpty(titleBand)?undefined:titleBand}function assembleHeaderProperties(config,facetFieldDef,channel,properties,propertiesMap){const props={};for(const prop of properties){if(!propertiesMap[prop]){continue}const value=getHeaderProperty(prop,facetFieldDef===null||facetFieldDef===void 0?void 0:facetFieldDef.header,config,channel);if(value!==undefined){props[propertiesMap[prop]]=value}}return props}function assembleLayoutSignals(model){return[...sizeSignals(model,"width"),...sizeSignals(model,"height"),...sizeSignals(model,"childWidth"),...sizeSignals(model,"childHeight")]}function sizeSignals(model,sizeType){const channel=sizeType==="width"?"x":"y";const size=model.component.layoutSize.get(sizeType);if(!size||size==="merged"){return[]}const name=model.getSizeSignalRef(sizeType).signal;if(size==="step"){const scaleComponent=model.getScaleComponent(channel);if(scaleComponent){const type=scaleComponent.get("type");const range=scaleComponent.get("range");if(hasDiscreteDomain(type)&&isVgRangeStep(range)){const scaleName=model.scaleName(channel);if(isFacetModel(model.parent)){const parentResolve=model.parent.component.resolve;if(parentResolve.scale[channel]==="independent"){return[stepSignal(scaleName,range)]}}return[stepSignal(scaleName,range),{name:name,update:sizeExpr(scaleName,scaleComponent,"domain('".concat(scaleName,"').length"))}]}}throw new Error("layout size is step although width/height is not step.")}else if(size=="container"){const isWidth=name.endsWith("width");const expr=isWidth?"containerSize()[0]":"containerSize()[1]";const defaultValue=getViewConfigContinuousSize(model.config.view,isWidth?"width":"height");const safeExpr="isFinite(".concat(expr,") ? ").concat(expr," : ").concat(defaultValue);return[{name:name,init:safeExpr,on:[{update:safeExpr,events:"window:resize"}]}]}else{return[{name:name,value:size}]}}function stepSignal(scaleName,range){return{name:scaleName+"_step",value:range.step}}function sizeExpr(scaleName,scaleComponent,cardinality){const type=scaleComponent.get("type");const padding=scaleComponent.get("padding");const paddingOuter=getFirstDefined(scaleComponent.get("paddingOuter"),padding);let paddingInner=scaleComponent.get("paddingInner");paddingInner=type==="band"?paddingInner!==undefined?paddingInner:padding:1;return"bandspace(".concat(cardinality,", ").concat(signalOrStringValue(paddingInner),", ").concat(signalOrStringValue(paddingOuter),") * ").concat(scaleName,"_step")}function getSizeTypeFromLayoutSizeType(layoutSizeType){return layoutSizeType==="childWidth"?"width":layoutSizeType==="childHeight"?"height":layoutSizeType}function guideEncodeEntry(encoding,model){return keys(encoding).reduce((encode,channel)=>{const valueDef=encoding[channel];return{...encode,...wrapCondition(model,valueDef,channel,def=>signalOrValueRef(def.value))}},{})}function defaultScaleResolve(channel,model){if(isLayerModel(model)||isFacetModel(model)){return"shared"}else if(isConcatModel(model)){return isXorY(channel)?"independent":"shared"}throw new Error("invalid model type for resolve")}function parseGuideResolve(resolve,channel){const channelScaleResolve=resolve.scale[channel];const guide=isXorY(channel)?"axis":"legend";if(channelScaleResolve==="independent"){if(resolve[guide][channel]==="shared"){warn(independentScaleMeansIndependentGuide(channel))}return"independent"}return resolve[guide][channel]||"shared"}const LEGEND_COMPONENT_PROPERTY_INDEX={...COMMON_LEGEND_PROPERTY_INDEX,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1};const LEGEND_COMPONENT_PROPERTIES=keys(LEGEND_COMPONENT_PROPERTY_INDEX);class LegendComponent extends Split{}const legendEncodeRules={symbols:symbols,gradient:gradient,labels:labels,entries:entries$1};function symbols(symbolsSpec,{fieldOrDatumDef:fieldOrDatumDef,model:model,channel:channel,legendCmpt:legendCmpt,legendType:legendType}){var _legendCmpt$get,_legendCmpt$get2,_legendCmpt$get3,_getMaxValue;if(legendType!=="symbol"){return undefined}const{markDef:markDef,encoding:encoding,config:config,mark:mark}=model;const filled=markDef.filled&&mark!=="trail";let out={...applyMarkConfig({},model,FILL_STROKE_CONFIG),...color(model,{filled:filled})};const symbolOpacity=(_legendCmpt$get=legendCmpt.get("symbolOpacity"))!==null&&_legendCmpt$get!==void 0?_legendCmpt$get:config.legend.symbolOpacity;const symbolFillColor=(_legendCmpt$get2=legendCmpt.get("symbolFillColor"))!==null&&_legendCmpt$get2!==void 0?_legendCmpt$get2:config.legend.symbolFillColor;const symbolStrokeColor=(_legendCmpt$get3=legendCmpt.get("symbolStrokeColor"))!==null&&_legendCmpt$get3!==void 0?_legendCmpt$get3:config.legend.symbolStrokeColor;const opacity=symbolOpacity===undefined?(_getMaxValue=getMaxValue(encoding.opacity))!==null&&_getMaxValue!==void 0?_getMaxValue:markDef.opacity:undefined;if(out.fill){if(channel==="fill"||filled&&channel===COLOR){delete out.fill}else{if(out.fill["field"]){if(symbolFillColor){delete out.fill}else{var _config$legend$symbol;out.fill=signalOrValueRef((_config$legend$symbol=config.legend.symbolBaseFillColor)!==null&&_config$legend$symbol!==void 0?_config$legend$symbol:"black");out.fillOpacity=signalOrValueRef(opacity!==null&&opacity!==void 0?opacity:1)}}else if(isArray(out.fill)){var _ref,_getFirstConditionVal,_encoding$fill;const fill=(_ref=(_getFirstConditionVal=getFirstConditionValue((_encoding$fill=encoding.fill)!==null&&_encoding$fill!==void 0?_encoding$fill:encoding.color))!==null&&_getFirstConditionVal!==void 0?_getFirstConditionVal:markDef.fill)!==null&&_ref!==void 0?_ref:filled&&markDef.color;if(fill){out.fill=signalOrValueRef(fill)}}}}if(out.stroke){if(channel==="stroke"||!filled&&channel===COLOR){delete out.stroke}else{if(out.stroke["field"]||symbolStrokeColor){delete out.stroke}else if(isArray(out.stroke)){const stroke=getFirstDefined(getFirstConditionValue(encoding.stroke||encoding.color),markDef.stroke,filled?markDef.color:undefined);if(stroke){out.stroke={value:stroke}}}}}if(channel!==OPACITY){const condition=isFieldDef(fieldOrDatumDef)&&selectedCondition(model,legendCmpt,fieldOrDatumDef);if(condition){out.opacity=[{test:condition,...signalOrValueRef(opacity!==null&&opacity!==void 0?opacity:1)},signalOrValueRef(config.legend.unselectedOpacity)]}else if(opacity){out.opacity=signalOrValueRef(opacity)}}out={...out,...symbolsSpec};return isEmpty(out)?undefined:out}function gradient(gradientSpec,{model:model,legendType:legendType,legendCmpt:legendCmpt}){var _legendCmpt$get4;if(legendType!=="gradient"){return undefined}const{config:config,markDef:markDef,encoding:encoding}=model;let out={};const gradientOpacity=(_legendCmpt$get4=legendCmpt.get("gradientOpacity"))!==null&&_legendCmpt$get4!==void 0?_legendCmpt$get4:config.legend.gradientOpacity;const opacity=gradientOpacity===undefined?getMaxValue(encoding.opacity)||markDef.opacity:undefined;if(opacity){out.opacity=signalOrValueRef(opacity)}out={...out,...gradientSpec};return isEmpty(out)?undefined:out}function labels(specifiedlabelsSpec,{fieldOrDatumDef:fieldOrDatumDef,model:model,channel:channel,legendCmpt:legendCmpt}){const legend=model.legend(channel)||{};const config=model.config;const condition=isFieldDef(fieldOrDatumDef)?selectedCondition(model,legendCmpt,fieldOrDatumDef):undefined;const opacity=condition?[{test:condition,value:1},{value:config.legend.unselectedOpacity}]:undefined;const{format:format,formatType:formatType}=legend;const text=isCustomFormatType(formatType)?formatCustomType({fieldOrDatumDef:fieldOrDatumDef,field:"datum.value",format:format,formatType:formatType,config:config}):undefined;const labelsSpec={...opacity?{opacity:opacity}:{},...text?{text:text}:{},...specifiedlabelsSpec};return isEmpty(labelsSpec)?undefined:labelsSpec}function entries$1(entriesSpec,{legendCmpt:legendCmpt}){const selections=legendCmpt.get("selections");return(selections===null||selections===void 0?void 0:selections.length)?{...entriesSpec,fill:{value:"transparent"}}:entriesSpec}function getMaxValue(channelDef){return getConditionValue(channelDef,(v,conditionalDef)=>Math.max(v,conditionalDef.value))}function getFirstConditionValue(channelDef){return getConditionValue(channelDef,(v,conditionalDef)=>getFirstDefined(v,conditionalDef.value))}function getConditionValue(channelDef,reducer){if(hasConditionalValueDef(channelDef)){return array(channelDef.condition).reduce(reducer,channelDef.value)}else if(isValueDef(channelDef)){return channelDef.value}return undefined}function selectedCondition(model,legendCmpt,fieldDef){const selections=legendCmpt.get("selections");if(!(selections===null||selections===void 0?void 0:selections.length))return undefined;const field=$(fieldDef.field);return selections.map(name=>{const store=$(varName(name)+STORE);return"(!length(data(".concat(store,")) || (").concat(name,"[").concat(field,"] && indexof(").concat(name,"[").concat(field,"], datum.value) >= 0))")}).join(" || ")}const legendRules={direction:({direction:direction})=>direction,format:({fieldOrDatumDef:fieldOrDatumDef,legend:legend,config:config})=>{const{format:format,formatType:formatType}=legend;return guideFormat(fieldOrDatumDef,fieldOrDatumDef.type,format,formatType,config,false)},formatType:({legend:legend,fieldOrDatumDef:fieldOrDatumDef,scaleType:scaleType})=>{const{formatType:formatType}=legend;return guideFormatType(formatType,fieldOrDatumDef,scaleType)},gradientLength:params=>{var _ref,_legend$gradientLengt;const{legend:legend,legendConfig:legendConfig}=params;return(_ref=(_legend$gradientLengt=legend.gradientLength)!==null&&_legend$gradientLengt!==void 0?_legend$gradientLengt:legendConfig.gradientLength)!==null&&_ref!==void 0?_ref:defaultGradientLength(params)},labelOverlap:({legend:legend,legendConfig:legendConfig,scaleType:scaleType})=>{var _ref2,_legend$labelOverlap;return(_ref2=(_legend$labelOverlap=legend.labelOverlap)!==null&&_legend$labelOverlap!==void 0?_legend$labelOverlap:legendConfig.labelOverlap)!==null&&_ref2!==void 0?_ref2:defaultLabelOverlap$1(scaleType)},symbolType:({legend:legend,markDef:markDef,channel:channel,encoding:encoding})=>{var _legend$symbolType;return(_legend$symbolType=legend.symbolType)!==null&&_legend$symbolType!==void 0?_legend$symbolType:defaultSymbolType(markDef.type,channel,encoding.shape,markDef.shape)},title:({fieldOrDatumDef:fieldOrDatumDef,config:config})=>title(fieldOrDatumDef,config,{allowDisabling:true}),type:({legendType:legendType,scaleType:scaleType,channel:channel})=>{if(isColorChannel(channel)&&isContinuousToContinuous(scaleType)){if(legendType==="gradient"){return undefined}}else if(legendType==="symbol"){return undefined}return legendType},values:({fieldOrDatumDef:fieldOrDatumDef,legend:legend})=>values$1(legend,fieldOrDatumDef)};function values$1(legend,fieldOrDatumDef){const vals=legend.values;if(isArray(vals)){return valueArray(fieldOrDatumDef,vals)}else if(isSignalRef(vals)){return vals}return undefined}function defaultSymbolType(mark,channel,shapeChannelDef,markShape){if(channel!=="shape"){var _getFirstConditionVal;const shape=(_getFirstConditionVal=getFirstConditionValue(shapeChannelDef))!==null&&_getFirstConditionVal!==void 0?_getFirstConditionVal:markShape;if(shape){return shape}}switch(mark){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function getLegendType(params){const{legend:legend}=params;return getFirstDefined(legend.type,defaultType$1(params))}function defaultType$1({channel:channel,timeUnit:timeUnit,scaleType:scaleType}){if(isColorChannel(channel)){if(contains(["quarter","month","day"],timeUnit)){return"symbol"}if(isContinuousToContinuous(scaleType)){return"gradient"}}return"symbol"}function getDirection({legendConfig:legendConfig,legendType:legendType,orient:orient,legend:legend}){var _ref3,_legend$direction;return(_ref3=(_legend$direction=legend.direction)!==null&&_legend$direction!==void 0?_legend$direction:legendConfig[legendType?"gradientDirection":"symbolDirection"])!==null&&_ref3!==void 0?_ref3:defaultDirection(orient,legendType)}function defaultDirection(orient,legendType){switch(orient){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case undefined:return undefined;default:return legendType==="gradient"?"horizontal":undefined}}function defaultGradientLength({legendConfig:legendConfig,model:model,direction:direction,orient:orient,scaleType:scaleType}){const{gradientHorizontalMaxLength:gradientHorizontalMaxLength,gradientHorizontalMinLength:gradientHorizontalMinLength,gradientVerticalMaxLength:gradientVerticalMaxLength,gradientVerticalMinLength:gradientVerticalMinLength}=legendConfig;if(isContinuousToContinuous(scaleType)){if(direction==="horizontal"){if(orient==="top"||orient==="bottom"){return gradientLengthSignal(model,"width",gradientHorizontalMinLength,gradientHorizontalMaxLength)}else{return gradientHorizontalMinLength}}else{return gradientLengthSignal(model,"height",gradientVerticalMinLength,gradientVerticalMaxLength)}}return undefined}function gradientLengthSignal(model,sizeType,min,max){const sizeSignal=model.getSizeSignalRef(sizeType).signal;return{signal:"clamp(".concat(sizeSignal,", ").concat(min,", ").concat(max,")")}}function defaultLabelOverlap$1(scaleType){if(contains(["quantile","threshold","log","symlog"],scaleType)){return"greedy"}return undefined}function parseLegend(model){const legendComponent=isUnitModel(model)?parseUnitLegend(model):parseNonUnitLegend(model);model.component.legends=legendComponent;return legendComponent}function parseUnitLegend(model){const{encoding:encoding}=model;const legendComponent={};for(const channel of[COLOR,...LEGEND_SCALE_CHANNELS]){const def=getFieldOrDatumDef(encoding[channel]);if(!def||!model.getScaleComponent(channel)){continue}if(channel===SHAPE&&isFieldDef(def)&&def.type===GEOJSON){continue}legendComponent[channel]=parseLegendForChannel(model,channel)}return legendComponent}function getLegendDefWithScale(model,channel){const scale=model.scaleName(channel);if(model.mark==="trail"){if(channel==="color"){return{stroke:scale}}else if(channel==="size"){return{strokeWidth:scale}}}if(channel==="color"){return model.markDef.filled?{fill:scale}:{stroke:scale}}return{[channel]:scale}}function isExplicit(value,property,legend,fieldDef){switch(property){case"disable":return legend!==undefined;case"values":return!!(legend===null||legend===void 0?void 0:legend.values);case"title":if(property==="title"&&value===(fieldDef===null||fieldDef===void 0?void 0:fieldDef.title)){return true}}return value===(legend||{})[property]}function parseLegendForChannel(model,channel){var _normalizeTimeUnit,_legend$encoding,_legend;let legend=model.legend(channel);const{markDef:markDef,encoding:encoding,config:config}=model;const legendConfig=config.legend;const legendCmpt=new LegendComponent({},getLegendDefWithScale(model,channel));parseInteractiveLegend(model,channel,legendCmpt);const disable=legend!==undefined?!legend:legendConfig.disable;legendCmpt.set("disable",disable,legend!==undefined);if(disable){return legendCmpt}legend=legend||{};const scaleType=model.getScaleComponent(channel).get("type");const fieldOrDatumDef=getFieldOrDatumDef(encoding[channel]);const timeUnit=isFieldDef(fieldOrDatumDef)?(_normalizeTimeUnit=normalizeTimeUnit(fieldOrDatumDef.timeUnit))===null||_normalizeTimeUnit===void 0?void 0:_normalizeTimeUnit.unit:undefined;const orient=legend.orient||config.legend.orient||"right";const legendType=getLegendType({legend:legend,channel:channel,timeUnit:timeUnit,scaleType:scaleType});const direction=getDirection({legend:legend,legendType:legendType,orient:orient,legendConfig:legendConfig});const ruleParams={legend:legend,channel:channel,model:model,markDef:markDef,encoding:encoding,fieldOrDatumDef:fieldOrDatumDef,legendConfig:legendConfig,config:config,scaleType:scaleType,orient:orient,legendType:legendType,direction:direction};for(const property of LEGEND_COMPONENT_PROPERTIES){if(legendType==="gradient"&&property.startsWith("symbol")||legendType==="symbol"&&property.startsWith("gradient")){continue}const value=property in legendRules?legendRules[property](ruleParams):legend[property];if(value!==undefined){const explicit=isExplicit(value,property,legend,model.fieldDef(channel));if(explicit||config.legend[property]===undefined){legendCmpt.set(property,value,explicit)}}}const legendEncoding=(_legend$encoding=(_legend=legend)===null||_legend===void 0?void 0:_legend.encoding)!==null&&_legend$encoding!==void 0?_legend$encoding:{};const selections=legendCmpt.get("selections");const legendEncode={};const legendEncodeParams={fieldOrDatumDef:fieldOrDatumDef,model:model,channel:channel,legendCmpt:legendCmpt,legendType:legendType};for(const part of["labels","legend","title","symbols","gradient","entries"]){var _legendEncoding$part;const legendEncodingPart=guideEncodeEntry((_legendEncoding$part=legendEncoding[part])!==null&&_legendEncoding$part!==void 0?_legendEncoding$part:{},model);const value=part in legendEncodeRules?legendEncodeRules[part](legendEncodingPart,legendEncodeParams):legendEncodingPart;if(value!==undefined&&!isEmpty(value)){legendEncode[part]={...(selections===null||selections===void 0?void 0:selections.length)&&isFieldDef(fieldOrDatumDef)?{name:"".concat(varName(fieldOrDatumDef.field),"_legend_").concat(part)}:{},...(selections===null||selections===void 0?void 0:selections.length)?{interactive:!!selections}:{},update:value}}}if(!isEmpty(legendEncode)){var _legend2;legendCmpt.set("encode",legendEncode,!!((_legend2=legend)===null||_legend2===void 0?void 0:_legend2.encoding))}return legendCmpt}function parseNonUnitLegend(model){const{legends:legends,resolve:resolve}=model.component;for(const child of model.children){parseLegend(child);for(const channel of keys(child.component.legends)){resolve.legend[channel]=parseGuideResolve(model.component.resolve,channel);if(resolve.legend[channel]==="shared"){legends[channel]=mergeLegendComponent(legends[channel],child.component.legends[channel]);if(!legends[channel]){resolve.legend[channel]="independent";delete legends[channel]}}}}for(const channel of keys(legends)){for(const child of model.children){if(!child.component.legends[channel]){continue}if(resolve.legend[channel]==="shared"){delete child.component.legends[channel]}}}return legends}function mergeLegendComponent(mergedLegend,childLegend){if(!mergedLegend){return childLegend.clone()}const mergedOrient=mergedLegend.getWithExplicit("orient");const childOrient=childLegend.getWithExplicit("orient");if(mergedOrient.explicit&&childOrient.explicit&&mergedOrient.value!==childOrient.value){return undefined}let typeMerged=false;for(const prop of LEGEND_COMPONENT_PROPERTIES){const mergedValueWithExplicit=mergeValuesWithExplicit(mergedLegend.getWithExplicit(prop),childLegend.getWithExplicit(prop),prop,"legend",(v1,v2)=>{switch(prop){case"symbolType":return mergeSymbolType(v1,v2);case"title":return mergeTitleComponent(v1,v2);case"type":typeMerged=true;return makeImplicit("symbol")}return defaultTieBreaker(v1,v2,prop,"legend")});mergedLegend.setWithExplicit(prop,mergedValueWithExplicit)}if(typeMerged){var _mergedLegend$implici,_mergedLegend$implici2,_mergedLegend$explici,_mergedLegend$explici2;if((_mergedLegend$implici=mergedLegend.implicit)===null||_mergedLegend$implici===void 0?void 0:(_mergedLegend$implici2=_mergedLegend$implici.encode)===null||_mergedLegend$implici2===void 0?void 0:_mergedLegend$implici2.gradient){deleteNestedProperty(mergedLegend.implicit,["encode","gradient"])}if((_mergedLegend$explici=mergedLegend.explicit)===null||_mergedLegend$explici===void 0?void 0:(_mergedLegend$explici2=_mergedLegend$explici.encode)===null||_mergedLegend$explici2===void 0?void 0:_mergedLegend$explici2.gradient){deleteNestedProperty(mergedLegend.explicit,["encode","gradient"])}}return mergedLegend}function mergeSymbolType(st1,st2){if(st2.value==="circle"){return st2}return st1}function setLegendEncode(legend,part,vgProp,vgRef){var _legend$encode,_legend$encode$part,_legend$encode$part$u;legend.encode=(_legend$encode=legend.encode)!==null&&_legend$encode!==void 0?_legend$encode:{};legend.encode[part]=(_legend$encode$part=legend.encode[part])!==null&&_legend$encode$part!==void 0?_legend$encode$part:{};legend.encode[part].update=(_legend$encode$part$u=legend.encode[part].update)!==null&&_legend$encode$part$u!==void 0?_legend$encode$part$u:{};legend.encode[part].update[vgProp]=vgRef}function assembleLegends(model){const legendComponentIndex=model.component.legends;const legendByDomain={};for(const channel of keys(legendComponentIndex)){const scaleComponent=model.getScaleComponent(channel);const domainHash=stringify(scaleComponent.get("domains"));if(legendByDomain[domainHash]){for(const mergedLegendComponent of legendByDomain[domainHash]){const merged=mergeLegendComponent(mergedLegendComponent,legendComponentIndex[channel]);if(!merged){legendByDomain[domainHash].push(legendComponentIndex[channel])}}}else{legendByDomain[domainHash]=[legendComponentIndex[channel].clone()]}}const legends=vals(legendByDomain).flat().map(l=>assembleLegend(l,model.config)).filter(l=>l!==undefined);return legends}function assembleLegend(legendCmpt,config){var _legend$encode2;const{disable:disable,labelExpr:labelExpr,selections:selections,...legend}=legendCmpt.combine();if(disable){return undefined}if(config.aria===false&&legend.aria==undefined){legend.aria=false}if((_legend$encode2=legend.encode)===null||_legend$encode2===void 0?void 0:_legend$encode2.symbols){const out=legend.encode.symbols.update;if(out.fill&&out.fill["value"]!=="transparent"&&!out.stroke&&!legend.stroke){out.stroke={value:"transparent"}}for(const property of LEGEND_SCALE_CHANNELS){if(legend[property]){delete out[property]}}}if(!legend.title){delete legend.title}if(labelExpr!==undefined){var _legend$encode3,_legend$encode3$label;let expr=labelExpr;if(((_legend$encode3=legend.encode)===null||_legend$encode3===void 0?void 0:(_legend$encode3$label=_legend$encode3.labels)===null||_legend$encode3$label===void 0?void 0:_legend$encode3$label.update)&&isSignalRef(legend.encode.labels.update.text)){expr=replaceAll(labelExpr,"datum.label",legend.encode.labels.update.text.signal)}setLegendEncode(legend,"labels","text",{signal:expr})}return legend}function assembleProjections(model){if(isLayerModel(model)||isConcatModel(model)){return assembleProjectionsForModelAndChildren(model)}else{return assembleProjectionForModel(model)}}function assembleProjectionsForModelAndChildren(model){return model.children.reduce((projections,child)=>projections.concat(child.assembleProjections()),assembleProjectionForModel(model))}function assembleProjectionForModel(model){const component=model.component.projection;if(!component||component.merged){return[]}const projection=component.combine();const{name:name}=projection;if(!component.data){return[{name:name,...{translate:{signal:"[width / 2, height / 2]"}},...projection}]}else{const size={signal:"[".concat(component.size.map(ref=>ref.signal).join(", "),"]")};const fits=component.data.reduce((sources,data)=>{const source=isSignalRef(data)?data.signal:"data('".concat(model.lookupDataSource(data),"')");if(!contains(sources,source)){sources.push(source)}return sources},[]);if(fits.length<=0){throw new Error("Projection's fit didn't find any data sources")}return[{name:name,size:size,fit:{signal:fits.length>1?"[".concat(fits.join(", "),"]"):fits[0]},...projection}]}}const PROJECTION_PROPERTIES=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class ProjectionComponent extends Split{constructor(name,specifiedProjection,size,data){super({...specifiedProjection},{name:name});this.specifiedProjection=specifiedProjection;this.size=size;this.data=data;_defineProperty(this,"merged",false)}get isFit(){return!!this.data}}function parseProjection(model){model.component.projection=isUnitModel(model)?parseUnitProjection(model):parseNonUnitProjections(model)}function parseUnitProjection(model){if(model.hasProjection){var _model$config$project;const proj=model.specifiedProjection;const fit=!(proj&&(proj.scale!=null||proj.translate!=null));const size=fit?[model.getSizeSignalRef("width"),model.getSizeSignalRef("height")]:undefined;const data=fit?gatherFitData(model):undefined;return new ProjectionComponent(model.projectionName(true),{...(_model$config$project=model.config.projection)!==null&&_model$config$project!==void 0?_model$config$project:{},...proj!==null&&proj!==void 0?proj:{}},size,data)}return undefined}function gatherFitData(model){const data=[];const{encoding:encoding}=model;for(const posssiblePair of[[LONGITUDE,LATITUDE],[LONGITUDE2,LATITUDE2]]){if(getFieldOrDatumDef(encoding[posssiblePair[0]])||getFieldOrDatumDef(encoding[posssiblePair[1]])){data.push({signal:model.getName("geojson_".concat(data.length))})}}if(model.channelHasField(SHAPE)&&model.typedFieldDef(SHAPE).type===GEOJSON){data.push({signal:model.getName("geojson_".concat(data.length))})}if(data.length===0){data.push(model.requestDataName(DataSourceType.Main))}return data}function mergeIfNoConflict(first,second){const allPropertiesShared=every(PROJECTION_PROPERTIES,prop=>{if(!has(first.explicit,prop)&&!has(second.explicit,prop)){return true}if(has(first.explicit,prop)&&has(second.explicit,prop)&&stringify(first.get(prop))===stringify(second.get(prop))){return true}return false});const size=stringify(first.size)===stringify(second.size);if(size){if(allPropertiesShared){return first}else if(stringify(first.explicit)===stringify({})){return second}else if(stringify(second.explicit)===stringify({})){return first}}return null}function parseNonUnitProjections(model){if(model.children.length===0){return undefined}let nonUnitProjection;for(const child of model.children){parseProjection(child)}const mergable=every(model.children,child=>{const projection=child.component.projection;if(!projection){return true}else if(!nonUnitProjection){nonUnitProjection=projection;return true}else{const merge=mergeIfNoConflict(nonUnitProjection,projection);if(merge){nonUnitProjection=merge}return!!merge}});if(nonUnitProjection&&mergable){const name=model.projectionName(true);const modelProjection=new ProjectionComponent(name,nonUnitProjection.specifiedProjection,nonUnitProjection.size,duplicate(nonUnitProjection.data));for(const child of model.children){const projection=child.component.projection;if(projection){if(projection.isFit){modelProjection.data.push(...child.component.projection.data)}child.renameProjection(projection.get("name"),name);projection.merged=true}}return modelProjection}return undefined}function rangeFormula(model,fieldDef,channel,config){if(binRequiresRange(fieldDef,channel)){var _ref,_model$axis;const guide=isUnitModel(model)?(_ref=(_model$axis=model.axis(channel))!==null&&_model$axis!==void 0?_model$axis:model.legend(channel))!==null&&_ref!==void 0?_ref:{}:{};const startField=vgField(fieldDef,{expr:"datum"});const endField=vgField(fieldDef,{expr:"datum",binSuffix:"end"});return{formulaAs:vgField(fieldDef,{binSuffix:"range",forAs:true}),formula:binFormatExpression(startField,endField,guide.format,guide.formatType,config)}}return{}}function binKey(bin,field){return"".concat(binToString(bin),"_").concat(field)}function getSignalsFromModel(model,key){return{signal:model.getName("".concat(key,"_bins")),extentSignal:model.getName("".concat(key,"_extent"))}}function getBinSignalName(model,field,bin){var _normalizeBin;const normalizedBin=(_normalizeBin=normalizeBin(bin,undefined))!==null&&_normalizeBin!==void 0?_normalizeBin:{};const key=binKey(normalizedBin,field);return model.getName("".concat(key,"_bins"))}function isBinTransform(t){return"as"in t}function createBinComponent(t,bin,model){let as;let span;if(isBinTransform(t)){as=isString(t.as)?[t.as,"".concat(t.as,"_end")]:[t.as[0],t.as[1]]}else{as=[vgField(t,{forAs:true}),vgField(t,{binSuffix:"end",forAs:true})]}const normalizedBin={...normalizeBin(bin,undefined)};const key=binKey(normalizedBin,t.field);const{signal:signal,extentSignal:extentSignal}=getSignalsFromModel(model,key);if(isSelectionExtent(normalizedBin.extent)){const ext=normalizedBin.extent;const selName=ext.selection;span=parseSelectionBinExtent(model.getSelectionComponent(varName(selName),selName),ext);delete normalizedBin.extent}const binComponent={bin:normalizedBin,field:t.field,as:[as],...signal?{signal:signal}:{},...extentSignal?{extentSignal:extentSignal}:{},...span?{span:span}:{}};return{key:key,binComponent:binComponent}}class BinNode extends DataFlowNode{clone(){return new BinNode(null,duplicate(this.bins))}constructor(parent,bins){super(parent);this.bins=bins}static makeFromEncoding(parent,model){const bins=model.reduceFieldDef((binComponentIndex,fieldDef,channel)=>{if(isTypedFieldDef(fieldDef)&&isBinning(fieldDef.bin)){const{key:key,binComponent:binComponent}=createBinComponent(fieldDef,fieldDef.bin,model);binComponentIndex[key]={...binComponent,...binComponentIndex[key],...rangeFormula(model,fieldDef,channel,model.config)}}return binComponentIndex},{});if(isEmpty(bins)){return null}return new BinNode(parent,bins)}static makeFromTransform(parent,t,model){const{key:key,binComponent:binComponent}=createBinComponent(t,t.bin,model);return new BinNode(parent,{[key]:binComponent})}merge(other,renameSignal){for(const key of keys(other.bins)){if(key in this.bins){renameSignal(other.bins[key].signal,this.bins[key].signal);this.bins[key].as=unique([...this.bins[key].as,...other.bins[key].as],hash)}else{this.bins[key]=other.bins[key]}}for(const child of other.children){other.removeChild(child);child.parent=this}other.remove()}producedFields(){return new Set(vals(this.bins).map(c=>c.as).flat(2))}dependentFields(){return new Set(vals(this.bins).map(c=>c.field))}hash(){return"Bin ".concat(hash(this.bins))}assemble(){return vals(this.bins).flatMap(bin=>{const transform=[];const[binAs,...remainingAs]=bin.as;const{extent:extent,...params}=bin.bin;const binTrans={type:"bin",field:replacePathInField(bin.field),as:binAs,signal:bin.signal,...!isSelectionExtent(extent)?{extent:extent}:{extent:null},...bin.span?{span:{signal:"span(".concat(bin.span,")")}}:{},...params};if(!extent&&bin.extentSignal){transform.push({type:"extent",field:replacePathInField(bin.field),signal:bin.extentSignal});binTrans.extent={signal:bin.extentSignal}}transform.push(binTrans);for(const as of remainingAs){for(let i=0;i<2;i++){transform.push({type:"formula",expr:vgField({field:binAs[i]},{expr:"datum"}),as:as[i]})}}if(bin.formula){transform.push({type:"formula",expr:bin.formula,as:bin.formulaAs})}return transform})}}function addDimension(dims,channel,fieldDef,model){const channelDef2=isUnitModel(model)?model.encoding[getSecondaryRangeChannel(channel)]:undefined;if(isTypedFieldDef(fieldDef)&&isUnitModel(model)&&hasBand(channel,fieldDef,channelDef2,model.stack,model.markDef,model.config)){dims.add(vgField(fieldDef,{}));dims.add(vgField(fieldDef,{suffix:"end"}));if(fieldDef.bin&&binRequiresRange(fieldDef,channel)){dims.add(vgField(fieldDef,{binSuffix:"range"}))}}else if(isGeoPositionChannel(channel)){const posChannel=getPositionChannelFromLatLong(channel);dims.add(model.getName(posChannel))}else{dims.add(vgField(fieldDef))}return dims}function mergeMeasures(parentMeasures,childMeasures){for(const field of keys(childMeasures)){const ops=childMeasures[field];for(const op of keys(ops)){if(field in parentMeasures){var _parentMeasures$field;parentMeasures[field][op]=new Set([...(_parentMeasures$field=parentMeasures[field][op])!==null&&_parentMeasures$field!==void 0?_parentMeasures$field:[],...ops[op]])}else{parentMeasures[field]={[op]:ops[op]}}}}}class AggregateNode extends DataFlowNode{clone(){return new AggregateNode(null,new Set(this.dimensions),duplicate(this.measures))}constructor(parent,dimensions,measures){super(parent);this.dimensions=dimensions;this.measures=measures}get groupBy(){return this.dimensions}static makeFromEncoding(parent,model){let isAggregate=false;model.forEachFieldDef(fd=>{if(fd.aggregate){isAggregate=true}});const meas={};const dims=new Set;if(!isAggregate){return null}model.forEachFieldDef((fieldDef,channel)=>{const{aggregate:aggregate,field:field}=fieldDef;if(aggregate){if(aggregate==="count"){var _meas$;meas["*"]=(_meas$=meas["*"])!==null&&_meas$!==void 0?_meas$:{};meas["*"]["count"]=new Set([vgField(fieldDef,{forAs:true})])}else{if(isArgminDef(aggregate)||isArgmaxDef(aggregate)){var _meas$argField;const op=isArgminDef(aggregate)?"argmin":"argmax";const argField=aggregate[op];meas[argField]=(_meas$argField=meas[argField])!==null&&_meas$argField!==void 0?_meas$argField:{};meas[argField][op]=new Set([vgField({op:op,field:argField},{forAs:true})])}else{var _meas$field;meas[field]=(_meas$field=meas[field])!==null&&_meas$field!==void 0?_meas$field:{};meas[field][aggregate]=new Set([vgField(fieldDef,{forAs:true})])}if(isScaleChannel(channel)&&model.scaleDomain(channel)==="unaggregated"){var _meas$field2;meas[field]=(_meas$field2=meas[field])!==null&&_meas$field2!==void 0?_meas$field2:{};meas[field]["min"]=new Set([vgField({field:field,aggregate:"min"},{forAs:true})]);meas[field]["max"]=new Set([vgField({field:field,aggregate:"max"},{forAs:true})])}}}else{addDimension(dims,channel,fieldDef,model)}});if(dims.size+keys(meas).length===0){return null}return new AggregateNode(parent,dims,meas)}static makeFromTransform(parent,t){const dims=new Set;const meas={};for(const s of t.aggregate){const{op:op,field:field,as:as}=s;if(op){if(op==="count"){var _meas$2;meas["*"]=(_meas$2=meas["*"])!==null&&_meas$2!==void 0?_meas$2:{};meas["*"]["count"]=new Set([as?as:vgField(s,{forAs:true})])}else{var _meas$field3;meas[field]=(_meas$field3=meas[field])!==null&&_meas$field3!==void 0?_meas$field3:{};meas[field][op]=new Set([as?as:vgField(s,{forAs:true})])}}}for(const s of(_t$groupby=t.groupby)!==null&&_t$groupby!==void 0?_t$groupby:[]){var _t$groupby;dims.add(s)}if(dims.size+keys(meas).length===0){return null}return new AggregateNode(parent,dims,meas)}merge(other){if(setEqual(this.dimensions,other.dimensions)){mergeMeasures(this.measures,other.measures);return true}else{debug("different dimensions, cannot merge");return false}}addDimensions(fields){fields.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...keys(this.measures)])}producedFields(){const out=new Set;for(const field of keys(this.measures)){for(const op of keys(this.measures[field])){const m=this.measures[field][op];if(m.size===0){out.add("".concat(op,"_").concat(field))}else{m.forEach(out.add,out)}}}return out}hash(){return"Aggregate ".concat(hash({dimensions:this.dimensions,measures:this.measures}))}assemble(){const ops=[];const fields=[];const as=[];for(const field of keys(this.measures)){for(const op of keys(this.measures[field])){for(const alias of this.measures[field][op]){as.push(alias);ops.push(op);fields.push(field==="*"?null:replacePathInField(field))}}}const result={type:"aggregate",groupby:[...this.dimensions].map(replacePathInField),ops:ops,fields:fields,as:as};return result}}class FacetNode extends DataFlowNode{constructor(parent,model,name,data){super(parent);this.model=model;this.name=name;this.data=data;_defineProperty(this,"column",void 0);_defineProperty(this,"row",void 0);_defineProperty(this,"facet",void 0);_defineProperty(this,"childModel",void 0);for(const channel of FACET_CHANNELS){const fieldDef=model.facet[channel];if(fieldDef){const{bin:bin,sort:sort}=fieldDef;this[channel]={name:model.getName("".concat(channel,"_domain")),fields:[vgField(fieldDef),...isBinning(bin)?[vgField(fieldDef,{binSuffix:"end"})]:[]],...isSortField(sort)?{sortField:sort}:isArray(sort)?{sortIndexField:sortArrayIndexField(fieldDef,channel)}:{}}}}this.childModel=model.child}hash(){let out="Facet";for(const channel of FACET_CHANNELS){if(this[channel]){out+=" ".concat(channel.charAt(0),":").concat(hash(this[channel]))}}return out}get fields(){const f=[];for(const channel of FACET_CHANNELS){var _this$channel;if((_this$channel=this[channel])===null||_this$channel===void 0?void 0:_this$channel.fields){f.push(...this[channel].fields)}}return f}dependentFields(){const depFields=new Set(this.fields);for(const channel of FACET_CHANNELS){if(this[channel]){if(this[channel].sortField){depFields.add(this[channel].sortField.field)}if(this[channel].sortIndexField){depFields.add(this[channel].sortIndexField)}}}return depFields}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const childIndependentFieldsWithStep={};for(const channel of POSITION_SCALE_CHANNELS){const childScaleComponent=this.childModel.component.scales[channel];if(childScaleComponent&&!childScaleComponent.merged){const type=childScaleComponent.get("type");const range=childScaleComponent.get("range");if(hasDiscreteDomain(type)&&isVgRangeStep(range)){const domain=assembleDomain(this.childModel,channel);const field=getFieldFromDomain(domain);if(field){childIndependentFieldsWithStep[channel]=field}else{warn(unknownField(channel))}}}}return childIndependentFieldsWithStep}assembleRowColumnHeaderData(channel,crossedDataName,childIndependentFieldsWithStep){const childChannel={row:"y",column:"x"}[channel];const fields=[];const ops=[];const as=[];if(childIndependentFieldsWithStep&&childIndependentFieldsWithStep[childChannel]){if(crossedDataName){fields.push("distinct_".concat(childIndependentFieldsWithStep[childChannel]));ops.push("max")}else{fields.push(childIndependentFieldsWithStep[childChannel]);ops.push("distinct")}as.push("distinct_".concat(childIndependentFieldsWithStep[childChannel]))}const{sortField:sortField,sortIndexField:sortIndexField}=this[channel];if(sortField){const{op:op=DEFAULT_SORT_OP,field:field}=sortField;fields.push(field);ops.push(op);as.push(vgField(sortField,{forAs:true}))}else if(sortIndexField){fields.push(sortIndexField);ops.push("max");as.push(sortIndexField)}return{name:this[channel].name,source:crossedDataName!==null&&crossedDataName!==void 0?crossedDataName:this.data,transform:[{type:"aggregate",groupby:this[channel].fields,...fields.length?{fields:fields,ops:ops,as:as}:{}}]}}assembleFacetHeaderData(childIndependentFieldsWithStep){const{columns:columns}=this.model.layout;const{layoutHeaders:layoutHeaders}=this.model.component;const data=[];const hasSharedAxis={};for(const headerChannel of HEADER_CHANNELS){for(const headerType of HEADER_TYPES){var _ref;const headers=(_ref=layoutHeaders[headerChannel]&&layoutHeaders[headerChannel][headerType])!==null&&_ref!==void 0?_ref:[];for(const header of headers){var _header$axes;if(((_header$axes=header.axes)===null||_header$axes===void 0?void 0:_header$axes.length)>0){hasSharedAxis[headerChannel]=true;break}}}if(hasSharedAxis[headerChannel]){const cardinality='length(data("'.concat(this.facet.name,'"))');const stop=headerChannel==="row"?columns?{signal:"ceil(".concat(cardinality," / ").concat(columns,")")}:1:columns?{signal:"min(".concat(cardinality,", ").concat(columns,")")}:{signal:cardinality};data.push({name:"".concat(this.facet.name,"_").concat(headerChannel),transform:[{type:"sequence",start:0,stop:stop}]})}}const{row:row,column:column}=hasSharedAxis;if(row||column){data.unshift(this.assembleRowColumnHeaderData("facet",null,childIndependentFieldsWithStep))}return data}assemble(){const data=[];let crossedDataName=null;const childIndependentFieldsWithStep=this.getChildIndependentFieldsWithStep();const{column:column,row:row,facet:facet}=this;if(column&&row&&(childIndependentFieldsWithStep.x||childIndependentFieldsWithStep.y)){var _childIndependentFiel,_childIndependentFiel2;crossedDataName="cross_".concat(this.column.name,"_").concat(this.row.name);const fields=[].concat((_childIndependentFiel=childIndependentFieldsWithStep.x)!==null&&_childIndependentFiel!==void 0?_childIndependentFiel:[],(_childIndependentFiel2=childIndependentFieldsWithStep.y)!==null&&_childIndependentFiel2!==void 0?_childIndependentFiel2:[]);const ops=fields.map(()=>"distinct");data.push({name:crossedDataName,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:fields,ops:ops}]})}for(const channel of[COLUMN,ROW]){if(this[channel]){data.push(this.assembleRowColumnHeaderData(channel,crossedDataName,childIndependentFieldsWithStep))}}if(facet){const facetData=this.assembleFacetHeaderData(childIndependentFieldsWithStep);if(facetData){data.push(...facetData)}}return data}}function unquote(pattern){if(pattern[0]==="'"&&pattern[pattern.length-1]==="'"||pattern[0]==='"'&&pattern[pattern.length-1]==='"'){return pattern.slice(1,-1)}return pattern}function parseExpression$1(field,parse){const f=accessPathWithDatum(field);if(parse==="number"){return"toNumber(".concat(f,")")}else if(parse==="boolean"){return"toBoolean(".concat(f,")")}else if(parse==="string"){return"toString(".concat(f,")")}else if(parse==="date"){return"toDate(".concat(f,")")}else if(parse==="flatten"){return f}else if(parse.indexOf("date:")===0){const specifier=unquote(parse.slice(5,parse.length));return"timeParse(".concat(f,",'").concat(specifier,"')")}else if(parse.indexOf("utc:")===0){const specifier=unquote(parse.slice(4,parse.length));return"utcParse(".concat(f,",'").concat(specifier,"')")}else{warn(unrecognizedParse(parse));return null}}function getImplicitFromFilterTransform(transform){const implicit={};forEachLeaf(transform.filter,filter=>{if(isFieldPredicate(filter)){let val=null;if(isFieldEqualPredicate(filter)){val=signalRefOrValue(filter.equal)}else if(isFieldLTEPredicate(filter)){val=signalRefOrValue(filter.lte)}else if(isFieldLTPredicate(filter)){val=signalRefOrValue(filter.lt)}else if(isFieldGTPredicate(filter)){val=signalRefOrValue(filter.gt)}else if(isFieldGTEPredicate(filter)){val=signalRefOrValue(filter.gte)}else if(isFieldRangePredicate(filter)){val=filter.range[0]}else if(isFieldOneOfPredicate(filter)){var _filter$oneOf;val=((_filter$oneOf=filter.oneOf)!==null&&_filter$oneOf!==void 0?_filter$oneOf:filter["in"])[0]}if(val){if(isDateTime(val)){implicit[filter.field]="date"}else if(isNumber(val)){implicit[filter.field]="number"}else if(isString(val)){implicit[filter.field]="string"}}if(filter.timeUnit){implicit[filter.field]="date"}}});return implicit}function getImplicitFromEncoding(model){const implicit={};function add(fieldDef){if(isFieldOrDatumDefForTimeFormat(fieldDef)){implicit[fieldDef.field]="date"}else if(fieldDef.type==="quantitative"&&isMinMaxOp(fieldDef.aggregate)){implicit[fieldDef.field]="number"}else if(accessPathDepth(fieldDef.field)>1){if(!(fieldDef.field in implicit)){implicit[fieldDef.field]="flatten"}}else if(isScaleFieldDef(fieldDef)&&isSortField(fieldDef.sort)&&accessPathDepth(fieldDef.sort.field)>1){if(!(fieldDef.sort.field in implicit)){implicit[fieldDef.sort.field]="flatten"}}}if(isUnitModel(model)||isFacetModel(model)){model.forEachFieldDef((fieldDef,channel)=>{if(isTypedFieldDef(fieldDef)){add(fieldDef)}else{const mainChannel=getMainRangeChannel(channel);const mainFieldDef=model.fieldDef(mainChannel);add({...fieldDef,type:mainFieldDef.type})}})}if(isUnitModel(model)){const{mark:mark,markDef:markDef,encoding:encoding}=model;if(isPathMark(mark)&&!model.encoding.order){const dimensionChannel=markDef.orient==="horizontal"?"y":"x";const dimensionChannelDef=encoding[dimensionChannel];if(isFieldDef(dimensionChannelDef)&&dimensionChannelDef.type==="quantitative"&&!(dimensionChannelDef.field in implicit)){implicit[dimensionChannelDef.field]="number"}}}return implicit}function getImplicitFromSelection(model){const implicit={};if(isUnitModel(model)&&model.component.selection){for(const name of keys(model.component.selection)){const selCmpt=model.component.selection[name];for(const proj of selCmpt.project.items){if(!proj.channel&&accessPathDepth(proj.field)>1){implicit[proj.field]="flatten"}}}}return implicit}class ParseNode extends DataFlowNode{clone(){return new ParseNode(null,duplicate(this._parse))}constructor(parent,parse){super(parent);_defineProperty(this,"_parse",void 0);this._parse=parse}hash(){return"Parse ".concat(hash(this._parse))}static makeExplicit(parent,model,ancestorParse){let explicit={};const data=model.data;if(!isGenerator(data)&&data&&data.format&&data.format.parse){explicit=data.format.parse}return this.makeWithAncestors(parent,explicit,{},ancestorParse)}static makeWithAncestors(parent,explicit,implicit,ancestorParse){for(const field of keys(implicit)){const parsedAs=ancestorParse.getWithExplicit(field);if(parsedAs.value!==undefined){if(parsedAs.explicit||parsedAs.value===implicit[field]||parsedAs.value==="derived"||implicit[field]==="flatten"){delete implicit[field]}else{warn(differentParse(field,implicit[field],parsedAs.value))}}}for(const field of keys(explicit)){const parsedAs=ancestorParse.get(field);if(parsedAs!==undefined){if(parsedAs===explicit[field]){delete explicit[field]}else{warn(differentParse(field,explicit[field],parsedAs))}}}const parse=new Split(explicit,implicit);ancestorParse.copyAll(parse);const p={};for(const key of keys(parse.combine())){const val=parse.get(key);if(val!==null){p[key]=val}}if(keys(p).length===0||ancestorParse.parseNothing){return null}return new ParseNode(parent,p)}get parse(){return this._parse}merge(other){this._parse={...this._parse,...other.parse};other.remove()}assembleFormatParse(){const formatParse={};for(const field of keys(this._parse)){const p=this._parse[field];if(accessPathDepth(field)===1){formatParse[field]=p}}return formatParse}producedFields(){return new Set(keys(this._parse))}dependentFields(){return new Set(keys(this._parse))}assembleTransforms(onlyNested=false){return keys(this._parse).filter(field=>onlyNested?accessPathDepth(field)>1:true).map(field=>{const expr=parseExpression$1(field,this._parse[field]);if(!expr){return null}const formula={type:"formula",expr:expr,as:removePathFromField(field)};return formula}).filter(t=>t!==null)}}class IdentifierNode extends DataFlowNode{clone(){return new IdentifierNode(null)}constructor(parent){super(parent)}dependentFields(){return new Set}producedFields(){return new Set([SELECTION_ID])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:SELECTION_ID}}}class GraticuleNode extends DataFlowNode{clone(){return new GraticuleNode(null,this.params)}constructor(parent,params){super(parent);this.params=params}dependentFields(){return new Set}producedFields(){return undefined}hash(){return"Graticule ".concat(hash(this.params))}assemble(){return{type:"graticule",...this.params===true?{}:this.params}}}class SequenceNode extends DataFlowNode{clone(){return new SequenceNode(null,this.params)}constructor(parent,params){super(parent);this.params=params}dependentFields(){return new Set}producedFields(){var _this$params$as;return new Set([(_this$params$as=this.params.as)!==null&&_this$params$as!==void 0?_this$params$as:"data"])}hash(){return"Hash ".concat(hash(this.params))}assemble(){return{type:"sequence",...this.params}}}class SourceNode extends DataFlowNode{constructor(data){var _data;super(null);_defineProperty(this,"_data",void 0);_defineProperty(this,"_name",void 0);_defineProperty(this,"_generator",void 0);data=(_data=data)!==null&&_data!==void 0?_data:{name:"source"};let format;if(!isGenerator(data)){format=data.format?{...omit(data.format,["parse"])}:{}}if(isInlineData(data)){this._data={values:data.values}}else if(isUrlData(data)){this._data={url:data.url};if(!format.type){let defaultExtension=/(?:\.([^.]+))?$/.exec(data.url)[1];if(!contains(["json","csv","tsv","dsv","topojson"],defaultExtension)){defaultExtension="json"}format.type=defaultExtension}}else if(isSphereGenerator(data)){this._data={values:[{type:"Sphere"}]}}else if(isNamedData(data)||isGenerator(data)){this._data={}}this._generator=isGenerator(data);if(data.name){this._name=data.name}if(format&&!isEmpty(format)){this._data.format=format}}dependentFields(){return new Set}producedFields(){return undefined}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(name){this._name=name}set parent(parent){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}function isDataSourceNode(node){return node instanceof SourceNode||node instanceof GraticuleNode||node instanceof SequenceNode}var _modified=new WeakMap;class Optimizer{constructor(){_modified.set(this,{writable:true,value:void 0});_classPrivateFieldSet(this,_modified,false)}setModified(){_classPrivateFieldSet(this,_modified,true)}get modifiedFlag(){return _classPrivateFieldGet(this,_modified)}}class BottomUpOptimizer extends Optimizer{getNodeDepths(node,depth,depths){depths.set(node,depth);for(const child of node.children){this.getNodeDepths(child,depth+1,depths)}return depths}optimize(node){const depths=this.getNodeDepths(node,0,new Map);const topologicalSort=[...depths.entries()].sort((a,b)=>b[1]-a[1]);for(const tuple of topologicalSort){this.run(tuple[0])}return this.modifiedFlag}}class TopDownOptimizer extends Optimizer{optimize(node){this.run(node);for(const child of node.children){this.optimize(child)}return this.modifiedFlag}}class MergeIdenticalNodes extends TopDownOptimizer{mergeNodes(parent,nodes){const mergedNode=nodes.shift();for(const node of nodes){parent.removeChild(node);node.parent=mergedNode;node.remove()}}run(node){const hashes=node.children.map(x=>x.hash());const buckets={};for(let i=0;i<hashes.length;i++){if(buckets[hashes[i]]===undefined){buckets[hashes[i]]=[node.children[i]]}else{buckets[hashes[i]].push(node.children[i])}}for(const k of keys(buckets)){if(buckets[k].length>1){this.setModified();this.mergeNodes(node,buckets[k])}}}}class RemoveUnnecessaryIdentifierNodes extends TopDownOptimizer{constructor(model){super();_defineProperty(this,"requiresSelectionId",void 0);this.requiresSelectionId=model&&requiresSelectionId(model)}run(node){if(node instanceof IdentifierNode){if(!(this.requiresSelectionId&&(isDataSourceNode(node.parent)||node.parent instanceof AggregateNode||node.parent instanceof ParseNode))){this.setModified();node.remove()}}}}class RemoveDuplicateTimeUnits extends Optimizer{optimize(node){this.run(node,new Set);return this.modifiedFlag}run(node,timeUnitFields){let producedFields=new Set;if(node instanceof TimeUnitNode){producedFields=node.producedFields();if(hasIntersection(producedFields,timeUnitFields)){this.setModified();node.removeFormulas(timeUnitFields);if(node.producedFields.length===0){node.remove()}}}for(const child of node.children){this.run(child,new Set([...timeUnitFields,...producedFields]))}}}class RemoveUnnecessaryOutputNodes extends TopDownOptimizer{constructor(){super()}run(node){if(node instanceof OutputNode&&!node.isRequired()){this.setModified();node.remove()}}}class MoveParseUp extends BottomUpOptimizer{run(node){if(isDataSourceNode(node)){return}if(node.numChildren()>1){return}for(const child of node.children){if(child instanceof ParseNode){if(node instanceof ParseNode){this.setModified();node.merge(child)}else{if(fieldIntersection(node.producedFields(),child.dependentFields())){continue}this.setModified();child.swapWithParent()}}}return}}class MergeParse extends BottomUpOptimizer{run(node){const originalChildren=[...node.children];const parseChildren=node.children.filter(child=>child instanceof ParseNode);if(node.numChildren()>1&&parseChildren.length>=1){const commonParse={};const conflictingParse=new Set;for(const parseNode of parseChildren){const parse=parseNode.parse;for(const k of keys(parse)){if(!(k in commonParse)){commonParse[k]=parse[k]}else if(commonParse[k]!==parse[k]){conflictingParse.add(k)}}}for(const field of conflictingParse){delete commonParse[field]}if(!isEmpty(commonParse)){this.setModified();const mergedParseNode=new ParseNode(node,commonParse);for(const childNode of originalChildren){if(childNode instanceof ParseNode){for(const key of keys(commonParse)){delete childNode.parse[key]}}node.removeChild(childNode);childNode.parent=mergedParseNode;if(childNode instanceof ParseNode&&keys(childNode.parse).length===0){childNode.remove()}}}}}}class RemoveUnusedSubtrees extends BottomUpOptimizer{run(node){if(node instanceof OutputNode||node.numChildren()>0||node instanceof FacetNode);else if(node instanceof SourceNode);else{this.setModified();node.remove()}}}class MergeTimeUnits extends BottomUpOptimizer{run(node){const timeUnitChildren=node.children.filter(x=>x instanceof TimeUnitNode);const combination=timeUnitChildren.pop();for(const timeUnit of timeUnitChildren){this.setModified();combination.merge(timeUnit)}}}class MergeAggregates extends BottomUpOptimizer{run(node){const aggChildren=node.children.filter(child=>child instanceof AggregateNode);const groupedAggregates={};for(const agg of aggChildren){const groupBys=hash(agg.groupBy);if(!(groupBys in groupedAggregates)){groupedAggregates[groupBys]=[]}groupedAggregates[groupBys].push(agg)}for(const group of keys(groupedAggregates)){const mergeableAggs=groupedAggregates[group];if(mergeableAggs.length>1){const mergedAggs=mergeableAggs.pop();for(const agg of mergeableAggs){if(mergedAggs.merge(agg)){node.removeChild(agg);agg.parent=mergedAggs;agg.remove();this.setModified()}}}}}}class MergeBins extends BottomUpOptimizer{constructor(model){super();this.model=model}run(node){const moveBinsUp=!(isDataSourceNode(node)||node instanceof FilterNode||node instanceof ParseNode||node instanceof IdentifierNode);const promotableBins=[];const remainingBins=[];for(const child of node.children){if(child instanceof BinNode){if(moveBinsUp&&!fieldIntersection(node.producedFields(),child.dependentFields())){promotableBins.push(child)}else{remainingBins.push(child)}}}if(promotableBins.length>0){const promotedBin=promotableBins.pop();for(const bin of promotableBins){promotedBin.merge(bin,this.model.renameSignal.bind(this.model))}this.setModified();if(node instanceof BinNode){node.merge(promotedBin,this.model.renameSignal.bind(this.model))}else{promotedBin.swapWithParent()}}if(remainingBins.length>1){const remainingBin=remainingBins.pop();for(const bin of remainingBins){remainingBin.merge(bin,this.model.renameSignal.bind(this.model))}this.setModified()}}}class MergeOutputs extends BottomUpOptimizer{run(node){const children=[...node.children];const hasOutputChild=some(children,child=>child instanceof OutputNode);if(!hasOutputChild||node.numChildren()<=1){return}const otherChildren=[];let mainOutput;for(const child of children){if(child instanceof OutputNode){let lastOutput=child;while(lastOutput.numChildren()===1){const[theChild]=lastOutput.children;if(theChild instanceof OutputNode){lastOutput=theChild}else{break}}otherChildren.push(...lastOutput.children);if(mainOutput){node.removeChild(child);child.parent=mainOutput.parent;mainOutput.parent.removeChild(mainOutput);mainOutput.parent=lastOutput;this.setModified()}else{mainOutput=lastOutput}}else{otherChildren.push(child)}}if(otherChildren.length){this.setModified();for(const child of otherChildren){child.parent.removeChild(child);child.parent=mainOutput}}}}class JoinAggregateTransformNode extends DataFlowNode{clone(){return new JoinAggregateTransformNode(null,duplicate(this.transform))}constructor(parent,transform){super(parent);this.transform=transform}addDimensions(fields){this.transform.groupby=unique(this.transform.groupby.concat(fields),d=>d)}dependentFields(){const out=new Set;if(this.transform.groupby){this.transform.groupby.forEach(out.add,out)}this.transform.joinaggregate.map(w=>w.field).filter(f=>f!==undefined).forEach(out.add,out);return out}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(joinAggregateFieldDef){var _joinAggregateFieldDe;return(_joinAggregateFieldDe=joinAggregateFieldDef.as)!==null&&_joinAggregateFieldDe!==void 0?_joinAggregateFieldDe:vgField(joinAggregateFieldDef)}hash(){return"JoinAggregateTransform ".concat(hash(this.transform))}assemble(){const fields=[];const ops=[];const as=[];for(const joinaggregate of this.transform.joinaggregate){ops.push(joinaggregate.op);as.push(this.getDefaultName(joinaggregate));fields.push(joinaggregate.field===undefined?null:joinaggregate.field)}const groupby=this.transform.groupby;return{type:"joinaggregate",as:as,ops:ops,fields:fields,...groupby!==undefined?{groupby:groupby}:{}}}}function getStackByFields(model){return model.stack.stackBy.reduce((fields,by)=>{const fieldDef=by.fieldDef;const _field=vgField(fieldDef);if(_field){fields.push(_field)}return fields},[])}function isValidAsArray(as){return isArray(as)&&as.every(s=>isString(s))&&as.length>1}class StackNode extends DataFlowNode{clone(){return new StackNode(null,duplicate(this._stack))}constructor(parent,stack){super(parent);_defineProperty(this,"_stack",void 0);this._stack=stack}static makeFromTransform(parent,stackTransform){const{stack:stack,groupby:groupby,as:as,offset:offset="zero"}=stackTransform;const sortFields=[];const sortOrder=[];if(stackTransform.sort!==undefined){for(const sortField of stackTransform.sort){sortFields.push(sortField.field);sortOrder.push(getFirstDefined(sortField.order,"ascending"))}}const sort={field:sortFields,order:sortOrder};let normalizedAs;if(isValidAsArray(as)){normalizedAs=as}else if(isString(as)){normalizedAs=[as,as+"_end"]}else{normalizedAs=[stackTransform.stack+"_start",stackTransform.stack+"_end"]}return new StackNode(parent,{stackField:stack,groupby:groupby,offset:offset,sort:sort,facetby:[],as:normalizedAs})}static makeFromEncoding(parent,model){const stackProperties=model.stack;const{encoding:encoding}=model;if(!stackProperties){return null}const{groupbyChannel:groupbyChannel,fieldChannel:fieldChannel,offset:offset,impute:impute}=stackProperties;let dimensionFieldDef;if(groupbyChannel){const cDef=encoding[groupbyChannel];dimensionFieldDef=getFieldDef(cDef)}const stackby=getStackByFields(model);const orderDef=model.encoding.order;let sort;if(isArray(orderDef)||isFieldDef(orderDef)){sort=sortParams(orderDef)}else{sort=stackby.reduce((s,field)=>{s.field.push(field);s.order.push(fieldChannel==="y"?"descending":"ascending");return s},{field:[],order:[]})}return new StackNode(parent,{dimensionFieldDef:dimensionFieldDef,stackField:model.vgField(fieldChannel),facetby:[],stackby:stackby,sort:sort,offset:offset,impute:impute,as:[model.vgField(fieldChannel,{suffix:"start",forAs:true}),model.vgField(fieldChannel,{suffix:"end",forAs:true})]})}get stack(){return this._stack}addDimensions(fields){this._stack.facetby.push(...fields)}dependentFields(){const out=new Set;out.add(this._stack.stackField);this.getGroupbyFields().forEach(out.add,out);this._stack.facetby.forEach(out.add,out);this._stack.sort.field.forEach(out.add,out);return out}producedFields(){return new Set(this._stack.as)}hash(){return"Stack ".concat(hash(this._stack))}getGroupbyFields(){const{dimensionFieldDef:dimensionFieldDef,impute:impute,groupby:groupby}=this._stack;if(dimensionFieldDef){if(dimensionFieldDef.bin){if(impute){return[vgField(dimensionFieldDef,{binSuffix:"mid"})]}return[vgField(dimensionFieldDef,{}),vgField(dimensionFieldDef,{binSuffix:"end"})]}return[vgField(dimensionFieldDef)]}return groupby!==null&&groupby!==void 0?groupby:[]}assemble(){const transform=[];const{facetby:facetby,dimensionFieldDef:dimensionFieldDef,stackField:field,stackby:stackby,sort:sort,offset:offset,impute:impute,as:as}=this._stack;if(impute&&dimensionFieldDef){const{band:band=.5,bin:bin}=dimensionFieldDef;if(bin){transform.push({type:"formula",expr:"".concat(band,"*")+vgField(dimensionFieldDef,{expr:"datum"})+"+".concat(1-band,"*")+vgField(dimensionFieldDef,{expr:"datum",binSuffix:"end"}),as:vgField(dimensionFieldDef,{binSuffix:"mid",forAs:true})})}transform.push({type:"impute",field:field,groupby:[...stackby,...facetby],key:vgField(dimensionFieldDef,{binSuffix:"mid"}),method:"value",value:0})}transform.push({type:"stack",groupby:[...this.getGroupbyFields(),...facetby],field:field,sort:sort,as:as,offset:offset});return transform}}class WindowTransformNode extends DataFlowNode{clone(){return new WindowTransformNode(null,duplicate(this.transform))}constructor(parent,transform){super(parent);this.transform=transform}addDimensions(fields){this.transform.groupby=unique(this.transform.groupby.concat(fields),d=>d)}dependentFields(){var _this$transform$group,_this$transform$sort;const out=new Set;((_this$transform$group=this.transform.groupby)!==null&&_this$transform$group!==void 0?_this$transform$group:[]).forEach(out.add,out);((_this$transform$sort=this.transform.sort)!==null&&_this$transform$sort!==void 0?_this$transform$sort:[]).forEach(m=>out.add(m.field));this.transform.window.map(w=>w.field).filter(f=>f!==undefined).forEach(out.add,out);return out}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(windowFieldDef){var _windowFieldDef$as;return(_windowFieldDef$as=windowFieldDef.as)!==null&&_windowFieldDef$as!==void 0?_windowFieldDef$as:vgField(windowFieldDef)}hash(){return"WindowTransform ".concat(hash(this.transform))}assemble(){const fields=[];const ops=[];const as=[];const params=[];for(const window of this.transform.window){ops.push(window.op);as.push(this.getDefaultName(window));params.push(window.param===undefined?null:window.param);fields.push(window.field===undefined?null:window.field)}const frame=this.transform.frame;const groupby=this.transform.groupby;if(frame&&frame[0]===null&&frame[1]===null&&ops.every(o=>isAggregateOp(o))){return{type:"joinaggregate",as:as,ops:ops,fields:fields,...groupby!==undefined?{groupby:groupby}:{}}}const sortFields=[];const sortOrder=[];if(this.transform.sort!==undefined){for(const sortField of this.transform.sort){var _sortField$order;sortFields.push(sortField.field);sortOrder.push((_sortField$order=sortField.order)!==null&&_sortField$order!==void 0?_sortField$order:"ascending")}}const sort={field:sortFields,order:sortOrder};const ignorePeers=this.transform.ignorePeers;return{type:"window",params:params,as:as,ops:ops,fields:fields,sort:sort,...ignorePeers!==undefined?{ignorePeers:ignorePeers}:{},...groupby!==undefined?{groupby:groupby}:{},...frame!==undefined?{frame:frame}:{}}}}function cloneSubtree(facet){function clone(node){if(!(node instanceof FacetNode)){const copy=node.clone();if(copy instanceof OutputNode){const newName=FACET_SCALE_PREFIX+copy.getSource();copy.setSource(newName);facet.model.component.data.outputNodes[newName]=copy}else if(copy instanceof AggregateNode||copy instanceof StackNode||copy instanceof WindowTransformNode||copy instanceof JoinAggregateTransformNode){copy.addDimensions(facet.fields)}for(const n of node.children.flatMap(clone)){n.parent=copy}return[copy]}return node.children.flatMap(clone)}return clone}function moveFacetDown(node){if(node instanceof FacetNode){if(node.numChildren()===1&&!(node.children[0]instanceof OutputNode)){const child=node.children[0];if(child instanceof AggregateNode||child instanceof StackNode||child instanceof WindowTransformNode||child instanceof JoinAggregateTransformNode){child.addDimensions(node.fields)}child.swapWithParent();moveFacetDown(node)}else{const facetMain=node.model.component.data.main;moveMainDownToFacet(facetMain);const cloner=cloneSubtree(node);const copy=node.children.map(cloner).flat();for(const c of copy){c.parent=facetMain}}}else{node.children.map(moveFacetDown)}}function moveMainDownToFacet(node){if(node instanceof OutputNode&&node.type===DataSourceType.Main){if(node.numChildren()===1){const child=node.children[0];if(!(child instanceof FacetNode)){child.swapWithParent();moveMainDownToFacet(node)}}}}const FACET_SCALE_PREFIX="scale_";const MAX_OPTIMIZATION_RUNS=5;function checkLinks(nodes){for(const node of nodes){for(const child of node.children){if(child.parent!==node){return false}}if(!checkLinks(node.children)){return false}}return true}function runOptimizer(optimizer,nodes){let modified=false;for(const node of nodes){modified=optimizer.optimize(node)||modified}return modified}function optimizationDataflowHelper(dataComponent,model,firstPass){let roots=dataComponent.sources;let modified=false;modified=runOptimizer(new RemoveUnnecessaryOutputNodes,roots)||modified;modified=runOptimizer(new RemoveUnnecessaryIdentifierNodes(model),roots)||modified;roots=roots.filter(r=>r.numChildren()>0);modified=runOptimizer(new RemoveUnusedSubtrees,roots)||modified;roots=roots.filter(r=>r.numChildren()>0);if(!firstPass){modified=runOptimizer(new MoveParseUp,roots)||modified;modified=runOptimizer(new MergeBins(model),roots)||modified;modified=runOptimizer(new RemoveDuplicateTimeUnits,roots)||modified;modified=runOptimizer(new MergeParse,roots)||modified;modified=runOptimizer(new MergeAggregates,roots)||modified;modified=runOptimizer(new MergeTimeUnits,roots)||modified;modified=runOptimizer(new MergeIdenticalNodes,roots)||modified;modified=runOptimizer(new MergeOutputs,roots)||modified}dataComponent.sources=roots;return modified}function optimizeDataflow(data,model){checkLinks(data.sources);let firstPassCounter=0;let secondPassCounter=0;for(let i=0;i<MAX_OPTIMIZATION_RUNS;i++){if(!optimizationDataflowHelper(data,model,true)){break}firstPassCounter++}data.sources.map(moveFacetDown);for(let i=0;i<MAX_OPTIMIZATION_RUNS;i++){if(!optimizationDataflowHelper(data,model,false)){break}secondPassCounter++}checkLinks(data.sources);if(Math.max(firstPassCounter,secondPassCounter)===MAX_OPTIMIZATION_RUNS){warn("Maximum optimization runs(".concat(MAX_OPTIMIZATION_RUNS,") reached."))}}class SignalRefWrapper{constructor(exprGenerator){_defineProperty(this,"signal",void 0);Object.defineProperty(this,"signal",{enumerable:true,get:exprGenerator})}static fromName(rename,signalName){return new SignalRefWrapper(()=>rename(signalName))}}function parseScaleDomain(model){if(isUnitModel(model)){parseUnitScaleDomain(model)}else{parseNonUnitScaleDomain(model)}}function parseUnitScaleDomain(model){const localScaleComponents=model.component.scales;for(const channel of keys(localScaleComponents)){const domains=parseDomainForChannel(model,channel);const localScaleCmpt=localScaleComponents[channel];localScaleCmpt.setWithExplicit("domains",domains);parseSelectionDomain(model,channel);if(model.component.data.isFaceted){let facetParent=model;while(!isFacetModel(facetParent)&&facetParent.parent){facetParent=facetParent.parent}const resolve=facetParent.component.resolve.scale[channel];if(resolve==="shared"){for(const domain of domains.value){if(isDataRefDomain(domain)){domain.data=FACET_SCALE_PREFIX+domain.data.replace(FACET_SCALE_PREFIX,"")}}}}}}function parseNonUnitScaleDomain(model){for(const child of model.children){parseScaleDomain(child)}const localScaleComponents=model.component.scales;for(const channel of keys(localScaleComponents)){let domains;let selectionExtent=null;for(const child of model.children){const childComponent=child.component.scales[channel];if(childComponent){if(domains===undefined){domains=childComponent.getWithExplicit("domains")}else{domains=mergeValuesWithExplicit(domains,childComponent.getWithExplicit("domains"),"domains","scale",domainsTieBreaker)}const se=childComponent.get("selectionExtent");if(selectionExtent&&se&&selectionExtent.selection!==se.selection){warn(NEEDS_SAME_SELECTION)}selectionExtent=se}}localScaleComponents[channel].setWithExplicit("domains",domains);if(selectionExtent){localScaleComponents[channel].set("selectionExtent",selectionExtent,true)}}}function normalizeUnaggregatedDomain(domain,fieldDef,scaleType,scaleConfig){if(domain==="unaggregated"){const{valid:valid,reason:reason}=canUseUnaggregatedDomain(fieldDef,scaleType);if(!valid){warn(reason);return undefined}}else if(domain===undefined&&scaleConfig.useUnaggregatedDomain){const{valid:valid}=canUseUnaggregatedDomain(fieldDef,scaleType);if(valid){return"unaggregated"}}return domain}function parseDomainForChannel(model,channel){const scaleType=model.getScaleComponent(channel).get("type");const{encoding:encoding}=model;const domain=normalizeUnaggregatedDomain(model.scaleDomain(channel),model.typedFieldDef(channel),scaleType,model.config.scale);if(domain!==model.scaleDomain(channel)){model.specifiedScales[channel]={...model.specifiedScales[channel],domain:domain}}if(channel==="x"&&getFieldOrDatumDef(encoding.x2)){if(getFieldOrDatumDef(encoding.x)){return mergeValuesWithExplicit(parseSingleChannelDomain(scaleType,domain,model,"x"),parseSingleChannelDomain(scaleType,domain,model,"x2"),"domain","scale",domainsTieBreaker)}else{return parseSingleChannelDomain(scaleType,domain,model,"x2")}}else if(channel==="y"&&getFieldOrDatumDef(encoding.y2)){if(getFieldOrDatumDef(encoding.y)){return mergeValuesWithExplicit(parseSingleChannelDomain(scaleType,domain,model,"y"),parseSingleChannelDomain(scaleType,domain,model,"y2"),"domain","scale",domainsTieBreaker)}else{return parseSingleChannelDomain(scaleType,domain,model,"y2")}}return parseSingleChannelDomain(scaleType,domain,model,channel)}function mapDomainToDataSignal(domain,type,timeUnit){return domain.map(v=>{const data=valueExpr(v,{timeUnit:timeUnit,type:type});return{signal:"{data: ".concat(data,"}")}})}function convertDomainIfItIsDateTime(domain,type,timeUnit){var _normalizeTimeUnit;const normalizedTimeUnit=(_normalizeTimeUnit=normalizeTimeUnit(timeUnit))===null||_normalizeTimeUnit===void 0?void 0:_normalizeTimeUnit.unit;if(type==="temporal"||normalizedTimeUnit){return mapDomainToDataSignal(domain,type,normalizedTimeUnit)}return[domain]}function parseSingleChannelDomain(scaleType,domain,model,channel){const{encoding:encoding}=model;const fieldOrDatumDef=getFieldOrDatumDef(encoding[channel]);const{type:type}=fieldOrDatumDef;const timeUnit=fieldOrDatumDef["timeUnit"];if(isDomainUnionWith(domain)){const defaultDomain=parseSingleChannelDomain(scaleType,undefined,model,channel);const unionWith=convertDomainIfItIsDateTime(domain.unionWith,type,timeUnit);return makeExplicit([...defaultDomain.value,...unionWith])}else if(isSignalRef(domain)){return makeExplicit([domain])}else if(domain&&domain!=="unaggregated"&&!isSelectionDomain(domain)){return makeExplicit(convertDomainIfItIsDateTime(domain,type,timeUnit))}const stack=model.stack;if(stack&&channel===stack.fieldChannel){if(stack.offset==="normalize"){return makeImplicit([[0,1]])}const data=model.requestDataName(DataSourceType.Main);return makeImplicit([{data:data,field:model.vgField(channel,{suffix:"start"})},{data:data,field:model.vgField(channel,{suffix:"end"})}])}const sort=isScaleChannel(channel)&&isFieldDef(fieldOrDatumDef)?domainSort(model,channel,scaleType):undefined;if(isDatumDef(fieldOrDatumDef)){const d=convertDomainIfItIsDateTime([fieldOrDatumDef.datum],type,timeUnit);return makeImplicit(d)}const fieldDef=fieldOrDatumDef;if(domain==="unaggregated"){const data=model.requestDataName(DataSourceType.Main);const{field:field}=fieldOrDatumDef;return makeImplicit([{data:data,field:vgField({field:field,aggregate:"min"})},{data:data,field:vgField({field:field,aggregate:"max"})}])}else if(isBinning(fieldDef.bin)){if(hasDiscreteDomain(scaleType)){if(scaleType==="bin-ordinal"){return makeImplicit([])}return makeImplicit([{data:isBoolean$1(sort)?model.requestDataName(DataSourceType.Main):model.requestDataName(DataSourceType.Raw),field:model.vgField(channel,binRequiresRange(fieldDef,channel)?{binSuffix:"range"}:{}),sort:sort===true||!isObject(sort)?{field:model.vgField(channel,{}),op:"min"}:sort}])}else{const{bin:bin}=fieldDef;if(isBinning(bin)){const binSignal=getBinSignalName(model,fieldDef.field,bin);return makeImplicit([new SignalRefWrapper(()=>{const signal=model.getSignalName(binSignal);return"[".concat(signal,".start, ").concat(signal,".stop]")})])}else{return makeImplicit([{data:model.requestDataName(DataSourceType.Main),field:model.vgField(channel,{})}])}}}else if(fieldDef.timeUnit&&contains(["time","utc"],scaleType)&&hasBand(channel,fieldDef,isUnitModel(model)?model.encoding[getSecondaryRangeChannel(channel)]:undefined,model.stack,model.markDef,model.config)){const data=model.requestDataName(DataSourceType.Main);return makeImplicit([{data:data,field:model.vgField(channel)},{data:data,field:model.vgField(channel,{suffix:"end"})}])}else if(sort){return makeImplicit([{data:isBoolean$1(sort)?model.requestDataName(DataSourceType.Main):model.requestDataName(DataSourceType.Raw),field:model.vgField(channel),sort:sort}])}else{return makeImplicit([{data:model.requestDataName(DataSourceType.Main),field:model.vgField(channel)}])}}function normalizeSortField(sort,isStackedMeasure){const{op:op,field:field,order:order}=sort;return{op:op!==null&&op!==void 0?op:isStackedMeasure?"sum":DEFAULT_SORT_OP,...field?{field:replacePathInField(field)}:{},...order?{order:order}:{}}}function parseSelectionDomain(model,channel){var _model$fieldDef;const scale=model.component.scales[channel];const spec=model.specifiedScales[channel].domain;const bin=(_model$fieldDef=model.fieldDef(channel))===null||_model$fieldDef===void 0?void 0:_model$fieldDef.bin;const domain=isSelectionDomain(spec)&&spec;const extent=isBinParams(bin)&&isSelectionExtent(bin.extent)&&bin.extent;if(domain||extent){scale.set("selectionExtent",domain!==null&&domain!==void 0?domain:extent,true)}}function domainSort(model,channel,scaleType){if(!hasDiscreteDomain(scaleType)){return undefined}const fieldDef=model.fieldDef(channel);const sort=fieldDef.sort;if(isSortArray(sort)){return{op:"min",field:sortArrayIndexField(fieldDef,channel),order:"ascending"}}const{stack:stack}=model;const stackDimensions=stack?[...stack.groupbyField?[stack.groupbyField]:[],...stack.stackBy.map(s=>s.fieldDef.field)]:undefined;if(isSortField(sort)){const isStackedMeasure=stack&&!contains(stackDimensions,sort.field);return normalizeSortField(sort,isStackedMeasure)}else if(isSortByEncoding(sort)){const{encoding:encoding,order:order}=sort;const fieldDefToSortBy=model.fieldDef(encoding);const{aggregate:aggregate,field:field}=fieldDefToSortBy;const isStackedMeasure=stack&&!contains(stackDimensions,field);if(isArgminDef(aggregate)||isArgmaxDef(aggregate)){return normalizeSortField({field:vgField(fieldDefToSortBy),order:order},isStackedMeasure)}else if(isAggregateOp(aggregate)||!aggregate){return normalizeSortField({op:aggregate,field:field,order:order},isStackedMeasure)}}else if(sort==="descending"){return{op:"min",field:model.vgField(channel),order:"descending"}}else if(contains(["ascending",undefined],sort)){return true}return undefined}function canUseUnaggregatedDomain(fieldDef,scaleType){const{aggregate:aggregate,type:type}=fieldDef;if(!aggregate){return{valid:false,reason:unaggregateDomainHasNoEffectForRawField(fieldDef)}}if(isString(aggregate)&&!SHARED_DOMAIN_OP_INDEX[aggregate]){return{valid:false,reason:unaggregateDomainWithNonSharedDomainOp(aggregate)}}if(type==="quantitative"){if(scaleType==="log"){return{valid:false,reason:unaggregatedDomainWithLogScale(fieldDef)}}}return{valid:true}}function domainsTieBreaker(v1,v2,property,propertyOf){if(v1.explicit&&v2.explicit){warn(mergeConflictingDomainProperty(property,propertyOf,v1.value,v2.value))}return{explicit:v1.explicit,value:[...v1.value,...v2.value]}}function mergeDomains(domains){const uniqueDomains=unique(domains.map(domain=>{if(isDataRefDomain(domain)){const{sort:_s,...domainWithoutSort}=domain;return domainWithoutSort}return domain}),hash);const sorts=unique(domains.map(d=>{if(isDataRefDomain(d)){const s=d.sort;if(s!==undefined&&!isBoolean$1(s)){if("op"in s&&s.op==="count"){delete s.field}if(s.order==="ascending"){delete s.order}}return s}return undefined}).filter(s=>s!==undefined),hash);if(uniqueDomains.length===0){return undefined}else if(uniqueDomains.length===1){const domain=domains[0];if(isDataRefDomain(domain)&&sorts.length>0){let sort=sorts[0];if(sorts.length>1){warn(MORE_THAN_ONE_SORT);sort=true}else{if(isObject(sort)&&"field"in sort){const sortField=sort.field;if(domain.field===sortField){sort=sort.order?{order:sort.order}:true}}}return{...domain,sort:sort}}return domain}const unionDomainSorts=unique(sorts.map(s=>{if(isBoolean$1(s)||!("op"in s)||isString(s.op)&&s.op in MULTIDOMAIN_SORT_OP_INDEX){return s}warn(domainSortDropped(s));return true}),hash);let sort;if(unionDomainSorts.length===1){sort=unionDomainSorts[0]}else if(unionDomainSorts.length>1){warn(MORE_THAN_ONE_SORT);sort=true}const allData=unique(domains.map(d=>{if(isDataRefDomain(d)){return d.data}return null}),x=>x);if(allData.length===1&&allData[0]!==null){const domain={data:allData[0],fields:uniqueDomains.map(d=>d.field),...sort?{sort:sort}:{}};return domain}return{fields:uniqueDomains,...sort?{sort:sort}:{}}}function getFieldFromDomain(domain){if(isDataRefDomain(domain)&&isString(domain.field)){return domain.field}else if(isDataRefUnionedDomain(domain)){let field;for(const nonUnionDomain of domain.fields){if(isDataRefDomain(nonUnionDomain)&&isString(nonUnionDomain.field)){if(!field){field=nonUnionDomain.field}else if(field!==nonUnionDomain.field){warn(FACETED_INDEPENDENT_DIFFERENT_SOURCES);return field}}}warn(FACETED_INDEPENDENT_SAME_FIELDS_DIFFERENT_SOURCES);return field}else if(isFieldRefUnionDomain(domain)){warn(FACETED_INDEPENDENT_SAME_SOURCE);const field=domain.fields[0];return isString(field)?field:undefined}return undefined}function assembleDomain(model,channel){const scaleComponent=model.component.scales[channel];const domains=scaleComponent.get("domains").map(domain=>{if(isDataRefDomain(domain)){domain.data=model.lookupDataSource(domain.data)}return domain});return mergeDomains(domains)}function assembleScales(model){if(isLayerModel(model)||isConcatModel(model)){return model.children.reduce((scales,child)=>scales.concat(assembleScales(child)),assembleScalesForModel(model))}else{return assembleScalesForModel(model)}}function assembleScalesForModel(model){return keys(model.component.scales).reduce((scales,channel)=>{const scaleComponent=model.component.scales[channel];if(scaleComponent.merged){return scales}const scale=scaleComponent.combine();const{name:name,type:type,selectionExtent:selectionExtent,domains:_d,range:_r,reverse:reverse,...otherScaleProps}=scale;const range=assembleScaleRange(scale.range,name,channel,model);let domainRaw;if(selectionExtent){domainRaw=assembleSelectionScaleDomain(model,selectionExtent)}const domain=assembleDomain(model,channel);scales.push({name:name,type:type,...domain?{domain:domain}:{},...domainRaw?{domainRaw:domainRaw}:{},range:range,...reverse!==undefined?{reverse:reverse}:{},...otherScaleProps});return scales},[])}function assembleScaleRange(scaleRange,scaleName,channel,model){if(isXorY(channel)){if(isVgRangeStep(scaleRange)){return{step:{signal:scaleName+"_step"}}}}else if(isObject(scaleRange)&&isDataRefDomain(scaleRange)){return{...scaleRange,data:model.lookupDataSource(scaleRange.data)}}return scaleRange}class ScaleComponent extends Split{constructor(name,typeWithExplicit){super({},{name:name});_defineProperty(this,"merged",false);this.setWithExplicit("type",typeWithExplicit)}domainDefinitelyIncludesZero(){if(this.get("zero")!==false){return true}return some(this.get("domains"),d=>isArray(d)&&d.length===2&&d[0]<=0&&d[1]>=0)}}const RANGE_PROPERTIES=["range","scheme"];function getSizeChannel$1(channel){return channel==="x"?"width":channel==="y"?"height":undefined}function parseUnitScaleRange(model){const localScaleComponents=model.component.scales;for(const channel of SCALE_CHANNELS){const localScaleCmpt=localScaleComponents[channel];if(!localScaleCmpt){continue}const rangeWithExplicit=parseRangeForChannel(channel,model);localScaleCmpt.setWithExplicit("range",rangeWithExplicit)}}function getBinStepSignal(model,channel){const fieldDef=model.fieldDef(channel);if(fieldDef&&fieldDef.bin&&isBinning(fieldDef.bin)){const binSignal=getBinSignalName(model,fieldDef.field,fieldDef.bin);const sizeType=getSizeChannel$1(channel);const sizeSignal=model.getName(sizeType);return new SignalRefWrapper(()=>{const updatedName=model.getSignalName(binSignal);const binCount="(".concat(updatedName,".stop - ").concat(updatedName,".start) / ").concat(updatedName,".step");return"".concat(model.getSignalName(sizeSignal)," / (").concat(binCount,")")})}return undefined}function parseRangeForChannel(channel,model){const specifiedScale=model.specifiedScales[channel];const{size:size}=model;const mergedScaleCmpt=model.getScaleComponent(channel);const scaleType=mergedScaleCmpt.get("type");for(const property of RANGE_PROPERTIES){if(specifiedScale[property]!==undefined){const supportedByScaleType=scaleTypeSupportProperty(scaleType,property);const channelIncompatability=channelScalePropertyIncompatability(channel,property);if(!supportedByScaleType){warn(scalePropertyNotWorkWithScaleType(scaleType,property,channel))}else if(channelIncompatability){warn(channelIncompatability)}else{switch(property){case"range":{const range=specifiedScale.range;if(isArray(range)){if(isXorY(channel)){return makeExplicit(range.map(v=>{if(v==="width"||v==="height"){const sizeSignal=model.getName(v);const getSignalName=model.getSignalName.bind(model);return SignalRefWrapper.fromName(getSignalName,sizeSignal)}return v}))}}else if(isObject(range)){return makeExplicit({data:model.requestDataName(DataSourceType.Main),field:range.field,sort:{op:"min",field:model.vgField(channel)}})}return makeExplicit(range)}case"scheme":return makeExplicit(parseScheme(specifiedScale[property]))}}}}if(channel===X||channel===Y){const sizeChannel=channel===X?"width":"height";const sizeValue=size[sizeChannel];if(isStep(sizeValue)){if(hasDiscreteDomain(scaleType)){return makeExplicit({step:sizeValue.step})}else{warn(stepDropped(sizeChannel))}}}const{rangeMin:rangeMin,rangeMax:rangeMax}=specifiedScale;const d=defaultRange(channel,model);if((rangeMin!==undefined||rangeMax!==undefined)&&scaleTypeSupportProperty(scaleType,"rangeMin")&&isArray(d)&&d.length===2){return makeExplicit([rangeMin!==null&&rangeMin!==void 0?rangeMin:d[0],rangeMax!==null&&rangeMax!==void 0?rangeMax:d[1]])}return makeImplicit(d)}function parseScheme(scheme){if(isExtendedScheme(scheme)){return{scheme:scheme.name,...omit(scheme,["name"])}}return{scheme:scheme}}function defaultRange(channel,model){const{size:size,config:config,mark:mark,encoding:encoding}=model;const getSignalName=model.getSignalName.bind(model);const{type:type}=getFieldOrDatumDef(encoding[channel]);const mergedScaleCmpt=model.getScaleComponent(channel);const scaleType=mergedScaleCmpt.get("type");const{domain:domain,domainMid:domainMid}=model.specifiedScales[channel];switch(channel){case X:case Y:{if(contains(["point","band"],scaleType)){if(channel===X&&!size.width){const w=getViewConfigDiscreteSize(config.view,"width");if(isStep(w)){return w}}else if(channel===Y&&!size.height){const h=getViewConfigDiscreteSize(config.view,"height");if(isStep(h)){return h}}}const sizeType=getSizeChannel$1(channel);const sizeSignal=model.getName(sizeType);if(channel===Y&&hasContinuousDomain(scaleType)){return[SignalRefWrapper.fromName(getSignalName,sizeSignal),0]}else{return[0,SignalRefWrapper.fromName(getSignalName,sizeSignal)]}}case SIZE:{const zero=model.component.scales[channel].get("zero");const rangeMin=sizeRangeMin(mark,zero,config);const rangeMax=sizeRangeMax(mark,size,model,config);if(isContinuousToDiscrete(scaleType)){return interpolateRange(rangeMin,rangeMax,defaultContinuousToDiscreteCount(scaleType,config,domain,channel))}else{return[rangeMin,rangeMax]}}case THETA:return[0,Math.PI*2];case ANGLE:return[0,360];case RADIUS:{return[0,new SignalRefWrapper(()=>{const w=model.getSignalName("width");const h=model.getSignalName("height");return"min(".concat(w,",").concat(h,")/2")})]}case STROKEWIDTH:return[config.scale.minStrokeWidth,config.scale.maxStrokeWidth];case STROKEDASH:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case SHAPE:return"symbol";case COLOR:case FILL:case STROKE:if(scaleType==="ordinal"){return type==="nominal"?"category":"ordinal"}else{if(domainMid!==undefined){return"diverging"}else{return mark==="rect"||mark==="geoshape"?"heatmap":"ramp"}}case OPACITY:case FILLOPACITY:case STROKEOPACITY:return[config.scale.minOpacity,config.scale.maxOpacity]}throw new Error("Scale range undefined for channel ".concat(channel))}function defaultContinuousToDiscreteCount(scaleType,config,domain,channel){switch(scaleType){case"quantile":return config.scale.quantileCount;case"quantize":return config.scale.quantizeCount;case"threshold":if(domain!==undefined&&isArray(domain)){return domain.length+1}else{warn(domainRequiredForThresholdScale(channel));return 3}}}function interpolateRange(rangeMin,rangeMax,cardinality){const f=()=>{const rMax=signalOrStringValue(rangeMax);const rMin=signalOrStringValue(rangeMin);const step="(".concat(rMax," - ").concat(rMin,") / (").concat(cardinality," - 1)");return"sequence(".concat(rMin,", ").concat(rMax," + ").concat(step,", ").concat(step,")")};if(isSignalRef(rangeMax)){return new SignalRefWrapper(f)}else{return{signal:f()}}}function sizeRangeMin(mark,zero,config){if(zero){if(isSignalRef(zero)){return{signal:"".concat(zero.signal," ? 0 : ").concat(sizeRangeMin(mark,false,config))}}else{return 0}}switch(mark){case"bar":case"tick":return config.scale.minBandSize;case"line":case"trail":case"rule":return config.scale.minStrokeWidth;case"text":return config.scale.minFontSize;case"point":case"square":case"circle":return config.scale.minSize}throw new Error(incompatibleChannel("size",mark))}const MAX_SIZE_RANGE_STEP_RATIO=.95;function sizeRangeMax(mark,size,model,config){const xyStepSignals={x:getBinStepSignal(model,"x"),y:getBinStepSignal(model,"y")};switch(mark){case"bar":case"tick":{if(config.scale.maxBandSize!==undefined){return config.scale.maxBandSize}const min=minXYStep(size,xyStepSignals,config.view);if(isNumber(min)){return min-1}else{return new SignalRefWrapper(()=>"".concat(min.signal," - 1"))}}case"line":case"trail":case"rule":return config.scale.maxStrokeWidth;case"text":return config.scale.maxFontSize;case"point":case"square":case"circle":{if(config.scale.maxSize){return config.scale.maxSize}const pointStep=minXYStep(size,xyStepSignals,config.view);if(isNumber(pointStep)){return Math.pow(MAX_SIZE_RANGE_STEP_RATIO*pointStep,2)}else{return new SignalRefWrapper(()=>"pow(".concat(MAX_SIZE_RANGE_STEP_RATIO," * ").concat(pointStep.signal,", 2)"))}}}throw new Error(incompatibleChannel("size",mark))}function minXYStep(size,xyStepSignals,viewConfig){const widthStep=isStep(size.width)?size.width.step:getViewConfigDiscreteStep(viewConfig,"width");const heightStep=isStep(size.height)?size.height.step:getViewConfigDiscreteStep(viewConfig,"height");if(xyStepSignals.x||xyStepSignals.y){return new SignalRefWrapper(()=>{const exprs=[xyStepSignals.x?xyStepSignals.x.signal:widthStep,xyStepSignals.y?xyStepSignals.y.signal:heightStep];return"min(".concat(exprs.join(", "),")")})}return Math.min(widthStep,heightStep)}function parseScaleProperty(model,property){if(isUnitModel(model)){parseUnitScaleProperty(model,property)}else{parseNonUnitScaleProperty(model,property)}}function parseUnitScaleProperty(model,property){const localScaleComponents=model.component.scales;const{config:config,encoding:encoding,markDef:markDef,specifiedScales:specifiedScales}=model;for(const channel of keys(localScaleComponents)){const specifiedScale=specifiedScales[channel];const localScaleCmpt=localScaleComponents[channel];const mergedScaleCmpt=model.getScaleComponent(channel);const fieldOrDatumDef=getFieldOrDatumDef(encoding[channel]);const specifiedValue=specifiedScale[property];const scaleType=mergedScaleCmpt.get("type");const scalePadding=mergedScaleCmpt.get("padding");const scalePaddingInner=mergedScaleCmpt.get("paddingInner");const supportedByScaleType=scaleTypeSupportProperty(scaleType,property);const channelIncompatability=channelScalePropertyIncompatability(channel,property);if(specifiedValue!==undefined){if(!supportedByScaleType){warn(scalePropertyNotWorkWithScaleType(scaleType,property,channel))}else if(channelIncompatability){warn(channelIncompatability)}}if(supportedByScaleType&&channelIncompatability===undefined){if(specifiedValue!==undefined){const timeUnit=fieldOrDatumDef["timeUnit"];const type=fieldOrDatumDef.type;switch(property){case"domainMax":case"domainMin":if(isDateTime(specifiedScale[property])||type==="temporal"||timeUnit){localScaleCmpt.set(property,{signal:valueExpr(specifiedScale[property],{type:type,timeUnit:timeUnit})},true)}else{localScaleCmpt.set(property,specifiedScale[property],true)}break;default:localScaleCmpt.copyKeyFromObject(property,specifiedScale)}}else{const value=property in scaleRules?scaleRules[property]({model:model,channel:channel,fieldOrDatumDef:fieldOrDatumDef,scaleType:scaleType,scalePadding:scalePadding,scalePaddingInner:scalePaddingInner,domain:specifiedScale.domain,markDef:markDef,config:config}):config.scale[property];if(value!==undefined){localScaleCmpt.set(property,value,false)}}}}}const scaleRules={bins:({model:model,fieldOrDatumDef:fieldOrDatumDef})=>isFieldDef(fieldOrDatumDef)?bins(model,fieldOrDatumDef):undefined,interpolate:({channel:channel,fieldOrDatumDef:fieldOrDatumDef})=>interpolate(channel,fieldOrDatumDef.type),nice:({scaleType:scaleType,channel:channel,fieldOrDatumDef:fieldOrDatumDef})=>nice(scaleType,channel,fieldOrDatumDef),padding:({channel:channel,scaleType:scaleType,fieldOrDatumDef:fieldOrDatumDef,markDef:markDef,config:config})=>padding(channel,scaleType,config.scale,fieldOrDatumDef,markDef,config.bar),paddingInner:({scalePadding:scalePadding,channel:channel,markDef:markDef,config:config})=>paddingInner(scalePadding,channel,markDef.type,config.scale),paddingOuter:({scalePadding:scalePadding,channel:channel,scaleType:scaleType,markDef:markDef,scalePaddingInner:scalePaddingInner,config:config})=>paddingOuter(scalePadding,channel,scaleType,markDef.type,scalePaddingInner,config.scale),reverse:({fieldOrDatumDef:fieldOrDatumDef,scaleType:scaleType,channel:channel,config:config})=>{const sort=isFieldDef(fieldOrDatumDef)?fieldOrDatumDef.sort:undefined;return reverse(scaleType,sort,channel,config.scale)},zero:({channel:channel,fieldOrDatumDef:fieldOrDatumDef,domain:domain,markDef:markDef,scaleType:scaleType})=>zero$1(channel,fieldOrDatumDef,domain,markDef,scaleType)};function parseScaleRange(model){if(isUnitModel(model)){parseUnitScaleRange(model)}else{parseNonUnitScaleProperty(model,"range")}}function parseNonUnitScaleProperty(model,property){const localScaleComponents=model.component.scales;for(const child of model.children){if(property==="range"){parseScaleRange(child)}else{parseScaleProperty(child,property)}}for(const channel of keys(localScaleComponents)){let valueWithExplicit;for(const child of model.children){const childComponent=child.component.scales[channel];if(childComponent){const childValueWithExplicit=childComponent.getWithExplicit(property);valueWithExplicit=mergeValuesWithExplicit(valueWithExplicit,childValueWithExplicit,property,"scale",tieBreakByComparing((v1,v2)=>{switch(property){case"range":if(v1.step&&v2.step){return v1.step-v2.step}return 0}return 0}))}}localScaleComponents[channel].setWithExplicit(property,valueWithExplicit)}}function bins(model,fieldDef){const bin=fieldDef.bin;if(isBinning(bin)){const binSignal=getBinSignalName(model,fieldDef.field,bin);return new SignalRefWrapper(()=>model.getSignalName(binSignal))}else if(isBinned(bin)&&isBinParams(bin)&&bin.step!==undefined){return{step:bin.step}}return undefined}function interpolate(channel,type){if(contains([COLOR,FILL,STROKE],channel)&&type!=="nominal"){return"hcl"}return undefined}function nice(scaleType,channel,fieldOrDatumDef){var _getFieldDef;if(((_getFieldDef=getFieldDef(fieldOrDatumDef))===null||_getFieldDef===void 0?void 0:_getFieldDef.bin)||contains([ScaleType.TIME,ScaleType.UTC],scaleType)){return undefined}return channel in POSITION_SCALE_CHANNEL_INDEX?true:undefined}function padding(channel,scaleType,scaleConfig,fieldOrDatumDef,markDef,barConfig){if(channel in POSITION_SCALE_CHANNEL_INDEX){if(isContinuousToContinuous(scaleType)){if(scaleConfig.continuousPadding!==undefined){return scaleConfig.continuousPadding}const{type:type,orient:orient}=markDef;if(type==="bar"&&!(isFieldDef(fieldOrDatumDef)&&(fieldOrDatumDef.bin||fieldOrDatumDef.timeUnit))){if(orient==="vertical"&&channel==="x"||orient==="horizontal"&&channel==="y"){return barConfig.continuousBandSize}}}if(scaleType===ScaleType.POINT){return scaleConfig.pointPadding}}return undefined}function paddingInner(paddingValue,channel,mark,scaleConfig){if(paddingValue!==undefined){return undefined}if(channel in POSITION_SCALE_CHANNEL_INDEX){const{bandPaddingInner:bandPaddingInner,barBandPaddingInner:barBandPaddingInner,rectBandPaddingInner:rectBandPaddingInner}=scaleConfig;return getFirstDefined(bandPaddingInner,mark==="bar"?barBandPaddingInner:rectBandPaddingInner)}return undefined}function paddingOuter(paddingValue,channel,scaleType,mark,paddingInnerValue,scaleConfig){if(paddingValue!==undefined){return undefined}if(channel in POSITION_SCALE_CHANNEL_INDEX){if(scaleType===ScaleType.BAND){const{bandPaddingOuter:bandPaddingOuter}=scaleConfig;return getFirstDefined(bandPaddingOuter,isSignalRef(paddingInnerValue)?{signal:"".concat(paddingInnerValue.signal,"/2")}:paddingInnerValue/2)}}return undefined}function reverse(scaleType,sort,channel,scaleConfig){if(channel==="x"&&scaleConfig.xReverse!==undefined){if(hasContinuousDomain(scaleType)&&sort==="descending"){if(isSignalRef(scaleConfig.xReverse)){return{signal:"!".concat(scaleConfig.xReverse.signal)}}else{return!scaleConfig.xReverse}}return scaleConfig.xReverse}if(hasContinuousDomain(scaleType)&&sort==="descending"){return true}return undefined}function zero$1(channel,fieldDef,specifiedDomain,markDef,scaleType){const hasCustomDomain=!!specifiedDomain&&specifiedDomain!=="unaggregated";if(hasCustomDomain){if(hasContinuousDomain(scaleType)){if(isArray(specifiedDomain)){const first=specifiedDomain[0];const last=specifiedDomain[specifiedDomain.length-1];if(first<=0&&last>=0){return true}}return false}}if(channel==="size"&&fieldDef.type==="quantitative"&&!isContinuousToDiscrete(scaleType)){return true}if(!(isFieldDef(fieldDef)&&fieldDef.bin)&&contains([...POSITION_SCALE_CHANNELS,...POLAR_POSITION_SCALE_CHANNELS],channel)){const{orient:orient,type:type}=markDef;if(contains(["bar","area","line","trail"],type)){if(orient==="horizontal"&&channel==="y"||orient==="vertical"&&channel==="x"){return false}}return true}return false}function scaleType(specifiedScale,channel,fieldDef,mark){const defaultScaleType=defaultType$2(channel,fieldDef,mark);const{type:type}=specifiedScale;if(!isScaleChannel(channel)){return null}if(type!==undefined){if(!channelSupportScaleType(channel,type)){warn(scaleTypeNotWorkWithChannel(channel,type,defaultScaleType));return defaultScaleType}if(isFieldDef(fieldDef)&&!scaleTypeSupportDataType(type,fieldDef.type)){warn(scaleTypeNotWorkWithFieldDef(type,defaultScaleType));return defaultScaleType}return type}return defaultScaleType}function defaultType$2(channel,fieldDef,mark){var _fieldDef$axis;switch(fieldDef.type){case"nominal":case"ordinal":if(isColorChannel(channel)||rangeType(channel)==="discrete"){if(channel==="shape"&&fieldDef.type==="ordinal"){warn(discreteChannelCannotEncode(channel,"ordinal"))}return"ordinal"}if(channel in POSITION_SCALE_CHANNEL_INDEX){if(contains(["rect","bar","image","rule"],mark)){return"band"}}else if(mark==="arc"&&channel in POLAR_POSITION_SCALE_CHANNEL_INDEX){return"band"}if(fieldDef.band!==undefined||isPositionFieldOrDatumDef(fieldDef)&&((_fieldDef$axis=fieldDef.axis)===null||_fieldDef$axis===void 0?void 0:_fieldDef$axis.tickBand)){return"band"}return"point";case"temporal":if(isColorChannel(channel)){return"time"}else if(rangeType(channel)==="discrete"){warn(discreteChannelCannotEncode(channel,"temporal"));return"ordinal"}else if(isFieldDef(fieldDef)&&fieldDef.timeUnit&&normalizeTimeUnit(fieldDef.timeUnit).utc){return"utc"}return"time";case"quantitative":if(isColorChannel(channel)){if(isFieldDef(fieldDef)&&isBinning(fieldDef.bin)){return"bin-ordinal"}return"linear"}else if(rangeType(channel)==="discrete"){warn(discreteChannelCannotEncode(channel,"quantitative"));return"ordinal"}return"linear";case"geojson":return undefined}throw new Error(invalidFieldType(fieldDef.type))}function parseScales(model,{ignoreRange:ignoreRange}={}){parseScaleCore(model);parseScaleDomain(model);for(const prop of NON_TYPE_DOMAIN_RANGE_VEGA_SCALE_PROPERTIES){parseScaleProperty(model,prop)}if(!ignoreRange){parseScaleRange(model)}}function parseScaleCore(model){if(isUnitModel(model)){model.component.scales=parseUnitScaleCore(model)}else{model.component.scales=parseNonUnitScaleCore(model)}}function parseUnitScaleCore(model){const{encoding:encoding,mark:mark}=model;return SCALE_CHANNELS.reduce((scaleComponents,channel)=>{const fieldOrDatumDef=getFieldOrDatumDef(encoding[channel]);if(fieldOrDatumDef&&mark===GEOSHAPE&&channel===SHAPE&&fieldOrDatumDef.type===GEOJSON){return scaleComponents}let specifiedScale=fieldOrDatumDef&&fieldOrDatumDef["scale"];if(fieldOrDatumDef&&specifiedScale!==null&&specifiedScale!==false){var _specifiedScale;specifiedScale=(_specifiedScale=specifiedScale)!==null&&_specifiedScale!==void 0?_specifiedScale:{};const sType=scaleType(specifiedScale,channel,fieldOrDatumDef,mark);scaleComponents[channel]=new ScaleComponent(model.scaleName(channel+"",true),{value:sType,explicit:specifiedScale.type===sType})}return scaleComponents},{})}const scaleTypeTieBreaker=tieBreakByComparing((st1,st2)=>scaleTypePrecedence(st1)-scaleTypePrecedence(st2));function parseNonUnitScaleCore(model){const scaleComponents=model.component.scales={};const scaleTypeWithExplicitIndex={};const resolve=model.component.resolve;for(const child of model.children){parseScaleCore(child);for(const channel of keys(child.component.scales)){var _resolve$scale$channe;resolve.scale[channel]=(_resolve$scale$channe=resolve.scale[channel])!==null&&_resolve$scale$channe!==void 0?_resolve$scale$channe:defaultScaleResolve(channel,model);if(resolve.scale[channel]==="shared"){const explicitScaleType=scaleTypeWithExplicitIndex[channel];const childScaleType=child.component.scales[channel].getWithExplicit("type");if(explicitScaleType){if(scaleCompatible(explicitScaleType.value,childScaleType.value)){scaleTypeWithExplicitIndex[channel]=mergeValuesWithExplicit(explicitScaleType,childScaleType,"type","scale",scaleTypeTieBreaker)}else{resolve.scale[channel]="independent";delete scaleTypeWithExplicitIndex[channel]}}else{scaleTypeWithExplicitIndex[channel]=childScaleType}}}}for(const channel of keys(scaleTypeWithExplicitIndex)){const name=model.scaleName(channel,true);const typeWithExplicit=scaleTypeWithExplicitIndex[channel];scaleComponents[channel]=new ScaleComponent(name,typeWithExplicit);for(const child of model.children){const childScale=child.component.scales[channel];if(childScale){child.renameScale(childScale.get("name"),name);childScale.merged=true}}}return scaleComponents}class NameMap{constructor(){_defineProperty(this,"nameMap",void 0);this.nameMap={}}rename(oldName,newName){this.nameMap[oldName]=newName}has(name){return this.nameMap[name]!==undefined}get(name){while(this.nameMap[name]&&name!==this.nameMap[name]){name=this.nameMap[name]}return name}}function isUnitModel(model){return(model===null||model===void 0?void 0:model.type)==="unit"}function isFacetModel(model){return(model===null||model===void 0?void 0:model.type)==="facet"}function isConcatModel(model){return(model===null||model===void 0?void 0:model.type)==="concat"}function isLayerModel(model){return(model===null||model===void 0?void 0:model.type)==="layer"}class Model{constructor(spec,type,parent,parentGivenName,config,resolve,view){var _spec$name,_spec$transform;this.type=type;this.parent=parent;this.config=config;_defineProperty(this,"name",void 0);_defineProperty(this,"size",void 0);_defineProperty(this,"title",void 0);_defineProperty(this,"description",void 0);_defineProperty(this,"data",void 0);_defineProperty(this,"transforms",void 0);_defineProperty(this,"layout",void 0);_defineProperty(this,"scaleNameMap",void 0);_defineProperty(this,"projectionNameMap",void 0);_defineProperty(this,"signalNameMap",void 0);_defineProperty(this,"component",void 0);_defineProperty(this,"view",void 0);_defineProperty(this,"children",[]);_defineProperty(this,"correctDataNames",mark=>{if(mark.from&&mark.from.data){mark.from.data=this.lookupDataSource(mark.from.data)}if(mark.from&&mark.from.facet&&mark.from.facet.data){mark.from.facet.data=this.lookupDataSource(mark.from.facet.data)}return mark});this.parent=parent;this.config=config;this.view=replaceExprRefInIndex(view);this.name=(_spec$name=spec.name)!==null&&_spec$name!==void 0?_spec$name:parentGivenName;this.title=isText(spec.title)?{text:spec.title}:spec.title?this.initTitle(spec.title):undefined;this.scaleNameMap=parent?parent.scaleNameMap:new NameMap;this.projectionNameMap=parent?parent.projectionNameMap:new NameMap;this.signalNameMap=parent?parent.signalNameMap:new NameMap;this.data=spec.data;this.description=spec.description;this.transforms=normalizeTransform((_spec$transform=spec.transform)!==null&&_spec$transform!==void 0?_spec$transform:[]);this.layout=type==="layer"||type==="unit"?{}:extractCompositionLayout(spec,type,config);this.component={data:{sources:parent?parent.component.data.sources:[],outputNodes:parent?parent.component.data.outputNodes:{},outputNodeRefCounts:parent?parent.component.data.outputNodeRefCounts:{},isFaceted:isFacetSpec(spec)||parent&&parent.component.data.isFaceted&&spec.data===undefined},layoutSize:new Split,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...resolve?duplicate(resolve):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}initTitle(title){const props=keys(title);const titleInternal={text:signalRefOrValue(title.text)};for(const prop of props){titleInternal[prop]=signalRefOrValue(title[prop])}return titleInternal}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale();this.parseLayoutSize();this.renameTopLevelLayoutSizeSignal();this.parseSelections();this.parseProjection();this.parseData();this.parseAxesAndHeaders();this.parseLegends();this.parseMarkGroup()}parseScale(){parseScales(this)}parseProjection(){parseProjection(this)}renameTopLevelLayoutSizeSignal(){if(this.getName("width")!=="width"){this.renameSignal(this.getName("width"),"width")}if(this.getName("height")!=="height"){this.renameSignal(this.getName("height"),"height")}}parseLegends(){parseLegend(this)}assembleGroupStyle(){if(this.type==="unit"||this.type==="layer"){var _this$view$style,_this$view;return(_this$view$style=(_this$view=this.view)===null||_this$view===void 0?void 0:_this$view.style)!==null&&_this$view$style!==void 0?_this$view$style:"cell"}return undefined}assembleEncodeFromView(view){const{style:_,...baseView}=view;const e={};for(const property of keys(baseView)){const value=baseView[property];if(value!==undefined){e[property]=signalOrValueRef(value)}}return e}assembleGroupEncodeEntry(isTopLevel){let encodeEntry={};if(this.view){encodeEntry=this.assembleEncodeFromView(this.view)}if(!isTopLevel){if(this.description){encodeEntry["description"]=signalOrValueRef(this.description)}if(this.type==="unit"||this.type==="layer"){var _encodeEntry;return{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...(_encodeEntry=encodeEntry)!==null&&_encodeEntry!==void 0?_encodeEntry:{}}}}return isEmpty(encodeEntry)?undefined:encodeEntry}assembleLayout(){if(!this.layout){return undefined}const{spacing:spacing,...layout}=this.layout;const{component:component,config:config}=this;const titleBand=assembleLayoutTitleBand(component.layoutHeaders,config);return{padding:spacing,...this.assembleDefaultLayout(),...layout,...titleBand?{titleBand:titleBand}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:layoutHeaders}=this.component;let headerMarks=[];for(const channel of FACET_CHANNELS){if(layoutHeaders[channel].title){headerMarks.push(assembleTitleGroup(this,channel))}}for(const channel of HEADER_CHANNELS){headerMarks=headerMarks.concat(assembleHeaderGroups(this,channel))}return headerMarks}assembleAxes(){return assembleAxes(this.component.axes,this.config)}assembleLegends(){return assembleLegends(this)}assembleProjections(){return assembleProjections(this)}assembleTitle(){var _this$title;const{encoding:encoding,...titleNoEncoding}=(_this$title=this.title)!==null&&_this$title!==void 0?_this$title:{};const title={...extractTitleConfig(this.config.title).nonMark,...titleNoEncoding,...encoding?{encode:{update:encoding}}:{}};if(title.text){if(contains(["unit","layer"],this.type)){if(contains(["middle",undefined],title.anchor)){var _title$frame;title.frame=(_title$frame=title.frame)!==null&&_title$frame!==void 0?_title$frame:"group"}}else{var _title$anchor;title.anchor=(_title$anchor=title.anchor)!==null&&_title$anchor!==void 0?_title$anchor:"start"}return isEmpty(title)?undefined:title}return undefined}assembleGroup(signals=[]){const group={};signals=signals.concat(this.assembleSignals());if(signals.length>0){group.signals=signals}const layout=this.assembleLayout();if(layout){group.layout=layout}group.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const scales=!this.parent||isFacetModel(this.parent)?assembleScales(this):[];if(scales.length>0){group.scales=scales}const axes=this.assembleAxes();if(axes.length>0){group.axes=axes}const legends=this.assembleLegends();if(legends.length>0){group.legends=legends}return group}getName(text){return varName((this.name?this.name+"_":"")+text)}getDataName(type){return this.getName(DataSourceType[type].toLowerCase())}requestDataName(name){const fullName=this.getDataName(name);const refCounts=this.component.data.outputNodeRefCounts;refCounts[fullName]=(refCounts[fullName]||0)+1;return fullName}getSizeSignalRef(layoutSizeType){if(isFacetModel(this.parent)){const sizeType=getSizeTypeFromLayoutSizeType(layoutSizeType);const channel=getPositionScaleChannel(sizeType);const scaleComponent=this.component.scales[channel];if(scaleComponent&&!scaleComponent.merged){const type=scaleComponent.get("type");const range=scaleComponent.get("range");if(hasDiscreteDomain(type)&&isVgRangeStep(range)){const scaleName=scaleComponent.get("name");const domain=assembleDomain(this,channel);const field=getFieldFromDomain(domain);if(field){const fieldRef=vgField({aggregate:"distinct",field:field},{expr:"datum"});return{signal:sizeExpr(scaleName,scaleComponent,fieldRef)}}else{warn(unknownField(channel));return null}}}}return{signal:this.signalNameMap.get(this.getName(layoutSizeType))}}lookupDataSource(name){const node=this.component.data.outputNodes[name];if(!node){return name}return node.getSource()}getSignalName(oldSignalName){return this.signalNameMap.get(oldSignalName)}renameSignal(oldName,newName){this.signalNameMap.rename(oldName,newName)}renameScale(oldName,newName){this.scaleNameMap.rename(oldName,newName)}renameProjection(oldName,newName){this.projectionNameMap.rename(oldName,newName)}scaleName(originalScaleName,parse){if(parse){return this.getName(originalScaleName)}if(isChannel(originalScaleName)&&isScaleChannel(originalScaleName)&&this.component.scales[originalScaleName]||this.scaleNameMap.has(this.getName(originalScaleName))){return this.scaleNameMap.get(this.getName(originalScaleName))}return undefined}projectionName(parse){if(parse){return this.getName("projection")}if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection"))){return this.projectionNameMap.get(this.getName("projection"))}return undefined}getScaleComponent(channel){if(!this.component.scales){throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().")}const localScaleComponent=this.component.scales[channel];if(localScaleComponent&&!localScaleComponent.merged){return localScaleComponent}return this.parent?this.parent.getScaleComponent(channel):undefined}getSelectionComponent(variableName,origName){let sel=this.component.selection[variableName];if(!sel&&this.parent){sel=this.parent.getSelectionComponent(variableName,origName)}if(!sel){throw new Error(selectionNotFound(origName))}return sel}hasAxisOrientSignalRef(){var _this$component$axes$,_this$component$axes$2;return((_this$component$axes$=this.component.axes.x)===null||_this$component$axes$===void 0?void 0:_this$component$axes$.some(a=>a.hasOrientSignalRef()))||((_this$component$axes$2=this.component.axes.y)===null||_this$component$axes$2===void 0?void 0:_this$component$axes$2.some(a=>a.hasOrientSignalRef()))}}class ModelWithField extends Model{vgField(channel,opt={}){const fieldDef=this.fieldDef(channel);if(!fieldDef){return undefined}return vgField(fieldDef,opt)}reduceFieldDef(f,init){return reduce(this.getMapping(),(acc,cd,c)=>{const fieldDef=getFieldDef(cd);if(fieldDef){return f(acc,fieldDef,c)}return acc},init)}forEachFieldDef(f,t){forEach(this.getMapping(),(cd,c)=>{const fieldDef=getFieldDef(cd);if(fieldDef){f(fieldDef,c)}},t)}}class DensityTransformNode extends DataFlowNode{clone(){return new DensityTransformNode(null,duplicate(this.transform))}constructor(parent,transform){var _this$transform$as,_specifiedAs$,_specifiedAs$2;super(parent);this.transform=transform;this.transform=duplicate(transform);const specifiedAs=(_this$transform$as=this.transform.as)!==null&&_this$transform$as!==void 0?_this$transform$as:[undefined,undefined];this.transform.as=[(_specifiedAs$=specifiedAs[0])!==null&&_specifiedAs$!==void 0?_specifiedAs$:"value",(_specifiedAs$2=specifiedAs[1])!==null&&_specifiedAs$2!==void 0?_specifiedAs$2:"density"]}dependentFields(){var _this$transform$group;return new Set([this.transform.density,...(_this$transform$group=this.transform.groupby)!==null&&_this$transform$group!==void 0?_this$transform$group:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"DensityTransform ".concat(hash(this.transform))}assemble(){const{density:density,...rest}=this.transform;const result={type:"kde",field:density,...rest};return result}}class FilterInvalidNode extends DataFlowNode{clone(){return new FilterInvalidNode(null,{...this.filter})}constructor(parent,filter){super(parent);this.filter=filter}static make(parent,model){const{config:config,mark:mark,markDef:markDef}=model;const invalid=getMarkPropOrConfig("invalid",markDef,config);if(invalid!=="filter"){return null}const filter=model.reduceFieldDef((aggregator,fieldDef,channel)=>{const scaleComponent=isScaleChannel(channel)&&model.getScaleComponent(channel);if(scaleComponent){const scaleType=scaleComponent.get("type");if(hasContinuousDomain(scaleType)&&fieldDef.aggregate!=="count"&&!isPathMark(mark)){aggregator[fieldDef.field]=fieldDef}}return aggregator},{});if(!keys(filter).length){return null}return new FilterInvalidNode(parent,filter)}dependentFields(){return new Set(keys(this.filter))}producedFields(){return new Set}hash(){return"FilterInvalid ".concat(hash(this.filter))}assemble(){const filters=keys(this.filter).reduce((vegaFilters,field)=>{const fieldDef=this.filter[field];const ref=vgField(fieldDef,{expr:"datum"});if(fieldDef!==null){if(fieldDef.type==="temporal"){vegaFilters.push("(isDate(".concat(ref,") || (isValid(").concat(ref,") && isFinite(+").concat(ref,")))"))}else if(fieldDef.type==="quantitative"){vegaFilters.push("isValid(".concat(ref,")"));vegaFilters.push("isFinite(+".concat(ref,")"))}else;}return vegaFilters},[]);return filters.length>0?{type:"filter",expr:filters.join(" && ")}:null}}class FlattenTransformNode extends DataFlowNode{clone(){return new FlattenTransformNode(this.parent,duplicate(this.transform))}constructor(parent,transform){super(parent);this.transform=transform;this.transform=duplicate(transform);const{flatten:flatten,as:as=[]}=this.transform;this.transform.as=flatten.map((f,i)=>{var _as$i;return(_as$i=as[i])!==null&&_as$i!==void 0?_as$i:f})}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return"FlattenTransform ".concat(hash(this.transform))}assemble(){const{flatten:fields,as:as}=this.transform;const result={type:"flatten",fields:fields,as:as};return result}}class FoldTransformNode extends DataFlowNode{clone(){return new FoldTransformNode(null,duplicate(this.transform))}constructor(parent,transform){var _this$transform$as,_specifiedAs$,_specifiedAs$2;super(parent);this.transform=transform;this.transform=duplicate(transform);const specifiedAs=(_this$transform$as=this.transform.as)!==null&&_this$transform$as!==void 0?_this$transform$as:[undefined,undefined];this.transform.as=[(_specifiedAs$=specifiedAs[0])!==null&&_specifiedAs$!==void 0?_specifiedAs$:"key",(_specifiedAs$2=specifiedAs[1])!==null&&_specifiedAs$2!==void 0?_specifiedAs$2:"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return"FoldTransform ".concat(hash(this.transform))}assemble(){const{fold:fold,as:as}=this.transform;const result={type:"fold",fields:fold,as:as};return result}}class GeoJSONNode extends DataFlowNode{clone(){return new GeoJSONNode(null,duplicate(this.fields),this.geojson,this.signal)}static parseAll(parent,model){if(model.component.projection&&!model.component.projection.isFit){return parent}let geoJsonCounter=0;for(const coordinates of[[LONGITUDE,LATITUDE],[LONGITUDE2,LATITUDE2]]){const pair=coordinates.map(channel=>{const def=getFieldOrDatumDef(model.encoding[channel]);return isFieldDef(def)?def.field:isDatumDef(def)?{expr:"".concat(def.datum)}:isValueDef(def)?{expr:"".concat(def["value"])}:undefined});if(pair[0]||pair[1]){parent=new GeoJSONNode(parent,pair,null,model.getName("geojson_".concat(geoJsonCounter++)))}}if(model.channelHasField(SHAPE)){const fieldDef=model.typedFieldDef(SHAPE);if(fieldDef.type===GEOJSON){parent=new GeoJSONNode(parent,null,fieldDef.field,model.getName("geojson_".concat(geoJsonCounter++)))}}return parent}constructor(parent,fields,geojson,signal){super(parent);this.fields=fields;this.geojson=geojson;this.signal=signal}dependentFields(){var _this$fields;const fields=((_this$fields=this.fields)!==null&&_this$fields!==void 0?_this$fields:[]).filter(isString);return new Set([...this.geojson?[this.geojson]:[],...fields])}producedFields(){return new Set}hash(){return"GeoJSON ".concat(this.geojson," ").concat(this.signal," ").concat(hash(this.fields))}assemble(){return{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}}}class GeoPointNode extends DataFlowNode{clone(){return new GeoPointNode(null,this.projection,duplicate(this.fields),duplicate(this.as))}constructor(parent,projection,fields,as){super(parent);this.projection=projection;this.fields=fields;this.as=as}static parseAll(parent,model){if(!model.projectionName()){return parent}for(const coordinates of[[LONGITUDE,LATITUDE],[LONGITUDE2,LATITUDE2]]){const pair=coordinates.map(channel=>{const def=getFieldOrDatumDef(model.encoding[channel]);return isFieldDef(def)?def.field:isDatumDef(def)?{expr:"".concat(def.datum)}:isValueDef(def)?{expr:"".concat(def["value"])}:undefined});const suffix=coordinates[0]===LONGITUDE2?"2":"";if(pair[0]||pair[1]){parent=new GeoPointNode(parent,model.projectionName(),pair,[model.getName("x"+suffix),model.getName("y"+suffix)])}}return parent}dependentFields(){return new Set(this.fields.filter(isString))}producedFields(){return new Set(this.as)}hash(){return"Geopoint ".concat(this.projection," ").concat(hash(this.fields)," ").concat(hash(this.as))}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class ImputeNode extends DataFlowNode{clone(){return new ImputeNode(null,duplicate(this.transform))}constructor(parent,transform){super(parent);this.transform=transform}dependentFields(){var _this$transform$group;return new Set([this.transform.impute,this.transform.key,...(_this$transform$group=this.transform.groupby)!==null&&_this$transform$group!==void 0?_this$transform$group:[]])}producedFields(){return new Set([this.transform.impute])}processSequence(keyvals){const{start:start=0,stop:stop,step:step}=keyvals;const result=[start,stop,...step?[step]:[]].join(",");return{signal:"sequence(".concat(result,")")}}static makeFromTransform(parent,imputeTransform){return new ImputeNode(parent,imputeTransform)}static makeFromEncoding(parent,model){const encoding=model.encoding;const xDef=encoding.x;const yDef=encoding.y;if(isFieldDef(xDef)&&isFieldDef(yDef)){const imputedChannel=xDef.impute?xDef:yDef.impute?yDef:undefined;if(imputedChannel===undefined){return undefined}const keyChannel=xDef.impute?yDef:yDef.impute?xDef:undefined;const{method:method,value:value,frame:frame,keyvals:keyvals}=imputedChannel.impute;const groupbyFields=pathGroupingFields(model.mark,encoding);return new ImputeNode(parent,{impute:imputedChannel.field,key:keyChannel.field,...method?{method:method}:{},...value!==undefined?{value:value}:{},...frame?{frame:frame}:{},...keyvals!==undefined?{keyvals:keyvals}:{},...groupbyFields.length?{groupby:groupbyFields}:{}})}return null}hash(){return"Impute ".concat(hash(this.transform))}assemble(){const{impute:impute,key:key,keyvals:keyvals,method:method,groupby:groupby,value:value,frame:frame=[null,null]}=this.transform;const imputeTransform={type:"impute",field:impute,key:key,...keyvals?{keyvals:isImputeSequence(keyvals)?this.processSequence(keyvals):keyvals}:{},method:"value",...groupby?{groupby:groupby}:{},value:!method||method==="value"?value:null};if(method&&method!=="value"){const deriveNewField={type:"window",as:["imputed_".concat(impute,"_value")],ops:[method],fields:[impute],frame:frame,ignorePeers:false,...groupby?{groupby:groupby}:{}};const replaceOriginal={type:"formula",expr:"datum.".concat(impute," === null ? datum.imputed_").concat(impute,"_value : datum.").concat(impute),as:impute};return[imputeTransform,deriveNewField,replaceOriginal]}else{return[imputeTransform]}}}class LoessTransformNode extends DataFlowNode{clone(){return new LoessTransformNode(null,duplicate(this.transform))}constructor(parent,transform){var _this$transform$as,_specifiedAs$,_specifiedAs$2;super(parent);this.transform=transform;this.transform=duplicate(transform);const specifiedAs=(_this$transform$as=this.transform.as)!==null&&_this$transform$as!==void 0?_this$transform$as:[undefined,undefined];this.transform.as=[(_specifiedAs$=specifiedAs[0])!==null&&_specifiedAs$!==void 0?_specifiedAs$:transform.on,(_specifiedAs$2=specifiedAs[1])!==null&&_specifiedAs$2!==void 0?_specifiedAs$2:transform.loess]}dependentFields(){var _this$transform$group;return new Set([this.transform.loess,this.transform.on,...(_this$transform$group=this.transform.groupby)!==null&&_this$transform$group!==void 0?_this$transform$group:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"LoessTransform ".concat(hash(this.transform))}assemble(){const{loess:loess,on:on,...rest}=this.transform;const result={type:"loess",x:on,y:loess,...rest};return result}}class LookupNode extends DataFlowNode{clone(){return new LookupNode(null,duplicate(this.transform),this.secondary)}constructor(parent,transform,secondary){super(parent);this.transform=transform;this.secondary=secondary}static make(parent,model,transform,counter){const sources=model.component.data.sources;const{from:from}=transform;let fromOutputNode=null;if(isLookupData(from)){let fromSource=findSource(from.data,sources);if(!fromSource){fromSource=new SourceNode(from.data);sources.push(fromSource)}const fromOutputName=model.getName("lookup_".concat(counter));fromOutputNode=new OutputNode(fromSource,fromOutputName,DataSourceType.Lookup,model.component.data.outputNodeRefCounts);model.component.data.outputNodes[fromOutputName]=fromOutputNode}else if(isLookupSelection(from)){const selName=from.selection;transform={as:selName,...transform};fromOutputNode=model.getSelectionComponent(varName(selName),selName).materialized;if(!fromOutputNode){throw new Error(noSameUnitLookup(selName))}}return new LookupNode(parent,transform,fromOutputNode.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?array(this.transform.as):this.transform.from.fields)}hash(){return"Lookup ".concat(hash({transform:this.transform,secondary:this.secondary}))}assemble(){let foreign;if(this.transform.from.fields){foreign={values:this.transform.from.fields,...this.transform.as?{as:array(this.transform.as)}:{}}}else{let asName=this.transform.as;if(!isString(asName)){warn(NO_FIELDS_NEEDS_AS);asName="_lookup"}foreign={as:[asName]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...foreign,...this.transform.default?{default:this.transform.default}:{}}}}class QuantileTransformNode extends DataFlowNode{clone(){return new QuantileTransformNode(null,duplicate(this.transform))}constructor(parent,transform){var _this$transform$as,_specifiedAs$,_specifiedAs$2;super(parent);this.transform=transform;this.transform=duplicate(transform);const specifiedAs=(_this$transform$as=this.transform.as)!==null&&_this$transform$as!==void 0?_this$transform$as:[undefined,undefined];this.transform.as=[(_specifiedAs$=specifiedAs[0])!==null&&_specifiedAs$!==void 0?_specifiedAs$:"prob",(_specifiedAs$2=specifiedAs[1])!==null&&_specifiedAs$2!==void 0?_specifiedAs$2:"value"]}dependentFields(){var _this$transform$group;return new Set([this.transform.quantile,...(_this$transform$group=this.transform.groupby)!==null&&_this$transform$group!==void 0?_this$transform$group:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"QuantileTransform ".concat(hash(this.transform))}assemble(){const{quantile:quantile,...rest}=this.transform;const result={type:"quantile",field:quantile,...rest};return result}}class RegressionTransformNode extends DataFlowNode{clone(){return new RegressionTransformNode(null,duplicate(this.transform))}constructor(parent,transform){var _this$transform$as,_specifiedAs$,_specifiedAs$2;super(parent);this.transform=transform;this.transform=duplicate(transform);const specifiedAs=(_this$transform$as=this.transform.as)!==null&&_this$transform$as!==void 0?_this$transform$as:[undefined,undefined];this.transform.as=[(_specifiedAs$=specifiedAs[0])!==null&&_specifiedAs$!==void 0?_specifiedAs$:transform.on,(_specifiedAs$2=specifiedAs[1])!==null&&_specifiedAs$2!==void 0?_specifiedAs$2:transform.regression]}dependentFields(){var _this$transform$group;return new Set([this.transform.regression,this.transform.on,...(_this$transform$group=this.transform.groupby)!==null&&_this$transform$group!==void 0?_this$transform$group:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"RegressionTransform ".concat(hash(this.transform))}assemble(){const{regression:regression,on:on,...rest}=this.transform;const result={type:"regression",x:on,y:regression,...rest};return result}}class PivotTransformNode extends DataFlowNode{clone(){return new PivotTransformNode(null,duplicate(this.transform))}constructor(parent,transform){super(parent);this.transform=transform}addDimensions(fields){var _this$transform$group;this.transform.groupby=unique(((_this$transform$group=this.transform.groupby)!==null&&_this$transform$group!==void 0?_this$transform$group:[]).concat(fields),d=>d)}producedFields(){return undefined}dependentFields(){var _this$transform$group2;return new Set([this.transform.pivot,this.transform.value,...(_this$transform$group2=this.transform.groupby)!==null&&_this$transform$group2!==void 0?_this$transform$group2:[]])}hash(){return"PivotTransform ".concat(hash(this.transform))}assemble(){const{pivot:pivot,value:value,groupby:groupby,limit:limit,op:op}=this.transform;return{type:"pivot",field:pivot,value:value,...limit!==undefined?{limit:limit}:{},...op!==undefined?{op:op}:{},...groupby!==undefined?{groupby:groupby}:{}}}}class SampleTransformNode extends DataFlowNode{clone(){return new SampleTransformNode(null,duplicate(this.transform))}constructor(parent,transform){super(parent);this.transform=transform}dependentFields(){return new Set}producedFields(){return new Set}hash(){return"SampleTransform ".concat(hash(this.transform))}assemble(){return{type:"sample",size:this.transform.sample}}}function makeWalkTree(data){let datasetIndex=0;function walkTree(node,dataSource){if(node instanceof SourceNode){if(!node.isGenerator&&!isUrlData(node.data)){data.push(dataSource);const newData={name:null,source:dataSource.name,transform:[]};dataSource=newData}}if(node instanceof ParseNode){if(node.parent instanceof SourceNode&&!dataSource.source){var _dataSource$format;dataSource.format={...(_dataSource$format=dataSource.format)!==null&&_dataSource$format!==void 0?_dataSource$format:{},parse:node.assembleFormatParse()};dataSource.transform.push(...node.assembleTransforms(true))}else{dataSource.transform.push(...node.assembleTransforms())}}if(node instanceof FacetNode){if(!dataSource.name){dataSource.name="data_".concat(datasetIndex++)}if(!dataSource.source||dataSource.transform.length>0){data.push(dataSource);node.data=dataSource.name}else{node.data=dataSource.source}for(const d of node.assemble()){data.push(d)}return}if(node instanceof GraticuleNode||node instanceof SequenceNode||node instanceof FilterInvalidNode||node instanceof FilterNode||node instanceof CalculateNode||node instanceof GeoPointNode||node instanceof GeoJSONNode||node instanceof AggregateNode||node instanceof LookupNode||node instanceof WindowTransformNode||node instanceof JoinAggregateTransformNode||node instanceof FoldTransformNode||node instanceof FlattenTransformNode||node instanceof DensityTransformNode||node instanceof LoessTransformNode||node instanceof QuantileTransformNode||node instanceof RegressionTransformNode||node instanceof IdentifierNode||node instanceof SampleTransformNode||node instanceof PivotTransformNode){dataSource.transform.push(node.assemble())}if(node instanceof BinNode||node instanceof TimeUnitNode||node instanceof ImputeNode||node instanceof StackNode){dataSource.transform.push(...node.assemble())}if(node instanceof OutputNode){if(dataSource.source&&dataSource.transform.length===0){node.setSource(dataSource.source)}else if(node.parent instanceof OutputNode){node.setSource(dataSource.name)}else{if(!dataSource.name){dataSource.name="data_".concat(datasetIndex++)}node.setSource(dataSource.name);if(node.numChildren()===1){data.push(dataSource);const newData={name:null,source:dataSource.name,transform:[]};dataSource=newData}}}switch(node.numChildren()){case 0:if(node instanceof OutputNode&&(!dataSource.source||dataSource.transform.length>0)){data.push(dataSource)}break;case 1:walkTree(node.children[0],dataSource);break;default:{if(!dataSource.name){dataSource.name="data_".concat(datasetIndex++)}let source=dataSource.name;if(!dataSource.source||dataSource.transform.length>0){data.push(dataSource)}else{source=dataSource.source}for(const child of node.children){const newData={name:null,source:source,transform:[]};walkTree(child,newData)}break}}}return walkTree}function assembleFacetData(root){const data=[];const walkTree=makeWalkTree(data);for(const child of root.children){walkTree(child,{source:root.name,name:null,transform:[]})}return data}function assembleRootData(dataComponent,datasets){const data=[];const walkTree=makeWalkTree(data);let sourceIndex=0;for(const root of dataComponent.sources){if(!root.hasName()){root.dataName="source_".concat(sourceIndex++)}const newData=root.assemble();walkTree(root,newData)}for(const d of data){if(d.transform.length===0){delete d.transform}}let whereTo=0;for(const[i,d]of data.entries()){var _d$transform;if(((_d$transform=d.transform)!==null&&_d$transform!==void 0?_d$transform:[]).length===0&&!d.source){data.splice(whereTo++,0,data.splice(i,1)[0])}}for(const d of data){for(const t of(_d$transform2=d.transform)!==null&&_d$transform2!==void 0?_d$transform2:[]){var _d$transform2;if(t.type==="lookup"){t.from=dataComponent.outputNodes[t.from].getSource()}}}for(const d of data){if(d.name in datasets){d.values=datasets[d.name]}}return data}function getHeaderType(orient){if(orient==="top"||orient==="left"||isSignalRef(orient)){return"header"}return"footer"}function parseFacetHeaders(model){for(const channel of FACET_CHANNELS){parseFacetHeader(model,channel)}mergeChildAxis(model,"x");mergeChildAxis(model,"y")}function parseFacetHeader(model,channel){const{facet:facet,config:config,child:child,component:component}=model;if(model.channelHasField(channel)){var _fieldDef$header;const fieldDef=facet[channel];const titleConfig=getHeaderProperty("title",null,config,channel);let title$1=title(fieldDef,config,{allowDisabling:true,includeDefault:titleConfig===undefined||!!titleConfig});if(child.component.layoutHeaders[channel].title){title$1=isArray(title$1)?title$1.join(", "):title$1;title$1+=" / "+child.component.layoutHeaders[channel].title;child.component.layoutHeaders[channel].title=null}const labelOrient=getHeaderProperty("labelOrient",fieldDef,config,channel);const header=(_fieldDef$header=fieldDef.header)!==null&&_fieldDef$header!==void 0?_fieldDef$header:{};const labels=getFirstDefined(header.labels,config.header.labels,true);const headerType=contains(["bottom","right"],labelOrient)?"footer":"header";component.layoutHeaders[channel]={title:title$1,facetFieldDef:fieldDef,[headerType]:channel==="facet"?[]:[makeHeaderComponent(model,channel,labels)]}}}function makeHeaderComponent(model,channel,labels){const sizeType=channel==="row"?"height":"width";return{labels:labels,sizeSignal:model.child.component.layoutSize.get(sizeType)?model.child.getSizeSignalRef(sizeType):undefined,axes:[]}}function mergeChildAxis(model,channel){const{child:child}=model;if(child.component.axes[channel]){const{layoutHeaders:layoutHeaders,resolve:resolve}=model.component;resolve.axis[channel]=parseGuideResolve(resolve,channel);if(resolve.axis[channel]==="shared"){const headerChannel=channel==="x"?"column":"row";const layoutHeader=layoutHeaders[headerChannel];for(const axisComponent of child.component.axes[channel]){var _layoutHeader$headerT;const headerType=getHeaderType(axisComponent.get("orient"));layoutHeader[headerType]=(_layoutHeader$headerT=layoutHeader[headerType])!==null&&_layoutHeader$headerT!==void 0?_layoutHeader$headerT:[makeHeaderComponent(model,headerChannel,false)];const mainAxis=assembleAxis(axisComponent,"main",model.config,{header:true});if(mainAxis){layoutHeader[headerType][0].axes.push(mainAxis)}axisComponent.mainExtracted=true}}}}function parseLayerLayoutSize(model){parseChildrenLayoutSize(model);parseNonUnitLayoutSizeForChannel(model,"width");parseNonUnitLayoutSizeForChannel(model,"height")}function parseConcatLayoutSize(model){parseChildrenLayoutSize(model);const widthType=model.layout.columns===1?"width":"childWidth";const heightType=model.layout.columns===undefined?"height":"childHeight";parseNonUnitLayoutSizeForChannel(model,widthType);parseNonUnitLayoutSizeForChannel(model,heightType)}function parseChildrenLayoutSize(model){for(const child of model.children){child.parseLayoutSize()}}function parseNonUnitLayoutSizeForChannel(model,layoutSizeType){const sizeType=getSizeTypeFromLayoutSizeType(layoutSizeType);const channel=getPositionScaleChannel(sizeType);const resolve=model.component.resolve;const layoutSizeCmpt=model.component.layoutSize;let mergedSize;for(const child of model.children){const childSize=child.component.layoutSize.getWithExplicit(sizeType);const scaleResolve=resolve.scale[channel];if(scaleResolve==="independent"&&childSize.value==="step"){mergedSize=undefined;break}if(mergedSize){if(scaleResolve==="independent"&&mergedSize.value!==childSize.value){mergedSize=undefined;break}mergedSize=mergeValuesWithExplicit(mergedSize,childSize,sizeType,"")}else{mergedSize=childSize}}if(mergedSize){for(const child of model.children){model.renameSignal(child.getName(sizeType),model.getName(layoutSizeType));child.component.layoutSize.set(sizeType,"merged",false)}layoutSizeCmpt.setWithExplicit(layoutSizeType,mergedSize)}else{layoutSizeCmpt.setWithExplicit(layoutSizeType,{explicit:false,value:undefined})}}function parseUnitLayoutSize(model){const{size:size,component:component}=model;for(const channel of POSITION_SCALE_CHANNELS){const sizeType=getSizeChannel(channel);if(size[sizeType]){const specifiedSize=size[sizeType];component.layoutSize.set(sizeType,isStep(specifiedSize)?"step":specifiedSize,true)}else{const defaultSize=defaultUnitSize(model,sizeType);component.layoutSize.set(sizeType,defaultSize,false)}}}function defaultUnitSize(model,sizeType){const channel=sizeType==="width"?"x":"y";const config=model.config;const scaleComponent=model.getScaleComponent(channel);if(scaleComponent){const scaleType=scaleComponent.get("type");const range=scaleComponent.get("range");if(hasDiscreteDomain(scaleType)){const size=getViewConfigDiscreteSize(config.view,sizeType);if(isVgRangeStep(range)||isStep(size)){return"step"}else{return size}}else{return getViewConfigContinuousSize(config.view,sizeType)}}else if(model.hasProjection||model.mark==="arc"){return getViewConfigContinuousSize(config.view,sizeType)}else{const size=getViewConfigDiscreteSize(config.view,sizeType);return isStep(size)?size.step:size}}function facetSortFieldName(fieldDef,sort,opt){return vgField(sort,{suffix:"by_".concat(vgField(fieldDef)),...opt!==null&&opt!==void 0?opt:{}})}class FacetModel extends ModelWithField{constructor(spec,parent,parentGivenName,config){super(spec,"facet",parent,parentGivenName,config,spec.resolve);_defineProperty(this,"facet",void 0);_defineProperty(this,"child",void 0);_defineProperty(this,"children",void 0);this.child=buildModel(spec.spec,this,this.getName("child"),undefined,config);this.children=[this.child];this.facet=this.initFacet(spec.facet)}initFacet(facet){if(!isFacetMapping(facet)){return{facet:this.initFacetFieldDef(facet,"facet")}}const channels=keys(facet);const normalizedFacet={};for(const channel of channels){if(!contains([ROW,COLUMN],channel)){warn(incompatibleChannel(channel,"facet"));break}const fieldDef=facet[channel];if(fieldDef.field===undefined){warn(emptyFieldDef(fieldDef,channel));break}normalizedFacet[channel]=this.initFacetFieldDef(fieldDef,channel)}return normalizedFacet}initFacetFieldDef(fieldDef,channel){const{header:header,...rest}=fieldDef;const facetFieldDef=initFieldDef(rest,channel);if(header){facetFieldDef.header=replaceExprRefInIndex(header)}return facetFieldDef}channelHasField(channel){return!!this.facet[channel]}fieldDef(channel){return this.facet[channel]}parseData(){this.component.data=parseData(this);this.child.parseData()}parseLayoutSize(){parseChildrenLayoutSize(this)}parseSelections(){this.child.parseSelections();this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders();parseFacetHeaders(this)}assembleSelectionTopLevelSignals(signals){return this.child.assembleSelectionTopLevelSignals(signals)}assembleSignals(){this.child.assembleSignals();return[]}assembleSelectionData(data){return this.child.assembleSelectionData(data)}getHeaderLayoutMixins(){const layoutMixins={};for(const channel of FACET_CHANNELS){for(const headerType of HEADER_TYPES){const layoutHeaderComponent=this.component.layoutHeaders[channel];const headerComponent=layoutHeaderComponent[headerType];const{facetFieldDef:facetFieldDef}=layoutHeaderComponent;if(facetFieldDef){const titleOrient=getHeaderProperty("titleOrient",facetFieldDef.header,this.config,channel);if(contains(["right","bottom"],titleOrient)){var _layoutMixins$titleAn;const headerChannel=getHeaderChannel(channel,titleOrient);layoutMixins.titleAnchor=(_layoutMixins$titleAn=layoutMixins.titleAnchor)!==null&&_layoutMixins$titleAn!==void 0?_layoutMixins$titleAn:{};layoutMixins.titleAnchor[headerChannel]="end"}}if(headerComponent===null||headerComponent===void 0?void 0:headerComponent[0]){const sizeType=channel==="row"?"height":"width";const bandType=headerType==="header"?"headerBand":"footerBand";if(channel!=="facet"&&!this.child.component.layoutSize.get(sizeType)){var _layoutMixins$bandTyp;layoutMixins[bandType]=(_layoutMixins$bandTyp=layoutMixins[bandType])!==null&&_layoutMixins$bandTyp!==void 0?_layoutMixins$bandTyp:{};layoutMixins[bandType][channel]=.5}if(layoutHeaderComponent.title){var _layoutMixins$offset;layoutMixins.offset=(_layoutMixins$offset=layoutMixins.offset)!==null&&_layoutMixins$offset!==void 0?_layoutMixins$offset:{};layoutMixins.offset[channel==="row"?"rowTitle":"columnTitle"]=10}}}}return layoutMixins}assembleDefaultLayout(){const{column:column,row:row}=this.facet;const columns=column?this.columnDistinctSignal():row?1:undefined;let align="all";if(!row&&this.component.resolve.scale.x==="independent"){align="none"}else if(!column&&this.component.resolve.scale.y==="independent"){align="none"}return{...this.getHeaderLayoutMixins(),...columns?{columns:columns}:{},bounds:"full",align:align}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(this.parent&&this.parent instanceof FacetModel){return undefined}else{const facetLayoutDataName=this.getName("column_domain");return{signal:"length(data('".concat(facetLayoutDataName,"'))")}}}assembleGroup(signals){if(this.parent&&this.parent instanceof FacetModel){return{...this.channelHasField("column")?{encode:{update:{columns:{field:vgField(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(signals)}}return super.assembleGroup(signals)}getCardinalityAggregateForChild(){const fields=[];const ops=[];const as=[];if(this.child instanceof FacetModel){if(this.child.channelHasField("column")){const field=vgField(this.child.facet.column);fields.push(field);ops.push("distinct");as.push("distinct_".concat(field))}}else{for(const channel of POSITION_SCALE_CHANNELS){const childScaleComponent=this.child.component.scales[channel];if(childScaleComponent&&!childScaleComponent.merged){const type=childScaleComponent.get("type");const range=childScaleComponent.get("range");if(hasDiscreteDomain(type)&&isVgRangeStep(range)){const domain=assembleDomain(this.child,channel);const field=getFieldFromDomain(domain);if(field){fields.push(field);ops.push("distinct");as.push("distinct_".concat(field))}else{warn(unknownField(channel))}}}}}return{fields:fields,ops:ops,as:as}}assembleFacet(){const{name:name,data:data}=this.component.data.facetRoot;const{row:row,column:column}=this.facet;const{fields:fields,ops:ops,as:as}=this.getCardinalityAggregateForChild();const groupby=[];for(const channel of FACET_CHANNELS){const fieldDef=this.facet[channel];if(fieldDef){groupby.push(vgField(fieldDef));const{bin:bin,sort:sort}=fieldDef;if(isBinning(bin)){groupby.push(vgField(fieldDef,{binSuffix:"end"}))}if(isSortField(sort)){const{field:field,op:op=DEFAULT_SORT_OP}=sort;const outputName=facetSortFieldName(fieldDef,sort);if(row&&column){fields.push(outputName);ops.push("max");as.push(outputName)}else{fields.push(field);ops.push(op);as.push(outputName)}}else if(isArray(sort)){const outputName=sortArrayIndexField(fieldDef,channel);fields.push(outputName);ops.push("max");as.push(outputName)}}}const cross=!!row&&!!column;return{name:name,data:data,groupby:groupby,...cross||fields.length>0?{aggregate:{...cross?{cross:cross}:{},...fields.length?{fields:fields,ops:ops,as:as}:{}}}:{}}}facetSortFields(channel){const{facet:facet}=this;const fieldDef=facet[channel];if(fieldDef){if(isSortField(fieldDef.sort)){return[facetSortFieldName(fieldDef,fieldDef.sort,{expr:"datum"})]}else if(isArray(fieldDef.sort)){return[sortArrayIndexField(fieldDef,channel,{expr:"datum"})]}return[vgField(fieldDef,{expr:"datum"})]}return[]}facetSortOrder(channel){const{facet:facet}=this;const fieldDef=facet[channel];if(fieldDef){const{sort:sort}=fieldDef;const order=(isSortField(sort)?sort.order:!isArray(sort)&&sort)||"ascending";return[order]}return[]}assembleLabelTitle(){const{facet:facet,config:config}=this;if(facet.facet){return assembleLabelTitle(facet.facet,"facet",config)}const ORTHOGONAL_ORIENT={row:["top","bottom"],column:["left","right"]};for(const channel of HEADER_CHANNELS){if(facet[channel]){var _facet$channel;const labelOrient=getHeaderProperty("labelOrient",(_facet$channel=facet[channel])===null||_facet$channel===void 0?void 0:_facet$channel.header,config,channel);if(contains(ORTHOGONAL_ORIENT[channel],labelOrient)){return assembleLabelTitle(facet[channel],channel,config)}}}return undefined}assembleMarks(){const{child:child}=this;const facetRoot=this.component.data.facetRoot;const data=assembleFacetData(facetRoot);const encodeEntry=child.assembleGroupEncodeEntry(false);const title=this.assembleLabelTitle()||child.assembleTitle();const style=child.assembleGroupStyle();const markGroup={name:this.getName("cell"),type:"group",...title?{title:title}:{},...style?{style:style}:{},from:{facet:this.assembleFacet()},sort:{field:FACET_CHANNELS.map(c=>this.facetSortFields(c)).flat(),order:FACET_CHANNELS.map(c=>this.facetSortOrder(c)).flat()},...data.length>0?{data:data}:{},...encodeEntry?{encode:{update:encodeEntry}}:{},...child.assembleGroup(assembleFacetSignals(this,[]))};return[markGroup]}getMapping(){return this.facet}}function makeJoinAggregateFromFacet(parent,facet){const{row:row,column:column}=facet;if(row&&column){let newParent=null;for(const fieldDef of[row,column]){if(isSortField(fieldDef.sort)){const{field:field,op:op=DEFAULT_SORT_OP}=fieldDef.sort;parent=newParent=new JoinAggregateTransformNode(parent,{joinaggregate:[{op:op,field:field,as:facetSortFieldName(fieldDef,fieldDef.sort,{forAs:true})}],groupby:[vgField(fieldDef)]})}}return newParent}return null}function findSource(data,sources){for(const other of sources){var _data$format,_otherData$format,_data$format2,_otherData$format2;const otherData=other.data;if(data.name&&other.hasName()&&data.name!==other.dataName){continue}const formatMesh=(_data$format=data["format"])===null||_data$format===void 0?void 0:_data$format.mesh;const otherFeature=(_otherData$format=otherData.format)===null||_otherData$format===void 0?void 0:_otherData$format.feature;if(formatMesh&&otherFeature){continue}const formatFeature=(_data$format2=data["format"])===null||_data$format2===void 0?void 0:_data$format2.feature;if((formatFeature||otherFeature)&&formatFeature!==otherFeature){continue}const otherMesh=(_otherData$format2=otherData.format)===null||_otherData$format2===void 0?void 0:_otherData$format2.mesh;if((formatMesh||otherMesh)&&formatMesh!==otherMesh){continue}if(isInlineData(data)&&isInlineData(otherData)){if(deepEqual(data.values,otherData.values)){return other}}else if(isUrlData(data)&&isUrlData(otherData)){if(data.url===otherData.url){return other}}else if(isNamedData(data)){if(data.name===other.dataName){return other}}}return null}function parseRoot(model,sources){if(model.data||!model.parent){if(model.data===null){const source=new SourceNode({values:[]});sources.push(source);return source}const existingSource=findSource(model.data,sources);if(existingSource){if(!isGenerator(model.data)){existingSource.data.format=mergeDeep({},model.data.format,existingSource.data.format)}if(!existingSource.hasName()&&model.data.name){existingSource.dataName=model.data.name}return existingSource}else{const source=new SourceNode(model.data);sources.push(source);return source}}else{return model.parent.component.data.facetRoot?model.parent.component.data.facetRoot:model.parent.component.data.main}}function parseTransformArray(head,model,ancestorParse){let lookupCounter=0;for(const t of model.transforms){let derivedType=undefined;let transformNode;if(isCalculate(t)){transformNode=head=new CalculateNode(head,t);derivedType="derived"}else if(isFilter(t)){var _ParseNode$makeWithAn;const implicit=getImplicitFromFilterTransform(t);transformNode=head=(_ParseNode$makeWithAn=ParseNode.makeWithAncestors(head,{},implicit,ancestorParse))!==null&&_ParseNode$makeWithAn!==void 0?_ParseNode$makeWithAn:head;head=new FilterNode(head,model,t.filter)}else if(isBin(t)){transformNode=head=BinNode.makeFromTransform(head,t,model);derivedType="number"}else if(isTimeUnit(t)){derivedType="date";const parsedAs=ancestorParse.getWithExplicit(t.field);if(parsedAs.value===undefined){head=new ParseNode(head,{[t.field]:derivedType});ancestorParse.set(t.field,derivedType,false)}transformNode=head=TimeUnitNode.makeFromTransform(head,t)}else if(isAggregate$1(t)){transformNode=head=AggregateNode.makeFromTransform(head,t);derivedType="number";if(requiresSelectionId(model)){head=new IdentifierNode(head)}}else if(isLookup(t)){transformNode=head=LookupNode.make(head,model,t,lookupCounter++);derivedType="derived"}else if(isWindow(t)){transformNode=head=new WindowTransformNode(head,t);derivedType="number"}else if(isJoinAggregate(t)){transformNode=head=new JoinAggregateTransformNode(head,t);derivedType="number"}else if(isStack(t)){transformNode=head=StackNode.makeFromTransform(head,t);derivedType="derived"}else if(isFold(t)){transformNode=head=new FoldTransformNode(head,t);derivedType="derived"}else if(isFlatten(t)){transformNode=head=new FlattenTransformNode(head,t);derivedType="derived"}else if(isPivot(t)){transformNode=head=new PivotTransformNode(head,t);derivedType="derived"}else if(isSample(t)){head=new SampleTransformNode(head,t)}else if(isImpute(t)){transformNode=head=ImputeNode.makeFromTransform(head,t);derivedType="derived"}else if(isDensity(t)){transformNode=head=new DensityTransformNode(head,t);derivedType="derived"}else if(isQuantile(t)){transformNode=head=new QuantileTransformNode(head,t);derivedType="derived"}else if(isRegression(t)){transformNode=head=new RegressionTransformNode(head,t);derivedType="derived"}else if(isLoess(t)){transformNode=head=new LoessTransformNode(head,t);derivedType="derived"}else{warn(invalidTransformIgnored(t));continue}if(transformNode&&derivedType!==undefined){for(const field of(_transformNode$produc=transformNode.producedFields())!==null&&_transformNode$produc!==void 0?_transformNode$produc:[]){var _transformNode$produc;ancestorParse.set(field,derivedType,false)}}}return head}function parseData(model){var _data$format3,_ParseNode$makeExplic,_ParseNode$makeWithAn2;let head=parseRoot(model,model.component.data.sources);const{outputNodes:outputNodes,outputNodeRefCounts:outputNodeRefCounts}=model.component.data;const ancestorParse=model.parent?model.parent.component.data.ancestorParse.clone():new AncestorParse;const data=model.data;if(isGenerator(data)){if(isSequenceGenerator(data)){head=new SequenceNode(head,data.sequence)}else if(isGraticuleGenerator(data)){head=new GraticuleNode(head,data.graticule)}ancestorParse.parseNothing=true}else if((data===null||data===void 0?void 0:(_data$format3=data.format)===null||_data$format3===void 0?void 0:_data$format3.parse)===null){ancestorParse.parseNothing=true}head=(_ParseNode$makeExplic=ParseNode.makeExplicit(head,model,ancestorParse))!==null&&_ParseNode$makeExplic!==void 0?_ParseNode$makeExplic:head;head=new IdentifierNode(head);const parentIsLayer=model.parent&&isLayerModel(model.parent);if(isUnitModel(model)||isFacetModel(model)){if(parentIsLayer){var _BinNode$makeFromEnco;head=(_BinNode$makeFromEnco=BinNode.makeFromEncoding(head,model))!==null&&_BinNode$makeFromEnco!==void 0?_BinNode$makeFromEnco:head}}if(model.transforms.length>0){head=parseTransformArray(head,model,ancestorParse)}const implicitSelection=getImplicitFromSelection(model);const implicitEncoding=getImplicitFromEncoding(model);head=(_ParseNode$makeWithAn2=ParseNode.makeWithAncestors(head,{},{...implicitSelection,...implicitEncoding},ancestorParse))!==null&&_ParseNode$makeWithAn2!==void 0?_ParseNode$makeWithAn2:head;if(isUnitModel(model)){head=GeoJSONNode.parseAll(head,model);head=GeoPointNode.parseAll(head,model)}if(isUnitModel(model)||isFacetModel(model)){var _TimeUnitNode$makeFro;if(!parentIsLayer){var _BinNode$makeFromEnco2;head=(_BinNode$makeFromEnco2=BinNode.makeFromEncoding(head,model))!==null&&_BinNode$makeFromEnco2!==void 0?_BinNode$makeFromEnco2:head}head=(_TimeUnitNode$makeFro=TimeUnitNode.makeFromEncoding(head,model))!==null&&_TimeUnitNode$makeFro!==void 0?_TimeUnitNode$makeFro:head;head=CalculateNode.parseAllForSortIndex(head,model)}const rawName=model.getDataName(DataSourceType.Raw);const raw=new OutputNode(head,rawName,DataSourceType.Raw,outputNodeRefCounts);outputNodes[rawName]=raw;head=raw;if(isUnitModel(model)){var _ImputeNode$makeFromE,_StackNode$makeFromEn;const agg=AggregateNode.makeFromEncoding(head,model);if(agg){head=agg;if(requiresSelectionId(model)){head=new IdentifierNode(head)}}head=(_ImputeNode$makeFromE=ImputeNode.makeFromEncoding(head,model))!==null&&_ImputeNode$makeFromE!==void 0?_ImputeNode$makeFromE:head;head=(_StackNode$makeFromEn=StackNode.makeFromEncoding(head,model))!==null&&_StackNode$makeFromEn!==void 0?_StackNode$makeFromEn:head}if(isUnitModel(model)){var _FilterInvalidNode$ma;head=(_FilterInvalidNode$ma=FilterInvalidNode.make(head,model))!==null&&_FilterInvalidNode$ma!==void 0?_FilterInvalidNode$ma:head}const mainName=model.getDataName(DataSourceType.Main);const main=new OutputNode(head,mainName,DataSourceType.Main,outputNodeRefCounts);outputNodes[mainName]=main;head=main;if(isUnitModel(model)){materializeSelections(model,main)}let facetRoot=null;if(isFacetModel(model)){var _makeJoinAggregateFro;const facetName=model.getName("facet");head=(_makeJoinAggregateFro=makeJoinAggregateFromFacet(head,model.facet))!==null&&_makeJoinAggregateFro!==void 0?_makeJoinAggregateFro:head;facetRoot=new FacetNode(head,model,facetName,main.getSource());outputNodes[facetName]=facetRoot}return{...model.component.data,outputNodes:outputNodes,outputNodeRefCounts:outputNodeRefCounts,raw:raw,main:main,facetRoot:facetRoot,ancestorParse:ancestorParse}}class ConcatModel extends Model{constructor(spec,parent,parentGivenName,config){var _spec$resolve,_spec$resolve$axis,_spec$resolve2,_spec$resolve2$axis;super(spec,"concat",parent,parentGivenName,config,spec.resolve);_defineProperty(this,"children",void 0);if(((_spec$resolve=spec.resolve)===null||_spec$resolve===void 0?void 0:(_spec$resolve$axis=_spec$resolve.axis)===null||_spec$resolve$axis===void 0?void 0:_spec$resolve$axis.x)==="shared"||((_spec$resolve2=spec.resolve)===null||_spec$resolve2===void 0?void 0:(_spec$resolve2$axis=_spec$resolve2.axis)===null||_spec$resolve2$axis===void 0?void 0:_spec$resolve2$axis.y)==="shared"){warn(CONCAT_CANNOT_SHARE_AXIS)}this.children=this.getChildren(spec).map((child,i)=>buildModel(child,this,this.getName("concat_"+i),undefined,config))}parseData(){this.component.data=parseData(this);for(const child of this.children){child.parseData()}}parseSelections(){this.component.selection={};for(const child of this.children){child.parseSelections();for(const key of keys(child.component.selection)){this.component.selection[key]=child.component.selection[key]}}}parseMarkGroup(){for(const child of this.children){child.parseMarkGroup()}}parseAxesAndHeaders(){for(const child of this.children){child.parseAxesAndHeaders()}}getChildren(spec){if(isVConcatSpec(spec)){return spec.vconcat}else if(isHConcatSpec(spec)){return spec.hconcat}return spec.concat}parseLayoutSize(){parseConcatLayoutSize(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(signals){return this.children.reduce((sg,child)=>child.assembleSelectionTopLevelSignals(sg),signals)}assembleSignals(){this.children.forEach(child=>child.assembleSignals());return[]}assembleLayoutSignals(){const layoutSignals=assembleLayoutSignals(this);for(const child of this.children){layoutSignals.push(...child.assembleLayoutSignals())}return layoutSignals}assembleSelectionData(data){return this.children.reduce((db,child)=>child.assembleSelectionData(db),data)}assembleMarks(){return this.children.map(child=>{const title=child.assembleTitle();const style=child.assembleGroupStyle();const encodeEntry=child.assembleGroupEncodeEntry(false);return{type:"group",name:child.getName("group"),...title?{title:title}:{},...style?{style:style}:{},...encodeEntry?{encode:{update:encodeEntry}}:{},...child.assembleGroup()}})}assembleDefaultLayout(){const columns=this.layout.columns;return{...columns!=null?{columns:columns}:{},bounds:"full",align:"each"}}}function isFalseOrNull(v){return v===false||v===null}const AXIS_COMPONENT_PROPERTIES_INDEX={disable:1,gridScale:1,scale:1,...COMMON_AXIS_PROPERTIES_INDEX,labelExpr:1,encode:1};const AXIS_COMPONENT_PROPERTIES=keys(AXIS_COMPONENT_PROPERTIES_INDEX);class AxisComponent extends Split{constructor(explicit={},implicit={},mainExtracted=false){super();this.explicit=explicit;this.implicit=implicit;this.mainExtracted=mainExtracted}clone(){return new AxisComponent(duplicate(this.explicit),duplicate(this.implicit),this.mainExtracted)}hasAxisPart(part){if(part==="axis"){return true}if(part==="grid"||part==="title"){return!!this.get(part)}return!isFalseOrNull(this.get(part))}hasOrientSignalRef(){return isSignalRef(this.explicit.orient)}}function labels$1(model,channel,specifiedLabelsSpec){var _getFieldOrDatumDef;const{encoding:encoding,config:config}=model;const fieldOrDatumDef=(_getFieldOrDatumDef=getFieldOrDatumDef(encoding[channel]))!==null&&_getFieldOrDatumDef!==void 0?_getFieldOrDatumDef:getFieldOrDatumDef(encoding[getSecondaryRangeChannel(channel)]);const axis=model.axis(channel)||{};const{format:format,formatType:formatType}=axis;if(isCustomFormatType(formatType)){return{text:formatCustomType({fieldOrDatumDef:fieldOrDatumDef,field:"datum.value",format:format,formatType:formatType,config:config}),...specifiedLabelsSpec}}return specifiedLabelsSpec}function parseUnitAxes(model){return POSITION_SCALE_CHANNELS.reduce((axis,channel)=>{if(model.component.scales[channel]){axis[channel]=[parseAxis(channel,model)]}return axis},{})}const OPPOSITE_ORIENT={bottom:"top",top:"bottom",left:"right",right:"left"};function parseLayerAxes(model){const{axes:axes,resolve:resolve}=model.component;const axisCount={top:0,bottom:0,right:0,left:0};for(const child of model.children){child.parseAxesAndHeaders();for(const channel of keys(child.component.axes)){resolve.axis[channel]=parseGuideResolve(model.component.resolve,channel);if(resolve.axis[channel]==="shared"){axes[channel]=mergeAxisComponents(axes[channel],child.component.axes[channel]);if(!axes[channel]){resolve.axis[channel]="independent";delete axes[channel]}}}}for(const channel of POSITION_SCALE_CHANNELS){for(const child of model.children){if(!child.component.axes[channel]){continue}if(resolve.axis[channel]==="independent"){var _axes$channel;axes[channel]=((_axes$channel=axes[channel])!==null&&_axes$channel!==void 0?_axes$channel:[]).concat(child.component.axes[channel]);for(const axisComponent of child.component.axes[channel]){const{value:orient,explicit:explicit}=axisComponent.getWithExplicit("orient");if(isSignalRef(orient)){continue}if(axisCount[orient]>0&&!explicit){const oppositeOrient=OPPOSITE_ORIENT[orient];if(axisCount[orient]>axisCount[oppositeOrient]){axisComponent.set("orient",oppositeOrient,false)}}axisCount[orient]++}}delete child.component.axes[channel]}if(resolve.axis[channel]==="independent"&&axes[channel]&&axes[channel].length>1){for(const axisCmpt of axes[channel]){if(!!axisCmpt.get("grid")&&!axisCmpt.explicit.grid){axisCmpt.implicit.grid=false}}}}}function mergeAxisComponents(mergedAxisCmpts,childAxisCmpts){if(mergedAxisCmpts){if(mergedAxisCmpts.length!==childAxisCmpts.length){return undefined}const length=mergedAxisCmpts.length;for(let i=0;i<length;i++){const merged=mergedAxisCmpts[i];const child=childAxisCmpts[i];if(!!merged!==!!child){return undefined}else if(merged&&child){const mergedOrient=merged.getWithExplicit("orient");const childOrient=child.getWithExplicit("orient");if(mergedOrient.explicit&&childOrient.explicit&&mergedOrient.value!==childOrient.value){return undefined}else{mergedAxisCmpts[i]=mergeAxisComponent(merged,child)}}}}else{return childAxisCmpts.map(axisComponent=>axisComponent.clone())}return mergedAxisCmpts}function mergeAxisComponent(merged,child){for(const prop of AXIS_COMPONENT_PROPERTIES){const mergedValueWithExplicit=mergeValuesWithExplicit(merged.getWithExplicit(prop),child.getWithExplicit(prop),prop,"axis",(v1,v2)=>{switch(prop){case"title":return mergeTitleComponent(v1,v2);case"gridScale":return{explicit:v1.explicit,value:getFirstDefined(v1.value,v2.value)}}return defaultTieBreaker(v1,v2,prop,"axis")});merged.setWithExplicit(prop,mergedValueWithExplicit)}return merged}function isExplicit$1(value,property,axis,model,channel){if(property==="disable"){return axis!==undefined}axis=axis||{};switch(property){case"titleAngle":case"labelAngle":return value===(isSignalRef(axis.labelAngle)?axis.labelAngle:normalizeAngle(axis.labelAngle));case"values":return!!axis.values;case"encode":return!!axis.encoding||!!axis.labelAngle;case"title":if(value===getFieldDefTitle(model,channel)){return true}}return value===axis[property]}const propsToAlwaysIncludeConfig=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function parseAxis(channel,model){var _axis,_config,_config$axis,_axis2,_axis$encoding;let axis=model.axis(channel);const axisComponent=new AxisComponent;const fieldOrDatumDef=getFieldOrDatumDef(model.encoding[channel]);const{mark:mark,config:config}=model;const orient=((_axis=axis)===null||_axis===void 0?void 0:_axis.orient)||((_config=config[channel==="x"?"axisX":"axisY"])===null||_config===void 0?void 0:_config.orient)||((_config$axis=config.axis)===null||_config$axis===void 0?void 0:_config$axis.orient)||defaultOrient(channel);const scaleType=model.getScaleComponent(channel).get("type");const axisConfigs=getAxisConfigs(channel,scaleType,orient,model.config);const disable=axis!==undefined?!axis:getAxisConfig("disable",config.style,(_axis2=axis)===null||_axis2===void 0?void 0:_axis2.style,axisConfigs).configValue;axisComponent.set("disable",disable,axis!==undefined);if(disable){return axisComponent}axis=axis||{};const labelAngle=getLabelAngle(fieldOrDatumDef,axis,channel,config.style,axisConfigs);const ruleParams={fieldOrDatumDef:fieldOrDatumDef,axis:axis,channel:channel,model:model,scaleType:scaleType,orient:orient,labelAngle:labelAngle,mark:mark,config:config};for(const property of AXIS_COMPONENT_PROPERTIES){const value=property in axisRules?axisRules[property](ruleParams):isAxisProperty(property)?axis[property]:undefined;const hasValue=value!==undefined;const explicit=isExplicit$1(value,property,axis,model,channel);if(hasValue&&explicit){axisComponent.set(property,value,explicit)}else{const{configValue:configValue=undefined,configFrom:configFrom=undefined}=isAxisProperty(property)&&property!=="values"?getAxisConfig(property,config.style,axis.style,axisConfigs):{};const hasConfigValue=configValue!==undefined;if(hasValue&&!hasConfigValue){axisComponent.set(property,value,explicit)}else if(!(configFrom==="vgAxisConfig")||propsToAlwaysIncludeConfig.has(property)&&hasConfigValue||isConditionalAxisValue(configValue)||isSignalRef(configValue)){axisComponent.set(property,configValue,false)}}}const axisEncoding=(_axis$encoding=axis.encoding)!==null&&_axis$encoding!==void 0?_axis$encoding:{};const axisEncode=AXIS_PARTS.reduce((e,part)=>{var _axisEncoding$part;if(!axisComponent.hasAxisPart(part)){return e}const axisEncodingPart=guideEncodeEntry((_axisEncoding$part=axisEncoding[part])!==null&&_axisEncoding$part!==void 0?_axisEncoding$part:{},model);const value=part==="labels"?labels$1(model,channel,axisEncodingPart):axisEncodingPart;if(value!==undefined&&!isEmpty(value)){e[part]={update:value}}return e},{});if(!isEmpty(axisEncode)){axisComponent.set("encode",axisEncode,!!axis.encoding||axis.labelAngle!==undefined)}return axisComponent}function initLayoutSize({encoding:encoding,size:size}){for(const channel of POSITION_SCALE_CHANNELS){const sizeType=getSizeChannel(channel);if(isStep(size[sizeType])){if(isContinuousFieldOrDatumDef(encoding[channel])){delete size[sizeType];warn(stepDropped(sizeType))}}}return size}function initMarkdef(originalMarkDef,encoding,config){const markDef=replaceExprRefInIndex(originalMarkDef);const specifiedOrient=getMarkPropOrConfig("orient",markDef,config);markDef.orient=orient(markDef.type,encoding,specifiedOrient);if(specifiedOrient!==undefined&&specifiedOrient!==markDef.orient){warn(orientOverridden(markDef.orient,specifiedOrient))}if(markDef.type==="bar"&&markDef.orient){const cornerRadiusEnd=getMarkPropOrConfig("cornerRadiusEnd",markDef,config);if(cornerRadiusEnd!==undefined){const newProps=markDef.orient==="horizontal"&&encoding.x2||markDef.orient==="vertical"&&encoding.y2?["cornerRadius"]:BAR_CORNER_RADIUS_INDEX[markDef.orient];for(const newProp of newProps){markDef[newProp]=cornerRadiusEnd}if(markDef.cornerRadiusEnd!==undefined){delete markDef.cornerRadiusEnd}}}const specifiedOpacity=getMarkPropOrConfig("opacity",markDef,config);if(specifiedOpacity===undefined){markDef.opacity=opacity(markDef.type,encoding)}const specifiedCursor=getMarkPropOrConfig("cursor",markDef,config);if(specifiedCursor===undefined){markDef.cursor=cursor(markDef,encoding,config)}return markDef}function cursor(markDef,encoding,config){if(encoding.href||markDef.href||getMarkPropOrConfig("href",markDef,config)){return"pointer"}return markDef.cursor}function opacity(mark,encoding){if(contains([POINT,TICK,CIRCLE,SQUARE],mark)){if(!isAggregate(encoding)){return.7}}return undefined}function defaultFilled(markDef,config,{graticule:graticule}){if(graticule){return false}const filledConfig=getMarkConfig("filled",markDef,config);const mark=markDef.type;return getFirstDefined(filledConfig,mark!==POINT&&mark!==LINE&&mark!==RULE)}function orient(mark,encoding,specifiedOrient){switch(mark){case POINT:case CIRCLE:case SQUARE:case TEXT$1:case RECT:case IMAGE:return undefined}const{x:x,y:y,x2:x2,y2:y2}=encoding;switch(mark){case BAR:if(isFieldDef(x)&&(isBinned(x.bin)||isFieldDef(y)&&y.aggregate&&!x.aggregate)){return"vertical"}if(isFieldDef(y)&&(isBinned(y.bin)||isFieldDef(x)&&x.aggregate&&!y.aggregate)){return"horizontal"}if(y2||x2){if(specifiedOrient){return specifiedOrient}if(!x2){if(isFieldDef(x)&&x.type===QUANTITATIVE&&!isBinning(x.bin)||isNumericDataDef(x)){return"horizontal"}}if(!y2){if(isFieldDef(y)&&y.type===QUANTITATIVE&&!isBinning(y.bin)||isNumericDataDef(y)){return"vertical"}}}case RULE:if(x2&&!(isFieldDef(x)&&isBinned(x.bin))&&y2&&!(isFieldDef(y)&&isBinned(y.bin))){return undefined}case AREA:if(y2){if(isFieldDef(y)&&isBinned(y.bin)){return"horizontal"}else{return"vertical"}}else if(x2){if(isFieldDef(x)&&isBinned(x.bin)){return"vertical"}else{return"horizontal"}}else if(mark===RULE){if(x&&!y){return"vertical"}else if(y&&!x){return"horizontal"}}case LINE:case TICK:{const xIsContinuous=isContinuousFieldOrDatumDef(x);const yIsContinuous=isContinuousFieldOrDatumDef(y);if(xIsContinuous&&!yIsContinuous){return mark!=="tick"?"horizontal":"vertical"}else if(!xIsContinuous&&yIsContinuous){return mark!=="tick"?"vertical":"horizontal"}else if(xIsContinuous&&yIsContinuous){const xDef=x;const yDef=y;const xIsTemporal=xDef.type===TEMPORAL;const yIsTemporal=yDef.type===TEMPORAL;if(xIsTemporal&&!yIsTemporal){return mark!=="tick"?"vertical":"horizontal"}else if(!xIsTemporal&&yIsTemporal){return mark!=="tick"?"horizontal":"vertical"}if(!xDef.aggregate&&yDef.aggregate){return mark!=="tick"?"vertical":"horizontal"}else if(xDef.aggregate&&!yDef.aggregate){return mark!=="tick"?"horizontal":"vertical"}if(specifiedOrient){return specifiedOrient}return"vertical"}else{if(specifiedOrient){return specifiedOrient}return undefined}}}return"vertical"}const arc={vgMark:"arc",encodeEntry:model=>({...baseEncodeEntry(model,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...pointPosition("x",model,{defaultPos:"mid"}),...pointPosition("y",model,{defaultPos:"mid"}),...rectPosition(model,"radius","arc"),...rectPosition(model,"theta","arc")})};const area={vgMark:"area",encodeEntry:model=>({...baseEncodeEntry(model,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...pointOrRangePosition("x",model,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:model.markDef.orient==="horizontal"}),...pointOrRangePosition("y",model,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:model.markDef.orient==="vertical"}),...defined(model)})};const bar={vgMark:"rect",encodeEntry:model=>({...baseEncodeEntry(model,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...rectPosition(model,"x","bar"),...rectPosition(model,"y","bar")})};const geoshape={vgMark:"shape",encodeEntry:model=>({...baseEncodeEntry(model,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:model=>{const{encoding:encoding}=model;const shapeDef=encoding.shape;const transform={type:"geoshape",projection:model.projectionName(),...shapeDef&&isFieldDef(shapeDef)&&shapeDef.type===GEOJSON?{field:vgField(shapeDef,{expr:"datum"})}:{}};return[transform]}};const image={vgMark:"image",encodeEntry:model=>({...baseEncodeEntry(model,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...rectPosition(model,"x","image"),...rectPosition(model,"y","image"),...text(model,"url")})};const line={vgMark:"line",encodeEntry:model=>({...baseEncodeEntry(model,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...pointPosition("x",model,{defaultPos:"mid"}),...pointPosition("y",model,{defaultPos:"mid"}),...nonPosition("size",model,{vgChannel:"strokeWidth"}),...defined(model)})};const trail={vgMark:"trail",encodeEntry:model=>({...baseEncodeEntry(model,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...pointPosition("x",model,{defaultPos:"mid"}),...pointPosition("y",model,{defaultPos:"mid"}),...nonPosition("size",model),...defined(model)})};function encodeEntry(model,fixedShape){const{config:config}=model;return{...baseEncodeEntry(model,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...pointPosition("x",model,{defaultPos:"mid"}),...pointPosition("y",model,{defaultPos:"mid"}),...nonPosition("size",model),...nonPosition("angle",model),...shapeMixins(model,config,fixedShape)}}function shapeMixins(model,config,fixedShape){if(fixedShape){return{shape:{value:fixedShape}}}return nonPosition("shape",model)}const point={vgMark:"symbol",encodeEntry:model=>encodeEntry(model)};const circle={vgMark:"symbol",encodeEntry:model=>encodeEntry(model,"circle")};const square={vgMark:"symbol",encodeEntry:model=>encodeEntry(model,"square")};const rect={vgMark:"rect",encodeEntry:model=>({...baseEncodeEntry(model,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...rectPosition(model,"x","rect"),...rectPosition(model,"y","rect")})};const rule={vgMark:"rule",encodeEntry:model=>{const{markDef:markDef}=model;const orient=markDef.orient;if(!model.encoding.x&&!model.encoding.y&&!model.encoding.latitude&&!model.encoding.longitude){return{}}return{...baseEncodeEntry(model,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...pointOrRangePosition("x",model,{defaultPos:orient==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:orient!=="vertical"}),...pointOrRangePosition("y",model,{defaultPos:orient==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:orient!=="horizontal"}),...nonPosition("size",model,{vgChannel:"strokeWidth"})}}};const text$1={vgMark:"text",encodeEntry:model=>{const{config:config,encoding:encoding}=model;return{...baseEncodeEntry(model,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...pointPosition("x",model,{defaultPos:"mid"}),...pointPosition("y",model,{defaultPos:"mid"}),...text(model),...nonPosition("size",model,{vgChannel:"fontSize"}),...nonPosition("angle",model),...valueIfDefined("align",align(model.markDef,encoding,config)),...valueIfDefined("baseline",baseline(model.markDef,encoding,config)),...pointPosition("radius",model,{defaultPos:null,isMidPoint:true}),...pointPosition("theta",model,{defaultPos:null,isMidPoint:true})}}};function align(markDef,encoding,config){const a=getMarkPropOrConfig("align",markDef,config);if(a===undefined){return"center"}return undefined}function baseline(markDef,encoding,config){const b=getMarkPropOrConfig("baseline",markDef,config);if(b===undefined){return"middle"}return undefined}const tick={vgMark:"rect",encodeEntry:model=>{const{config:config,markDef:markDef}=model;const orient=markDef.orient;const vgSizeChannel=orient==="horizontal"?"width":"height";const vgThicknessChannel=orient==="horizontal"?"height":"width";return{...baseEncodeEntry(model,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...pointPosition("x",model,{defaultPos:"mid",vgChannel:"xc"}),...pointPosition("y",model,{defaultPos:"mid",vgChannel:"yc"}),...nonPosition("size",model,{defaultValue:defaultSize(model),vgChannel:vgSizeChannel}),[vgThicknessChannel]:signalOrValueRef(getMarkPropOrConfig("thickness",markDef,config))}}};function defaultSize(model){var _getMarkPropOrConfig;const{config:config,markDef:markDef}=model;const{orient:orient}=markDef;const vgSizeChannel=orient==="horizontal"?"width":"height";const scale=model.getScaleComponent(orient==="horizontal"?"x":"y");const markPropOrConfig=(_getMarkPropOrConfig=getMarkPropOrConfig("size",markDef,config,{vgChannel:vgSizeChannel}))!==null&&_getMarkPropOrConfig!==void 0?_getMarkPropOrConfig:config.tick.bandSize;if(markPropOrConfig!==undefined){return markPropOrConfig}else{const scaleRange=scale?scale.get("range"):undefined;if(scaleRange&&isVgRangeStep(scaleRange)&&isNumber(scaleRange.step)){return scaleRange.step*3/4}const defaultViewStep=getViewConfigDiscreteStep(config.view,vgSizeChannel);return defaultViewStep*3/4}}const markCompiler={arc:arc,area:area,bar:bar,circle:circle,geoshape:geoshape,image:image,line:line,point:point,rect:rect,rule:rule,square:square,text:text$1,tick:tick,trail:trail};function parseMarkGroups(model){if(contains([LINE,AREA,TRAIL],model.mark)){const details=pathGroupingFields(model.mark,model.encoding);if(details.length>0){return getPathGroups(model,details)}}else if(contains([BAR],model.mark)){const hasCornerRadius=VG_CORNERRADIUS_CHANNELS.some(prop=>getMarkPropOrConfig(prop,model.markDef,model.config));if(model.stack&&!model.fieldDef("size")&&hasCornerRadius){return getGroupsForStackedBarWithCornerRadius(model)}}return getMarkGroup(model)}const FACETED_PATH_PREFIX="faceted_path_";function getPathGroups(model,details){return[{name:model.getName("pathgroup"),type:"group",from:{facet:{name:FACETED_PATH_PREFIX+model.requestDataName(DataSourceType.Main),data:model.requestDataName(DataSourceType.Main),groupby:details}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:getMarkGroup(model,{fromPrefix:FACETED_PATH_PREFIX})}]}const STACK_GROUP_PREFIX="stack_group_";function getGroupsForStackedBarWithCornerRadius(model){const[mark]=getMarkGroup(model,{fromPrefix:STACK_GROUP_PREFIX});const fieldScale=model.scaleName(model.stack.fieldChannel);const stackField=(opt={})=>model.vgField(model.stack.fieldChannel,opt);const stackFieldGroup=(func,expr)=>{const vgFieldMinMax=[stackField({prefix:"min",suffix:"start",expr:expr}),stackField({prefix:"max",suffix:"start",expr:expr}),stackField({prefix:"min",suffix:"end",expr:expr}),stackField({prefix:"max",suffix:"end",expr:expr})];return"".concat(func,"(").concat(vgFieldMinMax.map(field=>"scale('".concat(fieldScale,"',").concat(field,")")).join(","),")")};let groupUpdate;let innerGroupUpdate;if(model.stack.fieldChannel==="x"){groupUpdate={...pick(mark.encode.update,["y","yc","y2","height",...VG_CORNERRADIUS_CHANNELS]),x:{signal:stackFieldGroup("min","datum")},x2:{signal:stackFieldGroup("max","datum")},clip:{value:true}};innerGroupUpdate={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}};mark.encode.update={...omit(mark.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}}else{groupUpdate={...pick(mark.encode.update,["x","xc","x2","width"]),y:{signal:stackFieldGroup("min","datum")},y2:{signal:stackFieldGroup("max","datum")},clip:{value:true}};innerGroupUpdate={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}};mark.encode.update={...omit(mark.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}}}for(const key of VG_CORNERRADIUS_CHANNELS){const configValue=getMarkConfig(key,model.markDef,model.config);if(mark.encode.update[key]){groupUpdate[key]=mark.encode.update[key];delete mark.encode.update[key]}else if(configValue){groupUpdate[key]=signalOrValueRef(configValue)}if(configValue){mark.encode.update[key]={value:0}}}const groupByField=model.fieldDef(model.stack.groupbyChannel);const groupby=vgField(groupByField)?[vgField(groupByField)]:[];if((groupByField===null||groupByField===void 0?void 0:groupByField.bin)||(groupByField===null||groupByField===void 0?void 0:groupByField.timeUnit)){groupby.push(vgField(groupByField,{binSuffix:"end"}))}const strokeProperties=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"];groupUpdate=strokeProperties.reduce((encode,prop)=>{if(mark.encode.update[prop]){return{...encode,[prop]:mark.encode.update[prop]}}else{const configValue=getMarkConfig(prop,model.markDef,model.config);if(configValue!==undefined){return{...encode,[prop]:signalOrValueRef(configValue)}}else{return encode}}},groupUpdate);if(groupUpdate.stroke){groupUpdate.strokeForeground={value:true};groupUpdate.strokeOffset={value:0}}return[{type:"group",from:{facet:{data:model.requestDataName(DataSourceType.Main),name:STACK_GROUP_PREFIX+model.requestDataName(DataSourceType.Main),groupby:groupby,aggregate:{fields:[stackField({suffix:"start"}),stackField({suffix:"start"}),stackField({suffix:"end"}),stackField({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:groupUpdate},marks:[{type:"group",encode:{update:innerGroupUpdate},marks:[mark]}]}]}function getSort$1(model){const{encoding:encoding,stack:stack,mark:mark,markDef:markDef,config:config}=model;const order=encoding.order;if(!isArray(order)&&isValueDef(order)&&isNullOrFalse(order.value)||!order&&isNullOrFalse(getMarkPropOrConfig("order",markDef,config))){return undefined}else if((isArray(order)||isFieldDef(order))&&!stack){return sortParams(order,{expr:"datum"})}else if(isPathMark(mark)){const dimensionChannel=markDef.orient==="horizontal"?"y":"x";const dimensionChannelDef=encoding[dimensionChannel];if(isFieldDef(dimensionChannelDef)){const s=dimensionChannelDef.sort;if(isArray(s)){return{field:vgField(dimensionChannelDef,{prefix:dimensionChannel,suffix:"sort_index",expr:"datum"})}}else if(isSortField(s)){return{field:vgField({aggregate:isAggregate(model.encoding)?s.op:undefined,field:s.field},{expr:"datum"})}}else if(isSortByEncoding(s)){const fieldDefToSort=model.fieldDef(s.encoding);return{field:vgField(fieldDefToSort,{expr:"datum"}),order:s.order}}else if(s===null){return undefined}else{return{field:vgField(dimensionChannelDef,{binSuffix:model.stack&&model.stack.impute?"mid":undefined,expr:"datum"})}}}return undefined}return undefined}function getMarkGroup(model,opt={fromPrefix:""}){const{mark:mark,markDef:markDef,encoding:encoding,config:config}=model;const clip=getFirstDefined(markDef.clip,scaleClip(model),projectionClip(model));const style=getStyles(markDef);const key=encoding.key;const sort=getSort$1(model);const interactive=interactiveFlag(model);const aria=getMarkPropOrConfig("aria",markDef,config);const postEncodingTransform=markCompiler[mark].postEncodingTransform?markCompiler[mark].postEncodingTransform(model):null;return[{name:model.getName("marks"),type:markCompiler[mark].vgMark,...clip?{clip:true}:{},...style?{style:style}:{},...key?{key:key.field}:{},...sort?{sort:sort}:{},...interactive?interactive:{},...aria===false?{aria:aria}:{},from:{data:opt.fromPrefix+model.requestDataName(DataSourceType.Main)},encode:{update:markCompiler[mark].encodeEntry(model)},...postEncodingTransform?{transform:postEncodingTransform}:{}}]}function scaleClip(model){const xScale=model.getScaleComponent("x");const yScale=model.getScaleComponent("y");return xScale&&xScale.get("selectionExtent")||yScale&&yScale.get("selectionExtent")?true:undefined}function projectionClip(model){const projection=model.component.projection;return projection&&!projection.isFit?true:undefined}function interactiveFlag(model){if(!model.component.selection)return null;const unitCount=keys(model.component.selection).length;let parentCount=unitCount;let parent=model.parent;while(parent&&parentCount===0){parentCount=keys(parent.component.selection).length;parent=parent.parent}return parentCount?{interactive:unitCount>0||!!model.encoding.tooltip}:null}class UnitModel extends ModelWithField{constructor(spec,parent,parentGivenName,parentGivenSize={},config){super(spec,"unit",parent,parentGivenName,config,undefined,isFrameMixins(spec)?spec.view:undefined);_defineProperty(this,"markDef",void 0);_defineProperty(this,"encoding",void 0);_defineProperty(this,"specifiedScales",{});_defineProperty(this,"stack",void 0);_defineProperty(this,"specifiedAxes",{});_defineProperty(this,"specifiedLegends",{});_defineProperty(this,"specifiedProjection",{});_defineProperty(this,"selection",{});_defineProperty(this,"children",[]);const markDef=isMarkDef(spec.mark)?{...spec.mark}:{type:spec.mark};const mark=markDef.type;if(markDef.filled===undefined){markDef.filled=defaultFilled(markDef,config,{graticule:spec.data&&isGraticuleGenerator(spec.data)})}const encoding=this.encoding=initEncoding(spec.encoding||{},mark,markDef.filled,config);this.markDef=initMarkdef(markDef,encoding,config);this.size=initLayoutSize({encoding:encoding,size:isFrameMixins(spec)?{...parentGivenSize,...spec.width?{width:spec.width}:{},...spec.height?{height:spec.height}:{}}:parentGivenSize});this.stack=stack(mark,encoding);this.specifiedScales=this.initScales(mark,encoding);this.specifiedAxes=this.initAxes(encoding);this.specifiedLegends=this.initLegends(encoding);this.specifiedProjection=spec.projection;this.selection=spec.selection}get hasProjection(){const{encoding:encoding}=this;const isGeoShapeMark=this.mark===GEOSHAPE;const hasGeoPosition=encoding&&GEOPOSITION_CHANNELS.some(channel=>isFieldOrDatumDef(encoding[channel]));return isGeoShapeMark||hasGeoPosition}scaleDomain(channel){const scale=this.specifiedScales[channel];return scale?scale.domain:undefined}axis(channel){return this.specifiedAxes[channel]}legend(channel){return this.specifiedLegends[channel]}initScales(mark,encoding){return SCALE_CHANNELS.reduce((scales,channel)=>{const fieldOrDatumDef=getFieldOrDatumDef(encoding[channel]);if(fieldOrDatumDef){var _fieldOrDatumDef$scal;scales[channel]=this.initScale((_fieldOrDatumDef$scal=fieldOrDatumDef.scale)!==null&&_fieldOrDatumDef$scal!==void 0?_fieldOrDatumDef$scal:{})}return scales},{})}initScale(scale){const{domain:domain,range:range}=scale;const scaleInternal=replaceExprRefInIndex(scale);if(isArray(domain)){scaleInternal.domain=domain.map(signalRefOrValue)}if(isArray(range)){scaleInternal.range=range.map(signalRefOrValue)}return scaleInternal}initAxes(encoding){return POSITION_SCALE_CHANNELS.reduce((_axis,channel)=>{const channelDef=encoding[channel];if(isFieldOrDatumDef(channelDef)||channel===X&&isFieldOrDatumDef(encoding.x2)||channel===Y&&isFieldOrDatumDef(encoding.y2)){const axisSpec=isFieldOrDatumDef(channelDef)?channelDef.axis:undefined;_axis[channel]=axisSpec?this.initAxis({...axisSpec}):axisSpec}return _axis},{})}initAxis(axis){const props=keys(axis);const axisInternal={};for(const prop of props){const val=axis[prop];axisInternal[prop]=isConditionalAxisValue(val)?signalOrValueRefWithCondition(val):signalRefOrValue(val)}return axisInternal}initLegends(encoding){return NONPOSITION_SCALE_CHANNELS.reduce((_legend,channel)=>{const fieldOrDatumDef=getFieldOrDatumDef(encoding[channel]);if(fieldOrDatumDef&&supportLegend(channel)){const legend=fieldOrDatumDef.legend;_legend[channel]=legend?replaceExprRefInIndex(legend):legend}return _legend},{})}parseData(){this.component.data=parseData(this)}parseLayoutSize(){parseUnitLayoutSize(this)}parseSelections(){this.component.selection=parseUnitSelection(this,this.selection)}parseMarkGroup(){this.component.mark=parseMarkGroups(this)}parseAxesAndHeaders(){this.component.axes=parseUnitAxes(this)}assembleSelectionTopLevelSignals(signals){return assembleTopLevelSignals(this,signals)}assembleSignals(){return[...assembleAxisSignals(this),...assembleUnitSelectionSignals(this,[])]}assembleSelectionData(data){return assembleUnitSelectionData(this,data)}assembleLayout(){return null}assembleLayoutSignals(){return assembleLayoutSignals(this)}assembleMarks(){var _this$component$mark;let marks=(_this$component$mark=this.component.mark)!==null&&_this$component$mark!==void 0?_this$component$mark:[];if(!this.parent||!isLayerModel(this.parent)){marks=assembleUnitSelectionMarks(this,marks)}return marks.map(this.correctDataNames)}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(channel){return channelHasField(this.encoding,channel)}fieldDef(channel){const channelDef=this.encoding[channel];return getFieldDef(channelDef)}typedFieldDef(channel){const fieldDef=this.fieldDef(channel);if(isTypedFieldDef(fieldDef)){return fieldDef}return null}}class LayerModel extends Model{constructor(spec,parent,parentGivenName,parentGivenSize,config){super(spec,"layer",parent,parentGivenName,config,spec.resolve,spec.view);_defineProperty(this,"children",void 0);const layoutSize={...parentGivenSize,...spec.width?{width:spec.width}:{},...spec.height?{height:spec.height}:{}};this.children=spec.layer.map((layer,i)=>{if(isLayerSpec(layer)){return new LayerModel(layer,this,this.getName("layer_"+i),layoutSize,config)}else if(isUnitSpec(layer)){return new UnitModel(layer,this,this.getName("layer_"+i),layoutSize,config)}throw new Error(invalidSpec(layer))})}parseData(){this.component.data=parseData(this);for(const child of this.children){child.parseData()}}parseLayoutSize(){parseLayerLayoutSize(this)}parseSelections(){this.component.selection={};for(const child of this.children){child.parseSelections();for(const key of keys(child.component.selection)){this.component.selection[key]=child.component.selection[key]}}}parseMarkGroup(){for(const child of this.children){child.parseMarkGroup()}}parseAxesAndHeaders(){parseLayerAxes(this)}assembleSelectionTopLevelSignals(signals){return this.children.reduce((sg,child)=>child.assembleSelectionTopLevelSignals(sg),signals)}assembleSignals(){return this.children.reduce((signals,child)=>signals.concat(child.assembleSignals()),assembleAxisSignals(this))}assembleLayoutSignals(){return this.children.reduce((signals,child)=>signals.concat(child.assembleLayoutSignals()),assembleLayoutSignals(this))}assembleSelectionData(data){return this.children.reduce((db,child)=>child.assembleSelectionData(db),data)}assembleTitle(){let title=super.assembleTitle();if(title){return title}for(const child of this.children){title=child.assembleTitle();if(title){return title}}return undefined}assembleLayout(){return null}assembleMarks(){return assembleLayerSelectionMarks(this,this.children.flatMap(child=>child.assembleMarks()))}assembleLegends(){return this.children.reduce((legends,child)=>legends.concat(child.assembleLegends()),assembleLegends(this))}}function buildModel(spec,parent,parentGivenName,unitSize,config){if(isFacetSpec(spec)){return new FacetModel(spec,parent,parentGivenName,config)}else if(isLayerSpec(spec)){return new LayerModel(spec,parent,parentGivenName,unitSize,config)}else if(isUnitSpec(spec)){return new UnitModel(spec,parent,parentGivenName,unitSize,config)}else if(isAnyConcatSpec(spec)){return new ConcatModel(spec,parent,parentGivenName,config)}throw new Error(invalidSpec(spec))}function compile(inputSpec,opt={}){if(opt.logger){set(opt.logger)}if(opt.fieldTitle){setTitleFormatter(opt.fieldTitle)}try{const config=initConfig(mergeConfig(opt.config,inputSpec.config));const spec=normalize(inputSpec,config);const model=buildModel(spec,null,"",undefined,config);model.parse();optimizeDataflow(model.component.data,model);const vgSpec=assembleTopLevelModel(model,getTopLevelProperties(inputSpec,spec.autosize,config,model),inputSpec.datasets,inputSpec.usermeta);return{spec:vgSpec,normalized:spec}}finally{if(opt.logger){reset()}if(opt.fieldTitle){resetTitleFormatter()}}}function getTopLevelProperties(inputSpec,autosize,config,model){const width=model.component.layoutSize.get("width");const height=model.component.layoutSize.get("height");if(autosize===undefined){autosize={type:"pad"};if(model.hasAxisOrientSignalRef()){autosize.resize=true}}else if(isString(autosize)){autosize={type:autosize}}if(width&&height&&isFitType(autosize.type)){if(width==="step"&&height==="step"){warn(droppingFit());autosize.type="pad"}else if(width==="step"||height==="step"){const sizeType=width==="step"?"width":"height";warn(droppingFit(getPositionScaleChannel(sizeType)));const inverseSizeType=sizeType==="width"?"height":"width";autosize.type=getFitType(inverseSizeType)}}return{...keys(autosize).length===1&&autosize.type?autosize.type==="pad"?{}:{autosize:autosize.type}:{autosize:autosize},...extractTopLevelProperties(config,false),...extractTopLevelProperties(inputSpec,true)}}function assembleTopLevelModel(model,topLevelProperties,datasets={},usermeta){const vgConfig=model.config?stripAndRedirectConfig(model.config):undefined;const data=[].concat(model.assembleSelectionData([]),assembleRootData(model.component.data,datasets));const projections=model.assembleProjections();const title=model.assembleTitle();const style=model.assembleGroupStyle();const encodeEntry=model.assembleGroupEncodeEntry(true);let layoutSignals=model.assembleLayoutSignals();layoutSignals=layoutSignals.filter(signal=>{if((signal.name==="width"||signal.name==="height")&&signal.value!==undefined){topLevelProperties[signal.name]=+signal.value;return false}return true});const{params:params,...otherTopLevelProps}=topLevelProperties;return{$schema:"https://vega.github.io/schema/vega/v5.json",...model.description?{description:model.description}:{},...otherTopLevelProps,...title?{title:title}:{},...style?{style:style}:{},...encodeEntry?{encode:{update:encodeEntry}}:{},data:data,...projections.length>0?{projections:projections}:{},...model.assembleGroup([...layoutSignals,...model.assembleSelectionTopLevelSignals([]),...assembleParameterSignals(params)]),...vgConfig?{config:vgConfig}:{},...usermeta?{usermeta:usermeta}:{}}}exports.accessPathDepth=accessPathDepth;exports.accessPathWithDatum=accessPathWithDatum;exports.compile=compile;exports.contains=contains;exports.deepEqual=deepEqual;exports.deleteNestedProperty=deleteNestedProperty;exports.duplicate=duplicate;exports.entries=entries;exports.every=every;exports.fieldIntersection=fieldIntersection;exports.flatAccessWithDatum=flatAccessWithDatum;exports.getFirstDefined=getFirstDefined;exports.hasIntersection=hasIntersection;exports.hash=hash;exports.internalField=internalField;exports.isBoolean=isBoolean$1;exports.isEmpty=isEmpty;exports.isEqual=isEqual;exports.isInternalField=isInternalField;exports.isNullOrFalse=isNullOrFalse;exports.isNumeric=isNumeric;exports.keys=keys;exports.logicalExpr=logicalExpr;exports.mergeDeep=mergeDeep;exports.normalize=normalize;exports.normalizeAngle=normalizeAngle;exports.omit=omit;exports.pick=pick;exports.prefixGenerator=prefixGenerator;exports.removePathFromField=removePathFromField;exports.replaceAll=replaceAll;exports.replacePathInField=replacePathInField;exports.resetIdCounter=resetIdCounter;exports.setEqual=setEqual;exports.some=some;exports.stringify=stringify;exports.titleCase=titleCase;exports.unique=unique;exports.uniqueId=uniqueId;exports.vals=vals;exports.varName=varName;exports.version=version;Object.defineProperty(exports,"__esModule",{value:true})}))}).call(this,__webpack_require__(97).Buffer)},function(module,exports,__webpack_require__){(function(global,factory){true?factory(exports,__webpack_require__(543)):undefined})(this,(function(exports,vegaUtil){"use strict";var name="vega-tooltip";var version$1="0.30.0";var description="A tooltip plugin for Vega-Lite and Vega visualizations.";var keywords=["vega-lite","vega","tooltip"];var repository={type:"git",url:"https://github.com/vega/vega-tooltip.git"};var author={name:"UW Interactive Data Lab",url:"https://idl.cs.washington.edu"};var collaborators=["Dominik Moritz","Sira Horradarn","Zening Qu","Kanit Wongsuphasawat","Yuri Astrakhan","Jeffrey Heer"];var license="BSD-3-Clause";var bugs={url:"https://github.com/vega/vega-tooltip/issues"};var homepage="https://github.com/vega/vega-tooltip#readme";var main="build/vega-tooltip.js";var module="build/vega-tooltip.module.js";var unpkg="build/vega-tooltip.min.js";var jsdelivr="build/vega-tooltip.min.js";var types="build/vega-tooltip.module.d.ts";var files=["src","build","types"];var scripts={prebuild:"yarn clean && yarn build:style",build:"rollup -c","build:style":"./build-style.sh",clean:"rimraf build && rimraf src/style.ts","copy:data":"rsync -r node_modules/vega-datasets/data/* examples/data","copy:build":"rsync -r build/* examples/build","deploy:gh":"yarn build && yarn copy:build && gh-pages -d examples && yarn clean",prepublishOnly:"yarn clean && yarn build",preversion:"yarn lint && yarn test",serve:"browser-sync start -s -f build examples --serveStatic examples",start:"yarn build && concurrently --kill-others -n Server,Rollup 'yarn serve' 'rollup -c -w'",pretest:"yarn build:style",test:"beemo jest","test:inspect":"node --inspect-brk ./node_modules/.bin/jest --runInBand",prepare:"beemo create-config && yarn copy:data",prettierbase:"beemo prettier '*.{css,scss,html}'",eslintbase:"beemo eslint .",format:"yarn eslintbase --fix && yarn prettierbase --write",lint:"yarn eslintbase && yarn prettierbase --check",release:"yarn run prebuild && yarn build && auto shipit"};var devDependencies={"@auto-it/conventional-commits":"^10.37.6","@auto-it/first-time-contributor":"^10.37.6","@rollup/plugin-json":"^5.0.1","@rollup/plugin-node-resolve":"^15.0.1",auto:"^10.37.6","browser-sync":"^2.27.10",concurrently:"^7.5.0","gh-pages":"^4.0.0","jest-environment-jsdom":"^29.3.1",path:"^0.12.7",rollup:"^3.3.0","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-terser":"^7.0.2","rollup-plugin-ts":"^3.0.2",sass:"^1.56.1",typescript:"~4.9.3","vega-datasets":"^2.5.3","vega-lite-dev-config":"^0.21.0","vega-typings":"^0.22.3"};var dependencies={"vega-util":"^1.17.0"};var pkg={name:name,version:version$1,description:description,keywords:keywords,repository:repository,author:author,collaborators:collaborators,license:license,bugs:bugs,homepage:homepage,main:main,module:module,unpkg:unpkg,jsdelivr:jsdelivr,types:types,files:files,scripts:scripts,devDependencies:devDependencies,dependencies:dependencies};
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var __assign=function(){__assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};function __rest(s,e){var t={};for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0)t[p]=s[p];if(s!=null&&typeof Object.getOwnPropertySymbols==="function")for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++){if(e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i]))t[p[i]]=s[p[i]]}return t}function formatValue(value,valueToHtml,maxDepth){if(vegaUtil.isArray(value)){return"[".concat(value.map((function(v){return valueToHtml(vegaUtil.isString(v)?v:stringify(v,maxDepth))})).join(", "),"]")}if(vegaUtil.isObject(value)){var content="";var _a=value,title=_a.title,image=_a.image,rest=__rest(_a,["title","image"]);if(title){content+="<h2>".concat(valueToHtml(title),"</h2>")}if(image){content+='<img src="'.concat(valueToHtml(image),'">')}var keys=Object.keys(rest);if(keys.length>0){content+="<table>";for(var _i=0,keys_1=keys;_i<keys_1.length;_i++){var key=keys_1[_i];var val=rest[key];if(val===undefined){continue}if(vegaUtil.isObject(val)){val=stringify(val,maxDepth)}content+='<tr><td class="key">'.concat(valueToHtml(key),':</td><td class="value">').concat(valueToHtml(val),"</td></tr>")}content+="</table>"}return content||"{}"}return valueToHtml(value)}function replacer(maxDepth){var stack=[];return function(key,value){if(typeof value!=="object"||value===null){return value}var pos=stack.indexOf(this)+1;stack.length=pos;if(stack.length>maxDepth){return"[Object]"}if(stack.indexOf(value)>=0){return"[Circular]"}stack.push(value);return value}}function stringify(obj,maxDepth){return JSON.stringify(obj,replacer(maxDepth))}var defaultStyle="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black;\n}\n#vg-tooltip-element.visible {\n  visibility: visible;\n}\n#vg-tooltip-element h2 {\n  margin-top: 0;\n  margin-bottom: 10px;\n  font-size: 13px;\n}\n#vg-tooltip-element img {\n  max-width: 200px;\n  max-height: 200px;\n}\n#vg-tooltip-element table {\n  border-spacing: 0;\n}\n#vg-tooltip-element table tr {\n  border: none;\n}\n#vg-tooltip-element table tr td {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n#vg-tooltip-element table tr td.key {\n  color: #808080;\n  max-width: 150px;\n  text-align: right;\n  padding-right: 4px;\n}\n#vg-tooltip-element table tr td.value {\n  display: block;\n  max-width: 300px;\n  max-height: 7em;\n  text-align: left;\n}\n#vg-tooltip-element.dark-theme {\n  background-color: rgba(32, 32, 32, 0.9);\n  border: 1px solid #f5f5f5;\n  color: white;\n}\n#vg-tooltip-element.dark-theme td.key {\n  color: #bfbfbf;\n}\n";var EL_ID="vg-tooltip-element";var DEFAULT_OPTIONS={offsetX:10,offsetY:10,id:EL_ID,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:false,sanitize:escapeHTML,maxDepth:2,formatTooltip:formatValue};function escapeHTML(value){return String(value).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function createDefaultStyle(id){if(!/^[A-Za-z]+[-:.\w]*$/.test(id)){throw new Error("Invalid HTML ID")}return defaultStyle.toString().replace(EL_ID,id)}function calculatePosition(event,tooltipBox,offsetX,offsetY){var x=event.clientX+offsetX;if(x+tooltipBox.width>window.innerWidth){x=+event.clientX-offsetX-tooltipBox.width}var y=event.clientY+offsetY;if(y+tooltipBox.height>window.innerHeight){y=+event.clientY-offsetY-tooltipBox.height}return{x:x,y:y}}var Handler=function(){function Handler(options){this.options=__assign(__assign({},DEFAULT_OPTIONS),options);var elementId=this.options.id;this.el=null;this.call=this.tooltipHandler.bind(this);if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){var style=document.createElement("style");style.setAttribute("id",this.options.styleId);style.innerHTML=createDefaultStyle(elementId);var head=document.head;if(head.childNodes.length>0){head.insertBefore(style,head.childNodes[0])}else{head.appendChild(style)}}}Handler.prototype.tooltipHandler=function(handler,event,item,value){var _a;this.el=document.getElementById(this.options.id);if(!this.el){this.el=document.createElement("div");this.el.setAttribute("id",this.options.id);this.el.classList.add("vg-tooltip");var tooltipContainer=(_a=document.fullscreenElement)!==null&&_a!==void 0?_a:document.body;tooltipContainer.appendChild(this.el)}if(value==null||value===""){this.el.classList.remove("visible","".concat(this.options.theme,"-theme"));return}this.el.innerHTML=this.options.formatTooltip(value,this.options.sanitize,this.options.maxDepth);this.el.classList.add("visible","".concat(this.options.theme,"-theme"));var _b=calculatePosition(event,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY),x=_b.x,y=_b.y;this.el.style.top="".concat(y,"px");this.el.style.left="".concat(x,"px")};return Handler}();var version=pkg.version;function index(view,opt){var handler=new Handler(opt);view.tooltip(handler.call).run();return handler}exports.DEFAULT_OPTIONS=DEFAULT_OPTIONS;exports.Handler=Handler;exports.calculatePosition=calculatePosition;exports.createDefaultStyle=createDefaultStyle;exports.default=index;exports.escapeHTML=escapeHTML;exports.formatValue=formatValue;exports.replacer=replacer;exports.stringify=stringify;exports.version=version;Object.defineProperty(exports,"__esModule",{value:true})}))},function(module,exports,__webpack_require__){(function(setImmediate){(function(global,factory){true?factory(exports):undefined})(this,(function(exports){"use strict";function adjustSpatial(item,encode,swap){let t;if(encode.x2){if(encode.x){if(swap&&item.x>item.x2){t=item.x;item.x=item.x2;item.x2=t}item.width=item.x2-item.x}else{item.x=item.x2-(item.width||0)}}if(encode.xc){item.x=item.xc-(item.width||0)/2}if(encode.y2){if(encode.y){if(swap&&item.y>item.y2){t=item.y;item.y=item.y2;item.y2=t}item.height=item.y2-item.y}else{item.y=item.y2-(item.height||0)}}if(encode.yc){item.y=item.yc-(item.height||0)/2}}var Constants={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE};var Ops={"*":(a,b)=>a*b,"+":(a,b)=>a+b,"-":(a,b)=>a-b,"/":(a,b)=>a/b,"%":(a,b)=>a%b,">":(a,b)=>a>b,"<":(a,b)=>a<b,"<=":(a,b)=>a<=b,">=":(a,b)=>a>=b,"==":(a,b)=>a==b,"!=":(a,b)=>a!=b,"===":(a,b)=>a===b,"!==":(a,b)=>a!==b,"&":(a,b)=>a&b,"|":(a,b)=>a|b,"^":(a,b)=>a^b,"<<":(a,b)=>a<<b,">>":(a,b)=>a>>b,">>>":(a,b)=>a>>>b};var Unary={"+":a=>+a,"-":a=>-a,"~":a=>~a,"!":a=>!a};const slice=Array.prototype.slice;const apply=(m,args,cast)=>{const obj=cast?cast(args[0]):args[0];return obj[m].apply(obj,slice.call(args,1))};const datetime=(y,m,d,H,M,S,ms)=>new Date(y,m||0,d!=null?d:1,H||0,M||0,S||0,ms||0);var Functions={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(a,b,c)=>Math.max(b,Math.min(c,a)),now:Date.now,utc:Date.UTC,datetime:datetime,date:d=>new Date(d).getDate(),day:d=>new Date(d).getDay(),year:d=>new Date(d).getFullYear(),month:d=>new Date(d).getMonth(),hours:d=>new Date(d).getHours(),minutes:d=>new Date(d).getMinutes(),seconds:d=>new Date(d).getSeconds(),milliseconds:d=>new Date(d).getMilliseconds(),time:d=>new Date(d).getTime(),timezoneoffset:d=>new Date(d).getTimezoneOffset(),utcdate:d=>new Date(d).getUTCDate(),utcday:d=>new Date(d).getUTCDay(),utcyear:d=>new Date(d).getUTCFullYear(),utcmonth:d=>new Date(d).getUTCMonth(),utchours:d=>new Date(d).getUTCHours(),utcminutes:d=>new Date(d).getUTCMinutes(),utcseconds:d=>new Date(d).getUTCSeconds(),utcmilliseconds:d=>new Date(d).getUTCMilliseconds(),length:x=>x.length,join:function(){return apply("join",arguments)},indexof:function(){return apply("indexOf",arguments)},lastindexof:function(){return apply("lastIndexOf",arguments)},slice:function(){return apply("slice",arguments)},reverse:x=>x.slice().reverse(),parseFloat:parseFloat,parseInt:parseInt,upper:x=>String(x).toUpperCase(),lower:x=>String(x).toLowerCase(),substring:function(){return apply("substring",arguments,String)},split:function(){return apply("split",arguments,String)},replace:function(){return apply("replace",arguments,String)},trim:x=>String(x).trim(),regexp:RegExp,test:(r,t)=>RegExp(r).test(t)};const EventFunctions=["view","item","group","xy","x","y"];const DisallowedMethods=new Set([Function,eval,setTimeout,setInterval]);if(typeof setImmediate==="function")DisallowedMethods.add(setImmediate);const Visitors={Literal:($,n)=>n.value,Identifier:($,n)=>{const id=n.name;return $.memberDepth>0?id:id==="datum"?$.datum:id==="event"?$.event:id==="item"?$.item:Constants[id]||$.params["$"+id]},MemberExpression:($,n)=>{const d=!n.computed,o=$(n.object);if(d)$.memberDepth+=1;const p=$(n.property);if(d)$.memberDepth-=1;if(DisallowedMethods.has(o[p])){console.error(`Prevented interpretation of member "${p}" which could lead to insecure code execution`);return}return o[p]},CallExpression:($,n)=>{const args=n.arguments;let name=n.callee.name;if(name.startsWith("_")){name=name.slice(1)}return name==="if"?$(args[0])?$(args[1]):$(args[2]):($.fn[name]||Functions[name]).apply($.fn,args.map($))},ArrayExpression:($,n)=>n.elements.map($),BinaryExpression:($,n)=>Ops[n.operator]($(n.left),$(n.right)),UnaryExpression:($,n)=>Unary[n.operator]($(n.argument)),ConditionalExpression:($,n)=>$(n.test)?$(n.consequent):$(n.alternate),LogicalExpression:($,n)=>n.operator==="&&"?$(n.left)&&$(n.right):$(n.left)||$(n.right),ObjectExpression:($,n)=>n.properties.reduce((o,p)=>{$.memberDepth+=1;const k=$(p.key);$.memberDepth-=1;if(DisallowedMethods.has($(p.value))){console.error(`Prevented interpretation of property "${k}" which could lead to insecure code execution`)}else{o[k]=$(p.value)}return o},{})};function interpret(ast,fn,params,datum,event,item){const $=n=>Visitors[n.type]($,n);$.memberDepth=0;$.fn=Object.create(fn);$.params=params;$.datum=datum;$.event=event;$.item=item;EventFunctions.forEach(f=>$.fn[f]=(...args)=>event.vega[f](...args));return $(ast)}var expression={operator(ctx,expr){const ast=expr.ast,fn=ctx.functions;return _=>interpret(ast,fn,_)},parameter(ctx,expr){const ast=expr.ast,fn=ctx.functions;return(datum,_)=>interpret(ast,fn,_,datum)},event(ctx,expr){const ast=expr.ast,fn=ctx.functions;return event=>interpret(ast,fn,undefined,undefined,event)},handler(ctx,expr){const ast=expr.ast,fn=ctx.functions;return(_,event)=>{const datum=event.item&&event.item.datum;return interpret(ast,fn,_,datum,event)}},encode(ctx,encode){const{marktype:marktype,channels:channels}=encode,fn=ctx.functions,swap=marktype==="group"||marktype==="image"||marktype==="rect";return(item,_)=>{const datum=item.datum;let m=0,v;for(const name in channels){v=interpret(channels[name].ast,fn,_,datum,undefined,item);if(item[name]!==v){item[name]=v;m=1}}if(marktype!=="rule"){adjustSpatial(item,channels,swap)}return m}}};exports.expressionInterpreter=expression}))}).call(this,__webpack_require__(209).setImmediate)},function(module,exports,__webpack_require__){const internalRe=__webpack_require__(56);const constants=__webpack_require__(76);const SemVer=__webpack_require__(24);const identifiers=__webpack_require__(173);const parse=__webpack_require__(47);const valid=__webpack_require__(545);const clean=__webpack_require__(546);const inc=__webpack_require__(547);const diff=__webpack_require__(548);const major=__webpack_require__(549);const minor=__webpack_require__(550);const patch=__webpack_require__(551);const prerelease=__webpack_require__(552);const compare=__webpack_require__(30);const rcompare=__webpack_require__(553);const compareLoose=__webpack_require__(554);const compareBuild=__webpack_require__(119);const sort=__webpack_require__(555);const rsort=__webpack_require__(556);const gt=__webpack_require__(78);const lt=__webpack_require__(120);const eq=__webpack_require__(174);const neq=__webpack_require__(175);const gte=__webpack_require__(121);const lte=__webpack_require__(122);const cmp=__webpack_require__(176);const coerce=__webpack_require__(557);const Comparator=__webpack_require__(79);const Range=__webpack_require__(31);const satisfies=__webpack_require__(80);const toComparators=__webpack_require__(561);const maxSatisfying=__webpack_require__(562);const minSatisfying=__webpack_require__(563);const minVersion=__webpack_require__(564);const validRange=__webpack_require__(565);const outside=__webpack_require__(123);const gtr=__webpack_require__(566);const ltr=__webpack_require__(567);const intersects=__webpack_require__(568);const simplifyRange=__webpack_require__(569);const subset=__webpack_require__(570);module.exports={parse:parse,valid:valid,clean:clean,inc:inc,diff:diff,major:major,minor:minor,patch:patch,prerelease:prerelease,compare:compare,rcompare:rcompare,compareLoose:compareLoose,compareBuild:compareBuild,sort:sort,rsort:rsort,gt:gt,lt:lt,eq:eq,neq:neq,gte:gte,lte:lte,cmp:cmp,coerce:coerce,Comparator:Comparator,Range:Range,satisfies:satisfies,toComparators:toComparators,maxSatisfying:maxSatisfying,minSatisfying:minSatisfying,minVersion:minVersion,validRange:validRange,outside:outside,gtr:gtr,ltr:ltr,intersects:intersects,simplifyRange:simplifyRange,subset:subset,SemVer:SemVer,re:internalRe.re,src:internalRe.src,tokens:internalRe.t,SEMVER_SPEC_VERSION:constants.SEMVER_SPEC_VERSION,RELEASE_TYPES:constants.RELEASE_TYPES,compareIdentifiers:identifiers.compareIdentifiers,rcompareIdentifiers:identifiers.rcompareIdentifiers}},function(module,exports){module.exports=__osdSharedDeps__.TsLib},function(module,exports,__webpack_require__){var isSymbol=__webpack_require__(91);var INFINITY=1/0;function toKey(value){if(typeof value=="string"||isSymbol(value)){return value}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}module.exports=toKey},function(module,exports,__webpack_require__){var ListCache=__webpack_require__(72),stackClear=__webpack_require__(491),stackDelete=__webpack_require__(492),stackGet=__webpack_require__(493),stackHas=__webpack_require__(494),stackSet=__webpack_require__(495);function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}Stack.prototype.clear=stackClear;Stack.prototype["delete"]=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;module.exports=Stack},function(module,exports,__webpack_require__){var baseIsArguments=__webpack_require__(513),isObjectLike=__webpack_require__(39);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var propertyIsEnumerable=objectProto.propertyIsEnumerable;var isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")};module.exports=isArguments},function(module,exports){var MAX_SAFE_INTEGER=9007199254740991;var reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(value,length){var type=typeof value;length=length==null?MAX_SAFE_INTEGER:length;return!!length&&(type=="number"||type!="symbol"&&reIsUint.test(value))&&(value>-1&&value%1==0&&value<length)}module.exports=isIndex},function(module,exports,__webpack_require__){var isObject=__webpack_require__(50);var objectCreate=Object.create;var baseCreate=function(){function object(){}return function(proto){if(!isObject(proto)){return{}}if(objectCreate){return objectCreate(proto)}object.prototype=proto;var result=new object;object.prototype=undefined;return result}}();module.exports=baseCreate},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(43),getPrototype=__webpack_require__(112),isObjectLike=__webpack_require__(39);var objectTag="[object Object]";var funcProto=Function.prototype,objectProto=Object.prototype;var funcToString=funcProto.toString;var hasOwnProperty=objectProto.hasOwnProperty;var objectCtorString=funcToString.call(Object);function isPlainObject(value){if(!isObjectLike(value)||baseGetTag(value)!=objectTag){return false}var proto=getPrototype(value);if(proto===null){return true}var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return typeof Ctor=="function"&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}module.exports=isPlainObject},function(module,exports){function arrayEach(array,iteratee){var index=-1,length=array==null?0:array.length;while(++index<length){if(iteratee(array[index],index,array)===false){break}}return array}module.exports=arrayEach},function(module,exports,__webpack_require__){var baseIsTypedArray=__webpack_require__(515),baseUnary=__webpack_require__(94),nodeUtil=__webpack_require__(114);var nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;var isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;module.exports=isTypedArray},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var useIsomorphicLayoutEffect=typeof window!=="undefined"?react_1.useLayoutEffect:react_1.useEffect;exports.default=useIsomorphicLayoutEffect},function(module,exports,__webpack_require__){var baseClone=__webpack_require__(141);var CLONE_SYMBOLS_FLAG=4;function clone(value){return baseClone(value,CLONE_SYMBOLS_FLAG)}module.exports=clone},function(module,exports,__webpack_require__){var getNative=__webpack_require__(41);var defineProperty=function(){try{var func=getNative(Object,"defineProperty");func({},"",{});return func}catch(e){}}();module.exports=defineProperty},function(module,exports,__webpack_require__){var copyObject=__webpack_require__(61),keys=__webpack_require__(93);function baseAssign(object,source){return object&&copyObject(source,keys(source),object)}module.exports=baseAssign},function(module,exports,__webpack_require__){var isPrototype=__webpack_require__(115),nativeKeys=__webpack_require__(516);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function baseKeys(object){if(!isPrototype(object)){return nativeKeys(object)}var result=[];for(var key in Object(object)){if(hasOwnProperty.call(object,key)&&key!="constructor"){result.push(key)}}return result}module.exports=baseKeys},function(module,exports,__webpack_require__){(function(module){var root=__webpack_require__(33);var freeExports=true&&exports&&!exports.nodeType&&exports;var freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module;var moduleExports=freeModule&&freeModule.exports===freeExports;var Buffer=moduleExports?root.Buffer:undefined,allocUnsafe=Buffer?Buffer.allocUnsafe:undefined;function cloneBuffer(buffer,isDeep){if(isDeep){return buffer.slice()}var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);buffer.copy(result);return result}module.exports=cloneBuffer}).call(this,__webpack_require__(62)(module))},function(module,exports,__webpack_require__){var baseGetAllKeys=__webpack_require__(172),getSymbols=__webpack_require__(116),keys=__webpack_require__(93);function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}module.exports=getAllKeys},function(module,exports,__webpack_require__){var getNative=__webpack_require__(41),root=__webpack_require__(33);var WeakMap=getNative(root,"WeakMap");module.exports=WeakMap},function(module,exports,__webpack_require__){var root=__webpack_require__(33);var Uint8Array=root.Uint8Array;module.exports=Uint8Array},function(module,exports,__webpack_require__){var cloneArrayBuffer=__webpack_require__(117);function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}module.exports=cloneTypedArray},function(module,exports,__webpack_require__){var baseCreate=__webpack_require__(191),getPrototype=__webpack_require__(112),isPrototype=__webpack_require__(115);function initCloneObject(object){return typeof object.constructor=="function"&&!isPrototype(object)?baseCreate(getPrototype(object)):{}}module.exports=initCloneObject},function(module,exports,__webpack_require__){var arrayMap=__webpack_require__(146),copyArray=__webpack_require__(134),isArray=__webpack_require__(49),isSymbol=__webpack_require__(91),stringToPath=__webpack_require__(207),toKey=__webpack_require__(187),toString=__webpack_require__(208);function toPath(value){if(isArray(value)){return arrayMap(value,toKey)}return isSymbol(value)?[value]:copyArray(stringToPath(toString(value)))}module.exports=toPath},function(module,exports,__webpack_require__){var memoizeCapped=__webpack_require__(536);var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var reEscapeChar=/\\(\\)?/g;var stringToPath=memoizeCapped((function(string){var result=[];if(string.charCodeAt(0)===46){result.push("")}string.replace(rePropName,(function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)}));return result}));module.exports=stringToPath},function(module,exports,__webpack_require__){var baseToString=__webpack_require__(538);function toString(value){return value==null?"":baseToString(value)}module.exports=toString},function(module,exports,__webpack_require__){(function(global){var scope=typeof global!=="undefined"&&global||typeof self!=="undefined"&&self||window;var apply=Function.prototype.apply;exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,scope,arguments),clearTimeout)};exports.setInterval=function(){return new Timeout(apply.call(setInterval,scope,arguments),clearInterval)};exports.clearTimeout=exports.clearInterval=function(timeout){if(timeout){timeout.close()}};function Timeout(id,clearFn){this._id=id;this._clearFn=clearFn}Timeout.prototype.unref=Timeout.prototype.ref=function(){};Timeout.prototype.close=function(){this._clearFn.call(scope,this._id)};exports.enroll=function(item,msecs){clearTimeout(item._idleTimeoutId);item._idleTimeout=msecs};exports.unenroll=function(item){clearTimeout(item._idleTimeoutId);item._idleTimeout=-1};exports._unrefActive=exports.active=function(item){clearTimeout(item._idleTimeoutId);var msecs=item._idleTimeout;if(msecs>=0){item._idleTimeoutId=setTimeout((function onTimeout(){if(item._onTimeout)item._onTimeout()}),msecs)}};__webpack_require__(544);exports.setImmediate=typeof self!=="undefined"&&self.setImmediate||typeof global!=="undefined"&&global.setImmediate||this&&this.setImmediate;exports.clearImmediate=typeof self!=="undefined"&&self.clearImmediate||typeof global!=="undefined"&&global.clearImmediate||this&&this.clearImmediate}).call(this,__webpack_require__(35))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_val_loader_dist_cjs_js_key_securityAnalyticsDashboards_osd_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(211);var _node_modules_val_loader_dist_cjs_js_key_securityAnalyticsDashboards_osd_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_val_loader_dist_cjs_js_key_securityAnalyticsDashboards_osd_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__);__osdBundles__.define("plugin/securityAnalyticsDashboards/public",__webpack_require__,571)},function(module,exports,__webpack_require__){__webpack_require__.p=window.__osdPublicPath__["securityAnalyticsDashboards"]},function(module,exports,__webpack_require__){var _typeof=__webpack_require__(147)["default"];var toPrimitive=__webpack_require__(213);function toPropertyKey(t){var i=toPrimitive(t,"string");return"symbol"==_typeof(i)?i:String(i)}module.exports=toPropertyKey,module.exports.__esModule=true,module.exports["default"]=module.exports},function(module,exports,__webpack_require__){var _typeof=__webpack_require__(147)["default"];function toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}module.exports=toPrimitive,module.exports.__esModule=true,module.exports["default"]=module.exports},function(module,exports,__webpack_require__){switch(window.__osdThemeTag__){case"v7dark":return __webpack_require__(215);case"v7light":return __webpack_require__(217);case"v8dark":return __webpack_require__(219);case"v8light":return __webpack_require__(221);case"v9dark":return __webpack_require__(223);case"v9light":return __webpack_require__(225)}},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(216);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,'/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n/*!\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the "License"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n.coreSystemRootDomElement{overflow-x:hidden;min-width:100%;min-height:100%}:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed{padding-top:49px}:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiFlyout,:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiCollapsibleNav{top:49px;height:calc(100% - 49px)}@media only screen and (min-width: 768px)and (max-width: 991px){:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 49px);top:49px}}@media only screen and (min-width: 992px)and (max-width: 1199px){:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 49px);top:49px}}@media only screen and (min-width: 1200px)and (max-width: 1679px){:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 49px);top:49px}}@media only screen and (min-width: 1680px)and (max-width: 1919px){:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 49px);top:49px}}@media only screen and (min-width: 1920px){:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 49px);top:49px}}:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiOverlayMask--belowHeader{top:49px}.headerIsExpanded.euiBody--headerIsFixed{padding-top:98px}.headerIsExpanded.euiBody--headerIsFixed .euiFlyout,.headerIsExpanded.euiBody--headerIsFixed .euiCollapsibleNav{top:98px;height:calc(100% - 98px)}@media only screen and (min-width: 768px)and (max-width: 991px){.headerIsExpanded.euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 98px);top:98px}}@media only screen and (min-width: 992px)and (max-width: 1199px){.headerIsExpanded.euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 98px);top:98px}}@media only screen and (min-width: 1200px)and (max-width: 1679px){.headerIsExpanded.euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 98px);top:98px}}@media only screen and (min-width: 1680px)and (max-width: 1919px){.headerIsExpanded.euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 98px);top:98px}}@media only screen and (min-width: 1920px){.headerIsExpanded.euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 98px);top:98px}}.headerIsExpanded.euiBody--headerIsFixed .euiOverlayMask--belowHeader{top:98px}.headerGlobalNav .euiHeaderSectionItem:empty{min-width:0}.chrHeaderHelpMenu__version{text-transform:none}.chrHeaderBadge__wrapper{align-self:center;margin-right:16px}.euiBody--collapsibleNavIsDocked .header__toggleNavButtonSection{display:none}.osdLoadingIndicator-hidden{visibility:hidden;animation-play-state:paused}.osdGlobalBannerList{padding:16px}.osdGlobalBannerList__item+.osdGlobalBannerList__item{margin-top:8px}.osdOverlayMountWrapper{display:flex;flex-direction:column;height:100%}#opensearch-dashboards-body{min-height:100%}.app-wrapper{display:flex;flex-flow:column nowrap;margin:0 auto;min-height:calc(100vh - 49px)}.headerIsExpanded .app-wrapper{min-height:calc(100vh - 98px)}.app-wrapper.hidden-chrome{min-height:100vh}.app-wrapper-panel{display:flex;flex:1 0 auto;flex-direction:column}.app-wrapper-panel>*{flex-shrink:0}.echChartStatus{visibility:hidden;pointer-events:none;z-index:-100000;width:0;height:0;position:absolute}.echChartBackground{position:absolute;top:0;bottom:0;left:0;right:0}.echChart{position:relative;display:flex;height:100%}.echChart--column{flex-direction:column}.echContainer{flex:1;position:relative}.echChartPointerContainer{position:absolute;top:0;bottom:0;right:0;left:0;box-sizing:border-box;user-select:none}.echChartResizer{z-index:-10000000;position:absolute;bottom:0;top:0;left:0;right:0;box-sizing:border-box}.echBrushTool{position:absolute;top:0;left:0;margin:0;padding:0;box-sizing:border-box;overflow:hidden;pointer-events:none}.echTooltip{box-shadow:0 12px 24px 0 rgba(0,0,0,.1),0 6px 12px 0 rgba(0,0,0,.1),0 4px 4px 0 rgba(0,0,0,.1),0 2px 2px 0 rgba(0,0,0,.1);border-radius:4px;background-color:#000;color:#fff;z-index:9000;max-width:256px;overflow-wrap:break-word;font-size:14px;font-size:0.875rem;line-height:1.5;padding:12px;font-size:12px;font-size:0.75rem;line-height:1.5;padding:0;transition:opacity 250ms;pointer-events:none;user-select:none;max-width:256px}.echTooltip__list{padding:4px}.echTooltip__header{font-weight:700;border-bottom:solid 1px #333;padding-bottom:4px;margin-bottom:4px;margin-bottom:0;padding:4px 8px}.echTooltip__item{display:flex;min-width:1px}.echTooltip__item--container{display:flex;flex:1 1 auto;padding:3px;padding-left:0;min-width:1px}.echTooltip__item--backgroundColor{position:relative;width:4px;margin-right:3px;flex-shrink:0}.echTooltip__item--color{position:absolute;top:0;left:0;right:0;bottom:0}.echTooltip__label{overflow-wrap:break-word;word-wrap:break-word;min-width:1px;flex:1 1 auto}.echTooltip__value{font-weight:700;text-align:right;font-feature-settings:"tnum";margin-left:8px}.echTooltip__rowHighlighted{background-color:rgba(255,255,255,.1)}.echTooltip--hidden{opacity:0}[id^=echTooltipPortal]{pointer-events:none}[id^=echAnchor]{position:absolute;pointer-events:none}.echTooltipPortal__invisible{position:fixed;visibility:hidden;width:0;height:0}.echIcon{flex-shrink:0;display:inline-block;vertical-align:middle;fill:currentColor}.echIcon svg{transform:translate(0, 0)}.echIcon:focus{opacity:1;background:#093b56}.echLegend .echLegendList{display:grid;grid-template-columns:minmax(0, 1fr)}.echLegend--horizontal .echLegendList{grid-column-gap:24px;grid-row-gap:8px;margin-top:8px;margin-bottom:8px}.echLegend--top,.echLegend--left{order:0}.echLegend--bottom,.echLegend--right{order:1}.echLegend--debug{background:rgba(238,130,238,.2);position:relative}.echLegend .echLegendListContainer{scrollbar-width:thin;height:100%;overflow-y:auto;overflow-x:hidden;mask-image:linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);contain:paint;width:100%;overflow-y:auto;overflow-x:hidden}.echLegend .echLegendListContainer::-webkit-scrollbar{width:16px;height:16px}.echLegend .echLegendListContainer::-webkit-scrollbar-thumb{background-color:rgba(152,162,179,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.echLegend .echLegendListContainer::-webkit-scrollbar-corner,.echLegend .echLegendListContainer::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.echLegend .echLegendListContainer:focus{outline:none}.echLegend .echLegendListContainer[tabindex="0"]:focus:focus-visible{outline-style:auto}.echLegend .echLegendListContainer :focus{animation:350ms cubic-bezier(0.694, 0.0482, 0.335, 1) 1 normal forwards focusRingAnimate !important;background-color:#093b56;border-radius:2px}.echLegendItem{color:#dfe5ef;display:flex;flex-wrap:nowrap;justify-content:space-between;align-items:center;position:relative}.echLegendItem>*:not(.background){height:18px;margin-left:4px}.echLegendItem>*:not(.background):last-child:not(.echLegendItem__extra){margin-right:4px}.echLegendItem:not(.echLegendItem--hidden) .echLegendItem__color--changable{cursor:pointer}.echLegendItem:hover .background{background-color:#25262e}.echLegendItem .background{position:absolute;top:0;right:0;bottom:0;left:0;z-index:-1}.echLegendItem__action{cursor:pointer;display:flex;justify-content:center;align-items:center;max-width:calc(18px + 8px)}.echLegendItem__action .euiPopover,.echLegendItem__action .euiPopover__anchor,.echLegendItem__action .euiPopover__anchor>*:first-child{height:100%;width:100%}.echLegendItem__color{display:flex;line-height:1.5;align-items:center}.echLegendItem__label{font-size:12px;font-size:0.75rem;line-height:1.5;max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;flex:1 1 auto;text-align:left;vertical-align:baseline;letter-spacing:unset;align-items:center}.echLegendItem__label--clickable:hover{cursor:pointer;text-decoration:underline}.echLegendItem__extra{font-size:12px;font-size:0.75rem;line-height:1.5;text-align:right;flex:0 0 auto;margin-left:4px;font-feature-settings:"tnum";letter-spacing:unset}.echLegendItem--vertical{padding-top:2px;padding-bottom:2px}.echLegendItem--vertical:first-of-type{margin-top:2px}.echLegendItem--vertical .background{margin-top:2px;margin-bottom:2px}.echLegendItem--hidden{color:#98a2b3}.echReactiveChart_noResults{display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:12px;font-size:0.75rem;line-height:1.5;color:#98a2b3}.echHighlighter{position:absolute;pointer-events:none;top:0;bottom:0;left:0;right:0;width:100%;height:100%}.echHighlighterOverlay__fill{fill:rgba(255,255,255,.2)}.echHighlighterOverlay__stroke{stroke:rgba(255,255,255,.2)}.echHighlighter__mask{fill:rgba(29,30,36,.5)}.echCrosshair,.echCrosshair__cursor,.echCrosshair__crossLine{position:absolute;top:0;left:0;pointer-events:none}.echScreenReaderOnly{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}.echScreenReaderOnlyDebug{left:0 !important;top:0 !important;right:0 !important;bottom:0 !important;width:100% !important;height:100% !important;overflow:auto !important;background:rgba(255,255,255,.8)}.echScreenReaderOnlyDebug table,.echScreenReaderOnlyDebug td,.echScreenReaderOnlyDebug th{border:1px solid #000;font-size:12px}.echScreenReaderTable{overflow-x:auto;text-align:left}.echAnnotation{position:absolute;user-select:none;font-size:12px;font-weight:700}.echAnnotation__tooltip{box-shadow:0 12px 24px 0 rgba(0,0,0,.1),0 6px 12px 0 rgba(0,0,0,.1),0 4px 4px 0 rgba(0,0,0,.1),0 2px 2px 0 rgba(0,0,0,.1);border-radius:4px;background-color:#000;color:#fff;z-index:9000;max-width:256px;overflow-wrap:break-word;font-size:14px;font-size:0.875rem;line-height:1.5;padding:12px;font-size:12px;font-size:0.75rem;line-height:1.5;padding:0;transition:opacity 250ms;pointer-events:none;user-select:none;max-width:256px}.echAnnotation__header{font-weight:700;border-bottom:solid 1px #333;padding-bottom:4px;margin-bottom:4px;padding:4px 8px}.echAnnotation__details{padding:4px 8px}.echAnnotation__icon{position:relative}.echAnnotation__body{white-space:nowrap}.echCanvasRenderer{position:absolute;top:0;left:0;padding:0;margin:0;border:0;background:rgba(0,0,0,0)}.echChartStatus{visibility:hidden;pointer-events:none;z-index:-100000;width:0;height:0;position:absolute}.echChartBackground{position:absolute;top:0;bottom:0;left:0;right:0}.echChart{position:relative;display:flex;height:100%}.echChart--column{flex-direction:column}.echContainer{flex:1;position:relative}.echChartPointerContainer{position:absolute;top:0;bottom:0;right:0;left:0;box-sizing:border-box;user-select:none}.echChartResizer{z-index:-10000000;position:absolute;bottom:0;top:0;left:0;right:0;box-sizing:border-box}.echBrushTool{position:absolute;top:0;left:0;margin:0;padding:0;box-sizing:border-box;overflow:hidden;pointer-events:none}.echTooltip{box-shadow:0 12px 24px 0 rgba(0,0,0,.1),0 6px 12px 0 rgba(0,0,0,.1),0 4px 4px 0 rgba(0,0,0,.1),0 2px 2px 0 rgba(0,0,0,.1);border-radius:4px;background-color:#000;color:#fff;z-index:9000;max-width:256px;overflow-wrap:break-word;font-size:14px;font-size:0.875rem;line-height:1.5;padding:12px;font-size:12px;font-size:0.75rem;line-height:1.5;padding:0;transition:opacity 250ms;pointer-events:none;user-select:none;max-width:256px}.echTooltip__list{padding:4px}.echTooltip__header{font-weight:700;border-bottom:solid 1px #333;padding-bottom:4px;margin-bottom:4px;margin-bottom:0;padding:4px 8px}.echTooltip__item{display:flex;min-width:1px}.echTooltip__item--container{display:flex;flex:1 1 auto;padding:3px;padding-left:0;min-width:1px}.echTooltip__item--backgroundColor{position:relative;width:4px;margin-right:3px;flex-shrink:0}.echTooltip__item--color{position:absolute;top:0;left:0;right:0;bottom:0}.echTooltip__label{overflow-wrap:break-word;word-wrap:break-word;min-width:1px;flex:1 1 auto}.echTooltip__value{font-weight:700;text-align:right;font-feature-settings:"tnum";margin-left:8px}.echTooltip__rowHighlighted{background-color:rgba(255,255,255,.1)}.echTooltip--hidden{opacity:0}[id^=echTooltipPortal]{pointer-events:none}[id^=echAnchor]{position:absolute;pointer-events:none}.echTooltipPortal__invisible{position:fixed;visibility:hidden;width:0;height:0}.echIcon{flex-shrink:0;display:inline-block;vertical-align:middle;fill:currentColor}.echIcon svg{transform:translate(0, 0)}.echIcon:focus{opacity:1;background:#093b56}.echLegend .echLegendList{display:grid;grid-template-columns:minmax(0, 1fr)}.echLegend--horizontal .echLegendList{grid-column-gap:24px;grid-row-gap:8px;margin-top:8px;margin-bottom:8px}.echLegend--top,.echLegend--left{order:0}.echLegend--bottom,.echLegend--right{order:1}.echLegend--debug{background:rgba(238,130,238,.2);position:relative}.echLegend .echLegendListContainer{scrollbar-width:thin;height:100%;overflow-y:auto;overflow-x:hidden;mask-image:linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);contain:paint;width:100%;overflow-y:auto;overflow-x:hidden}.echLegend .echLegendListContainer::-webkit-scrollbar{width:16px;height:16px}.echLegend .echLegendListContainer::-webkit-scrollbar-thumb{background-color:rgba(152,162,179,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.echLegend .echLegendListContainer::-webkit-scrollbar-corner,.echLegend .echLegendListContainer::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.echLegend .echLegendListContainer:focus{outline:none}.echLegend .echLegendListContainer[tabindex="0"]:focus:focus-visible{outline-style:auto}.echLegend .echLegendListContainer :focus{animation:350ms cubic-bezier(0.694, 0.0482, 0.335, 1) 1 normal forwards focusRingAnimate !important;background-color:#093b56;border-radius:2px}.echLegendItem{color:#dfe5ef;display:flex;flex-wrap:nowrap;justify-content:space-between;align-items:center;position:relative}.echLegendItem>*:not(.background){height:18px;margin-left:4px}.echLegendItem>*:not(.background):last-child:not(.echLegendItem__extra){margin-right:4px}.echLegendItem:not(.echLegendItem--hidden) .echLegendItem__color--changable{cursor:pointer}.echLegendItem:hover .background{background-color:#25262e}.echLegendItem .background{position:absolute;top:0;right:0;bottom:0;left:0;z-index:-1}.echLegendItem__action{cursor:pointer;display:flex;justify-content:center;align-items:center;max-width:calc(18px + 8px)}.echLegendItem__action .euiPopover,.echLegendItem__action .euiPopover__anchor,.echLegendItem__action .euiPopover__anchor>*:first-child{height:100%;width:100%}.echLegendItem__color{display:flex;line-height:1.5;align-items:center}.echLegendItem__label{font-size:12px;font-size:0.75rem;line-height:1.5;max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;flex:1 1 auto;text-align:left;vertical-align:baseline;letter-spacing:unset;align-items:center}.echLegendItem__label--clickable:hover{cursor:pointer;text-decoration:underline}.echLegendItem__extra{font-size:12px;font-size:0.75rem;line-height:1.5;text-align:right;flex:0 0 auto;margin-left:4px;font-feature-settings:"tnum";letter-spacing:unset}.echLegendItem--vertical{padding-top:2px;padding-bottom:2px}.echLegendItem--vertical:first-of-type{margin-top:2px}.echLegendItem--vertical .background{margin-top:2px;margin-bottom:2px}.echLegendItem--hidden{color:#98a2b3}.echReactiveChart_noResults{display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:12px;font-size:0.75rem;line-height:1.5;color:#98a2b3}.echHighlighter{position:absolute;pointer-events:none;top:0;bottom:0;left:0;right:0;width:100%;height:100%}.echHighlighterOverlay__fill{fill:rgba(255,255,255,.2)}.echHighlighterOverlay__stroke{stroke:rgba(255,255,255,.2)}.echHighlighter__mask{fill:rgba(29,30,36,.5)}.echCrosshair,.echCrosshair__cursor,.echCrosshair__crossLine{position:absolute;top:0;left:0;pointer-events:none}.echScreenReaderOnly{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}.echScreenReaderOnlyDebug{left:0 !important;top:0 !important;right:0 !important;bottom:0 !important;width:100% !important;height:100% !important;overflow:auto !important;background:rgba(255,255,255,.8)}.echScreenReaderOnlyDebug table,.echScreenReaderOnlyDebug td,.echScreenReaderOnlyDebug th{border:1px solid #000;font-size:12px}.echScreenReaderTable{overflow-x:auto;text-align:left}.echAnnotation{position:absolute;user-select:none;font-size:12px;font-weight:700}.echAnnotation__tooltip{box-shadow:0 12px 24px 0 rgba(0,0,0,.1),0 6px 12px 0 rgba(0,0,0,.1),0 4px 4px 0 rgba(0,0,0,.1),0 2px 2px 0 rgba(0,0,0,.1);border-radius:4px;background-color:#000;color:#fff;z-index:9000;max-width:256px;overflow-wrap:break-word;font-size:14px;font-size:0.875rem;line-height:1.5;padding:12px;font-size:12px;font-size:0.75rem;line-height:1.5;padding:0;transition:opacity 250ms;pointer-events:none;user-select:none;max-width:256px}.echAnnotation__header{font-weight:700;border-bottom:solid 1px #333;padding-bottom:4px;margin-bottom:4px;padding:4px 8px}.echAnnotation__details{padding:4px 8px}.echAnnotation__icon{position:relative}.echAnnotation__body{white-space:nowrap}.echCanvasRenderer{position:absolute;top:0;left:0;padding:0;margin:0;border:0;background:rgba(0,0,0,0)}.application>*,.app-container>*{position:relative}.application{position:relative;z-index:0;display:flex;flex:1 0 auto;flex-direction:column}.application>*{flex-shrink:0}:focus:not([class^=eui]):not(.osd-resetFocusState){animation:350ms cubic-bezier(0.694, 0.0482, 0.335, 1) 1 normal forwards focusRingAnimate !important}.euiComboBox input:not([class^=eui]):focus{animation:none !important}.euiBody--collapsibleNavIsDocked .euiBottomBar{margin-left:320px}.euiButtonIcon.euiButtonIcon--auto{height:auto;width:auto}.eui-yScrollWithShadows,.eui-xScrollWithShadows,.euiYScrollWithShadows,.euiDataGrid__controlScroll,.euiDataGridColumnSelector__columnList,.euiDataGridColumnSorting__fieldList,.euiFlyoutBody .euiFlyoutBody__overflow,.euiFlyoutBody .euiFlyoutBody__overflow.euiFlyoutBody__overflow--hasBanner,.euiModalBody .euiModalBody__overflow,.euiSelectableList__list,.echLegend .echLegendListContainer,.osdQueryBar__textarea:not(:focus):not(:invalid),.osdSavedQueryManagement__list,.dscCanvas,.vbConfig,.vbSidenav__style{contain:paint}.coreSystemRootDomElement .ace-tm{background-color:#25262e;color:#dfe5ef;font-family:var(--font-code)}.coreSystemRootDomElement .ace-tm .ace_scrollbar{scrollbar-width:thin}.coreSystemRootDomElement .ace-tm .ace_scrollbar::-webkit-scrollbar{width:16px;height:16px}.coreSystemRootDomElement .ace-tm .ace_scrollbar::-webkit-scrollbar-thumb{background-color:rgba(152,162,179,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.coreSystemRootDomElement .ace-tm .ace_scrollbar::-webkit-scrollbar-corner,.coreSystemRootDomElement .ace-tm .ace_scrollbar::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.coreSystemRootDomElement .ace-tm .ace_gutter-active-line,.coreSystemRootDomElement .ace-tm .ace_marker-layer .ace_active-line{background-color:rgba(52,55,65,.7)}.coreSystemRootDomElement .ace-tm .ace_snippet-marker{width:100%;background-color:#343741;border:none}.coreSystemRootDomElement .ace-tm .ace_indent-guide{background:linear-gradient(to left, #535966 0%, #535966 1px, transparent 1px, transparent 100%)}.coreSystemRootDomElement .ace-tm .ace_search{z-index:1001}.coreSystemRootDomElement .ace-tm .ace_layer.ace_marker-layer{overflow:visible}.coreSystemRootDomElement .ace-tm .ace_warning{color:#f66}.coreSystemRootDomElement .ace-tm .ace_method{color:#ec7bb3}.coreSystemRootDomElement .ace-tm .ace_url,.coreSystemRootDomElement .ace-tm .ace_start_triple_quote,.coreSystemRootDomElement .ace-tm .ace_end_triple_quote{color:#25b2aa}.coreSystemRootDomElement .ace-tm .ace_multi_string{color:#4db867;font-style:italic}.coreSystemRootDomElement .ace-tm .ace_gutter{background-color:#1d1e24;color:#98a2b3;border-left:1px solid #343741}.coreSystemRootDomElement .ace-tm .ace_print-margin{width:1px;background:#343741}.coreSystemRootDomElement .ace-tm .ace_fold{background-color:#6b72e6}.coreSystemRootDomElement .ace-tm .ace_cursor{color:#fff}.coreSystemRootDomElement .ace-tm .ace_invisible{color:#343741}.coreSystemRootDomElement .ace-tm .ace_storage,.coreSystemRootDomElement .ace-tm .ace_keyword{color:#5eaac6}.coreSystemRootDomElement .ace-tm .ace_constant{color:#d28f8f}.coreSystemRootDomElement .ace-tm .ace_constant.ace_buildin{color:#a097f6}.coreSystemRootDomElement .ace-tm .ace_constant.ace_language{color:#9698f6}.coreSystemRootDomElement .ace-tm .ace_constant.ace_library{color:#4db867}.coreSystemRootDomElement .ace-tm .ace_invalid{background-color:euiCallOutColor("danger", "background");color:euiCallOutColor("danger", "foreground")}.coreSystemRootDomElement .ace-tm .ace_support.ace_function{color:#9ba4b6}.coreSystemRootDomElement .ace-tm .ace_support.ace_constant{color:#4db867}.coreSystemRootDomElement .ace-tm .ace_support.ace_type,.coreSystemRootDomElement .ace-tm .ace_support.ace_class{color:#949ce6}.coreSystemRootDomElement .ace-tm .ace_keyword.ace_operator{color:#98a2b3}.coreSystemRootDomElement .ace-tm .ace_string{color:#4db867}.coreSystemRootDomElement .ace-tm .ace_comment{color:#83ac97}.coreSystemRootDomElement .ace-tm .ace_comment.ace_doc{color:#5eaac6}.coreSystemRootDomElement .ace-tm .ace_comment.ace_doc.ace_tag{color:#9da1a9}.coreSystemRootDomElement .ace-tm .ace_constant.ace_numeric{color:#5eaac6}.coreSystemRootDomElement .ace-tm .ace_variable{color:#5eaac6}.coreSystemRootDomElement .ace-tm .ace_xml-pe{color:#98a2b3}.coreSystemRootDomElement .ace-tm .ace_entity.ace_name.ace_function{color:#9a9ada}.coreSystemRootDomElement .ace-tm .ace_heading{color:#9a97ff}.coreSystemRootDomElement .ace-tm .ace_list{color:#dd85c9}.coreSystemRootDomElement .ace-tm .ace_meta.ace_tag{color:#959ed0}.coreSystemRootDomElement .ace-tm .ace_string.ace_regex{color:#ff7575}.coreSystemRootDomElement .ace-tm .ace_marker-layer .ace_selection{background:#08334a}.coreSystemRootDomElement .ace-tm.ace_multiselect .ace_selection.ace_start{box-shadow:0 0 3px 0 #1d1e24}.coreSystemRootDomElement .ace-tm .ace_marker-layer .ace_step{background:#332918}.coreSystemRootDomElement .ace-tm .ace_marker-layer .ace_stack{background:#192d2a}.coreSystemRootDomElement .ace-tm .ace_marker-layer .ace_bracket{margin:-1px 0 0 -1px;border:1px solid #343741}.coreSystemRootDomElement .ace-tm .ace_marker-layer .ace_selected-word{background:#25262e;border:1px solid #343741}.coreSystemRootDomElement .ace-tm.ace_editor.ace_autocomplete{background-color:#25262e;color:#dfe5ef}.coreSystemRootDomElement .ace-tm.ace_editor.ace_autocomplete .ace_completion-highlight{color:#25b2aa}.coreSystemRootDomElement .ace-tm.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line{background-color:rgba(52,55,65,.7)}.coreSystemRootDomElement .ace-tm .ace_rightAlignedText{color:#5eaac6}.coreSystemRootDomElement .ace-tm .ace_tooltip{background-color:#343741;color:#dfe5ef}\n',""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(218);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,'/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n/*!\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the "License"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n.coreSystemRootDomElement{overflow-x:hidden;min-width:100%;min-height:100%}:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed{padding-top:49px}:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiFlyout,:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiCollapsibleNav{top:49px;height:calc(100% - 49px)}@media only screen and (min-width: 768px)and (max-width: 991px){:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 49px);top:49px}}@media only screen and (min-width: 992px)and (max-width: 1199px){:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 49px);top:49px}}@media only screen and (min-width: 1200px)and (max-width: 1679px){:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 49px);top:49px}}@media only screen and (min-width: 1680px)and (max-width: 1919px){:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 49px);top:49px}}@media only screen and (min-width: 1920px){:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 49px);top:49px}}:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiOverlayMask--belowHeader{top:49px}.headerIsExpanded.euiBody--headerIsFixed{padding-top:98px}.headerIsExpanded.euiBody--headerIsFixed .euiFlyout,.headerIsExpanded.euiBody--headerIsFixed .euiCollapsibleNav{top:98px;height:calc(100% - 98px)}@media only screen and (min-width: 768px)and (max-width: 991px){.headerIsExpanded.euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 98px);top:98px}}@media only screen and (min-width: 992px)and (max-width: 1199px){.headerIsExpanded.euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 98px);top:98px}}@media only screen and (min-width: 1200px)and (max-width: 1679px){.headerIsExpanded.euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 98px);top:98px}}@media only screen and (min-width: 1680px)and (max-width: 1919px){.headerIsExpanded.euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 98px);top:98px}}@media only screen and (min-width: 1920px){.headerIsExpanded.euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 98px);top:98px}}.headerIsExpanded.euiBody--headerIsFixed .euiOverlayMask--belowHeader{top:98px}.headerGlobalNav .euiHeaderSectionItem:empty{min-width:0}.chrHeaderHelpMenu__version{text-transform:none}.chrHeaderBadge__wrapper{align-self:center;margin-right:16px}.euiBody--collapsibleNavIsDocked .header__toggleNavButtonSection{display:none}.osdLoadingIndicator-hidden{visibility:hidden;animation-play-state:paused}.osdGlobalBannerList{padding:16px}.osdGlobalBannerList__item+.osdGlobalBannerList__item{margin-top:8px}.osdOverlayMountWrapper{display:flex;flex-direction:column;height:100%}#opensearch-dashboards-body{min-height:100%}.app-wrapper{display:flex;flex-flow:column nowrap;margin:0 auto;min-height:calc(100vh - 49px)}.headerIsExpanded .app-wrapper{min-height:calc(100vh - 98px)}.app-wrapper.hidden-chrome{min-height:100vh}.app-wrapper-panel{display:flex;flex:1 0 auto;flex-direction:column}.app-wrapper-panel>*{flex-shrink:0}.echChartStatus{visibility:hidden;pointer-events:none;z-index:-100000;width:0;height:0;position:absolute}.echChartBackground{position:absolute;top:0;bottom:0;left:0;right:0}.echChart{position:relative;display:flex;height:100%}.echChart--column{flex-direction:column}.echContainer{flex:1;position:relative}.echChartPointerContainer{position:absolute;top:0;bottom:0;right:0;left:0;box-sizing:border-box;user-select:none}.echChartResizer{z-index:-10000000;position:absolute;bottom:0;top:0;left:0;right:0;box-sizing:border-box}.echBrushTool{position:absolute;top:0;left:0;margin:0;padding:0;box-sizing:border-box;overflow:hidden;pointer-events:none}.echTooltip{box-shadow:0 12px 24px 0 rgba(0,0,0,.1),0 6px 12px 0 rgba(0,0,0,.1),0 4px 4px 0 rgba(0,0,0,.1),0 2px 2px 0 rgba(0,0,0,.1);border-radius:4px;background-color:#404040;color:#fff;z-index:9000;max-width:256px;overflow-wrap:break-word;font-size:14px;font-size:0.875rem;line-height:1.5;padding:12px;font-size:12px;font-size:0.75rem;line-height:1.5;padding:0;transition:opacity 250ms;pointer-events:none;user-select:none;max-width:256px}.echTooltip__list{padding:4px}.echTooltip__header{font-weight:700;border-bottom:solid 1px #595959;padding-bottom:4px;margin-bottom:4px;margin-bottom:0;padding:4px 8px}.echTooltip__item{display:flex;min-width:1px}.echTooltip__item--container{display:flex;flex:1 1 auto;padding:3px;padding-left:0;min-width:1px}.echTooltip__item--backgroundColor{position:relative;width:4px;margin-right:3px;flex-shrink:0}.echTooltip__item--color{position:absolute;top:0;left:0;right:0;bottom:0}.echTooltip__label{overflow-wrap:break-word;word-wrap:break-word;min-width:1px;flex:1 1 auto}.echTooltip__value{font-weight:700;text-align:right;font-feature-settings:"tnum";margin-left:8px}.echTooltip__rowHighlighted{background-color:rgba(255,255,255,.1)}.echTooltip--hidden{opacity:0}[id^=echTooltipPortal]{pointer-events:none}[id^=echAnchor]{position:absolute;pointer-events:none}.echTooltipPortal__invisible{position:fixed;visibility:hidden;width:0;height:0}.echIcon{flex-shrink:0;display:inline-block;vertical-align:middle;fill:currentColor}.echIcon svg{transform:translate(0, 0)}.echIcon:focus{opacity:1;background:#e6f0f8}.echLegend .echLegendList{display:grid;grid-template-columns:minmax(0, 1fr)}.echLegend--horizontal .echLegendList{grid-column-gap:24px;grid-row-gap:8px;margin-top:8px;margin-bottom:8px}.echLegend--top,.echLegend--left{order:0}.echLegend--bottom,.echLegend--right{order:1}.echLegend--debug{background:rgba(238,130,238,.2);position:relative}.echLegend .echLegendListContainer{scrollbar-width:thin;height:100%;overflow-y:auto;overflow-x:hidden;mask-image:linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);contain:paint;width:100%;overflow-y:auto;overflow-x:hidden}.echLegend .echLegendListContainer::-webkit-scrollbar{width:16px;height:16px}.echLegend .echLegendListContainer::-webkit-scrollbar-thumb{background-color:rgba(105,112,125,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.echLegend .echLegendListContainer::-webkit-scrollbar-corner,.echLegend .echLegendListContainer::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.echLegend .echLegendListContainer:focus{outline:none}.echLegend .echLegendListContainer[tabindex="0"]:focus:focus-visible{outline-style:auto}.echLegend .echLegendListContainer :focus{animation:350ms cubic-bezier(0.694, 0.0482, 0.335, 1) 1 normal forwards focusRingAnimate !important;background-color:#e6f0f8;border-radius:2px}.echLegendItem{color:#343741;display:flex;flex-wrap:nowrap;justify-content:space-between;align-items:center;position:relative}.echLegendItem>*:not(.background){height:18px;margin-left:4px}.echLegendItem>*:not(.background):last-child:not(.echLegendItem__extra){margin-right:4px}.echLegendItem:not(.echLegendItem--hidden) .echLegendItem__color--changable{cursor:pointer}.echLegendItem:hover .background{background-color:#f5f7fa}.echLegendItem .background{position:absolute;top:0;right:0;bottom:0;left:0;z-index:-1}.echLegendItem__action{cursor:pointer;display:flex;justify-content:center;align-items:center;max-width:calc(18px + 8px)}.echLegendItem__action .euiPopover,.echLegendItem__action .euiPopover__anchor,.echLegendItem__action .euiPopover__anchor>*:first-child{height:100%;width:100%}.echLegendItem__color{display:flex;line-height:1.5;align-items:center}.echLegendItem__label{font-size:12px;font-size:0.75rem;line-height:1.5;max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;flex:1 1 auto;text-align:left;vertical-align:baseline;letter-spacing:unset;align-items:center}.echLegendItem__label--clickable:hover{cursor:pointer;text-decoration:underline}.echLegendItem__extra{font-size:12px;font-size:0.75rem;line-height:1.5;text-align:right;flex:0 0 auto;margin-left:4px;font-feature-settings:"tnum";letter-spacing:unset}.echLegendItem--vertical{padding-top:2px;padding-bottom:2px}.echLegendItem--vertical:first-of-type{margin-top:2px}.echLegendItem--vertical .background{margin-top:2px;margin-bottom:2px}.echLegendItem--hidden{color:#69707d}.echReactiveChart_noResults{display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:12px;font-size:0.75rem;line-height:1.5;color:#69707d}.echHighlighter{position:absolute;pointer-events:none;top:0;bottom:0;left:0;right:0;width:100%;height:100%}.echHighlighterOverlay__fill{fill:rgba(255,255,255,.2)}.echHighlighterOverlay__stroke{stroke:rgba(255,255,255,.2)}.echHighlighter__mask{fill:rgba(255,255,255,.5)}.echCrosshair,.echCrosshair__cursor,.echCrosshair__crossLine{position:absolute;top:0;left:0;pointer-events:none}.echScreenReaderOnly{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}.echScreenReaderOnlyDebug{left:0 !important;top:0 !important;right:0 !important;bottom:0 !important;width:100% !important;height:100% !important;overflow:auto !important;background:rgba(255,255,255,.8)}.echScreenReaderOnlyDebug table,.echScreenReaderOnlyDebug td,.echScreenReaderOnlyDebug th{border:1px solid #000;font-size:12px}.echScreenReaderTable{overflow-x:auto;text-align:left}.echAnnotation{position:absolute;user-select:none;font-size:12px;font-weight:700}.echAnnotation__tooltip{box-shadow:0 12px 24px 0 rgba(0,0,0,.1),0 6px 12px 0 rgba(0,0,0,.1),0 4px 4px 0 rgba(0,0,0,.1),0 2px 2px 0 rgba(0,0,0,.1);border-radius:4px;background-color:#404040;color:#fff;z-index:9000;max-width:256px;overflow-wrap:break-word;font-size:14px;font-size:0.875rem;line-height:1.5;padding:12px;font-size:12px;font-size:0.75rem;line-height:1.5;padding:0;transition:opacity 250ms;pointer-events:none;user-select:none;max-width:256px}.echAnnotation__header{font-weight:700;border-bottom:solid 1px #595959;padding-bottom:4px;margin-bottom:4px;padding:4px 8px}.echAnnotation__details{padding:4px 8px}.echAnnotation__icon{position:relative}.echAnnotation__body{white-space:nowrap}.echCanvasRenderer{position:absolute;top:0;left:0;padding:0;margin:0;border:0;background:rgba(0,0,0,0)}.echChartStatus{visibility:hidden;pointer-events:none;z-index:-100000;width:0;height:0;position:absolute}.echChartBackground{position:absolute;top:0;bottom:0;left:0;right:0}.echChart{position:relative;display:flex;height:100%}.echChart--column{flex-direction:column}.echContainer{flex:1;position:relative}.echChartPointerContainer{position:absolute;top:0;bottom:0;right:0;left:0;box-sizing:border-box;user-select:none}.echChartResizer{z-index:-10000000;position:absolute;bottom:0;top:0;left:0;right:0;box-sizing:border-box}.echBrushTool{position:absolute;top:0;left:0;margin:0;padding:0;box-sizing:border-box;overflow:hidden;pointer-events:none}.echTooltip{box-shadow:0 12px 24px 0 rgba(0,0,0,.1),0 6px 12px 0 rgba(0,0,0,.1),0 4px 4px 0 rgba(0,0,0,.1),0 2px 2px 0 rgba(0,0,0,.1);border-radius:4px;background-color:#404040;color:#fff;z-index:9000;max-width:256px;overflow-wrap:break-word;font-size:14px;font-size:0.875rem;line-height:1.5;padding:12px;font-size:12px;font-size:0.75rem;line-height:1.5;padding:0;transition:opacity 250ms;pointer-events:none;user-select:none;max-width:256px}.echTooltip__list{padding:4px}.echTooltip__header{font-weight:700;border-bottom:solid 1px #595959;padding-bottom:4px;margin-bottom:4px;margin-bottom:0;padding:4px 8px}.echTooltip__item{display:flex;min-width:1px}.echTooltip__item--container{display:flex;flex:1 1 auto;padding:3px;padding-left:0;min-width:1px}.echTooltip__item--backgroundColor{position:relative;width:4px;margin-right:3px;flex-shrink:0}.echTooltip__item--color{position:absolute;top:0;left:0;right:0;bottom:0}.echTooltip__label{overflow-wrap:break-word;word-wrap:break-word;min-width:1px;flex:1 1 auto}.echTooltip__value{font-weight:700;text-align:right;font-feature-settings:"tnum";margin-left:8px}.echTooltip__rowHighlighted{background-color:rgba(255,255,255,.1)}.echTooltip--hidden{opacity:0}[id^=echTooltipPortal]{pointer-events:none}[id^=echAnchor]{position:absolute;pointer-events:none}.echTooltipPortal__invisible{position:fixed;visibility:hidden;width:0;height:0}.echIcon{flex-shrink:0;display:inline-block;vertical-align:middle;fill:currentColor}.echIcon svg{transform:translate(0, 0)}.echIcon:focus{opacity:1;background:#e6f0f8}.echLegend .echLegendList{display:grid;grid-template-columns:minmax(0, 1fr)}.echLegend--horizontal .echLegendList{grid-column-gap:24px;grid-row-gap:8px;margin-top:8px;margin-bottom:8px}.echLegend--top,.echLegend--left{order:0}.echLegend--bottom,.echLegend--right{order:1}.echLegend--debug{background:rgba(238,130,238,.2);position:relative}.echLegend .echLegendListContainer{scrollbar-width:thin;height:100%;overflow-y:auto;overflow-x:hidden;mask-image:linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);contain:paint;width:100%;overflow-y:auto;overflow-x:hidden}.echLegend .echLegendListContainer::-webkit-scrollbar{width:16px;height:16px}.echLegend .echLegendListContainer::-webkit-scrollbar-thumb{background-color:rgba(105,112,125,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.echLegend .echLegendListContainer::-webkit-scrollbar-corner,.echLegend .echLegendListContainer::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.echLegend .echLegendListContainer:focus{outline:none}.echLegend .echLegendListContainer[tabindex="0"]:focus:focus-visible{outline-style:auto}.echLegend .echLegendListContainer :focus{animation:350ms cubic-bezier(0.694, 0.0482, 0.335, 1) 1 normal forwards focusRingAnimate !important;background-color:#e6f0f8;border-radius:2px}.echLegendItem{color:#343741;display:flex;flex-wrap:nowrap;justify-content:space-between;align-items:center;position:relative}.echLegendItem>*:not(.background){height:18px;margin-left:4px}.echLegendItem>*:not(.background):last-child:not(.echLegendItem__extra){margin-right:4px}.echLegendItem:not(.echLegendItem--hidden) .echLegendItem__color--changable{cursor:pointer}.echLegendItem:hover .background{background-color:#f5f7fa}.echLegendItem .background{position:absolute;top:0;right:0;bottom:0;left:0;z-index:-1}.echLegendItem__action{cursor:pointer;display:flex;justify-content:center;align-items:center;max-width:calc(18px + 8px)}.echLegendItem__action .euiPopover,.echLegendItem__action .euiPopover__anchor,.echLegendItem__action .euiPopover__anchor>*:first-child{height:100%;width:100%}.echLegendItem__color{display:flex;line-height:1.5;align-items:center}.echLegendItem__label{font-size:12px;font-size:0.75rem;line-height:1.5;max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;flex:1 1 auto;text-align:left;vertical-align:baseline;letter-spacing:unset;align-items:center}.echLegendItem__label--clickable:hover{cursor:pointer;text-decoration:underline}.echLegendItem__extra{font-size:12px;font-size:0.75rem;line-height:1.5;text-align:right;flex:0 0 auto;margin-left:4px;font-feature-settings:"tnum";letter-spacing:unset}.echLegendItem--vertical{padding-top:2px;padding-bottom:2px}.echLegendItem--vertical:first-of-type{margin-top:2px}.echLegendItem--vertical .background{margin-top:2px;margin-bottom:2px}.echLegendItem--hidden{color:#69707d}.echReactiveChart_noResults{display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:12px;font-size:0.75rem;line-height:1.5;color:#69707d}.echHighlighter{position:absolute;pointer-events:none;top:0;bottom:0;left:0;right:0;width:100%;height:100%}.echHighlighterOverlay__fill{fill:rgba(255,255,255,.2)}.echHighlighterOverlay__stroke{stroke:rgba(255,255,255,.2)}.echHighlighter__mask{fill:rgba(255,255,255,.5)}.echCrosshair,.echCrosshair__cursor,.echCrosshair__crossLine{position:absolute;top:0;left:0;pointer-events:none}.echScreenReaderOnly{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}.echScreenReaderOnlyDebug{left:0 !important;top:0 !important;right:0 !important;bottom:0 !important;width:100% !important;height:100% !important;overflow:auto !important;background:rgba(255,255,255,.8)}.echScreenReaderOnlyDebug table,.echScreenReaderOnlyDebug td,.echScreenReaderOnlyDebug th{border:1px solid #000;font-size:12px}.echScreenReaderTable{overflow-x:auto;text-align:left}.echAnnotation{position:absolute;user-select:none;font-size:12px;font-weight:700}.echAnnotation__tooltip{box-shadow:0 12px 24px 0 rgba(0,0,0,.1),0 6px 12px 0 rgba(0,0,0,.1),0 4px 4px 0 rgba(0,0,0,.1),0 2px 2px 0 rgba(0,0,0,.1);border-radius:4px;background-color:#404040;color:#fff;z-index:9000;max-width:256px;overflow-wrap:break-word;font-size:14px;font-size:0.875rem;line-height:1.5;padding:12px;font-size:12px;font-size:0.75rem;line-height:1.5;padding:0;transition:opacity 250ms;pointer-events:none;user-select:none;max-width:256px}.echAnnotation__header{font-weight:700;border-bottom:solid 1px #595959;padding-bottom:4px;margin-bottom:4px;padding:4px 8px}.echAnnotation__details{padding:4px 8px}.echAnnotation__icon{position:relative}.echAnnotation__body{white-space:nowrap}.echCanvasRenderer{position:absolute;top:0;left:0;padding:0;margin:0;border:0;background:rgba(0,0,0,0)}.application>*,.app-container>*{position:relative}.application{position:relative;z-index:0;display:flex;flex:1 0 auto;flex-direction:column}.application>*{flex-shrink:0}:focus:not([class^=eui]):not(.osd-resetFocusState){animation:350ms cubic-bezier(0.694, 0.0482, 0.335, 1) 1 normal forwards focusRingAnimate !important}.euiComboBox input:not([class^=eui]):focus{animation:none !important}.euiBody--collapsibleNavIsDocked .euiBottomBar{margin-left:320px}.euiButtonIcon.euiButtonIcon--auto{height:auto;width:auto}.eui-yScrollWithShadows,.eui-xScrollWithShadows,.euiYScrollWithShadows,.euiDataGrid__controlScroll,.euiDataGridColumnSelector__columnList,.euiDataGridColumnSorting__fieldList,.euiFlyoutBody .euiFlyoutBody__overflow,.euiFlyoutBody .euiFlyoutBody__overflow.euiFlyoutBody__overflow--hasBanner,.euiModalBody .euiModalBody__overflow,.euiSelectableList__list,.echLegend .echLegendListContainer,.osdQueryBar__textarea:not(:focus):not(:invalid),.osdSavedQueryManagement__list,.dscCanvas,.vbConfig,.vbSidenav__style{contain:paint}.coreSystemRootDomElement .ace-tm{background-color:#f5f7fa;color:#343741;font-family:var(--font-code)}.coreSystemRootDomElement .ace-tm .ace_scrollbar{scrollbar-width:thin}.coreSystemRootDomElement .ace-tm .ace_scrollbar::-webkit-scrollbar{width:16px;height:16px}.coreSystemRootDomElement .ace-tm .ace_scrollbar::-webkit-scrollbar-thumb{background-color:rgba(105,112,125,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.coreSystemRootDomElement .ace-tm .ace_scrollbar::-webkit-scrollbar-corner,.coreSystemRootDomElement .ace-tm .ace_scrollbar::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.coreSystemRootDomElement .ace-tm .ace_gutter-active-line,.coreSystemRootDomElement .ace-tm .ace_marker-layer .ace_active-line{background-color:rgba(211,218,230,.7)}.coreSystemRootDomElement .ace-tm .ace_snippet-marker{width:100%;background-color:#e9edf3;border:none}.coreSystemRootDomElement .ace-tm .ace_indent-guide{background:linear-gradient(to left, #98A2B3 0%, #98A2B3 1px, transparent 1px, transparent 100%)}.coreSystemRootDomElement .ace-tm .ace_search{z-index:1001}.coreSystemRootDomElement .ace-tm .ace_layer.ace_marker-layer{overflow:visible}.coreSystemRootDomElement .ace-tm .ace_warning{color:#bd271e}.coreSystemRootDomElement .ace-tm .ace_method{color:#c80a68}.coreSystemRootDomElement .ace-tm .ace_url,.coreSystemRootDomElement .ace-tm .ace_start_triple_quote,.coreSystemRootDomElement .ace-tm .ace_end_triple_quote{color:#00756c}.coreSystemRootDomElement .ace-tm .ace_multi_string{color:#007c1e;font-style:italic}.coreSystemRootDomElement .ace-tm .ace_gutter{background-color:#fff;color:#69707d;border-left:1px solid #e9edf3}.coreSystemRootDomElement .ace-tm .ace_print-margin{width:1px;background:#d3dae6}.coreSystemRootDomElement .ace-tm .ace_fold{background-color:#6b72e6}.coreSystemRootDomElement .ace-tm .ace_cursor{color:#000}.coreSystemRootDomElement .ace-tm .ace_invisible{color:#d3dae6}.coreSystemRootDomElement .ace-tm .ace_storage,.coreSystemRootDomElement .ace-tm .ace_keyword{color:#00739d}.coreSystemRootDomElement .ace-tm .ace_constant{color:#900}.coreSystemRootDomElement .ace-tm .ace_constant.ace_buildin{color:#5848f6}.coreSystemRootDomElement .ace-tm .ace_constant.ace_language{color:#5457ea}.coreSystemRootDomElement .ace-tm .ace_constant.ace_library{color:#007c1e}.coreSystemRootDomElement .ace-tm .ace_invalid{background-color:euiCallOutColor("danger", "background");color:euiCallOutColor("danger", "foreground")}.coreSystemRootDomElement .ace-tm .ace_support.ace_function{color:#3c4c72}.coreSystemRootDomElement .ace-tm .ace_support.ace_constant{color:#007c1e}.coreSystemRootDomElement .ace-tm .ace_support.ace_type,.coreSystemRootDomElement .ace-tm .ace_support.ace_class{color:#5963b5}.coreSystemRootDomElement .ace-tm .ace_keyword.ace_operator{color:#646a77}.coreSystemRootDomElement .ace-tm .ace_string{color:#007c1e}.coreSystemRootDomElement .ace-tm .ace_comment{color:#41755c}.coreSystemRootDomElement .ace-tm .ace_comment.ace_doc{color:#00739d}.coreSystemRootDomElement .ace-tm .ace_comment.ace_doc.ace_tag{color:#656b77}.coreSystemRootDomElement .ace-tm .ace_constant.ace_numeric{color:#00739d}.coreSystemRootDomElement .ace-tm .ace_variable{color:#00739d}.coreSystemRootDomElement .ace-tm .ace_xml-pe{color:#646a77}.coreSystemRootDomElement .ace-tm .ace_entity.ace_name.ace_function{color:#0000a2}.coreSystemRootDomElement .ace-tm .ace_heading{color:#0c07ff}.coreSystemRootDomElement .ace-tm .ace_list{color:#b90690}.coreSystemRootDomElement .ace-tm .ace_meta.ace_tag{color:#00168e}.coreSystemRootDomElement .ace-tm .ace_string.ace_regex{color:#d00000}.coreSystemRootDomElement .ace-tm .ace_marker-layer .ace_selection{background:#b3d3e9}.coreSystemRootDomElement .ace-tm.ace_multiselect .ace_selection.ace_start{box-shadow:0 0 3px 0 #fff}.coreSystemRootDomElement .ace-tm .ace_marker-layer .ace_step{background:#fdedcc}.coreSystemRootDomElement .ace-tm .ace_marker-layer .ace_stack{background:#cce5e3}.coreSystemRootDomElement .ace-tm .ace_marker-layer .ace_bracket{margin:-1px 0 0 -1px;border:1px solid #d3dae6}.coreSystemRootDomElement .ace-tm .ace_marker-layer .ace_selected-word{background:#f5f7fa;border:1px solid #d3dae6}.coreSystemRootDomElement .ace-tm.ace_editor.ace_autocomplete{background-color:#f5f7fa;color:#343741}.coreSystemRootDomElement .ace-tm.ace_editor.ace_autocomplete .ace_completion-highlight{color:#00756c}.coreSystemRootDomElement .ace-tm.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line{background-color:rgba(211,218,230,.7)}.coreSystemRootDomElement .ace-tm .ace_rightAlignedText{color:#00739d}.coreSystemRootDomElement .ace-tm .ace_tooltip{background-color:#e9edf3;color:#343741}\n',""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(220);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,'/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n/*!\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the "License"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n.coreSystemRootDomElement{overflow-x:hidden;min-width:100%;min-height:100%}:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed{padding-top:49px}:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiFlyout,:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiCollapsibleNav{top:49px;height:calc(100% - 49px)}@media only screen and (min-width: 768px)and (max-width: 991px){:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 49px);top:49px}}@media only screen and (min-width: 992px)and (max-width: 1199px){:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 49px);top:49px}}@media only screen and (min-width: 1200px)and (max-width: 1679px){:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 49px);top:49px}}@media only screen and (min-width: 1680px)and (max-width: 1919px){:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 49px);top:49px}}@media only screen and (min-width: 1920px){:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 49px);top:49px}}:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiOverlayMask--belowHeader{top:49px}.headerIsExpanded.euiBody--headerIsFixed{padding-top:98px}.headerIsExpanded.euiBody--headerIsFixed .euiFlyout,.headerIsExpanded.euiBody--headerIsFixed .euiCollapsibleNav{top:98px;height:calc(100% - 98px)}@media only screen and (min-width: 768px)and (max-width: 991px){.headerIsExpanded.euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 98px);top:98px}}@media only screen and (min-width: 992px)and (max-width: 1199px){.headerIsExpanded.euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 98px);top:98px}}@media only screen and (min-width: 1200px)and (max-width: 1679px){.headerIsExpanded.euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 98px);top:98px}}@media only screen and (min-width: 1680px)and (max-width: 1919px){.headerIsExpanded.euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 98px);top:98px}}@media only screen and (min-width: 1920px){.headerIsExpanded.euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 98px);top:98px}}.headerIsExpanded.euiBody--headerIsFixed .euiOverlayMask--belowHeader{top:98px}.headerGlobalNav .euiHeaderSectionItem:empty{min-width:0}.chrHeaderHelpMenu__version{text-transform:none}.chrHeaderBadge__wrapper{align-self:center;margin-right:16px}.euiBody--collapsibleNavIsDocked .header__toggleNavButtonSection{display:none}.osdLoadingIndicator-hidden{visibility:hidden;animation-play-state:paused}.osdGlobalBannerList{padding:16px}.osdGlobalBannerList__item+.osdGlobalBannerList__item{margin-top:8px}.osdOverlayMountWrapper{display:flex;flex-direction:column;height:100%}#opensearch-dashboards-body{min-height:100%}.app-wrapper{display:flex;flex-flow:column nowrap;margin:0 auto;min-height:calc(100vh - 49px)}.headerIsExpanded .app-wrapper{min-height:calc(100vh - 98px)}.app-wrapper.hidden-chrome{min-height:100vh}.app-wrapper-panel{display:flex;flex:1 0 auto;flex-direction:column}.app-wrapper-panel>*{flex-shrink:0}.echChartStatus{visibility:hidden;pointer-events:none;z-index:-100000;width:0;height:0;position:absolute}.echChartBackground{position:absolute;top:0;bottom:0;left:0;right:0}.echChart{position:relative;display:flex;height:100%}.echChart--column{flex-direction:column}.echContainer{flex:1;position:relative}.echChartPointerContainer{position:absolute;top:0;bottom:0;right:0;left:0;box-sizing:border-box;user-select:none}.echChartResizer{z-index:-10000000;position:absolute;bottom:0;top:0;left:0;right:0;box-sizing:border-box}.echBrushTool{position:absolute;top:0;left:0;margin:0;padding:0;box-sizing:border-box;overflow:hidden;pointer-events:none}.echTooltip{box-shadow:0 12px 24px 0 rgba(10,18,26,.1),0 6px 12px 0 rgba(10,18,26,.1),0 4px 4px 0 rgba(10,18,26,.1),0 2px 2px 0 rgba(10,18,26,.1);border-radius:4px;background-color:#293847;color:#fcfeff;z-index:9000;max-width:256px;overflow-wrap:break-word;font-size:15.75px;font-size:0.875rem;line-height:1.333333;padding:12px;font-size:13.5px;font-size:0.75rem;line-height:1.333333;padding:0;transition:opacity 250ms;pointer-events:none;user-select:none;max-width:256px}.echTooltip__list{padding:4px}.echTooltip__header{font-weight:700;border-bottom:solid 1px #3a4148;padding-bottom:4px;margin-bottom:4px;margin-bottom:0;padding:4px 8px}.echTooltip__item{display:flex;min-width:1px}.echTooltip__item--container{display:flex;flex:1 1 auto;padding:3px;padding-left:0;min-width:1px}.echTooltip__item--backgroundColor{position:relative;width:4px;margin-right:3px;flex-shrink:0}.echTooltip__item--color{position:absolute;top:0;left:0;right:0;bottom:0}.echTooltip__label{overflow-wrap:break-word;word-wrap:break-word;min-width:1px;flex:1 1 auto}.echTooltip__value{font-weight:700;text-align:right;font-feature-settings:"tnum";margin-left:8px}.echTooltip__rowHighlighted{background-color:rgba(252,254,255,.1)}.echTooltip--hidden{opacity:0}[id^=echTooltipPortal]{pointer-events:none}[id^=echAnchor]{position:absolute;pointer-events:none}.echTooltipPortal__invisible{position:fixed;visibility:hidden;width:0;height:0}.echIcon{flex-shrink:0;display:inline-block;vertical-align:middle;fill:currentColor}.echIcon svg{transform:translate(0, 0)}.echIcon:focus{opacity:1;background:#0e4342}.echLegend .echLegendList{display:grid;grid-template-columns:minmax(0, 1fr)}.echLegend--horizontal .echLegendList{grid-column-gap:24px;grid-row-gap:8px;margin-top:8px;margin-bottom:8px}.echLegend--top,.echLegend--left{order:0}.echLegend--bottom,.echLegend--right{order:1}.echLegend--debug{background:rgba(238,130,238,.2);position:relative}.echLegend .echLegendListContainer{scrollbar-width:thin;height:100%;overflow-y:auto;overflow-x:hidden;mask-image:linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);contain:paint;width:100%;overflow-y:auto;overflow-x:hidden}.echLegend .echLegendListContainer::-webkit-scrollbar{width:16px;height:16px}.echLegend .echLegendListContainer::-webkit-scrollbar-thumb{background-color:rgba(141,152,163,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.echLegend .echLegendListContainer::-webkit-scrollbar-corner,.echLegend .echLegendListContainer::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.echLegend .echLegendListContainer:focus{outline:none}.echLegend .echLegendListContainer[tabindex="0"]:focus:focus-visible{outline-style:auto}.echLegend .echLegendListContainer :focus{animation:350ms cubic-bezier(0.694, 0.0482, 0.335, 1) 1 normal forwards focusRingAnimate !important;background-color:#0e4342;border-radius:2px}.echLegendItem{color:#dfe5ef;display:flex;flex-wrap:nowrap;justify-content:space-between;align-items:center;position:relative}.echLegendItem>*:not(.background){height:17.9999955px;margin-left:4px}.echLegendItem>*:not(.background):last-child:not(.echLegendItem__extra){margin-right:4px}.echLegendItem:not(.echLegendItem--hidden) .echLegendItem__color--changable{cursor:pointer}.echLegendItem:hover .background{background-color:#101b25}.echLegendItem .background{position:absolute;top:0;right:0;bottom:0;left:0;z-index:-1}.echLegendItem__action{cursor:pointer;display:flex;justify-content:center;align-items:center;max-width:calc(17.9999955px + 8px)}.echLegendItem__action .euiPopover,.echLegendItem__action .euiPopover__anchor,.echLegendItem__action .euiPopover__anchor>*:first-child{height:100%;width:100%}.echLegendItem__color{display:flex;line-height:1.5;align-items:center}.echLegendItem__label{font-size:13.5px;font-size:0.75rem;line-height:1.333333;max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;flex:1 1 auto;text-align:left;vertical-align:baseline;letter-spacing:unset;align-items:center}.echLegendItem__label--clickable:hover{cursor:pointer;text-decoration:underline}.echLegendItem__extra{font-size:13.5px;font-size:0.75rem;line-height:1.333333;text-align:right;flex:0 0 auto;margin-left:4px;font-feature-settings:"tnum";letter-spacing:unset}.echLegendItem--vertical{padding-top:2px;padding-bottom:2px}.echLegendItem--vertical:first-of-type{margin-top:2px}.echLegendItem--vertical .background{margin-top:2px;margin-bottom:2px}.echLegendItem--hidden{color:#8d98a3}.echReactiveChart_noResults{display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:13.5px;font-size:0.75rem;line-height:1.333333;color:#8d98a3}.echHighlighter{position:absolute;pointer-events:none;top:0;bottom:0;left:0;right:0;width:100%;height:100%}.echHighlighterOverlay__fill{fill:rgba(252,254,255,.2)}.echHighlighterOverlay__stroke{stroke:rgba(252,254,255,.2)}.echHighlighter__mask{fill:rgba(10,18,26,.5)}.echCrosshair,.echCrosshair__cursor,.echCrosshair__crossLine{position:absolute;top:0;left:0;pointer-events:none}.echScreenReaderOnly{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}.echScreenReaderOnlyDebug{left:0 !important;top:0 !important;right:0 !important;bottom:0 !important;width:100% !important;height:100% !important;overflow:auto !important;background:rgba(255,255,255,.8)}.echScreenReaderOnlyDebug table,.echScreenReaderOnlyDebug td,.echScreenReaderOnlyDebug th{border:1px solid #000;font-size:12px}.echScreenReaderTable{overflow-x:auto;text-align:left}.echAnnotation{position:absolute;user-select:none;font-size:13.5px;font-weight:700}.echAnnotation__tooltip{box-shadow:0 12px 24px 0 rgba(10,18,26,.1),0 6px 12px 0 rgba(10,18,26,.1),0 4px 4px 0 rgba(10,18,26,.1),0 2px 2px 0 rgba(10,18,26,.1);border-radius:4px;background-color:#293847;color:#fcfeff;z-index:9000;max-width:256px;overflow-wrap:break-word;font-size:15.75px;font-size:0.875rem;line-height:1.333333;padding:12px;font-size:13.5px;font-size:0.75rem;line-height:1.333333;padding:0;transition:opacity 250ms;pointer-events:none;user-select:none;max-width:256px}.echAnnotation__header{font-weight:700;border-bottom:solid 1px #3a4148;padding-bottom:4px;margin-bottom:4px;padding:4px 8px}.echAnnotation__details{padding:4px 8px}.echAnnotation__icon{position:relative}.echAnnotation__body{white-space:nowrap}.echCanvasRenderer{position:absolute;top:0;left:0;padding:0;margin:0;border:0;background:rgba(0,0,0,0)}.echChartStatus{visibility:hidden;pointer-events:none;z-index:-100000;width:0;height:0;position:absolute}.echChartBackground{position:absolute;top:0;bottom:0;left:0;right:0}.echChart{position:relative;display:flex;height:100%}.echChart--column{flex-direction:column}.echContainer{flex:1;position:relative}.echChartPointerContainer{position:absolute;top:0;bottom:0;right:0;left:0;box-sizing:border-box;user-select:none}.echChartResizer{z-index:-10000000;position:absolute;bottom:0;top:0;left:0;right:0;box-sizing:border-box}.echBrushTool{position:absolute;top:0;left:0;margin:0;padding:0;box-sizing:border-box;overflow:hidden;pointer-events:none}.echTooltip{box-shadow:0 12px 24px 0 rgba(10,18,26,.1),0 6px 12px 0 rgba(10,18,26,.1),0 4px 4px 0 rgba(10,18,26,.1),0 2px 2px 0 rgba(10,18,26,.1);border-radius:4px;background-color:#293847;color:#fcfeff;z-index:9000;max-width:256px;overflow-wrap:break-word;font-size:15.75px;font-size:0.875rem;line-height:1.333333;padding:12px;font-size:13.5px;font-size:0.75rem;line-height:1.333333;padding:0;transition:opacity 250ms;pointer-events:none;user-select:none;max-width:256px}.echTooltip__list{padding:4px}.echTooltip__header{font-weight:700;border-bottom:solid 1px #3a4148;padding-bottom:4px;margin-bottom:4px;margin-bottom:0;padding:4px 8px}.echTooltip__item{display:flex;min-width:1px}.echTooltip__item--container{display:flex;flex:1 1 auto;padding:3px;padding-left:0;min-width:1px}.echTooltip__item--backgroundColor{position:relative;width:4px;margin-right:3px;flex-shrink:0}.echTooltip__item--color{position:absolute;top:0;left:0;right:0;bottom:0}.echTooltip__label{overflow-wrap:break-word;word-wrap:break-word;min-width:1px;flex:1 1 auto}.echTooltip__value{font-weight:700;text-align:right;font-feature-settings:"tnum";margin-left:8px}.echTooltip__rowHighlighted{background-color:rgba(252,254,255,.1)}.echTooltip--hidden{opacity:0}[id^=echTooltipPortal]{pointer-events:none}[id^=echAnchor]{position:absolute;pointer-events:none}.echTooltipPortal__invisible{position:fixed;visibility:hidden;width:0;height:0}.echIcon{flex-shrink:0;display:inline-block;vertical-align:middle;fill:currentColor}.echIcon svg{transform:translate(0, 0)}.echIcon:focus{opacity:1;background:#0e4342}.echLegend .echLegendList{display:grid;grid-template-columns:minmax(0, 1fr)}.echLegend--horizontal .echLegendList{grid-column-gap:24px;grid-row-gap:8px;margin-top:8px;margin-bottom:8px}.echLegend--top,.echLegend--left{order:0}.echLegend--bottom,.echLegend--right{order:1}.echLegend--debug{background:rgba(238,130,238,.2);position:relative}.echLegend .echLegendListContainer{scrollbar-width:thin;height:100%;overflow-y:auto;overflow-x:hidden;mask-image:linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);contain:paint;width:100%;overflow-y:auto;overflow-x:hidden}.echLegend .echLegendListContainer::-webkit-scrollbar{width:16px;height:16px}.echLegend .echLegendListContainer::-webkit-scrollbar-thumb{background-color:rgba(141,152,163,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.echLegend .echLegendListContainer::-webkit-scrollbar-corner,.echLegend .echLegendListContainer::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.echLegend .echLegendListContainer:focus{outline:none}.echLegend .echLegendListContainer[tabindex="0"]:focus:focus-visible{outline-style:auto}.echLegend .echLegendListContainer :focus{animation:350ms cubic-bezier(0.694, 0.0482, 0.335, 1) 1 normal forwards focusRingAnimate !important;background-color:#0e4342;border-radius:2px}.echLegendItem{color:#dfe5ef;display:flex;flex-wrap:nowrap;justify-content:space-between;align-items:center;position:relative}.echLegendItem>*:not(.background){height:17.9999955px;margin-left:4px}.echLegendItem>*:not(.background):last-child:not(.echLegendItem__extra){margin-right:4px}.echLegendItem:not(.echLegendItem--hidden) .echLegendItem__color--changable{cursor:pointer}.echLegendItem:hover .background{background-color:#101b25}.echLegendItem .background{position:absolute;top:0;right:0;bottom:0;left:0;z-index:-1}.echLegendItem__action{cursor:pointer;display:flex;justify-content:center;align-items:center;max-width:calc(17.9999955px + 8px)}.echLegendItem__action .euiPopover,.echLegendItem__action .euiPopover__anchor,.echLegendItem__action .euiPopover__anchor>*:first-child{height:100%;width:100%}.echLegendItem__color{display:flex;line-height:1.5;align-items:center}.echLegendItem__label{font-size:13.5px;font-size:0.75rem;line-height:1.333333;max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;flex:1 1 auto;text-align:left;vertical-align:baseline;letter-spacing:unset;align-items:center}.echLegendItem__label--clickable:hover{cursor:pointer;text-decoration:underline}.echLegendItem__extra{font-size:13.5px;font-size:0.75rem;line-height:1.333333;text-align:right;flex:0 0 auto;margin-left:4px;font-feature-settings:"tnum";letter-spacing:unset}.echLegendItem--vertical{padding-top:2px;padding-bottom:2px}.echLegendItem--vertical:first-of-type{margin-top:2px}.echLegendItem--vertical .background{margin-top:2px;margin-bottom:2px}.echLegendItem--hidden{color:#8d98a3}.echReactiveChart_noResults{display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:13.5px;font-size:0.75rem;line-height:1.333333;color:#8d98a3}.echHighlighter{position:absolute;pointer-events:none;top:0;bottom:0;left:0;right:0;width:100%;height:100%}.echHighlighterOverlay__fill{fill:rgba(252,254,255,.2)}.echHighlighterOverlay__stroke{stroke:rgba(252,254,255,.2)}.echHighlighter__mask{fill:rgba(10,18,26,.5)}.echCrosshair,.echCrosshair__cursor,.echCrosshair__crossLine{position:absolute;top:0;left:0;pointer-events:none}.echScreenReaderOnly{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}.echScreenReaderOnlyDebug{left:0 !important;top:0 !important;right:0 !important;bottom:0 !important;width:100% !important;height:100% !important;overflow:auto !important;background:rgba(255,255,255,.8)}.echScreenReaderOnlyDebug table,.echScreenReaderOnlyDebug td,.echScreenReaderOnlyDebug th{border:1px solid #000;font-size:12px}.echScreenReaderTable{overflow-x:auto;text-align:left}.echAnnotation{position:absolute;user-select:none;font-size:13.5px;font-weight:700}.echAnnotation__tooltip{box-shadow:0 12px 24px 0 rgba(10,18,26,.1),0 6px 12px 0 rgba(10,18,26,.1),0 4px 4px 0 rgba(10,18,26,.1),0 2px 2px 0 rgba(10,18,26,.1);border-radius:4px;background-color:#293847;color:#fcfeff;z-index:9000;max-width:256px;overflow-wrap:break-word;font-size:15.75px;font-size:0.875rem;line-height:1.333333;padding:12px;font-size:13.5px;font-size:0.75rem;line-height:1.333333;padding:0;transition:opacity 250ms;pointer-events:none;user-select:none;max-width:256px}.echAnnotation__header{font-weight:700;border-bottom:solid 1px #3a4148;padding-bottom:4px;margin-bottom:4px;padding:4px 8px}.echAnnotation__details{padding:4px 8px}.echAnnotation__icon{position:relative}.echAnnotation__body{white-space:nowrap}.echCanvasRenderer{position:absolute;top:0;left:0;padding:0;margin:0;border:0;background:rgba(0,0,0,0)}.application>*,.app-container>*{position:relative}.application{position:relative;z-index:0;display:flex;flex:1 0 auto;flex-direction:column}.application>*{flex-shrink:0}:focus:not([class^=eui]):not(.osd-resetFocusState){animation:350ms cubic-bezier(0.694, 0.0482, 0.335, 1) 1 normal forwards focusRingAnimate !important}.euiComboBox input:not([class^=eui]):focus{animation:none !important}.euiBody--collapsibleNavIsDocked .euiBottomBar{margin-left:320px}.euiButtonIcon.euiButtonIcon--auto{height:auto;width:auto}.eui-yScrollWithShadows,.eui-xScrollWithShadows,.euiYScrollWithShadows,.euiDataGrid__controlScroll,.euiDataGridColumnSelector__columnList,.euiDataGridColumnSorting__fieldList,.euiFlyoutBody .euiFlyoutBody__overflow,.euiFlyoutBody .euiFlyoutBody__overflow.euiFlyoutBody__overflow--hasBanner,.euiModalBody .euiModalBody__overflow,.euiSelectableList__list,.echLegend .echLegendListContainer,.osdQueryBar__textarea:not(:focus):not(:invalid),.osdSavedQueryManagement__list,.dscCanvas,.vbConfig,.vbSidenav__style{contain:paint}.coreSystemRootDomElement .ace-tm{background-color:#101b25;color:#dfe5ef;font-family:var(--font-code)}.coreSystemRootDomElement .ace-tm .ace_scrollbar{scrollbar-width:thin}.coreSystemRootDomElement .ace-tm .ace_scrollbar::-webkit-scrollbar{width:16px;height:16px}.coreSystemRootDomElement .ace-tm .ace_scrollbar::-webkit-scrollbar-thumb{background-color:rgba(141,152,163,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.coreSystemRootDomElement .ace-tm .ace_scrollbar::-webkit-scrollbar-corner,.coreSystemRootDomElement .ace-tm .ace_scrollbar::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.coreSystemRootDomElement .ace-tm .ace_gutter-active-line,.coreSystemRootDomElement .ace-tm .ace_marker-layer .ace_active-line{background-color:rgba(41,56,71,.7)}.coreSystemRootDomElement .ace-tm .ace_snippet-marker{width:100%;background-color:#293847;border:none}.coreSystemRootDomElement .ace-tm .ace_indent-guide{background:linear-gradient(to left, #5B6875 0%, #5B6875 1px, transparent 1px, transparent 100%)}.coreSystemRootDomElement .ace-tm .ace_search{z-index:1001}.coreSystemRootDomElement .ace-tm .ace_layer.ace_marker-layer{overflow:visible}.coreSystemRootDomElement .ace-tm .ace_warning{color:#f66}.coreSystemRootDomElement .ace-tm .ace_method{color:#ea7ab3}.coreSystemRootDomElement .ace-tm .ace_url,.coreSystemRootDomElement .ace-tm .ace_start_triple_quote,.coreSystemRootDomElement .ace-tm .ace_end_triple_quote{color:#24b2aa}.coreSystemRootDomElement .ace-tm .ace_multi_string{color:#43b45f;font-style:italic}.coreSystemRootDomElement .ace-tm .ace_gutter{background-color:#0a121a;color:#8d98a3;border-left:1px solid #293847}.coreSystemRootDomElement .ace-tm .ace_print-margin{width:1px;background:#293847}.coreSystemRootDomElement .ace-tm .ace_fold{background-color:#6b72e6}.coreSystemRootDomElement .ace-tm .ace_cursor{color:#fcfeff}.coreSystemRootDomElement .ace-tm .ace_invisible{color:#293847}.coreSystemRootDomElement .ace-tm .ace_storage,.coreSystemRootDomElement .ace-tm .ace_keyword{color:#5daac6}.coreSystemRootDomElement .ace-tm .ace_constant{color:#d08e8f}.coreSystemRootDomElement .ace-tm .ace_constant.ace_buildin{color:#9e96f6}.coreSystemRootDomElement .ace-tm .ace_constant.ace_language{color:#9498f6}.coreSystemRootDomElement .ace-tm .ace_constant.ace_library{color:#43b45f}.coreSystemRootDomElement .ace-tm .ace_invalid{background-color:euiCallOutColor("danger", "background");color:euiCallOutColor("danger", "foreground")}.coreSystemRootDomElement .ace-tm .ace_support.ace_function{color:#99a3b6}.coreSystemRootDomElement .ace-tm .ace_support.ace_constant{color:#43b45f}.coreSystemRootDomElement .ace-tm .ace_support.ace_type,.coreSystemRootDomElement .ace-tm .ace_support.ace_class{color:#939ce6}.coreSystemRootDomElement .ace-tm .ace_keyword.ace_operator{color:#98a2ac}.coreSystemRootDomElement .ace-tm .ace_string{color:#43b45f}.coreSystemRootDomElement .ace-tm .ace_comment{color:#81ac97}.coreSystemRootDomElement .ace-tm .ace_comment.ace_doc{color:#5daac6}.coreSystemRootDomElement .ace-tm .ace_comment.ace_doc.ace_tag{color:#97a0a9}.coreSystemRootDomElement .ace-tm .ace_constant.ace_numeric{color:#5daac6}.coreSystemRootDomElement .ace-tm .ace_variable{color:#5daac6}.coreSystemRootDomElement .ace-tm .ace_xml-pe{color:#98a2ac}.coreSystemRootDomElement .ace-tm .ace_entity.ace_name.ace_function{color:#9899da}.coreSystemRootDomElement .ace-tm .ace_heading{color:#9897ff}.coreSystemRootDomElement .ace-tm .ace_list{color:#db85c9}.coreSystemRootDomElement .ace-tm .ace_meta.ace_tag{color:#939dd0}.coreSystemRootDomElement .ace-tm .ace_string.ace_regex{color:#ff7475}.coreSystemRootDomElement .ace-tm .ace_marker-layer .ace_selection{background:#0d3c3d}.coreSystemRootDomElement .ace-tm.ace_multiselect .ace_selection.ace_start{box-shadow:0 0 3px 0 #0a121a}.coreSystemRootDomElement .ace-tm .ace_marker-layer .ace_step{background:#3b382d}.coreSystemRootDomElement .ace-tm .ace_marker-layer .ace_stack{background:#213c3f}.coreSystemRootDomElement .ace-tm .ace_marker-layer .ace_bracket{margin:-1px 0 0 -1px;border:1px solid #293847}.coreSystemRootDomElement .ace-tm .ace_marker-layer .ace_selected-word{background:#101b25;border:1px solid #293847}.coreSystemRootDomElement .ace-tm.ace_editor.ace_autocomplete{background-color:#101b25;color:#dfe5ef}.coreSystemRootDomElement .ace-tm.ace_editor.ace_autocomplete .ace_completion-highlight{color:#24b2aa}.coreSystemRootDomElement .ace-tm.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line{background-color:rgba(41,56,71,.7)}.coreSystemRootDomElement .ace-tm .ace_rightAlignedText{color:#5daac6}.coreSystemRootDomElement .ace-tm .ace_tooltip{background-color:#293847;color:#dfe5ef}\n',""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(222);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,'/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n/*!\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the "License"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n.coreSystemRootDomElement{overflow-x:hidden;min-width:100%;min-height:100%}:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed{padding-top:49px}:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiFlyout,:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiCollapsibleNav{top:49px;height:calc(100% - 49px)}@media only screen and (min-width: 768px)and (max-width: 991px){:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 49px);top:49px}}@media only screen and (min-width: 992px)and (max-width: 1199px){:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 49px);top:49px}}@media only screen and (min-width: 1200px)and (max-width: 1679px){:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 49px);top:49px}}@media only screen and (min-width: 1680px)and (max-width: 1919px){:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 49px);top:49px}}@media only screen and (min-width: 1920px){:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 49px);top:49px}}:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiOverlayMask--belowHeader{top:49px}.headerIsExpanded.euiBody--headerIsFixed{padding-top:98px}.headerIsExpanded.euiBody--headerIsFixed .euiFlyout,.headerIsExpanded.euiBody--headerIsFixed .euiCollapsibleNav{top:98px;height:calc(100% - 98px)}@media only screen and (min-width: 768px)and (max-width: 991px){.headerIsExpanded.euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 98px);top:98px}}@media only screen and (min-width: 992px)and (max-width: 1199px){.headerIsExpanded.euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 98px);top:98px}}@media only screen and (min-width: 1200px)and (max-width: 1679px){.headerIsExpanded.euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 98px);top:98px}}@media only screen and (min-width: 1680px)and (max-width: 1919px){.headerIsExpanded.euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 98px);top:98px}}@media only screen and (min-width: 1920px){.headerIsExpanded.euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 98px);top:98px}}.headerIsExpanded.euiBody--headerIsFixed .euiOverlayMask--belowHeader{top:98px}.headerGlobalNav .euiHeaderSectionItem:empty{min-width:0}.chrHeaderHelpMenu__version{text-transform:none}.chrHeaderBadge__wrapper{align-self:center;margin-right:16px}.euiBody--collapsibleNavIsDocked .header__toggleNavButtonSection{display:none}.osdLoadingIndicator-hidden{visibility:hidden;animation-play-state:paused}.osdGlobalBannerList{padding:16px}.osdGlobalBannerList__item+.osdGlobalBannerList__item{margin-top:8px}.osdOverlayMountWrapper{display:flex;flex-direction:column;height:100%}#opensearch-dashboards-body{min-height:100%}.app-wrapper{display:flex;flex-flow:column nowrap;margin:0 auto;min-height:calc(100vh - 49px)}.headerIsExpanded .app-wrapper{min-height:calc(100vh - 98px)}.app-wrapper.hidden-chrome{min-height:100vh}.app-wrapper-panel{display:flex;flex:1 0 auto;flex-direction:column}.app-wrapper-panel>*{flex-shrink:0}.echChartStatus{visibility:hidden;pointer-events:none;z-index:-100000;width:0;height:0;position:absolute}.echChartBackground{position:absolute;top:0;bottom:0;left:0;right:0}.echChart{position:relative;display:flex;height:100%}.echChart--column{flex-direction:column}.echContainer{flex:1;position:relative}.echChartPointerContainer{position:absolute;top:0;bottom:0;right:0;left:0;box-sizing:border-box;user-select:none}.echChartResizer{z-index:-10000000;position:absolute;bottom:0;top:0;left:0;right:0;box-sizing:border-box}.echBrushTool{position:absolute;top:0;left:0;margin:0;padding:0;box-sizing:border-box;overflow:hidden;pointer-events:none}.echTooltip{box-shadow:0 12px 24px 0 rgba(10,18,26,.1),0 6px 12px 0 rgba(10,18,26,.1),0 4px 4px 0 rgba(10,18,26,.1),0 2px 2px 0 rgba(10,18,26,.1);border-radius:4px;background-color:#293847;color:#fcfeff;z-index:9000;max-width:256px;overflow-wrap:break-word;font-size:15.75px;font-size:0.875rem;line-height:1.333333;padding:12px;font-size:13.5px;font-size:0.75rem;line-height:1.333333;padding:0;transition:opacity 250ms;pointer-events:none;user-select:none;max-width:256px}.echTooltip__list{padding:4px}.echTooltip__header{font-weight:700;border-bottom:solid 1px #5f656a;padding-bottom:4px;margin-bottom:4px;margin-bottom:0;padding:4px 8px}.echTooltip__item{display:flex;min-width:1px}.echTooltip__item--container{display:flex;flex:1 1 auto;padding:3px;padding-left:0;min-width:1px}.echTooltip__item--backgroundColor{position:relative;width:4px;margin-right:3px;flex-shrink:0}.echTooltip__item--color{position:absolute;top:0;left:0;right:0;bottom:0}.echTooltip__label{overflow-wrap:break-word;word-wrap:break-word;min-width:1px;flex:1 1 auto}.echTooltip__value{font-weight:700;text-align:right;font-feature-settings:"tnum";margin-left:8px}.echTooltip__rowHighlighted{background-color:rgba(252,254,255,.1)}.echTooltip--hidden{opacity:0}[id^=echTooltipPortal]{pointer-events:none}[id^=echAnchor]{position:absolute;pointer-events:none}.echTooltipPortal__invisible{position:fixed;visibility:hidden;width:0;height:0}.echIcon{flex-shrink:0;display:inline-block;vertical-align:middle;fill:currentColor}.echIcon svg{transform:translate(0, 0)}.echIcon:focus{opacity:1;background:#e4f2f2}.echLegend .echLegendList{display:grid;grid-template-columns:minmax(0, 1fr)}.echLegend--horizontal .echLegendList{grid-column-gap:24px;grid-row-gap:8px;margin-top:8px;margin-bottom:8px}.echLegend--top,.echLegend--left{order:0}.echLegend--bottom,.echLegend--right{order:1}.echLegend--debug{background:rgba(238,130,238,.2);position:relative}.echLegend .echLegendListContainer{scrollbar-width:thin;height:100%;overflow-y:auto;overflow-x:hidden;mask-image:linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);contain:paint;width:100%;overflow-y:auto;overflow-x:hidden}.echLegend .echLegendListContainer::-webkit-scrollbar{width:16px;height:16px}.echLegend .echLegendListContainer::-webkit-scrollbar-thumb{background-color:rgba(90,104,117,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.echLegend .echLegendListContainer::-webkit-scrollbar-corner,.echLegend .echLegendListContainer::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.echLegend .echLegendListContainer:focus{outline:none}.echLegend .echLegendListContainer[tabindex="0"]:focus:focus-visible{outline-style:auto}.echLegend .echLegendListContainer :focus{animation:350ms cubic-bezier(0.694, 0.0482, 0.335, 1) 1 normal forwards focusRingAnimate !important;background-color:#e4f2f2;border-radius:2px}.echLegendItem{color:#2a3947;display:flex;flex-wrap:nowrap;justify-content:space-between;align-items:center;position:relative}.echLegendItem>*:not(.background){height:17.9999955px;margin-left:4px}.echLegendItem>*:not(.background):last-child:not(.echLegendItem__extra){margin-right:4px}.echLegendItem:not(.echLegendItem--hidden) .echLegendItem__color--changable{cursor:pointer}.echLegendItem:hover .background{background-color:#e3e5e8}.echLegendItem .background{position:absolute;top:0;right:0;bottom:0;left:0;z-index:-1}.echLegendItem__action{cursor:pointer;display:flex;justify-content:center;align-items:center;max-width:calc(17.9999955px + 8px)}.echLegendItem__action .euiPopover,.echLegendItem__action .euiPopover__anchor,.echLegendItem__action .euiPopover__anchor>*:first-child{height:100%;width:100%}.echLegendItem__color{display:flex;line-height:1.5;align-items:center}.echLegendItem__label{font-size:13.5px;font-size:0.75rem;line-height:1.333333;max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;flex:1 1 auto;text-align:left;vertical-align:baseline;letter-spacing:unset;align-items:center}.echLegendItem__label--clickable:hover{cursor:pointer;text-decoration:underline}.echLegendItem__extra{font-size:13.5px;font-size:0.75rem;line-height:1.333333;text-align:right;flex:0 0 auto;margin-left:4px;font-feature-settings:"tnum";letter-spacing:unset}.echLegendItem--vertical{padding-top:2px;padding-bottom:2px}.echLegendItem--vertical:first-of-type{margin-top:2px}.echLegendItem--vertical .background{margin-top:2px;margin-bottom:2px}.echLegendItem--hidden{color:#5a6875}.echReactiveChart_noResults{display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:13.5px;font-size:0.75rem;line-height:1.333333;color:#5a6875}.echHighlighter{position:absolute;pointer-events:none;top:0;bottom:0;left:0;right:0;width:100%;height:100%}.echHighlighterOverlay__fill{fill:rgba(252,254,255,.2)}.echHighlighterOverlay__stroke{stroke:rgba(252,254,255,.2)}.echHighlighter__mask{fill:rgba(252,254,255,.5)}.echCrosshair,.echCrosshair__cursor,.echCrosshair__crossLine{position:absolute;top:0;left:0;pointer-events:none}.echScreenReaderOnly{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}.echScreenReaderOnlyDebug{left:0 !important;top:0 !important;right:0 !important;bottom:0 !important;width:100% !important;height:100% !important;overflow:auto !important;background:rgba(255,255,255,.8)}.echScreenReaderOnlyDebug table,.echScreenReaderOnlyDebug td,.echScreenReaderOnlyDebug th{border:1px solid #000;font-size:12px}.echScreenReaderTable{overflow-x:auto;text-align:left}.echAnnotation{position:absolute;user-select:none;font-size:13.5px;font-weight:700}.echAnnotation__tooltip{box-shadow:0 12px 24px 0 rgba(10,18,26,.1),0 6px 12px 0 rgba(10,18,26,.1),0 4px 4px 0 rgba(10,18,26,.1),0 2px 2px 0 rgba(10,18,26,.1);border-radius:4px;background-color:#293847;color:#fcfeff;z-index:9000;max-width:256px;overflow-wrap:break-word;font-size:15.75px;font-size:0.875rem;line-height:1.333333;padding:12px;font-size:13.5px;font-size:0.75rem;line-height:1.333333;padding:0;transition:opacity 250ms;pointer-events:none;user-select:none;max-width:256px}.echAnnotation__header{font-weight:700;border-bottom:solid 1px #5f656a;padding-bottom:4px;margin-bottom:4px;padding:4px 8px}.echAnnotation__details{padding:4px 8px}.echAnnotation__icon{position:relative}.echAnnotation__body{white-space:nowrap}.echCanvasRenderer{position:absolute;top:0;left:0;padding:0;margin:0;border:0;background:rgba(0,0,0,0)}.echChartStatus{visibility:hidden;pointer-events:none;z-index:-100000;width:0;height:0;position:absolute}.echChartBackground{position:absolute;top:0;bottom:0;left:0;right:0}.echChart{position:relative;display:flex;height:100%}.echChart--column{flex-direction:column}.echContainer{flex:1;position:relative}.echChartPointerContainer{position:absolute;top:0;bottom:0;right:0;left:0;box-sizing:border-box;user-select:none}.echChartResizer{z-index:-10000000;position:absolute;bottom:0;top:0;left:0;right:0;box-sizing:border-box}.echBrushTool{position:absolute;top:0;left:0;margin:0;padding:0;box-sizing:border-box;overflow:hidden;pointer-events:none}.echTooltip{box-shadow:0 12px 24px 0 rgba(10,18,26,.1),0 6px 12px 0 rgba(10,18,26,.1),0 4px 4px 0 rgba(10,18,26,.1),0 2px 2px 0 rgba(10,18,26,.1);border-radius:4px;background-color:#293847;color:#fcfeff;z-index:9000;max-width:256px;overflow-wrap:break-word;font-size:15.75px;font-size:0.875rem;line-height:1.333333;padding:12px;font-size:13.5px;font-size:0.75rem;line-height:1.333333;padding:0;transition:opacity 250ms;pointer-events:none;user-select:none;max-width:256px}.echTooltip__list{padding:4px}.echTooltip__header{font-weight:700;border-bottom:solid 1px #5f656a;padding-bottom:4px;margin-bottom:4px;margin-bottom:0;padding:4px 8px}.echTooltip__item{display:flex;min-width:1px}.echTooltip__item--container{display:flex;flex:1 1 auto;padding:3px;padding-left:0;min-width:1px}.echTooltip__item--backgroundColor{position:relative;width:4px;margin-right:3px;flex-shrink:0}.echTooltip__item--color{position:absolute;top:0;left:0;right:0;bottom:0}.echTooltip__label{overflow-wrap:break-word;word-wrap:break-word;min-width:1px;flex:1 1 auto}.echTooltip__value{font-weight:700;text-align:right;font-feature-settings:"tnum";margin-left:8px}.echTooltip__rowHighlighted{background-color:rgba(252,254,255,.1)}.echTooltip--hidden{opacity:0}[id^=echTooltipPortal]{pointer-events:none}[id^=echAnchor]{position:absolute;pointer-events:none}.echTooltipPortal__invisible{position:fixed;visibility:hidden;width:0;height:0}.echIcon{flex-shrink:0;display:inline-block;vertical-align:middle;fill:currentColor}.echIcon svg{transform:translate(0, 0)}.echIcon:focus{opacity:1;background:#e4f2f2}.echLegend .echLegendList{display:grid;grid-template-columns:minmax(0, 1fr)}.echLegend--horizontal .echLegendList{grid-column-gap:24px;grid-row-gap:8px;margin-top:8px;margin-bottom:8px}.echLegend--top,.echLegend--left{order:0}.echLegend--bottom,.echLegend--right{order:1}.echLegend--debug{background:rgba(238,130,238,.2);position:relative}.echLegend .echLegendListContainer{scrollbar-width:thin;height:100%;overflow-y:auto;overflow-x:hidden;mask-image:linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);contain:paint;width:100%;overflow-y:auto;overflow-x:hidden}.echLegend .echLegendListContainer::-webkit-scrollbar{width:16px;height:16px}.echLegend .echLegendListContainer::-webkit-scrollbar-thumb{background-color:rgba(90,104,117,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.echLegend .echLegendListContainer::-webkit-scrollbar-corner,.echLegend .echLegendListContainer::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.echLegend .echLegendListContainer:focus{outline:none}.echLegend .echLegendListContainer[tabindex="0"]:focus:focus-visible{outline-style:auto}.echLegend .echLegendListContainer :focus{animation:350ms cubic-bezier(0.694, 0.0482, 0.335, 1) 1 normal forwards focusRingAnimate !important;background-color:#e4f2f2;border-radius:2px}.echLegendItem{color:#2a3947;display:flex;flex-wrap:nowrap;justify-content:space-between;align-items:center;position:relative}.echLegendItem>*:not(.background){height:17.9999955px;margin-left:4px}.echLegendItem>*:not(.background):last-child:not(.echLegendItem__extra){margin-right:4px}.echLegendItem:not(.echLegendItem--hidden) .echLegendItem__color--changable{cursor:pointer}.echLegendItem:hover .background{background-color:#e3e5e8}.echLegendItem .background{position:absolute;top:0;right:0;bottom:0;left:0;z-index:-1}.echLegendItem__action{cursor:pointer;display:flex;justify-content:center;align-items:center;max-width:calc(17.9999955px + 8px)}.echLegendItem__action .euiPopover,.echLegendItem__action .euiPopover__anchor,.echLegendItem__action .euiPopover__anchor>*:first-child{height:100%;width:100%}.echLegendItem__color{display:flex;line-height:1.5;align-items:center}.echLegendItem__label{font-size:13.5px;font-size:0.75rem;line-height:1.333333;max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;flex:1 1 auto;text-align:left;vertical-align:baseline;letter-spacing:unset;align-items:center}.echLegendItem__label--clickable:hover{cursor:pointer;text-decoration:underline}.echLegendItem__extra{font-size:13.5px;font-size:0.75rem;line-height:1.333333;text-align:right;flex:0 0 auto;margin-left:4px;font-feature-settings:"tnum";letter-spacing:unset}.echLegendItem--vertical{padding-top:2px;padding-bottom:2px}.echLegendItem--vertical:first-of-type{margin-top:2px}.echLegendItem--vertical .background{margin-top:2px;margin-bottom:2px}.echLegendItem--hidden{color:#5a6875}.echReactiveChart_noResults{display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:13.5px;font-size:0.75rem;line-height:1.333333;color:#5a6875}.echHighlighter{position:absolute;pointer-events:none;top:0;bottom:0;left:0;right:0;width:100%;height:100%}.echHighlighterOverlay__fill{fill:rgba(252,254,255,.2)}.echHighlighterOverlay__stroke{stroke:rgba(252,254,255,.2)}.echHighlighter__mask{fill:rgba(252,254,255,.5)}.echCrosshair,.echCrosshair__cursor,.echCrosshair__crossLine{position:absolute;top:0;left:0;pointer-events:none}.echScreenReaderOnly{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}.echScreenReaderOnlyDebug{left:0 !important;top:0 !important;right:0 !important;bottom:0 !important;width:100% !important;height:100% !important;overflow:auto !important;background:rgba(255,255,255,.8)}.echScreenReaderOnlyDebug table,.echScreenReaderOnlyDebug td,.echScreenReaderOnlyDebug th{border:1px solid #000;font-size:12px}.echScreenReaderTable{overflow-x:auto;text-align:left}.echAnnotation{position:absolute;user-select:none;font-size:13.5px;font-weight:700}.echAnnotation__tooltip{box-shadow:0 12px 24px 0 rgba(10,18,26,.1),0 6px 12px 0 rgba(10,18,26,.1),0 4px 4px 0 rgba(10,18,26,.1),0 2px 2px 0 rgba(10,18,26,.1);border-radius:4px;background-color:#293847;color:#fcfeff;z-index:9000;max-width:256px;overflow-wrap:break-word;font-size:15.75px;font-size:0.875rem;line-height:1.333333;padding:12px;font-size:13.5px;font-size:0.75rem;line-height:1.333333;padding:0;transition:opacity 250ms;pointer-events:none;user-select:none;max-width:256px}.echAnnotation__header{font-weight:700;border-bottom:solid 1px #5f656a;padding-bottom:4px;margin-bottom:4px;padding:4px 8px}.echAnnotation__details{padding:4px 8px}.echAnnotation__icon{position:relative}.echAnnotation__body{white-space:nowrap}.echCanvasRenderer{position:absolute;top:0;left:0;padding:0;margin:0;border:0;background:rgba(0,0,0,0)}.application>*,.app-container>*{position:relative}.application{position:relative;z-index:0;display:flex;flex:1 0 auto;flex-direction:column}.application>*{flex-shrink:0}:focus:not([class^=eui]):not(.osd-resetFocusState){animation:350ms cubic-bezier(0.694, 0.0482, 0.335, 1) 1 normal forwards focusRingAnimate !important}.euiComboBox input:not([class^=eui]):focus{animation:none !important}.euiBody--collapsibleNavIsDocked .euiBottomBar{margin-left:320px}.euiButtonIcon.euiButtonIcon--auto{height:auto;width:auto}.eui-yScrollWithShadows,.eui-xScrollWithShadows,.euiYScrollWithShadows,.euiDataGrid__controlScroll,.euiDataGridColumnSelector__columnList,.euiDataGridColumnSorting__fieldList,.euiFlyoutBody .euiFlyoutBody__overflow,.euiFlyoutBody .euiFlyoutBody__overflow.euiFlyoutBody__overflow--hasBanner,.euiModalBody .euiModalBody__overflow,.euiSelectableList__list,.echLegend .echLegendListContainer,.osdQueryBar__textarea:not(:focus):not(:invalid),.osdSavedQueryManagement__list,.dscCanvas,.vbConfig,.vbSidenav__style{contain:paint}.coreSystemRootDomElement .ace-tm{background-color:#e3e5e8;color:#2a3947;font-family:var(--font-code)}.coreSystemRootDomElement .ace-tm .ace_scrollbar{scrollbar-width:thin}.coreSystemRootDomElement .ace-tm .ace_scrollbar::-webkit-scrollbar{width:16px;height:16px}.coreSystemRootDomElement .ace-tm .ace_scrollbar::-webkit-scrollbar-thumb{background-color:rgba(90,104,117,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.coreSystemRootDomElement .ace-tm .ace_scrollbar::-webkit-scrollbar-corner,.coreSystemRootDomElement .ace-tm .ace_scrollbar::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.coreSystemRootDomElement .ace-tm .ace_gutter-active-line,.coreSystemRootDomElement .ace-tm .ace_marker-layer .ace_active-line{background-color:rgba(214,217,221,.7)}.coreSystemRootDomElement .ace-tm .ace_snippet-marker{width:100%;background-color:#e9ecee;border:none}.coreSystemRootDomElement .ace-tm .ace_indent-guide{background:linear-gradient(to left, #ADB4BA 0%, #ADB4BA 1px, transparent 1px, transparent 100%)}.coreSystemRootDomElement .ace-tm .ace_search{z-index:1001}.coreSystemRootDomElement .ace-tm .ace_layer.ace_marker-layer{overflow:visible}.coreSystemRootDomElement .ace-tm .ace_warning{color:#bd271e}.coreSystemRootDomElement .ace-tm .ace_method{color:#c80a6b}.coreSystemRootDomElement .ace-tm .ace_url,.coreSystemRootDomElement .ace-tm .ace_start_triple_quote,.coreSystemRootDomElement .ace-tm .ace_end_triple_quote{color:#017570}.coreSystemRootDomElement .ace-tm .ace_multi_string{color:#017b24;font-style:italic}.coreSystemRootDomElement .ace-tm .ace_gutter{background-color:#fcfeff;color:#5a6875;border-left:1px solid #e9ecee}.coreSystemRootDomElement .ace-tm .ace_print-margin{width:1px;background:#d6d9dd}.coreSystemRootDomElement .ace-tm .ace_fold{background-color:#6b72e6}.coreSystemRootDomElement .ace-tm .ace_cursor{color:#0a1219}.coreSystemRootDomElement .ace-tm .ace_invisible{color:#d6d9dd}.coreSystemRootDomElement .ace-tm .ace_storage,.coreSystemRootDomElement .ace-tm .ace_keyword{color:#016f97}.coreSystemRootDomElement .ace-tm .ace_constant{color:#900}.coreSystemRootDomElement .ace-tm .ace_constant.ace_buildin{color:#5848f6}.coreSystemRootDomElement .ace-tm .ace_constant.ace_language{color:#5055e1}.coreSystemRootDomElement .ace-tm .ace_constant.ace_library{color:#017b24}.coreSystemRootDomElement .ace-tm .ace_invalid{background-color:euiCallOutColor("danger", "background");color:euiCallOutColor("danger", "foreground")}.coreSystemRootDomElement .ace-tm .ace_support.ace_function{color:#3c4c72}.coreSystemRootDomElement .ace-tm .ace_support.ace_constant{color:#017b24}.coreSystemRootDomElement .ace-tm .ace_support.ace_type,.coreSystemRootDomElement .ace-tm .ace_support.ace_class{color:#5762b2}.coreSystemRootDomElement .ace-tm .ace_keyword.ace_operator{color:#5a6875}.coreSystemRootDomElement .ace-tm .ace_string{color:#017b24}.coreSystemRootDomElement .ace-tm .ace_comment{color:#40725c}.coreSystemRootDomElement .ace-tm .ace_comment.ace_doc{color:#016f97}.coreSystemRootDomElement .ace-tm .ace_comment.ace_doc.ace_tag{color:#626970}.coreSystemRootDomElement .ace-tm .ace_constant.ace_numeric{color:#016f97}.coreSystemRootDomElement .ace-tm .ace_variable{color:#016f97}.coreSystemRootDomElement .ace-tm .ace_xml-pe{color:#5a6875}.coreSystemRootDomElement .ace-tm .ace_entity.ace_name.ace_function{color:#0000a2}.coreSystemRootDomElement .ace-tm .ace_heading{color:#0c07ff}.coreSystemRootDomElement .ace-tm .ace_list{color:#b90690}.coreSystemRootDomElement .ace-tm .ace_meta.ace_tag{color:#00168e}.coreSystemRootDomElement .ace-tm .ace_string.ace_regex{color:#d20404}.coreSystemRootDomElement .ace-tm .ace_marker-layer .ace_selection{background:#b3d9d8}.coreSystemRootDomElement .ace-tm.ace_multiselect .ace_selection.ace_start{box-shadow:0 0 3px 0 #fcfeff}.coreSystemRootDomElement .ace-tm .ace_marker-layer .ace_step{background:#fbedcc}.coreSystemRootDomElement .ace-tm .ace_marker-layer .ace_stack{background:#cae4e3}.coreSystemRootDomElement .ace-tm .ace_marker-layer .ace_bracket{margin:-1px 0 0 -1px;border:1px solid #d6d9dd}.coreSystemRootDomElement .ace-tm .ace_marker-layer .ace_selected-word{background:#e3e5e8;border:1px solid #d6d9dd}.coreSystemRootDomElement .ace-tm.ace_editor.ace_autocomplete{background-color:#e3e5e8;color:#2a3947}.coreSystemRootDomElement .ace-tm.ace_editor.ace_autocomplete .ace_completion-highlight{color:#017570}.coreSystemRootDomElement .ace-tm.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line{background-color:rgba(214,217,221,.7)}.coreSystemRootDomElement .ace-tm .ace_rightAlignedText{color:#016f97}.coreSystemRootDomElement .ace-tm .ace_tooltip{background-color:#e9ecee;color:#2a3947}\n',""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(224);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,'/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n/*!\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the "License"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n.coreSystemRootDomElement{overflow-x:hidden;min-width:100%;min-height:100%}:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed{padding-top:49px}:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiFlyout,:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiCollapsibleNav{top:49px;height:calc(100% - 49px)}@media only screen and (min-width: 768px)and (max-width: 991px){:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 49px);top:49px}}@media only screen and (min-width: 992px)and (max-width: 1199px){:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 49px);top:49px}}@media only screen and (min-width: 1200px)and (max-width: 1679px){:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 49px);top:49px}}@media only screen and (min-width: 1680px)and (max-width: 1919px){:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 49px);top:49px}}@media only screen and (min-width: 1920px){:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 49px);top:49px}}:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiOverlayMask--belowHeader{top:49px}.headerIsExpanded.euiBody--headerIsFixed{padding-top:98px}.headerIsExpanded.euiBody--headerIsFixed .euiFlyout,.headerIsExpanded.euiBody--headerIsFixed .euiCollapsibleNav{top:98px;height:calc(100% - 98px)}@media only screen and (min-width: 768px)and (max-width: 991px){.headerIsExpanded.euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 98px);top:98px}}@media only screen and (min-width: 992px)and (max-width: 1199px){.headerIsExpanded.euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 98px);top:98px}}@media only screen and (min-width: 1200px)and (max-width: 1679px){.headerIsExpanded.euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 98px);top:98px}}@media only screen and (min-width: 1680px)and (max-width: 1919px){.headerIsExpanded.euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 98px);top:98px}}@media only screen and (min-width: 1920px){.headerIsExpanded.euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 98px);top:98px}}.headerIsExpanded.euiBody--headerIsFixed .euiOverlayMask--belowHeader{top:98px}.headerGlobalNav .euiHeaderSectionItem:empty{min-width:0}.chrHeaderHelpMenu__version{text-transform:none}.chrHeaderBadge__wrapper{align-self:center;margin-right:16px}.euiBody--collapsibleNavIsDocked .header__toggleNavButtonSection{display:none}.osdLoadingIndicator-hidden{visibility:hidden;animation-play-state:paused}.osdGlobalBannerList{padding:16px}.osdGlobalBannerList__item+.osdGlobalBannerList__item{margin-top:8px}.osdOverlayMountWrapper{display:flex;flex-direction:column;height:100%}#opensearch-dashboards-body{min-height:100%}.app-wrapper{display:flex;flex-flow:column nowrap;margin:0 auto;min-height:calc(100vh - 49px)}.headerIsExpanded .app-wrapper{min-height:calc(100vh - 98px)}.app-wrapper.hidden-chrome{min-height:100vh}.app-wrapper-panel{display:flex;flex:1 0 auto;flex-direction:column}.app-wrapper-panel>*{flex-shrink:0}.echChartStatus{visibility:hidden;pointer-events:none;z-index:-100000;width:0;height:0;position:absolute}.echChartBackground{position:absolute;top:0;bottom:0;left:0;right:0}.echChart{position:relative;display:flex;height:100%}.echChart--column{flex-direction:column}.echContainer{flex:1;position:relative}.echChartPointerContainer{position:absolute;top:0;bottom:0;right:0;left:0;box-sizing:border-box;user-select:none}.echChartResizer{z-index:-10000000;position:absolute;bottom:0;top:0;left:0;right:0;box-sizing:border-box}.echBrushTool{position:absolute;top:0;left:0;margin:0;padding:0;box-sizing:border-box;overflow:hidden;pointer-events:none}.echTooltip{box-shadow:0 12px 24px 0 rgba(2,2,14,.1),0 6px 12px 0 rgba(2,2,14,.1),0 4px 4px 0 rgba(2,2,14,.1),0 2px 2px 0 rgba(2,2,14,.1);border-radius:4px;background-color:#19222b;color:#e3e5e9;z-index:9000;max-width:256px;overflow-wrap:break-word;font-size:14px;font-size:1rem;line-height:1.5;padding:12px;font-size:12.000002px;font-size:0.857143rem;line-height:1.5;padding:0;transition:opacity 250ms;pointer-events:none;user-select:none;max-width:256px}.echTooltip__list{padding:4px}.echTooltip__header{font-weight:500;border-bottom:solid 1px #34343e;padding-bottom:4px;margin-bottom:4px;margin-bottom:0;padding:4px 8px}.echTooltip__item{display:flex;min-width:1px}.echTooltip__item--container{display:flex;flex:1 1 auto;padding:3px;padding-left:0;min-width:1px}.echTooltip__item--backgroundColor{position:relative;width:4px;margin-right:3px;flex-shrink:0}.echTooltip__item--color{position:absolute;top:0;left:0;right:0;bottom:0}.echTooltip__label{overflow-wrap:break-word;word-wrap:break-word;min-width:1px;flex:1 1 auto}.echTooltip__value{font-weight:500;text-align:right;font-feature-settings:"tnum";margin-left:8px}.echTooltip__rowHighlighted{background-color:rgba(227,229,233,.1)}.echTooltip--hidden{opacity:0}[id^=echTooltipPortal]{pointer-events:none}[id^=echAnchor]{position:absolute;pointer-events:none}.echTooltipPortal__invisible{position:fixed;visibility:hidden;width:0;height:0}.echIcon{flex-shrink:0;display:inline-block;vertical-align:middle;fill:currentColor}.echIcon svg{transform:translate(0, 0)}.echIcon:focus{opacity:1;background:#013652}.echLegend .echLegendList{display:grid;grid-template-columns:minmax(0, 1fr)}.echLegend--horizontal .echLegendList{grid-column-gap:24px;grid-row-gap:8px;margin-top:8px;margin-bottom:8px}.echLegend--top,.echLegend--left{order:0}.echLegend--bottom,.echLegend--right{order:1}.echLegend--debug{background:rgba(238,130,238,.2);position:relative}.echLegend .echLegendListContainer{scrollbar-width:thin;height:100%;overflow-y:auto;overflow-x:hidden;mask-image:linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);contain:paint;width:100%;overflow-y:auto;overflow-x:hidden}.echLegend .echLegendListContainer::-webkit-scrollbar{width:16px;height:16px}.echLegend .echLegendListContainer::-webkit-scrollbar-thumb{background-color:rgba(149,155,162,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.echLegend .echLegendListContainer::-webkit-scrollbar-corner,.echLegend .echLegendListContainer::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.echLegend .echLegendListContainer:focus{outline:none}.echLegend .echLegendListContainer[tabindex="0"]:focus:focus-visible{outline-style:auto}.echLegend .echLegendListContainer :focus{animation:350ms cubic-bezier(0.694, 0.0482, 0.335, 1) 1 normal forwards focusRingAnimate !important;background-color:#013652;border-radius:2px}.echLegendItem{color:#959ba2;display:flex;flex-wrap:nowrap;justify-content:space-between;align-items:center;position:relative}.echLegendItem>*:not(.background){height:18.000003px;margin-left:4px}.echLegendItem>*:not(.background):last-child:not(.echLegendItem__extra){margin-right:4px}.echLegendItem:not(.echLegendItem--hidden) .echLegendItem__color--changable{cursor:pointer}.echLegendItem:hover .background{background-color:#19222b}.echLegendItem .background{position:absolute;top:0;right:0;bottom:0;left:0;z-index:-1}.echLegendItem__action{cursor:pointer;display:flex;justify-content:center;align-items:center;max-width:calc(18.000003px + 8px)}.echLegendItem__action .euiPopover,.echLegendItem__action .euiPopover__anchor,.echLegendItem__action .euiPopover__anchor>*:first-child{height:100%;width:100%}.echLegendItem__color{display:flex;line-height:1.5;align-items:center}.echLegendItem__label{font-size:12.000002px;font-size:0.857143rem;line-height:1.5;max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;flex:1 1 auto;text-align:left;vertical-align:baseline;letter-spacing:unset;align-items:center}.echLegendItem__label--clickable:hover{cursor:pointer;text-decoration:underline}.echLegendItem__extra{font-size:12.000002px;font-size:0.857143rem;line-height:1.5;text-align:right;flex:0 0 auto;margin-left:4px;font-feature-settings:"tnum";letter-spacing:unset}.echLegendItem--vertical{padding-top:2px;padding-bottom:2px}.echLegendItem--vertical:first-of-type{margin-top:2px}.echLegendItem--vertical .background{margin-top:2px;margin-bottom:2px}.echLegendItem--hidden{color:#959ba2}.echReactiveChart_noResults{display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:12.000002px;font-size:0.857143rem;line-height:1.5;color:#959ba2}.echHighlighter{position:absolute;pointer-events:none;top:0;bottom:0;left:0;right:0;width:100%;height:100%}.echHighlighterOverlay__fill{fill:rgba(227,229,233,.2)}.echHighlighterOverlay__stroke{stroke:rgba(227,229,233,.2)}.echHighlighter__mask{fill:rgba(15,23,31,.5)}.echCrosshair,.echCrosshair__cursor,.echCrosshair__crossLine{position:absolute;top:0;left:0;pointer-events:none}.echScreenReaderOnly{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}.echScreenReaderOnlyDebug{left:0 !important;top:0 !important;right:0 !important;bottom:0 !important;width:100% !important;height:100% !important;overflow:auto !important;background:rgba(255,255,255,.8)}.echScreenReaderOnlyDebug table,.echScreenReaderOnlyDebug td,.echScreenReaderOnlyDebug th{border:1px solid #000;font-size:12px}.echScreenReaderTable{overflow-x:auto;text-align:left}.echAnnotation{position:absolute;user-select:none;font-size:12.000002px;font-weight:500}.echAnnotation__tooltip{box-shadow:0 12px 24px 0 rgba(2,2,14,.1),0 6px 12px 0 rgba(2,2,14,.1),0 4px 4px 0 rgba(2,2,14,.1),0 2px 2px 0 rgba(2,2,14,.1);border-radius:4px;background-color:#19222b;color:#e3e5e9;z-index:9000;max-width:256px;overflow-wrap:break-word;font-size:14px;font-size:1rem;line-height:1.5;padding:12px;font-size:12.000002px;font-size:0.857143rem;line-height:1.5;padding:0;transition:opacity 250ms;pointer-events:none;user-select:none;max-width:256px}.echAnnotation__header{font-weight:500;border-bottom:solid 1px #34343e;padding-bottom:4px;margin-bottom:4px;padding:4px 8px}.echAnnotation__details{padding:4px 8px}.echAnnotation__icon{position:relative}.echAnnotation__body{white-space:nowrap}.echCanvasRenderer{position:absolute;top:0;left:0;padding:0;margin:0;border:0;background:rgba(0,0,0,0)}.echChartStatus{visibility:hidden;pointer-events:none;z-index:-100000;width:0;height:0;position:absolute}.echChartBackground{position:absolute;top:0;bottom:0;left:0;right:0}.echChart{position:relative;display:flex;height:100%}.echChart--column{flex-direction:column}.echContainer{flex:1;position:relative}.echChartPointerContainer{position:absolute;top:0;bottom:0;right:0;left:0;box-sizing:border-box;user-select:none}.echChartResizer{z-index:-10000000;position:absolute;bottom:0;top:0;left:0;right:0;box-sizing:border-box}.echBrushTool{position:absolute;top:0;left:0;margin:0;padding:0;box-sizing:border-box;overflow:hidden;pointer-events:none}.echTooltip{box-shadow:0 12px 24px 0 rgba(2,2,14,.1),0 6px 12px 0 rgba(2,2,14,.1),0 4px 4px 0 rgba(2,2,14,.1),0 2px 2px 0 rgba(2,2,14,.1);border-radius:4px;background-color:#19222b;color:#e3e5e9;z-index:9000;max-width:256px;overflow-wrap:break-word;font-size:14px;font-size:1rem;line-height:1.5;padding:12px;font-size:12.000002px;font-size:0.857143rem;line-height:1.5;padding:0;transition:opacity 250ms;pointer-events:none;user-select:none;max-width:256px}.echTooltip__list{padding:4px}.echTooltip__header{font-weight:500;border-bottom:solid 1px #34343e;padding-bottom:4px;margin-bottom:4px;margin-bottom:0;padding:4px 8px}.echTooltip__item{display:flex;min-width:1px}.echTooltip__item--container{display:flex;flex:1 1 auto;padding:3px;padding-left:0;min-width:1px}.echTooltip__item--backgroundColor{position:relative;width:4px;margin-right:3px;flex-shrink:0}.echTooltip__item--color{position:absolute;top:0;left:0;right:0;bottom:0}.echTooltip__label{overflow-wrap:break-word;word-wrap:break-word;min-width:1px;flex:1 1 auto}.echTooltip__value{font-weight:500;text-align:right;font-feature-settings:"tnum";margin-left:8px}.echTooltip__rowHighlighted{background-color:rgba(227,229,233,.1)}.echTooltip--hidden{opacity:0}[id^=echTooltipPortal]{pointer-events:none}[id^=echAnchor]{position:absolute;pointer-events:none}.echTooltipPortal__invisible{position:fixed;visibility:hidden;width:0;height:0}.echIcon{flex-shrink:0;display:inline-block;vertical-align:middle;fill:currentColor}.echIcon svg{transform:translate(0, 0)}.echIcon:focus{opacity:1;background:#013652}.echLegend .echLegendList{display:grid;grid-template-columns:minmax(0, 1fr)}.echLegend--horizontal .echLegendList{grid-column-gap:24px;grid-row-gap:8px;margin-top:8px;margin-bottom:8px}.echLegend--top,.echLegend--left{order:0}.echLegend--bottom,.echLegend--right{order:1}.echLegend--debug{background:rgba(238,130,238,.2);position:relative}.echLegend .echLegendListContainer{scrollbar-width:thin;height:100%;overflow-y:auto;overflow-x:hidden;mask-image:linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);contain:paint;width:100%;overflow-y:auto;overflow-x:hidden}.echLegend .echLegendListContainer::-webkit-scrollbar{width:16px;height:16px}.echLegend .echLegendListContainer::-webkit-scrollbar-thumb{background-color:rgba(149,155,162,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.echLegend .echLegendListContainer::-webkit-scrollbar-corner,.echLegend .echLegendListContainer::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.echLegend .echLegendListContainer:focus{outline:none}.echLegend .echLegendListContainer[tabindex="0"]:focus:focus-visible{outline-style:auto}.echLegend .echLegendListContainer :focus{animation:350ms cubic-bezier(0.694, 0.0482, 0.335, 1) 1 normal forwards focusRingAnimate !important;background-color:#013652;border-radius:2px}.echLegendItem{color:#959ba2;display:flex;flex-wrap:nowrap;justify-content:space-between;align-items:center;position:relative}.echLegendItem>*:not(.background){height:18.000003px;margin-left:4px}.echLegendItem>*:not(.background):last-child:not(.echLegendItem__extra){margin-right:4px}.echLegendItem:not(.echLegendItem--hidden) .echLegendItem__color--changable{cursor:pointer}.echLegendItem:hover .background{background-color:#19222b}.echLegendItem .background{position:absolute;top:0;right:0;bottom:0;left:0;z-index:-1}.echLegendItem__action{cursor:pointer;display:flex;justify-content:center;align-items:center;max-width:calc(18.000003px + 8px)}.echLegendItem__action .euiPopover,.echLegendItem__action .euiPopover__anchor,.echLegendItem__action .euiPopover__anchor>*:first-child{height:100%;width:100%}.echLegendItem__color{display:flex;line-height:1.5;align-items:center}.echLegendItem__label{font-size:12.000002px;font-size:0.857143rem;line-height:1.5;max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;flex:1 1 auto;text-align:left;vertical-align:baseline;letter-spacing:unset;align-items:center}.echLegendItem__label--clickable:hover{cursor:pointer;text-decoration:underline}.echLegendItem__extra{font-size:12.000002px;font-size:0.857143rem;line-height:1.5;text-align:right;flex:0 0 auto;margin-left:4px;font-feature-settings:"tnum";letter-spacing:unset}.echLegendItem--vertical{padding-top:2px;padding-bottom:2px}.echLegendItem--vertical:first-of-type{margin-top:2px}.echLegendItem--vertical .background{margin-top:2px;margin-bottom:2px}.echLegendItem--hidden{color:#959ba2}.echReactiveChart_noResults{display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:12.000002px;font-size:0.857143rem;line-height:1.5;color:#959ba2}.echHighlighter{position:absolute;pointer-events:none;top:0;bottom:0;left:0;right:0;width:100%;height:100%}.echHighlighterOverlay__fill{fill:rgba(227,229,233,.2)}.echHighlighterOverlay__stroke{stroke:rgba(227,229,233,.2)}.echHighlighter__mask{fill:rgba(15,23,31,.5)}.echCrosshair,.echCrosshair__cursor,.echCrosshair__crossLine{position:absolute;top:0;left:0;pointer-events:none}.echScreenReaderOnly{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}.echScreenReaderOnlyDebug{left:0 !important;top:0 !important;right:0 !important;bottom:0 !important;width:100% !important;height:100% !important;overflow:auto !important;background:rgba(255,255,255,.8)}.echScreenReaderOnlyDebug table,.echScreenReaderOnlyDebug td,.echScreenReaderOnlyDebug th{border:1px solid #000;font-size:12px}.echScreenReaderTable{overflow-x:auto;text-align:left}.echAnnotation{position:absolute;user-select:none;font-size:12.000002px;font-weight:500}.echAnnotation__tooltip{box-shadow:0 12px 24px 0 rgba(2,2,14,.1),0 6px 12px 0 rgba(2,2,14,.1),0 4px 4px 0 rgba(2,2,14,.1),0 2px 2px 0 rgba(2,2,14,.1);border-radius:4px;background-color:#19222b;color:#e3e5e9;z-index:9000;max-width:256px;overflow-wrap:break-word;font-size:14px;font-size:1rem;line-height:1.5;padding:12px;font-size:12.000002px;font-size:0.857143rem;line-height:1.5;padding:0;transition:opacity 250ms;pointer-events:none;user-select:none;max-width:256px}.echAnnotation__header{font-weight:500;border-bottom:solid 1px #34343e;padding-bottom:4px;margin-bottom:4px;padding:4px 8px}.echAnnotation__details{padding:4px 8px}.echAnnotation__icon{position:relative}.echAnnotation__body{white-space:nowrap}.echCanvasRenderer{position:absolute;top:0;left:0;padding:0;margin:0;border:0;background:rgba(0,0,0,0)}.application>*,.app-container>*{position:relative}.application{position:relative;z-index:0;display:flex;flex:1 0 auto;flex-direction:column}.application>*{flex-shrink:0}:focus:not([class^=eui]):not(.osd-resetFocusState){animation:350ms cubic-bezier(0.694, 0.0482, 0.335, 1) 1 normal forwards focusRingAnimate !important}.euiComboBox input:not([class^=eui]):focus{animation:none !important}.euiBody--collapsibleNavIsDocked .euiBottomBar{margin-left:320px}.euiButtonIcon.euiButtonIcon--auto{height:auto;width:auto}.eui-yScrollWithShadows,.eui-xScrollWithShadows,.euiYScrollWithShadows,.euiDataGrid__controlScroll,.euiDataGridColumnSelector__columnList,.euiDataGridColumnSorting__fieldList,.euiFlyoutBody .euiFlyoutBody__overflow,.euiFlyoutBody .euiFlyoutBody__overflow.euiFlyoutBody__overflow--hasBanner,.euiModalBody .euiModalBody__overflow,.euiSelectableList__list,.echLegend .echLegendListContainer,.osdQueryBar__textarea:not(:focus):not(:invalid),.osdSavedQueryManagement__list,.dscCanvas,.vbConfig,.vbSidenav__style{contain:paint}.coreSystemRootDomElement .ace-tm{background-color:#19222b;color:#959ba2;font-family:var(--font-code)}.coreSystemRootDomElement .ace-tm .ace_scrollbar{scrollbar-width:thin}.coreSystemRootDomElement .ace-tm .ace_scrollbar::-webkit-scrollbar{width:16px;height:16px}.coreSystemRootDomElement .ace-tm .ace_scrollbar::-webkit-scrollbar-thumb{background-color:rgba(149,155,162,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.coreSystemRootDomElement .ace-tm .ace_scrollbar::-webkit-scrollbar-corner,.coreSystemRootDomElement .ace-tm .ace_scrollbar::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.coreSystemRootDomElement .ace-tm .ace_gutter-active-line,.coreSystemRootDomElement .ace-tm .ace_marker-layer .ace_active-line{background-color:rgba(42,53,64,.7)}.coreSystemRootDomElement .ace-tm .ace_snippet-marker{width:100%;background-color:#2a3540;border:none}.coreSystemRootDomElement .ace-tm .ace_indent-guide{background:linear-gradient(to left, #5C666F 0%, #5C666F 1px, transparent 1px, transparent 100%)}.coreSystemRootDomElement .ace-tm .ace_search{z-index:1001}.coreSystemRootDomElement .ace-tm .ace_layer.ace_marker-layer{overflow:visible}.coreSystemRootDomElement .ace-tm .ace_warning{color:#cd5d56}.coreSystemRootDomElement .ace-tm .ace_method{color:#dd80b3}.coreSystemRootDomElement .ace-tm .ace_url,.coreSystemRootDomElement .ace-tm .ace_start_triple_quote,.coreSystemRootDomElement .ace-tm .ace_end_triple_quote{color:#20afa7}.coreSystemRootDomElement .ace-tm .ace_multi_string{color:#44b061;font-style:italic}.coreSystemRootDomElement .ace-tm .ace_gutter{background-color:#0f171f;color:#959ba2;border-left:1px solid #2a3540}.coreSystemRootDomElement .ace-tm .ace_print-margin{width:1px;background:#2a3540}.coreSystemRootDomElement .ace-tm .ace_fold{background-color:#6b72e6}.coreSystemRootDomElement .ace-tm .ace_cursor{color:#fcfeff}.coreSystemRootDomElement .ace-tm .ace_invisible{color:#2a3540}.coreSystemRootDomElement .ace-tm .ace_storage,.coreSystemRootDomElement .ace-tm .ace_keyword{color:#62a7c2}.coreSystemRootDomElement .ace-tm .ace_constant{color:#c88f92}.coreSystemRootDomElement .ace-tm .ace_constant.ace_buildin{color:#9890f3}.coreSystemRootDomElement .ace-tm .ace_constant.ace_language{color:#9094f3}.coreSystemRootDomElement .ace-tm .ace_constant.ace_library{color:#44b061}.coreSystemRootDomElement .ace-tm .ace_invalid{background-color:euiCallOutColor("danger", "background");color:euiCallOutColor("danger", "foreground")}.coreSystemRootDomElement .ace-tm .ace_support.ace_function{color:#969fb2}.coreSystemRootDomElement .ace-tm .ace_support.ace_constant{color:#44b061}.coreSystemRootDomElement .ace-tm .ace_support.ace_type,.coreSystemRootDomElement .ace-tm .ace_support.ace_class{color:#9199e0}.coreSystemRootDomElement .ace-tm .ace_keyword.ace_operator{color:#999fa6}.coreSystemRootDomElement .ace-tm .ace_string{color:#44b061}.coreSystemRootDomElement .ace-tm .ace_comment{color:#7fa795}.coreSystemRootDomElement .ace-tm .ace_comment.ace_doc{color:#62a7c2}.coreSystemRootDomElement .ace-tm .ace_comment.ace_doc.ace_tag{color:#969ca4}.coreSystemRootDomElement .ace-tm .ace_constant.ace_numeric{color:#62a7c2}.coreSystemRootDomElement .ace-tm .ace_variable{color:#62a7c2}.coreSystemRootDomElement .ace-tm .ace_xml-pe{color:#999fa6}.coreSystemRootDomElement .ace-tm .ace_entity.ace_name.ace_function{color:#9697d0}.coreSystemRootDomElement .ace-tm .ace_heading{color:#9292f3}.coreSystemRootDomElement .ace-tm .ace_list{color:#d083c1}.coreSystemRootDomElement .ace-tm .ace_meta.ace_tag{color:#929bc9}.coreSystemRootDomElement .ace-tm .ace_string.ace_regex{color:#f07b7e}.coreSystemRootDomElement .ace-tm .ace_marker-layer .ace_selection{background:#012f49}.coreSystemRootDomElement .ace-tm.ace_multiselect .ace_selection.ace_start{box-shadow:0 0 3px 0 #0f171f}.coreSystemRootDomElement .ace-tm .ace_marker-layer .ace_step{background:#322413}.coreSystemRootDomElement .ace-tm .ace_marker-layer .ace_stack{background:#051e23}.coreSystemRootDomElement .ace-tm .ace_marker-layer .ace_bracket{margin:-1px 0 0 -1px;border:1px solid #2a3540}.coreSystemRootDomElement .ace-tm .ace_marker-layer .ace_selected-word{background:#19222b;border:1px solid #2a3540}.coreSystemRootDomElement .ace-tm.ace_editor.ace_autocomplete{background-color:#19222b;color:#999fa6}.coreSystemRootDomElement .ace-tm.ace_editor.ace_autocomplete .ace_completion-highlight{color:#20afa7}.coreSystemRootDomElement .ace-tm.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line{background-color:rgba(42,53,64,.7)}.coreSystemRootDomElement .ace-tm .ace_rightAlignedText{color:#62a7c2}.coreSystemRootDomElement .ace-tm .ace_tooltip{background-color:#2a3540;color:#959ba2}\n',""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(226);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,'/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n/*!\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the "License"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n.coreSystemRootDomElement{overflow-x:hidden;min-width:100%;min-height:100%}:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed{padding-top:49px}:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiFlyout,:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiCollapsibleNav{top:49px;height:calc(100% - 49px)}@media only screen and (min-width: 768px)and (max-width: 991px){:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 49px);top:49px}}@media only screen and (min-width: 992px)and (max-width: 1199px){:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 49px);top:49px}}@media only screen and (min-width: 1200px)and (max-width: 1679px){:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 49px);top:49px}}@media only screen and (min-width: 1680px)and (max-width: 1919px){:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 49px);top:49px}}@media only screen and (min-width: 1920px){:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 49px);top:49px}}:not(.headerIsExpanded):not(.headerIsDense).euiBody--headerIsFixed .euiOverlayMask--belowHeader{top:49px}.headerIsExpanded.euiBody--headerIsFixed{padding-top:98px}.headerIsExpanded.euiBody--headerIsFixed .euiFlyout,.headerIsExpanded.euiBody--headerIsFixed .euiCollapsibleNav{top:98px;height:calc(100% - 98px)}@media only screen and (min-width: 768px)and (max-width: 991px){.headerIsExpanded.euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 98px);top:98px}}@media only screen and (min-width: 992px)and (max-width: 1199px){.headerIsExpanded.euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 98px);top:98px}}@media only screen and (min-width: 1200px)and (max-width: 1679px){.headerIsExpanded.euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 98px);top:98px}}@media only screen and (min-width: 1680px)and (max-width: 1919px){.headerIsExpanded.euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 98px);top:98px}}@media only screen and (min-width: 1920px){.headerIsExpanded.euiBody--headerIsFixed .euiPageSideBar--sticky{max-height:calc(100vh - 98px);top:98px}}.headerIsExpanded.euiBody--headerIsFixed .euiOverlayMask--belowHeader{top:98px}.headerGlobalNav .euiHeaderSectionItem:empty{min-width:0}.chrHeaderHelpMenu__version{text-transform:none}.chrHeaderBadge__wrapper{align-self:center;margin-right:16px}.euiBody--collapsibleNavIsDocked .header__toggleNavButtonSection{display:none}.osdLoadingIndicator-hidden{visibility:hidden;animation-play-state:paused}.osdGlobalBannerList{padding:16px}.osdGlobalBannerList__item+.osdGlobalBannerList__item{margin-top:8px}.osdOverlayMountWrapper{display:flex;flex-direction:column;height:100%}#opensearch-dashboards-body{min-height:100%}.app-wrapper{display:flex;flex-flow:column nowrap;margin:0 auto;min-height:calc(100vh - 49px)}.headerIsExpanded .app-wrapper{min-height:calc(100vh - 98px)}.app-wrapper.hidden-chrome{min-height:100vh}.app-wrapper-panel{display:flex;flex:1 0 auto;flex-direction:column}.app-wrapper-panel>*{flex-shrink:0}.echChartStatus{visibility:hidden;pointer-events:none;z-index:-100000;width:0;height:0;position:absolute}.echChartBackground{position:absolute;top:0;bottom:0;left:0;right:0}.echChart{position:relative;display:flex;height:100%}.echChart--column{flex-direction:column}.echContainer{flex:1;position:relative}.echChartPointerContainer{position:absolute;top:0;bottom:0;right:0;left:0;box-sizing:border-box;user-select:none}.echChartResizer{z-index:-10000000;position:absolute;bottom:0;top:0;left:0;right:0;box-sizing:border-box}.echBrushTool{position:absolute;top:0;left:0;margin:0;padding:0;box-sizing:border-box;overflow:hidden;pointer-events:none}.echTooltip{box-shadow:0 12px 24px 0 rgba(2,2,14,.1),0 6px 12px 0 rgba(2,2,14,.1),0 4px 4px 0 rgba(2,2,14,.1),0 2px 2px 0 rgba(2,2,14,.1);border-radius:4px;background-color:#2a3947;color:#fcfeff;z-index:9000;max-width:256px;overflow-wrap:break-word;font-size:14px;font-size:1rem;line-height:1.5;padding:12px;font-size:12.000002px;font-size:0.857143rem;line-height:1.5;padding:0;transition:opacity 250ms;pointer-events:none;user-select:none;max-width:256px}.echTooltip__list{padding:4px}.echTooltip__header{font-weight:500;border-bottom:solid 1px #5f656a;padding-bottom:4px;margin-bottom:4px;margin-bottom:0;padding:4px 8px}.echTooltip__item{display:flex;min-width:1px}.echTooltip__item--container{display:flex;flex:1 1 auto;padding:3px;padding-left:0;min-width:1px}.echTooltip__item--backgroundColor{position:relative;width:4px;margin-right:3px;flex-shrink:0}.echTooltip__item--color{position:absolute;top:0;left:0;right:0;bottom:0}.echTooltip__label{overflow-wrap:break-word;word-wrap:break-word;min-width:1px;flex:1 1 auto}.echTooltip__value{font-weight:500;text-align:right;font-feature-settings:"tnum";margin-left:8px}.echTooltip__rowHighlighted{background-color:rgba(252,254,255,.1)}.echTooltip--hidden{opacity:0}[id^=echTooltipPortal]{pointer-events:none}[id^=echAnchor]{position:absolute;pointer-events:none}.echTooltipPortal__invisible{position:fixed;visibility:hidden;width:0;height:0}.echIcon{flex-shrink:0;display:inline-block;vertical-align:middle;fill:currentColor}.echIcon svg{transform:translate(0, 0)}.echIcon:focus{opacity:1;background:#e3eff8}.echLegend .echLegendList{display:grid;grid-template-columns:minmax(0, 1fr)}.echLegend--horizontal .echLegendList{grid-column-gap:24px;grid-row-gap:8px;margin-top:8px;margin-bottom:8px}.echLegend--top,.echLegend--left{order:0}.echLegend--bottom,.echLegend--right{order:1}.echLegend--debug{background:rgba(238,130,238,.2);position:relative}.echLegend .echLegendListContainer{scrollbar-width:thin;height:100%;overflow-y:auto;overflow-x:hidden;mask-image:linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);contain:paint;width:100%;overflow-y:auto;overflow-x:hidden}.echLegend .echLegendListContainer::-webkit-scrollbar{width:16px;height:16px}.echLegend .echLegendListContainer::-webkit-scrollbar-thumb{background-color:rgba(90,104,117,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.echLegend .echLegendListContainer::-webkit-scrollbar-corner,.echLegend .echLegendListContainer::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.echLegend .echLegendListContainer:focus{outline:none}.echLegend .echLegendListContainer[tabindex="0"]:focus:focus-visible{outline-style:auto}.echLegend .echLegendListContainer :focus{animation:350ms cubic-bezier(0.694, 0.0482, 0.335, 1) 1 normal forwards focusRingAnimate !important;background-color:#e3eff8;border-radius:2px}.echLegendItem{color:#2a3947;display:flex;flex-wrap:nowrap;justify-content:space-between;align-items:center;position:relative}.echLegendItem>*:not(.background){height:18.000003px;margin-left:4px}.echLegendItem>*:not(.background):last-child:not(.echLegendItem__extra){margin-right:4px}.echLegendItem:not(.echLegendItem--hidden) .echLegendItem__color--changable{cursor:pointer}.echLegendItem:hover .background{background-color:#e3e5e8}.echLegendItem .background{position:absolute;top:0;right:0;bottom:0;left:0;z-index:-1}.echLegendItem__action{cursor:pointer;display:flex;justify-content:center;align-items:center;max-width:calc(18.000003px + 8px)}.echLegendItem__action .euiPopover,.echLegendItem__action .euiPopover__anchor,.echLegendItem__action .euiPopover__anchor>*:first-child{height:100%;width:100%}.echLegendItem__color{display:flex;line-height:1.5;align-items:center}.echLegendItem__label{font-size:12.000002px;font-size:0.857143rem;line-height:1.5;max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;flex:1 1 auto;text-align:left;vertical-align:baseline;letter-spacing:unset;align-items:center}.echLegendItem__label--clickable:hover{cursor:pointer;text-decoration:underline}.echLegendItem__extra{font-size:12.000002px;font-size:0.857143rem;line-height:1.5;text-align:right;flex:0 0 auto;margin-left:4px;font-feature-settings:"tnum";letter-spacing:unset}.echLegendItem--vertical{padding-top:2px;padding-bottom:2px}.echLegendItem--vertical:first-of-type{margin-top:2px}.echLegendItem--vertical .background{margin-top:2px;margin-bottom:2px}.echLegendItem--hidden{color:#5a6875}.echReactiveChart_noResults{display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:12.000002px;font-size:0.857143rem;line-height:1.5;color:#5a6875}.echHighlighter{position:absolute;pointer-events:none;top:0;bottom:0;left:0;right:0;width:100%;height:100%}.echHighlighterOverlay__fill{fill:rgba(252,254,255,.2)}.echHighlighterOverlay__stroke{stroke:rgba(252,254,255,.2)}.echHighlighter__mask{fill:rgba(252,254,255,.5)}.echCrosshair,.echCrosshair__cursor,.echCrosshair__crossLine{position:absolute;top:0;left:0;pointer-events:none}.echScreenReaderOnly{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}.echScreenReaderOnlyDebug{left:0 !important;top:0 !important;right:0 !important;bottom:0 !important;width:100% !important;height:100% !important;overflow:auto !important;background:rgba(255,255,255,.8)}.echScreenReaderOnlyDebug table,.echScreenReaderOnlyDebug td,.echScreenReaderOnlyDebug th{border:1px solid #000;font-size:12px}.echScreenReaderTable{overflow-x:auto;text-align:left}.echAnnotation{position:absolute;user-select:none;font-size:12.000002px;font-weight:500}.echAnnotation__tooltip{box-shadow:0 12px 24px 0 rgba(2,2,14,.1),0 6px 12px 0 rgba(2,2,14,.1),0 4px 4px 0 rgba(2,2,14,.1),0 2px 2px 0 rgba(2,2,14,.1);border-radius:4px;background-color:#2a3947;color:#fcfeff;z-index:9000;max-width:256px;overflow-wrap:break-word;font-size:14px;font-size:1rem;line-height:1.5;padding:12px;font-size:12.000002px;font-size:0.857143rem;line-height:1.5;padding:0;transition:opacity 250ms;pointer-events:none;user-select:none;max-width:256px}.echAnnotation__header{font-weight:500;border-bottom:solid 1px #5f656a;padding-bottom:4px;margin-bottom:4px;padding:4px 8px}.echAnnotation__details{padding:4px 8px}.echAnnotation__icon{position:relative}.echAnnotation__body{white-space:nowrap}.echCanvasRenderer{position:absolute;top:0;left:0;padding:0;margin:0;border:0;background:rgba(0,0,0,0)}.echChartStatus{visibility:hidden;pointer-events:none;z-index:-100000;width:0;height:0;position:absolute}.echChartBackground{position:absolute;top:0;bottom:0;left:0;right:0}.echChart{position:relative;display:flex;height:100%}.echChart--column{flex-direction:column}.echContainer{flex:1;position:relative}.echChartPointerContainer{position:absolute;top:0;bottom:0;right:0;left:0;box-sizing:border-box;user-select:none}.echChartResizer{z-index:-10000000;position:absolute;bottom:0;top:0;left:0;right:0;box-sizing:border-box}.echBrushTool{position:absolute;top:0;left:0;margin:0;padding:0;box-sizing:border-box;overflow:hidden;pointer-events:none}.echTooltip{box-shadow:0 12px 24px 0 rgba(2,2,14,.1),0 6px 12px 0 rgba(2,2,14,.1),0 4px 4px 0 rgba(2,2,14,.1),0 2px 2px 0 rgba(2,2,14,.1);border-radius:4px;background-color:#2a3947;color:#fcfeff;z-index:9000;max-width:256px;overflow-wrap:break-word;font-size:14px;font-size:1rem;line-height:1.5;padding:12px;font-size:12.000002px;font-size:0.857143rem;line-height:1.5;padding:0;transition:opacity 250ms;pointer-events:none;user-select:none;max-width:256px}.echTooltip__list{padding:4px}.echTooltip__header{font-weight:500;border-bottom:solid 1px #5f656a;padding-bottom:4px;margin-bottom:4px;margin-bottom:0;padding:4px 8px}.echTooltip__item{display:flex;min-width:1px}.echTooltip__item--container{display:flex;flex:1 1 auto;padding:3px;padding-left:0;min-width:1px}.echTooltip__item--backgroundColor{position:relative;width:4px;margin-right:3px;flex-shrink:0}.echTooltip__item--color{position:absolute;top:0;left:0;right:0;bottom:0}.echTooltip__label{overflow-wrap:break-word;word-wrap:break-word;min-width:1px;flex:1 1 auto}.echTooltip__value{font-weight:500;text-align:right;font-feature-settings:"tnum";margin-left:8px}.echTooltip__rowHighlighted{background-color:rgba(252,254,255,.1)}.echTooltip--hidden{opacity:0}[id^=echTooltipPortal]{pointer-events:none}[id^=echAnchor]{position:absolute;pointer-events:none}.echTooltipPortal__invisible{position:fixed;visibility:hidden;width:0;height:0}.echIcon{flex-shrink:0;display:inline-block;vertical-align:middle;fill:currentColor}.echIcon svg{transform:translate(0, 0)}.echIcon:focus{opacity:1;background:#e3eff8}.echLegend .echLegendList{display:grid;grid-template-columns:minmax(0, 1fr)}.echLegend--horizontal .echLegendList{grid-column-gap:24px;grid-row-gap:8px;margin-top:8px;margin-bottom:8px}.echLegend--top,.echLegend--left{order:0}.echLegend--bottom,.echLegend--right{order:1}.echLegend--debug{background:rgba(238,130,238,.2);position:relative}.echLegend .echLegendListContainer{scrollbar-width:thin;height:100%;overflow-y:auto;overflow-x:hidden;mask-image:linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);contain:paint;width:100%;overflow-y:auto;overflow-x:hidden}.echLegend .echLegendListContainer::-webkit-scrollbar{width:16px;height:16px}.echLegend .echLegendListContainer::-webkit-scrollbar-thumb{background-color:rgba(90,104,117,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.echLegend .echLegendListContainer::-webkit-scrollbar-corner,.echLegend .echLegendListContainer::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.echLegend .echLegendListContainer:focus{outline:none}.echLegend .echLegendListContainer[tabindex="0"]:focus:focus-visible{outline-style:auto}.echLegend .echLegendListContainer :focus{animation:350ms cubic-bezier(0.694, 0.0482, 0.335, 1) 1 normal forwards focusRingAnimate !important;background-color:#e3eff8;border-radius:2px}.echLegendItem{color:#2a3947;display:flex;flex-wrap:nowrap;justify-content:space-between;align-items:center;position:relative}.echLegendItem>*:not(.background){height:18.000003px;margin-left:4px}.echLegendItem>*:not(.background):last-child:not(.echLegendItem__extra){margin-right:4px}.echLegendItem:not(.echLegendItem--hidden) .echLegendItem__color--changable{cursor:pointer}.echLegendItem:hover .background{background-color:#e3e5e8}.echLegendItem .background{position:absolute;top:0;right:0;bottom:0;left:0;z-index:-1}.echLegendItem__action{cursor:pointer;display:flex;justify-content:center;align-items:center;max-width:calc(18.000003px + 8px)}.echLegendItem__action .euiPopover,.echLegendItem__action .euiPopover__anchor,.echLegendItem__action .euiPopover__anchor>*:first-child{height:100%;width:100%}.echLegendItem__color{display:flex;line-height:1.5;align-items:center}.echLegendItem__label{font-size:12.000002px;font-size:0.857143rem;line-height:1.5;max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;flex:1 1 auto;text-align:left;vertical-align:baseline;letter-spacing:unset;align-items:center}.echLegendItem__label--clickable:hover{cursor:pointer;text-decoration:underline}.echLegendItem__extra{font-size:12.000002px;font-size:0.857143rem;line-height:1.5;text-align:right;flex:0 0 auto;margin-left:4px;font-feature-settings:"tnum";letter-spacing:unset}.echLegendItem--vertical{padding-top:2px;padding-bottom:2px}.echLegendItem--vertical:first-of-type{margin-top:2px}.echLegendItem--vertical .background{margin-top:2px;margin-bottom:2px}.echLegendItem--hidden{color:#5a6875}.echReactiveChart_noResults{display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:12.000002px;font-size:0.857143rem;line-height:1.5;color:#5a6875}.echHighlighter{position:absolute;pointer-events:none;top:0;bottom:0;left:0;right:0;width:100%;height:100%}.echHighlighterOverlay__fill{fill:rgba(252,254,255,.2)}.echHighlighterOverlay__stroke{stroke:rgba(252,254,255,.2)}.echHighlighter__mask{fill:rgba(252,254,255,.5)}.echCrosshair,.echCrosshair__cursor,.echCrosshair__crossLine{position:absolute;top:0;left:0;pointer-events:none}.echScreenReaderOnly{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}.echScreenReaderOnlyDebug{left:0 !important;top:0 !important;right:0 !important;bottom:0 !important;width:100% !important;height:100% !important;overflow:auto !important;background:rgba(255,255,255,.8)}.echScreenReaderOnlyDebug table,.echScreenReaderOnlyDebug td,.echScreenReaderOnlyDebug th{border:1px solid #000;font-size:12px}.echScreenReaderTable{overflow-x:auto;text-align:left}.echAnnotation{position:absolute;user-select:none;font-size:12.000002px;font-weight:500}.echAnnotation__tooltip{box-shadow:0 12px 24px 0 rgba(2,2,14,.1),0 6px 12px 0 rgba(2,2,14,.1),0 4px 4px 0 rgba(2,2,14,.1),0 2px 2px 0 rgba(2,2,14,.1);border-radius:4px;background-color:#2a3947;color:#fcfeff;z-index:9000;max-width:256px;overflow-wrap:break-word;font-size:14px;font-size:1rem;line-height:1.5;padding:12px;font-size:12.000002px;font-size:0.857143rem;line-height:1.5;padding:0;transition:opacity 250ms;pointer-events:none;user-select:none;max-width:256px}.echAnnotation__header{font-weight:500;border-bottom:solid 1px #5f656a;padding-bottom:4px;margin-bottom:4px;padding:4px 8px}.echAnnotation__details{padding:4px 8px}.echAnnotation__icon{position:relative}.echAnnotation__body{white-space:nowrap}.echCanvasRenderer{position:absolute;top:0;left:0;padding:0;margin:0;border:0;background:rgba(0,0,0,0)}.application>*,.app-container>*{position:relative}.application{position:relative;z-index:0;display:flex;flex:1 0 auto;flex-direction:column}.application>*{flex-shrink:0}:focus:not([class^=eui]):not(.osd-resetFocusState){animation:350ms cubic-bezier(0.694, 0.0482, 0.335, 1) 1 normal forwards focusRingAnimate !important}.euiComboBox input:not([class^=eui]):focus{animation:none !important}.euiBody--collapsibleNavIsDocked .euiBottomBar{margin-left:320px}.euiButtonIcon.euiButtonIcon--auto{height:auto;width:auto}.eui-yScrollWithShadows,.eui-xScrollWithShadows,.euiYScrollWithShadows,.euiDataGrid__controlScroll,.euiDataGridColumnSelector__columnList,.euiDataGridColumnSorting__fieldList,.euiFlyoutBody .euiFlyoutBody__overflow,.euiFlyoutBody .euiFlyoutBody__overflow.euiFlyoutBody__overflow--hasBanner,.euiModalBody .euiModalBody__overflow,.euiSelectableList__list,.echLegend .echLegendListContainer,.osdQueryBar__textarea:not(:focus):not(:invalid),.osdSavedQueryManagement__list,.dscCanvas,.vbConfig,.vbSidenav__style{contain:paint}.coreSystemRootDomElement .ace-tm{background-color:#e3e5e8;color:#2a3947;font-family:var(--font-code)}.coreSystemRootDomElement .ace-tm .ace_scrollbar{scrollbar-width:thin}.coreSystemRootDomElement .ace-tm .ace_scrollbar::-webkit-scrollbar{width:16px;height:16px}.coreSystemRootDomElement .ace-tm .ace_scrollbar::-webkit-scrollbar-thumb{background-color:rgba(90,104,117,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.coreSystemRootDomElement .ace-tm .ace_scrollbar::-webkit-scrollbar-corner,.coreSystemRootDomElement .ace-tm .ace_scrollbar::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.coreSystemRootDomElement .ace-tm .ace_gutter-active-line,.coreSystemRootDomElement .ace-tm .ace_marker-layer .ace_active-line{background-color:rgba(214,217,221,.7)}.coreSystemRootDomElement .ace-tm .ace_snippet-marker{width:100%;background-color:#e9ecee;border:none}.coreSystemRootDomElement .ace-tm .ace_indent-guide{background:linear-gradient(to left, #ADB4BA 0%, #ADB4BA 1px, transparent 1px, transparent 100%)}.coreSystemRootDomElement .ace-tm .ace_search{z-index:1001}.coreSystemRootDomElement .ace-tm .ace_layer.ace_marker-layer{overflow:visible}.coreSystemRootDomElement .ace-tm .ace_warning{color:#c43d35}.coreSystemRootDomElement .ace-tm .ace_method{color:#c80a69}.coreSystemRootDomElement .ace-tm .ace_url,.coreSystemRootDomElement .ace-tm .ace_start_triple_quote,.coreSystemRootDomElement .ace-tm .ace_end_triple_quote{color:#007571}.coreSystemRootDomElement .ace-tm .ace_multi_string{color:#007721;font-style:italic}.coreSystemRootDomElement .ace-tm .ace_gutter{background-color:#fcfeff;color:#5a6875;border-left:1px solid #e9ecee}.coreSystemRootDomElement .ace-tm .ace_print-margin{width:1px;background:#d6d9dd}.coreSystemRootDomElement .ace-tm .ace_fold{background-color:#6b72e6}.coreSystemRootDomElement .ace-tm .ace_cursor{color:#0a1219}.coreSystemRootDomElement .ace-tm .ace_invisible{color:#d6d9dd}.coreSystemRootDomElement .ace-tm .ace_storage,.coreSystemRootDomElement .ace-tm .ace_keyword{color:#006d96}.coreSystemRootDomElement .ace-tm .ace_constant{color:#900}.coreSystemRootDomElement .ace-tm .ace_constant.ace_buildin{color:#5848f6}.coreSystemRootDomElement .ace-tm .ace_constant.ace_language{color:#5054df}.coreSystemRootDomElement .ace-tm .ace_constant.ace_library{color:#007721}.coreSystemRootDomElement .ace-tm .ace_invalid{background-color:euiCallOutColor("danger", "background");color:euiCallOutColor("danger", "foreground")}.coreSystemRootDomElement .ace-tm .ace_support.ace_function{color:#3c4c72}.coreSystemRootDomElement .ace-tm .ace_support.ace_constant{color:#007721}.coreSystemRootDomElement .ace-tm .ace_support.ace_type,.coreSystemRootDomElement .ace-tm .ace_support.ace_class{color:#5963b8}.coreSystemRootDomElement .ace-tm .ace_keyword.ace_operator{color:#5a6875}.coreSystemRootDomElement .ace-tm .ace_string{color:#007721}.coreSystemRootDomElement .ace-tm .ace_comment{color:#3f6f5a}.coreSystemRootDomElement .ace-tm .ace_comment.ace_doc{color:#006d96}.coreSystemRootDomElement .ace-tm .ace_comment.ace_doc.ace_tag{color:#636770}.coreSystemRootDomElement .ace-tm .ace_constant.ace_numeric{color:#006d96}.coreSystemRootDomElement .ace-tm .ace_variable{color:#006d96}.coreSystemRootDomElement .ace-tm .ace_xml-pe{color:#5a6875}.coreSystemRootDomElement .ace-tm .ace_entity.ace_name.ace_function{color:#0000a2}.coreSystemRootDomElement .ace-tm .ace_heading{color:#0c07ff}.coreSystemRootDomElement .ace-tm .ace_list{color:#b90690}.coreSystemRootDomElement .ace-tm .ace_meta.ace_tag{color:#00168e}.coreSystemRootDomElement .ace-tm .ace_string.ace_regex{color:#d00004}.coreSystemRootDomElement .ace-tm .ace_marker-layer .ace_selection{background:#b1d1eb}.coreSystemRootDomElement .ace-tm.ace_multiselect .ace_selection.ace_start{box-shadow:0 0 3px 0 #fcfeff}.coreSystemRootDomElement .ace-tm .ace_marker-layer .ace_step{background:#f6ebd6}.coreSystemRootDomElement .ace-tm .ace_marker-layer .ace_stack{background:#cde4e1}.coreSystemRootDomElement .ace-tm .ace_marker-layer .ace_bracket{margin:-1px 0 0 -1px;border:1px solid #d6d9dd}.coreSystemRootDomElement .ace-tm .ace_marker-layer .ace_selected-word{background:#e3e5e8;border:1px solid #d6d9dd}.coreSystemRootDomElement .ace-tm.ace_editor.ace_autocomplete{background-color:#e3e5e8;color:#2a3947}.coreSystemRootDomElement .ace-tm.ace_editor.ace_autocomplete .ace_completion-highlight{color:#007571}.coreSystemRootDomElement .ace-tm.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line{background-color:rgba(214,217,221,.7)}.coreSystemRootDomElement .ace-tm .ace_rightAlignedText{color:#006d96}.coreSystemRootDomElement .ace-tm .ace_tooltip{background-color:#e9ecee;color:#2a3947}\n',""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var _typeof=__webpack_require__(148)["default"];var toPrimitive=__webpack_require__(228);function _toPropertyKey(arg){var key=toPrimitive(arg,"string");return _typeof(key)==="symbol"?key:String(key)}module.exports=_toPropertyKey,module.exports.__esModule=true,module.exports["default"]=module.exports},function(module,exports,__webpack_require__){var _typeof=__webpack_require__(148)["default"];function _toPrimitive(input,hint){if(_typeof(input)!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(_typeof(res)!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}module.exports=_toPrimitive,module.exports.__esModule=true,module.exports["default"]=module.exports},function(module,exports,__webpack_require__){(function(module,global){var __WEBPACK_AMD_DEFINE_RESULT__;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(root){var freeExports=true&&exports&&!exports.nodeType&&exports;var freeModule=true&&module&&!module.nodeType&&module;var freeGlobal=typeof global=="object"&&global;if(freeGlobal.global===freeGlobal||freeGlobal.window===freeGlobal||freeGlobal.self===freeGlobal){root=freeGlobal}var punycode,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode,key;function error(type){throw new RangeError(errors[type])}function map(array,fn){var length=array.length;var result=[];while(length--){result[length]=fn(array[length])}return result}function mapDomain(string,fn){var parts=string.split("@");var result="";if(parts.length>1){result=parts[0]+"@";string=parts[1]}string=string.replace(regexSeparators,".");var labels=string.split(".");var encoded=map(labels,fn).join(".");return result+encoded}function ucs2decode(string){var output=[],counter=0,length=string.length,value,extra;while(counter<length){value=string.charCodeAt(counter++);if(value>=55296&&value<=56319&&counter<length){extra=string.charCodeAt(counter++);if((extra&64512)==56320){output.push(((value&1023)<<10)+(extra&1023)+65536)}else{output.push(value);counter--}}else{output.push(value)}}return output}function ucs2encode(array){return map(array,(function(value){var output="";if(value>65535){value-=65536;output+=stringFromCharCode(value>>>10&1023|55296);value=56320|value&1023}output+=stringFromCharCode(value);return output})).join("")}function basicToDigit(codePoint){if(codePoint-48<10){return codePoint-22}if(codePoint-65<26){return codePoint-65}if(codePoint-97<26){return codePoint-97}return base}function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((flag!=0)<<5)}function adapt(delta,numPoints,firstTime){var k=0;delta=firstTime?floor(delta/damp):delta>>1;delta+=floor(delta/numPoints);for(;delta>baseMinusTMin*tMax>>1;k+=base){delta=floor(delta/baseMinusTMin)}return floor(k+(baseMinusTMin+1)*delta/(delta+skew))}function decode(input){var output=[],inputLength=input.length,out,i=0,n=initialN,bias=initialBias,basic,j,index,oldi,w,k,digit,t,baseMinusT;basic=input.lastIndexOf(delimiter);if(basic<0){basic=0}for(j=0;j<basic;++j){if(input.charCodeAt(j)>=128){error("not-basic")}output.push(input.charCodeAt(j))}for(index=basic>0?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=base;;k+=base){if(index>=inputLength){error("invalid-input")}digit=basicToDigit(input.charCodeAt(index++));if(digit>=base||digit>floor((maxInt-i)/w)){error("overflow")}i+=digit*w;t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias;if(digit<t){break}baseMinusT=base-t;if(w>floor(maxInt/baseMinusT)){error("overflow")}w*=baseMinusT}out=output.length+1;bias=adapt(i-oldi,out,oldi==0);if(floor(i/out)>maxInt-n){error("overflow")}n+=floor(i/out);i%=out;output.splice(i++,0,n)}return ucs2encode(output)}function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,output=[],inputLength,handledCPCountPlusOne,baseMinusT,qMinusT;input=ucs2decode(input);inputLength=input.length;n=initialN;delta=0;bias=initialBias;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<128){output.push(stringFromCharCode(currentValue))}}handledCPCount=basicLength=output.length;if(basicLength){output.push(delimiter)}while(handledCPCount<inputLength){for(m=maxInt,j=0;j<inputLength;++j){currentValue=input[j];if(currentValue>=n&&currentValue<m){m=currentValue}}handledCPCountPlusOne=handledCPCount+1;if(m-n>floor((maxInt-delta)/handledCPCountPlusOne)){error("overflow")}delta+=(m-n)*handledCPCountPlusOne;n=m;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<n&&++delta>maxInt){error("overflow")}if(currentValue==n){for(q=delta,k=base;;k+=base){t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias;if(q<t){break}qMinusT=q-t;baseMinusT=base-t;output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0)));q=floor(qMinusT/baseMinusT)}output.push(stringFromCharCode(digitToBasic(q,0)));bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength);delta=0;++handledCPCount}}++delta;++n}return output.join("")}function toUnicode(input){return mapDomain(input,(function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string}))}function toASCII(input){return mapDomain(input,(function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string}))}punycode={version:"1.4.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:toASCII,toUnicode:toUnicode};if(true){!(__WEBPACK_AMD_DEFINE_RESULT__=function(){return punycode}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}else{}})(this)}).call(this,__webpack_require__(62)(module),__webpack_require__(35))},function(module,exports,__webpack_require__){"use strict";var stringify=__webpack_require__(231);var parse=__webpack_require__(244);var formats=__webpack_require__(96);module.exports={formats:formats,parse:parse,stringify:stringify}},function(module,exports,__webpack_require__){"use strict";var getSideChannel=__webpack_require__(232);var utils=__webpack_require__(151);var formats=__webpack_require__(96);var has=Object.prototype.hasOwnProperty;var arrayPrefixGenerators={brackets:function brackets(prefix){return prefix+"[]"},comma:"comma",indices:function indices(prefix,key){return prefix+"["+key+"]"},repeat:function repeat(prefix){return prefix}};var isArray=Array.isArray;var split=String.prototype.split;var push=Array.prototype.push;var pushToArray=function(arr,valueOrArray){push.apply(arr,isArray(valueOrArray)?valueOrArray:[valueOrArray])};var toISO=Date.prototype.toISOString;var defaultFormat=formats["default"];var defaults={addQueryPrefix:false,allowDots:false,charset:"utf-8",charsetSentinel:false,delimiter:"&",encode:true,encoder:utils.encode,encodeValuesOnly:false,format:defaultFormat,formatter:formats.formatters[defaultFormat],indices:false,serializeDate:function serializeDate(date){return toISO.call(date)},skipNulls:false,strictNullHandling:false};var isNonNullishPrimitive=function isNonNullishPrimitive(v){return typeof v==="string"||typeof v==="number"||typeof v==="boolean"||typeof v==="symbol"||typeof v==="bigint"};var sentinel={};var stringify=function stringify(object,prefix,generateArrayPrefix,commaRoundTrip,strictNullHandling,skipNulls,encoder,filter,sort,allowDots,serializeDate,format,formatter,encodeValuesOnly,charset,sideChannel){var obj=object;var tmpSc=sideChannel;var step=0;var findFlag=false;while((tmpSc=tmpSc.get(sentinel))!==void undefined&&!findFlag){var pos=tmpSc.get(object);step+=1;if(typeof pos!=="undefined"){if(pos===step){throw new RangeError("Cyclic object value")}else{findFlag=true}}if(typeof tmpSc.get(sentinel)==="undefined"){step=0}}if(typeof filter==="function"){obj=filter(prefix,obj)}else if(obj instanceof Date){obj=serializeDate(obj)}else if(generateArrayPrefix==="comma"&&isArray(obj)){obj=utils.maybeMap(obj,(function(value){if(value instanceof Date){return serializeDate(value)}return value}))}if(obj===null){if(strictNullHandling){return encoder&&!encodeValuesOnly?encoder(prefix,defaults.encoder,charset,"key",format):prefix}obj=""}if(isNonNullishPrimitive(obj)||utils.isBuffer(obj)){if(encoder){var keyValue=encodeValuesOnly?prefix:encoder(prefix,defaults.encoder,charset,"key",format);if(generateArrayPrefix==="comma"&&encodeValuesOnly){var valuesArray=split.call(String(obj),",");var valuesJoined="";for(var i=0;i<valuesArray.length;++i){valuesJoined+=(i===0?"":",")+formatter(encoder(valuesArray[i],defaults.encoder,charset,"value",format))}return[formatter(keyValue)+(commaRoundTrip&&isArray(obj)&&valuesArray.length===1?"[]":"")+"="+valuesJoined]}return[formatter(keyValue)+"="+formatter(encoder(obj,defaults.encoder,charset,"value",format))]}return[formatter(prefix)+"="+formatter(String(obj))]}var values=[];if(typeof obj==="undefined"){return values}var objKeys;if(generateArrayPrefix==="comma"&&isArray(obj)){objKeys=[{value:obj.length>0?obj.join(",")||null:void undefined}]}else if(isArray(filter)){objKeys=filter}else{var keys=Object.keys(obj);objKeys=sort?keys.sort(sort):keys}var adjustedPrefix=commaRoundTrip&&isArray(obj)&&obj.length===1?prefix+"[]":prefix;for(var j=0;j<objKeys.length;++j){var key=objKeys[j];var value=typeof key==="object"&&typeof key.value!=="undefined"?key.value:obj[key];if(skipNulls&&value===null){continue}var keyPrefix=isArray(obj)?typeof generateArrayPrefix==="function"?generateArrayPrefix(adjustedPrefix,key):adjustedPrefix:adjustedPrefix+(allowDots?"."+key:"["+key+"]");sideChannel.set(object,step);var valueSideChannel=getSideChannel();valueSideChannel.set(sentinel,sideChannel);pushToArray(values,stringify(value,keyPrefix,generateArrayPrefix,commaRoundTrip,strictNullHandling,skipNulls,encoder,filter,sort,allowDots,serializeDate,format,formatter,encodeValuesOnly,charset,valueSideChannel))}return values};var normalizeStringifyOptions=function normalizeStringifyOptions(opts){if(!opts){return defaults}if(opts.encoder!==null&&typeof opts.encoder!=="undefined"&&typeof opts.encoder!=="function"){throw new TypeError("Encoder has to be a function.")}var charset=opts.charset||defaults.charset;if(typeof opts.charset!=="undefined"&&opts.charset!=="utf-8"&&opts.charset!=="iso-8859-1"){throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined")}var format=formats["default"];if(typeof opts.format!=="undefined"){if(!has.call(formats.formatters,opts.format)){throw new TypeError("Unknown format option provided.")}format=opts.format}var formatter=formats.formatters[format];var filter=defaults.filter;if(typeof opts.filter==="function"||isArray(opts.filter)){filter=opts.filter}return{addQueryPrefix:typeof opts.addQueryPrefix==="boolean"?opts.addQueryPrefix:defaults.addQueryPrefix,allowDots:typeof opts.allowDots==="undefined"?defaults.allowDots:!!opts.allowDots,charset:charset,charsetSentinel:typeof opts.charsetSentinel==="boolean"?opts.charsetSentinel:defaults.charsetSentinel,delimiter:typeof opts.delimiter==="undefined"?defaults.delimiter:opts.delimiter,encode:typeof opts.encode==="boolean"?opts.encode:defaults.encode,encoder:typeof opts.encoder==="function"?opts.encoder:defaults.encoder,encodeValuesOnly:typeof opts.encodeValuesOnly==="boolean"?opts.encodeValuesOnly:defaults.encodeValuesOnly,filter:filter,format:format,formatter:formatter,serializeDate:typeof opts.serializeDate==="function"?opts.serializeDate:defaults.serializeDate,skipNulls:typeof opts.skipNulls==="boolean"?opts.skipNulls:defaults.skipNulls,sort:typeof opts.sort==="function"?opts.sort:null,strictNullHandling:typeof opts.strictNullHandling==="boolean"?opts.strictNullHandling:defaults.strictNullHandling}};module.exports=function(object,opts){var obj=object;var options=normalizeStringifyOptions(opts);var objKeys;var filter;if(typeof options.filter==="function"){filter=options.filter;obj=filter("",obj)}else if(isArray(options.filter)){filter=options.filter;objKeys=filter}var keys=[];if(typeof obj!=="object"||obj===null){return""}var arrayFormat;if(opts&&opts.arrayFormat in arrayPrefixGenerators){arrayFormat=opts.arrayFormat}else if(opts&&"indices"in opts){arrayFormat=opts.indices?"indices":"repeat"}else{arrayFormat="indices"}var generateArrayPrefix=arrayPrefixGenerators[arrayFormat];if(opts&&"commaRoundTrip"in opts&&typeof opts.commaRoundTrip!=="boolean"){throw new TypeError("`commaRoundTrip` must be a boolean, or absent")}var commaRoundTrip=generateArrayPrefix==="comma"&&opts&&opts.commaRoundTrip;if(!objKeys){objKeys=Object.keys(obj)}if(options.sort){objKeys.sort(options.sort)}var sideChannel=getSideChannel();for(var i=0;i<objKeys.length;++i){var key=objKeys[i];if(options.skipNulls&&obj[key]===null){continue}pushToArray(keys,stringify(obj[key],key,generateArrayPrefix,commaRoundTrip,options.strictNullHandling,options.skipNulls,options.encode?options.encoder:null,options.filter,options.sort,options.allowDots,options.serializeDate,options.format,options.formatter,options.encodeValuesOnly,options.charset,sideChannel))}var joined=keys.join(options.delimiter);var prefix=options.addQueryPrefix===true?"?":"";if(options.charsetSentinel){if(options.charset==="iso-8859-1"){prefix+="utf8=%26%2310003%3B&"}else{prefix+="utf8=%E2%9C%93&"}}return joined.length>0?prefix+joined:""}},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(40);var callBound=__webpack_require__(238);var inspect=__webpack_require__(242);var $TypeError=GetIntrinsic("%TypeError%");var $WeakMap=GetIntrinsic("%WeakMap%",true);var $Map=GetIntrinsic("%Map%",true);var $weakMapGet=callBound("WeakMap.prototype.get",true);var $weakMapSet=callBound("WeakMap.prototype.set",true);var $weakMapHas=callBound("WeakMap.prototype.has",true);var $mapGet=callBound("Map.prototype.get",true);var $mapSet=callBound("Map.prototype.set",true);var $mapHas=callBound("Map.prototype.has",true);var listGetNode=function(list,key){for(var prev=list,curr;(curr=prev.next)!==null;prev=curr){if(curr.key===key){prev.next=curr.next;curr.next=list.next;list.next=curr;return curr}}};var listGet=function(objects,key){var node=listGetNode(objects,key);return node&&node.value};var listSet=function(objects,key,value){var node=listGetNode(objects,key);if(node){node.value=value}else{objects.next={key:key,next:objects.next,value:value}}};var listHas=function(objects,key){return!!listGetNode(objects,key)};module.exports=function getSideChannel(){var $wm;var $m;var $o;var channel={assert:function(key){if(!channel.has(key)){throw new $TypeError("Side channel does not contain "+inspect(key))}},get:function(key){if($WeakMap&&key&&(typeof key==="object"||typeof key==="function")){if($wm){return $weakMapGet($wm,key)}}else if($Map){if($m){return $mapGet($m,key)}}else{if($o){return listGet($o,key)}}},has:function(key){if($WeakMap&&key&&(typeof key==="object"||typeof key==="function")){if($wm){return $weakMapHas($wm,key)}}else if($Map){if($m){return $mapHas($m,key)}}else{if($o){return listHas($o,key)}}return false},set:function(key,value){if($WeakMap&&key&&(typeof key==="object"||typeof key==="function")){if(!$wm){$wm=new $WeakMap}$weakMapSet($wm,key,value)}else if($Map){if(!$m){$m=new $Map}$mapSet($m,key,value)}else{if(!$o){$o={key:{},next:null}}listSet($o,key,value)}}};return channel}},function(module,exports,__webpack_require__){"use strict";var origSymbol=typeof Symbol!=="undefined"&&Symbol;var hasSymbolSham=__webpack_require__(234);module.exports=function hasNativeSymbols(){if(typeof origSymbol!=="function"){return false}if(typeof Symbol!=="function"){return false}if(typeof origSymbol("foo")!=="symbol"){return false}if(typeof Symbol("bar")!=="symbol"){return false}return hasSymbolSham()}},function(module,exports,__webpack_require__){"use strict";module.exports=function hasSymbols(){if(typeof Symbol!=="function"||typeof Object.getOwnPropertySymbols!=="function"){return false}if(typeof Symbol.iterator==="symbol"){return true}var obj={};var sym=Symbol("test");var symObj=Object(sym);if(typeof sym==="string"){return false}if(Object.prototype.toString.call(sym)!=="[object Symbol]"){return false}if(Object.prototype.toString.call(symObj)!=="[object Symbol]"){return false}var symVal=42;obj[sym]=symVal;for(sym in obj){return false}if(typeof Object.keys==="function"&&Object.keys(obj).length!==0){return false}if(typeof Object.getOwnPropertyNames==="function"&&Object.getOwnPropertyNames(obj).length!==0){return false}var syms=Object.getOwnPropertySymbols(obj);if(syms.length!==1||syms[0]!==sym){return false}if(!Object.prototype.propertyIsEnumerable.call(obj,sym)){return false}if(typeof Object.getOwnPropertyDescriptor==="function"){var descriptor=Object.getOwnPropertyDescriptor(obj,sym);if(descriptor.value!==symVal||descriptor.enumerable!==true){return false}}return true}},function(module,exports,__webpack_require__){"use strict";var test={foo:{}};var $Object=Object;module.exports=function hasProto(){return{__proto__:test}.foo===test.foo&&!({__proto__:null}instanceof $Object)}},function(module,exports,__webpack_require__){"use strict";var ERROR_MESSAGE="Function.prototype.bind called on incompatible ";var toStr=Object.prototype.toString;var max=Math.max;var funcType="[object Function]";var concatty=function concatty(a,b){var arr=[];for(var i=0;i<a.length;i+=1){arr[i]=a[i]}for(var j=0;j<b.length;j+=1){arr[j+a.length]=b[j]}return arr};var slicy=function slicy(arrLike,offset){var arr=[];for(var i=offset||0,j=0;i<arrLike.length;i+=1,j+=1){arr[j]=arrLike[i]}return arr};var joiny=function(arr,joiner){var str="";for(var i=0;i<arr.length;i+=1){str+=arr[i];if(i+1<arr.length){str+=joiner}}return str};module.exports=function bind(that){var target=this;if(typeof target!=="function"||toStr.apply(target)!==funcType){throw new TypeError(ERROR_MESSAGE+target)}var args=slicy(arguments,1);var bound;var binder=function(){if(this instanceof bound){var result=target.apply(this,concatty(args,arguments));if(Object(result)===result){return result}return this}return target.apply(that,concatty(args,arguments))};var boundLength=max(0,target.length-args.length);var boundArgs=[];for(var i=0;i<boundLength;i++){boundArgs[i]="$"+i}bound=Function("binder","return function ("+joiny(boundArgs,",")+"){ return binder.apply(this,arguments); }")(binder);if(target.prototype){var Empty=function Empty(){};Empty.prototype=target.prototype;bound.prototype=new Empty;Empty.prototype=null}return bound}},function(module,exports,__webpack_require__){"use strict";var call=Function.prototype.call;var $hasOwn=Object.prototype.hasOwnProperty;var bind=__webpack_require__(95);module.exports=bind.call(call,$hasOwn)},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(40);var callBind=__webpack_require__(239);var $indexOf=callBind(GetIntrinsic("String.prototype.indexOf"));module.exports=function callBoundIntrinsic(name,allowMissing){var intrinsic=GetIntrinsic(name,!!allowMissing);if(typeof intrinsic==="function"&&$indexOf(name,".prototype.")>-1){return callBind(intrinsic)}return intrinsic}},function(module,exports,__webpack_require__){"use strict";var bind=__webpack_require__(95);var GetIntrinsic=__webpack_require__(40);var setFunctionLength=__webpack_require__(240);var $TypeError=GetIntrinsic("%TypeError%");var $apply=GetIntrinsic("%Function.prototype.apply%");var $call=GetIntrinsic("%Function.prototype.call%");var $reflectApply=GetIntrinsic("%Reflect.apply%",true)||bind.call($call,$apply);var $defineProperty=GetIntrinsic("%Object.defineProperty%",true);var $max=GetIntrinsic("%Math.max%");if($defineProperty){try{$defineProperty({},"a",{value:1})}catch(e){$defineProperty=null}}module.exports=function callBind(originalFunction){if(typeof originalFunction!=="function"){throw new $TypeError("a function is required")}var func=$reflectApply(bind,$call,arguments);return setFunctionLength(func,1+$max(0,originalFunction.length-(arguments.length-1)),true)};var applyBind=function applyBind(){return $reflectApply(bind,$apply,arguments)};if($defineProperty){$defineProperty(module.exports,"apply",{value:applyBind})}else{module.exports.apply=applyBind}},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(40);var define=__webpack_require__(241);var hasDescriptors=__webpack_require__(149)();var gOPD=__webpack_require__(150);var $TypeError=GetIntrinsic("%TypeError%");var $floor=GetIntrinsic("%Math.floor%");module.exports=function setFunctionLength(fn,length){if(typeof fn!=="function"){throw new $TypeError("`fn` is not a function")}if(typeof length!=="number"||length<0||length>4294967295||$floor(length)!==length){throw new $TypeError("`length` must be a positive 32-bit integer")}var loose=arguments.length>2&&!!arguments[2];var functionLengthIsConfigurable=true;var functionLengthIsWritable=true;if("length"in fn&&gOPD){var desc=gOPD(fn,"length");if(desc&&!desc.configurable){functionLengthIsConfigurable=false}if(desc&&!desc.writable){functionLengthIsWritable=false}}if(functionLengthIsConfigurable||functionLengthIsWritable||!loose){if(hasDescriptors){define(fn,"length",length,true,true)}else{define(fn,"length",length)}}return fn}},function(module,exports,__webpack_require__){"use strict";var hasPropertyDescriptors=__webpack_require__(149)();var GetIntrinsic=__webpack_require__(40);var $defineProperty=hasPropertyDescriptors&&GetIntrinsic("%Object.defineProperty%",true);if($defineProperty){try{$defineProperty({},"a",{value:1})}catch(e){$defineProperty=false}}var $SyntaxError=GetIntrinsic("%SyntaxError%");var $TypeError=GetIntrinsic("%TypeError%");var gopd=__webpack_require__(150);module.exports=function defineDataProperty(obj,property,value){if(!obj||typeof obj!=="object"&&typeof obj!=="function"){throw new $TypeError("`obj` must be an object or a function`")}if(typeof property!=="string"&&typeof property!=="symbol"){throw new $TypeError("`property` must be a string or a symbol`")}if(arguments.length>3&&typeof arguments[3]!=="boolean"&&arguments[3]!==null){throw new $TypeError("`nonEnumerable`, if provided, must be a boolean or null")}if(arguments.length>4&&typeof arguments[4]!=="boolean"&&arguments[4]!==null){throw new $TypeError("`nonWritable`, if provided, must be a boolean or null")}if(arguments.length>5&&typeof arguments[5]!=="boolean"&&arguments[5]!==null){throw new $TypeError("`nonConfigurable`, if provided, must be a boolean or null")}if(arguments.length>6&&typeof arguments[6]!=="boolean"){throw new $TypeError("`loose`, if provided, must be a boolean")}var nonEnumerable=arguments.length>3?arguments[3]:null;var nonWritable=arguments.length>4?arguments[4]:null;var nonConfigurable=arguments.length>5?arguments[5]:null;var loose=arguments.length>6?arguments[6]:false;var desc=!!gopd&&gopd(obj,property);if($defineProperty){$defineProperty(obj,property,{configurable:nonConfigurable===null&&desc?desc.configurable:!nonConfigurable,enumerable:nonEnumerable===null&&desc?desc.enumerable:!nonEnumerable,value:value,writable:nonWritable===null&&desc?desc.writable:!nonWritable})}else if(loose||!nonEnumerable&&!nonWritable&&!nonConfigurable){obj[property]=value}else{throw new $SyntaxError("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}}},function(module,exports,__webpack_require__){(function(global){var hasMap=typeof Map==="function"&&Map.prototype;var mapSizeDescriptor=Object.getOwnPropertyDescriptor&&hasMap?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null;var mapSize=hasMap&&mapSizeDescriptor&&typeof mapSizeDescriptor.get==="function"?mapSizeDescriptor.get:null;var mapForEach=hasMap&&Map.prototype.forEach;var hasSet=typeof Set==="function"&&Set.prototype;var setSizeDescriptor=Object.getOwnPropertyDescriptor&&hasSet?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null;var setSize=hasSet&&setSizeDescriptor&&typeof setSizeDescriptor.get==="function"?setSizeDescriptor.get:null;var setForEach=hasSet&&Set.prototype.forEach;var hasWeakMap=typeof WeakMap==="function"&&WeakMap.prototype;var weakMapHas=hasWeakMap?WeakMap.prototype.has:null;var hasWeakSet=typeof WeakSet==="function"&&WeakSet.prototype;var weakSetHas=hasWeakSet?WeakSet.prototype.has:null;var hasWeakRef=typeof WeakRef==="function"&&WeakRef.prototype;var weakRefDeref=hasWeakRef?WeakRef.prototype.deref:null;var booleanValueOf=Boolean.prototype.valueOf;var objectToString=Object.prototype.toString;var functionToString=Function.prototype.toString;var $match=String.prototype.match;var $slice=String.prototype.slice;var $replace=String.prototype.replace;var $toUpperCase=String.prototype.toUpperCase;var $toLowerCase=String.prototype.toLowerCase;var $test=RegExp.prototype.test;var $concat=Array.prototype.concat;var $join=Array.prototype.join;var $arrSlice=Array.prototype.slice;var $floor=Math.floor;var bigIntValueOf=typeof BigInt==="function"?BigInt.prototype.valueOf:null;var gOPS=Object.getOwnPropertySymbols;var symToString=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?Symbol.prototype.toString:null;var hasShammedSymbols=typeof Symbol==="function"&&typeof Symbol.iterator==="object";var toStringTag=typeof Symbol==="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===hasShammedSymbols?"object":"symbol")?Symbol.toStringTag:null;var isEnumerable=Object.prototype.propertyIsEnumerable;var gPO=(typeof Reflect==="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(O){return O.__proto__}:null);function addNumericSeparator(num,str){if(num===Infinity||num===-Infinity||num!==num||num&&num>-1e3&&num<1e3||$test.call(/e/,str)){return str}var sepRegex=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof num==="number"){var int=num<0?-$floor(-num):$floor(num);if(int!==num){var intStr=String(int);var dec=$slice.call(str,intStr.length+1);return $replace.call(intStr,sepRegex,"$&_")+"."+$replace.call($replace.call(dec,/([0-9]{3})/g,"$&_"),/_$/,"")}}return $replace.call(str,sepRegex,"$&_")}var utilInspect=__webpack_require__(243);var inspectCustom=utilInspect.custom;var inspectSymbol=isSymbol(inspectCustom)?inspectCustom:null;module.exports=function inspect_(obj,options,depth,seen){var opts=options||{};if(has(opts,"quoteStyle")&&(opts.quoteStyle!=="single"&&opts.quoteStyle!=="double")){throw new TypeError('option "quoteStyle" must be "single" or "double"')}if(has(opts,"maxStringLength")&&(typeof opts.maxStringLength==="number"?opts.maxStringLength<0&&opts.maxStringLength!==Infinity:opts.maxStringLength!==null)){throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`')}var customInspect=has(opts,"customInspect")?opts.customInspect:true;if(typeof customInspect!=="boolean"&&customInspect!=="symbol"){throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`")}if(has(opts,"indent")&&opts.indent!==null&&opts.indent!=="\t"&&!(parseInt(opts.indent,10)===opts.indent&&opts.indent>0)){throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`')}if(has(opts,"numericSeparator")&&typeof opts.numericSeparator!=="boolean"){throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`')}var numericSeparator=opts.numericSeparator;if(typeof obj==="undefined"){return"undefined"}if(obj===null){return"null"}if(typeof obj==="boolean"){return obj?"true":"false"}if(typeof obj==="string"){return inspectString(obj,opts)}if(typeof obj==="number"){if(obj===0){return Infinity/obj>0?"0":"-0"}var str=String(obj);return numericSeparator?addNumericSeparator(obj,str):str}if(typeof obj==="bigint"){var bigIntStr=String(obj)+"n";return numericSeparator?addNumericSeparator(obj,bigIntStr):bigIntStr}var maxDepth=typeof opts.depth==="undefined"?5:opts.depth;if(typeof depth==="undefined"){depth=0}if(depth>=maxDepth&&maxDepth>0&&typeof obj==="object"){return isArray(obj)?"[Array]":"[Object]"}var indent=getIndent(opts,depth);if(typeof seen==="undefined"){seen=[]}else if(indexOf(seen,obj)>=0){return"[Circular]"}function inspect(value,from,noIndent){if(from){seen=$arrSlice.call(seen);seen.push(from)}if(noIndent){var newOpts={depth:opts.depth};if(has(opts,"quoteStyle")){newOpts.quoteStyle=opts.quoteStyle}return inspect_(value,newOpts,depth+1,seen)}return inspect_(value,opts,depth+1,seen)}if(typeof obj==="function"&&!isRegExp(obj)){var name=nameOf(obj);var keys=arrObjKeys(obj,inspect);return"[Function"+(name?": "+name:" (anonymous)")+"]"+(keys.length>0?" { "+$join.call(keys,", ")+" }":"")}if(isSymbol(obj)){var symString=hasShammedSymbols?$replace.call(String(obj),/^(Symbol\(.*\))_[^)]*$/,"$1"):symToString.call(obj);return typeof obj==="object"&&!hasShammedSymbols?markBoxed(symString):symString}if(isElement(obj)){var s="<"+$toLowerCase.call(String(obj.nodeName));var attrs=obj.attributes||[];for(var i=0;i<attrs.length;i++){s+=" "+attrs[i].name+"="+wrapQuotes(quote(attrs[i].value),"double",opts)}s+=">";if(obj.childNodes&&obj.childNodes.length){s+="..."}s+="</"+$toLowerCase.call(String(obj.nodeName))+">";return s}if(isArray(obj)){if(obj.length===0){return"[]"}var xs=arrObjKeys(obj,inspect);if(indent&&!singleLineValues(xs)){return"["+indentedJoin(xs,indent)+"]"}return"[ "+$join.call(xs,", ")+" ]"}if(isError(obj)){var parts=arrObjKeys(obj,inspect);if(!("cause"in Error.prototype)&&"cause"in obj&&!isEnumerable.call(obj,"cause")){return"{ ["+String(obj)+"] "+$join.call($concat.call("[cause]: "+inspect(obj.cause),parts),", ")+" }"}if(parts.length===0){return"["+String(obj)+"]"}return"{ ["+String(obj)+"] "+$join.call(parts,", ")+" }"}if(typeof obj==="object"&&customInspect){if(inspectSymbol&&typeof obj[inspectSymbol]==="function"&&utilInspect){return utilInspect(obj,{depth:maxDepth-depth})}else if(customInspect!=="symbol"&&typeof obj.inspect==="function"){return obj.inspect()}}if(isMap(obj)){var mapParts=[];if(mapForEach){mapForEach.call(obj,(function(value,key){mapParts.push(inspect(key,obj,true)+" => "+inspect(value,obj))}))}return collectionOf("Map",mapSize.call(obj),mapParts,indent)}if(isSet(obj)){var setParts=[];if(setForEach){setForEach.call(obj,(function(value){setParts.push(inspect(value,obj))}))}return collectionOf("Set",setSize.call(obj),setParts,indent)}if(isWeakMap(obj)){return weakCollectionOf("WeakMap")}if(isWeakSet(obj)){return weakCollectionOf("WeakSet")}if(isWeakRef(obj)){return weakCollectionOf("WeakRef")}if(isNumber(obj)){return markBoxed(inspect(Number(obj)))}if(isBigInt(obj)){return markBoxed(inspect(bigIntValueOf.call(obj)))}if(isBoolean(obj)){return markBoxed(booleanValueOf.call(obj))}if(isString(obj)){return markBoxed(inspect(String(obj)))}if(typeof window!=="undefined"&&obj===window){return"{ [object Window] }"}if(obj===global){return"{ [object globalThis] }"}if(!isDate(obj)&&!isRegExp(obj)){var ys=arrObjKeys(obj,inspect);var isPlainObject=gPO?gPO(obj)===Object.prototype:obj instanceof Object||obj.constructor===Object;var protoTag=obj instanceof Object?"":"null prototype";var stringTag=!isPlainObject&&toStringTag&&Object(obj)===obj&&toStringTag in obj?$slice.call(toStr(obj),8,-1):protoTag?"Object":"";var constructorTag=isPlainObject||typeof obj.constructor!=="function"?"":obj.constructor.name?obj.constructor.name+" ":"";var tag=constructorTag+(stringTag||protoTag?"["+$join.call($concat.call([],stringTag||[],protoTag||[]),": ")+"] ":"");if(ys.length===0){return tag+"{}"}if(indent){return tag+"{"+indentedJoin(ys,indent)+"}"}return tag+"{ "+$join.call(ys,", ")+" }"}return String(obj)};function wrapQuotes(s,defaultStyle,opts){var quoteChar=(opts.quoteStyle||defaultStyle)==="double"?'"':"'";return quoteChar+s+quoteChar}function quote(s){return $replace.call(String(s),/"/g,"&quot;")}function isArray(obj){return toStr(obj)==="[object Array]"&&(!toStringTag||!(typeof obj==="object"&&toStringTag in obj))}function isDate(obj){return toStr(obj)==="[object Date]"&&(!toStringTag||!(typeof obj==="object"&&toStringTag in obj))}function isRegExp(obj){return toStr(obj)==="[object RegExp]"&&(!toStringTag||!(typeof obj==="object"&&toStringTag in obj))}function isError(obj){return toStr(obj)==="[object Error]"&&(!toStringTag||!(typeof obj==="object"&&toStringTag in obj))}function isString(obj){return toStr(obj)==="[object String]"&&(!toStringTag||!(typeof obj==="object"&&toStringTag in obj))}function isNumber(obj){return toStr(obj)==="[object Number]"&&(!toStringTag||!(typeof obj==="object"&&toStringTag in obj))}function isBoolean(obj){return toStr(obj)==="[object Boolean]"&&(!toStringTag||!(typeof obj==="object"&&toStringTag in obj))}function isSymbol(obj){if(hasShammedSymbols){return obj&&typeof obj==="object"&&obj instanceof Symbol}if(typeof obj==="symbol"){return true}if(!obj||typeof obj!=="object"||!symToString){return false}try{symToString.call(obj);return true}catch(e){}return false}function isBigInt(obj){if(!obj||typeof obj!=="object"||!bigIntValueOf){return false}try{bigIntValueOf.call(obj);return true}catch(e){}return false}var hasOwn=Object.prototype.hasOwnProperty||function(key){return key in this};function has(obj,key){return hasOwn.call(obj,key)}function toStr(obj){return objectToString.call(obj)}function nameOf(f){if(f.name){return f.name}var m=$match.call(functionToString.call(f),/^function\s*([\w$]+)/);if(m){return m[1]}return null}function indexOf(xs,x){if(xs.indexOf){return xs.indexOf(x)}for(var i=0,l=xs.length;i<l;i++){if(xs[i]===x){return i}}return-1}function isMap(x){if(!mapSize||!x||typeof x!=="object"){return false}try{mapSize.call(x);try{setSize.call(x)}catch(s){return true}return x instanceof Map}catch(e){}return false}function isWeakMap(x){if(!weakMapHas||!x||typeof x!=="object"){return false}try{weakMapHas.call(x,weakMapHas);try{weakSetHas.call(x,weakSetHas)}catch(s){return true}return x instanceof WeakMap}catch(e){}return false}function isWeakRef(x){if(!weakRefDeref||!x||typeof x!=="object"){return false}try{weakRefDeref.call(x);return true}catch(e){}return false}function isSet(x){if(!setSize||!x||typeof x!=="object"){return false}try{setSize.call(x);try{mapSize.call(x)}catch(m){return true}return x instanceof Set}catch(e){}return false}function isWeakSet(x){if(!weakSetHas||!x||typeof x!=="object"){return false}try{weakSetHas.call(x,weakSetHas);try{weakMapHas.call(x,weakMapHas)}catch(s){return true}return x instanceof WeakSet}catch(e){}return false}function isElement(x){if(!x||typeof x!=="object"){return false}if(typeof HTMLElement!=="undefined"&&x instanceof HTMLElement){return true}return typeof x.nodeName==="string"&&typeof x.getAttribute==="function"}function inspectString(str,opts){if(str.length>opts.maxStringLength){var remaining=str.length-opts.maxStringLength;var trailer="... "+remaining+" more character"+(remaining>1?"s":"");return inspectString($slice.call(str,0,opts.maxStringLength),opts)+trailer}var s=$replace.call($replace.call(str,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,lowbyte);return wrapQuotes(s,"single",opts)}function lowbyte(c){var n=c.charCodeAt(0);var x={8:"b",9:"t",10:"n",12:"f",13:"r"}[n];if(x){return"\\"+x}return"\\x"+(n<16?"0":"")+$toUpperCase.call(n.toString(16))}function markBoxed(str){return"Object("+str+")"}function weakCollectionOf(type){return type+" { ? }"}function collectionOf(type,size,entries,indent){var joinedEntries=indent?indentedJoin(entries,indent):$join.call(entries,", ");return type+" ("+size+") {"+joinedEntries+"}"}function singleLineValues(xs){for(var i=0;i<xs.length;i++){if(indexOf(xs[i],"\n")>=0){return false}}return true}function getIndent(opts,depth){var baseIndent;if(opts.indent==="\t"){baseIndent="\t"}else if(typeof opts.indent==="number"&&opts.indent>0){baseIndent=$join.call(Array(opts.indent+1)," ")}else{return null}return{base:baseIndent,prev:$join.call(Array(depth+1),baseIndent)}}function indentedJoin(xs,indent){if(xs.length===0){return""}var lineJoiner="\n"+indent.prev+indent.base;return lineJoiner+$join.call(xs,","+lineJoiner)+"\n"+indent.prev}function arrObjKeys(obj,inspect){var isArr=isArray(obj);var xs=[];if(isArr){xs.length=obj.length;for(var i=0;i<obj.length;i++){xs[i]=has(obj,i)?inspect(obj[i],obj):""}}var syms=typeof gOPS==="function"?gOPS(obj):[];var symMap;if(hasShammedSymbols){symMap={};for(var k=0;k<syms.length;k++){symMap["$"+syms[k]]=syms[k]}}for(var key in obj){if(!has(obj,key)){continue}if(isArr&&String(Number(key))===key&&key<obj.length){continue}if(hasShammedSymbols&&symMap["$"+key]instanceof Symbol){continue}else if($test.call(/[^\w$]/,key)){xs.push(inspect(key,obj)+": "+inspect(obj[key],obj))}else{xs.push(key+": "+inspect(obj[key],obj))}}if(typeof gOPS==="function"){for(var j=0;j<syms.length;j++){if(isEnumerable.call(obj,syms[j])){xs.push("["+inspect(syms[j])+"]: "+inspect(obj[syms[j]],obj))}}}return xs}}).call(this,__webpack_require__(35))},function(module,exports){},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(151);var has=Object.prototype.hasOwnProperty;var isArray=Array.isArray;var defaults={allowDots:false,allowPrototypes:false,allowSparse:false,arrayLimit:20,charset:"utf-8",charsetSentinel:false,comma:false,decoder:utils.decode,delimiter:"&",depth:5,ignoreQueryPrefix:false,interpretNumericEntities:false,parameterLimit:1e3,parseArrays:true,plainObjects:false,strictNullHandling:false};var interpretNumericEntities=function(str){return str.replace(/&#(\d+);/g,(function($0,numberStr){return String.fromCharCode(parseInt(numberStr,10))}))};var parseArrayValue=function(val,options){if(val&&typeof val==="string"&&options.comma&&val.indexOf(",")>-1){return val.split(",")}return val};var isoSentinel="utf8=%26%2310003%3B";var charsetSentinel="utf8=%E2%9C%93";var parseValues=function parseQueryStringValues(str,options){var obj={};var cleanStr=options.ignoreQueryPrefix?str.replace(/^\?/,""):str;var limit=options.parameterLimit===Infinity?undefined:options.parameterLimit;var parts=cleanStr.split(options.delimiter,limit);var skipIndex=-1;var i;var charset=options.charset;if(options.charsetSentinel){for(i=0;i<parts.length;++i){if(parts[i].indexOf("utf8=")===0){if(parts[i]===charsetSentinel){charset="utf-8"}else if(parts[i]===isoSentinel){charset="iso-8859-1"}skipIndex=i;i=parts.length}}}for(i=0;i<parts.length;++i){if(i===skipIndex){continue}var part=parts[i];var bracketEqualsPos=part.indexOf("]=");var pos=bracketEqualsPos===-1?part.indexOf("="):bracketEqualsPos+1;var key,val;if(pos===-1){key=options.decoder(part,defaults.decoder,charset,"key");val=options.strictNullHandling?null:""}else{key=options.decoder(part.slice(0,pos),defaults.decoder,charset,"key");val=utils.maybeMap(parseArrayValue(part.slice(pos+1),options),(function(encodedVal){return options.decoder(encodedVal,defaults.decoder,charset,"value")}))}if(val&&options.interpretNumericEntities&&charset==="iso-8859-1"){val=interpretNumericEntities(val)}if(part.indexOf("[]=")>-1){val=isArray(val)?[val]:val}if(has.call(obj,key)){obj[key]=utils.combine(obj[key],val)}else{obj[key]=val}}return obj};var parseObject=function(chain,val,options,valuesParsed){var leaf=valuesParsed?val:parseArrayValue(val,options);for(var i=chain.length-1;i>=0;--i){var obj;var root=chain[i];if(root==="[]"&&options.parseArrays){obj=[].concat(leaf)}else{obj=options.plainObjects?Object.create(null):{};var cleanRoot=root.charAt(0)==="["&&root.charAt(root.length-1)==="]"?root.slice(1,-1):root;var index=parseInt(cleanRoot,10);if(!options.parseArrays&&cleanRoot===""){obj={0:leaf}}else if(!isNaN(index)&&root!==cleanRoot&&String(index)===cleanRoot&&index>=0&&(options.parseArrays&&index<=options.arrayLimit)){obj=[];obj[index]=leaf}else if(cleanRoot!=="__proto__"){obj[cleanRoot]=leaf}}leaf=obj}return leaf};var parseKeys=function parseQueryStringKeys(givenKey,val,options,valuesParsed){if(!givenKey){return}var key=options.allowDots?givenKey.replace(/\.([^.[]+)/g,"[$1]"):givenKey;var brackets=/(\[[^[\]]*])/;var child=/(\[[^[\]]*])/g;var segment=options.depth>0&&brackets.exec(key);var parent=segment?key.slice(0,segment.index):key;var keys=[];if(parent){if(!options.plainObjects&&has.call(Object.prototype,parent)){if(!options.allowPrototypes){return}}keys.push(parent)}var i=0;while(options.depth>0&&(segment=child.exec(key))!==null&&i<options.depth){i+=1;if(!options.plainObjects&&has.call(Object.prototype,segment[1].slice(1,-1))){if(!options.allowPrototypes){return}}keys.push(segment[1])}if(segment){keys.push("["+key.slice(segment.index)+"]")}return parseObject(keys,val,options,valuesParsed)};var normalizeParseOptions=function normalizeParseOptions(opts){if(!opts){return defaults}if(opts.decoder!==null&&opts.decoder!==undefined&&typeof opts.decoder!=="function"){throw new TypeError("Decoder has to be a function.")}if(typeof opts.charset!=="undefined"&&opts.charset!=="utf-8"&&opts.charset!=="iso-8859-1"){throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined")}var charset=typeof opts.charset==="undefined"?defaults.charset:opts.charset;return{allowDots:typeof opts.allowDots==="undefined"?defaults.allowDots:!!opts.allowDots,allowPrototypes:typeof opts.allowPrototypes==="boolean"?opts.allowPrototypes:defaults.allowPrototypes,allowSparse:typeof opts.allowSparse==="boolean"?opts.allowSparse:defaults.allowSparse,arrayLimit:typeof opts.arrayLimit==="number"?opts.arrayLimit:defaults.arrayLimit,charset:charset,charsetSentinel:typeof opts.charsetSentinel==="boolean"?opts.charsetSentinel:defaults.charsetSentinel,comma:typeof opts.comma==="boolean"?opts.comma:defaults.comma,decoder:typeof opts.decoder==="function"?opts.decoder:defaults.decoder,delimiter:typeof opts.delimiter==="string"||utils.isRegExp(opts.delimiter)?opts.delimiter:defaults.delimiter,depth:typeof opts.depth==="number"||opts.depth===false?+opts.depth:defaults.depth,ignoreQueryPrefix:opts.ignoreQueryPrefix===true,interpretNumericEntities:typeof opts.interpretNumericEntities==="boolean"?opts.interpretNumericEntities:defaults.interpretNumericEntities,parameterLimit:typeof opts.parameterLimit==="number"?opts.parameterLimit:defaults.parameterLimit,parseArrays:opts.parseArrays!==false,plainObjects:typeof opts.plainObjects==="boolean"?opts.plainObjects:defaults.plainObjects,strictNullHandling:typeof opts.strictNullHandling==="boolean"?opts.strictNullHandling:defaults.strictNullHandling}};module.exports=function(str,opts){var options=normalizeParseOptions(opts);if(str===""||str===null||typeof str==="undefined"){return options.plainObjects?Object.create(null):{}}var tempObj=typeof str==="string"?parseValues(str,options):str;var obj=options.plainObjects?Object.create(null):{};var keys=Object.keys(tempObj);for(var i=0;i<keys.length;++i){var key=keys[i];var newObj=parseKeys(key,tempObj[key],options,typeof str==="string");obj=utils.merge(obj,newObj,options)}if(options.allowSparse===true){return obj}return utils.compact(obj)}},function(module,exports){function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}module.exports=_objectWithoutPropertiesLoose,module.exports.__esModule=true,module.exports["default"]=module.exports},function(module,exports,__webpack_require__){switch(window.__osdThemeTag__){case"v7dark":return __webpack_require__(247);case"v7light":return __webpack_require__(249);case"v8dark":return __webpack_require__(251);case"v8light":return __webpack_require__(253);case"v9dark":return __webpack_require__(255);case"v9light":return __webpack_require__(257)}},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(248);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.appContainer__loading{position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);z-index:1000;animation-name:appContainerFadeIn;animation-iteration-count:1;animation-timing-function:ease-in;animation-duration:2s}@keyframes appContainerFadeIn{0%{opacity:0}50%{opacity:0}100%{opacity:1}}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(250);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.appContainer__loading{position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);z-index:1000;animation-name:appContainerFadeIn;animation-iteration-count:1;animation-timing-function:ease-in;animation-duration:2s}@keyframes appContainerFadeIn{0%{opacity:0}50%{opacity:0}100%{opacity:1}}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(252);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.appContainer__loading{position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);z-index:1000;animation-name:appContainerFadeIn;animation-iteration-count:1;animation-timing-function:ease-in;animation-duration:2s}@keyframes appContainerFadeIn{0%{opacity:0}50%{opacity:0}100%{opacity:1}}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(254);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.appContainer__loading{position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);z-index:1000;animation-name:appContainerFadeIn;animation-iteration-count:1;animation-timing-function:ease-in;animation-duration:2s}@keyframes appContainerFadeIn{0%{opacity:0}50%{opacity:0}100%{opacity:1}}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(256);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.appContainer__loading{position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);z-index:1000;animation-name:appContainerFadeIn;animation-iteration-count:1;animation-timing-function:ease-in;animation-duration:2s}@keyframes appContainerFadeIn{0%{opacity:0}50%{opacity:0}100%{opacity:1}}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(258);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.appContainer__loading{position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);z-index:1000;animation-name:appContainerFadeIn;animation-iteration-count:1;animation-timing-function:ease-in;animation-duration:2s}@keyframes appContainerFadeIn{0%{opacity:0}50%{opacity:0}100%{opacity:1}}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){"use strict";function _interopDefault(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(exports,"__esModule",{value:!0});var resolvePathname=_interopDefault(__webpack_require__(260)),valueEqual=_interopDefault(__webpack_require__(262));__webpack_require__(264);var invariant=_interopDefault(__webpack_require__(265));function _extends(){return(_extends=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t}).apply(this,arguments)}function addLeadingSlash(t){return"/"===t.charAt(0)?t:"/"+t}function stripLeadingSlash(t){return"/"===t.charAt(0)?t.substr(1):t}function hasBasename(t,n){return 0===t.toLowerCase().indexOf(n.toLowerCase())&&-1!=="/?#".indexOf(t.charAt(n.length))}function stripBasename(t,n){return hasBasename(t,n)?t.substr(n.length):t}function stripTrailingSlash(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function parsePath(t){var n=t||"/",e="",a="",r=n.indexOf("#");-1!==r&&(a=n.substr(r),n=n.substr(0,r));var o=n.indexOf("?");return-1!==o&&(e=n.substr(o),n=n.substr(0,o)),{pathname:n,search:"?"===e?"":e,hash:"#"===a?"":a}}function createPath(t){var n=t.pathname,e=t.search,a=t.hash,r=n||"/";return e&&"?"!==e&&(r+="?"===e.charAt(0)?e:"?"+e),a&&"#"!==a&&(r+="#"===a.charAt(0)?a:"#"+a),r}function createLocation(t,n,e,a){var r;"string"==typeof t?(r=parsePath(t)).state=n:(void 0===(r=_extends({},t)).pathname&&(r.pathname=""),r.search?"?"!==r.search.charAt(0)&&(r.search="?"+r.search):r.search="",r.hash?"#"!==r.hash.charAt(0)&&(r.hash="#"+r.hash):r.hash="",void 0!==n&&void 0===r.state&&(r.state=n));try{r.pathname=decodeURI(r.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+r.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return e&&(r.key=e),a?r.pathname?"/"!==r.pathname.charAt(0)&&(r.pathname=resolvePathname(r.pathname,a.pathname)):r.pathname=a.pathname:r.pathname||(r.pathname="/"),r}function locationsAreEqual(t,n){return t.pathname===n.pathname&&t.search===n.search&&t.hash===n.hash&&t.key===n.key&&valueEqual(t.state,n.state)}function createTransitionManager(){var o=null;var a=[];return{setPrompt:function(t){return o=t,function(){o===t&&(o=null)}},confirmTransitionTo:function(t,n,e,a){if(null!=o){var r="function"==typeof o?o(t,n):o;"string"==typeof r?"function"==typeof e?e(r,a):a(!0):a(!1!==r)}else a(!0)},appendListener:function(t){var n=!0;function e(){n&&t.apply(void 0,arguments)}return a.push(e),function(){n=!1,a=a.filter((function(t){return t!==e}))}},notifyListeners:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];a.forEach((function(t){return t.apply(void 0,n)}))}}}var canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement);function getConfirmation(t,n){n(window.confirm(t))}function supportsHistory(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}function supportsPopStateOnHashChange(){return-1===window.navigator.userAgent.indexOf("Trident")}function supportsGoWithoutReloadUsingHash(){return-1===window.navigator.userAgent.indexOf("Firefox")}function isExtraneousPopstateEvent(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")}var PopStateEvent="popstate",HashChangeEvent="hashchange";function getHistoryState(){try{return window.history.state||{}}catch(t){return{}}}function createBrowserHistory(t){void 0===t&&(t={}),canUseDOM||invariant(!1);var s=window.history,c=supportsHistory(),n=!supportsPopStateOnHashChange(),e=t,a=e.forceRefresh,h=void 0!==a&&a,r=e.getUserConfirmation,u=void 0===r?getConfirmation:r,o=e.keyLength,i=void 0===o?6:o,f=t.basename?stripTrailingSlash(addLeadingSlash(t.basename)):"";function l(t){var n=t||{},e=n.key,a=n.state,r=window.location,o=r.pathname+r.search+r.hash;return f&&(o=stripBasename(o,f)),createLocation(o,a,e)}function d(){return Math.random().toString(36).substr(2,i)}var v=createTransitionManager();function p(t){_extends(T,t),T.length=s.length,v.notifyListeners(T.location,T.action)}function g(t){isExtraneousPopstateEvent(t)||w(l(t.state))}function P(){w(l(getHistoryState()))}var m=!1;function w(n){if(m)m=!1,p();else{v.confirmTransitionTo(n,"POP",u,(function(t){t?p({action:"POP",location:n}):function(t){var n=T.location,e=H.indexOf(n.key);-1===e&&(e=0);var a=H.indexOf(t.key);-1===a&&(a=0);var r=e-a;r&&(m=!0,L(r))}(n)}))}}var y=l(getHistoryState()),H=[y.key];function x(t){return f+createPath(t)}function L(t){s.go(t)}var O=0;function E(t){1===(O+=t)&&1===t?(window.addEventListener(PopStateEvent,g),n&&window.addEventListener(HashChangeEvent,P)):0===O&&(window.removeEventListener(PopStateEvent,g),n&&window.removeEventListener(HashChangeEvent,P))}var S=!1;var T={length:s.length,action:"POP",location:y,createHref:x,push:function(t,n){var i=createLocation(t,n,d(),T.location);v.confirmTransitionTo(i,"PUSH",u,(function(t){if(t){var n=x(i),e=i.key,a=i.state;if(c)if(s.pushState({key:e,state:a},null,n),h)window.location.href=n;else{var r=H.indexOf(T.location.key),o=H.slice(0,r+1);o.push(i.key),H=o,p({action:"PUSH",location:i})}else window.location.href=n}}))},replace:function(t,n){var o="REPLACE",i=createLocation(t,n,d(),T.location);v.confirmTransitionTo(i,o,u,(function(t){if(t){var n=x(i),e=i.key,a=i.state;if(c)if(s.replaceState({key:e,state:a},null,n),h)window.location.replace(n);else{var r=H.indexOf(T.location.key);-1!==r&&(H[r]=i.key),p({action:o,location:i})}else window.location.replace(n)}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(t){void 0===t&&(t=!1);var n=v.setPrompt(t);return S||(E(1),S=!0),function(){return S&&(S=!1,E(-1)),n()}},listen:function(t){var n=v.appendListener(t);return E(1),function(){E(-1),n()}}};return T}var HashChangeEvent$1="hashchange",HashPathCoders={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+stripLeadingSlash(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:stripLeadingSlash,decodePath:addLeadingSlash},slash:{encodePath:addLeadingSlash,decodePath:addLeadingSlash}};function stripHash(t){var n=t.indexOf("#");return-1===n?t:t.slice(0,n)}function getHashPath(){var t=window.location.href,n=t.indexOf("#");return-1===n?"":t.substring(n+1)}function pushHashPath(t){window.location.hash=t}function replaceHashPath(t){window.location.replace(stripHash(window.location.href)+"#"+t)}function createHashHistory(t){void 0===t&&(t={}),canUseDOM||invariant(!1);var n=window.history,e=(supportsGoWithoutReloadUsingHash(),t),a=e.getUserConfirmation,i=void 0===a?getConfirmation:a,r=e.hashType,o=void 0===r?"slash":r,s=t.basename?stripTrailingSlash(addLeadingSlash(t.basename)):"",c=HashPathCoders[o],h=c.encodePath,u=c.decodePath;function f(){var t=u(getHashPath());return s&&(t=stripBasename(t,s)),createLocation(t)}var l=createTransitionManager();function d(t){_extends(E,t),E.length=n.length,l.notifyListeners(E.location,E.action)}var v=!1,p=null;function g(){var t=getHashPath(),n=h(t);if(t!==n)replaceHashPath(n);else{var e=f(),a=E.location;if(!v&&function(t,n){return t.pathname===n.pathname&&t.search===n.search&&t.hash===n.hash}(a,e))return;if(p===createPath(e))return;p=null,function(n){if(v)v=!1,d();else{l.confirmTransitionTo(n,"POP",i,(function(t){t?d({action:"POP",location:n}):function(t){var n=E.location,e=y.lastIndexOf(createPath(n));-1===e&&(e=0);var a=y.lastIndexOf(createPath(t));-1===a&&(a=0);var r=e-a;r&&(v=!0,H(r))}(n)}))}}(e)}}var P=getHashPath(),m=h(P);P!==m&&replaceHashPath(m);var w=f(),y=[createPath(w)];function H(t){n.go(t)}var x=0;function L(t){1===(x+=t)&&1===t?window.addEventListener(HashChangeEvent$1,g):0===x&&window.removeEventListener(HashChangeEvent$1,g)}var O=!1;var E={length:n.length,action:"POP",location:w,createHref:function(t){var n=document.querySelector("base"),e="";return n&&n.getAttribute("href")&&(e=stripHash(window.location.href)),e+"#"+h(s+createPath(t))},push:function(t,n){var o=createLocation(t,void 0,void 0,E.location);l.confirmTransitionTo(o,"PUSH",i,(function(t){if(t){var n=createPath(o),e=h(s+n);if(getHashPath()!==e){p=n,pushHashPath(e);var a=y.lastIndexOf(createPath(E.location)),r=y.slice(0,a+1);r.push(n),y=r,d({action:"PUSH",location:o})}else d()}}))},replace:function(t,n){var r="REPLACE",o=createLocation(t,void 0,void 0,E.location);l.confirmTransitionTo(o,r,i,(function(t){if(t){var n=createPath(o),e=h(s+n);getHashPath()!==e&&(p=n,replaceHashPath(e));var a=y.indexOf(createPath(E.location));-1!==a&&(y[a]=n),d({action:r,location:o})}}))},go:H,goBack:function(){H(-1)},goForward:function(){H(1)},block:function(t){void 0===t&&(t=!1);var n=l.setPrompt(t);return O||(L(1),O=!0),function(){return O&&(O=!1,L(-1)),n()}},listen:function(t){var n=l.appendListener(t);return L(1),function(){L(-1),n()}}};return E}function clamp(t,n,e){return Math.min(Math.max(t,n),e)}function createMemoryHistory(t){void 0===t&&(t={});var n=t,r=n.getUserConfirmation,e=n.initialEntries,a=void 0===e?["/"]:e,o=n.initialIndex,i=void 0===o?0:o,s=n.keyLength,c=void 0===s?6:s,h=createTransitionManager();function u(t){_extends(g,t),g.length=g.entries.length,h.notifyListeners(g.location,g.action)}function f(){return Math.random().toString(36).substr(2,c)}var l=clamp(i,0,a.length-1),d=a.map((function(t){return createLocation(t,void 0,"string"==typeof t?f():t.key||f())})),v=createPath;function p(t){var n=clamp(g.index+t,0,g.entries.length-1),e=g.entries[n];h.confirmTransitionTo(e,"POP",r,(function(t){t?u({action:"POP",location:e,index:n}):u()}))}var g={length:d.length,action:"POP",location:d[l],index:l,entries:d,createHref:v,push:function(t,n){var a=createLocation(t,n,f(),g.location);h.confirmTransitionTo(a,"PUSH",r,(function(t){if(t){var n=g.index+1,e=g.entries.slice(0);e.length>n?e.splice(n,e.length-n,a):e.push(a),u({action:"PUSH",location:a,index:n,entries:e})}}))},replace:function(t,n){var e="REPLACE",a=createLocation(t,n,f(),g.location);h.confirmTransitionTo(a,e,r,(function(t){t&&(g.entries[g.index]=a,u({action:e,location:a}))}))},go:p,goBack:function(){p(-1)},goForward:function(){p(1)},canGo:function(t){var n=g.index+t;return 0<=n&&n<g.entries.length},block:function(t){return void 0===t&&(t=!1),h.setPrompt(t)},listen:function(t){return h.appendListener(t)}};return g}exports.createBrowserHistory=createBrowserHistory,exports.createHashHistory=createHashHistory,exports.createMemoryHistory=createMemoryHistory,exports.createLocation=createLocation,exports.locationsAreEqual=locationsAreEqual,exports.parsePath=parsePath,exports.createPath=createPath},function(module,exports,__webpack_require__){"use strict";if(true){module.exports=__webpack_require__(261)}else{}},function(module,exports,__webpack_require__){"use strict";function isAbsolute(e){return"/"===e.charAt(0)}function spliceOne(e,t){for(var s=t,n=s+1,i=e.length;n<i;s+=1,n+=1)e[s]=e[n];e.pop()}function resolvePathname(e,t){void 0===t&&(t="");var s,n=e&&e.split("/")||[],i=t&&t.split("/")||[],l=e&&isAbsolute(e),r=t&&isAbsolute(t),o=l||r;if(e&&isAbsolute(e)?i=n:n.length&&(i.pop(),i=i.concat(n)),!i.length)return"/";if(i.length){var u=i[i.length-1];s="."===u||".."===u||""===u}else s=!1;for(var a=0,c=i.length;0<=c;c--){var f=i[c];"."===f?spliceOne(i,c):".."===f?(spliceOne(i,c),a++):a&&(spliceOne(i,c),a--)}if(!o)for(;a--;a)i.unshift("..");!o||""===i[0]||i[0]&&isAbsolute(i[0])||i.unshift("");var h=i.join("/");return s&&"/"!==h.substr(-1)&&(h+="/"),h}module.exports=resolvePathname},function(module,exports,__webpack_require__){"use strict";if(true){module.exports=__webpack_require__(263)}else{}},function(module,exports,__webpack_require__){"use strict";function valueOf(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}function valueEqual(u,r){if(u===r)return!0;if(null==u||null==r)return!1;if(Array.isArray(u))return Array.isArray(r)&&u.length===r.length&&u.every((function(e,u){return valueEqual(e,r[u])}));if("object"!=typeof u&&"object"!=typeof r)return!1;var e=valueOf(u),t=valueOf(r);return e!==u||t!==r?valueEqual(e,t):Object.keys(Object.assign({},u,r)).every((function(e){return valueEqual(u[e],r[e])}))}module.exports=valueEqual},function(module,exports,__webpack_require__){"use strict";var isProduction="production"==="production";function warning(condition,message){if(!isProduction){if(condition){return}var text="Warning: "+message;if(typeof console!=="undefined"){console.warn(text)}try{throw Error(text)}catch(x){}}}module.exports=warning},function(module,exports,__webpack_require__){"use strict";var isProduction="production"==="production";var prefix="Invariant failed";function invariant(condition,message){if(condition){return}if(isProduction){throw new Error(prefix)}var provided=typeof message==="function"?message():message;var value=provided?prefix+": "+provided:prefix;throw new Error(value)}module.exports=invariant},function(module,exports,__webpack_require__){"use strict";exports.byteLength=byteLength;exports.toByteArray=toByteArray;exports.fromByteArray=fromByteArray;var lookup=[];var revLookup=[];var Arr=typeof Uint8Array!=="undefined"?Uint8Array:Array;var code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i){lookup[i]=code[i];revLookup[code.charCodeAt(i)]=i}revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(b64){var len=b64.length;if(len%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var validLen=b64.indexOf("=");if(validLen===-1)validLen=len;var placeHoldersLen=validLen===len?0:4-validLen%4;return[validLen,placeHoldersLen]}function byteLength(b64){var lens=getLens(b64);var validLen=lens[0];var placeHoldersLen=lens[1];return(validLen+placeHoldersLen)*3/4-placeHoldersLen}function _byteLength(b64,validLen,placeHoldersLen){return(validLen+placeHoldersLen)*3/4-placeHoldersLen}function toByteArray(b64){var tmp;var lens=getLens(b64);var validLen=lens[0];var placeHoldersLen=lens[1];var arr=new Arr(_byteLength(b64,validLen,placeHoldersLen));var curByte=0;var len=placeHoldersLen>0?validLen-4:validLen;var i;for(i=0;i<len;i+=4){tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)];arr[curByte++]=tmp>>16&255;arr[curByte++]=tmp>>8&255;arr[curByte++]=tmp&255}if(placeHoldersLen===2){tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4;arr[curByte++]=tmp&255}if(placeHoldersLen===1){tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2;arr[curByte++]=tmp>>8&255;arr[curByte++]=tmp&255}return arr}function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[num&63]}function encodeChunk(uint8,start,end){var tmp;var output=[];for(var i=start;i<end;i+=3){tmp=(uint8[i]<<16&16711680)+(uint8[i+1]<<8&65280)+(uint8[i+2]&255);output.push(tripletToBase64(tmp))}return output.join("")}function fromByteArray(uint8){var tmp;var len=uint8.length;var extraBytes=len%3;var parts=[];var maxChunkLength=16383;for(var i=0,len2=len-extraBytes;i<len2;i+=maxChunkLength){parts.push(encodeChunk(uint8,i,i+maxChunkLength>len2?len2:i+maxChunkLength))}if(extraBytes===1){tmp=uint8[len-1];parts.push(lookup[tmp>>2]+lookup[tmp<<4&63]+"==")}else if(extraBytes===2){tmp=(uint8[len-2]<<8)+uint8[len-1];parts.push(lookup[tmp>>10]+lookup[tmp>>4&63]+lookup[tmp<<2&63]+"=")}return parts.join("")}},function(module,exports){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var nBits=-7;var i=isLE?nBytes-1:0;var d=isLE?-1:1;var s=buffer[offset+i];i+=d;e=s&(1<<-nBits)-1;s>>=-nBits;nBits+=eLen;for(;nBits>0;e=e*256+buffer[offset+i],i+=d,nBits-=8){}m=e&(1<<-nBits)-1;e>>=-nBits;nBits+=mLen;for(;nBits>0;m=m*256+buffer[offset+i],i+=d,nBits-=8){}if(e===0){e=1-eBias}else if(e===eMax){return m?NaN:(s?-1:1)*Infinity}else{m=m+Math.pow(2,mLen);e=e-eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)};exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var rt=mLen===23?Math.pow(2,-24)-Math.pow(2,-77):0;var i=isLE?0:nBytes-1;var d=isLE?1:-1;var s=value<0||value===0&&1/value<0?1:0;value=Math.abs(value);if(isNaN(value)||value===Infinity){m=isNaN(value)?1:0;e=eMax}else{e=Math.floor(Math.log(value)/Math.LN2);if(value*(c=Math.pow(2,-e))<1){e--;c*=2}if(e+eBias>=1){value+=rt/c}else{value+=rt*Math.pow(2,1-eBias)}if(value*c>=2){e++;c/=2}if(e+eBias>=eMax){m=0;e=eMax}else if(e+eBias>=1){m=(value*c-1)*Math.pow(2,mLen);e=e+eBias}else{m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen);e=0}}for(;mLen>=8;buffer[offset+i]=m&255,i+=d,m/=256,mLen-=8){}e=e<<mLen|m;eLen+=mLen;for(;eLen>0;buffer[offset+i]=e&255,i+=d,e/=256,eLen-=8){}buffer[offset+i-d]|=s*128}},function(module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return toString.call(arr)=="[object Array]"}},function(module,exports,__webpack_require__){switch(window.__osdThemeTag__){case"v7dark":return __webpack_require__(270);case"v7light":return __webpack_require__(272);case"v8dark":return __webpack_require__(274);case"v8light":return __webpack_require__(276);case"v9dark":return __webpack_require__(278);case"v9light":return __webpack_require__(280)}},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(271);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.osdSidecarFlyout{box-shadow:initial;position:fixed;z-index:1001;background:#000;display:flex}.osdSidecarFlyout.osdSidecarFlyout--dockedRight{top:0;height:100vh;right:0;flex-direction:row;padding-left:8px}.osdSidecarFlyout.osdSidecarFlyout--dockedLeft{top:0;height:100vh;left:0;flex-direction:row-reverse;padding-right:8px}.osdSidecarFlyout.osdSidecarFlyout--dockedTakeover{left:0;right:0;bottom:0;flex-direction:column;padding-top:8px}.osdSidecarFlyout.osdSidecarFlyout--hide{display:none}.osdSidecarFlyout .osdSidecarMountWrapper{width:100%;height:100%}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(273);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.osdSidecarFlyout{box-shadow:initial;position:fixed;z-index:1001;background:#fff;display:flex}.osdSidecarFlyout.osdSidecarFlyout--dockedRight{top:0;height:100vh;right:0;flex-direction:row;padding-left:8px}.osdSidecarFlyout.osdSidecarFlyout--dockedLeft{top:0;height:100vh;left:0;flex-direction:row-reverse;padding-right:8px}.osdSidecarFlyout.osdSidecarFlyout--dockedTakeover{left:0;right:0;bottom:0;flex-direction:column;padding-top:8px}.osdSidecarFlyout.osdSidecarFlyout--hide{display:none}.osdSidecarFlyout .osdSidecarMountWrapper{width:100%;height:100%}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(275);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.osdSidecarFlyout{box-shadow:initial;position:fixed;z-index:1001;background:#0a121a;display:flex}.osdSidecarFlyout.osdSidecarFlyout--dockedRight{top:0;height:100vh;right:0;flex-direction:row;padding-left:8px}.osdSidecarFlyout.osdSidecarFlyout--dockedLeft{top:0;height:100vh;left:0;flex-direction:row-reverse;padding-right:8px}.osdSidecarFlyout.osdSidecarFlyout--dockedTakeover{left:0;right:0;bottom:0;flex-direction:column;padding-top:8px}.osdSidecarFlyout.osdSidecarFlyout--hide{display:none}.osdSidecarFlyout .osdSidecarMountWrapper{width:100%;height:100%}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(277);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.osdSidecarFlyout{box-shadow:initial;position:fixed;z-index:1001;background:#fcfeff;display:flex}.osdSidecarFlyout.osdSidecarFlyout--dockedRight{top:0;height:100vh;right:0;flex-direction:row;padding-left:8px}.osdSidecarFlyout.osdSidecarFlyout--dockedLeft{top:0;height:100vh;left:0;flex-direction:row-reverse;padding-right:8px}.osdSidecarFlyout.osdSidecarFlyout--dockedTakeover{left:0;right:0;bottom:0;flex-direction:column;padding-top:8px}.osdSidecarFlyout.osdSidecarFlyout--hide{display:none}.osdSidecarFlyout .osdSidecarMountWrapper{width:100%;height:100%}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(279);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.osdSidecarFlyout{box-shadow:initial;position:fixed;z-index:1001;background:#02020e;display:flex}.osdSidecarFlyout.osdSidecarFlyout--dockedRight{top:0;height:100vh;right:0;flex-direction:row;padding-left:8px}.osdSidecarFlyout.osdSidecarFlyout--dockedLeft{top:0;height:100vh;left:0;flex-direction:row-reverse;padding-right:8px}.osdSidecarFlyout.osdSidecarFlyout--dockedTakeover{left:0;right:0;bottom:0;flex-direction:column;padding-top:8px}.osdSidecarFlyout.osdSidecarFlyout--hide{display:none}.osdSidecarFlyout .osdSidecarMountWrapper{width:100%;height:100%}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(281);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.osdSidecarFlyout{box-shadow:initial;position:fixed;z-index:1001;background:#fcfeff;display:flex}.osdSidecarFlyout.osdSidecarFlyout--dockedRight{top:0;height:100vh;right:0;flex-direction:row;padding-left:8px}.osdSidecarFlyout.osdSidecarFlyout--dockedLeft{top:0;height:100vh;left:0;flex-direction:row-reverse;padding-right:8px}.osdSidecarFlyout.osdSidecarFlyout--dockedTakeover{left:0;right:0;bottom:0;flex-direction:column;padding-top:8px}.osdSidecarFlyout.osdSidecarFlyout--hide{display:none}.osdSidecarFlyout .osdSidecarMountWrapper{width:100%;height:100%}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){switch(window.__osdThemeTag__){case"v7dark":return __webpack_require__(283);case"v7light":return __webpack_require__(285);case"v8dark":return __webpack_require__(287);case"v8light":return __webpack_require__(289);case"v9dark":return __webpack_require__(291);case"v9light":return __webpack_require__(293)}},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(284);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,'/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.sidecar-resizableButton{position:relative;flex-shrink:0;z-index:1000}.sidecar-resizableButton::before,.sidecar-resizableButton::after{content:"";display:block;position:absolute;top:50%;left:50%;background-color:#d4dae5;transition:width 150ms ease,height 150ms ease,transform 150ms ease,background-color 150ms ease}.sidecar-resizableButton.resizableButton--horizontal{cursor:col-resize;width:16px;margin-left:-8px;margin-right:-8px}.sidecar-resizableButton.resizableButton--horizontal::before,.sidecar-resizableButton.resizableButton--horizontal::after{width:1px;height:12px}.sidecar-resizableButton.resizableButton--horizontal::before{transform:translate(-2px, -50%)}.sidecar-resizableButton.resizableButton--horizontal::after{transform:translate(1px, -50%)}.sidecar-resizableButton.resizableButton--vertical{cursor:row-resize;height:16px;margin-top:-8px;margin-bottom:-8px}.sidecar-resizableButton.resizableButton--vertical::before,.sidecar-resizableButton.resizableButton--vertical::after{width:12px;height:1px}.sidecar-resizableButton.resizableButton--vertical::before{transform:translate(-50%, -2px)}.sidecar-resizableButton.resizableButton--vertical::after{transform:translate(-50%, 1px)}.sidecar-resizableButton:hover:not(:disabled)::before,.sidecar-resizableButton:hover:not(:disabled)::after{background-color:#535966;transition-delay:150ms}.sidecar-resizableButton:focus:not(:disabled){background-color:rgba(27,169,245,.1)}.sidecar-resizableButton:focus:not(:disabled)::before,.sidecar-resizableButton:focus:not(:disabled)::after{background-color:#1ba9f5;transition:width 150ms ease,height 150ms ease,transform 150ms ease;transition-delay:75ms}.sidecar-resizableButton:hover:not(:disabled).resizableButton--horizontal::before,.sidecar-resizableButton:hover:not(:disabled).resizableButton--horizontal::after,.sidecar-resizableButton:focus:not(:disabled).resizableButton--horizontal::before,.sidecar-resizableButton:focus:not(:disabled).resizableButton--horizontal::after{height:100%}.sidecar-resizableButton:hover:not(:disabled).resizableButton--horizontal::before,.sidecar-resizableButton:focus:not(:disabled).resizableButton--horizontal::before{transform:translate(-1px, -50%)}.sidecar-resizableButton:hover:not(:disabled).resizableButton--horizontal::after,.sidecar-resizableButton:focus:not(:disabled).resizableButton--horizontal::after{transform:translate(0, -50%)}.sidecar-resizableButton:hover:not(:disabled).resizableButton--vertical::before,.sidecar-resizableButton:hover:not(:disabled).resizableButton--vertical::after,.sidecar-resizableButton:focus:not(:disabled).resizableButton--vertical::before,.sidecar-resizableButton:focus:not(:disabled).resizableButton--vertical::after{width:100%}.sidecar-resizableButton:hover:not(:disabled).resizableButton--vertical::before,.sidecar-resizableButton:focus:not(:disabled).resizableButton--vertical::before{transform:translate(-50%, -1px)}.sidecar-resizableButton:hover:not(:disabled).resizableButton--vertical::after,.sidecar-resizableButton:focus:not(:disabled).resizableButton--vertical::after{transform:translate(-50%, 0)}.sidecar-resizableButton:disabled{display:none !important}\n',""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(286);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,'/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.sidecar-resizableButton{position:relative;flex-shrink:0;z-index:1000}.sidecar-resizableButton::before,.sidecar-resizableButton::after{content:"";display:block;position:absolute;top:50%;left:50%;background-color:#343741;transition:width 150ms ease,height 150ms ease,transform 150ms ease,background-color 150ms ease}.sidecar-resizableButton.resizableButton--horizontal{cursor:col-resize;width:16px;margin-left:-8px;margin-right:-8px}.sidecar-resizableButton.resizableButton--horizontal::before,.sidecar-resizableButton.resizableButton--horizontal::after{width:1px;height:12px}.sidecar-resizableButton.resizableButton--horizontal::before{transform:translate(-2px, -50%)}.sidecar-resizableButton.resizableButton--horizontal::after{transform:translate(1px, -50%)}.sidecar-resizableButton.resizableButton--vertical{cursor:row-resize;height:16px;margin-top:-8px;margin-bottom:-8px}.sidecar-resizableButton.resizableButton--vertical::before,.sidecar-resizableButton.resizableButton--vertical::after{width:12px;height:1px}.sidecar-resizableButton.resizableButton--vertical::before{transform:translate(-50%, -2px)}.sidecar-resizableButton.resizableButton--vertical::after{transform:translate(-50%, 1px)}.sidecar-resizableButton:hover:not(:disabled)::before,.sidecar-resizableButton:hover:not(:disabled)::after{background-color:#98a2b3;transition-delay:150ms}.sidecar-resizableButton:focus:not(:disabled){background-color:rgba(0,107,180,.1)}.sidecar-resizableButton:focus:not(:disabled)::before,.sidecar-resizableButton:focus:not(:disabled)::after{background-color:#006bb4;transition:width 150ms ease,height 150ms ease,transform 150ms ease;transition-delay:75ms}.sidecar-resizableButton:hover:not(:disabled).resizableButton--horizontal::before,.sidecar-resizableButton:hover:not(:disabled).resizableButton--horizontal::after,.sidecar-resizableButton:focus:not(:disabled).resizableButton--horizontal::before,.sidecar-resizableButton:focus:not(:disabled).resizableButton--horizontal::after{height:100%}.sidecar-resizableButton:hover:not(:disabled).resizableButton--horizontal::before,.sidecar-resizableButton:focus:not(:disabled).resizableButton--horizontal::before{transform:translate(-1px, -50%)}.sidecar-resizableButton:hover:not(:disabled).resizableButton--horizontal::after,.sidecar-resizableButton:focus:not(:disabled).resizableButton--horizontal::after{transform:translate(0, -50%)}.sidecar-resizableButton:hover:not(:disabled).resizableButton--vertical::before,.sidecar-resizableButton:hover:not(:disabled).resizableButton--vertical::after,.sidecar-resizableButton:focus:not(:disabled).resizableButton--vertical::before,.sidecar-resizableButton:focus:not(:disabled).resizableButton--vertical::after{width:100%}.sidecar-resizableButton:hover:not(:disabled).resizableButton--vertical::before,.sidecar-resizableButton:focus:not(:disabled).resizableButton--vertical::before{transform:translate(-50%, -1px)}.sidecar-resizableButton:hover:not(:disabled).resizableButton--vertical::after,.sidecar-resizableButton:focus:not(:disabled).resizableButton--vertical::after{transform:translate(-50%, 0)}.sidecar-resizableButton:disabled{display:none !important}\n',""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(288);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,'/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.sidecar-resizableButton{position:relative;flex-shrink:0;z-index:1000}.sidecar-resizableButton::before,.sidecar-resizableButton::after{content:"";display:block;position:absolute;top:50%;left:50%;background-color:#dfe3e8;transition:width 150ms ease,height 150ms ease,transform 150ms ease,background-color 150ms ease}.sidecar-resizableButton.resizableButton--horizontal{cursor:col-resize;width:16px;margin-left:-8px;margin-right:-8px}.sidecar-resizableButton.resizableButton--horizontal::before,.sidecar-resizableButton.resizableButton--horizontal::after{width:1px;height:12px}.sidecar-resizableButton.resizableButton--horizontal::before{transform:translate(-2px, -50%)}.sidecar-resizableButton.resizableButton--horizontal::after{transform:translate(1px, -50%)}.sidecar-resizableButton.resizableButton--vertical{cursor:row-resize;height:16px;margin-top:-8px;margin-bottom:-8px}.sidecar-resizableButton.resizableButton--vertical::before,.sidecar-resizableButton.resizableButton--vertical::after{width:12px;height:1px}.sidecar-resizableButton.resizableButton--vertical::before{transform:translate(-50%, -2px)}.sidecar-resizableButton.resizableButton--vertical::after{transform:translate(-50%, 1px)}.sidecar-resizableButton:hover:not(:disabled)::before,.sidecar-resizableButton:hover:not(:disabled)::after{background-color:#5b6875;transition-delay:150ms}.sidecar-resizableButton:focus:not(:disabled){background-color:rgba(21,157,141,.1)}.sidecar-resizableButton:focus:not(:disabled)::before,.sidecar-resizableButton:focus:not(:disabled)::after{background-color:#159d8d;transition:width 150ms ease,height 150ms ease,transform 150ms ease;transition-delay:75ms}.sidecar-resizableButton:hover:not(:disabled).resizableButton--horizontal::before,.sidecar-resizableButton:hover:not(:disabled).resizableButton--horizontal::after,.sidecar-resizableButton:focus:not(:disabled).resizableButton--horizontal::before,.sidecar-resizableButton:focus:not(:disabled).resizableButton--horizontal::after{height:100%}.sidecar-resizableButton:hover:not(:disabled).resizableButton--horizontal::before,.sidecar-resizableButton:focus:not(:disabled).resizableButton--horizontal::before{transform:translate(-1px, -50%)}.sidecar-resizableButton:hover:not(:disabled).resizableButton--horizontal::after,.sidecar-resizableButton:focus:not(:disabled).resizableButton--horizontal::after{transform:translate(0, -50%)}.sidecar-resizableButton:hover:not(:disabled).resizableButton--vertical::before,.sidecar-resizableButton:hover:not(:disabled).resizableButton--vertical::after,.sidecar-resizableButton:focus:not(:disabled).resizableButton--vertical::before,.sidecar-resizableButton:focus:not(:disabled).resizableButton--vertical::after{width:100%}.sidecar-resizableButton:hover:not(:disabled).resizableButton--vertical::before,.sidecar-resizableButton:focus:not(:disabled).resizableButton--vertical::before{transform:translate(-50%, -1px)}.sidecar-resizableButton:hover:not(:disabled).resizableButton--vertical::after,.sidecar-resizableButton:focus:not(:disabled).resizableButton--vertical::after{transform:translate(-50%, 0)}.sidecar-resizableButton:disabled{display:none !important}\n',""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(290);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,'/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.sidecar-resizableButton{position:relative;flex-shrink:0;z-index:1000}.sidecar-resizableButton::before,.sidecar-resizableButton::after{content:"";display:block;position:absolute;top:50%;left:50%;background-color:#2a3947;transition:width 150ms ease,height 150ms ease,transform 150ms ease,background-color 150ms ease}.sidecar-resizableButton.resizableButton--horizontal{cursor:col-resize;width:16px;margin-left:-8px;margin-right:-8px}.sidecar-resizableButton.resizableButton--horizontal::before,.sidecar-resizableButton.resizableButton--horizontal::after{width:1px;height:12px}.sidecar-resizableButton.resizableButton--horizontal::before{transform:translate(-2px, -50%)}.sidecar-resizableButton.resizableButton--horizontal::after{transform:translate(1px, -50%)}.sidecar-resizableButton.resizableButton--vertical{cursor:row-resize;height:16px;margin-top:-8px;margin-bottom:-8px}.sidecar-resizableButton.resizableButton--vertical::before,.sidecar-resizableButton.resizableButton--vertical::after{width:12px;height:1px}.sidecar-resizableButton.resizableButton--vertical::before{transform:translate(-50%, -2px)}.sidecar-resizableButton.resizableButton--vertical::after{transform:translate(-50%, 1px)}.sidecar-resizableButton:hover:not(:disabled)::before,.sidecar-resizableButton:hover:not(:disabled)::after{background-color:#adb4ba;transition-delay:150ms}.sidecar-resizableButton:focus:not(:disabled){background-color:rgba(7,130,126,.1)}.sidecar-resizableButton:focus:not(:disabled)::before,.sidecar-resizableButton:focus:not(:disabled)::after{background-color:#07827e;transition:width 150ms ease,height 150ms ease,transform 150ms ease;transition-delay:75ms}.sidecar-resizableButton:hover:not(:disabled).resizableButton--horizontal::before,.sidecar-resizableButton:hover:not(:disabled).resizableButton--horizontal::after,.sidecar-resizableButton:focus:not(:disabled).resizableButton--horizontal::before,.sidecar-resizableButton:focus:not(:disabled).resizableButton--horizontal::after{height:100%}.sidecar-resizableButton:hover:not(:disabled).resizableButton--horizontal::before,.sidecar-resizableButton:focus:not(:disabled).resizableButton--horizontal::before{transform:translate(-1px, -50%)}.sidecar-resizableButton:hover:not(:disabled).resizableButton--horizontal::after,.sidecar-resizableButton:focus:not(:disabled).resizableButton--horizontal::after{transform:translate(0, -50%)}.sidecar-resizableButton:hover:not(:disabled).resizableButton--vertical::before,.sidecar-resizableButton:hover:not(:disabled).resizableButton--vertical::after,.sidecar-resizableButton:focus:not(:disabled).resizableButton--vertical::before,.sidecar-resizableButton:focus:not(:disabled).resizableButton--vertical::after{width:100%}.sidecar-resizableButton:hover:not(:disabled).resizableButton--vertical::before,.sidecar-resizableButton:focus:not(:disabled).resizableButton--vertical::before{transform:translate(-50%, -1px)}.sidecar-resizableButton:hover:not(:disabled).resizableButton--vertical::after,.sidecar-resizableButton:focus:not(:disabled).resizableButton--vertical::after{transform:translate(-50%, 0)}.sidecar-resizableButton:disabled{display:none !important}\n',""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(292);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,'/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.sidecar-resizableButton{position:relative;flex-shrink:0;z-index:1000}.sidecar-resizableButton::before,.sidecar-resizableButton::after{content:"";display:block;position:absolute;top:50%;left:50%;background-color:#e3e5e9;transition:width 150ms ease,height 150ms ease,transform 150ms ease,background-color 150ms ease}.sidecar-resizableButton.resizableButton--horizontal{cursor:col-resize;width:16px;margin-left:-8px;margin-right:-8px}.sidecar-resizableButton.resizableButton--horizontal::before,.sidecar-resizableButton.resizableButton--horizontal::after{width:1px;height:12px}.sidecar-resizableButton.resizableButton--horizontal::before{transform:translate(-2px, -50%)}.sidecar-resizableButton.resizableButton--horizontal::after{transform:translate(1px, -50%)}.sidecar-resizableButton.resizableButton--vertical{cursor:row-resize;height:16px;margin-top:-8px;margin-bottom:-8px}.sidecar-resizableButton.resizableButton--vertical::before,.sidecar-resizableButton.resizableButton--vertical::after{width:12px;height:1px}.sidecar-resizableButton.resizableButton--vertical::before{transform:translate(-50%, -2px)}.sidecar-resizableButton.resizableButton--vertical::after{transform:translate(-50%, 1px)}.sidecar-resizableButton:hover:not(:disabled)::before,.sidecar-resizableButton:hover:not(:disabled)::after{background-color:#5c666f;transition-delay:150ms}.sidecar-resizableButton:focus:not(:disabled){background-color:rgba(0,151,209,.1)}.sidecar-resizableButton:focus:not(:disabled)::before,.sidecar-resizableButton:focus:not(:disabled)::after{background-color:#0097d1;transition:width 150ms ease,height 150ms ease,transform 150ms ease;transition-delay:75ms}.sidecar-resizableButton:hover:not(:disabled).resizableButton--horizontal::before,.sidecar-resizableButton:hover:not(:disabled).resizableButton--horizontal::after,.sidecar-resizableButton:focus:not(:disabled).resizableButton--horizontal::before,.sidecar-resizableButton:focus:not(:disabled).resizableButton--horizontal::after{height:100%}.sidecar-resizableButton:hover:not(:disabled).resizableButton--horizontal::before,.sidecar-resizableButton:focus:not(:disabled).resizableButton--horizontal::before{transform:translate(-1px, -50%)}.sidecar-resizableButton:hover:not(:disabled).resizableButton--horizontal::after,.sidecar-resizableButton:focus:not(:disabled).resizableButton--horizontal::after{transform:translate(0, -50%)}.sidecar-resizableButton:hover:not(:disabled).resizableButton--vertical::before,.sidecar-resizableButton:hover:not(:disabled).resizableButton--vertical::after,.sidecar-resizableButton:focus:not(:disabled).resizableButton--vertical::before,.sidecar-resizableButton:focus:not(:disabled).resizableButton--vertical::after{width:100%}.sidecar-resizableButton:hover:not(:disabled).resizableButton--vertical::before,.sidecar-resizableButton:focus:not(:disabled).resizableButton--vertical::before{transform:translate(-50%, -1px)}.sidecar-resizableButton:hover:not(:disabled).resizableButton--vertical::after,.sidecar-resizableButton:focus:not(:disabled).resizableButton--vertical::after{transform:translate(-50%, 0)}.sidecar-resizableButton:disabled{display:none !important}\n',""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(294);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,'/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.sidecar-resizableButton{position:relative;flex-shrink:0;z-index:1000}.sidecar-resizableButton::before,.sidecar-resizableButton::after{content:"";display:block;position:absolute;top:50%;left:50%;background-color:#2a3947;transition:width 150ms ease,height 150ms ease,transform 150ms ease,background-color 150ms ease}.sidecar-resizableButton.resizableButton--horizontal{cursor:col-resize;width:16px;margin-left:-8px;margin-right:-8px}.sidecar-resizableButton.resizableButton--horizontal::before,.sidecar-resizableButton.resizableButton--horizontal::after{width:1px;height:12px}.sidecar-resizableButton.resizableButton--horizontal::before{transform:translate(-2px, -50%)}.sidecar-resizableButton.resizableButton--horizontal::after{transform:translate(1px, -50%)}.sidecar-resizableButton.resizableButton--vertical{cursor:row-resize;height:16px;margin-top:-8px;margin-bottom:-8px}.sidecar-resizableButton.resizableButton--vertical::before,.sidecar-resizableButton.resizableButton--vertical::after{width:12px;height:1px}.sidecar-resizableButton.resizableButton--vertical::before{transform:translate(-50%, -2px)}.sidecar-resizableButton.resizableButton--vertical::after{transform:translate(-50%, 1px)}.sidecar-resizableButton:hover:not(:disabled)::before,.sidecar-resizableButton:hover:not(:disabled)::after{background-color:#adb4ba;transition-delay:150ms}.sidecar-resizableButton:focus:not(:disabled){background-color:rgba(2,104,188,.1)}.sidecar-resizableButton:focus:not(:disabled)::before,.sidecar-resizableButton:focus:not(:disabled)::after{background-color:#0268bc;transition:width 150ms ease,height 150ms ease,transform 150ms ease;transition-delay:75ms}.sidecar-resizableButton:hover:not(:disabled).resizableButton--horizontal::before,.sidecar-resizableButton:hover:not(:disabled).resizableButton--horizontal::after,.sidecar-resizableButton:focus:not(:disabled).resizableButton--horizontal::before,.sidecar-resizableButton:focus:not(:disabled).resizableButton--horizontal::after{height:100%}.sidecar-resizableButton:hover:not(:disabled).resizableButton--horizontal::before,.sidecar-resizableButton:focus:not(:disabled).resizableButton--horizontal::before{transform:translate(-1px, -50%)}.sidecar-resizableButton:hover:not(:disabled).resizableButton--horizontal::after,.sidecar-resizableButton:focus:not(:disabled).resizableButton--horizontal::after{transform:translate(0, -50%)}.sidecar-resizableButton:hover:not(:disabled).resizableButton--vertical::before,.sidecar-resizableButton:hover:not(:disabled).resizableButton--vertical::after,.sidecar-resizableButton:focus:not(:disabled).resizableButton--vertical::before,.sidecar-resizableButton:focus:not(:disabled).resizableButton--vertical::after{width:100%}.sidecar-resizableButton:hover:not(:disabled).resizableButton--vertical::before,.sidecar-resizableButton:focus:not(:disabled).resizableButton--vertical::before{transform:translate(-50%, -1px)}.sidecar-resizableButton:hover:not(:disabled).resizableButton--vertical::after,.sidecar-resizableButton:focus:not(:disabled).resizableButton--vertical::after{transform:translate(-50%, 0)}.sidecar-resizableButton:disabled{display:none !important}\n',""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){switch(window.__osdThemeTag__){case"v7dark":return __webpack_require__(296);case"v7light":return __webpack_require__(298);case"v8dark":return __webpack_require__(300);case"v8light":return __webpack_require__(302);case"v9dark":return __webpack_require__(304);case"v9light":return __webpack_require__(306)}},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(297);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,'/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.osdCollapsibleNav__recentsListGroup{scrollbar-width:thin;height:100%;overflow-y:auto;overflow-x:hidden;max-height:160px;margin-right:-8px}.osdCollapsibleNav__recentsListGroup::-webkit-scrollbar{width:16px;height:16px}.osdCollapsibleNav__recentsListGroup::-webkit-scrollbar-thumb{background-color:rgba(152,162,179,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.osdCollapsibleNav__recentsListGroup::-webkit-scrollbar-corner,.osdCollapsibleNav__recentsListGroup::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.osdCollapsibleNav__recentsListGroup:focus{outline:none}.osdCollapsibleNav__recentsListGroup[tabindex="0"]:focus:focus-visible{outline-style:auto}\n',""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(299);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,'/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.osdCollapsibleNav__recentsListGroup{scrollbar-width:thin;height:100%;overflow-y:auto;overflow-x:hidden;max-height:160px;margin-right:-8px}.osdCollapsibleNav__recentsListGroup::-webkit-scrollbar{width:16px;height:16px}.osdCollapsibleNav__recentsListGroup::-webkit-scrollbar-thumb{background-color:rgba(105,112,125,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.osdCollapsibleNav__recentsListGroup::-webkit-scrollbar-corner,.osdCollapsibleNav__recentsListGroup::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.osdCollapsibleNav__recentsListGroup:focus{outline:none}.osdCollapsibleNav__recentsListGroup[tabindex="0"]:focus:focus-visible{outline-style:auto}\n',""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(301);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,'/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.osdCollapsibleNav__recentsListGroup{scrollbar-width:thin;height:100%;overflow-y:auto;overflow-x:hidden;max-height:160px;margin-right:-8px}.osdCollapsibleNav__recentsListGroup::-webkit-scrollbar{width:16px;height:16px}.osdCollapsibleNav__recentsListGroup::-webkit-scrollbar-thumb{background-color:rgba(141,152,163,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.osdCollapsibleNav__recentsListGroup::-webkit-scrollbar-corner,.osdCollapsibleNav__recentsListGroup::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.osdCollapsibleNav__recentsListGroup:focus{outline:none}.osdCollapsibleNav__recentsListGroup[tabindex="0"]:focus:focus-visible{outline-style:auto}\n',""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(303);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,'/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.osdCollapsibleNav__recentsListGroup{scrollbar-width:thin;height:100%;overflow-y:auto;overflow-x:hidden;max-height:160px;margin-right:-8px}.osdCollapsibleNav__recentsListGroup::-webkit-scrollbar{width:16px;height:16px}.osdCollapsibleNav__recentsListGroup::-webkit-scrollbar-thumb{background-color:rgba(90,104,117,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.osdCollapsibleNav__recentsListGroup::-webkit-scrollbar-corner,.osdCollapsibleNav__recentsListGroup::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.osdCollapsibleNav__recentsListGroup:focus{outline:none}.osdCollapsibleNav__recentsListGroup[tabindex="0"]:focus:focus-visible{outline-style:auto}\n',""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(305);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,'/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.osdCollapsibleNav__recentsListGroup{scrollbar-width:thin;height:100%;overflow-y:auto;overflow-x:hidden;max-height:160px;margin-right:-8px}.osdCollapsibleNav__recentsListGroup::-webkit-scrollbar{width:16px;height:16px}.osdCollapsibleNav__recentsListGroup::-webkit-scrollbar-thumb{background-color:rgba(149,155,162,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.osdCollapsibleNav__recentsListGroup::-webkit-scrollbar-corner,.osdCollapsibleNav__recentsListGroup::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.osdCollapsibleNav__recentsListGroup:focus{outline:none}.osdCollapsibleNav__recentsListGroup[tabindex="0"]:focus:focus-visible{outline-style:auto}\n',""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(307);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,'/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.osdCollapsibleNav__recentsListGroup{scrollbar-width:thin;height:100%;overflow-y:auto;overflow-x:hidden;max-height:160px;margin-right:-8px}.osdCollapsibleNav__recentsListGroup::-webkit-scrollbar{width:16px;height:16px}.osdCollapsibleNav__recentsListGroup::-webkit-scrollbar-thumb{background-color:rgba(90,104,117,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.osdCollapsibleNav__recentsListGroup::-webkit-scrollbar-corner,.osdCollapsibleNav__recentsListGroup::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.osdCollapsibleNav__recentsListGroup:focus{outline:none}.osdCollapsibleNav__recentsListGroup[tabindex="0"]:focus:focus-visible{outline-style:auto}\n',""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(309);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.context-nav-wrapper{border:none !important;border-top-right-radius:24px;background-color:#141519;overflow:hidden;box-shadow:1px 0 0 #343741 !important}.context-nav-wrapper .nav-link-item{padding:8px;border-radius:8px;box-shadow:none;margin-bottom:0;margin-top:0}.context-nav-wrapper .nav-link-item .nav-link-item-btn{margin-bottom:0;padding-top:0;padding-bottom:0}.context-nav-wrapper .nav-link-parent-item{padding-top:0;padding-bottom:0;margin-bottom:8px}.context-nav-wrapper .nav-link-parent-item>.nav-link-item-btn{padding:8px;margin-bottom:4px}.context-nav-wrapper .nav-link-parent-item svg{display:none}.context-nav-wrapper .nav-link-parent-item .leftNavCustomizedAccordionIcon{display:inline-block}.context-nav-wrapper .nav-link-item-category-button{margin-bottom:4px}.context-nav-wrapper .nav-link-item-category-button .nav-link-item{padding:4px 8px}.context-nav-wrapper .nav-link-item-category-item{margin-top:24px}.context-nav-wrapper .nav-link-fake-item{margin-top:0}.context-nav-wrapper .nav-link-fake-item-button{display:none}.context-nav-wrapper .nav-nested-item{padding:8px 0}.context-nav-wrapper .nav-nested-item::after,.context-nav-wrapper .nav-nested-item .nav-link-item-btn::after{background-color:#98a2b3}.context-nav-wrapper .nav-nested-item:last-of-type::after{height:20px}.context-nav-wrapper .left-navigation-wrapper{display:flex;flex-direction:column}.context-nav-wrapper .flex-1-container{flex:1}.context-nav-wrapper .bottom-container{padding:0 16px;display:flex;-ms-overflow-style:-ms-autohiding-scrollbar}.context-nav-wrapper .bottom-container.bottom-container-collapsed{flex-direction:column;align-items:center;gap:16px;padding-top:8px;padding-bottom:8px}.context-nav-wrapper .bottom-container.bottom-container-collapsed>*{justify-content:center}.context-nav-wrapper .bottom-container.bottom-container-expanded{gap:16px;padding-top:12px;padding-bottom:12px;border-top:1px solid #343741;border-color:#535966}.context-nav-wrapper .navGroupEnabledNavTopWrapper{padding:0 8px;padding-left:8px}.context-nav-wrapper .navGroupEnabledNavTopWrapper .navGroupEnabledHomeIcon{margin-left:8px}.context-nav-wrapper .searchBar-wrapper{padding:16px;padding-top:8px;background-color:rgba(0,0,0,0);flex-grow:0}.context-nav-wrapper .searchBar-wrapper .searchInput{background-color:rgba(22,23,28,.5)}.context-nav-wrapper .searchBar-wrapper .searchInput:focus{background-color:#16171c}.context-nav-wrapper .searchBarIcon{position:fixed;top:48px;left:0}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(311);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.context-nav-wrapper{border:none !important;border-top-right-radius:24px;background-color:#fafbfd;overflow:hidden;box-shadow:1px 0 0 #d3dae6 !important}.context-nav-wrapper .nav-link-item{padding:8px;border-radius:8px;box-shadow:none;margin-bottom:0;margin-top:0}.context-nav-wrapper .nav-link-item .nav-link-item-btn{margin-bottom:0;padding-top:0;padding-bottom:0}.context-nav-wrapper .nav-link-parent-item{padding-top:0;padding-bottom:0;margin-bottom:8px}.context-nav-wrapper .nav-link-parent-item>.nav-link-item-btn{padding:8px;margin-bottom:4px}.context-nav-wrapper .nav-link-parent-item svg{display:none}.context-nav-wrapper .nav-link-parent-item .leftNavCustomizedAccordionIcon{display:inline-block}.context-nav-wrapper .nav-link-item-category-button{margin-bottom:4px}.context-nav-wrapper .nav-link-item-category-button .nav-link-item{padding:4px 8px}.context-nav-wrapper .nav-link-item-category-item{margin-top:24px}.context-nav-wrapper .nav-link-fake-item{margin-top:0}.context-nav-wrapper .nav-link-fake-item-button{display:none}.context-nav-wrapper .nav-nested-item{padding:8px 0}.context-nav-wrapper .nav-nested-item::after,.context-nav-wrapper .nav-nested-item .nav-link-item-btn::after{background-color:#69707d}.context-nav-wrapper .nav-nested-item:last-of-type::after{height:20px}.context-nav-wrapper .left-navigation-wrapper{display:flex;flex-direction:column}.context-nav-wrapper .flex-1-container{flex:1}.context-nav-wrapper .bottom-container{padding:0 16px;display:flex;-ms-overflow-style:-ms-autohiding-scrollbar}.context-nav-wrapper .bottom-container.bottom-container-collapsed{flex-direction:column;align-items:center;gap:16px;padding-top:8px;padding-bottom:8px}.context-nav-wrapper .bottom-container.bottom-container-collapsed>*{justify-content:center}.context-nav-wrapper .bottom-container.bottom-container-expanded{gap:16px;padding-top:12px;padding-bottom:12px;border-top:1px solid #d3dae6;border-color:#98a2b3}.context-nav-wrapper .navGroupEnabledNavTopWrapper{padding:0 8px;padding-left:8px}.context-nav-wrapper .navGroupEnabledNavTopWrapper .navGroupEnabledHomeIcon{margin-left:8px}.context-nav-wrapper .searchBar-wrapper{padding:16px;padding-top:8px;background-color:rgba(0,0,0,0);flex-grow:0}.context-nav-wrapper .searchBar-wrapper .searchInput{background-color:rgba(251,252,253,.5)}.context-nav-wrapper .searchBar-wrapper .searchInput:focus{background-color:#fbfcfd}.context-nav-wrapper .searchBarIcon{position:fixed;top:48px;left:0}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(313);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.context-nav-wrapper{border:none !important;border-top-right-radius:24px;background-color:#172430;overflow:hidden;box-shadow:1px 0 0 #293847 !important}.context-nav-wrapper .nav-link-item{padding:8px;border-radius:8px;box-shadow:none;margin-bottom:0;margin-top:0}.context-nav-wrapper .nav-link-item .nav-link-item-btn{margin-bottom:0;padding-top:0;padding-bottom:0}.context-nav-wrapper .nav-link-parent-item{padding-top:0;padding-bottom:0;margin-bottom:8px}.context-nav-wrapper .nav-link-parent-item>.nav-link-item-btn{padding:8px;margin-bottom:4px}.context-nav-wrapper .nav-link-parent-item svg{display:none}.context-nav-wrapper .nav-link-parent-item .leftNavCustomizedAccordionIcon{display:inline-block}.context-nav-wrapper .nav-link-item-category-button{margin-bottom:4px}.context-nav-wrapper .nav-link-item-category-button .nav-link-item{padding:4px 8px}.context-nav-wrapper .nav-link-item-category-item{margin-top:24px}.context-nav-wrapper .nav-link-fake-item{margin-top:0}.context-nav-wrapper .nav-link-fake-item-button{display:none}.context-nav-wrapper .nav-nested-item{padding:8px 0}.context-nav-wrapper .nav-nested-item::after,.context-nav-wrapper .nav-nested-item .nav-link-item-btn::after{background-color:#8d98a3}.context-nav-wrapper .nav-nested-item:last-of-type::after{height:20px}.context-nav-wrapper .left-navigation-wrapper{display:flex;flex-direction:column}.context-nav-wrapper .flex-1-container{flex:1}.context-nav-wrapper .bottom-container{padding:0 16px;display:flex;-ms-overflow-style:-ms-autohiding-scrollbar}.context-nav-wrapper .bottom-container.bottom-container-collapsed{flex-direction:column;align-items:center;gap:16px;padding-top:8px;padding-bottom:8px}.context-nav-wrapper .bottom-container.bottom-container-collapsed>*{justify-content:center}.context-nav-wrapper .bottom-container.bottom-container-expanded{gap:16px;padding-top:12px;padding-bottom:12px;border-top:1px solid #293847;border-color:#5b6875}.context-nav-wrapper .navGroupEnabledNavTopWrapper{padding:0 8px;padding-left:8px}.context-nav-wrapper .navGroupEnabledNavTopWrapper .navGroupEnabledHomeIcon{margin-left:8px}.context-nav-wrapper .searchBar-wrapper{padding:16px;padding-top:8px;background-color:rgba(0,0,0,0);flex-grow:0}.context-nav-wrapper .searchBar-wrapper .searchInput{background-color:rgba(14,23,33,.5)}.context-nav-wrapper .searchBar-wrapper .searchInput:focus{background-color:#0e1721}.context-nav-wrapper .searchBarIcon{position:fixed;top:48px;left:0}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(315);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.context-nav-wrapper{border:none !important;border-top-right-radius:24px;background-color:#f0f2f4;overflow:hidden;box-shadow:1px 0 0 #d6d9dd !important}.context-nav-wrapper .nav-link-item{padding:8px;border-radius:8px;box-shadow:none;margin-bottom:0;margin-top:0}.context-nav-wrapper .nav-link-item .nav-link-item-btn{margin-bottom:0;padding-top:0;padding-bottom:0}.context-nav-wrapper .nav-link-parent-item{padding-top:0;padding-bottom:0;margin-bottom:8px}.context-nav-wrapper .nav-link-parent-item>.nav-link-item-btn{padding:8px;margin-bottom:4px}.context-nav-wrapper .nav-link-parent-item svg{display:none}.context-nav-wrapper .nav-link-parent-item .leftNavCustomizedAccordionIcon{display:inline-block}.context-nav-wrapper .nav-link-item-category-button{margin-bottom:4px}.context-nav-wrapper .nav-link-item-category-button .nav-link-item{padding:4px 8px}.context-nav-wrapper .nav-link-item-category-item{margin-top:24px}.context-nav-wrapper .nav-link-fake-item{margin-top:0}.context-nav-wrapper .nav-link-fake-item-button{display:none}.context-nav-wrapper .nav-nested-item{padding:8px 0}.context-nav-wrapper .nav-nested-item::after,.context-nav-wrapper .nav-nested-item .nav-link-item-btn::after{background-color:#5a6875}.context-nav-wrapper .nav-nested-item:last-of-type::after{height:20px}.context-nav-wrapper .left-navigation-wrapper{display:flex;flex-direction:column}.context-nav-wrapper .flex-1-container{flex:1}.context-nav-wrapper .bottom-container{padding:0 16px;display:flex;-ms-overflow-style:-ms-autohiding-scrollbar}.context-nav-wrapper .bottom-container.bottom-container-collapsed{flex-direction:column;align-items:center;gap:16px;padding-top:8px;padding-bottom:8px}.context-nav-wrapper .bottom-container.bottom-container-collapsed>*{justify-content:center}.context-nav-wrapper .bottom-container.bottom-container-expanded{gap:16px;padding-top:12px;padding-bottom:12px;border-top:1px solid #d6d9dd;border-color:#adb4ba}.context-nav-wrapper .navGroupEnabledNavTopWrapper{padding:0 8px;padding-left:8px}.context-nav-wrapper .navGroupEnabledNavTopWrapper .navGroupEnabledHomeIcon{margin-left:8px}.context-nav-wrapper .searchBar-wrapper{padding:16px;padding-top:8px;background-color:rgba(0,0,0,0);flex-grow:0}.context-nav-wrapper .searchBar-wrapper .searchInput{background-color:rgba(242,244,246,.5)}.context-nav-wrapper .searchBar-wrapper .searchInput:focus{background-color:#f2f4f6}.context-nav-wrapper .searchBarIcon{position:fixed;top:48px;left:0}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(317);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.context-nav-wrapper{border:none !important;border-top-right-radius:24px;background-color:#0f171f;overflow:hidden;box-shadow:1px 0 0 #2a3540 !important}.context-nav-wrapper .nav-link-item{padding:8px;border-radius:8px;box-shadow:none;margin-bottom:0;margin-top:0}.context-nav-wrapper .nav-link-item .nav-link-item-btn{margin-bottom:0;padding-top:0;padding-bottom:0}.context-nav-wrapper .nav-link-parent-item{padding-top:0;padding-bottom:0;margin-bottom:8px}.context-nav-wrapper .nav-link-parent-item>.nav-link-item-btn{padding:8px;margin-bottom:4px}.context-nav-wrapper .nav-link-parent-item svg{display:none}.context-nav-wrapper .nav-link-parent-item .leftNavCustomizedAccordionIcon{display:inline-block}.context-nav-wrapper .nav-link-item-category-button{margin-bottom:4px}.context-nav-wrapper .nav-link-item-category-button .nav-link-item{padding:4px 8px}.context-nav-wrapper .nav-link-item-category-item{margin-top:24px}.context-nav-wrapper .nav-link-fake-item{margin-top:0}.context-nav-wrapper .nav-link-fake-item-button{display:none}.context-nav-wrapper .nav-nested-item{padding:8px 0}.context-nav-wrapper .nav-nested-item::after,.context-nav-wrapper .nav-nested-item .nav-link-item-btn::after{background-color:#959ba2}.context-nav-wrapper .nav-nested-item:last-of-type::after{height:20px}.context-nav-wrapper .left-navigation-wrapper{display:flex;flex-direction:column}.context-nav-wrapper .flex-1-container{flex:1}.context-nav-wrapper .bottom-container{padding:0 16px;display:flex;-ms-overflow-style:-ms-autohiding-scrollbar}.context-nav-wrapper .bottom-container.bottom-container-collapsed{flex-direction:column;align-items:center;gap:16px;padding-top:8px;padding-bottom:8px}.context-nav-wrapper .bottom-container.bottom-container-collapsed>*{justify-content:center}.context-nav-wrapper .bottom-container.bottom-container-expanded{gap:16px;padding-top:12px;padding-bottom:12px;border-top:1px solid #2a3540;border-color:#5c666f}.context-nav-wrapper .navGroupEnabledNavTopWrapper{padding:0 8px;padding-left:8px}.context-nav-wrapper .navGroupEnabledNavTopWrapper .navGroupEnabledHomeIcon{margin-left:8px}.context-nav-wrapper .searchBar-wrapper{padding:16px;padding-top:8px;background-color:rgba(0,0,0,0);flex-grow:0}.context-nav-wrapper .searchBar-wrapper .searchInput{background-color:rgba(16,21,31,.5)}.context-nav-wrapper .searchBar-wrapper .searchInput:focus{background-color:#10151f}.context-nav-wrapper .searchBarIcon{position:fixed;top:48px;left:0}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(319);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.context-nav-wrapper{border:none !important;border-top-right-radius:24px;background-color:#fcfeff;overflow:hidden;box-shadow:1px 0 0 #d6d9dd !important}.context-nav-wrapper .nav-link-item{padding:8px;border-radius:8px;box-shadow:none;margin-bottom:0;margin-top:0}.context-nav-wrapper .nav-link-item .nav-link-item-btn{margin-bottom:0;padding-top:0;padding-bottom:0}.context-nav-wrapper .nav-link-parent-item{padding-top:0;padding-bottom:0;margin-bottom:8px}.context-nav-wrapper .nav-link-parent-item>.nav-link-item-btn{padding:8px;margin-bottom:4px}.context-nav-wrapper .nav-link-parent-item svg{display:none}.context-nav-wrapper .nav-link-parent-item .leftNavCustomizedAccordionIcon{display:inline-block}.context-nav-wrapper .nav-link-item-category-button{margin-bottom:4px}.context-nav-wrapper .nav-link-item-category-button .nav-link-item{padding:4px 8px}.context-nav-wrapper .nav-link-item-category-item{margin-top:24px}.context-nav-wrapper .nav-link-fake-item{margin-top:0}.context-nav-wrapper .nav-link-fake-item-button{display:none}.context-nav-wrapper .nav-nested-item{padding:8px 0}.context-nav-wrapper .nav-nested-item::after,.context-nav-wrapper .nav-nested-item .nav-link-item-btn::after{background-color:#5a6875}.context-nav-wrapper .nav-nested-item:last-of-type::after{height:20px}.context-nav-wrapper .left-navigation-wrapper{display:flex;flex-direction:column}.context-nav-wrapper .flex-1-container{flex:1}.context-nav-wrapper .bottom-container{padding:0 16px;display:flex;-ms-overflow-style:-ms-autohiding-scrollbar}.context-nav-wrapper .bottom-container.bottom-container-collapsed{flex-direction:column;align-items:center;gap:16px;padding-top:8px;padding-bottom:8px}.context-nav-wrapper .bottom-container.bottom-container-collapsed>*{justify-content:center}.context-nav-wrapper .bottom-container.bottom-container-expanded{gap:16px;padding-top:12px;padding-bottom:12px;border-top:1px solid #d6d9dd;border-color:#adb4ba}.context-nav-wrapper .navGroupEnabledNavTopWrapper{padding:0 8px;padding-left:8px}.context-nav-wrapper .navGroupEnabledNavTopWrapper .navGroupEnabledHomeIcon{margin-left:8px}.context-nav-wrapper .searchBar-wrapper{padding:16px;padding-top:8px;background-color:rgba(0,0,0,0);flex-grow:0}.context-nav-wrapper .searchBar-wrapper .searchInput{background-color:rgba(242,244,246,.5)}.context-nav-wrapper .searchBar-wrapper .searchInput:focus{background-color:#f2f4f6}.context-nav-wrapper .searchBarIcon{position:fixed;top:48px;left:0}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){switch(window.__osdThemeTag__){case"v7dark":return __webpack_require__(321);case"v7light":return __webpack_require__(323);case"v8dark":return __webpack_require__(325);case"v8light":return __webpack_require__(327);case"v9dark":return __webpack_require__(329);case"v9light":return __webpack_require__(331)}},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(322);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.newTopNavHeader{z-index:1000;padding:0 16px 8px;box-shadow:none;border-bottom:none;background:none;height:auto;gap:8px}.newTopNavHeader.primaryHeader{padding-top:12px}.newTopNavHeader.primaryApplicationHeader{padding-top:8px}.newTopNavHeader.primaryApplicationHeader:last-child{margin-bottom:0}.newTopNavHeader .headerAppActionMenu>.euiFlexGroup{gap:8px}.newTopNavHeader .headerAppActionMenu>.euiHeaderLinks>.euiHeaderLinks__list{gap:8px}.newTopNavHeader .headerAppActionMenu>.euiHeaderLinks>.euiHeaderLinks__list>*{margin:0}.newTopNavHeader:has(.headerDescriptionControl,.headerBottomControl){height:auto}.newTopNavHeader>.euiHeaderSection{gap:8px}.newTopNavHeader>.euiHeaderSection:only-child{width:100%}.newTopNavHeader>.euiHeaderSection>.euiHeaderSectionItem:empty{display:none}.newTopNavHeader:not(:has(>:not(:empty))),.newTopNavHeader .euiHeaderSectionItem:not(:has(>:not(:empty))){display:none}.headerGlobalNav:has(.newTopNavHeader:not(.primaryApplicationHeader)){margin-bottom:-8px}.newTopNavHeaderTitle{line-height:32px;font-size:2rem}.primaryApplicationHeader .euiHeaderSection>.euiHeaderSectionItem{align-items:stretch}.primaryApplicationHeader .headerAppActionMenuSection{flex-grow:1}.primaryApplicationHeader .headerAppActionMenu{width:100%}.navToggleInLargeScreen{position:fixed;left:0;top:0}.navToggleInSmallScreen{min-width:unset;height:32px}.stretchedActionMenu{width:100%}#globalHeaderBars:has(.primaryApplicationHeader){border-bottom:1px solid #343741}@media only screen and (min-width: 575px)and (max-width: 767px){.secondaryPageHeaderFlexGroup{display:flex;flex-direction:column}.secondaryPageHeaderFlexGroup .euiHeaderSection--left .euiFlexGroup--responsive>.euiFlexItem,.secondaryPageHeaderFlexGroup .euiHeaderSection--right .euiFlexGroup--responsive>.euiFlexItem{margin:4px 0 !important}.leftSecondaryPageHeaderFlexGroup{margin-bottom:4px}}@media only screen and (max-width: 574px){.secondaryPageHeaderFlexGroup{display:flex;flex-direction:column}.secondaryPageHeaderFlexGroup .euiHeaderSection--left .euiFlexGroup--responsive>.euiFlexItem,.secondaryPageHeaderFlexGroup .euiHeaderSection--right .euiFlexGroup--responsive>.euiFlexItem{margin:4px 0 !important}.leftSecondaryPageHeaderFlexGroup{margin-bottom:4px}}@media only screen and (min-width: 768px)and (max-width: 991px){.leftSecondaryPageHeaderFlexGroup{margin-right:12px}}@media only screen and (min-width: 992px)and (max-width: 1199px){.leftSecondaryPageHeaderFlexGroup{margin-right:12px}}@media only screen and (min-width: 1200px)and (max-width: 1679px){.leftSecondaryPageHeaderFlexGroup{margin-right:12px}}@media only screen and (min-width: 1680px)and (max-width: 1919px){.leftSecondaryPageHeaderFlexGroup{margin-right:12px}}@media only screen and (min-width: 1920px){.leftSecondaryPageHeaderFlexGroup{margin-right:12px}}.leftSecondaryPageHeaderFlexGroup .euiBadge,.leftSecondaryPageHeaderFlexGroup .euiHealth{line-height:32px !important}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(324);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.newTopNavHeader{z-index:1000;padding:0 16px 8px;box-shadow:none;border-bottom:none;background:none;height:auto;gap:8px}.newTopNavHeader.primaryHeader{padding-top:12px}.newTopNavHeader.primaryApplicationHeader{padding-top:8px}.newTopNavHeader.primaryApplicationHeader:last-child{margin-bottom:0}.newTopNavHeader .headerAppActionMenu>.euiFlexGroup{gap:8px}.newTopNavHeader .headerAppActionMenu>.euiHeaderLinks>.euiHeaderLinks__list{gap:8px}.newTopNavHeader .headerAppActionMenu>.euiHeaderLinks>.euiHeaderLinks__list>*{margin:0}.newTopNavHeader:has(.headerDescriptionControl,.headerBottomControl){height:auto}.newTopNavHeader>.euiHeaderSection{gap:8px}.newTopNavHeader>.euiHeaderSection:only-child{width:100%}.newTopNavHeader>.euiHeaderSection>.euiHeaderSectionItem:empty{display:none}.newTopNavHeader:not(:has(>:not(:empty))),.newTopNavHeader .euiHeaderSectionItem:not(:has(>:not(:empty))){display:none}.headerGlobalNav:has(.newTopNavHeader:not(.primaryApplicationHeader)){margin-bottom:-8px}.newTopNavHeaderTitle{line-height:32px;font-size:2rem}.primaryApplicationHeader .euiHeaderSection>.euiHeaderSectionItem{align-items:stretch}.primaryApplicationHeader .headerAppActionMenuSection{flex-grow:1}.primaryApplicationHeader .headerAppActionMenu{width:100%}.navToggleInLargeScreen{position:fixed;left:0;top:0}.navToggleInSmallScreen{min-width:unset;height:32px}.stretchedActionMenu{width:100%}#globalHeaderBars:has(.primaryApplicationHeader){border-bottom:1px solid #d3dae6}@media only screen and (min-width: 575px)and (max-width: 767px){.secondaryPageHeaderFlexGroup{display:flex;flex-direction:column}.secondaryPageHeaderFlexGroup .euiHeaderSection--left .euiFlexGroup--responsive>.euiFlexItem,.secondaryPageHeaderFlexGroup .euiHeaderSection--right .euiFlexGroup--responsive>.euiFlexItem{margin:4px 0 !important}.leftSecondaryPageHeaderFlexGroup{margin-bottom:4px}}@media only screen and (max-width: 574px){.secondaryPageHeaderFlexGroup{display:flex;flex-direction:column}.secondaryPageHeaderFlexGroup .euiHeaderSection--left .euiFlexGroup--responsive>.euiFlexItem,.secondaryPageHeaderFlexGroup .euiHeaderSection--right .euiFlexGroup--responsive>.euiFlexItem{margin:4px 0 !important}.leftSecondaryPageHeaderFlexGroup{margin-bottom:4px}}@media only screen and (min-width: 768px)and (max-width: 991px){.leftSecondaryPageHeaderFlexGroup{margin-right:12px}}@media only screen and (min-width: 992px)and (max-width: 1199px){.leftSecondaryPageHeaderFlexGroup{margin-right:12px}}@media only screen and (min-width: 1200px)and (max-width: 1679px){.leftSecondaryPageHeaderFlexGroup{margin-right:12px}}@media only screen and (min-width: 1680px)and (max-width: 1919px){.leftSecondaryPageHeaderFlexGroup{margin-right:12px}}@media only screen and (min-width: 1920px){.leftSecondaryPageHeaderFlexGroup{margin-right:12px}}.leftSecondaryPageHeaderFlexGroup .euiBadge,.leftSecondaryPageHeaderFlexGroup .euiHealth{line-height:32px !important}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(326);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.newTopNavHeader{z-index:1000;padding:0 16px 8px;box-shadow:none;border-bottom:none;background:none;height:auto;gap:8px}.newTopNavHeader.primaryHeader{padding-top:12px}.newTopNavHeader.primaryApplicationHeader{padding-top:8px}.newTopNavHeader.primaryApplicationHeader:last-child{margin-bottom:0}.newTopNavHeader .headerAppActionMenu>.euiFlexGroup{gap:8px}.newTopNavHeader .headerAppActionMenu>.euiHeaderLinks>.euiHeaderLinks__list{gap:8px}.newTopNavHeader .headerAppActionMenu>.euiHeaderLinks>.euiHeaderLinks__list>*{margin:0}.newTopNavHeader:has(.headerDescriptionControl,.headerBottomControl){height:auto}.newTopNavHeader>.euiHeaderSection{gap:8px}.newTopNavHeader>.euiHeaderSection:only-child{width:100%}.newTopNavHeader>.euiHeaderSection>.euiHeaderSectionItem:empty{display:none}.newTopNavHeader:not(:has(>:not(:empty))),.newTopNavHeader .euiHeaderSectionItem:not(:has(>:not(:empty))){display:none}.headerGlobalNav:has(.newTopNavHeader:not(.primaryApplicationHeader)){margin-bottom:-8px}.newTopNavHeaderTitle{line-height:32px;font-size:2rem}.primaryApplicationHeader .euiHeaderSection>.euiHeaderSectionItem{align-items:stretch}.primaryApplicationHeader .headerAppActionMenuSection{flex-grow:1}.primaryApplicationHeader .headerAppActionMenu{width:100%}.navToggleInLargeScreen{position:fixed;left:0;top:0}.navToggleInSmallScreen{min-width:unset;height:32px}.stretchedActionMenu{width:100%}#globalHeaderBars:has(.primaryApplicationHeader){border-bottom:1px solid #293847}@media only screen and (min-width: 575px)and (max-width: 767px){.secondaryPageHeaderFlexGroup{display:flex;flex-direction:column}.secondaryPageHeaderFlexGroup .euiHeaderSection--left .euiFlexGroup--responsive>.euiFlexItem,.secondaryPageHeaderFlexGroup .euiHeaderSection--right .euiFlexGroup--responsive>.euiFlexItem{margin:4px 0 !important}.leftSecondaryPageHeaderFlexGroup{margin-bottom:4px}}@media only screen and (max-width: 574px){.secondaryPageHeaderFlexGroup{display:flex;flex-direction:column}.secondaryPageHeaderFlexGroup .euiHeaderSection--left .euiFlexGroup--responsive>.euiFlexItem,.secondaryPageHeaderFlexGroup .euiHeaderSection--right .euiFlexGroup--responsive>.euiFlexItem{margin:4px 0 !important}.leftSecondaryPageHeaderFlexGroup{margin-bottom:4px}}@media only screen and (min-width: 768px)and (max-width: 991px){.leftSecondaryPageHeaderFlexGroup{margin-right:12px}}@media only screen and (min-width: 992px)and (max-width: 1199px){.leftSecondaryPageHeaderFlexGroup{margin-right:12px}}@media only screen and (min-width: 1200px)and (max-width: 1679px){.leftSecondaryPageHeaderFlexGroup{margin-right:12px}}@media only screen and (min-width: 1680px)and (max-width: 1919px){.leftSecondaryPageHeaderFlexGroup{margin-right:12px}}@media only screen and (min-width: 1920px){.leftSecondaryPageHeaderFlexGroup{margin-right:12px}}.leftSecondaryPageHeaderFlexGroup .euiBadge,.leftSecondaryPageHeaderFlexGroup .euiHealth{line-height:32px !important}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(328);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.newTopNavHeader{z-index:1000;padding:0 16px 8px;box-shadow:none;border-bottom:none;background:none;height:auto;gap:8px}.newTopNavHeader.primaryHeader{padding-top:12px}.newTopNavHeader.primaryApplicationHeader{padding-top:8px}.newTopNavHeader.primaryApplicationHeader:last-child{margin-bottom:0}.newTopNavHeader .headerAppActionMenu>.euiFlexGroup{gap:8px}.newTopNavHeader .headerAppActionMenu>.euiHeaderLinks>.euiHeaderLinks__list{gap:8px}.newTopNavHeader .headerAppActionMenu>.euiHeaderLinks>.euiHeaderLinks__list>*{margin:0}.newTopNavHeader:has(.headerDescriptionControl,.headerBottomControl){height:auto}.newTopNavHeader>.euiHeaderSection{gap:8px}.newTopNavHeader>.euiHeaderSection:only-child{width:100%}.newTopNavHeader>.euiHeaderSection>.euiHeaderSectionItem:empty{display:none}.newTopNavHeader:not(:has(>:not(:empty))),.newTopNavHeader .euiHeaderSectionItem:not(:has(>:not(:empty))){display:none}.headerGlobalNav:has(.newTopNavHeader:not(.primaryApplicationHeader)){margin-bottom:-8px}.newTopNavHeaderTitle{line-height:32px;font-size:2rem}.primaryApplicationHeader .euiHeaderSection>.euiHeaderSectionItem{align-items:stretch}.primaryApplicationHeader .headerAppActionMenuSection{flex-grow:1}.primaryApplicationHeader .headerAppActionMenu{width:100%}.navToggleInLargeScreen{position:fixed;left:0;top:0}.navToggleInSmallScreen{min-width:unset;height:32px}.stretchedActionMenu{width:100%}#globalHeaderBars:has(.primaryApplicationHeader){border-bottom:1px solid #d6d9dd}@media only screen and (min-width: 575px)and (max-width: 767px){.secondaryPageHeaderFlexGroup{display:flex;flex-direction:column}.secondaryPageHeaderFlexGroup .euiHeaderSection--left .euiFlexGroup--responsive>.euiFlexItem,.secondaryPageHeaderFlexGroup .euiHeaderSection--right .euiFlexGroup--responsive>.euiFlexItem{margin:4px 0 !important}.leftSecondaryPageHeaderFlexGroup{margin-bottom:4px}}@media only screen and (max-width: 574px){.secondaryPageHeaderFlexGroup{display:flex;flex-direction:column}.secondaryPageHeaderFlexGroup .euiHeaderSection--left .euiFlexGroup--responsive>.euiFlexItem,.secondaryPageHeaderFlexGroup .euiHeaderSection--right .euiFlexGroup--responsive>.euiFlexItem{margin:4px 0 !important}.leftSecondaryPageHeaderFlexGroup{margin-bottom:4px}}@media only screen and (min-width: 768px)and (max-width: 991px){.leftSecondaryPageHeaderFlexGroup{margin-right:12px}}@media only screen and (min-width: 992px)and (max-width: 1199px){.leftSecondaryPageHeaderFlexGroup{margin-right:12px}}@media only screen and (min-width: 1200px)and (max-width: 1679px){.leftSecondaryPageHeaderFlexGroup{margin-right:12px}}@media only screen and (min-width: 1680px)and (max-width: 1919px){.leftSecondaryPageHeaderFlexGroup{margin-right:12px}}@media only screen and (min-width: 1920px){.leftSecondaryPageHeaderFlexGroup{margin-right:12px}}.leftSecondaryPageHeaderFlexGroup .euiBadge,.leftSecondaryPageHeaderFlexGroup .euiHealth{line-height:32px !important}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(330);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.newTopNavHeader{z-index:1000;padding:0 16px 8px;box-shadow:none;border-bottom:none;background:none;height:auto;gap:8px}.newTopNavHeader.primaryHeader{padding-top:12px}.newTopNavHeader.primaryApplicationHeader{padding-top:8px}.newTopNavHeader.primaryApplicationHeader:last-child{margin-bottom:0}.newTopNavHeader .headerAppActionMenu>.euiFlexGroup{gap:8px}.newTopNavHeader .headerAppActionMenu>.euiHeaderLinks>.euiHeaderLinks__list{gap:8px}.newTopNavHeader .headerAppActionMenu>.euiHeaderLinks>.euiHeaderLinks__list>*{margin:0}.newTopNavHeader:has(.headerDescriptionControl,.headerBottomControl){height:auto}.newTopNavHeader>.euiHeaderSection{gap:8px}.newTopNavHeader>.euiHeaderSection:only-child{width:100%}.newTopNavHeader>.euiHeaderSection>.euiHeaderSectionItem:empty{display:none}.newTopNavHeader:not(:has(>:not(:empty))),.newTopNavHeader .euiHeaderSectionItem:not(:has(>:not(:empty))){display:none}.headerGlobalNav:has(.newTopNavHeader:not(.primaryApplicationHeader)){margin-bottom:-8px}.newTopNavHeaderTitle{line-height:32px;font-size:2rem}.primaryApplicationHeader .euiHeaderSection>.euiHeaderSectionItem{align-items:stretch}.primaryApplicationHeader .headerAppActionMenuSection{flex-grow:1}.primaryApplicationHeader .headerAppActionMenu{width:100%}.navToggleInLargeScreen{position:fixed;left:0;top:0}.navToggleInSmallScreen{min-width:unset;height:32px}.stretchedActionMenu{width:100%}#globalHeaderBars:has(.primaryApplicationHeader){border-bottom:1px solid #2a3540}@media only screen and (min-width: 575px)and (max-width: 767px){.secondaryPageHeaderFlexGroup{display:flex;flex-direction:column}.secondaryPageHeaderFlexGroup .euiHeaderSection--left .euiFlexGroup--responsive>.euiFlexItem,.secondaryPageHeaderFlexGroup .euiHeaderSection--right .euiFlexGroup--responsive>.euiFlexItem{margin:4px 0 !important}.leftSecondaryPageHeaderFlexGroup{margin-bottom:4px}}@media only screen and (max-width: 574px){.secondaryPageHeaderFlexGroup{display:flex;flex-direction:column}.secondaryPageHeaderFlexGroup .euiHeaderSection--left .euiFlexGroup--responsive>.euiFlexItem,.secondaryPageHeaderFlexGroup .euiHeaderSection--right .euiFlexGroup--responsive>.euiFlexItem{margin:4px 0 !important}.leftSecondaryPageHeaderFlexGroup{margin-bottom:4px}}@media only screen and (min-width: 768px)and (max-width: 991px){.leftSecondaryPageHeaderFlexGroup{margin-right:12px}}@media only screen and (min-width: 992px)and (max-width: 1199px){.leftSecondaryPageHeaderFlexGroup{margin-right:12px}}@media only screen and (min-width: 1200px)and (max-width: 1679px){.leftSecondaryPageHeaderFlexGroup{margin-right:12px}}@media only screen and (min-width: 1680px)and (max-width: 1919px){.leftSecondaryPageHeaderFlexGroup{margin-right:12px}}@media only screen and (min-width: 1920px){.leftSecondaryPageHeaderFlexGroup{margin-right:12px}}.leftSecondaryPageHeaderFlexGroup .euiBadge,.leftSecondaryPageHeaderFlexGroup .euiHealth{line-height:32px !important}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(332);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.newTopNavHeader{z-index:1000;padding:0 16px 8px;box-shadow:none;border-bottom:none;background:none;height:auto;gap:8px}.newTopNavHeader.primaryHeader{padding-top:12px}.newTopNavHeader.primaryApplicationHeader{padding-top:8px}.newTopNavHeader.primaryApplicationHeader:last-child{margin-bottom:0}.newTopNavHeader .headerAppActionMenu>.euiFlexGroup{gap:8px}.newTopNavHeader .headerAppActionMenu>.euiHeaderLinks>.euiHeaderLinks__list{gap:8px}.newTopNavHeader .headerAppActionMenu>.euiHeaderLinks>.euiHeaderLinks__list>*{margin:0}.newTopNavHeader:has(.headerDescriptionControl,.headerBottomControl){height:auto}.newTopNavHeader>.euiHeaderSection{gap:8px}.newTopNavHeader>.euiHeaderSection:only-child{width:100%}.newTopNavHeader>.euiHeaderSection>.euiHeaderSectionItem:empty{display:none}.newTopNavHeader:not(:has(>:not(:empty))),.newTopNavHeader .euiHeaderSectionItem:not(:has(>:not(:empty))){display:none}.headerGlobalNav:has(.newTopNavHeader:not(.primaryApplicationHeader)){margin-bottom:-8px}.newTopNavHeaderTitle{line-height:32px;font-size:2rem}.primaryApplicationHeader .euiHeaderSection>.euiHeaderSectionItem{align-items:stretch}.primaryApplicationHeader .headerAppActionMenuSection{flex-grow:1}.primaryApplicationHeader .headerAppActionMenu{width:100%}.navToggleInLargeScreen{position:fixed;left:0;top:0}.navToggleInSmallScreen{min-width:unset;height:32px}.stretchedActionMenu{width:100%}#globalHeaderBars:has(.primaryApplicationHeader){border-bottom:1px solid #d6d9dd}@media only screen and (min-width: 575px)and (max-width: 767px){.secondaryPageHeaderFlexGroup{display:flex;flex-direction:column}.secondaryPageHeaderFlexGroup .euiHeaderSection--left .euiFlexGroup--responsive>.euiFlexItem,.secondaryPageHeaderFlexGroup .euiHeaderSection--right .euiFlexGroup--responsive>.euiFlexItem{margin:4px 0 !important}.leftSecondaryPageHeaderFlexGroup{margin-bottom:4px}}@media only screen and (max-width: 574px){.secondaryPageHeaderFlexGroup{display:flex;flex-direction:column}.secondaryPageHeaderFlexGroup .euiHeaderSection--left .euiFlexGroup--responsive>.euiFlexItem,.secondaryPageHeaderFlexGroup .euiHeaderSection--right .euiFlexGroup--responsive>.euiFlexItem{margin:4px 0 !important}.leftSecondaryPageHeaderFlexGroup{margin-bottom:4px}}@media only screen and (min-width: 768px)and (max-width: 991px){.leftSecondaryPageHeaderFlexGroup{margin-right:12px}}@media only screen and (min-width: 992px)and (max-width: 1199px){.leftSecondaryPageHeaderFlexGroup{margin-right:12px}}@media only screen and (min-width: 1200px)and (max-width: 1679px){.leftSecondaryPageHeaderFlexGroup{margin-right:12px}}@media only screen and (min-width: 1680px)and (max-width: 1919px){.leftSecondaryPageHeaderFlexGroup{margin-right:12px}}@media only screen and (min-width: 1920px){.leftSecondaryPageHeaderFlexGroup{margin-right:12px}}.leftSecondaryPageHeaderFlexGroup .euiBadge,.leftSecondaryPageHeaderFlexGroup .euiHealth{line-height:32px !important}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){switch(window.__osdThemeTag__){case"v7dark":return __webpack_require__(334);case"v7light":return __webpack_require__(336);case"v8dark":return __webpack_require__(338);case"v8light":return __webpack_require__(340);case"v9dark":return __webpack_require__(342);case"v9light":return __webpack_require__(344)}},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(335);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.headerControl{gap:8px}.headerControl.headerDescriptionControl .descriptionHeaderControl{max-width:80ch;line-height:1.5;color:#7a7f89}.headerControl.headerDescriptionControl .descriptionHeaderControl .euiHeaderLink{vertical-align:unset;border:0;height:auto}.headerControl:empty{display:none}.headerControl .euiButton{min-width:auto}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(337);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.headerControl{gap:8px}.headerControl.headerDescriptionControl .descriptionHeaderControl{max-width:80ch;line-height:1.5;color:#6a717d}.headerControl.headerDescriptionControl .descriptionHeaderControl .euiHeaderLink{vertical-align:unset;border:0;height:auto}.headerControl:empty{display:none}.headerControl .euiButton{min-width:auto}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(339);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.headerControl{gap:8px}.headerControl.headerDescriptionControl .descriptionHeaderControl{max-width:80ch;line-height:1.5;color:#9fa6af}.headerControl.headerDescriptionControl .descriptionHeaderControl .euiHeaderLink{vertical-align:unset;border:0;height:auto}.headerControl:empty{display:none}.headerControl .euiButton{min-width:auto}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(341);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.headerControl{gap:8px}.headerControl.headerDescriptionControl .descriptionHeaderControl{max-width:80ch;line-height:1.5;color:#676e75}.headerControl.headerDescriptionControl .descriptionHeaderControl .euiHeaderLink{vertical-align:unset;border:0;height:auto}.headerControl:empty{display:none}.headerControl .euiButton{min-width:auto}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(343);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.headerControl{gap:8px}.headerControl.headerDescriptionControl .descriptionHeaderControl{max-width:80ch;line-height:1.5;color:#798189}.headerControl.headerDescriptionControl .descriptionHeaderControl .euiHeaderLink{vertical-align:unset;border:0;height:auto}.headerControl:empty{display:none}.headerControl .euiButton{min-width:auto}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(345);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.headerControl{gap:8px}.headerControl.headerDescriptionControl .descriptionHeaderControl{max-width:80ch;line-height:1.5;color:#686c75}.headerControl.headerDescriptionControl .descriptionHeaderControl .euiHeaderLink{vertical-align:unset;border:0;height:auto}.headerControl:empty{display:none}.headerControl .euiButton{min-width:auto}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){switch(window.__osdThemeTag__){case"v7dark":return __webpack_require__(347);case"v7light":return __webpack_require__(349);case"v8dark":return __webpack_require__(351);case"v8light":return __webpack_require__(353);case"v9dark":return __webpack_require__(355);case"v9light":return __webpack_require__(357)}},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(348);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.logoContainer{height:30px;padding:3px 3px 3px 10px}.logoImage{height:100%;max-width:100%}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(350);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.logoContainer{height:30px;padding:3px 3px 3px 10px}.logoImage{height:100%;max-width:100%}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(352);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.logoContainer{height:30px;padding:3px 3px 3px 10px}.logoImage{height:100%;max-width:100%}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(354);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.logoContainer{height:30px;padding:3px 3px 3px 10px}.logoImage{height:100%;max-width:100%}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(356);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.logoContainer{height:30px;padding:3px 3px 3px 10px}.logoImage{height:100%;max-width:100%}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(358);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.logoContainer{height:30px;padding:3px 3px 3px 10px}.logoImage{height:100%;max-width:100%}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){switch(window.__osdThemeTag__){case"v7dark":return __webpack_require__(360);case"v7light":return __webpack_require__(362);case"v8dark":return __webpack_require__(364);case"v8light":return __webpack_require__(366);case"v9dark":return __webpack_require__(368);case"v9light":return __webpack_require__(370)}},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(361);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.header__homeLoaderNavButton .euiHeaderSectionItemButton__content{min-width:24px;display:grid;grid-template-columns:1fr;grid-template-rows:1fr}.header__homeLoaderNavButton .euiHeaderSectionItemButton__content .loaderContainer,.header__homeLoaderNavButton .euiHeaderSectionItemButton__content .homeIconContainer{grid-area:1/1;align-self:center;justify-self:center}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(363);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.header__homeLoaderNavButton .euiHeaderSectionItemButton__content{min-width:24px;display:grid;grid-template-columns:1fr;grid-template-rows:1fr}.header__homeLoaderNavButton .euiHeaderSectionItemButton__content .loaderContainer,.header__homeLoaderNavButton .euiHeaderSectionItemButton__content .homeIconContainer{grid-area:1/1;align-self:center;justify-self:center}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(365);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.header__homeLoaderNavButton .euiHeaderSectionItemButton__content{min-width:24px;display:grid;grid-template-columns:1fr;grid-template-rows:1fr}.header__homeLoaderNavButton .euiHeaderSectionItemButton__content .loaderContainer,.header__homeLoaderNavButton .euiHeaderSectionItemButton__content .homeIconContainer{grid-area:1/1;align-self:center;justify-self:center}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(367);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.header__homeLoaderNavButton .euiHeaderSectionItemButton__content{min-width:24px;display:grid;grid-template-columns:1fr;grid-template-rows:1fr}.header__homeLoaderNavButton .euiHeaderSectionItemButton__content .loaderContainer,.header__homeLoaderNavButton .euiHeaderSectionItemButton__content .homeIconContainer{grid-area:1/1;align-self:center;justify-self:center}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(369);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.header__homeLoaderNavButton .euiHeaderSectionItemButton__content{min-width:24px;display:grid;grid-template-columns:1fr;grid-template-rows:1fr}.header__homeLoaderNavButton .euiHeaderSectionItemButton__content .loaderContainer,.header__homeLoaderNavButton .euiHeaderSectionItemButton__content .homeIconContainer{grid-area:1/1;align-self:center;justify-self:center}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(371);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.header__homeLoaderNavButton .euiHeaderSectionItemButton__content{min-width:24px;display:grid;grid-template-columns:1fr;grid-template-rows:1fr}.header__homeLoaderNavButton .euiHeaderSectionItemButton__content .loaderContainer,.header__homeLoaderNavButton .euiHeaderSectionItemButton__content .homeIconContainer{grid-area:1/1;align-self:center;justify-self:center}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){switch(window.__osdThemeTag__){case"v7dark":return __webpack_require__(373);case"v7light":return __webpack_require__(375);case"v8dark":return __webpack_require__(377);case"v8light":return __webpack_require__(379);case"v9dark":return __webpack_require__(381);case"v9light":return __webpack_require__(383)}},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(374);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.primaryApplicationHeader .headerRecentItemsButton{margin-top:4px}.headerRecentItemsButton.headerRecentItemsButton--loadingIndicator{width:24px}.headerRecentItemsButton.headerRecentItemsButton--loadingIndicator>span{padding:0}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(376);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.primaryApplicationHeader .headerRecentItemsButton{margin-top:4px}.headerRecentItemsButton.headerRecentItemsButton--loadingIndicator{width:24px}.headerRecentItemsButton.headerRecentItemsButton--loadingIndicator>span{padding:0}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(378);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.primaryApplicationHeader .headerRecentItemsButton{margin-top:4px}.headerRecentItemsButton.headerRecentItemsButton--loadingIndicator{width:24px}.headerRecentItemsButton.headerRecentItemsButton--loadingIndicator>span{padding:0}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(380);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.primaryApplicationHeader .headerRecentItemsButton{margin-top:4px}.headerRecentItemsButton.headerRecentItemsButton--loadingIndicator{width:24px}.headerRecentItemsButton.headerRecentItemsButton--loadingIndicator>span{padding:0}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(382);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.primaryApplicationHeader .headerRecentItemsButton{margin-top:4px}.headerRecentItemsButton.headerRecentItemsButton--loadingIndicator{width:24px}.headerRecentItemsButton.headerRecentItemsButton--loadingIndicator>span{padding:0}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(384);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.primaryApplicationHeader .headerRecentItemsButton{margin-top:4px}.headerRecentItemsButton.headerRecentItemsButton--loadingIndicator{width:24px}.headerRecentItemsButton.headerRecentItemsButton--loadingIndicator>span{padding:0}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports){module.exports=function isBuffer(arg){return arg&&typeof arg==="object"&&typeof arg.copy==="function"&&typeof arg.fill==="function"&&typeof arg.readUInt8==="function"}},function(module,exports){if(typeof Object.create==="function"){module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}})}}else{module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}}},function(module,exports,__webpack_require__){const parse=__webpack_require__(44);const valid=(version,options)=>{const v=parse(version,options);return v?v.version:null};module.exports=valid},function(module,exports,__webpack_require__){const parse=__webpack_require__(44);const clean=(version,options)=>{const s=parse(version.trim().replace(/^[=v]+/,""),options);return s?s.version:null};module.exports=clean},function(module,exports,__webpack_require__){const SemVer=__webpack_require__(23);const inc=(version,release,options,identifier,identifierBase)=>{if(typeof options==="string"){identifierBase=identifier;identifier=options;options=undefined}try{return new SemVer(version instanceof SemVer?version.version:version,options).inc(release,identifier,identifierBase).version}catch(er){return null}};module.exports=inc},function(module,exports,__webpack_require__){const parse=__webpack_require__(44);const diff=(version1,version2)=>{const v1=parse(version1,null,true);const v2=parse(version2,null,true);const comparison=v1.compare(v2);if(comparison===0){return null}const v1Higher=comparison>0;const highVersion=v1Higher?v1:v2;const lowVersion=v1Higher?v2:v1;const highHasPre=!!highVersion.prerelease.length;const lowHasPre=!!lowVersion.prerelease.length;if(lowHasPre&&!highHasPre){if(!lowVersion.patch&&!lowVersion.minor){return"major"}if(highVersion.patch){return"patch"}if(highVersion.minor){return"minor"}return"major"}const prefix=highHasPre?"pre":"";if(v1.major!==v2.major){return prefix+"major"}if(v1.minor!==v2.minor){return prefix+"minor"}if(v1.patch!==v2.patch){return prefix+"patch"}return"prerelease"};module.exports=diff},function(module,exports,__webpack_require__){const SemVer=__webpack_require__(23);const major=(a,loose)=>new SemVer(a,loose).major;module.exports=major},function(module,exports,__webpack_require__){const SemVer=__webpack_require__(23);const minor=(a,loose)=>new SemVer(a,loose).minor;module.exports=minor},function(module,exports,__webpack_require__){const SemVer=__webpack_require__(23);const patch=(a,loose)=>new SemVer(a,loose).patch;module.exports=patch},function(module,exports,__webpack_require__){const parse=__webpack_require__(44);const prerelease=(version,options)=>{const parsed=parse(version,options);return parsed&&parsed.prerelease.length?parsed.prerelease:null};module.exports=prerelease},function(module,exports,__webpack_require__){const compare=__webpack_require__(28);const rcompare=(a,b,loose)=>compare(b,a,loose);module.exports=rcompare},function(module,exports,__webpack_require__){const compare=__webpack_require__(28);const compareLoose=(a,b)=>compare(a,b,true);module.exports=compareLoose},function(module,exports,__webpack_require__){const compareBuild=__webpack_require__(100);const sort=(list,loose)=>list.sort((a,b)=>compareBuild(a,b,loose));module.exports=sort},function(module,exports,__webpack_require__){const compareBuild=__webpack_require__(100);const rsort=(list,loose)=>list.sort((a,b)=>compareBuild(b,a,loose));module.exports=rsort},function(module,exports,__webpack_require__){const SemVer=__webpack_require__(23);const parse=__webpack_require__(44);const{safeRe:re,t:t}=__webpack_require__(53);const coerce=(version,options)=>{if(version instanceof SemVer){return version}if(typeof version==="number"){version=String(version)}if(typeof version!=="string"){return null}options=options||{};let match=null;if(!options.rtl){match=version.match(re[t.COERCE])}else{let next;while((next=re[t.COERCERTL].exec(version))&&(!match||match.index+match[0].length!==version.length)){if(!match||next.index+next[0].length!==match.index+match[0].length){match=next}re[t.COERCERTL].lastIndex=next.index+next[1].length+next[2].length}re[t.COERCERTL].lastIndex=-1}if(match===null){return null}return parse(`${match[2]}.${match[3]||"0"}.${match[4]||"0"}`,options)};module.exports=coerce},function(module,exports,__webpack_require__){"use strict";const Yallist=__webpack_require__(401);const MAX=Symbol("max");const LENGTH=Symbol("length");const LENGTH_CALCULATOR=Symbol("lengthCalculator");const ALLOW_STALE=Symbol("allowStale");const MAX_AGE=Symbol("maxAge");const DISPOSE=Symbol("dispose");const NO_DISPOSE_ON_SET=Symbol("noDisposeOnSet");const LRU_LIST=Symbol("lruList");const CACHE=Symbol("cache");const UPDATE_AGE_ON_GET=Symbol("updateAgeOnGet");const naiveLength=()=>1;class LRUCache{constructor(options){if(typeof options==="number")options={max:options};if(!options)options={};if(options.max&&(typeof options.max!=="number"||options.max<0))throw new TypeError("max must be a non-negative number");const max=this[MAX]=options.max||Infinity;const lc=options.length||naiveLength;this[LENGTH_CALCULATOR]=typeof lc!=="function"?naiveLength:lc;this[ALLOW_STALE]=options.stale||false;if(options.maxAge&&typeof options.maxAge!=="number")throw new TypeError("maxAge must be a number");this[MAX_AGE]=options.maxAge||0;this[DISPOSE]=options.dispose;this[NO_DISPOSE_ON_SET]=options.noDisposeOnSet||false;this[UPDATE_AGE_ON_GET]=options.updateAgeOnGet||false;this.reset()}set max(mL){if(typeof mL!=="number"||mL<0)throw new TypeError("max must be a non-negative number");this[MAX]=mL||Infinity;trim(this)}get max(){return this[MAX]}set allowStale(allowStale){this[ALLOW_STALE]=!!allowStale}get allowStale(){return this[ALLOW_STALE]}set maxAge(mA){if(typeof mA!=="number")throw new TypeError("maxAge must be a non-negative number");this[MAX_AGE]=mA;trim(this)}get maxAge(){return this[MAX_AGE]}set lengthCalculator(lC){if(typeof lC!=="function")lC=naiveLength;if(lC!==this[LENGTH_CALCULATOR]){this[LENGTH_CALCULATOR]=lC;this[LENGTH]=0;this[LRU_LIST].forEach(hit=>{hit.length=this[LENGTH_CALCULATOR](hit.value,hit.key);this[LENGTH]+=hit.length})}trim(this)}get lengthCalculator(){return this[LENGTH_CALCULATOR]}get length(){return this[LENGTH]}get itemCount(){return this[LRU_LIST].length}rforEach(fn,thisp){thisp=thisp||this;for(let walker=this[LRU_LIST].tail;walker!==null;){const prev=walker.prev;forEachStep(this,fn,walker,thisp);walker=prev}}forEach(fn,thisp){thisp=thisp||this;for(let walker=this[LRU_LIST].head;walker!==null;){const next=walker.next;forEachStep(this,fn,walker,thisp);walker=next}}keys(){return this[LRU_LIST].toArray().map(k=>k.key)}values(){return this[LRU_LIST].toArray().map(k=>k.value)}reset(){if(this[DISPOSE]&&this[LRU_LIST]&&this[LRU_LIST].length){this[LRU_LIST].forEach(hit=>this[DISPOSE](hit.key,hit.value))}this[CACHE]=new Map;this[LRU_LIST]=new Yallist;this[LENGTH]=0}dump(){return this[LRU_LIST].map(hit=>isStale(this,hit)?false:{k:hit.key,v:hit.value,e:hit.now+(hit.maxAge||0)}).toArray().filter(h=>h)}dumpLru(){return this[LRU_LIST]}set(key,value,maxAge){maxAge=maxAge||this[MAX_AGE];if(maxAge&&typeof maxAge!=="number")throw new TypeError("maxAge must be a number");const now=maxAge?Date.now():0;const len=this[LENGTH_CALCULATOR](value,key);if(this[CACHE].has(key)){if(len>this[MAX]){del(this,this[CACHE].get(key));return false}const node=this[CACHE].get(key);const item=node.value;if(this[DISPOSE]){if(!this[NO_DISPOSE_ON_SET])this[DISPOSE](key,item.value)}item.now=now;item.maxAge=maxAge;item.value=value;this[LENGTH]+=len-item.length;item.length=len;this.get(key);trim(this);return true}const hit=new Entry(key,value,len,now,maxAge);if(hit.length>this[MAX]){if(this[DISPOSE])this[DISPOSE](key,value);return false}this[LENGTH]+=hit.length;this[LRU_LIST].unshift(hit);this[CACHE].set(key,this[LRU_LIST].head);trim(this);return true}has(key){if(!this[CACHE].has(key))return false;const hit=this[CACHE].get(key).value;return!isStale(this,hit)}get(key){return get(this,key,true)}peek(key){return get(this,key,false)}pop(){const node=this[LRU_LIST].tail;if(!node)return null;del(this,node);return node.value}del(key){del(this,this[CACHE].get(key))}load(arr){this.reset();const now=Date.now();for(let l=arr.length-1;l>=0;l--){const hit=arr[l];const expiresAt=hit.e||0;if(expiresAt===0)this.set(hit.k,hit.v);else{const maxAge=expiresAt-now;if(maxAge>0){this.set(hit.k,hit.v,maxAge)}}}}prune(){this[CACHE].forEach((value,key)=>get(this,key,false))}}const get=(self,key,doUse)=>{const node=self[CACHE].get(key);if(node){const hit=node.value;if(isStale(self,hit)){del(self,node);if(!self[ALLOW_STALE])return undefined}else{if(doUse){if(self[UPDATE_AGE_ON_GET])node.value.now=Date.now();self[LRU_LIST].unshiftNode(node)}}return hit.value}};const isStale=(self,hit)=>{if(!hit||!hit.maxAge&&!self[MAX_AGE])return false;const diff=Date.now()-hit.now;return hit.maxAge?diff>hit.maxAge:self[MAX_AGE]&&diff>self[MAX_AGE]};const trim=self=>{if(self[LENGTH]>self[MAX]){for(let walker=self[LRU_LIST].tail;self[LENGTH]>self[MAX]&&walker!==null;){const prev=walker.prev;del(self,walker);walker=prev}}};const del=(self,node)=>{if(node){const hit=node.value;if(self[DISPOSE])self[DISPOSE](hit.key,hit.value);self[LENGTH]-=hit.length;self[CACHE].delete(hit.key);self[LRU_LIST].removeNode(node)}};class Entry{constructor(key,value,length,now,maxAge){this.key=key;this.value=value;this.length=length;this.now=now;this.maxAge=maxAge||0}}const forEachStep=(self,fn,node,thisp)=>{let hit=node.value;if(isStale(self,hit)){del(self,node);if(!self[ALLOW_STALE])hit=undefined}if(hit)fn.call(thisp,hit.value,hit.key,self)};module.exports=LRUCache},function(module,exports,__webpack_require__){"use strict";module.exports=Yallist;Yallist.Node=Node;Yallist.create=Yallist;function Yallist(list){var self=this;if(!(self instanceof Yallist)){self=new Yallist}self.tail=null;self.head=null;self.length=0;if(list&&typeof list.forEach==="function"){list.forEach((function(item){self.push(item)}))}else if(arguments.length>0){for(var i=0,l=arguments.length;i<l;i++){self.push(arguments[i])}}return self}Yallist.prototype.removeNode=function(node){if(node.list!==this){throw new Error("removing node which does not belong to this list")}var next=node.next;var prev=node.prev;if(next){next.prev=prev}if(prev){prev.next=next}if(node===this.head){this.head=next}if(node===this.tail){this.tail=prev}node.list.length--;node.next=null;node.prev=null;node.list=null;return next};Yallist.prototype.unshiftNode=function(node){if(node===this.head){return}if(node.list){node.list.removeNode(node)}var head=this.head;node.list=this;node.next=head;if(head){head.prev=node}this.head=node;if(!this.tail){this.tail=node}this.length++};Yallist.prototype.pushNode=function(node){if(node===this.tail){return}if(node.list){node.list.removeNode(node)}var tail=this.tail;node.list=this;node.prev=tail;if(tail){tail.next=node}this.tail=node;if(!this.head){this.head=node}this.length++};Yallist.prototype.push=function(){for(var i=0,l=arguments.length;i<l;i++){push(this,arguments[i])}return this.length};Yallist.prototype.unshift=function(){for(var i=0,l=arguments.length;i<l;i++){unshift(this,arguments[i])}return this.length};Yallist.prototype.pop=function(){if(!this.tail){return undefined}var res=this.tail.value;this.tail=this.tail.prev;if(this.tail){this.tail.next=null}else{this.head=null}this.length--;return res};Yallist.prototype.shift=function(){if(!this.head){return undefined}var res=this.head.value;this.head=this.head.next;if(this.head){this.head.prev=null}else{this.tail=null}this.length--;return res};Yallist.prototype.forEach=function(fn,thisp){thisp=thisp||this;for(var walker=this.head,i=0;walker!==null;i++){fn.call(thisp,walker.value,i,this);walker=walker.next}};Yallist.prototype.forEachReverse=function(fn,thisp){thisp=thisp||this;for(var walker=this.tail,i=this.length-1;walker!==null;i--){fn.call(thisp,walker.value,i,this);walker=walker.prev}};Yallist.prototype.get=function(n){for(var i=0,walker=this.head;walker!==null&&i<n;i++){walker=walker.next}if(i===n&&walker!==null){return walker.value}};Yallist.prototype.getReverse=function(n){for(var i=0,walker=this.tail;walker!==null&&i<n;i++){walker=walker.prev}if(i===n&&walker!==null){return walker.value}};Yallist.prototype.map=function(fn,thisp){thisp=thisp||this;var res=new Yallist;for(var walker=this.head;walker!==null;){res.push(fn.call(thisp,walker.value,this));walker=walker.next}return res};Yallist.prototype.mapReverse=function(fn,thisp){thisp=thisp||this;var res=new Yallist;for(var walker=this.tail;walker!==null;){res.push(fn.call(thisp,walker.value,this));walker=walker.prev}return res};Yallist.prototype.reduce=function(fn,initial){var acc;var walker=this.head;if(arguments.length>1){acc=initial}else if(this.head){walker=this.head.next;acc=this.head.value}else{throw new TypeError("Reduce of empty list with no initial value")}for(var i=0;walker!==null;i++){acc=fn(acc,walker.value,i);walker=walker.next}return acc};Yallist.prototype.reduceReverse=function(fn,initial){var acc;var walker=this.tail;if(arguments.length>1){acc=initial}else if(this.tail){walker=this.tail.prev;acc=this.tail.value}else{throw new TypeError("Reduce of empty list with no initial value")}for(var i=this.length-1;walker!==null;i--){acc=fn(acc,walker.value,i);walker=walker.prev}return acc};Yallist.prototype.toArray=function(){var arr=new Array(this.length);for(var i=0,walker=this.head;walker!==null;i++){arr[i]=walker.value;walker=walker.next}return arr};Yallist.prototype.toArrayReverse=function(){var arr=new Array(this.length);for(var i=0,walker=this.tail;walker!==null;i++){arr[i]=walker.value;walker=walker.prev}return arr};Yallist.prototype.slice=function(from,to){to=to||this.length;if(to<0){to+=this.length}from=from||0;if(from<0){from+=this.length}var ret=new Yallist;if(to<from||to<0){return ret}if(from<0){from=0}if(to>this.length){to=this.length}for(var i=0,walker=this.head;walker!==null&&i<from;i++){walker=walker.next}for(;walker!==null&&i<to;i++,walker=walker.next){ret.push(walker.value)}return ret};Yallist.prototype.sliceReverse=function(from,to){to=to||this.length;if(to<0){to+=this.length}from=from||0;if(from<0){from+=this.length}var ret=new Yallist;if(to<from||to<0){return ret}if(from<0){from=0}if(to>this.length){to=this.length}for(var i=this.length,walker=this.tail;walker!==null&&i>to;i--){walker=walker.prev}for(;walker!==null&&i>from;i--,walker=walker.prev){ret.push(walker.value)}return ret};Yallist.prototype.splice=function(start,deleteCount,...nodes){if(start>this.length){start=this.length-1}if(start<0){start=this.length+start}for(var i=0,walker=this.head;walker!==null&&i<start;i++){walker=walker.next}var ret=[];for(var i=0;walker&&i<deleteCount;i++){ret.push(walker.value);walker=this.removeNode(walker)}if(walker===null){walker=this.tail}if(walker!==this.head&&walker!==this.tail){walker=walker.prev}for(var i=0;i<nodes.length;i++){walker=insert(this,walker,nodes[i])}return ret};Yallist.prototype.reverse=function(){var head=this.head;var tail=this.tail;for(var walker=head;walker!==null;walker=walker.prev){var p=walker.prev;walker.prev=walker.next;walker.next=p}this.head=tail;this.tail=head;return this};function insert(self,node,value){var inserted=node===self.head?new Node(value,null,node,self):new Node(value,node,node.next,self);if(inserted.next===null){self.tail=inserted}if(inserted.prev===null){self.head=inserted}self.length++;return inserted}function push(self,item){self.tail=new Node(item,self.tail,null,self);if(!self.head){self.head=self.tail}self.length++}function unshift(self,item){self.head=new Node(item,null,self.head,self);if(!self.tail){self.tail=self.head}self.length++}function Node(value,prev,next,list){if(!(this instanceof Node)){return new Node(value,prev,next,list)}this.list=list;this.value=value;if(prev){prev.next=this;this.prev=prev}else{this.prev=null}if(next){next.prev=this;this.next=next}else{this.next=null}}try{__webpack_require__(402)(Yallist)}catch(er){}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Yallist){Yallist.prototype[Symbol.iterator]=function*(){for(let walker=this.head;walker;walker=walker.next){yield walker.value}}}},function(module,exports,__webpack_require__){const Range=__webpack_require__(29);const toComparators=(range,options)=>new Range(range,options).set.map(comp=>comp.map(c=>c.value).join(" ").trim().split(" "));module.exports=toComparators},function(module,exports,__webpack_require__){const SemVer=__webpack_require__(23);const Range=__webpack_require__(29);const maxSatisfying=(versions,range,options)=>{let max=null;let maxSV=null;let rangeObj=null;try{rangeObj=new Range(range,options)}catch(er){return null}versions.forEach(v=>{if(rangeObj.test(v)){if(!max||maxSV.compare(v)===-1){max=v;maxSV=new SemVer(max,options)}}});return max};module.exports=maxSatisfying},function(module,exports,__webpack_require__){const SemVer=__webpack_require__(23);const Range=__webpack_require__(29);const minSatisfying=(versions,range,options)=>{let min=null;let minSV=null;let rangeObj=null;try{rangeObj=new Range(range,options)}catch(er){return null}versions.forEach(v=>{if(rangeObj.test(v)){if(!min||minSV.compare(v)===1){min=v;minSV=new SemVer(min,options)}}});return min};module.exports=minSatisfying},function(module,exports,__webpack_require__){const SemVer=__webpack_require__(23);const Range=__webpack_require__(29);const gt=__webpack_require__(65);const minVersion=(range,loose)=>{range=new Range(range,loose);let minver=new SemVer("0.0.0");if(range.test(minver)){return minver}minver=new SemVer("0.0.0-0");if(range.test(minver)){return minver}minver=null;for(let i=0;i<range.set.length;++i){const comparators=range.set[i];let setMin=null;comparators.forEach(comparator=>{const compver=new SemVer(comparator.semver.version);switch(comparator.operator){case">":if(compver.prerelease.length===0){compver.patch++}else{compver.prerelease.push(0)}compver.raw=compver.format();case"":case">=":if(!setMin||gt(compver,setMin)){setMin=compver}break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${comparator.operator}`)}});if(setMin&&(!minver||gt(minver,setMin))){minver=setMin}}if(minver&&range.test(minver)){return minver}return null};module.exports=minVersion},function(module,exports,__webpack_require__){const Range=__webpack_require__(29);const validRange=(range,options)=>{try{return new Range(range,options).range||"*"}catch(er){return null}};module.exports=validRange},function(module,exports,__webpack_require__){const outside=__webpack_require__(104);const gtr=(version,range,options)=>outside(version,range,">",options);module.exports=gtr},function(module,exports,__webpack_require__){const outside=__webpack_require__(104);const ltr=(version,range,options)=>outside(version,range,"<",options);module.exports=ltr},function(module,exports,__webpack_require__){const Range=__webpack_require__(29);const intersects=(r1,r2,options)=>{r1=new Range(r1,options);r2=new Range(r2,options);return r1.intersects(r2,options)};module.exports=intersects},function(module,exports,__webpack_require__){const satisfies=__webpack_require__(67);const compare=__webpack_require__(28);module.exports=(versions,range,options)=>{const set=[];let first=null;let prev=null;const v=versions.sort((a,b)=>compare(a,b,options));for(const version of v){const included=satisfies(version,range,options);if(included){prev=version;if(!first){first=version}}else{if(prev){set.push([first,prev])}prev=null;first=null}}if(first){set.push([first,null])}const ranges=[];for(const[min,max]of set){if(min===max){ranges.push(min)}else if(!max&&min===v[0]){ranges.push("*")}else if(!max){ranges.push(`>=${min}`)}else if(min===v[0]){ranges.push(`<=${max}`)}else{ranges.push(`${min} - ${max}`)}}const simplified=ranges.join(" || ");const original=typeof range.raw==="string"?range.raw:String(range);return simplified.length<original.length?simplified:range}},function(module,exports,__webpack_require__){const Range=__webpack_require__(29);const Comparator=__webpack_require__(66);const{ANY:ANY}=Comparator;const satisfies=__webpack_require__(67);const compare=__webpack_require__(28);const subset=(sub,dom,options={})=>{if(sub===dom){return true}sub=new Range(sub,options);dom=new Range(dom,options);let sawNonNull=false;OUTER:for(const simpleSub of sub.set){for(const simpleDom of dom.set){const isSub=simpleSubset(simpleSub,simpleDom,options);sawNonNull=sawNonNull||isSub!==null;if(isSub){continue OUTER}}if(sawNonNull){return false}}return true};const minimumVersionWithPreRelease=[new Comparator(">=0.0.0-0")];const minimumVersion=[new Comparator(">=0.0.0")];const simpleSubset=(sub,dom,options)=>{if(sub===dom){return true}if(sub.length===1&&sub[0].semver===ANY){if(dom.length===1&&dom[0].semver===ANY){return true}else if(options.includePrerelease){sub=minimumVersionWithPreRelease}else{sub=minimumVersion}}if(dom.length===1&&dom[0].semver===ANY){if(options.includePrerelease){return true}else{dom=minimumVersion}}const eqSet=new Set;let gt,lt;for(const c of sub){if(c.operator===">"||c.operator===">="){gt=higherGT(gt,c,options)}else if(c.operator==="<"||c.operator==="<="){lt=lowerLT(lt,c,options)}else{eqSet.add(c.semver)}}if(eqSet.size>1){return null}let gtltComp;if(gt&&lt){gtltComp=compare(gt.semver,lt.semver,options);if(gtltComp>0){return null}else if(gtltComp===0&&(gt.operator!==">="||lt.operator!=="<=")){return null}}for(const eq of eqSet){if(gt&&!satisfies(eq,String(gt),options)){return null}if(lt&&!satisfies(eq,String(lt),options)){return null}for(const c of dom){if(!satisfies(eq,String(c),options)){return false}}return true}let higher,lower;let hasDomLT,hasDomGT;let needDomLTPre=lt&&!options.includePrerelease&&lt.semver.prerelease.length?lt.semver:false;let needDomGTPre=gt&&!options.includePrerelease&&gt.semver.prerelease.length?gt.semver:false;if(needDomLTPre&&needDomLTPre.prerelease.length===1&&lt.operator==="<"&&needDomLTPre.prerelease[0]===0){needDomLTPre=false}for(const c of dom){hasDomGT=hasDomGT||c.operator===">"||c.operator===">=";hasDomLT=hasDomLT||c.operator==="<"||c.operator==="<=";if(gt){if(needDomGTPre){if(c.semver.prerelease&&c.semver.prerelease.length&&c.semver.major===needDomGTPre.major&&c.semver.minor===needDomGTPre.minor&&c.semver.patch===needDomGTPre.patch){needDomGTPre=false}}if(c.operator===">"||c.operator===">="){higher=higherGT(gt,c,options);if(higher===c&&higher!==gt){return false}}else if(gt.operator===">="&&!satisfies(gt.semver,String(c),options)){return false}}if(lt){if(needDomLTPre){if(c.semver.prerelease&&c.semver.prerelease.length&&c.semver.major===needDomLTPre.major&&c.semver.minor===needDomLTPre.minor&&c.semver.patch===needDomLTPre.patch){needDomLTPre=false}}if(c.operator==="<"||c.operator==="<="){lower=lowerLT(lt,c,options);if(lower===c&&lower!==lt){return false}}else if(lt.operator==="<="&&!satisfies(lt.semver,String(c),options)){return false}}if(!c.operator&&(lt||gt)&&gtltComp!==0){return false}}if(gt&&hasDomLT&&!lt&&gtltComp!==0){return false}if(lt&&hasDomGT&&!gt&&gtltComp!==0){return false}if(needDomGTPre||needDomLTPre){return false}return true};const higherGT=(a,b,options)=>{if(!a){return b}const comp=compare(a.semver,b.semver,options);return comp>0?a:comp<0?b:b.operator===">"&&a.operator===">="?b:a};const lowerLT=(a,b,options)=>{if(!a){return b}const comp=compare(a.semver,b.semver,options);return comp<0?a:comp>0?b:b.operator==="<"&&a.operator==="<="?b:a};module.exports=subset},function(module,exports,__webpack_require__){var baseSet=__webpack_require__(157);function set(object,path,value){return object==null?object:baseSet(object,path,value)}module.exports=set},function(module,exports,__webpack_require__){var baseAssignValue=__webpack_require__(415),eq=__webpack_require__(160);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function assignValue(object,key,value){var objValue=object[key];if(!(hasOwnProperty.call(object,key)&&eq(objValue,value))||value===undefined&&!(key in object)){baseAssignValue(object,key,value)}}module.exports=assignValue},function(module,exports,__webpack_require__){var defineProperty=__webpack_require__(416);function baseAssignValue(object,key,value){if(key=="__proto__"&&defineProperty){defineProperty(object,key,{configurable:true,enumerable:true,value:value,writable:true})}else{object[key]=value}}module.exports=baseAssignValue},function(module,exports,__webpack_require__){var getNative=__webpack_require__(105);var defineProperty=function(){try{var func=getNative(Object,"defineProperty");func({},"",{});return func}catch(e){}}();module.exports=defineProperty},function(module,exports,__webpack_require__){var isFunction=__webpack_require__(158),isMasked=__webpack_require__(421),isObject=__webpack_require__(108),toSource=__webpack_require__(423);var reRegExpChar=/[\\^$.*+?()[\]{}|]/g;var reIsHostCtor=/^\[object .+?Constructor\]$/;var funcProto=Function.prototype,objectProto=Object.prototype;var funcToString=funcProto.toString;var hasOwnProperty=objectProto.hasOwnProperty;var reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(value){if(!isObject(value)||isMasked(value)){return false}var pattern=isFunction(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}module.exports=baseIsNative},function(module,exports,__webpack_require__){(function(global){var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;module.exports=freeGlobal}).call(this,__webpack_require__(35))},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(106);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var nativeObjectToString=objectProto.toString;var symToStringTag=Symbol?Symbol.toStringTag:undefined;function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=undefined;var unmasked=true}catch(e){}var result=nativeObjectToString.call(value);if(unmasked){if(isOwn){value[symToStringTag]=tag}else{delete value[symToStringTag]}}return result}module.exports=getRawTag},function(module,exports){var objectProto=Object.prototype;var nativeObjectToString=objectProto.toString;function objectToString(value){return nativeObjectToString.call(value)}module.exports=objectToString},function(module,exports,__webpack_require__){var coreJsData=__webpack_require__(422);var maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}();function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}module.exports=isMasked},function(module,exports,__webpack_require__){var root=__webpack_require__(107);var coreJsData=root["__core-js_shared__"];module.exports=coreJsData},function(module,exports){var funcProto=Function.prototype;var funcToString=funcProto.toString;function toSource(func){if(func!=null){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}module.exports=toSource},function(module,exports){function getValue(object,key){return object==null?undefined:object[key]}module.exports=getValue},function(module,exports,__webpack_require__){var isArray=__webpack_require__(109),isKey=__webpack_require__(426),stringToPath=__webpack_require__(428),toString=__webpack_require__(451);function castPath(value,object){if(isArray(value)){return value}return isKey(value,object)?[value]:stringToPath(toString(value))}module.exports=castPath},function(module,exports,__webpack_require__){var isArray=__webpack_require__(109),isSymbol=__webpack_require__(110);var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(value,object){if(isArray(value)){return false}var type=typeof value;if(type=="number"||type=="symbol"||type=="boolean"||value==null||isSymbol(value)){return true}return reIsPlainProp.test(value)||!reIsDeepProp.test(value)||object!=null&&value in Object(object)}module.exports=isKey},function(module,exports){function isObjectLike(value){return value!=null&&typeof value=="object"}module.exports=isObjectLike},function(module,exports,__webpack_require__){var memoizeCapped=__webpack_require__(429);var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var reEscapeChar=/\\(\\)?/g;var stringToPath=memoizeCapped((function(string){var result=[];if(string.charCodeAt(0)===46){result.push("")}string.replace(rePropName,(function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)}));return result}));module.exports=stringToPath},function(module,exports,__webpack_require__){var memoize=__webpack_require__(430);var MAX_MEMOIZE_SIZE=500;function memoizeCapped(func){var result=memoize(func,(function(key){if(cache.size===MAX_MEMOIZE_SIZE){cache.clear()}return key}));var cache=result.cache;return result}module.exports=memoizeCapped},function(module,exports,__webpack_require__){var MapCache=__webpack_require__(431);var FUNC_ERROR_TEXT="Expected a function";function memoize(func,resolver){if(typeof func!="function"||resolver!=null&&typeof resolver!="function"){throw new TypeError(FUNC_ERROR_TEXT)}var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key)){return cache.get(key)}var result=func.apply(this,args);memoized.cache=cache.set(key,result)||cache;return result};memoized.cache=new(memoize.Cache||MapCache);return memoized}memoize.Cache=MapCache;module.exports=memoize},function(module,exports,__webpack_require__){var mapCacheClear=__webpack_require__(432),mapCacheDelete=__webpack_require__(446),mapCacheGet=__webpack_require__(448),mapCacheHas=__webpack_require__(449),mapCacheSet=__webpack_require__(450);function MapCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype["delete"]=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;module.exports=MapCache},function(module,exports,__webpack_require__){var Hash=__webpack_require__(433),ListCache=__webpack_require__(439),Map=__webpack_require__(445);function mapCacheClear(){this.size=0;this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}module.exports=mapCacheClear},function(module,exports,__webpack_require__){var hashClear=__webpack_require__(434),hashDelete=__webpack_require__(435),hashGet=__webpack_require__(436),hashHas=__webpack_require__(437),hashSet=__webpack_require__(438);function Hash(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}Hash.prototype.clear=hashClear;Hash.prototype["delete"]=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;module.exports=Hash},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(68);function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{};this.size=0}module.exports=hashClear},function(module,exports){function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];this.size-=result?1:0;return result}module.exports=hashDelete},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(68);var HASH_UNDEFINED="__lodash_hash_undefined__";var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?undefined:result}return hasOwnProperty.call(data,key)?data[key]:undefined}module.exports=hashGet},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(68);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function hashHas(key){var data=this.__data__;return nativeCreate?data[key]!==undefined:hasOwnProperty.call(data,key)}module.exports=hashHas},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(68);var HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet(key,value){var data=this.__data__;this.size+=this.has(key)?0:1;data[key]=nativeCreate&&value===undefined?HASH_UNDEFINED:value;return this}module.exports=hashSet},function(module,exports,__webpack_require__){var listCacheClear=__webpack_require__(440),listCacheDelete=__webpack_require__(441),listCacheGet=__webpack_require__(442),listCacheHas=__webpack_require__(443),listCacheSet=__webpack_require__(444);function ListCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype["delete"]=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;module.exports=ListCache},function(module,exports){function listCacheClear(){this.__data__=[];this.size=0}module.exports=listCacheClear},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(69);var arrayProto=Array.prototype;var splice=arrayProto.splice;function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){return false}var lastIndex=data.length-1;if(index==lastIndex){data.pop()}else{splice.call(data,index,1)}--this.size;return true}module.exports=listCacheDelete},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(69);function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?undefined:data[index][1]}module.exports=listCacheGet},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(69);function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}module.exports=listCacheHas},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(69);function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){++this.size;data.push([key,value])}else{data[index][1]=value}return this}module.exports=listCacheSet},function(module,exports,__webpack_require__){var getNative=__webpack_require__(105),root=__webpack_require__(107);var Map=getNative(root,"Map");module.exports=Map},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(70);function mapCacheDelete(key){var result=getMapData(this,key)["delete"](key);this.size-=result?1:0;return result}module.exports=mapCacheDelete},function(module,exports){function isKeyable(value){var type=typeof value;return type=="string"||type=="number"||type=="symbol"||type=="boolean"?value!=="__proto__":value===null}module.exports=isKeyable},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(70);function mapCacheGet(key){return getMapData(this,key).get(key)}module.exports=mapCacheGet},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(70);function mapCacheHas(key){return getMapData(this,key).has(key)}module.exports=mapCacheHas},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(70);function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;data.set(key,value);this.size+=data.size==size?0:1;return this}module.exports=mapCacheSet},function(module,exports,__webpack_require__){var baseToString=__webpack_require__(452);function toString(value){return value==null?"":baseToString(value)}module.exports=toString},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(106),arrayMap=__webpack_require__(453),isArray=__webpack_require__(109),isSymbol=__webpack_require__(110);var INFINITY=1/0;var symbolProto=Symbol?Symbol.prototype:undefined,symbolToString=symbolProto?symbolProto.toString:undefined;function baseToString(value){if(typeof value=="string"){return value}if(isArray(value)){return arrayMap(value,baseToString)+""}if(isSymbol(value)){return symbolToString?symbolToString.call(value):""}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}module.exports=baseToString},function(module,exports){function arrayMap(array,iteratee){var index=-1,length=array==null?0:array.length,result=Array(length);while(++index<length){result[index]=iteratee(array[index],index,array)}return result}module.exports=arrayMap},function(module,exports){var MAX_SAFE_INTEGER=9007199254740991;var reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(value,length){var type=typeof value;length=length==null?MAX_SAFE_INTEGER:length;return!!length&&(type=="number"||type!="symbol"&&reIsUint.test(value))&&(value>-1&&value%1==0&&value<length)}module.exports=isIndex},function(module,exports,__webpack_require__){var isSymbol=__webpack_require__(110);var INFINITY=1/0;function toKey(value){if(typeof value=="string"||isSymbol(value)){return value}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}module.exports=toKey},function(module,exports,__webpack_require__){var baseSet=__webpack_require__(157);function setWith(object,path,value,customizer){customizer=typeof customizer=="function"?customizer:undefined;return object==null?object:baseSet(object,path,value,customizer)}module.exports=setWith},function(module,exports,__webpack_require__){"use strict";var loader=__webpack_require__(458);var dumper=__webpack_require__(477);function deprecated(name){return function(){throw new Error("Function "+name+" is deprecated and cannot be used.")}}module.exports.Type=__webpack_require__(21);module.exports.Schema=__webpack_require__(46);module.exports.FAILSAFE_SCHEMA=__webpack_require__(111);module.exports.JSON_SCHEMA=__webpack_require__(162);module.exports.CORE_SCHEMA=__webpack_require__(161);module.exports.DEFAULT_SAFE_SCHEMA=__webpack_require__(55);module.exports.DEFAULT_FULL_SCHEMA=__webpack_require__(71);module.exports.load=loader.load;module.exports.loadAll=loader.loadAll;module.exports.safeLoad=loader.safeLoad;module.exports.safeLoadAll=loader.safeLoadAll;module.exports.dump=dumper.dump;module.exports.safeDump=dumper.safeDump;module.exports.YAMLException=__webpack_require__(54);module.exports.MINIMAL_SCHEMA=__webpack_require__(111);module.exports.SAFE_SCHEMA=__webpack_require__(55);module.exports.DEFAULT_SCHEMA=__webpack_require__(71);module.exports.scan=deprecated("scan");module.exports.parse=deprecated("parse");module.exports.compose=deprecated("compose");module.exports.addConstructor=deprecated("addConstructor")},function(module,exports,__webpack_require__){"use strict";var common=__webpack_require__(45);var YAMLException=__webpack_require__(54);var Mark=__webpack_require__(459);var DEFAULT_SAFE_SCHEMA=__webpack_require__(55);var DEFAULT_FULL_SCHEMA=__webpack_require__(71);var _hasOwnProperty=Object.prototype.hasOwnProperty;var CONTEXT_FLOW_IN=1;var CONTEXT_FLOW_OUT=2;var CONTEXT_BLOCK_IN=3;var CONTEXT_BLOCK_OUT=4;var CHOMPING_CLIP=1;var CHOMPING_STRIP=2;var CHOMPING_KEEP=3;var PATTERN_NON_PRINTABLE=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/;var PATTERN_NON_ASCII_LINE_BREAKS=/[\x85\u2028\u2029]/;var PATTERN_FLOW_INDICATORS=/[,\[\]\{\}]/;var PATTERN_TAG_HANDLE=/^(?:!|!!|![a-z\-]+!)$/i;var PATTERN_TAG_URI=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _class(obj){return Object.prototype.toString.call(obj)}function is_EOL(c){return c===10||c===13}function is_WHITE_SPACE(c){return c===9||c===32}function is_WS_OR_EOL(c){return c===9||c===32||c===10||c===13}function is_FLOW_INDICATOR(c){return c===44||c===91||c===93||c===123||c===125}function fromHexCode(c){var lc;if(48<=c&&c<=57){return c-48}lc=c|32;if(97<=lc&&lc<=102){return lc-97+10}return-1}function escapedHexLen(c){if(c===120){return 2}if(c===117){return 4}if(c===85){return 8}return 0}function fromDecimalCode(c){if(48<=c&&c<=57){return c-48}return-1}function simpleEscapeSequence(c){return c===48?"\0":c===97?"":c===98?"\b":c===116?"\t":c===9?"\t":c===110?"\n":c===118?"\v":c===102?"\f":c===114?"\r":c===101?"":c===32?" ":c===34?'"':c===47?"/":c===92?"\\":c===78?"":c===95?"":c===76?"\u2028":c===80?"\u2029":""}function charFromCodepoint(c){if(c<=65535){return String.fromCharCode(c)}return String.fromCharCode((c-65536>>10)+55296,(c-65536&1023)+56320)}var simpleEscapeCheck=new Array(256);var simpleEscapeMap=new Array(256);for(var i=0;i<256;i++){simpleEscapeCheck[i]=simpleEscapeSequence(i)?1:0;simpleEscapeMap[i]=simpleEscapeSequence(i)}function State(input,options){this.input=input;this.filename=options["filename"]||null;this.schema=options["schema"]||DEFAULT_FULL_SCHEMA;this.onWarning=options["onWarning"]||null;this.legacy=options["legacy"]||false;this.json=options["json"]||false;this.listener=options["listener"]||null;this.implicitTypes=this.schema.compiledImplicit;this.typeMap=this.schema.compiledTypeMap;this.length=input.length;this.position=0;this.line=0;this.lineStart=0;this.lineIndent=0;this.documents=[]}function generateError(state,message){return new YAMLException(message,new Mark(state.filename,state.input,state.position,state.line,state.position-state.lineStart))}function throwError(state,message){throw generateError(state,message)}function throwWarning(state,message){if(state.onWarning){state.onWarning.call(null,generateError(state,message))}}var directiveHandlers={YAML:function handleYamlDirective(state,name,args){var match,major,minor;if(state.version!==null){throwError(state,"duplication of %YAML directive")}if(args.length!==1){throwError(state,"YAML directive accepts exactly one argument")}match=/^([0-9]+)\.([0-9]+)$/.exec(args[0]);if(match===null){throwError(state,"ill-formed argument of the YAML directive")}major=parseInt(match[1],10);minor=parseInt(match[2],10);if(major!==1){throwError(state,"unacceptable YAML version of the document")}state.version=args[0];state.checkLineBreaks=minor<2;if(minor!==1&&minor!==2){throwWarning(state,"unsupported YAML version of the document")}},TAG:function handleTagDirective(state,name,args){var handle,prefix;if(args.length!==2){throwError(state,"TAG directive accepts exactly two arguments")}handle=args[0];prefix=args[1];if(!PATTERN_TAG_HANDLE.test(handle)){throwError(state,"ill-formed tag handle (first argument) of the TAG directive")}if(_hasOwnProperty.call(state.tagMap,handle)){throwError(state,'there is a previously declared suffix for "'+handle+'" tag handle')}if(!PATTERN_TAG_URI.test(prefix)){throwError(state,"ill-formed tag prefix (second argument) of the TAG directive")}state.tagMap[handle]=prefix}};function captureSegment(state,start,end,checkJson){var _position,_length,_character,_result;if(start<end){_result=state.input.slice(start,end);if(checkJson){for(_position=0,_length=_result.length;_position<_length;_position+=1){_character=_result.charCodeAt(_position);if(!(_character===9||32<=_character&&_character<=1114111)){throwError(state,"expected valid JSON character")}}}else if(PATTERN_NON_PRINTABLE.test(_result)){throwError(state,"the stream contains non-printable characters")}state.result+=_result}}function mergeMappings(state,destination,source,overridableKeys){var sourceKeys,key,index,quantity;if(!common.isObject(source)){throwError(state,"cannot merge mappings; the provided source object is unacceptable")}sourceKeys=Object.keys(source);for(index=0,quantity=sourceKeys.length;index<quantity;index+=1){key=sourceKeys[index];if(!_hasOwnProperty.call(destination,key)){destination[key]=source[key];overridableKeys[key]=true}}}function storeMappingPair(state,_result,overridableKeys,keyTag,keyNode,valueNode,startLine,startPos){var index,quantity;if(Array.isArray(keyNode)){keyNode=Array.prototype.slice.call(keyNode);for(index=0,quantity=keyNode.length;index<quantity;index+=1){if(Array.isArray(keyNode[index])){throwError(state,"nested arrays are not supported inside keys")}if(typeof keyNode==="object"&&_class(keyNode[index])==="[object Object]"){keyNode[index]="[object Object]"}}}if(typeof keyNode==="object"&&_class(keyNode)==="[object Object]"){keyNode="[object Object]"}keyNode=String(keyNode);if(_result===null){_result={}}if(keyTag==="tag:yaml.org,2002:merge"){if(Array.isArray(valueNode)){for(index=0,quantity=valueNode.length;index<quantity;index+=1){mergeMappings(state,_result,valueNode[index],overridableKeys)}}else{mergeMappings(state,_result,valueNode,overridableKeys)}}else{if(!state.json&&!_hasOwnProperty.call(overridableKeys,keyNode)&&_hasOwnProperty.call(_result,keyNode)){state.line=startLine||state.line;state.position=startPos||state.position;throwError(state,"duplicated mapping key")}_result[keyNode]=valueNode;delete overridableKeys[keyNode]}return _result}function readLineBreak(state){var ch;ch=state.input.charCodeAt(state.position);if(ch===10){state.position++}else if(ch===13){state.position++;if(state.input.charCodeAt(state.position)===10){state.position++}}else{throwError(state,"a line break is expected")}state.line+=1;state.lineStart=state.position}function skipSeparationSpace(state,allowComments,checkIndent){var lineBreaks=0,ch=state.input.charCodeAt(state.position);while(ch!==0){while(is_WHITE_SPACE(ch)){ch=state.input.charCodeAt(++state.position)}if(allowComments&&ch===35){do{ch=state.input.charCodeAt(++state.position)}while(ch!==10&&ch!==13&&ch!==0)}if(is_EOL(ch)){readLineBreak(state);ch=state.input.charCodeAt(state.position);lineBreaks++;state.lineIndent=0;while(ch===32){state.lineIndent++;ch=state.input.charCodeAt(++state.position)}}else{break}}if(checkIndent!==-1&&lineBreaks!==0&&state.lineIndent<checkIndent){throwWarning(state,"deficient indentation")}return lineBreaks}function testDocumentSeparator(state){var _position=state.position,ch;ch=state.input.charCodeAt(_position);if((ch===45||ch===46)&&ch===state.input.charCodeAt(_position+1)&&ch===state.input.charCodeAt(_position+2)){_position+=3;ch=state.input.charCodeAt(_position);if(ch===0||is_WS_OR_EOL(ch)){return true}}return false}function writeFoldedLines(state,count){if(count===1){state.result+=" "}else if(count>1){state.result+=common.repeat("\n",count-1)}}function readPlainScalar(state,nodeIndent,withinFlowCollection){var preceding,following,captureStart,captureEnd,hasPendingContent,_line,_lineStart,_lineIndent,_kind=state.kind,_result=state.result,ch;ch=state.input.charCodeAt(state.position);if(is_WS_OR_EOL(ch)||is_FLOW_INDICATOR(ch)||ch===35||ch===38||ch===42||ch===33||ch===124||ch===62||ch===39||ch===34||ch===37||ch===64||ch===96){return false}if(ch===63||ch===45){following=state.input.charCodeAt(state.position+1);if(is_WS_OR_EOL(following)||withinFlowCollection&&is_FLOW_INDICATOR(following)){return false}}state.kind="scalar";state.result="";captureStart=captureEnd=state.position;hasPendingContent=false;while(ch!==0){if(ch===58){following=state.input.charCodeAt(state.position+1);if(is_WS_OR_EOL(following)||withinFlowCollection&&is_FLOW_INDICATOR(following)){break}}else if(ch===35){preceding=state.input.charCodeAt(state.position-1);if(is_WS_OR_EOL(preceding)){break}}else if(state.position===state.lineStart&&testDocumentSeparator(state)||withinFlowCollection&&is_FLOW_INDICATOR(ch)){break}else if(is_EOL(ch)){_line=state.line;_lineStart=state.lineStart;_lineIndent=state.lineIndent;skipSeparationSpace(state,false,-1);if(state.lineIndent>=nodeIndent){hasPendingContent=true;ch=state.input.charCodeAt(state.position);continue}else{state.position=captureEnd;state.line=_line;state.lineStart=_lineStart;state.lineIndent=_lineIndent;break}}if(hasPendingContent){captureSegment(state,captureStart,captureEnd,false);writeFoldedLines(state,state.line-_line);captureStart=captureEnd=state.position;hasPendingContent=false}if(!is_WHITE_SPACE(ch)){captureEnd=state.position+1}ch=state.input.charCodeAt(++state.position)}captureSegment(state,captureStart,captureEnd,false);if(state.result){return true}state.kind=_kind;state.result=_result;return false}function readSingleQuotedScalar(state,nodeIndent){var ch,captureStart,captureEnd;ch=state.input.charCodeAt(state.position);if(ch!==39){return false}state.kind="scalar";state.result="";state.position++;captureStart=captureEnd=state.position;while((ch=state.input.charCodeAt(state.position))!==0){if(ch===39){captureSegment(state,captureStart,state.position,true);ch=state.input.charCodeAt(++state.position);if(ch===39){captureStart=state.position;state.position++;captureEnd=state.position}else{return true}}else if(is_EOL(ch)){captureSegment(state,captureStart,captureEnd,true);writeFoldedLines(state,skipSeparationSpace(state,false,nodeIndent));captureStart=captureEnd=state.position}else if(state.position===state.lineStart&&testDocumentSeparator(state)){throwError(state,"unexpected end of the document within a single quoted scalar")}else{state.position++;captureEnd=state.position}}throwError(state,"unexpected end of the stream within a single quoted scalar")}function readDoubleQuotedScalar(state,nodeIndent){var captureStart,captureEnd,hexLength,hexResult,tmp,ch;ch=state.input.charCodeAt(state.position);if(ch!==34){return false}state.kind="scalar";state.result="";state.position++;captureStart=captureEnd=state.position;while((ch=state.input.charCodeAt(state.position))!==0){if(ch===34){captureSegment(state,captureStart,state.position,true);state.position++;return true}else if(ch===92){captureSegment(state,captureStart,state.position,true);ch=state.input.charCodeAt(++state.position);if(is_EOL(ch)){skipSeparationSpace(state,false,nodeIndent)}else if(ch<256&&simpleEscapeCheck[ch]){state.result+=simpleEscapeMap[ch];state.position++}else if((tmp=escapedHexLen(ch))>0){hexLength=tmp;hexResult=0;for(;hexLength>0;hexLength--){ch=state.input.charCodeAt(++state.position);if((tmp=fromHexCode(ch))>=0){hexResult=(hexResult<<4)+tmp}else{throwError(state,"expected hexadecimal character")}}state.result+=charFromCodepoint(hexResult);state.position++}else{throwError(state,"unknown escape sequence")}captureStart=captureEnd=state.position}else if(is_EOL(ch)){captureSegment(state,captureStart,captureEnd,true);writeFoldedLines(state,skipSeparationSpace(state,false,nodeIndent));captureStart=captureEnd=state.position}else if(state.position===state.lineStart&&testDocumentSeparator(state)){throwError(state,"unexpected end of the document within a double quoted scalar")}else{state.position++;captureEnd=state.position}}throwError(state,"unexpected end of the stream within a double quoted scalar")}function readFlowCollection(state,nodeIndent){var readNext=true,_line,_tag=state.tag,_result,_anchor=state.anchor,following,terminator,isPair,isExplicitPair,isMapping,overridableKeys={},keyNode,keyTag,valueNode,ch;ch=state.input.charCodeAt(state.position);if(ch===91){terminator=93;isMapping=false;_result=[]}else if(ch===123){terminator=125;isMapping=true;_result={}}else{return false}if(state.anchor!==null){state.anchorMap[state.anchor]=_result}ch=state.input.charCodeAt(++state.position);while(ch!==0){skipSeparationSpace(state,true,nodeIndent);ch=state.input.charCodeAt(state.position);if(ch===terminator){state.position++;state.tag=_tag;state.anchor=_anchor;state.kind=isMapping?"mapping":"sequence";state.result=_result;return true}else if(!readNext){throwError(state,"missed comma between flow collection entries")}keyTag=keyNode=valueNode=null;isPair=isExplicitPair=false;if(ch===63){following=state.input.charCodeAt(state.position+1);if(is_WS_OR_EOL(following)){isPair=isExplicitPair=true;state.position++;skipSeparationSpace(state,true,nodeIndent)}}_line=state.line;composeNode(state,nodeIndent,CONTEXT_FLOW_IN,false,true);keyTag=state.tag;keyNode=state.result;skipSeparationSpace(state,true,nodeIndent);ch=state.input.charCodeAt(state.position);if((isExplicitPair||state.line===_line)&&ch===58){isPair=true;ch=state.input.charCodeAt(++state.position);skipSeparationSpace(state,true,nodeIndent);composeNode(state,nodeIndent,CONTEXT_FLOW_IN,false,true);valueNode=state.result}if(isMapping){storeMappingPair(state,_result,overridableKeys,keyTag,keyNode,valueNode)}else if(isPair){_result.push(storeMappingPair(state,null,overridableKeys,keyTag,keyNode,valueNode))}else{_result.push(keyNode)}skipSeparationSpace(state,true,nodeIndent);ch=state.input.charCodeAt(state.position);if(ch===44){readNext=true;ch=state.input.charCodeAt(++state.position)}else{readNext=false}}throwError(state,"unexpected end of the stream within a flow collection")}function readBlockScalar(state,nodeIndent){var captureStart,folding,chomping=CHOMPING_CLIP,didReadContent=false,detectedIndent=false,textIndent=nodeIndent,emptyLines=0,atMoreIndented=false,tmp,ch;ch=state.input.charCodeAt(state.position);if(ch===124){folding=false}else if(ch===62){folding=true}else{return false}state.kind="scalar";state.result="";while(ch!==0){ch=state.input.charCodeAt(++state.position);if(ch===43||ch===45){if(CHOMPING_CLIP===chomping){chomping=ch===43?CHOMPING_KEEP:CHOMPING_STRIP}else{throwError(state,"repeat of a chomping mode identifier")}}else if((tmp=fromDecimalCode(ch))>=0){if(tmp===0){throwError(state,"bad explicit indentation width of a block scalar; it cannot be less than one")}else if(!detectedIndent){textIndent=nodeIndent+tmp-1;detectedIndent=true}else{throwError(state,"repeat of an indentation width identifier")}}else{break}}if(is_WHITE_SPACE(ch)){do{ch=state.input.charCodeAt(++state.position)}while(is_WHITE_SPACE(ch));if(ch===35){do{ch=state.input.charCodeAt(++state.position)}while(!is_EOL(ch)&&ch!==0)}}while(ch!==0){readLineBreak(state);state.lineIndent=0;ch=state.input.charCodeAt(state.position);while((!detectedIndent||state.lineIndent<textIndent)&&ch===32){state.lineIndent++;ch=state.input.charCodeAt(++state.position)}if(!detectedIndent&&state.lineIndent>textIndent){textIndent=state.lineIndent}if(is_EOL(ch)){emptyLines++;continue}if(state.lineIndent<textIndent){if(chomping===CHOMPING_KEEP){state.result+=common.repeat("\n",didReadContent?1+emptyLines:emptyLines)}else if(chomping===CHOMPING_CLIP){if(didReadContent){state.result+="\n"}}break}if(folding){if(is_WHITE_SPACE(ch)){atMoreIndented=true;state.result+=common.repeat("\n",didReadContent?1+emptyLines:emptyLines)}else if(atMoreIndented){atMoreIndented=false;state.result+=common.repeat("\n",emptyLines+1)}else if(emptyLines===0){if(didReadContent){state.result+=" "}}else{state.result+=common.repeat("\n",emptyLines)}}else{state.result+=common.repeat("\n",didReadContent?1+emptyLines:emptyLines)}didReadContent=true;detectedIndent=true;emptyLines=0;captureStart=state.position;while(!is_EOL(ch)&&ch!==0){ch=state.input.charCodeAt(++state.position)}captureSegment(state,captureStart,state.position,false)}return true}function readBlockSequence(state,nodeIndent){var _line,_tag=state.tag,_anchor=state.anchor,_result=[],following,detected=false,ch;if(state.anchor!==null){state.anchorMap[state.anchor]=_result}ch=state.input.charCodeAt(state.position);while(ch!==0){if(ch!==45){break}following=state.input.charCodeAt(state.position+1);if(!is_WS_OR_EOL(following)){break}detected=true;state.position++;if(skipSeparationSpace(state,true,-1)){if(state.lineIndent<=nodeIndent){_result.push(null);ch=state.input.charCodeAt(state.position);continue}}_line=state.line;composeNode(state,nodeIndent,CONTEXT_BLOCK_IN,false,true);_result.push(state.result);skipSeparationSpace(state,true,-1);ch=state.input.charCodeAt(state.position);if((state.line===_line||state.lineIndent>nodeIndent)&&ch!==0){throwError(state,"bad indentation of a sequence entry")}else if(state.lineIndent<nodeIndent){break}}if(detected){state.tag=_tag;state.anchor=_anchor;state.kind="sequence";state.result=_result;return true}return false}function readBlockMapping(state,nodeIndent,flowIndent){var following,allowCompact,_line,_pos,_tag=state.tag,_anchor=state.anchor,_result={},overridableKeys={},keyTag=null,keyNode=null,valueNode=null,atExplicitKey=false,detected=false,ch;if(state.anchor!==null){state.anchorMap[state.anchor]=_result}ch=state.input.charCodeAt(state.position);while(ch!==0){following=state.input.charCodeAt(state.position+1);_line=state.line;_pos=state.position;if((ch===63||ch===58)&&is_WS_OR_EOL(following)){if(ch===63){if(atExplicitKey){storeMappingPair(state,_result,overridableKeys,keyTag,keyNode,null);keyTag=keyNode=valueNode=null}detected=true;atExplicitKey=true;allowCompact=true}else if(atExplicitKey){atExplicitKey=false;allowCompact=true}else{throwError(state,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line")}state.position+=1;ch=following}else if(composeNode(state,flowIndent,CONTEXT_FLOW_OUT,false,true)){if(state.line===_line){ch=state.input.charCodeAt(state.position);while(is_WHITE_SPACE(ch)){ch=state.input.charCodeAt(++state.position)}if(ch===58){ch=state.input.charCodeAt(++state.position);if(!is_WS_OR_EOL(ch)){throwError(state,"a whitespace character is expected after the key-value separator within a block mapping")}if(atExplicitKey){storeMappingPair(state,_result,overridableKeys,keyTag,keyNode,null);keyTag=keyNode=valueNode=null}detected=true;atExplicitKey=false;allowCompact=false;keyTag=state.tag;keyNode=state.result}else if(detected){throwError(state,"can not read an implicit mapping pair; a colon is missed")}else{state.tag=_tag;state.anchor=_anchor;return true}}else if(detected){throwError(state,"can not read a block mapping entry; a multiline key may not be an implicit key")}else{state.tag=_tag;state.anchor=_anchor;return true}}else{break}if(state.line===_line||state.lineIndent>nodeIndent){if(composeNode(state,nodeIndent,CONTEXT_BLOCK_OUT,true,allowCompact)){if(atExplicitKey){keyNode=state.result}else{valueNode=state.result}}if(!atExplicitKey){storeMappingPair(state,_result,overridableKeys,keyTag,keyNode,valueNode,_line,_pos);keyTag=keyNode=valueNode=null}skipSeparationSpace(state,true,-1);ch=state.input.charCodeAt(state.position)}if(state.lineIndent>nodeIndent&&ch!==0){throwError(state,"bad indentation of a mapping entry")}else if(state.lineIndent<nodeIndent){break}}if(atExplicitKey){storeMappingPair(state,_result,overridableKeys,keyTag,keyNode,null)}if(detected){state.tag=_tag;state.anchor=_anchor;state.kind="mapping";state.result=_result}return detected}function readTagProperty(state){var _position,isVerbatim=false,isNamed=false,tagHandle,tagName,ch;ch=state.input.charCodeAt(state.position);if(ch!==33)return false;if(state.tag!==null){throwError(state,"duplication of a tag property")}ch=state.input.charCodeAt(++state.position);if(ch===60){isVerbatim=true;ch=state.input.charCodeAt(++state.position)}else if(ch===33){isNamed=true;tagHandle="!!";ch=state.input.charCodeAt(++state.position)}else{tagHandle="!"}_position=state.position;if(isVerbatim){do{ch=state.input.charCodeAt(++state.position)}while(ch!==0&&ch!==62);if(state.position<state.length){tagName=state.input.slice(_position,state.position);ch=state.input.charCodeAt(++state.position)}else{throwError(state,"unexpected end of the stream within a verbatim tag")}}else{while(ch!==0&&!is_WS_OR_EOL(ch)){if(ch===33){if(!isNamed){tagHandle=state.input.slice(_position-1,state.position+1);if(!PATTERN_TAG_HANDLE.test(tagHandle)){throwError(state,"named tag handle cannot contain such characters")}isNamed=true;_position=state.position+1}else{throwError(state,"tag suffix cannot contain exclamation marks")}}ch=state.input.charCodeAt(++state.position)}tagName=state.input.slice(_position,state.position);if(PATTERN_FLOW_INDICATORS.test(tagName)){throwError(state,"tag suffix cannot contain flow indicator characters")}}if(tagName&&!PATTERN_TAG_URI.test(tagName)){throwError(state,"tag name cannot contain such characters: "+tagName)}if(isVerbatim){state.tag=tagName}else if(_hasOwnProperty.call(state.tagMap,tagHandle)){state.tag=state.tagMap[tagHandle]+tagName}else if(tagHandle==="!"){state.tag="!"+tagName}else if(tagHandle==="!!"){state.tag="tag:yaml.org,2002:"+tagName}else{throwError(state,'undeclared tag handle "'+tagHandle+'"')}return true}function readAnchorProperty(state){var _position,ch;ch=state.input.charCodeAt(state.position);if(ch!==38)return false;if(state.anchor!==null){throwError(state,"duplication of an anchor property")}ch=state.input.charCodeAt(++state.position);_position=state.position;while(ch!==0&&!is_WS_OR_EOL(ch)&&!is_FLOW_INDICATOR(ch)){ch=state.input.charCodeAt(++state.position)}if(state.position===_position){throwError(state,"name of an anchor node must contain at least one character")}state.anchor=state.input.slice(_position,state.position);return true}function readAlias(state){var _position,alias,ch;ch=state.input.charCodeAt(state.position);if(ch!==42)return false;ch=state.input.charCodeAt(++state.position);_position=state.position;while(ch!==0&&!is_WS_OR_EOL(ch)&&!is_FLOW_INDICATOR(ch)){ch=state.input.charCodeAt(++state.position)}if(state.position===_position){throwError(state,"name of an alias node must contain at least one character")}alias=state.input.slice(_position,state.position);if(!_hasOwnProperty.call(state.anchorMap,alias)){throwError(state,'unidentified alias "'+alias+'"')}state.result=state.anchorMap[alias];skipSeparationSpace(state,true,-1);return true}function composeNode(state,parentIndent,nodeContext,allowToSeek,allowCompact){var allowBlockStyles,allowBlockScalars,allowBlockCollections,indentStatus=1,atNewLine=false,hasContent=false,typeIndex,typeQuantity,type,flowIndent,blockIndent;if(state.listener!==null){state.listener("open",state)}state.tag=null;state.anchor=null;state.kind=null;state.result=null;allowBlockStyles=allowBlockScalars=allowBlockCollections=CONTEXT_BLOCK_OUT===nodeContext||CONTEXT_BLOCK_IN===nodeContext;if(allowToSeek){if(skipSeparationSpace(state,true,-1)){atNewLine=true;if(state.lineIndent>parentIndent){indentStatus=1}else if(state.lineIndent===parentIndent){indentStatus=0}else if(state.lineIndent<parentIndent){indentStatus=-1}}}if(indentStatus===1){while(readTagProperty(state)||readAnchorProperty(state)){if(skipSeparationSpace(state,true,-1)){atNewLine=true;allowBlockCollections=allowBlockStyles;if(state.lineIndent>parentIndent){indentStatus=1}else if(state.lineIndent===parentIndent){indentStatus=0}else if(state.lineIndent<parentIndent){indentStatus=-1}}else{allowBlockCollections=false}}}if(allowBlockCollections){allowBlockCollections=atNewLine||allowCompact}if(indentStatus===1||CONTEXT_BLOCK_OUT===nodeContext){if(CONTEXT_FLOW_IN===nodeContext||CONTEXT_FLOW_OUT===nodeContext){flowIndent=parentIndent}else{flowIndent=parentIndent+1}blockIndent=state.position-state.lineStart;if(indentStatus===1){if(allowBlockCollections&&(readBlockSequence(state,blockIndent)||readBlockMapping(state,blockIndent,flowIndent))||readFlowCollection(state,flowIndent)){hasContent=true}else{if(allowBlockScalars&&readBlockScalar(state,flowIndent)||readSingleQuotedScalar(state,flowIndent)||readDoubleQuotedScalar(state,flowIndent)){hasContent=true}else if(readAlias(state)){hasContent=true;if(state.tag!==null||state.anchor!==null){throwError(state,"alias node should not have any properties")}}else if(readPlainScalar(state,flowIndent,CONTEXT_FLOW_IN===nodeContext)){hasContent=true;if(state.tag===null){state.tag="?"}}if(state.anchor!==null){state.anchorMap[state.anchor]=state.result}}}else if(indentStatus===0){hasContent=allowBlockCollections&&readBlockSequence(state,blockIndent)}}if(state.tag!==null&&state.tag!=="!"){if(state.tag==="?"){if(state.result!==null&&state.kind!=="scalar"){throwError(state,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+state.kind+'"')}for(typeIndex=0,typeQuantity=state.implicitTypes.length;typeIndex<typeQuantity;typeIndex+=1){type=state.implicitTypes[typeIndex];if(type.resolve(state.result)){state.result=type.construct(state.result);state.tag=type.tag;if(state.anchor!==null){state.anchorMap[state.anchor]=state.result}break}}}else if(_hasOwnProperty.call(state.typeMap[state.kind||"fallback"],state.tag)){type=state.typeMap[state.kind||"fallback"][state.tag];if(state.result!==null&&type.kind!==state.kind){throwError(state,"unacceptable node kind for !<"+state.tag+'> tag; it should be "'+type.kind+'", not "'+state.kind+'"')}if(!type.resolve(state.result)){throwError(state,"cannot resolve a node with !<"+state.tag+"> explicit tag")}else{state.result=type.construct(state.result);if(state.anchor!==null){state.anchorMap[state.anchor]=state.result}}}else{throwError(state,"unknown tag !<"+state.tag+">")}}if(state.listener!==null){state.listener("close",state)}return state.tag!==null||state.anchor!==null||hasContent}function readDocument(state){var documentStart=state.position,_position,directiveName,directiveArgs,hasDirectives=false,ch;state.version=null;state.checkLineBreaks=state.legacy;state.tagMap={};state.anchorMap={};while((ch=state.input.charCodeAt(state.position))!==0){skipSeparationSpace(state,true,-1);ch=state.input.charCodeAt(state.position);if(state.lineIndent>0||ch!==37){break}hasDirectives=true;ch=state.input.charCodeAt(++state.position);_position=state.position;while(ch!==0&&!is_WS_OR_EOL(ch)){ch=state.input.charCodeAt(++state.position)}directiveName=state.input.slice(_position,state.position);directiveArgs=[];if(directiveName.length<1){throwError(state,"directive name must not be less than one character in length")}while(ch!==0){while(is_WHITE_SPACE(ch)){ch=state.input.charCodeAt(++state.position)}if(ch===35){do{ch=state.input.charCodeAt(++state.position)}while(ch!==0&&!is_EOL(ch));break}if(is_EOL(ch))break;_position=state.position;while(ch!==0&&!is_WS_OR_EOL(ch)){ch=state.input.charCodeAt(++state.position)}directiveArgs.push(state.input.slice(_position,state.position))}if(ch!==0)readLineBreak(state);if(_hasOwnProperty.call(directiveHandlers,directiveName)){directiveHandlers[directiveName](state,directiveName,directiveArgs)}else{throwWarning(state,'unknown document directive "'+directiveName+'"')}}skipSeparationSpace(state,true,-1);if(state.lineIndent===0&&state.input.charCodeAt(state.position)===45&&state.input.charCodeAt(state.position+1)===45&&state.input.charCodeAt(state.position+2)===45){state.position+=3;skipSeparationSpace(state,true,-1)}else if(hasDirectives){throwError(state,"directives end mark is expected")}composeNode(state,state.lineIndent-1,CONTEXT_BLOCK_OUT,false,true);skipSeparationSpace(state,true,-1);if(state.checkLineBreaks&&PATTERN_NON_ASCII_LINE_BREAKS.test(state.input.slice(documentStart,state.position))){throwWarning(state,"non-ASCII line breaks are interpreted as content")}state.documents.push(state.result);if(state.position===state.lineStart&&testDocumentSeparator(state)){if(state.input.charCodeAt(state.position)===46){state.position+=3;skipSeparationSpace(state,true,-1)}return}if(state.position<state.length-1){throwError(state,"end of the stream or a document separator is expected")}else{return}}function loadDocuments(input,options){input=String(input);options=options||{};if(input.length!==0){if(input.charCodeAt(input.length-1)!==10&&input.charCodeAt(input.length-1)!==13){input+="\n"}if(input.charCodeAt(0)===65279){input=input.slice(1)}}var state=new State(input,options);var nullpos=input.indexOf("\0");if(nullpos!==-1){state.position=nullpos;throwError(state,"null byte is not allowed in input")}state.input+="\0";while(state.input.charCodeAt(state.position)===32){state.lineIndent+=1;state.position+=1}while(state.position<state.length-1){readDocument(state)}return state.documents}function loadAll(input,iterator,options){if(iterator!==null&&typeof iterator==="object"&&typeof options==="undefined"){options=iterator;iterator=null}var documents=loadDocuments(input,options);if(typeof iterator!=="function"){return documents}for(var index=0,length=documents.length;index<length;index+=1){iterator(documents[index])}}function load(input,options){var documents=loadDocuments(input,options);if(documents.length===0){return undefined}else if(documents.length===1){return documents[0]}throw new YAMLException("expected a single document in the stream, but found more")}function safeLoadAll(input,iterator,options){if(typeof iterator==="object"&&iterator!==null&&typeof options==="undefined"){options=iterator;iterator=null}return loadAll(input,iterator,common.extend({schema:DEFAULT_SAFE_SCHEMA},options))}function safeLoad(input,options){return load(input,common.extend({schema:DEFAULT_SAFE_SCHEMA},options))}module.exports.loadAll=loadAll;module.exports.load=load;module.exports.safeLoadAll=safeLoadAll;module.exports.safeLoad=safeLoad},function(module,exports,__webpack_require__){"use strict";var common=__webpack_require__(45);function Mark(name,buffer,position,line,column){this.name=name;this.buffer=buffer;this.position=position;this.line=line;this.column=column}Mark.prototype.getSnippet=function getSnippet(indent,maxLength){var head,start,tail,end,snippet;if(!this.buffer)return null;indent=indent||4;maxLength=maxLength||75;head="";start=this.position;while(start>0&&"\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(start-1))===-1){start-=1;if(this.position-start>maxLength/2-1){head=" ... ";start+=5;break}}tail="";end=this.position;while(end<this.buffer.length&&"\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(end))===-1){end+=1;if(end-this.position>maxLength/2-1){tail=" ... ";end-=5;break}}snippet=this.buffer.slice(start,end);return common.repeat(" ",indent)+head+snippet+tail+"\n"+common.repeat(" ",indent+this.position-start+head.length)+"^"};Mark.prototype.toString=function toString(compact){var snippet,where="";if(this.name){where+='in "'+this.name+'" '}where+="at line "+(this.line+1)+", column "+(this.column+1);if(!compact){snippet=this.getSnippet();if(snippet){where+=":\n"+snippet}}return where};module.exports=Mark},function(module,exports,__webpack_require__){"use strict";var Type=__webpack_require__(21);module.exports=new Type("tag:yaml.org,2002:str",{kind:"scalar",construct:function(data){return data!==null?data:""}})},function(module,exports,__webpack_require__){"use strict";var Type=__webpack_require__(21);module.exports=new Type("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(data){return data!==null?data:[]}})},function(module,exports,__webpack_require__){"use strict";var Type=__webpack_require__(21);module.exports=new Type("tag:yaml.org,2002:map",{kind:"mapping",construct:function(data){return data!==null?data:{}}})},function(module,exports,__webpack_require__){"use strict";var Type=__webpack_require__(21);function resolveYamlNull(data){if(data===null)return true;var max=data.length;return max===1&&data==="~"||max===4&&(data==="null"||data==="Null"||data==="NULL")}function constructYamlNull(){return null}function isNull(object){return object===null}module.exports=new Type("tag:yaml.org,2002:null",{kind:"scalar",resolve:resolveYamlNull,construct:constructYamlNull,predicate:isNull,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},function(module,exports,__webpack_require__){"use strict";var Type=__webpack_require__(21);function resolveYamlBoolean(data){if(data===null)return false;var max=data.length;return max===4&&(data==="true"||data==="True"||data==="TRUE")||max===5&&(data==="false"||data==="False"||data==="FALSE")}function constructYamlBoolean(data){return data==="true"||data==="True"||data==="TRUE"}function isBoolean(object){return Object.prototype.toString.call(object)==="[object Boolean]"}module.exports=new Type("tag:yaml.org,2002:bool",{kind:"scalar",resolve:resolveYamlBoolean,construct:constructYamlBoolean,predicate:isBoolean,represent:{lowercase:function(object){return object?"true":"false"},uppercase:function(object){return object?"TRUE":"FALSE"},camelcase:function(object){return object?"True":"False"}},defaultStyle:"lowercase"})},function(module,exports,__webpack_require__){"use strict";var common=__webpack_require__(45);var Type=__webpack_require__(21);function isHexCode(c){return 48<=c&&c<=57||65<=c&&c<=70||97<=c&&c<=102}function isOctCode(c){return 48<=c&&c<=55}function isDecCode(c){return 48<=c&&c<=57}function resolveYamlInteger(data){if(data===null)return false;var max=data.length,index=0,hasDigits=false,ch;if(!max)return false;ch=data[index];if(ch==="-"||ch==="+"){ch=data[++index]}if(ch==="0"){if(index+1===max)return true;ch=data[++index];if(ch==="b"){index++;for(;index<max;index++){ch=data[index];if(ch==="_")continue;if(ch!=="0"&&ch!=="1")return false;hasDigits=true}return hasDigits&&ch!=="_"}if(ch==="x"){index++;for(;index<max;index++){ch=data[index];if(ch==="_")continue;if(!isHexCode(data.charCodeAt(index)))return false;hasDigits=true}return hasDigits&&ch!=="_"}for(;index<max;index++){ch=data[index];if(ch==="_")continue;if(!isOctCode(data.charCodeAt(index)))return false;hasDigits=true}return hasDigits&&ch!=="_"}if(ch==="_")return false;for(;index<max;index++){ch=data[index];if(ch==="_")continue;if(ch===":")break;if(!isDecCode(data.charCodeAt(index))){return false}hasDigits=true}if(!hasDigits||ch==="_")return false;if(ch!==":")return true;return/^(:[0-5]?[0-9])+$/.test(data.slice(index))}function constructYamlInteger(data){var value=data,sign=1,ch,base,digits=[];if(value.indexOf("_")!==-1){value=value.replace(/_/g,"")}ch=value[0];if(ch==="-"||ch==="+"){if(ch==="-")sign=-1;value=value.slice(1);ch=value[0]}if(value==="0")return 0;if(ch==="0"){if(value[1]==="b")return sign*parseInt(value.slice(2),2);if(value[1]==="x")return sign*parseInt(value,16);return sign*parseInt(value,8)}if(value.indexOf(":")!==-1){value.split(":").forEach((function(v){digits.unshift(parseInt(v,10))}));value=0;base=1;digits.forEach((function(d){value+=d*base;base*=60}));return sign*value}return sign*parseInt(value,10)}function isInteger(object){return Object.prototype.toString.call(object)==="[object Number]"&&(object%1===0&&!common.isNegativeZero(object))}module.exports=new Type("tag:yaml.org,2002:int",{kind:"scalar",resolve:resolveYamlInteger,construct:constructYamlInteger,predicate:isInteger,represent:{binary:function(obj){return obj>=0?"0b"+obj.toString(2):"-0b"+obj.toString(2).slice(1)},octal:function(obj){return obj>=0?"0"+obj.toString(8):"-0"+obj.toString(8).slice(1)},decimal:function(obj){return obj.toString(10)},hexadecimal:function(obj){return obj>=0?"0x"+obj.toString(16).toUpperCase():"-0x"+obj.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},function(module,exports,__webpack_require__){"use strict";var common=__webpack_require__(45);var Type=__webpack_require__(21);var YAML_FLOAT_PATTERN=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?"+"|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?"+"|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*"+"|[-+]?\\.(?:inf|Inf|INF)"+"|\\.(?:nan|NaN|NAN))$");function resolveYamlFloat(data){if(data===null)return false;if(!YAML_FLOAT_PATTERN.test(data)||data[data.length-1]==="_"){return false}return true}function constructYamlFloat(data){var value,sign,base,digits;value=data.replace(/_/g,"").toLowerCase();sign=value[0]==="-"?-1:1;digits=[];if("+-".indexOf(value[0])>=0){value=value.slice(1)}if(value===".inf"){return sign===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY}else if(value===".nan"){return NaN}else if(value.indexOf(":")>=0){value.split(":").forEach((function(v){digits.unshift(parseFloat(v,10))}));value=0;base=1;digits.forEach((function(d){value+=d*base;base*=60}));return sign*value}return sign*parseFloat(value,10)}var SCIENTIFIC_WITHOUT_DOT=/^[-+]?[0-9]+e/;function representYamlFloat(object,style){var res;if(isNaN(object)){switch(style){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}}else if(Number.POSITIVE_INFINITY===object){switch(style){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}}else if(Number.NEGATIVE_INFINITY===object){switch(style){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}}else if(common.isNegativeZero(object)){return"-0.0"}res=object.toString(10);return SCIENTIFIC_WITHOUT_DOT.test(res)?res.replace("e",".e"):res}function isFloat(object){return Object.prototype.toString.call(object)==="[object Number]"&&(object%1!==0||common.isNegativeZero(object))}module.exports=new Type("tag:yaml.org,2002:float",{kind:"scalar",resolve:resolveYamlFloat,construct:constructYamlFloat,predicate:isFloat,represent:representYamlFloat,defaultStyle:"lowercase"})},function(module,exports,__webpack_require__){"use strict";var Type=__webpack_require__(21);var YAML_DATE_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])"+"-([0-9][0-9])"+"-([0-9][0-9])$");var YAML_TIMESTAMP_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])"+"-([0-9][0-9]?)"+"-([0-9][0-9]?)"+"(?:[Tt]|[ \\t]+)"+"([0-9][0-9]?)"+":([0-9][0-9])"+":([0-9][0-9])"+"(?:\\.([0-9]*))?"+"(?:[ \\t]*(Z|([-+])([0-9][0-9]?)"+"(?::([0-9][0-9]))?))?$");function resolveYamlTimestamp(data){if(data===null)return false;if(YAML_DATE_REGEXP.exec(data)!==null)return true;if(YAML_TIMESTAMP_REGEXP.exec(data)!==null)return true;return false}function constructYamlTimestamp(data){var match,year,month,day,hour,minute,second,fraction=0,delta=null,tz_hour,tz_minute,date;match=YAML_DATE_REGEXP.exec(data);if(match===null)match=YAML_TIMESTAMP_REGEXP.exec(data);if(match===null)throw new Error("Date resolve error");year=+match[1];month=+match[2]-1;day=+match[3];if(!match[4]){return new Date(Date.UTC(year,month,day))}hour=+match[4];minute=+match[5];second=+match[6];if(match[7]){fraction=match[7].slice(0,3);while(fraction.length<3){fraction+="0"}fraction=+fraction}if(match[9]){tz_hour=+match[10];tz_minute=+(match[11]||0);delta=(tz_hour*60+tz_minute)*6e4;if(match[9]==="-")delta=-delta}date=new Date(Date.UTC(year,month,day,hour,minute,second,fraction));if(delta)date.setTime(date.getTime()-delta);return date}function representYamlTimestamp(object){return object.toISOString()}module.exports=new Type("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:resolveYamlTimestamp,construct:constructYamlTimestamp,instanceOf:Date,represent:representYamlTimestamp})},function(module,exports,__webpack_require__){"use strict";var Type=__webpack_require__(21);function resolveYamlMerge(data){return data==="<<"||data===null}module.exports=new Type("tag:yaml.org,2002:merge",{kind:"scalar",resolve:resolveYamlMerge})},function(module,exports,__webpack_require__){"use strict";var require;var NodeBuffer;try{var _require=require;NodeBuffer=__webpack_require__(97).Buffer}catch(__){}var Type=__webpack_require__(21);var BASE64_MAP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";function resolveYamlBinary(data){if(data===null)return false;var code,idx,bitlen=0,max=data.length,map=BASE64_MAP;for(idx=0;idx<max;idx++){code=map.indexOf(data.charAt(idx));if(code>64)continue;if(code<0)return false;bitlen+=6}return bitlen%8===0}function constructYamlBinary(data){var idx,tailbits,input=data.replace(/[\r\n=]/g,""),max=input.length,map=BASE64_MAP,bits=0,result=[];for(idx=0;idx<max;idx++){if(idx%4===0&&idx){result.push(bits>>16&255);result.push(bits>>8&255);result.push(bits&255)}bits=bits<<6|map.indexOf(input.charAt(idx))}tailbits=max%4*6;if(tailbits===0){result.push(bits>>16&255);result.push(bits>>8&255);result.push(bits&255)}else if(tailbits===18){result.push(bits>>10&255);result.push(bits>>2&255)}else if(tailbits===12){result.push(bits>>4&255)}if(NodeBuffer){return NodeBuffer.from?NodeBuffer.from(result):new NodeBuffer(result)}return result}function representYamlBinary(object){var result="",bits=0,idx,tail,max=object.length,map=BASE64_MAP;for(idx=0;idx<max;idx++){if(idx%3===0&&idx){result+=map[bits>>18&63];result+=map[bits>>12&63];result+=map[bits>>6&63];result+=map[bits&63]}bits=(bits<<8)+object[idx]}tail=max%3;if(tail===0){result+=map[bits>>18&63];result+=map[bits>>12&63];result+=map[bits>>6&63];result+=map[bits&63]}else if(tail===2){result+=map[bits>>10&63];result+=map[bits>>4&63];result+=map[bits<<2&63];result+=map[64]}else if(tail===1){result+=map[bits>>2&63];result+=map[bits<<4&63];result+=map[64];result+=map[64]}return result}function isBinary(object){return NodeBuffer&&NodeBuffer.isBuffer(object)}module.exports=new Type("tag:yaml.org,2002:binary",{kind:"scalar",resolve:resolveYamlBinary,construct:constructYamlBinary,predicate:isBinary,represent:representYamlBinary})},function(module,exports,__webpack_require__){"use strict";var Type=__webpack_require__(21);var _hasOwnProperty=Object.prototype.hasOwnProperty;var _toString=Object.prototype.toString;function resolveYamlOmap(data){if(data===null)return true;var objectKeys=[],index,length,pair,pairKey,pairHasKey,object=data;for(index=0,length=object.length;index<length;index+=1){pair=object[index];pairHasKey=false;if(_toString.call(pair)!=="[object Object]")return false;for(pairKey in pair){if(_hasOwnProperty.call(pair,pairKey)){if(!pairHasKey)pairHasKey=true;else return false}}if(!pairHasKey)return false;if(objectKeys.indexOf(pairKey)===-1)objectKeys.push(pairKey);else return false}return true}function constructYamlOmap(data){return data!==null?data:[]}module.exports=new Type("tag:yaml.org,2002:omap",{kind:"sequence",resolve:resolveYamlOmap,construct:constructYamlOmap})},function(module,exports,__webpack_require__){"use strict";var Type=__webpack_require__(21);var _toString=Object.prototype.toString;function resolveYamlPairs(data){if(data===null)return true;var index,length,pair,keys,result,object=data;result=new Array(object.length);for(index=0,length=object.length;index<length;index+=1){pair=object[index];if(_toString.call(pair)!=="[object Object]")return false;keys=Object.keys(pair);if(keys.length!==1)return false;result[index]=[keys[0],pair[keys[0]]]}return true}function constructYamlPairs(data){if(data===null)return[];var index,length,pair,keys,result,object=data;result=new Array(object.length);for(index=0,length=object.length;index<length;index+=1){pair=object[index];keys=Object.keys(pair);result[index]=[keys[0],pair[keys[0]]]}return result}module.exports=new Type("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:resolveYamlPairs,construct:constructYamlPairs})},function(module,exports,__webpack_require__){"use strict";var Type=__webpack_require__(21);var _hasOwnProperty=Object.prototype.hasOwnProperty;function resolveYamlSet(data){if(data===null)return true;var key,object=data;for(key in object){if(_hasOwnProperty.call(object,key)){if(object[key]!==null)return false}}return true}function constructYamlSet(data){return data!==null?data:{}}module.exports=new Type("tag:yaml.org,2002:set",{kind:"mapping",resolve:resolveYamlSet,construct:constructYamlSet})},function(module,exports,__webpack_require__){"use strict";var Type=__webpack_require__(21);function resolveJavascriptUndefined(){return true}function constructJavascriptUndefined(){return undefined}function representJavascriptUndefined(){return""}function isUndefined(object){return typeof object==="undefined"}module.exports=new Type("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:resolveJavascriptUndefined,construct:constructJavascriptUndefined,predicate:isUndefined,represent:representJavascriptUndefined})},function(module,exports,__webpack_require__){"use strict";var Type=__webpack_require__(21);function resolveJavascriptRegExp(data){if(data===null)return false;if(data.length===0)return false;var regexp=data,tail=/\/([gim]*)$/.exec(data),modifiers="";if(regexp[0]==="/"){if(tail)modifiers=tail[1];if(modifiers.length>3)return false;if(regexp[regexp.length-modifiers.length-1]!=="/")return false}return true}function constructJavascriptRegExp(data){var regexp=data,tail=/\/([gim]*)$/.exec(data),modifiers="";if(regexp[0]==="/"){if(tail)modifiers=tail[1];regexp=regexp.slice(1,regexp.length-modifiers.length-1)}return new RegExp(regexp,modifiers)}function representJavascriptRegExp(object){var result="/"+object.source+"/";if(object.global)result+="g";if(object.multiline)result+="m";if(object.ignoreCase)result+="i";return result}function isRegExp(object){return Object.prototype.toString.call(object)==="[object RegExp]"}module.exports=new Type("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:resolveJavascriptRegExp,construct:constructJavascriptRegExp,predicate:isRegExp,represent:representJavascriptRegExp})},function(module,exports,__webpack_require__){"use strict";var require;var esprima;try{var _require=require;esprima=__webpack_require__(476)}catch(_){if(typeof window!=="undefined")esprima=window.esprima}var Type=__webpack_require__(21);function resolveJavascriptFunction(data){if(data===null)return false;try{var source="("+data+")",ast=esprima.parse(source,{range:true});if(ast.type!=="Program"||ast.body.length!==1||ast.body[0].type!=="ExpressionStatement"||ast.body[0].expression.type!=="ArrowFunctionExpression"&&ast.body[0].expression.type!=="FunctionExpression"){return false}return true}catch(err){return false}}function constructJavascriptFunction(data){var source="("+data+")",ast=esprima.parse(source,{range:true}),params=[],body;if(ast.type!=="Program"||ast.body.length!==1||ast.body[0].type!=="ExpressionStatement"||ast.body[0].expression.type!=="ArrowFunctionExpression"&&ast.body[0].expression.type!=="FunctionExpression"){throw new Error("Failed to resolve function")}ast.body[0].expression.params.forEach((function(param){params.push(param.name)}));body=ast.body[0].expression.body.range;if(ast.body[0].expression.body.type==="BlockStatement"){return new Function(params,source.slice(body[0]+1,body[1]-1))}return new Function(params,"return "+source.slice(body[0],body[1]))}function representJavascriptFunction(object){return object.toString()}function isFunction(object){return Object.prototype.toString.call(object)==="[object Function]"}module.exports=new Type("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:resolveJavascriptFunction,construct:constructJavascriptFunction,predicate:isFunction,represent:representJavascriptFunction})},function(module,exports,__webpack_require__){(function webpackUniversalModuleDefinition(root,factory){if(true)module.exports=factory();else{}})(this,(function(){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:false};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="";return __webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var comment_handler_1=__webpack_require__(1);var jsx_parser_1=__webpack_require__(3);var parser_1=__webpack_require__(8);var tokenizer_1=__webpack_require__(15);function parse(code,options,delegate){var commentHandler=null;var proxyDelegate=function(node,metadata){if(delegate){delegate(node,metadata)}if(commentHandler){commentHandler.visit(node,metadata)}};var parserDelegate=typeof delegate==="function"?proxyDelegate:null;var collectComment=false;if(options){collectComment=typeof options.comment==="boolean"&&options.comment;var attachComment=typeof options.attachComment==="boolean"&&options.attachComment;if(collectComment||attachComment){commentHandler=new comment_handler_1.CommentHandler;commentHandler.attach=attachComment;options.comment=true;parserDelegate=proxyDelegate}}var isModule=false;if(options&&typeof options.sourceType==="string"){isModule=options.sourceType==="module"}var parser;if(options&&typeof options.jsx==="boolean"&&options.jsx){parser=new jsx_parser_1.JSXParser(code,options,parserDelegate)}else{parser=new parser_1.Parser(code,options,parserDelegate)}var program=isModule?parser.parseModule():parser.parseScript();var ast=program;if(collectComment&&commentHandler){ast.comments=commentHandler.comments}if(parser.config.tokens){ast.tokens=parser.tokens}if(parser.config.tolerant){ast.errors=parser.errorHandler.errors}return ast}exports.parse=parse;function parseModule(code,options,delegate){var parsingOptions=options||{};parsingOptions.sourceType="module";return parse(code,parsingOptions,delegate)}exports.parseModule=parseModule;function parseScript(code,options,delegate){var parsingOptions=options||{};parsingOptions.sourceType="script";return parse(code,parsingOptions,delegate)}exports.parseScript=parseScript;function tokenize(code,options,delegate){var tokenizer=new tokenizer_1.Tokenizer(code,options);var tokens;tokens=[];try{while(true){var token=tokenizer.getNextToken();if(!token){break}if(delegate){token=delegate(token)}tokens.push(token)}}catch(e){tokenizer.errorHandler.tolerate(e)}if(tokenizer.errorHandler.tolerant){tokens.errors=tokenizer.errors()}return tokens}exports.tokenize=tokenize;var syntax_1=__webpack_require__(2);exports.Syntax=syntax_1.Syntax;exports.version="4.0.1"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var syntax_1=__webpack_require__(2);var CommentHandler=function(){function CommentHandler(){this.attach=false;this.comments=[];this.stack=[];this.leading=[];this.trailing=[]}CommentHandler.prototype.insertInnerComments=function(node,metadata){if(node.type===syntax_1.Syntax.BlockStatement&&node.body.length===0){var innerComments=[];for(var i=this.leading.length-1;i>=0;--i){var entry=this.leading[i];if(metadata.end.offset>=entry.start){innerComments.unshift(entry.comment);this.leading.splice(i,1);this.trailing.splice(i,1)}}if(innerComments.length){node.innerComments=innerComments}}};CommentHandler.prototype.findTrailingComments=function(metadata){var trailingComments=[];if(this.trailing.length>0){for(var i=this.trailing.length-1;i>=0;--i){var entry_1=this.trailing[i];if(entry_1.start>=metadata.end.offset){trailingComments.unshift(entry_1.comment)}}this.trailing.length=0;return trailingComments}var entry=this.stack[this.stack.length-1];if(entry&&entry.node.trailingComments){var firstComment=entry.node.trailingComments[0];if(firstComment&&firstComment.range[0]>=metadata.end.offset){trailingComments=entry.node.trailingComments;delete entry.node.trailingComments}}return trailingComments};CommentHandler.prototype.findLeadingComments=function(metadata){var leadingComments=[];var target;while(this.stack.length>0){var entry=this.stack[this.stack.length-1];if(entry&&entry.start>=metadata.start.offset){target=entry.node;this.stack.pop()}else{break}}if(target){var count=target.leadingComments?target.leadingComments.length:0;for(var i=count-1;i>=0;--i){var comment=target.leadingComments[i];if(comment.range[1]<=metadata.start.offset){leadingComments.unshift(comment);target.leadingComments.splice(i,1)}}if(target.leadingComments&&target.leadingComments.length===0){delete target.leadingComments}return leadingComments}for(var i=this.leading.length-1;i>=0;--i){var entry=this.leading[i];if(entry.start<=metadata.start.offset){leadingComments.unshift(entry.comment);this.leading.splice(i,1)}}return leadingComments};CommentHandler.prototype.visitNode=function(node,metadata){if(node.type===syntax_1.Syntax.Program&&node.body.length>0){return}this.insertInnerComments(node,metadata);var trailingComments=this.findTrailingComments(metadata);var leadingComments=this.findLeadingComments(metadata);if(leadingComments.length>0){node.leadingComments=leadingComments}if(trailingComments.length>0){node.trailingComments=trailingComments}this.stack.push({node:node,start:metadata.start.offset})};CommentHandler.prototype.visitComment=function(node,metadata){var type=node.type[0]==="L"?"Line":"Block";var comment={type:type,value:node.value};if(node.range){comment.range=node.range}if(node.loc){comment.loc=node.loc}this.comments.push(comment);if(this.attach){var entry={comment:{type:type,value:node.value,range:[metadata.start.offset,metadata.end.offset]},start:metadata.start.offset};if(node.loc){entry.comment.loc=node.loc}node.type=type;this.leading.push(entry);this.trailing.push(entry)}};CommentHandler.prototype.visit=function(node,metadata){if(node.type==="LineComment"){this.visitComment(node,metadata)}else if(node.type==="BlockComment"){this.visitComment(node,metadata)}else if(this.attach){this.visitNode(node,metadata)}};return CommentHandler}();exports.CommentHandler=CommentHandler},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:true});var character_1=__webpack_require__(4);var JSXNode=__webpack_require__(5);var jsx_syntax_1=__webpack_require__(6);var Node=__webpack_require__(7);var parser_1=__webpack_require__(8);var token_1=__webpack_require__(13);var xhtml_entities_1=__webpack_require__(14);token_1.TokenName[100]="JSXIdentifier";token_1.TokenName[101]="JSXText";function getQualifiedElementName(elementName){var qualifiedName;switch(elementName.type){case jsx_syntax_1.JSXSyntax.JSXIdentifier:var id=elementName;qualifiedName=id.name;break;case jsx_syntax_1.JSXSyntax.JSXNamespacedName:var ns=elementName;qualifiedName=getQualifiedElementName(ns.namespace)+":"+getQualifiedElementName(ns.name);break;case jsx_syntax_1.JSXSyntax.JSXMemberExpression:var expr=elementName;qualifiedName=getQualifiedElementName(expr.object)+"."+getQualifiedElementName(expr.property);break;default:break}return qualifiedName}var JSXParser=function(_super){__extends(JSXParser,_super);function JSXParser(code,options,delegate){return _super.call(this,code,options,delegate)||this}JSXParser.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():_super.prototype.parsePrimaryExpression.call(this)};JSXParser.prototype.startJSX=function(){this.scanner.index=this.startMarker.index;this.scanner.lineNumber=this.startMarker.line;this.scanner.lineStart=this.startMarker.index-this.startMarker.column};JSXParser.prototype.finishJSX=function(){this.nextToken()};JSXParser.prototype.reenterJSX=function(){this.startJSX();this.expectJSX("}");if(this.config.tokens){this.tokens.pop()}};JSXParser.prototype.createJSXNode=function(){this.collectComments();return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}};JSXParser.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}};JSXParser.prototype.scanXHTMLEntity=function(quote){var result="&";var valid=true;var terminated=false;var numeric=false;var hex=false;while(!this.scanner.eof()&&valid&&!terminated){var ch=this.scanner.source[this.scanner.index];if(ch===quote){break}terminated=ch===";";result+=ch;++this.scanner.index;if(!terminated){switch(result.length){case 2:numeric=ch==="#";break;case 3:if(numeric){hex=ch==="x";valid=hex||character_1.Character.isDecimalDigit(ch.charCodeAt(0));numeric=numeric&&!hex}break;default:valid=valid&&!(numeric&&!character_1.Character.isDecimalDigit(ch.charCodeAt(0)));valid=valid&&!(hex&&!character_1.Character.isHexDigit(ch.charCodeAt(0)));break}}}if(valid&&terminated&&result.length>2){var str=result.substr(1,result.length-2);if(numeric&&str.length>1){result=String.fromCharCode(parseInt(str.substr(1),10))}else if(hex&&str.length>2){result=String.fromCharCode(parseInt("0"+str.substr(1),16))}else if(!numeric&&!hex&&xhtml_entities_1.XHTMLEntities[str]){result=xhtml_entities_1.XHTMLEntities[str]}}return result};JSXParser.prototype.lexJSX=function(){var cp=this.scanner.source.charCodeAt(this.scanner.index);if(cp===60||cp===62||cp===47||cp===58||cp===61||cp===123||cp===125){var value=this.scanner.source[this.scanner.index++];return{type:7,value:value,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index}}if(cp===34||cp===39){var start=this.scanner.index;var quote=this.scanner.source[this.scanner.index++];var str="";while(!this.scanner.eof()){var ch=this.scanner.source[this.scanner.index++];if(ch===quote){break}else if(ch==="&"){str+=this.scanXHTMLEntity(quote)}else{str+=ch}}return{type:8,value:str,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:start,end:this.scanner.index}}if(cp===46){var n1=this.scanner.source.charCodeAt(this.scanner.index+1);var n2=this.scanner.source.charCodeAt(this.scanner.index+2);var value=n1===46&&n2===46?"...":".";var start=this.scanner.index;this.scanner.index+=value.length;return{type:7,value:value,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:start,end:this.scanner.index}}if(cp===96){return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index}}if(character_1.Character.isIdentifierStart(cp)&&cp!==92){var start=this.scanner.index;++this.scanner.index;while(!this.scanner.eof()){var ch=this.scanner.source.charCodeAt(this.scanner.index);if(character_1.Character.isIdentifierPart(ch)&&ch!==92){++this.scanner.index}else if(ch===45){++this.scanner.index}else{break}}var id=this.scanner.source.slice(start,this.scanner.index);return{type:100,value:id,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:start,end:this.scanner.index}}return this.scanner.lex()};JSXParser.prototype.nextJSXToken=function(){this.collectComments();this.startMarker.index=this.scanner.index;this.startMarker.line=this.scanner.lineNumber;this.startMarker.column=this.scanner.index-this.scanner.lineStart;var token=this.lexJSX();this.lastMarker.index=this.scanner.index;this.lastMarker.line=this.scanner.lineNumber;this.lastMarker.column=this.scanner.index-this.scanner.lineStart;if(this.config.tokens){this.tokens.push(this.convertToken(token))}return token};JSXParser.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index;this.startMarker.line=this.scanner.lineNumber;this.startMarker.column=this.scanner.index-this.scanner.lineStart;var start=this.scanner.index;var text="";while(!this.scanner.eof()){var ch=this.scanner.source[this.scanner.index];if(ch==="{"||ch==="<"){break}++this.scanner.index;text+=ch;if(character_1.Character.isLineTerminator(ch.charCodeAt(0))){++this.scanner.lineNumber;if(ch==="\r"&&this.scanner.source[this.scanner.index]==="\n"){++this.scanner.index}this.scanner.lineStart=this.scanner.index}}this.lastMarker.index=this.scanner.index;this.lastMarker.line=this.scanner.lineNumber;this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var token={type:101,value:text,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:start,end:this.scanner.index};if(text.length>0&&this.config.tokens){this.tokens.push(this.convertToken(token))}return token};JSXParser.prototype.peekJSXToken=function(){var state=this.scanner.saveState();this.scanner.scanComments();var next=this.lexJSX();this.scanner.restoreState(state);return next};JSXParser.prototype.expectJSX=function(value){var token=this.nextJSXToken();if(token.type!==7||token.value!==value){this.throwUnexpectedToken(token)}};JSXParser.prototype.matchJSX=function(value){var next=this.peekJSXToken();return next.type===7&&next.value===value};JSXParser.prototype.parseJSXIdentifier=function(){var node=this.createJSXNode();var token=this.nextJSXToken();if(token.type!==100){this.throwUnexpectedToken(token)}return this.finalize(node,new JSXNode.JSXIdentifier(token.value))};JSXParser.prototype.parseJSXElementName=function(){var node=this.createJSXNode();var elementName=this.parseJSXIdentifier();if(this.matchJSX(":")){var namespace=elementName;this.expectJSX(":");var name_1=this.parseJSXIdentifier();elementName=this.finalize(node,new JSXNode.JSXNamespacedName(namespace,name_1))}else if(this.matchJSX(".")){while(this.matchJSX(".")){var object=elementName;this.expectJSX(".");var property=this.parseJSXIdentifier();elementName=this.finalize(node,new JSXNode.JSXMemberExpression(object,property))}}return elementName};JSXParser.prototype.parseJSXAttributeName=function(){var node=this.createJSXNode();var attributeName;var identifier=this.parseJSXIdentifier();if(this.matchJSX(":")){var namespace=identifier;this.expectJSX(":");var name_2=this.parseJSXIdentifier();attributeName=this.finalize(node,new JSXNode.JSXNamespacedName(namespace,name_2))}else{attributeName=identifier}return attributeName};JSXParser.prototype.parseJSXStringLiteralAttribute=function(){var node=this.createJSXNode();var token=this.nextJSXToken();if(token.type!==8){this.throwUnexpectedToken(token)}var raw=this.getTokenRaw(token);return this.finalize(node,new Node.Literal(token.value,raw))};JSXParser.prototype.parseJSXExpressionAttribute=function(){var node=this.createJSXNode();this.expectJSX("{");this.finishJSX();if(this.match("}")){this.tolerateError("JSX attributes must only be assigned a non-empty expression")}var expression=this.parseAssignmentExpression();this.reenterJSX();return this.finalize(node,new JSXNode.JSXExpressionContainer(expression))};JSXParser.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()};JSXParser.prototype.parseJSXNameValueAttribute=function(){var node=this.createJSXNode();var name=this.parseJSXAttributeName();var value=null;if(this.matchJSX("=")){this.expectJSX("=");value=this.parseJSXAttributeValue()}return this.finalize(node,new JSXNode.JSXAttribute(name,value))};JSXParser.prototype.parseJSXSpreadAttribute=function(){var node=this.createJSXNode();this.expectJSX("{");this.expectJSX("...");this.finishJSX();var argument=this.parseAssignmentExpression();this.reenterJSX();return this.finalize(node,new JSXNode.JSXSpreadAttribute(argument))};JSXParser.prototype.parseJSXAttributes=function(){var attributes=[];while(!this.matchJSX("/")&&!this.matchJSX(">")){var attribute=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();attributes.push(attribute)}return attributes};JSXParser.prototype.parseJSXOpeningElement=function(){var node=this.createJSXNode();this.expectJSX("<");var name=this.parseJSXElementName();var attributes=this.parseJSXAttributes();var selfClosing=this.matchJSX("/");if(selfClosing){this.expectJSX("/")}this.expectJSX(">");return this.finalize(node,new JSXNode.JSXOpeningElement(name,selfClosing,attributes))};JSXParser.prototype.parseJSXBoundaryElement=function(){var node=this.createJSXNode();this.expectJSX("<");if(this.matchJSX("/")){this.expectJSX("/");var name_3=this.parseJSXElementName();this.expectJSX(">");return this.finalize(node,new JSXNode.JSXClosingElement(name_3))}var name=this.parseJSXElementName();var attributes=this.parseJSXAttributes();var selfClosing=this.matchJSX("/");if(selfClosing){this.expectJSX("/")}this.expectJSX(">");return this.finalize(node,new JSXNode.JSXOpeningElement(name,selfClosing,attributes))};JSXParser.prototype.parseJSXEmptyExpression=function(){var node=this.createJSXChildNode();this.collectComments();this.lastMarker.index=this.scanner.index;this.lastMarker.line=this.scanner.lineNumber;this.lastMarker.column=this.scanner.index-this.scanner.lineStart;return this.finalize(node,new JSXNode.JSXEmptyExpression)};JSXParser.prototype.parseJSXExpressionContainer=function(){var node=this.createJSXNode();this.expectJSX("{");var expression;if(this.matchJSX("}")){expression=this.parseJSXEmptyExpression();this.expectJSX("}")}else{this.finishJSX();expression=this.parseAssignmentExpression();this.reenterJSX()}return this.finalize(node,new JSXNode.JSXExpressionContainer(expression))};JSXParser.prototype.parseJSXChildren=function(){var children=[];while(!this.scanner.eof()){var node=this.createJSXChildNode();var token=this.nextJSXText();if(token.start<token.end){var raw=this.getTokenRaw(token);var child=this.finalize(node,new JSXNode.JSXText(token.value,raw));children.push(child)}if(this.scanner.source[this.scanner.index]==="{"){var container=this.parseJSXExpressionContainer();children.push(container)}else{break}}return children};JSXParser.prototype.parseComplexJSXElement=function(el){var stack=[];while(!this.scanner.eof()){el.children=el.children.concat(this.parseJSXChildren());var node=this.createJSXChildNode();var element=this.parseJSXBoundaryElement();if(element.type===jsx_syntax_1.JSXSyntax.JSXOpeningElement){var opening=element;if(opening.selfClosing){var child=this.finalize(node,new JSXNode.JSXElement(opening,[],null));el.children.push(child)}else{stack.push(el);el={node:node,opening:opening,closing:null,children:[]}}}if(element.type===jsx_syntax_1.JSXSyntax.JSXClosingElement){el.closing=element;var open_1=getQualifiedElementName(el.opening.name);var close_1=getQualifiedElementName(el.closing.name);if(open_1!==close_1){this.tolerateError("Expected corresponding JSX closing tag for %0",open_1)}if(stack.length>0){var child=this.finalize(el.node,new JSXNode.JSXElement(el.opening,el.children,el.closing));el=stack[stack.length-1];el.children.push(child);stack.pop()}else{break}}}return el};JSXParser.prototype.parseJSXElement=function(){var node=this.createJSXNode();var opening=this.parseJSXOpeningElement();var children=[];var closing=null;if(!opening.selfClosing){var el=this.parseComplexJSXElement({node:node,opening:opening,closing:closing,children:children});children=el.children;closing=el.closing}return this.finalize(node,new JSXNode.JSXElement(opening,children,closing))};JSXParser.prototype.parseJSXRoot=function(){if(this.config.tokens){this.tokens.pop()}this.startJSX();var element=this.parseJSXElement();this.finishJSX();return element};JSXParser.prototype.isStartOfExpression=function(){return _super.prototype.isStartOfExpression.call(this)||this.match("<")};return JSXParser}(parser_1.Parser);exports.JSXParser=JSXParser},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var Regex={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};exports.Character={fromCodePoint:function(cp){return cp<65536?String.fromCharCode(cp):String.fromCharCode(55296+(cp-65536>>10))+String.fromCharCode(56320+(cp-65536&1023))},isWhiteSpace:function(cp){return cp===32||cp===9||cp===11||cp===12||cp===160||cp>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(cp)>=0},isLineTerminator:function(cp){return cp===10||cp===13||cp===8232||cp===8233},isIdentifierStart:function(cp){return cp===36||cp===95||cp>=65&&cp<=90||cp>=97&&cp<=122||cp===92||cp>=128&&Regex.NonAsciiIdentifierStart.test(exports.Character.fromCodePoint(cp))},isIdentifierPart:function(cp){return cp===36||cp===95||cp>=65&&cp<=90||cp>=97&&cp<=122||cp>=48&&cp<=57||cp===92||cp>=128&&Regex.NonAsciiIdentifierPart.test(exports.Character.fromCodePoint(cp))},isDecimalDigit:function(cp){return cp>=48&&cp<=57},isHexDigit:function(cp){return cp>=48&&cp<=57||cp>=65&&cp<=70||cp>=97&&cp<=102},isOctalDigit:function(cp){return cp>=48&&cp<=55}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var jsx_syntax_1=__webpack_require__(6);var JSXClosingElement=function(){function JSXClosingElement(name){this.type=jsx_syntax_1.JSXSyntax.JSXClosingElement;this.name=name}return JSXClosingElement}();exports.JSXClosingElement=JSXClosingElement;var JSXElement=function(){function JSXElement(openingElement,children,closingElement){this.type=jsx_syntax_1.JSXSyntax.JSXElement;this.openingElement=openingElement;this.children=children;this.closingElement=closingElement}return JSXElement}();exports.JSXElement=JSXElement;var JSXEmptyExpression=function(){function JSXEmptyExpression(){this.type=jsx_syntax_1.JSXSyntax.JSXEmptyExpression}return JSXEmptyExpression}();exports.JSXEmptyExpression=JSXEmptyExpression;var JSXExpressionContainer=function(){function JSXExpressionContainer(expression){this.type=jsx_syntax_1.JSXSyntax.JSXExpressionContainer;this.expression=expression}return JSXExpressionContainer}();exports.JSXExpressionContainer=JSXExpressionContainer;var JSXIdentifier=function(){function JSXIdentifier(name){this.type=jsx_syntax_1.JSXSyntax.JSXIdentifier;this.name=name}return JSXIdentifier}();exports.JSXIdentifier=JSXIdentifier;var JSXMemberExpression=function(){function JSXMemberExpression(object,property){this.type=jsx_syntax_1.JSXSyntax.JSXMemberExpression;this.object=object;this.property=property}return JSXMemberExpression}();exports.JSXMemberExpression=JSXMemberExpression;var JSXAttribute=function(){function JSXAttribute(name,value){this.type=jsx_syntax_1.JSXSyntax.JSXAttribute;this.name=name;this.value=value}return JSXAttribute}();exports.JSXAttribute=JSXAttribute;var JSXNamespacedName=function(){function JSXNamespacedName(namespace,name){this.type=jsx_syntax_1.JSXSyntax.JSXNamespacedName;this.namespace=namespace;this.name=name}return JSXNamespacedName}();exports.JSXNamespacedName=JSXNamespacedName;var JSXOpeningElement=function(){function JSXOpeningElement(name,selfClosing,attributes){this.type=jsx_syntax_1.JSXSyntax.JSXOpeningElement;this.name=name;this.selfClosing=selfClosing;this.attributes=attributes}return JSXOpeningElement}();exports.JSXOpeningElement=JSXOpeningElement;var JSXSpreadAttribute=function(){function JSXSpreadAttribute(argument){this.type=jsx_syntax_1.JSXSyntax.JSXSpreadAttribute;this.argument=argument}return JSXSpreadAttribute}();exports.JSXSpreadAttribute=JSXSpreadAttribute;var JSXText=function(){function JSXText(value,raw){this.type=jsx_syntax_1.JSXSyntax.JSXText;this.value=value;this.raw=raw}return JSXText}();exports.JSXText=JSXText},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var syntax_1=__webpack_require__(2);var ArrayExpression=function(){function ArrayExpression(elements){this.type=syntax_1.Syntax.ArrayExpression;this.elements=elements}return ArrayExpression}();exports.ArrayExpression=ArrayExpression;var ArrayPattern=function(){function ArrayPattern(elements){this.type=syntax_1.Syntax.ArrayPattern;this.elements=elements}return ArrayPattern}();exports.ArrayPattern=ArrayPattern;var ArrowFunctionExpression=function(){function ArrowFunctionExpression(params,body,expression){this.type=syntax_1.Syntax.ArrowFunctionExpression;this.id=null;this.params=params;this.body=body;this.generator=false;this.expression=expression;this.async=false}return ArrowFunctionExpression}();exports.ArrowFunctionExpression=ArrowFunctionExpression;var AssignmentExpression=function(){function AssignmentExpression(operator,left,right){this.type=syntax_1.Syntax.AssignmentExpression;this.operator=operator;this.left=left;this.right=right}return AssignmentExpression}();exports.AssignmentExpression=AssignmentExpression;var AssignmentPattern=function(){function AssignmentPattern(left,right){this.type=syntax_1.Syntax.AssignmentPattern;this.left=left;this.right=right}return AssignmentPattern}();exports.AssignmentPattern=AssignmentPattern;var AsyncArrowFunctionExpression=function(){function AsyncArrowFunctionExpression(params,body,expression){this.type=syntax_1.Syntax.ArrowFunctionExpression;this.id=null;this.params=params;this.body=body;this.generator=false;this.expression=expression;this.async=true}return AsyncArrowFunctionExpression}();exports.AsyncArrowFunctionExpression=AsyncArrowFunctionExpression;var AsyncFunctionDeclaration=function(){function AsyncFunctionDeclaration(id,params,body){this.type=syntax_1.Syntax.FunctionDeclaration;this.id=id;this.params=params;this.body=body;this.generator=false;this.expression=false;this.async=true}return AsyncFunctionDeclaration}();exports.AsyncFunctionDeclaration=AsyncFunctionDeclaration;var AsyncFunctionExpression=function(){function AsyncFunctionExpression(id,params,body){this.type=syntax_1.Syntax.FunctionExpression;this.id=id;this.params=params;this.body=body;this.generator=false;this.expression=false;this.async=true}return AsyncFunctionExpression}();exports.AsyncFunctionExpression=AsyncFunctionExpression;var AwaitExpression=function(){function AwaitExpression(argument){this.type=syntax_1.Syntax.AwaitExpression;this.argument=argument}return AwaitExpression}();exports.AwaitExpression=AwaitExpression;var BinaryExpression=function(){function BinaryExpression(operator,left,right){var logical=operator==="||"||operator==="&&";this.type=logical?syntax_1.Syntax.LogicalExpression:syntax_1.Syntax.BinaryExpression;this.operator=operator;this.left=left;this.right=right}return BinaryExpression}();exports.BinaryExpression=BinaryExpression;var BlockStatement=function(){function BlockStatement(body){this.type=syntax_1.Syntax.BlockStatement;this.body=body}return BlockStatement}();exports.BlockStatement=BlockStatement;var BreakStatement=function(){function BreakStatement(label){this.type=syntax_1.Syntax.BreakStatement;this.label=label}return BreakStatement}();exports.BreakStatement=BreakStatement;var CallExpression=function(){function CallExpression(callee,args){this.type=syntax_1.Syntax.CallExpression;this.callee=callee;this.arguments=args}return CallExpression}();exports.CallExpression=CallExpression;var CatchClause=function(){function CatchClause(param,body){this.type=syntax_1.Syntax.CatchClause;this.param=param;this.body=body}return CatchClause}();exports.CatchClause=CatchClause;var ClassBody=function(){function ClassBody(body){this.type=syntax_1.Syntax.ClassBody;this.body=body}return ClassBody}();exports.ClassBody=ClassBody;var ClassDeclaration=function(){function ClassDeclaration(id,superClass,body){this.type=syntax_1.Syntax.ClassDeclaration;this.id=id;this.superClass=superClass;this.body=body}return ClassDeclaration}();exports.ClassDeclaration=ClassDeclaration;var ClassExpression=function(){function ClassExpression(id,superClass,body){this.type=syntax_1.Syntax.ClassExpression;this.id=id;this.superClass=superClass;this.body=body}return ClassExpression}();exports.ClassExpression=ClassExpression;var ComputedMemberExpression=function(){function ComputedMemberExpression(object,property){this.type=syntax_1.Syntax.MemberExpression;this.computed=true;this.object=object;this.property=property}return ComputedMemberExpression}();exports.ComputedMemberExpression=ComputedMemberExpression;var ConditionalExpression=function(){function ConditionalExpression(test,consequent,alternate){this.type=syntax_1.Syntax.ConditionalExpression;this.test=test;this.consequent=consequent;this.alternate=alternate}return ConditionalExpression}();exports.ConditionalExpression=ConditionalExpression;var ContinueStatement=function(){function ContinueStatement(label){this.type=syntax_1.Syntax.ContinueStatement;this.label=label}return ContinueStatement}();exports.ContinueStatement=ContinueStatement;var DebuggerStatement=function(){function DebuggerStatement(){this.type=syntax_1.Syntax.DebuggerStatement}return DebuggerStatement}();exports.DebuggerStatement=DebuggerStatement;var Directive=function(){function Directive(expression,directive){this.type=syntax_1.Syntax.ExpressionStatement;this.expression=expression;this.directive=directive}return Directive}();exports.Directive=Directive;var DoWhileStatement=function(){function DoWhileStatement(body,test){this.type=syntax_1.Syntax.DoWhileStatement;this.body=body;this.test=test}return DoWhileStatement}();exports.DoWhileStatement=DoWhileStatement;var EmptyStatement=function(){function EmptyStatement(){this.type=syntax_1.Syntax.EmptyStatement}return EmptyStatement}();exports.EmptyStatement=EmptyStatement;var ExportAllDeclaration=function(){function ExportAllDeclaration(source){this.type=syntax_1.Syntax.ExportAllDeclaration;this.source=source}return ExportAllDeclaration}();exports.ExportAllDeclaration=ExportAllDeclaration;var ExportDefaultDeclaration=function(){function ExportDefaultDeclaration(declaration){this.type=syntax_1.Syntax.ExportDefaultDeclaration;this.declaration=declaration}return ExportDefaultDeclaration}();exports.ExportDefaultDeclaration=ExportDefaultDeclaration;var ExportNamedDeclaration=function(){function ExportNamedDeclaration(declaration,specifiers,source){this.type=syntax_1.Syntax.ExportNamedDeclaration;this.declaration=declaration;this.specifiers=specifiers;this.source=source}return ExportNamedDeclaration}();exports.ExportNamedDeclaration=ExportNamedDeclaration;var ExportSpecifier=function(){function ExportSpecifier(local,exported){this.type=syntax_1.Syntax.ExportSpecifier;this.exported=exported;this.local=local}return ExportSpecifier}();exports.ExportSpecifier=ExportSpecifier;var ExpressionStatement=function(){function ExpressionStatement(expression){this.type=syntax_1.Syntax.ExpressionStatement;this.expression=expression}return ExpressionStatement}();exports.ExpressionStatement=ExpressionStatement;var ForInStatement=function(){function ForInStatement(left,right,body){this.type=syntax_1.Syntax.ForInStatement;this.left=left;this.right=right;this.body=body;this.each=false}return ForInStatement}();exports.ForInStatement=ForInStatement;var ForOfStatement=function(){function ForOfStatement(left,right,body){this.type=syntax_1.Syntax.ForOfStatement;this.left=left;this.right=right;this.body=body}return ForOfStatement}();exports.ForOfStatement=ForOfStatement;var ForStatement=function(){function ForStatement(init,test,update,body){this.type=syntax_1.Syntax.ForStatement;this.init=init;this.test=test;this.update=update;this.body=body}return ForStatement}();exports.ForStatement=ForStatement;var FunctionDeclaration=function(){function FunctionDeclaration(id,params,body,generator){this.type=syntax_1.Syntax.FunctionDeclaration;this.id=id;this.params=params;this.body=body;this.generator=generator;this.expression=false;this.async=false}return FunctionDeclaration}();exports.FunctionDeclaration=FunctionDeclaration;var FunctionExpression=function(){function FunctionExpression(id,params,body,generator){this.type=syntax_1.Syntax.FunctionExpression;this.id=id;this.params=params;this.body=body;this.generator=generator;this.expression=false;this.async=false}return FunctionExpression}();exports.FunctionExpression=FunctionExpression;var Identifier=function(){function Identifier(name){this.type=syntax_1.Syntax.Identifier;this.name=name}return Identifier}();exports.Identifier=Identifier;var IfStatement=function(){function IfStatement(test,consequent,alternate){this.type=syntax_1.Syntax.IfStatement;this.test=test;this.consequent=consequent;this.alternate=alternate}return IfStatement}();exports.IfStatement=IfStatement;var ImportDeclaration=function(){function ImportDeclaration(specifiers,source){this.type=syntax_1.Syntax.ImportDeclaration;this.specifiers=specifiers;this.source=source}return ImportDeclaration}();exports.ImportDeclaration=ImportDeclaration;var ImportDefaultSpecifier=function(){function ImportDefaultSpecifier(local){this.type=syntax_1.Syntax.ImportDefaultSpecifier;this.local=local}return ImportDefaultSpecifier}();exports.ImportDefaultSpecifier=ImportDefaultSpecifier;var ImportNamespaceSpecifier=function(){function ImportNamespaceSpecifier(local){this.type=syntax_1.Syntax.ImportNamespaceSpecifier;this.local=local}return ImportNamespaceSpecifier}();exports.ImportNamespaceSpecifier=ImportNamespaceSpecifier;var ImportSpecifier=function(){function ImportSpecifier(local,imported){this.type=syntax_1.Syntax.ImportSpecifier;this.local=local;this.imported=imported}return ImportSpecifier}();exports.ImportSpecifier=ImportSpecifier;var LabeledStatement=function(){function LabeledStatement(label,body){this.type=syntax_1.Syntax.LabeledStatement;this.label=label;this.body=body}return LabeledStatement}();exports.LabeledStatement=LabeledStatement;var Literal=function(){function Literal(value,raw){this.type=syntax_1.Syntax.Literal;this.value=value;this.raw=raw}return Literal}();exports.Literal=Literal;var MetaProperty=function(){function MetaProperty(meta,property){this.type=syntax_1.Syntax.MetaProperty;this.meta=meta;this.property=property}return MetaProperty}();exports.MetaProperty=MetaProperty;var MethodDefinition=function(){function MethodDefinition(key,computed,value,kind,isStatic){this.type=syntax_1.Syntax.MethodDefinition;this.key=key;this.computed=computed;this.value=value;this.kind=kind;this.static=isStatic}return MethodDefinition}();exports.MethodDefinition=MethodDefinition;var Module=function(){function Module(body){this.type=syntax_1.Syntax.Program;this.body=body;this.sourceType="module"}return Module}();exports.Module=Module;var NewExpression=function(){function NewExpression(callee,args){this.type=syntax_1.Syntax.NewExpression;this.callee=callee;this.arguments=args}return NewExpression}();exports.NewExpression=NewExpression;var ObjectExpression=function(){function ObjectExpression(properties){this.type=syntax_1.Syntax.ObjectExpression;this.properties=properties}return ObjectExpression}();exports.ObjectExpression=ObjectExpression;var ObjectPattern=function(){function ObjectPattern(properties){this.type=syntax_1.Syntax.ObjectPattern;this.properties=properties}return ObjectPattern}();exports.ObjectPattern=ObjectPattern;var Property=function(){function Property(kind,key,computed,value,method,shorthand){this.type=syntax_1.Syntax.Property;this.key=key;this.computed=computed;this.value=value;this.kind=kind;this.method=method;this.shorthand=shorthand}return Property}();exports.Property=Property;var RegexLiteral=function(){function RegexLiteral(value,raw,pattern,flags){this.type=syntax_1.Syntax.Literal;this.value=value;this.raw=raw;this.regex={pattern:pattern,flags:flags}}return RegexLiteral}();exports.RegexLiteral=RegexLiteral;var RestElement=function(){function RestElement(argument){this.type=syntax_1.Syntax.RestElement;this.argument=argument}return RestElement}();exports.RestElement=RestElement;var ReturnStatement=function(){function ReturnStatement(argument){this.type=syntax_1.Syntax.ReturnStatement;this.argument=argument}return ReturnStatement}();exports.ReturnStatement=ReturnStatement;var Script=function(){function Script(body){this.type=syntax_1.Syntax.Program;this.body=body;this.sourceType="script"}return Script}();exports.Script=Script;var SequenceExpression=function(){function SequenceExpression(expressions){this.type=syntax_1.Syntax.SequenceExpression;this.expressions=expressions}return SequenceExpression}();exports.SequenceExpression=SequenceExpression;var SpreadElement=function(){function SpreadElement(argument){this.type=syntax_1.Syntax.SpreadElement;this.argument=argument}return SpreadElement}();exports.SpreadElement=SpreadElement;var StaticMemberExpression=function(){function StaticMemberExpression(object,property){this.type=syntax_1.Syntax.MemberExpression;this.computed=false;this.object=object;this.property=property}return StaticMemberExpression}();exports.StaticMemberExpression=StaticMemberExpression;var Super=function(){function Super(){this.type=syntax_1.Syntax.Super}return Super}();exports.Super=Super;var SwitchCase=function(){function SwitchCase(test,consequent){this.type=syntax_1.Syntax.SwitchCase;this.test=test;this.consequent=consequent}return SwitchCase}();exports.SwitchCase=SwitchCase;var SwitchStatement=function(){function SwitchStatement(discriminant,cases){this.type=syntax_1.Syntax.SwitchStatement;this.discriminant=discriminant;this.cases=cases}return SwitchStatement}();exports.SwitchStatement=SwitchStatement;var TaggedTemplateExpression=function(){function TaggedTemplateExpression(tag,quasi){this.type=syntax_1.Syntax.TaggedTemplateExpression;this.tag=tag;this.quasi=quasi}return TaggedTemplateExpression}();exports.TaggedTemplateExpression=TaggedTemplateExpression;var TemplateElement=function(){function TemplateElement(value,tail){this.type=syntax_1.Syntax.TemplateElement;this.value=value;this.tail=tail}return TemplateElement}();exports.TemplateElement=TemplateElement;var TemplateLiteral=function(){function TemplateLiteral(quasis,expressions){this.type=syntax_1.Syntax.TemplateLiteral;this.quasis=quasis;this.expressions=expressions}return TemplateLiteral}();exports.TemplateLiteral=TemplateLiteral;var ThisExpression=function(){function ThisExpression(){this.type=syntax_1.Syntax.ThisExpression}return ThisExpression}();exports.ThisExpression=ThisExpression;var ThrowStatement=function(){function ThrowStatement(argument){this.type=syntax_1.Syntax.ThrowStatement;this.argument=argument}return ThrowStatement}();exports.ThrowStatement=ThrowStatement;var TryStatement=function(){function TryStatement(block,handler,finalizer){this.type=syntax_1.Syntax.TryStatement;this.block=block;this.handler=handler;this.finalizer=finalizer}return TryStatement}();exports.TryStatement=TryStatement;var UnaryExpression=function(){function UnaryExpression(operator,argument){this.type=syntax_1.Syntax.UnaryExpression;this.operator=operator;this.argument=argument;this.prefix=true}return UnaryExpression}();exports.UnaryExpression=UnaryExpression;var UpdateExpression=function(){function UpdateExpression(operator,argument,prefix){this.type=syntax_1.Syntax.UpdateExpression;this.operator=operator;this.argument=argument;this.prefix=prefix}return UpdateExpression}();exports.UpdateExpression=UpdateExpression;var VariableDeclaration=function(){function VariableDeclaration(declarations,kind){this.type=syntax_1.Syntax.VariableDeclaration;this.declarations=declarations;this.kind=kind}return VariableDeclaration}();exports.VariableDeclaration=VariableDeclaration;var VariableDeclarator=function(){function VariableDeclarator(id,init){this.type=syntax_1.Syntax.VariableDeclarator;this.id=id;this.init=init}return VariableDeclarator}();exports.VariableDeclarator=VariableDeclarator;var WhileStatement=function(){function WhileStatement(test,body){this.type=syntax_1.Syntax.WhileStatement;this.test=test;this.body=body}return WhileStatement}();exports.WhileStatement=WhileStatement;var WithStatement=function(){function WithStatement(object,body){this.type=syntax_1.Syntax.WithStatement;this.object=object;this.body=body}return WithStatement}();exports.WithStatement=WithStatement;var YieldExpression=function(){function YieldExpression(argument,delegate){this.type=syntax_1.Syntax.YieldExpression;this.argument=argument;this.delegate=delegate}return YieldExpression}();exports.YieldExpression=YieldExpression},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var assert_1=__webpack_require__(9);var error_handler_1=__webpack_require__(10);var messages_1=__webpack_require__(11);var Node=__webpack_require__(7);var scanner_1=__webpack_require__(12);var syntax_1=__webpack_require__(2);var token_1=__webpack_require__(13);var ArrowParameterPlaceHolder="ArrowParameterPlaceHolder";var Parser=function(){function Parser(code,options,delegate){if(options===void 0){options={}}this.config={range:typeof options.range==="boolean"&&options.range,loc:typeof options.loc==="boolean"&&options.loc,source:null,tokens:typeof options.tokens==="boolean"&&options.tokens,comment:typeof options.comment==="boolean"&&options.comment,tolerant:typeof options.tolerant==="boolean"&&options.tolerant};if(this.config.loc&&options.source&&options.source!==null){this.config.source=String(options.source)}this.delegate=delegate;this.errorHandler=new error_handler_1.ErrorHandler;this.errorHandler.tolerant=this.config.tolerant;this.scanner=new scanner_1.Scanner(code,this.errorHandler);this.scanner.trackComment=this.config.comment;this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11};this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0};this.hasLineTerminator=false;this.context={isModule:false,await:false,allowIn:true,allowStrictDirective:true,allowYield:true,firstCoverInitializedNameError:null,isAssignmentTarget:false,isBindingElement:false,inFunctionBody:false,inIteration:false,inSwitch:false,labelSet:{},strict:false};this.tokens=[];this.startMarker={index:0,line:this.scanner.lineNumber,column:0};this.lastMarker={index:0,line:this.scanner.lineNumber,column:0};this.nextToken();this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}Parser.prototype.throwError=function(messageFormat){var values=[];for(var _i=1;_i<arguments.length;_i++){values[_i-1]=arguments[_i]}var args=Array.prototype.slice.call(arguments,1);var msg=messageFormat.replace(/%(\d)/g,(function(whole,idx){assert_1.assert(idx<args.length,"Message reference must be in range");return args[idx]}));var index=this.lastMarker.index;var line=this.lastMarker.line;var column=this.lastMarker.column+1;throw this.errorHandler.createError(index,line,column,msg)};Parser.prototype.tolerateError=function(messageFormat){var values=[];for(var _i=1;_i<arguments.length;_i++){values[_i-1]=arguments[_i]}var args=Array.prototype.slice.call(arguments,1);var msg=messageFormat.replace(/%(\d)/g,(function(whole,idx){assert_1.assert(idx<args.length,"Message reference must be in range");return args[idx]}));var index=this.lastMarker.index;var line=this.scanner.lineNumber;var column=this.lastMarker.column+1;this.errorHandler.tolerateError(index,line,column,msg)};Parser.prototype.unexpectedTokenError=function(token,message){var msg=message||messages_1.Messages.UnexpectedToken;var value;if(token){if(!message){msg=token.type===2?messages_1.Messages.UnexpectedEOS:token.type===3?messages_1.Messages.UnexpectedIdentifier:token.type===6?messages_1.Messages.UnexpectedNumber:token.type===8?messages_1.Messages.UnexpectedString:token.type===10?messages_1.Messages.UnexpectedTemplate:messages_1.Messages.UnexpectedToken;if(token.type===4){if(this.scanner.isFutureReservedWord(token.value)){msg=messages_1.Messages.UnexpectedReserved}else if(this.context.strict&&this.scanner.isStrictModeReservedWord(token.value)){msg=messages_1.Messages.StrictReservedWord}}}value=token.value}else{value="ILLEGAL"}msg=msg.replace("%0",value);if(token&&typeof token.lineNumber==="number"){var index=token.start;var line=token.lineNumber;var lastMarkerLineStart=this.lastMarker.index-this.lastMarker.column;var column=token.start-lastMarkerLineStart+1;return this.errorHandler.createError(index,line,column,msg)}else{var index=this.lastMarker.index;var line=this.lastMarker.line;var column=this.lastMarker.column+1;return this.errorHandler.createError(index,line,column,msg)}};Parser.prototype.throwUnexpectedToken=function(token,message){throw this.unexpectedTokenError(token,message)};Parser.prototype.tolerateUnexpectedToken=function(token,message){this.errorHandler.tolerate(this.unexpectedTokenError(token,message))};Parser.prototype.collectComments=function(){if(!this.config.comment){this.scanner.scanComments()}else{var comments=this.scanner.scanComments();if(comments.length>0&&this.delegate){for(var i=0;i<comments.length;++i){var e=comments[i];var node=void 0;node={type:e.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(e.slice[0],e.slice[1])};if(this.config.range){node.range=e.range}if(this.config.loc){node.loc=e.loc}var metadata={start:{line:e.loc.start.line,column:e.loc.start.column,offset:e.range[0]},end:{line:e.loc.end.line,column:e.loc.end.column,offset:e.range[1]}};this.delegate(node,metadata)}}}};Parser.prototype.getTokenRaw=function(token){return this.scanner.source.slice(token.start,token.end)};Parser.prototype.convertToken=function(token){var t={type:token_1.TokenName[token.type],value:this.getTokenRaw(token)};if(this.config.range){t.range=[token.start,token.end]}if(this.config.loc){t.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}}if(token.type===9){var pattern=token.pattern;var flags=token.flags;t.regex={pattern:pattern,flags:flags}}return t};Parser.prototype.nextToken=function(){var token=this.lookahead;this.lastMarker.index=this.scanner.index;this.lastMarker.line=this.scanner.lineNumber;this.lastMarker.column=this.scanner.index-this.scanner.lineStart;this.collectComments();if(this.scanner.index!==this.startMarker.index){this.startMarker.index=this.scanner.index;this.startMarker.line=this.scanner.lineNumber;this.startMarker.column=this.scanner.index-this.scanner.lineStart}var next=this.scanner.lex();this.hasLineTerminator=token.lineNumber!==next.lineNumber;if(next&&this.context.strict&&next.type===3){if(this.scanner.isStrictModeReservedWord(next.value)){next.type=4}}this.lookahead=next;if(this.config.tokens&&next.type!==2){this.tokens.push(this.convertToken(next))}return token};Parser.prototype.nextRegexToken=function(){this.collectComments();var token=this.scanner.scanRegExp();if(this.config.tokens){this.tokens.pop();this.tokens.push(this.convertToken(token))}this.lookahead=token;this.nextToken();return token};Parser.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}};Parser.prototype.startNode=function(token,lastLineStart){if(lastLineStart===void 0){lastLineStart=0}var column=token.start-token.lineStart;var line=token.lineNumber;if(column<0){column+=lastLineStart;line--}return{index:token.start,line:line,column:column}};Parser.prototype.finalize=function(marker,node){if(this.config.range){node.range=[marker.index,this.lastMarker.index]}if(this.config.loc){node.loc={start:{line:marker.line,column:marker.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}};if(this.config.source){node.loc.source=this.config.source}}if(this.delegate){var metadata={start:{line:marker.line,column:marker.column,offset:marker.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}};this.delegate(node,metadata)}return node};Parser.prototype.expect=function(value){var token=this.nextToken();if(token.type!==7||token.value!==value){this.throwUnexpectedToken(token)}};Parser.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var token=this.lookahead;if(token.type===7&&token.value===","){this.nextToken()}else if(token.type===7&&token.value===";"){this.nextToken();this.tolerateUnexpectedToken(token)}else{this.tolerateUnexpectedToken(token,messages_1.Messages.UnexpectedToken)}}else{this.expect(",")}};Parser.prototype.expectKeyword=function(keyword){var token=this.nextToken();if(token.type!==4||token.value!==keyword){this.throwUnexpectedToken(token)}};Parser.prototype.match=function(value){return this.lookahead.type===7&&this.lookahead.value===value};Parser.prototype.matchKeyword=function(keyword){return this.lookahead.type===4&&this.lookahead.value===keyword};Parser.prototype.matchContextualKeyword=function(keyword){return this.lookahead.type===3&&this.lookahead.value===keyword};Parser.prototype.matchAssign=function(){if(this.lookahead.type!==7){return false}var op=this.lookahead.value;return op==="="||op==="*="||op==="**="||op==="/="||op==="%="||op==="+="||op==="-="||op==="<<="||op===">>="||op===">>>="||op==="&="||op==="^="||op==="|="};Parser.prototype.isolateCoverGrammar=function(parseFunction){var previousIsBindingElement=this.context.isBindingElement;var previousIsAssignmentTarget=this.context.isAssignmentTarget;var previousFirstCoverInitializedNameError=this.context.firstCoverInitializedNameError;this.context.isBindingElement=true;this.context.isAssignmentTarget=true;this.context.firstCoverInitializedNameError=null;var result=parseFunction.call(this);if(this.context.firstCoverInitializedNameError!==null){this.throwUnexpectedToken(this.context.firstCoverInitializedNameError)}this.context.isBindingElement=previousIsBindingElement;this.context.isAssignmentTarget=previousIsAssignmentTarget;this.context.firstCoverInitializedNameError=previousFirstCoverInitializedNameError;return result};Parser.prototype.inheritCoverGrammar=function(parseFunction){var previousIsBindingElement=this.context.isBindingElement;var previousIsAssignmentTarget=this.context.isAssignmentTarget;var previousFirstCoverInitializedNameError=this.context.firstCoverInitializedNameError;this.context.isBindingElement=true;this.context.isAssignmentTarget=true;this.context.firstCoverInitializedNameError=null;var result=parseFunction.call(this);this.context.isBindingElement=this.context.isBindingElement&&previousIsBindingElement;this.context.isAssignmentTarget=this.context.isAssignmentTarget&&previousIsAssignmentTarget;this.context.firstCoverInitializedNameError=previousFirstCoverInitializedNameError||this.context.firstCoverInitializedNameError;return result};Parser.prototype.consumeSemicolon=function(){if(this.match(";")){this.nextToken()}else if(!this.hasLineTerminator){if(this.lookahead.type!==2&&!this.match("}")){this.throwUnexpectedToken(this.lookahead)}this.lastMarker.index=this.startMarker.index;this.lastMarker.line=this.startMarker.line;this.lastMarker.column=this.startMarker.column}};Parser.prototype.parsePrimaryExpression=function(){var node=this.createNode();var expr;var token,raw;switch(this.lookahead.type){case 3:if((this.context.isModule||this.context.await)&&this.lookahead.value==="await"){this.tolerateUnexpectedToken(this.lookahead)}expr=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(node,new Node.Identifier(this.nextToken().value));break;case 6:case 8:if(this.context.strict&&this.lookahead.octal){this.tolerateUnexpectedToken(this.lookahead,messages_1.Messages.StrictOctalLiteral)}this.context.isAssignmentTarget=false;this.context.isBindingElement=false;token=this.nextToken();raw=this.getTokenRaw(token);expr=this.finalize(node,new Node.Literal(token.value,raw));break;case 1:this.context.isAssignmentTarget=false;this.context.isBindingElement=false;token=this.nextToken();raw=this.getTokenRaw(token);expr=this.finalize(node,new Node.Literal(token.value==="true",raw));break;case 5:this.context.isAssignmentTarget=false;this.context.isBindingElement=false;token=this.nextToken();raw=this.getTokenRaw(token);expr=this.finalize(node,new Node.Literal(null,raw));break;case 10:expr=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=false;expr=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":expr=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":expr=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=false;this.context.isBindingElement=false;this.scanner.index=this.startMarker.index;token=this.nextRegexToken();raw=this.getTokenRaw(token);expr=this.finalize(node,new Node.RegexLiteral(token.regex,raw,token.pattern,token.flags));break;default:expr=this.throwUnexpectedToken(this.nextToken())}break;case 4:if(!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")){expr=this.parseIdentifierName()}else if(!this.context.strict&&this.matchKeyword("let")){expr=this.finalize(node,new Node.Identifier(this.nextToken().value))}else{this.context.isAssignmentTarget=false;this.context.isBindingElement=false;if(this.matchKeyword("function")){expr=this.parseFunctionExpression()}else if(this.matchKeyword("this")){this.nextToken();expr=this.finalize(node,new Node.ThisExpression)}else if(this.matchKeyword("class")){expr=this.parseClassExpression()}else{expr=this.throwUnexpectedToken(this.nextToken())}}break;default:expr=this.throwUnexpectedToken(this.nextToken())}return expr};Parser.prototype.parseSpreadElement=function(){var node=this.createNode();this.expect("...");var arg=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(node,new Node.SpreadElement(arg))};Parser.prototype.parseArrayInitializer=function(){var node=this.createNode();var elements=[];this.expect("[");while(!this.match("]")){if(this.match(",")){this.nextToken();elements.push(null)}else if(this.match("...")){var element=this.parseSpreadElement();if(!this.match("]")){this.context.isAssignmentTarget=false;this.context.isBindingElement=false;this.expect(",")}elements.push(element)}else{elements.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(!this.match("]")){this.expect(",")}}}this.expect("]");return this.finalize(node,new Node.ArrayExpression(elements))};Parser.prototype.parsePropertyMethod=function(params){this.context.isAssignmentTarget=false;this.context.isBindingElement=false;var previousStrict=this.context.strict;var previousAllowStrictDirective=this.context.allowStrictDirective;this.context.allowStrictDirective=params.simple;var body=this.isolateCoverGrammar(this.parseFunctionSourceElements);if(this.context.strict&&params.firstRestricted){this.tolerateUnexpectedToken(params.firstRestricted,params.message)}if(this.context.strict&&params.stricted){this.tolerateUnexpectedToken(params.stricted,params.message)}this.context.strict=previousStrict;this.context.allowStrictDirective=previousAllowStrictDirective;return body};Parser.prototype.parsePropertyMethodFunction=function(){var isGenerator=false;var node=this.createNode();var previousAllowYield=this.context.allowYield;this.context.allowYield=true;var params=this.parseFormalParameters();var method=this.parsePropertyMethod(params);this.context.allowYield=previousAllowYield;return this.finalize(node,new Node.FunctionExpression(null,params.params,method,isGenerator))};Parser.prototype.parsePropertyMethodAsyncFunction=function(){var node=this.createNode();var previousAllowYield=this.context.allowYield;var previousAwait=this.context.await;this.context.allowYield=false;this.context.await=true;var params=this.parseFormalParameters();var method=this.parsePropertyMethod(params);this.context.allowYield=previousAllowYield;this.context.await=previousAwait;return this.finalize(node,new Node.AsyncFunctionExpression(null,params.params,method))};Parser.prototype.parseObjectPropertyKey=function(){var node=this.createNode();var token=this.nextToken();var key;switch(token.type){case 8:case 6:if(this.context.strict&&token.octal){this.tolerateUnexpectedToken(token,messages_1.Messages.StrictOctalLiteral)}var raw=this.getTokenRaw(token);key=this.finalize(node,new Node.Literal(token.value,raw));break;case 3:case 1:case 5:case 4:key=this.finalize(node,new Node.Identifier(token.value));break;case 7:if(token.value==="["){key=this.isolateCoverGrammar(this.parseAssignmentExpression);this.expect("]")}else{key=this.throwUnexpectedToken(token)}break;default:key=this.throwUnexpectedToken(token)}return key};Parser.prototype.isPropertyKey=function(key,value){return key.type===syntax_1.Syntax.Identifier&&key.name===value||key.type===syntax_1.Syntax.Literal&&key.value===value};Parser.prototype.parseObjectProperty=function(hasProto){var node=this.createNode();var token=this.lookahead;var kind;var key=null;var value=null;var computed=false;var method=false;var shorthand=false;var isAsync=false;if(token.type===3){var id=token.value;this.nextToken();computed=this.match("[");isAsync=!this.hasLineTerminator&&id==="async"&&!this.match(":")&&!this.match("(")&&!this.match("*")&&!this.match(",");key=isAsync?this.parseObjectPropertyKey():this.finalize(node,new Node.Identifier(id))}else if(this.match("*")){this.nextToken()}else{computed=this.match("[");key=this.parseObjectPropertyKey()}var lookaheadPropertyKey=this.qualifiedPropertyName(this.lookahead);if(token.type===3&&!isAsync&&token.value==="get"&&lookaheadPropertyKey){kind="get";computed=this.match("[");key=this.parseObjectPropertyKey();this.context.allowYield=false;value=this.parseGetterMethod()}else if(token.type===3&&!isAsync&&token.value==="set"&&lookaheadPropertyKey){kind="set";computed=this.match("[");key=this.parseObjectPropertyKey();value=this.parseSetterMethod()}else if(token.type===7&&token.value==="*"&&lookaheadPropertyKey){kind="init";computed=this.match("[");key=this.parseObjectPropertyKey();value=this.parseGeneratorMethod();method=true}else{if(!key){this.throwUnexpectedToken(this.lookahead)}kind="init";if(this.match(":")&&!isAsync){if(!computed&&this.isPropertyKey(key,"__proto__")){if(hasProto.value){this.tolerateError(messages_1.Messages.DuplicateProtoProperty)}hasProto.value=true}this.nextToken();value=this.inheritCoverGrammar(this.parseAssignmentExpression)}else if(this.match("(")){value=isAsync?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction();method=true}else if(token.type===3){var id=this.finalize(node,new Node.Identifier(token.value));if(this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead;this.nextToken();shorthand=true;var init=this.isolateCoverGrammar(this.parseAssignmentExpression);value=this.finalize(node,new Node.AssignmentPattern(id,init))}else{shorthand=true;value=id}}else{this.throwUnexpectedToken(this.nextToken())}}return this.finalize(node,new Node.Property(kind,key,computed,value,method,shorthand))};Parser.prototype.parseObjectInitializer=function(){var node=this.createNode();this.expect("{");var properties=[];var hasProto={value:false};while(!this.match("}")){properties.push(this.parseObjectProperty(hasProto));if(!this.match("}")){this.expectCommaSeparator()}}this.expect("}");return this.finalize(node,new Node.ObjectExpression(properties))};Parser.prototype.parseTemplateHead=function(){assert_1.assert(this.lookahead.head,"Template literal must start with a template head");var node=this.createNode();var token=this.nextToken();var raw=token.value;var cooked=token.cooked;return this.finalize(node,new Node.TemplateElement({raw:raw,cooked:cooked},token.tail))};Parser.prototype.parseTemplateElement=function(){if(this.lookahead.type!==10){this.throwUnexpectedToken()}var node=this.createNode();var token=this.nextToken();var raw=token.value;var cooked=token.cooked;return this.finalize(node,new Node.TemplateElement({raw:raw,cooked:cooked},token.tail))};Parser.prototype.parseTemplateLiteral=function(){var node=this.createNode();var expressions=[];var quasis=[];var quasi=this.parseTemplateHead();quasis.push(quasi);while(!quasi.tail){expressions.push(this.parseExpression());quasi=this.parseTemplateElement();quasis.push(quasi)}return this.finalize(node,new Node.TemplateLiteral(quasis,expressions))};Parser.prototype.reinterpretExpressionAsPattern=function(expr){switch(expr.type){case syntax_1.Syntax.Identifier:case syntax_1.Syntax.MemberExpression:case syntax_1.Syntax.RestElement:case syntax_1.Syntax.AssignmentPattern:break;case syntax_1.Syntax.SpreadElement:expr.type=syntax_1.Syntax.RestElement;this.reinterpretExpressionAsPattern(expr.argument);break;case syntax_1.Syntax.ArrayExpression:expr.type=syntax_1.Syntax.ArrayPattern;for(var i=0;i<expr.elements.length;i++){if(expr.elements[i]!==null){this.reinterpretExpressionAsPattern(expr.elements[i])}}break;case syntax_1.Syntax.ObjectExpression:expr.type=syntax_1.Syntax.ObjectPattern;for(var i=0;i<expr.properties.length;i++){this.reinterpretExpressionAsPattern(expr.properties[i].value)}break;case syntax_1.Syntax.AssignmentExpression:expr.type=syntax_1.Syntax.AssignmentPattern;delete expr.operator;this.reinterpretExpressionAsPattern(expr.left);break;default:break}};Parser.prototype.parseGroupExpression=function(){var expr;this.expect("(");if(this.match(")")){this.nextToken();if(!this.match("=>")){this.expect("=>")}expr={type:ArrowParameterPlaceHolder,params:[],async:false}}else{var startToken=this.lookahead;var params=[];if(this.match("...")){expr=this.parseRestElement(params);this.expect(")");if(!this.match("=>")){this.expect("=>")}expr={type:ArrowParameterPlaceHolder,params:[expr],async:false}}else{var arrow=false;this.context.isBindingElement=true;expr=this.inheritCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var expressions=[];this.context.isAssignmentTarget=false;expressions.push(expr);while(this.lookahead.type!==2){if(!this.match(",")){break}this.nextToken();if(this.match(")")){this.nextToken();for(var i=0;i<expressions.length;i++){this.reinterpretExpressionAsPattern(expressions[i])}arrow=true;expr={type:ArrowParameterPlaceHolder,params:expressions,async:false}}else if(this.match("...")){if(!this.context.isBindingElement){this.throwUnexpectedToken(this.lookahead)}expressions.push(this.parseRestElement(params));this.expect(")");if(!this.match("=>")){this.expect("=>")}this.context.isBindingElement=false;for(var i=0;i<expressions.length;i++){this.reinterpretExpressionAsPattern(expressions[i])}arrow=true;expr={type:ArrowParameterPlaceHolder,params:expressions,async:false}}else{expressions.push(this.inheritCoverGrammar(this.parseAssignmentExpression))}if(arrow){break}}if(!arrow){expr=this.finalize(this.startNode(startToken),new Node.SequenceExpression(expressions))}}if(!arrow){this.expect(")");if(this.match("=>")){if(expr.type===syntax_1.Syntax.Identifier&&expr.name==="yield"){arrow=true;expr={type:ArrowParameterPlaceHolder,params:[expr],async:false}}if(!arrow){if(!this.context.isBindingElement){this.throwUnexpectedToken(this.lookahead)}if(expr.type===syntax_1.Syntax.SequenceExpression){for(var i=0;i<expr.expressions.length;i++){this.reinterpretExpressionAsPattern(expr.expressions[i])}}else{this.reinterpretExpressionAsPattern(expr)}var parameters=expr.type===syntax_1.Syntax.SequenceExpression?expr.expressions:[expr];expr={type:ArrowParameterPlaceHolder,params:parameters,async:false}}}this.context.isBindingElement=false}}}return expr};Parser.prototype.parseArguments=function(){this.expect("(");var args=[];if(!this.match(")")){while(true){var expr=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);args.push(expr);if(this.match(")")){break}this.expectCommaSeparator();if(this.match(")")){break}}}this.expect(")");return args};Parser.prototype.isIdentifierName=function(token){return token.type===3||token.type===4||token.type===1||token.type===5};Parser.prototype.parseIdentifierName=function(){var node=this.createNode();var token=this.nextToken();if(!this.isIdentifierName(token)){this.throwUnexpectedToken(token)}return this.finalize(node,new Node.Identifier(token.value))};Parser.prototype.parseNewExpression=function(){var node=this.createNode();var id=this.parseIdentifierName();assert_1.assert(id.name==="new","New expression must start with `new`");var expr;if(this.match(".")){this.nextToken();if(this.lookahead.type===3&&this.context.inFunctionBody&&this.lookahead.value==="target"){var property=this.parseIdentifierName();expr=new Node.MetaProperty(id,property)}else{this.throwUnexpectedToken(this.lookahead)}}else{var callee=this.isolateCoverGrammar(this.parseLeftHandSideExpression);var args=this.match("(")?this.parseArguments():[];expr=new Node.NewExpression(callee,args);this.context.isAssignmentTarget=false;this.context.isBindingElement=false}return this.finalize(node,expr)};Parser.prototype.parseAsyncArgument=function(){var arg=this.parseAssignmentExpression();this.context.firstCoverInitializedNameError=null;return arg};Parser.prototype.parseAsyncArguments=function(){this.expect("(");var args=[];if(!this.match(")")){while(true){var expr=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);args.push(expr);if(this.match(")")){break}this.expectCommaSeparator();if(this.match(")")){break}}}this.expect(")");return args};Parser.prototype.parseLeftHandSideExpressionAllowCall=function(){var startToken=this.lookahead;var maybeAsync=this.matchContextualKeyword("async");var previousAllowIn=this.context.allowIn;this.context.allowIn=true;var expr;if(this.matchKeyword("super")&&this.context.inFunctionBody){expr=this.createNode();this.nextToken();expr=this.finalize(expr,new Node.Super);if(!this.match("(")&&!this.match(".")&&!this.match("[")){this.throwUnexpectedToken(this.lookahead)}}else{expr=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression)}while(true){if(this.match(".")){this.context.isBindingElement=false;this.context.isAssignmentTarget=true;this.expect(".");var property=this.parseIdentifierName();expr=this.finalize(this.startNode(startToken),new Node.StaticMemberExpression(expr,property))}else if(this.match("(")){var asyncArrow=maybeAsync&&startToken.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=false;this.context.isAssignmentTarget=false;var args=asyncArrow?this.parseAsyncArguments():this.parseArguments();expr=this.finalize(this.startNode(startToken),new Node.CallExpression(expr,args));if(asyncArrow&&this.match("=>")){for(var i=0;i<args.length;++i){this.reinterpretExpressionAsPattern(args[i])}expr={type:ArrowParameterPlaceHolder,params:args,async:true}}}else if(this.match("[")){this.context.isBindingElement=false;this.context.isAssignmentTarget=true;this.expect("[");var property=this.isolateCoverGrammar(this.parseExpression);this.expect("]");expr=this.finalize(this.startNode(startToken),new Node.ComputedMemberExpression(expr,property))}else if(this.lookahead.type===10&&this.lookahead.head){var quasi=this.parseTemplateLiteral();expr=this.finalize(this.startNode(startToken),new Node.TaggedTemplateExpression(expr,quasi))}else{break}}this.context.allowIn=previousAllowIn;return expr};Parser.prototype.parseSuper=function(){var node=this.createNode();this.expectKeyword("super");if(!this.match("[")&&!this.match(".")){this.throwUnexpectedToken(this.lookahead)}return this.finalize(node,new Node.Super)};Parser.prototype.parseLeftHandSideExpression=function(){assert_1.assert(this.context.allowIn,"callee of new expression always allow in keyword.");var node=this.startNode(this.lookahead);var expr=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);while(true){if(this.match("[")){this.context.isBindingElement=false;this.context.isAssignmentTarget=true;this.expect("[");var property=this.isolateCoverGrammar(this.parseExpression);this.expect("]");expr=this.finalize(node,new Node.ComputedMemberExpression(expr,property))}else if(this.match(".")){this.context.isBindingElement=false;this.context.isAssignmentTarget=true;this.expect(".");var property=this.parseIdentifierName();expr=this.finalize(node,new Node.StaticMemberExpression(expr,property))}else if(this.lookahead.type===10&&this.lookahead.head){var quasi=this.parseTemplateLiteral();expr=this.finalize(node,new Node.TaggedTemplateExpression(expr,quasi))}else{break}}return expr};Parser.prototype.parseUpdateExpression=function(){var expr;var startToken=this.lookahead;if(this.match("++")||this.match("--")){var node=this.startNode(startToken);var token=this.nextToken();expr=this.inheritCoverGrammar(this.parseUnaryExpression);if(this.context.strict&&expr.type===syntax_1.Syntax.Identifier&&this.scanner.isRestrictedWord(expr.name)){this.tolerateError(messages_1.Messages.StrictLHSPrefix)}if(!this.context.isAssignmentTarget){this.tolerateError(messages_1.Messages.InvalidLHSInAssignment)}var prefix=true;expr=this.finalize(node,new Node.UpdateExpression(token.value,expr,prefix));this.context.isAssignmentTarget=false;this.context.isBindingElement=false}else{expr=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall);if(!this.hasLineTerminator&&this.lookahead.type===7){if(this.match("++")||this.match("--")){if(this.context.strict&&expr.type===syntax_1.Syntax.Identifier&&this.scanner.isRestrictedWord(expr.name)){this.tolerateError(messages_1.Messages.StrictLHSPostfix)}if(!this.context.isAssignmentTarget){this.tolerateError(messages_1.Messages.InvalidLHSInAssignment)}this.context.isAssignmentTarget=false;this.context.isBindingElement=false;var operator=this.nextToken().value;var prefix=false;expr=this.finalize(this.startNode(startToken),new Node.UpdateExpression(operator,expr,prefix))}}}return expr};Parser.prototype.parseAwaitExpression=function(){var node=this.createNode();this.nextToken();var argument=this.parseUnaryExpression();return this.finalize(node,new Node.AwaitExpression(argument))};Parser.prototype.parseUnaryExpression=function(){var expr;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var node=this.startNode(this.lookahead);var token=this.nextToken();expr=this.inheritCoverGrammar(this.parseUnaryExpression);expr=this.finalize(node,new Node.UnaryExpression(token.value,expr));if(this.context.strict&&expr.operator==="delete"&&expr.argument.type===syntax_1.Syntax.Identifier){this.tolerateError(messages_1.Messages.StrictDelete)}this.context.isAssignmentTarget=false;this.context.isBindingElement=false}else if(this.context.await&&this.matchContextualKeyword("await")){expr=this.parseAwaitExpression()}else{expr=this.parseUpdateExpression()}return expr};Parser.prototype.parseExponentiationExpression=function(){var startToken=this.lookahead;var expr=this.inheritCoverGrammar(this.parseUnaryExpression);if(expr.type!==syntax_1.Syntax.UnaryExpression&&this.match("**")){this.nextToken();this.context.isAssignmentTarget=false;this.context.isBindingElement=false;var left=expr;var right=this.isolateCoverGrammar(this.parseExponentiationExpression);expr=this.finalize(this.startNode(startToken),new Node.BinaryExpression("**",left,right))}return expr};Parser.prototype.binaryPrecedence=function(token){var op=token.value;var precedence;if(token.type===7){precedence=this.operatorPrecedence[op]||0}else if(token.type===4){precedence=op==="instanceof"||this.context.allowIn&&op==="in"?7:0}else{precedence=0}return precedence};Parser.prototype.parseBinaryExpression=function(){var startToken=this.lookahead;var expr=this.inheritCoverGrammar(this.parseExponentiationExpression);var token=this.lookahead;var prec=this.binaryPrecedence(token);if(prec>0){this.nextToken();this.context.isAssignmentTarget=false;this.context.isBindingElement=false;var markers=[startToken,this.lookahead];var left=expr;var right=this.isolateCoverGrammar(this.parseExponentiationExpression);var stack=[left,token.value,right];var precedences=[prec];while(true){prec=this.binaryPrecedence(this.lookahead);if(prec<=0){break}while(stack.length>2&&prec<=precedences[precedences.length-1]){right=stack.pop();var operator=stack.pop();precedences.pop();left=stack.pop();markers.pop();var node=this.startNode(markers[markers.length-1]);stack.push(this.finalize(node,new Node.BinaryExpression(operator,left,right)))}stack.push(this.nextToken().value);precedences.push(prec);markers.push(this.lookahead);stack.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var i=stack.length-1;expr=stack[i];var lastMarker=markers.pop();while(i>1){var marker=markers.pop();var lastLineStart=lastMarker&&lastMarker.lineStart;var node=this.startNode(marker,lastLineStart);var operator=stack[i-1];expr=this.finalize(node,new Node.BinaryExpression(operator,stack[i-2],expr));i-=2;lastMarker=marker}}return expr};Parser.prototype.parseConditionalExpression=function(){var startToken=this.lookahead;var expr=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var previousAllowIn=this.context.allowIn;this.context.allowIn=true;var consequent=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=previousAllowIn;this.expect(":");var alternate=this.isolateCoverGrammar(this.parseAssignmentExpression);expr=this.finalize(this.startNode(startToken),new Node.ConditionalExpression(expr,consequent,alternate));this.context.isAssignmentTarget=false;this.context.isBindingElement=false}return expr};Parser.prototype.checkPatternParam=function(options,param){switch(param.type){case syntax_1.Syntax.Identifier:this.validateParam(options,param,param.name);break;case syntax_1.Syntax.RestElement:this.checkPatternParam(options,param.argument);break;case syntax_1.Syntax.AssignmentPattern:this.checkPatternParam(options,param.left);break;case syntax_1.Syntax.ArrayPattern:for(var i=0;i<param.elements.length;i++){if(param.elements[i]!==null){this.checkPatternParam(options,param.elements[i])}}break;case syntax_1.Syntax.ObjectPattern:for(var i=0;i<param.properties.length;i++){this.checkPatternParam(options,param.properties[i].value)}break;default:break}options.simple=options.simple&&param instanceof Node.Identifier};Parser.prototype.reinterpretAsCoverFormalsList=function(expr){var params=[expr];var options;var asyncArrow=false;switch(expr.type){case syntax_1.Syntax.Identifier:break;case ArrowParameterPlaceHolder:params=expr.params;asyncArrow=expr.async;break;default:return null}options={simple:true,paramSet:{}};for(var i=0;i<params.length;++i){var param=params[i];if(param.type===syntax_1.Syntax.AssignmentPattern){if(param.right.type===syntax_1.Syntax.YieldExpression){if(param.right.argument){this.throwUnexpectedToken(this.lookahead)}param.right.type=syntax_1.Syntax.Identifier;param.right.name="yield";delete param.right.argument;delete param.right.delegate}}else if(asyncArrow&&param.type===syntax_1.Syntax.Identifier&&param.name==="await"){this.throwUnexpectedToken(this.lookahead)}this.checkPatternParam(options,param);params[i]=param}if(this.context.strict||!this.context.allowYield){for(var i=0;i<params.length;++i){var param=params[i];if(param.type===syntax_1.Syntax.YieldExpression){this.throwUnexpectedToken(this.lookahead)}}}if(options.message===messages_1.Messages.StrictParamDupe){var token=this.context.strict?options.stricted:options.firstRestricted;this.throwUnexpectedToken(token,options.message)}return{simple:options.simple,params:params,stricted:options.stricted,firstRestricted:options.firstRestricted,message:options.message}};Parser.prototype.parseAssignmentExpression=function(){var expr;if(!this.context.allowYield&&this.matchKeyword("yield")){expr=this.parseYieldExpression()}else{var startToken=this.lookahead;var token=startToken;expr=this.parseConditionalExpression();if(token.type===3&&token.lineNumber===this.lookahead.lineNumber&&token.value==="async"){if(this.lookahead.type===3||this.matchKeyword("yield")){var arg=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(arg);expr={type:ArrowParameterPlaceHolder,params:[arg],async:true}}}if(expr.type===ArrowParameterPlaceHolder||this.match("=>")){this.context.isAssignmentTarget=false;this.context.isBindingElement=false;var isAsync=expr.async;var list=this.reinterpretAsCoverFormalsList(expr);if(list){if(this.hasLineTerminator){this.tolerateUnexpectedToken(this.lookahead)}this.context.firstCoverInitializedNameError=null;var previousStrict=this.context.strict;var previousAllowStrictDirective=this.context.allowStrictDirective;this.context.allowStrictDirective=list.simple;var previousAllowYield=this.context.allowYield;var previousAwait=this.context.await;this.context.allowYield=true;this.context.await=isAsync;var node=this.startNode(startToken);this.expect("=>");var body=void 0;if(this.match("{")){var previousAllowIn=this.context.allowIn;this.context.allowIn=true;body=this.parseFunctionSourceElements();this.context.allowIn=previousAllowIn}else{body=this.isolateCoverGrammar(this.parseAssignmentExpression)}var expression=body.type!==syntax_1.Syntax.BlockStatement;if(this.context.strict&&list.firstRestricted){this.throwUnexpectedToken(list.firstRestricted,list.message)}if(this.context.strict&&list.stricted){this.tolerateUnexpectedToken(list.stricted,list.message)}expr=isAsync?this.finalize(node,new Node.AsyncArrowFunctionExpression(list.params,body,expression)):this.finalize(node,new Node.ArrowFunctionExpression(list.params,body,expression));this.context.strict=previousStrict;this.context.allowStrictDirective=previousAllowStrictDirective;this.context.allowYield=previousAllowYield;this.context.await=previousAwait}}else{if(this.matchAssign()){if(!this.context.isAssignmentTarget){this.tolerateError(messages_1.Messages.InvalidLHSInAssignment)}if(this.context.strict&&expr.type===syntax_1.Syntax.Identifier){var id=expr;if(this.scanner.isRestrictedWord(id.name)){this.tolerateUnexpectedToken(token,messages_1.Messages.StrictLHSAssignment)}if(this.scanner.isStrictModeReservedWord(id.name)){this.tolerateUnexpectedToken(token,messages_1.Messages.StrictReservedWord)}}if(!this.match("=")){this.context.isAssignmentTarget=false;this.context.isBindingElement=false}else{this.reinterpretExpressionAsPattern(expr)}token=this.nextToken();var operator=token.value;var right=this.isolateCoverGrammar(this.parseAssignmentExpression);expr=this.finalize(this.startNode(startToken),new Node.AssignmentExpression(operator,expr,right));this.context.firstCoverInitializedNameError=null}}}return expr};Parser.prototype.parseExpression=function(){var startToken=this.lookahead;var expr=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var expressions=[];expressions.push(expr);while(this.lookahead.type!==2){if(!this.match(",")){break}this.nextToken();expressions.push(this.isolateCoverGrammar(this.parseAssignmentExpression))}expr=this.finalize(this.startNode(startToken),new Node.SequenceExpression(expressions))}return expr};Parser.prototype.parseStatementListItem=function(){var statement;this.context.isAssignmentTarget=true;this.context.isBindingElement=true;if(this.lookahead.type===4){switch(this.lookahead.value){case"export":if(!this.context.isModule){this.tolerateUnexpectedToken(this.lookahead,messages_1.Messages.IllegalExportDeclaration)}statement=this.parseExportDeclaration();break;case"import":if(!this.context.isModule){this.tolerateUnexpectedToken(this.lookahead,messages_1.Messages.IllegalImportDeclaration)}statement=this.parseImportDeclaration();break;case"const":statement=this.parseLexicalDeclaration({inFor:false});break;case"function":statement=this.parseFunctionDeclaration();break;case"class":statement=this.parseClassDeclaration();break;case"let":statement=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:false}):this.parseStatement();break;default:statement=this.parseStatement();break}}else{statement=this.parseStatement()}return statement};Parser.prototype.parseBlock=function(){var node=this.createNode();this.expect("{");var block=[];while(true){if(this.match("}")){break}block.push(this.parseStatementListItem())}this.expect("}");return this.finalize(node,new Node.BlockStatement(block))};Parser.prototype.parseLexicalBinding=function(kind,options){var node=this.createNode();var params=[];var id=this.parsePattern(params,kind);if(this.context.strict&&id.type===syntax_1.Syntax.Identifier){if(this.scanner.isRestrictedWord(id.name)){this.tolerateError(messages_1.Messages.StrictVarName)}}var init=null;if(kind==="const"){if(!this.matchKeyword("in")&&!this.matchContextualKeyword("of")){if(this.match("=")){this.nextToken();init=this.isolateCoverGrammar(this.parseAssignmentExpression)}else{this.throwError(messages_1.Messages.DeclarationMissingInitializer,"const")}}}else if(!options.inFor&&id.type!==syntax_1.Syntax.Identifier||this.match("=")){this.expect("=");init=this.isolateCoverGrammar(this.parseAssignmentExpression)}return this.finalize(node,new Node.VariableDeclarator(id,init))};Parser.prototype.parseBindingList=function(kind,options){var list=[this.parseLexicalBinding(kind,options)];while(this.match(",")){this.nextToken();list.push(this.parseLexicalBinding(kind,options))}return list};Parser.prototype.isLexicalDeclaration=function(){var state=this.scanner.saveState();this.scanner.scanComments();var next=this.scanner.lex();this.scanner.restoreState(state);return next.type===3||next.type===7&&next.value==="["||next.type===7&&next.value==="{"||next.type===4&&next.value==="let"||next.type===4&&next.value==="yield"};Parser.prototype.parseLexicalDeclaration=function(options){var node=this.createNode();var kind=this.nextToken().value;assert_1.assert(kind==="let"||kind==="const","Lexical declaration must be either let or const");var declarations=this.parseBindingList(kind,options);this.consumeSemicolon();return this.finalize(node,new Node.VariableDeclaration(declarations,kind))};Parser.prototype.parseBindingRestElement=function(params,kind){var node=this.createNode();this.expect("...");var arg=this.parsePattern(params,kind);return this.finalize(node,new Node.RestElement(arg))};Parser.prototype.parseArrayPattern=function(params,kind){var node=this.createNode();this.expect("[");var elements=[];while(!this.match("]")){if(this.match(",")){this.nextToken();elements.push(null)}else{if(this.match("...")){elements.push(this.parseBindingRestElement(params,kind));break}else{elements.push(this.parsePatternWithDefault(params,kind))}if(!this.match("]")){this.expect(",")}}}this.expect("]");return this.finalize(node,new Node.ArrayPattern(elements))};Parser.prototype.parsePropertyPattern=function(params,kind){var node=this.createNode();var computed=false;var shorthand=false;var method=false;var key;var value;if(this.lookahead.type===3){var keyToken=this.lookahead;key=this.parseVariableIdentifier();var init=this.finalize(node,new Node.Identifier(keyToken.value));if(this.match("=")){params.push(keyToken);shorthand=true;this.nextToken();var expr=this.parseAssignmentExpression();value=this.finalize(this.startNode(keyToken),new Node.AssignmentPattern(init,expr))}else if(!this.match(":")){params.push(keyToken);shorthand=true;value=init}else{this.expect(":");value=this.parsePatternWithDefault(params,kind)}}else{computed=this.match("[");key=this.parseObjectPropertyKey();this.expect(":");value=this.parsePatternWithDefault(params,kind)}return this.finalize(node,new Node.Property("init",key,computed,value,method,shorthand))};Parser.prototype.parseObjectPattern=function(params,kind){var node=this.createNode();var properties=[];this.expect("{");while(!this.match("}")){properties.push(this.parsePropertyPattern(params,kind));if(!this.match("}")){this.expect(",")}}this.expect("}");return this.finalize(node,new Node.ObjectPattern(properties))};Parser.prototype.parsePattern=function(params,kind){var pattern;if(this.match("[")){pattern=this.parseArrayPattern(params,kind)}else if(this.match("{")){pattern=this.parseObjectPattern(params,kind)}else{if(this.matchKeyword("let")&&(kind==="const"||kind==="let")){this.tolerateUnexpectedToken(this.lookahead,messages_1.Messages.LetInLexicalBinding)}params.push(this.lookahead);pattern=this.parseVariableIdentifier(kind)}return pattern};Parser.prototype.parsePatternWithDefault=function(params,kind){var startToken=this.lookahead;var pattern=this.parsePattern(params,kind);if(this.match("=")){this.nextToken();var previousAllowYield=this.context.allowYield;this.context.allowYield=true;var right=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=previousAllowYield;pattern=this.finalize(this.startNode(startToken),new Node.AssignmentPattern(pattern,right))}return pattern};Parser.prototype.parseVariableIdentifier=function(kind){var node=this.createNode();var token=this.nextToken();if(token.type===4&&token.value==="yield"){if(this.context.strict){this.tolerateUnexpectedToken(token,messages_1.Messages.StrictReservedWord)}else if(!this.context.allowYield){this.throwUnexpectedToken(token)}}else if(token.type!==3){if(this.context.strict&&token.type===4&&this.scanner.isStrictModeReservedWord(token.value)){this.tolerateUnexpectedToken(token,messages_1.Messages.StrictReservedWord)}else{if(this.context.strict||token.value!=="let"||kind!=="var"){this.throwUnexpectedToken(token)}}}else if((this.context.isModule||this.context.await)&&token.type===3&&token.value==="await"){this.tolerateUnexpectedToken(token)}return this.finalize(node,new Node.Identifier(token.value))};Parser.prototype.parseVariableDeclaration=function(options){var node=this.createNode();var params=[];var id=this.parsePattern(params,"var");if(this.context.strict&&id.type===syntax_1.Syntax.Identifier){if(this.scanner.isRestrictedWord(id.name)){this.tolerateError(messages_1.Messages.StrictVarName)}}var init=null;if(this.match("=")){this.nextToken();init=this.isolateCoverGrammar(this.parseAssignmentExpression)}else if(id.type!==syntax_1.Syntax.Identifier&&!options.inFor){this.expect("=")}return this.finalize(node,new Node.VariableDeclarator(id,init))};Parser.prototype.parseVariableDeclarationList=function(options){var opt={inFor:options.inFor};var list=[];list.push(this.parseVariableDeclaration(opt));while(this.match(",")){this.nextToken();list.push(this.parseVariableDeclaration(opt))}return list};Parser.prototype.parseVariableStatement=function(){var node=this.createNode();this.expectKeyword("var");var declarations=this.parseVariableDeclarationList({inFor:false});this.consumeSemicolon();return this.finalize(node,new Node.VariableDeclaration(declarations,"var"))};Parser.prototype.parseEmptyStatement=function(){var node=this.createNode();this.expect(";");return this.finalize(node,new Node.EmptyStatement)};Parser.prototype.parseExpressionStatement=function(){var node=this.createNode();var expr=this.parseExpression();this.consumeSemicolon();return this.finalize(node,new Node.ExpressionStatement(expr))};Parser.prototype.parseIfClause=function(){if(this.context.strict&&this.matchKeyword("function")){this.tolerateError(messages_1.Messages.StrictFunction)}return this.parseStatement()};Parser.prototype.parseIfStatement=function(){var node=this.createNode();var consequent;var alternate=null;this.expectKeyword("if");this.expect("(");var test=this.parseExpression();if(!this.match(")")&&this.config.tolerant){this.tolerateUnexpectedToken(this.nextToken());consequent=this.finalize(this.createNode(),new Node.EmptyStatement)}else{this.expect(")");consequent=this.parseIfClause();if(this.matchKeyword("else")){this.nextToken();alternate=this.parseIfClause()}}return this.finalize(node,new Node.IfStatement(test,consequent,alternate))};Parser.prototype.parseDoWhileStatement=function(){var node=this.createNode();this.expectKeyword("do");var previousInIteration=this.context.inIteration;this.context.inIteration=true;var body=this.parseStatement();this.context.inIteration=previousInIteration;this.expectKeyword("while");this.expect("(");var test=this.parseExpression();if(!this.match(")")&&this.config.tolerant){this.tolerateUnexpectedToken(this.nextToken())}else{this.expect(")");if(this.match(";")){this.nextToken()}}return this.finalize(node,new Node.DoWhileStatement(body,test))};Parser.prototype.parseWhileStatement=function(){var node=this.createNode();var body;this.expectKeyword("while");this.expect("(");var test=this.parseExpression();if(!this.match(")")&&this.config.tolerant){this.tolerateUnexpectedToken(this.nextToken());body=this.finalize(this.createNode(),new Node.EmptyStatement)}else{this.expect(")");var previousInIteration=this.context.inIteration;this.context.inIteration=true;body=this.parseStatement();this.context.inIteration=previousInIteration}return this.finalize(node,new Node.WhileStatement(test,body))};Parser.prototype.parseForStatement=function(){var init=null;var test=null;var update=null;var forIn=true;var left,right;var node=this.createNode();this.expectKeyword("for");this.expect("(");if(this.match(";")){this.nextToken()}else{if(this.matchKeyword("var")){init=this.createNode();this.nextToken();var previousAllowIn=this.context.allowIn;this.context.allowIn=false;var declarations=this.parseVariableDeclarationList({inFor:true});this.context.allowIn=previousAllowIn;if(declarations.length===1&&this.matchKeyword("in")){var decl=declarations[0];if(decl.init&&(decl.id.type===syntax_1.Syntax.ArrayPattern||decl.id.type===syntax_1.Syntax.ObjectPattern||this.context.strict)){this.tolerateError(messages_1.Messages.ForInOfLoopInitializer,"for-in")}init=this.finalize(init,new Node.VariableDeclaration(declarations,"var"));this.nextToken();left=init;right=this.parseExpression();init=null}else if(declarations.length===1&&declarations[0].init===null&&this.matchContextualKeyword("of")){init=this.finalize(init,new Node.VariableDeclaration(declarations,"var"));this.nextToken();left=init;right=this.parseAssignmentExpression();init=null;forIn=false}else{init=this.finalize(init,new Node.VariableDeclaration(declarations,"var"));this.expect(";")}}else if(this.matchKeyword("const")||this.matchKeyword("let")){init=this.createNode();var kind=this.nextToken().value;if(!this.context.strict&&this.lookahead.value==="in"){init=this.finalize(init,new Node.Identifier(kind));this.nextToken();left=init;right=this.parseExpression();init=null}else{var previousAllowIn=this.context.allowIn;this.context.allowIn=false;var declarations=this.parseBindingList(kind,{inFor:true});this.context.allowIn=previousAllowIn;if(declarations.length===1&&declarations[0].init===null&&this.matchKeyword("in")){init=this.finalize(init,new Node.VariableDeclaration(declarations,kind));this.nextToken();left=init;right=this.parseExpression();init=null}else if(declarations.length===1&&declarations[0].init===null&&this.matchContextualKeyword("of")){init=this.finalize(init,new Node.VariableDeclaration(declarations,kind));this.nextToken();left=init;right=this.parseAssignmentExpression();init=null;forIn=false}else{this.consumeSemicolon();init=this.finalize(init,new Node.VariableDeclaration(declarations,kind))}}}else{var initStartToken=this.lookahead;var previousAllowIn=this.context.allowIn;this.context.allowIn=false;init=this.inheritCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=previousAllowIn;if(this.matchKeyword("in")){if(!this.context.isAssignmentTarget||init.type===syntax_1.Syntax.AssignmentExpression){this.tolerateError(messages_1.Messages.InvalidLHSInForIn)}this.nextToken();this.reinterpretExpressionAsPattern(init);left=init;right=this.parseExpression();init=null}else if(this.matchContextualKeyword("of")){if(!this.context.isAssignmentTarget||init.type===syntax_1.Syntax.AssignmentExpression){this.tolerateError(messages_1.Messages.InvalidLHSInForLoop)}this.nextToken();this.reinterpretExpressionAsPattern(init);left=init;right=this.parseAssignmentExpression();init=null;forIn=false}else{if(this.match(",")){var initSeq=[init];while(this.match(",")){this.nextToken();initSeq.push(this.isolateCoverGrammar(this.parseAssignmentExpression))}init=this.finalize(this.startNode(initStartToken),new Node.SequenceExpression(initSeq))}this.expect(";")}}}if(typeof left==="undefined"){if(!this.match(";")){test=this.parseExpression()}this.expect(";");if(!this.match(")")){update=this.parseExpression()}}var body;if(!this.match(")")&&this.config.tolerant){this.tolerateUnexpectedToken(this.nextToken());body=this.finalize(this.createNode(),new Node.EmptyStatement)}else{this.expect(")");var previousInIteration=this.context.inIteration;this.context.inIteration=true;body=this.isolateCoverGrammar(this.parseStatement);this.context.inIteration=previousInIteration}return typeof left==="undefined"?this.finalize(node,new Node.ForStatement(init,test,update,body)):forIn?this.finalize(node,new Node.ForInStatement(left,right,body)):this.finalize(node,new Node.ForOfStatement(left,right,body))};Parser.prototype.parseContinueStatement=function(){var node=this.createNode();this.expectKeyword("continue");var label=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var id=this.parseVariableIdentifier();label=id;var key="$"+id.name;if(!Object.prototype.hasOwnProperty.call(this.context.labelSet,key)){this.throwError(messages_1.Messages.UnknownLabel,id.name)}}this.consumeSemicolon();if(label===null&&!this.context.inIteration){this.throwError(messages_1.Messages.IllegalContinue)}return this.finalize(node,new Node.ContinueStatement(label))};Parser.prototype.parseBreakStatement=function(){var node=this.createNode();this.expectKeyword("break");var label=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var id=this.parseVariableIdentifier();var key="$"+id.name;if(!Object.prototype.hasOwnProperty.call(this.context.labelSet,key)){this.throwError(messages_1.Messages.UnknownLabel,id.name)}label=id}this.consumeSemicolon();if(label===null&&!this.context.inIteration&&!this.context.inSwitch){this.throwError(messages_1.Messages.IllegalBreak)}return this.finalize(node,new Node.BreakStatement(label))};Parser.prototype.parseReturnStatement=function(){if(!this.context.inFunctionBody){this.tolerateError(messages_1.Messages.IllegalReturn)}var node=this.createNode();this.expectKeyword("return");var hasArgument=!this.match(";")&&!this.match("}")&&!this.hasLineTerminator&&this.lookahead.type!==2||this.lookahead.type===8||this.lookahead.type===10;var argument=hasArgument?this.parseExpression():null;this.consumeSemicolon();return this.finalize(node,new Node.ReturnStatement(argument))};Parser.prototype.parseWithStatement=function(){if(this.context.strict){this.tolerateError(messages_1.Messages.StrictModeWith)}var node=this.createNode();var body;this.expectKeyword("with");this.expect("(");var object=this.parseExpression();if(!this.match(")")&&this.config.tolerant){this.tolerateUnexpectedToken(this.nextToken());body=this.finalize(this.createNode(),new Node.EmptyStatement)}else{this.expect(")");body=this.parseStatement()}return this.finalize(node,new Node.WithStatement(object,body))};Parser.prototype.parseSwitchCase=function(){var node=this.createNode();var test;if(this.matchKeyword("default")){this.nextToken();test=null}else{this.expectKeyword("case");test=this.parseExpression()}this.expect(":");var consequent=[];while(true){if(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case")){break}consequent.push(this.parseStatementListItem())}return this.finalize(node,new Node.SwitchCase(test,consequent))};Parser.prototype.parseSwitchStatement=function(){var node=this.createNode();this.expectKeyword("switch");this.expect("(");var discriminant=this.parseExpression();this.expect(")");var previousInSwitch=this.context.inSwitch;this.context.inSwitch=true;var cases=[];var defaultFound=false;this.expect("{");while(true){if(this.match("}")){break}var clause=this.parseSwitchCase();if(clause.test===null){if(defaultFound){this.throwError(messages_1.Messages.MultipleDefaultsInSwitch)}defaultFound=true}cases.push(clause)}this.expect("}");this.context.inSwitch=previousInSwitch;return this.finalize(node,new Node.SwitchStatement(discriminant,cases))};Parser.prototype.parseLabelledStatement=function(){var node=this.createNode();var expr=this.parseExpression();var statement;if(expr.type===syntax_1.Syntax.Identifier&&this.match(":")){this.nextToken();var id=expr;var key="$"+id.name;if(Object.prototype.hasOwnProperty.call(this.context.labelSet,key)){this.throwError(messages_1.Messages.Redeclaration,"Label",id.name)}this.context.labelSet[key]=true;var body=void 0;if(this.matchKeyword("class")){this.tolerateUnexpectedToken(this.lookahead);body=this.parseClassDeclaration()}else if(this.matchKeyword("function")){var token=this.lookahead;var declaration=this.parseFunctionDeclaration();if(this.context.strict){this.tolerateUnexpectedToken(token,messages_1.Messages.StrictFunction)}else if(declaration.generator){this.tolerateUnexpectedToken(token,messages_1.Messages.GeneratorInLegacyContext)}body=declaration}else{body=this.parseStatement()}delete this.context.labelSet[key];statement=new Node.LabeledStatement(id,body)}else{this.consumeSemicolon();statement=new Node.ExpressionStatement(expr)}return this.finalize(node,statement)};Parser.prototype.parseThrowStatement=function(){var node=this.createNode();this.expectKeyword("throw");if(this.hasLineTerminator){this.throwError(messages_1.Messages.NewlineAfterThrow)}var argument=this.parseExpression();this.consumeSemicolon();return this.finalize(node,new Node.ThrowStatement(argument))};Parser.prototype.parseCatchClause=function(){var node=this.createNode();this.expectKeyword("catch");this.expect("(");if(this.match(")")){this.throwUnexpectedToken(this.lookahead)}var params=[];var param=this.parsePattern(params);var paramMap={};for(var i=0;i<params.length;i++){var key="$"+params[i].value;if(Object.prototype.hasOwnProperty.call(paramMap,key)){this.tolerateError(messages_1.Messages.DuplicateBinding,params[i].value)}paramMap[key]=true}if(this.context.strict&&param.type===syntax_1.Syntax.Identifier){if(this.scanner.isRestrictedWord(param.name)){this.tolerateError(messages_1.Messages.StrictCatchVariable)}}this.expect(")");var body=this.parseBlock();return this.finalize(node,new Node.CatchClause(param,body))};Parser.prototype.parseFinallyClause=function(){this.expectKeyword("finally");return this.parseBlock()};Parser.prototype.parseTryStatement=function(){var node=this.createNode();this.expectKeyword("try");var block=this.parseBlock();var handler=this.matchKeyword("catch")?this.parseCatchClause():null;var finalizer=this.matchKeyword("finally")?this.parseFinallyClause():null;if(!handler&&!finalizer){this.throwError(messages_1.Messages.NoCatchOrFinally)}return this.finalize(node,new Node.TryStatement(block,handler,finalizer))};Parser.prototype.parseDebuggerStatement=function(){var node=this.createNode();this.expectKeyword("debugger");this.consumeSemicolon();return this.finalize(node,new Node.DebuggerStatement)};Parser.prototype.parseStatement=function(){var statement;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:statement=this.parseExpressionStatement();break;case 7:var value=this.lookahead.value;if(value==="{"){statement=this.parseBlock()}else if(value==="("){statement=this.parseExpressionStatement()}else if(value===";"){statement=this.parseEmptyStatement()}else{statement=this.parseExpressionStatement()}break;case 3:statement=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case"break":statement=this.parseBreakStatement();break;case"continue":statement=this.parseContinueStatement();break;case"debugger":statement=this.parseDebuggerStatement();break;case"do":statement=this.parseDoWhileStatement();break;case"for":statement=this.parseForStatement();break;case"function":statement=this.parseFunctionDeclaration();break;case"if":statement=this.parseIfStatement();break;case"return":statement=this.parseReturnStatement();break;case"switch":statement=this.parseSwitchStatement();break;case"throw":statement=this.parseThrowStatement();break;case"try":statement=this.parseTryStatement();break;case"var":statement=this.parseVariableStatement();break;case"while":statement=this.parseWhileStatement();break;case"with":statement=this.parseWithStatement();break;default:statement=this.parseExpressionStatement();break}break;default:statement=this.throwUnexpectedToken(this.lookahead)}return statement};Parser.prototype.parseFunctionSourceElements=function(){var node=this.createNode();this.expect("{");var body=this.parseDirectivePrologues();var previousLabelSet=this.context.labelSet;var previousInIteration=this.context.inIteration;var previousInSwitch=this.context.inSwitch;var previousInFunctionBody=this.context.inFunctionBody;this.context.labelSet={};this.context.inIteration=false;this.context.inSwitch=false;this.context.inFunctionBody=true;while(this.lookahead.type!==2){if(this.match("}")){break}body.push(this.parseStatementListItem())}this.expect("}");this.context.labelSet=previousLabelSet;this.context.inIteration=previousInIteration;this.context.inSwitch=previousInSwitch;this.context.inFunctionBody=previousInFunctionBody;return this.finalize(node,new Node.BlockStatement(body))};Parser.prototype.validateParam=function(options,param,name){var key="$"+name;if(this.context.strict){if(this.scanner.isRestrictedWord(name)){options.stricted=param;options.message=messages_1.Messages.StrictParamName}if(Object.prototype.hasOwnProperty.call(options.paramSet,key)){options.stricted=param;options.message=messages_1.Messages.StrictParamDupe}}else if(!options.firstRestricted){if(this.scanner.isRestrictedWord(name)){options.firstRestricted=param;options.message=messages_1.Messages.StrictParamName}else if(this.scanner.isStrictModeReservedWord(name)){options.firstRestricted=param;options.message=messages_1.Messages.StrictReservedWord}else if(Object.prototype.hasOwnProperty.call(options.paramSet,key)){options.stricted=param;options.message=messages_1.Messages.StrictParamDupe}}if(typeof Object.defineProperty==="function"){Object.defineProperty(options.paramSet,key,{value:true,enumerable:true,writable:true,configurable:true})}else{options.paramSet[key]=true}};Parser.prototype.parseRestElement=function(params){var node=this.createNode();this.expect("...");var arg=this.parsePattern(params);if(this.match("=")){this.throwError(messages_1.Messages.DefaultRestParameter)}if(!this.match(")")){this.throwError(messages_1.Messages.ParameterAfterRestParameter)}return this.finalize(node,new Node.RestElement(arg))};Parser.prototype.parseFormalParameter=function(options){var params=[];var param=this.match("...")?this.parseRestElement(params):this.parsePatternWithDefault(params);for(var i=0;i<params.length;i++){this.validateParam(options,params[i],params[i].value)}options.simple=options.simple&&param instanceof Node.Identifier;options.params.push(param)};Parser.prototype.parseFormalParameters=function(firstRestricted){var options;options={simple:true,params:[],firstRestricted:firstRestricted};this.expect("(");if(!this.match(")")){options.paramSet={};while(this.lookahead.type!==2){this.parseFormalParameter(options);if(this.match(")")){break}this.expect(",");if(this.match(")")){break}}}this.expect(")");return{simple:options.simple,params:options.params,stricted:options.stricted,firstRestricted:options.firstRestricted,message:options.message}};Parser.prototype.matchAsyncFunction=function(){var match=this.matchContextualKeyword("async");if(match){var state=this.scanner.saveState();this.scanner.scanComments();var next=this.scanner.lex();this.scanner.restoreState(state);match=state.lineNumber===next.lineNumber&&next.type===4&&next.value==="function"}return match};Parser.prototype.parseFunctionDeclaration=function(identifierIsOptional){var node=this.createNode();var isAsync=this.matchContextualKeyword("async");if(isAsync){this.nextToken()}this.expectKeyword("function");var isGenerator=isAsync?false:this.match("*");if(isGenerator){this.nextToken()}var message;var id=null;var firstRestricted=null;if(!identifierIsOptional||!this.match("(")){var token=this.lookahead;id=this.parseVariableIdentifier();if(this.context.strict){if(this.scanner.isRestrictedWord(token.value)){this.tolerateUnexpectedToken(token,messages_1.Messages.StrictFunctionName)}}else{if(this.scanner.isRestrictedWord(token.value)){firstRestricted=token;message=messages_1.Messages.StrictFunctionName}else if(this.scanner.isStrictModeReservedWord(token.value)){firstRestricted=token;message=messages_1.Messages.StrictReservedWord}}}var previousAllowAwait=this.context.await;var previousAllowYield=this.context.allowYield;this.context.await=isAsync;this.context.allowYield=!isGenerator;var formalParameters=this.parseFormalParameters(firstRestricted);var params=formalParameters.params;var stricted=formalParameters.stricted;firstRestricted=formalParameters.firstRestricted;if(formalParameters.message){message=formalParameters.message}var previousStrict=this.context.strict;var previousAllowStrictDirective=this.context.allowStrictDirective;this.context.allowStrictDirective=formalParameters.simple;var body=this.parseFunctionSourceElements();if(this.context.strict&&firstRestricted){this.throwUnexpectedToken(firstRestricted,message)}if(this.context.strict&&stricted){this.tolerateUnexpectedToken(stricted,message)}this.context.strict=previousStrict;this.context.allowStrictDirective=previousAllowStrictDirective;this.context.await=previousAllowAwait;this.context.allowYield=previousAllowYield;return isAsync?this.finalize(node,new Node.AsyncFunctionDeclaration(id,params,body)):this.finalize(node,new Node.FunctionDeclaration(id,params,body,isGenerator))};Parser.prototype.parseFunctionExpression=function(){var node=this.createNode();var isAsync=this.matchContextualKeyword("async");if(isAsync){this.nextToken()}this.expectKeyword("function");var isGenerator=isAsync?false:this.match("*");if(isGenerator){this.nextToken()}var message;var id=null;var firstRestricted;var previousAllowAwait=this.context.await;var previousAllowYield=this.context.allowYield;this.context.await=isAsync;this.context.allowYield=!isGenerator;if(!this.match("(")){var token=this.lookahead;id=!this.context.strict&&!isGenerator&&this.matchKeyword("yield")?this.parseIdentifierName():this.parseVariableIdentifier();if(this.context.strict){if(this.scanner.isRestrictedWord(token.value)){this.tolerateUnexpectedToken(token,messages_1.Messages.StrictFunctionName)}}else{if(this.scanner.isRestrictedWord(token.value)){firstRestricted=token;message=messages_1.Messages.StrictFunctionName}else if(this.scanner.isStrictModeReservedWord(token.value)){firstRestricted=token;message=messages_1.Messages.StrictReservedWord}}}var formalParameters=this.parseFormalParameters(firstRestricted);var params=formalParameters.params;var stricted=formalParameters.stricted;firstRestricted=formalParameters.firstRestricted;if(formalParameters.message){message=formalParameters.message}var previousStrict=this.context.strict;var previousAllowStrictDirective=this.context.allowStrictDirective;this.context.allowStrictDirective=formalParameters.simple;var body=this.parseFunctionSourceElements();if(this.context.strict&&firstRestricted){this.throwUnexpectedToken(firstRestricted,message)}if(this.context.strict&&stricted){this.tolerateUnexpectedToken(stricted,message)}this.context.strict=previousStrict;this.context.allowStrictDirective=previousAllowStrictDirective;this.context.await=previousAllowAwait;this.context.allowYield=previousAllowYield;return isAsync?this.finalize(node,new Node.AsyncFunctionExpression(id,params,body)):this.finalize(node,new Node.FunctionExpression(id,params,body,isGenerator))};Parser.prototype.parseDirective=function(){var token=this.lookahead;var node=this.createNode();var expr=this.parseExpression();var directive=expr.type===syntax_1.Syntax.Literal?this.getTokenRaw(token).slice(1,-1):null;this.consumeSemicolon();return this.finalize(node,directive?new Node.Directive(expr,directive):new Node.ExpressionStatement(expr))};Parser.prototype.parseDirectivePrologues=function(){var firstRestricted=null;var body=[];while(true){var token=this.lookahead;if(token.type!==8){break}var statement=this.parseDirective();body.push(statement);var directive=statement.directive;if(typeof directive!=="string"){break}if(directive==="use strict"){this.context.strict=true;if(firstRestricted){this.tolerateUnexpectedToken(firstRestricted,messages_1.Messages.StrictOctalLiteral)}if(!this.context.allowStrictDirective){this.tolerateUnexpectedToken(token,messages_1.Messages.IllegalLanguageModeDirective)}}else{if(!firstRestricted&&token.octal){firstRestricted=token}}}return body};Parser.prototype.qualifiedPropertyName=function(token){switch(token.type){case 3:case 8:case 1:case 5:case 6:case 4:return true;case 7:return token.value==="[";default:break}return false};Parser.prototype.parseGetterMethod=function(){var node=this.createNode();var isGenerator=false;var previousAllowYield=this.context.allowYield;this.context.allowYield=!isGenerator;var formalParameters=this.parseFormalParameters();if(formalParameters.params.length>0){this.tolerateError(messages_1.Messages.BadGetterArity)}var method=this.parsePropertyMethod(formalParameters);this.context.allowYield=previousAllowYield;return this.finalize(node,new Node.FunctionExpression(null,formalParameters.params,method,isGenerator))};Parser.prototype.parseSetterMethod=function(){var node=this.createNode();var isGenerator=false;var previousAllowYield=this.context.allowYield;this.context.allowYield=!isGenerator;var formalParameters=this.parseFormalParameters();if(formalParameters.params.length!==1){this.tolerateError(messages_1.Messages.BadSetterArity)}else if(formalParameters.params[0]instanceof Node.RestElement){this.tolerateError(messages_1.Messages.BadSetterRestParameter)}var method=this.parsePropertyMethod(formalParameters);this.context.allowYield=previousAllowYield;return this.finalize(node,new Node.FunctionExpression(null,formalParameters.params,method,isGenerator))};Parser.prototype.parseGeneratorMethod=function(){var node=this.createNode();var isGenerator=true;var previousAllowYield=this.context.allowYield;this.context.allowYield=true;var params=this.parseFormalParameters();this.context.allowYield=false;var method=this.parsePropertyMethod(params);this.context.allowYield=previousAllowYield;return this.finalize(node,new Node.FunctionExpression(null,params.params,method,isGenerator))};Parser.prototype.isStartOfExpression=function(){var start=true;var value=this.lookahead.value;switch(this.lookahead.type){case 7:start=value==="["||value==="("||value==="{"||value==="+"||value==="-"||value==="!"||value==="~"||value==="++"||value==="--"||value==="/"||value==="/=";break;case 4:start=value==="class"||value==="delete"||value==="function"||value==="let"||value==="new"||value==="super"||value==="this"||value==="typeof"||value==="void"||value==="yield";break;default:break}return start};Parser.prototype.parseYieldExpression=function(){var node=this.createNode();this.expectKeyword("yield");var argument=null;var delegate=false;if(!this.hasLineTerminator){var previousAllowYield=this.context.allowYield;this.context.allowYield=false;delegate=this.match("*");if(delegate){this.nextToken();argument=this.parseAssignmentExpression()}else if(this.isStartOfExpression()){argument=this.parseAssignmentExpression()}this.context.allowYield=previousAllowYield}return this.finalize(node,new Node.YieldExpression(argument,delegate))};Parser.prototype.parseClassElement=function(hasConstructor){var token=this.lookahead;var node=this.createNode();var kind="";var key=null;var value=null;var computed=false;var method=false;var isStatic=false;var isAsync=false;if(this.match("*")){this.nextToken()}else{computed=this.match("[");key=this.parseObjectPropertyKey();var id=key;if(id.name==="static"&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))){token=this.lookahead;isStatic=true;computed=this.match("[");if(this.match("*")){this.nextToken()}else{key=this.parseObjectPropertyKey()}}if(token.type===3&&!this.hasLineTerminator&&token.value==="async"){var punctuator=this.lookahead.value;if(punctuator!==":"&&punctuator!=="("&&punctuator!=="*"){isAsync=true;token=this.lookahead;key=this.parseObjectPropertyKey();if(token.type===3&&token.value==="constructor"){this.tolerateUnexpectedToken(token,messages_1.Messages.ConstructorIsAsync)}}}}var lookaheadPropertyKey=this.qualifiedPropertyName(this.lookahead);if(token.type===3){if(token.value==="get"&&lookaheadPropertyKey){kind="get";computed=this.match("[");key=this.parseObjectPropertyKey();this.context.allowYield=false;value=this.parseGetterMethod()}else if(token.value==="set"&&lookaheadPropertyKey){kind="set";computed=this.match("[");key=this.parseObjectPropertyKey();value=this.parseSetterMethod()}}else if(token.type===7&&token.value==="*"&&lookaheadPropertyKey){kind="init";computed=this.match("[");key=this.parseObjectPropertyKey();value=this.parseGeneratorMethod();method=true}if(!kind&&key&&this.match("(")){kind="init";value=isAsync?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction();method=true}if(!kind){this.throwUnexpectedToken(this.lookahead)}if(kind==="init"){kind="method"}if(!computed){if(isStatic&&this.isPropertyKey(key,"prototype")){this.throwUnexpectedToken(token,messages_1.Messages.StaticPrototype)}if(!isStatic&&this.isPropertyKey(key,"constructor")){if(kind!=="method"||!method||value&&value.generator){this.throwUnexpectedToken(token,messages_1.Messages.ConstructorSpecialMethod)}if(hasConstructor.value){this.throwUnexpectedToken(token,messages_1.Messages.DuplicateConstructor)}else{hasConstructor.value=true}kind="constructor"}}return this.finalize(node,new Node.MethodDefinition(key,computed,value,kind,isStatic))};Parser.prototype.parseClassElementList=function(){var body=[];var hasConstructor={value:false};this.expect("{");while(!this.match("}")){if(this.match(";")){this.nextToken()}else{body.push(this.parseClassElement(hasConstructor))}}this.expect("}");return body};Parser.prototype.parseClassBody=function(){var node=this.createNode();var elementList=this.parseClassElementList();return this.finalize(node,new Node.ClassBody(elementList))};Parser.prototype.parseClassDeclaration=function(identifierIsOptional){var node=this.createNode();var previousStrict=this.context.strict;this.context.strict=true;this.expectKeyword("class");var id=identifierIsOptional&&this.lookahead.type!==3?null:this.parseVariableIdentifier();var superClass=null;if(this.matchKeyword("extends")){this.nextToken();superClass=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall)}var classBody=this.parseClassBody();this.context.strict=previousStrict;return this.finalize(node,new Node.ClassDeclaration(id,superClass,classBody))};Parser.prototype.parseClassExpression=function(){var node=this.createNode();var previousStrict=this.context.strict;this.context.strict=true;this.expectKeyword("class");var id=this.lookahead.type===3?this.parseVariableIdentifier():null;var superClass=null;if(this.matchKeyword("extends")){this.nextToken();superClass=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall)}var classBody=this.parseClassBody();this.context.strict=previousStrict;return this.finalize(node,new Node.ClassExpression(id,superClass,classBody))};Parser.prototype.parseModule=function(){this.context.strict=true;this.context.isModule=true;this.scanner.isModule=true;var node=this.createNode();var body=this.parseDirectivePrologues();while(this.lookahead.type!==2){body.push(this.parseStatementListItem())}return this.finalize(node,new Node.Module(body))};Parser.prototype.parseScript=function(){var node=this.createNode();var body=this.parseDirectivePrologues();while(this.lookahead.type!==2){body.push(this.parseStatementListItem())}return this.finalize(node,new Node.Script(body))};Parser.prototype.parseModuleSpecifier=function(){var node=this.createNode();if(this.lookahead.type!==8){this.throwError(messages_1.Messages.InvalidModuleSpecifier)}var token=this.nextToken();var raw=this.getTokenRaw(token);return this.finalize(node,new Node.Literal(token.value,raw))};Parser.prototype.parseImportSpecifier=function(){var node=this.createNode();var imported;var local;if(this.lookahead.type===3){imported=this.parseVariableIdentifier();local=imported;if(this.matchContextualKeyword("as")){this.nextToken();local=this.parseVariableIdentifier()}}else{imported=this.parseIdentifierName();local=imported;if(this.matchContextualKeyword("as")){this.nextToken();local=this.parseVariableIdentifier()}else{this.throwUnexpectedToken(this.nextToken())}}return this.finalize(node,new Node.ImportSpecifier(local,imported))};Parser.prototype.parseNamedImports=function(){this.expect("{");var specifiers=[];while(!this.match("}")){specifiers.push(this.parseImportSpecifier());if(!this.match("}")){this.expect(",")}}this.expect("}");return specifiers};Parser.prototype.parseImportDefaultSpecifier=function(){var node=this.createNode();var local=this.parseIdentifierName();return this.finalize(node,new Node.ImportDefaultSpecifier(local))};Parser.prototype.parseImportNamespaceSpecifier=function(){var node=this.createNode();this.expect("*");if(!this.matchContextualKeyword("as")){this.throwError(messages_1.Messages.NoAsAfterImportNamespace)}this.nextToken();var local=this.parseIdentifierName();return this.finalize(node,new Node.ImportNamespaceSpecifier(local))};Parser.prototype.parseImportDeclaration=function(){if(this.context.inFunctionBody){this.throwError(messages_1.Messages.IllegalImportDeclaration)}var node=this.createNode();this.expectKeyword("import");var src;var specifiers=[];if(this.lookahead.type===8){src=this.parseModuleSpecifier()}else{if(this.match("{")){specifiers=specifiers.concat(this.parseNamedImports())}else if(this.match("*")){specifiers.push(this.parseImportNamespaceSpecifier())}else if(this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")){specifiers.push(this.parseImportDefaultSpecifier());if(this.match(",")){this.nextToken();if(this.match("*")){specifiers.push(this.parseImportNamespaceSpecifier())}else if(this.match("{")){specifiers=specifiers.concat(this.parseNamedImports())}else{this.throwUnexpectedToken(this.lookahead)}}}else{this.throwUnexpectedToken(this.nextToken())}if(!this.matchContextualKeyword("from")){var message=this.lookahead.value?messages_1.Messages.UnexpectedToken:messages_1.Messages.MissingFromClause;this.throwError(message,this.lookahead.value)}this.nextToken();src=this.parseModuleSpecifier()}this.consumeSemicolon();return this.finalize(node,new Node.ImportDeclaration(specifiers,src))};Parser.prototype.parseExportSpecifier=function(){var node=this.createNode();var local=this.parseIdentifierName();var exported=local;if(this.matchContextualKeyword("as")){this.nextToken();exported=this.parseIdentifierName()}return this.finalize(node,new Node.ExportSpecifier(local,exported))};Parser.prototype.parseExportDeclaration=function(){if(this.context.inFunctionBody){this.throwError(messages_1.Messages.IllegalExportDeclaration)}var node=this.createNode();this.expectKeyword("export");var exportDeclaration;if(this.matchKeyword("default")){this.nextToken();if(this.matchKeyword("function")){var declaration=this.parseFunctionDeclaration(true);exportDeclaration=this.finalize(node,new Node.ExportDefaultDeclaration(declaration))}else if(this.matchKeyword("class")){var declaration=this.parseClassDeclaration(true);exportDeclaration=this.finalize(node,new Node.ExportDefaultDeclaration(declaration))}else if(this.matchContextualKeyword("async")){var declaration=this.matchAsyncFunction()?this.parseFunctionDeclaration(true):this.parseAssignmentExpression();exportDeclaration=this.finalize(node,new Node.ExportDefaultDeclaration(declaration))}else{if(this.matchContextualKeyword("from")){this.throwError(messages_1.Messages.UnexpectedToken,this.lookahead.value)}var declaration=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression();this.consumeSemicolon();exportDeclaration=this.finalize(node,new Node.ExportDefaultDeclaration(declaration))}}else if(this.match("*")){this.nextToken();if(!this.matchContextualKeyword("from")){var message=this.lookahead.value?messages_1.Messages.UnexpectedToken:messages_1.Messages.MissingFromClause;this.throwError(message,this.lookahead.value)}this.nextToken();var src=this.parseModuleSpecifier();this.consumeSemicolon();exportDeclaration=this.finalize(node,new Node.ExportAllDeclaration(src))}else if(this.lookahead.type===4){var declaration=void 0;switch(this.lookahead.value){case"let":case"const":declaration=this.parseLexicalDeclaration({inFor:false});break;case"var":case"class":case"function":declaration=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}exportDeclaration=this.finalize(node,new Node.ExportNamedDeclaration(declaration,[],null))}else if(this.matchAsyncFunction()){var declaration=this.parseFunctionDeclaration();exportDeclaration=this.finalize(node,new Node.ExportNamedDeclaration(declaration,[],null))}else{var specifiers=[];var source=null;var isExportFromIdentifier=false;this.expect("{");while(!this.match("}")){isExportFromIdentifier=isExportFromIdentifier||this.matchKeyword("default");specifiers.push(this.parseExportSpecifier());if(!this.match("}")){this.expect(",")}}this.expect("}");if(this.matchContextualKeyword("from")){this.nextToken();source=this.parseModuleSpecifier();this.consumeSemicolon()}else if(isExportFromIdentifier){var message=this.lookahead.value?messages_1.Messages.UnexpectedToken:messages_1.Messages.MissingFromClause;this.throwError(message,this.lookahead.value)}else{this.consumeSemicolon()}exportDeclaration=this.finalize(node,new Node.ExportNamedDeclaration(null,specifiers,source))}return exportDeclaration};return Parser}();exports.Parser=Parser},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function assert(condition,message){if(!condition){throw new Error("ASSERT: "+message)}}exports.assert=assert},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ErrorHandler=function(){function ErrorHandler(){this.errors=[];this.tolerant=false}ErrorHandler.prototype.recordError=function(error){this.errors.push(error)};ErrorHandler.prototype.tolerate=function(error){if(this.tolerant){this.recordError(error)}else{throw error}};ErrorHandler.prototype.constructError=function(msg,column){var error=new Error(msg);try{throw error}catch(base){if(Object.create&&Object.defineProperty){error=Object.create(base);Object.defineProperty(error,"column",{value:column})}}return error};ErrorHandler.prototype.createError=function(index,line,col,description){var msg="Line "+line+": "+description;var error=this.constructError(msg,col);error.index=index;error.lineNumber=line;error.description=description;return error};ErrorHandler.prototype.throwError=function(index,line,col,description){throw this.createError(index,line,col,description)};ErrorHandler.prototype.tolerateError=function(index,line,col,description){var error=this.createError(index,line,col,description);if(this.tolerant){this.recordError(error)}else{throw error}};return ErrorHandler}();exports.ErrorHandler=ErrorHandler},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var assert_1=__webpack_require__(9);var character_1=__webpack_require__(4);var messages_1=__webpack_require__(11);function hexValue(ch){return"0123456789abcdef".indexOf(ch.toLowerCase())}function octalValue(ch){return"01234567".indexOf(ch)}var Scanner=function(){function Scanner(code,handler){this.source=code;this.errorHandler=handler;this.trackComment=false;this.isModule=false;this.length=code.length;this.index=0;this.lineNumber=code.length>0?1:0;this.lineStart=0;this.curlyStack=[]}Scanner.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}};Scanner.prototype.restoreState=function(state){this.index=state.index;this.lineNumber=state.lineNumber;this.lineStart=state.lineStart};Scanner.prototype.eof=function(){return this.index>=this.length};Scanner.prototype.throwUnexpectedToken=function(message){if(message===void 0){message=messages_1.Messages.UnexpectedTokenIllegal}return this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,message)};Scanner.prototype.tolerateUnexpectedToken=function(message){if(message===void 0){message=messages_1.Messages.UnexpectedTokenIllegal}this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,message)};Scanner.prototype.skipSingleLineComment=function(offset){var comments=[];var start,loc;if(this.trackComment){comments=[];start=this.index-offset;loc={start:{line:this.lineNumber,column:this.index-this.lineStart-offset},end:{}}}while(!this.eof()){var ch=this.source.charCodeAt(this.index);++this.index;if(character_1.Character.isLineTerminator(ch)){if(this.trackComment){loc.end={line:this.lineNumber,column:this.index-this.lineStart-1};var entry={multiLine:false,slice:[start+offset,this.index-1],range:[start,this.index-1],loc:loc};comments.push(entry)}if(ch===13&&this.source.charCodeAt(this.index)===10){++this.index}++this.lineNumber;this.lineStart=this.index;return comments}}if(this.trackComment){loc.end={line:this.lineNumber,column:this.index-this.lineStart};var entry={multiLine:false,slice:[start+offset,this.index],range:[start,this.index],loc:loc};comments.push(entry)}return comments};Scanner.prototype.skipMultiLineComment=function(){var comments=[];var start,loc;if(this.trackComment){comments=[];start=this.index-2;loc={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}}}while(!this.eof()){var ch=this.source.charCodeAt(this.index);if(character_1.Character.isLineTerminator(ch)){if(ch===13&&this.source.charCodeAt(this.index+1)===10){++this.index}++this.lineNumber;++this.index;this.lineStart=this.index}else if(ch===42){if(this.source.charCodeAt(this.index+1)===47){this.index+=2;if(this.trackComment){loc.end={line:this.lineNumber,column:this.index-this.lineStart};var entry={multiLine:true,slice:[start+2,this.index-2],range:[start,this.index],loc:loc};comments.push(entry)}return comments}++this.index}else{++this.index}}if(this.trackComment){loc.end={line:this.lineNumber,column:this.index-this.lineStart};var entry={multiLine:true,slice:[start+2,this.index],range:[start,this.index],loc:loc};comments.push(entry)}this.tolerateUnexpectedToken();return comments};Scanner.prototype.scanComments=function(){var comments;if(this.trackComment){comments=[]}var start=this.index===0;while(!this.eof()){var ch=this.source.charCodeAt(this.index);if(character_1.Character.isWhiteSpace(ch)){++this.index}else if(character_1.Character.isLineTerminator(ch)){++this.index;if(ch===13&&this.source.charCodeAt(this.index)===10){++this.index}++this.lineNumber;this.lineStart=this.index;start=true}else if(ch===47){ch=this.source.charCodeAt(this.index+1);if(ch===47){this.index+=2;var comment=this.skipSingleLineComment(2);if(this.trackComment){comments=comments.concat(comment)}start=true}else if(ch===42){this.index+=2;var comment=this.skipMultiLineComment();if(this.trackComment){comments=comments.concat(comment)}}else{break}}else if(start&&ch===45){if(this.source.charCodeAt(this.index+1)===45&&this.source.charCodeAt(this.index+2)===62){this.index+=3;var comment=this.skipSingleLineComment(3);if(this.trackComment){comments=comments.concat(comment)}}else{break}}else if(ch===60&&!this.isModule){if(this.source.slice(this.index+1,this.index+4)==="!--"){this.index+=4;var comment=this.skipSingleLineComment(4);if(this.trackComment){comments=comments.concat(comment)}}else{break}}else{break}}return comments};Scanner.prototype.isFutureReservedWord=function(id){switch(id){case"enum":case"export":case"import":case"super":return true;default:return false}};Scanner.prototype.isStrictModeReservedWord=function(id){switch(id){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return true;default:return false}};Scanner.prototype.isRestrictedWord=function(id){return id==="eval"||id==="arguments"};Scanner.prototype.isKeyword=function(id){switch(id.length){case 2:return id==="if"||id==="in"||id==="do";case 3:return id==="var"||id==="for"||id==="new"||id==="try"||id==="let";case 4:return id==="this"||id==="else"||id==="case"||id==="void"||id==="with"||id==="enum";case 5:return id==="while"||id==="break"||id==="catch"||id==="throw"||id==="const"||id==="yield"||id==="class"||id==="super";case 6:return id==="return"||id==="typeof"||id==="delete"||id==="switch"||id==="export"||id==="import";case 7:return id==="default"||id==="finally"||id==="extends";case 8:return id==="function"||id==="continue"||id==="debugger";case 10:return id==="instanceof";default:return false}};Scanner.prototype.codePointAt=function(i){var cp=this.source.charCodeAt(i);if(cp>=55296&&cp<=56319){var second=this.source.charCodeAt(i+1);if(second>=56320&&second<=57343){var first=cp;cp=(first-55296)*1024+second-56320+65536}}return cp};Scanner.prototype.scanHexEscape=function(prefix){var len=prefix==="u"?4:2;var code=0;for(var i=0;i<len;++i){if(!this.eof()&&character_1.Character.isHexDigit(this.source.charCodeAt(this.index))){code=code*16+hexValue(this.source[this.index++])}else{return null}}return String.fromCharCode(code)};Scanner.prototype.scanUnicodeCodePointEscape=function(){var ch=this.source[this.index];var code=0;if(ch==="}"){this.throwUnexpectedToken()}while(!this.eof()){ch=this.source[this.index++];if(!character_1.Character.isHexDigit(ch.charCodeAt(0))){break}code=code*16+hexValue(ch)}if(code>1114111||ch!=="}"){this.throwUnexpectedToken()}return character_1.Character.fromCodePoint(code)};Scanner.prototype.getIdentifier=function(){var start=this.index++;while(!this.eof()){var ch=this.source.charCodeAt(this.index);if(ch===92){this.index=start;return this.getComplexIdentifier()}else if(ch>=55296&&ch<57343){this.index=start;return this.getComplexIdentifier()}if(character_1.Character.isIdentifierPart(ch)){++this.index}else{break}}return this.source.slice(start,this.index)};Scanner.prototype.getComplexIdentifier=function(){var cp=this.codePointAt(this.index);var id=character_1.Character.fromCodePoint(cp);this.index+=id.length;var ch;if(cp===92){if(this.source.charCodeAt(this.index)!==117){this.throwUnexpectedToken()}++this.index;if(this.source[this.index]==="{"){++this.index;ch=this.scanUnicodeCodePointEscape()}else{ch=this.scanHexEscape("u");if(ch===null||ch==="\\"||!character_1.Character.isIdentifierStart(ch.charCodeAt(0))){this.throwUnexpectedToken()}}id=ch}while(!this.eof()){cp=this.codePointAt(this.index);if(!character_1.Character.isIdentifierPart(cp)){break}ch=character_1.Character.fromCodePoint(cp);id+=ch;this.index+=ch.length;if(cp===92){id=id.substr(0,id.length-1);if(this.source.charCodeAt(this.index)!==117){this.throwUnexpectedToken()}++this.index;if(this.source[this.index]==="{"){++this.index;ch=this.scanUnicodeCodePointEscape()}else{ch=this.scanHexEscape("u");if(ch===null||ch==="\\"||!character_1.Character.isIdentifierPart(ch.charCodeAt(0))){this.throwUnexpectedToken()}}id+=ch}}return id};Scanner.prototype.octalToDecimal=function(ch){var octal=ch!=="0";var code=octalValue(ch);if(!this.eof()&&character_1.Character.isOctalDigit(this.source.charCodeAt(this.index))){octal=true;code=code*8+octalValue(this.source[this.index++]);if("0123".indexOf(ch)>=0&&!this.eof()&&character_1.Character.isOctalDigit(this.source.charCodeAt(this.index))){code=code*8+octalValue(this.source[this.index++])}}return{code:code,octal:octal}};Scanner.prototype.scanIdentifier=function(){var type;var start=this.index;var id=this.source.charCodeAt(start)===92?this.getComplexIdentifier():this.getIdentifier();if(id.length===1){type=3}else if(this.isKeyword(id)){type=4}else if(id==="null"){type=5}else if(id==="true"||id==="false"){type=1}else{type=3}if(type!==3&&start+id.length!==this.index){var restore=this.index;this.index=start;this.tolerateUnexpectedToken(messages_1.Messages.InvalidEscapedReservedWord);this.index=restore}return{type:type,value:id,lineNumber:this.lineNumber,lineStart:this.lineStart,start:start,end:this.index}};Scanner.prototype.scanPunctuator=function(){var start=this.index;var str=this.source[this.index];switch(str){case"(":case"{":if(str==="{"){this.curlyStack.push("{")}++this.index;break;case".":++this.index;if(this.source[this.index]==="."&&this.source[this.index+1]==="."){this.index+=2;str="..."}break;case"}":++this.index;this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:str=this.source.substr(this.index,4);if(str===">>>="){this.index+=4}else{str=str.substr(0,3);if(str==="==="||str==="!=="||str===">>>"||str==="<<="||str===">>="||str==="**="){this.index+=3}else{str=str.substr(0,2);if(str==="&&"||str==="||"||str==="=="||str==="!="||str==="+="||str==="-="||str==="*="||str==="/="||str==="++"||str==="--"||str==="<<"||str===">>"||str==="&="||str==="|="||str==="^="||str==="%="||str==="<="||str===">="||str==="=>"||str==="**"){this.index+=2}else{str=this.source[this.index];if("<>=!+-*%&|^/".indexOf(str)>=0){++this.index}}}}}if(this.index===start){this.throwUnexpectedToken()}return{type:7,value:str,lineNumber:this.lineNumber,lineStart:this.lineStart,start:start,end:this.index}};Scanner.prototype.scanHexLiteral=function(start){var num="";while(!this.eof()){if(!character_1.Character.isHexDigit(this.source.charCodeAt(this.index))){break}num+=this.source[this.index++]}if(num.length===0){this.throwUnexpectedToken()}if(character_1.Character.isIdentifierStart(this.source.charCodeAt(this.index))){this.throwUnexpectedToken()}return{type:6,value:parseInt("0x"+num,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:start,end:this.index}};Scanner.prototype.scanBinaryLiteral=function(start){var num="";var ch;while(!this.eof()){ch=this.source[this.index];if(ch!=="0"&&ch!=="1"){break}num+=this.source[this.index++]}if(num.length===0){this.throwUnexpectedToken()}if(!this.eof()){ch=this.source.charCodeAt(this.index);if(character_1.Character.isIdentifierStart(ch)||character_1.Character.isDecimalDigit(ch)){this.throwUnexpectedToken()}}return{type:6,value:parseInt(num,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:start,end:this.index}};Scanner.prototype.scanOctalLiteral=function(prefix,start){var num="";var octal=false;if(character_1.Character.isOctalDigit(prefix.charCodeAt(0))){octal=true;num="0"+this.source[this.index++]}else{++this.index}while(!this.eof()){if(!character_1.Character.isOctalDigit(this.source.charCodeAt(this.index))){break}num+=this.source[this.index++]}if(!octal&&num.length===0){this.throwUnexpectedToken()}if(character_1.Character.isIdentifierStart(this.source.charCodeAt(this.index))||character_1.Character.isDecimalDigit(this.source.charCodeAt(this.index))){this.throwUnexpectedToken()}return{type:6,value:parseInt(num,8),octal:octal,lineNumber:this.lineNumber,lineStart:this.lineStart,start:start,end:this.index}};Scanner.prototype.isImplicitOctalLiteral=function(){for(var i=this.index+1;i<this.length;++i){var ch=this.source[i];if(ch==="8"||ch==="9"){return false}if(!character_1.Character.isOctalDigit(ch.charCodeAt(0))){return true}}return true};Scanner.prototype.scanNumericLiteral=function(){var start=this.index;var ch=this.source[start];assert_1.assert(character_1.Character.isDecimalDigit(ch.charCodeAt(0))||ch===".","Numeric literal must start with a decimal digit or a decimal point");var num="";if(ch!=="."){num=this.source[this.index++];ch=this.source[this.index];if(num==="0"){if(ch==="x"||ch==="X"){++this.index;return this.scanHexLiteral(start)}if(ch==="b"||ch==="B"){++this.index;return this.scanBinaryLiteral(start)}if(ch==="o"||ch==="O"){return this.scanOctalLiteral(ch,start)}if(ch&&character_1.Character.isOctalDigit(ch.charCodeAt(0))){if(this.isImplicitOctalLiteral()){return this.scanOctalLiteral(ch,start)}}}while(character_1.Character.isDecimalDigit(this.source.charCodeAt(this.index))){num+=this.source[this.index++]}ch=this.source[this.index]}if(ch==="."){num+=this.source[this.index++];while(character_1.Character.isDecimalDigit(this.source.charCodeAt(this.index))){num+=this.source[this.index++]}ch=this.source[this.index]}if(ch==="e"||ch==="E"){num+=this.source[this.index++];ch=this.source[this.index];if(ch==="+"||ch==="-"){num+=this.source[this.index++]}if(character_1.Character.isDecimalDigit(this.source.charCodeAt(this.index))){while(character_1.Character.isDecimalDigit(this.source.charCodeAt(this.index))){num+=this.source[this.index++]}}else{this.throwUnexpectedToken()}}if(character_1.Character.isIdentifierStart(this.source.charCodeAt(this.index))){this.throwUnexpectedToken()}return{type:6,value:parseFloat(num),lineNumber:this.lineNumber,lineStart:this.lineStart,start:start,end:this.index}};Scanner.prototype.scanStringLiteral=function(){var start=this.index;var quote=this.source[start];assert_1.assert(quote==="'"||quote==='"',"String literal must starts with a quote");++this.index;var octal=false;var str="";while(!this.eof()){var ch=this.source[this.index++];if(ch===quote){quote="";break}else if(ch==="\\"){ch=this.source[this.index++];if(!ch||!character_1.Character.isLineTerminator(ch.charCodeAt(0))){switch(ch){case"u":if(this.source[this.index]==="{"){++this.index;str+=this.scanUnicodeCodePointEscape()}else{var unescaped_1=this.scanHexEscape(ch);if(unescaped_1===null){this.throwUnexpectedToken()}str+=unescaped_1}break;case"x":var unescaped=this.scanHexEscape(ch);if(unescaped===null){this.throwUnexpectedToken(messages_1.Messages.InvalidHexEscapeSequence)}str+=unescaped;break;case"n":str+="\n";break;case"r":str+="\r";break;case"t":str+="\t";break;case"b":str+="\b";break;case"f":str+="\f";break;case"v":str+="\v";break;case"8":case"9":str+=ch;this.tolerateUnexpectedToken();break;default:if(ch&&character_1.Character.isOctalDigit(ch.charCodeAt(0))){var octToDec=this.octalToDecimal(ch);octal=octToDec.octal||octal;str+=String.fromCharCode(octToDec.code)}else{str+=ch}break}}else{++this.lineNumber;if(ch==="\r"&&this.source[this.index]==="\n"){++this.index}this.lineStart=this.index}}else if(character_1.Character.isLineTerminator(ch.charCodeAt(0))){break}else{str+=ch}}if(quote!==""){this.index=start;this.throwUnexpectedToken()}return{type:8,value:str,octal:octal,lineNumber:this.lineNumber,lineStart:this.lineStart,start:start,end:this.index}};Scanner.prototype.scanTemplate=function(){var cooked="";var terminated=false;var start=this.index;var head=this.source[start]==="`";var tail=false;var rawOffset=2;++this.index;while(!this.eof()){var ch=this.source[this.index++];if(ch==="`"){rawOffset=1;tail=true;terminated=true;break}else if(ch==="$"){if(this.source[this.index]==="{"){this.curlyStack.push("${");++this.index;terminated=true;break}cooked+=ch}else if(ch==="\\"){ch=this.source[this.index++];if(!character_1.Character.isLineTerminator(ch.charCodeAt(0))){switch(ch){case"n":cooked+="\n";break;case"r":cooked+="\r";break;case"t":cooked+="\t";break;case"u":if(this.source[this.index]==="{"){++this.index;cooked+=this.scanUnicodeCodePointEscape()}else{var restore=this.index;var unescaped_2=this.scanHexEscape(ch);if(unescaped_2!==null){cooked+=unescaped_2}else{this.index=restore;cooked+=ch}}break;case"x":var unescaped=this.scanHexEscape(ch);if(unescaped===null){this.throwUnexpectedToken(messages_1.Messages.InvalidHexEscapeSequence)}cooked+=unescaped;break;case"b":cooked+="\b";break;case"f":cooked+="\f";break;case"v":cooked+="\v";break;default:if(ch==="0"){if(character_1.Character.isDecimalDigit(this.source.charCodeAt(this.index))){this.throwUnexpectedToken(messages_1.Messages.TemplateOctalLiteral)}cooked+="\0"}else if(character_1.Character.isOctalDigit(ch.charCodeAt(0))){this.throwUnexpectedToken(messages_1.Messages.TemplateOctalLiteral)}else{cooked+=ch}break}}else{++this.lineNumber;if(ch==="\r"&&this.source[this.index]==="\n"){++this.index}this.lineStart=this.index}}else if(character_1.Character.isLineTerminator(ch.charCodeAt(0))){++this.lineNumber;if(ch==="\r"&&this.source[this.index]==="\n"){++this.index}this.lineStart=this.index;cooked+="\n"}else{cooked+=ch}}if(!terminated){this.throwUnexpectedToken()}if(!head){this.curlyStack.pop()}return{type:10,value:this.source.slice(start+1,this.index-rawOffset),cooked:cooked,head:head,tail:tail,lineNumber:this.lineNumber,lineStart:this.lineStart,start:start,end:this.index}};Scanner.prototype.testRegExp=function(pattern,flags){var astralSubstitute="";var tmp=pattern;var self=this;if(flags.indexOf("u")>=0){tmp=tmp.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,(function($0,$1,$2){var codePoint=parseInt($1||$2,16);if(codePoint>1114111){self.throwUnexpectedToken(messages_1.Messages.InvalidRegExp)}if(codePoint<=65535){return String.fromCharCode(codePoint)}return astralSubstitute})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,astralSubstitute)}try{RegExp(tmp)}catch(e){this.throwUnexpectedToken(messages_1.Messages.InvalidRegExp)}try{return new RegExp(pattern,flags)}catch(exception){return null}};Scanner.prototype.scanRegExpBody=function(){var ch=this.source[this.index];assert_1.assert(ch==="/","Regular expression literal must start with a slash");var str=this.source[this.index++];var classMarker=false;var terminated=false;while(!this.eof()){ch=this.source[this.index++];str+=ch;if(ch==="\\"){ch=this.source[this.index++];if(character_1.Character.isLineTerminator(ch.charCodeAt(0))){this.throwUnexpectedToken(messages_1.Messages.UnterminatedRegExp)}str+=ch}else if(character_1.Character.isLineTerminator(ch.charCodeAt(0))){this.throwUnexpectedToken(messages_1.Messages.UnterminatedRegExp)}else if(classMarker){if(ch==="]"){classMarker=false}}else{if(ch==="/"){terminated=true;break}else if(ch==="["){classMarker=true}}}if(!terminated){this.throwUnexpectedToken(messages_1.Messages.UnterminatedRegExp)}return str.substr(1,str.length-2)};Scanner.prototype.scanRegExpFlags=function(){var str="";var flags="";while(!this.eof()){var ch=this.source[this.index];if(!character_1.Character.isIdentifierPart(ch.charCodeAt(0))){break}++this.index;if(ch==="\\"&&!this.eof()){ch=this.source[this.index];if(ch==="u"){++this.index;var restore=this.index;var char=this.scanHexEscape("u");if(char!==null){flags+=char;for(str+="\\u";restore<this.index;++restore){str+=this.source[restore]}}else{this.index=restore;flags+="u";str+="\\u"}this.tolerateUnexpectedToken()}else{str+="\\";this.tolerateUnexpectedToken()}}else{flags+=ch;str+=ch}}return flags};Scanner.prototype.scanRegExp=function(){var start=this.index;var pattern=this.scanRegExpBody();var flags=this.scanRegExpFlags();var value=this.testRegExp(pattern,flags);return{type:9,value:"",pattern:pattern,flags:flags,regex:value,lineNumber:this.lineNumber,lineStart:this.lineStart,start:start,end:this.index}};Scanner.prototype.lex=function(){if(this.eof()){return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index}}var cp=this.source.charCodeAt(this.index);if(character_1.Character.isIdentifierStart(cp)){return this.scanIdentifier()}if(cp===40||cp===41||cp===59){return this.scanPunctuator()}if(cp===39||cp===34){return this.scanStringLiteral()}if(cp===46){if(character_1.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))){return this.scanNumericLiteral()}return this.scanPunctuator()}if(character_1.Character.isDecimalDigit(cp)){return this.scanNumericLiteral()}if(cp===96||cp===125&&this.curlyStack[this.curlyStack.length-1]==="${"){return this.scanTemplate()}if(cp>=55296&&cp<57343){if(character_1.Character.isIdentifierStart(this.codePointAt(this.index))){return this.scanIdentifier()}}return this.scanPunctuator()};return Scanner}();exports.Scanner=Scanner},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TokenName={};exports.TokenName[1]="Boolean";exports.TokenName[2]="<end>";exports.TokenName[3]="Identifier";exports.TokenName[4]="Keyword";exports.TokenName[5]="Null";exports.TokenName[6]="Numeric";exports.TokenName[7]="Punctuator";exports.TokenName[8]="String";exports.TokenName[9]="RegularExpression";exports.TokenName[10]="Template"},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",fnof:"",circ:"",tilde:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",bull:"",hellip:"",permil:"",prime:"",Prime:"",lsaquo:"",rsaquo:"",oline:"",frasl:"",euro:"",image:"",weierp:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",lang:"",rang:""}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var error_handler_1=__webpack_require__(10);var scanner_1=__webpack_require__(12);var token_1=__webpack_require__(13);var Reader=function(){function Reader(){this.values=[];this.curly=this.paren=-1}Reader.prototype.beforeFunctionExpression=function(t){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(t)>=0};Reader.prototype.isRegexStart=function(){var previous=this.values[this.values.length-1];var regex=previous!==null;switch(previous){case"this":case"]":regex=false;break;case")":var keyword=this.values[this.paren-1];regex=keyword==="if"||keyword==="while"||keyword==="for"||keyword==="with";break;case"}":regex=false;if(this.values[this.curly-3]==="function"){var check=this.values[this.curly-4];regex=check?!this.beforeFunctionExpression(check):false}else if(this.values[this.curly-4]==="function"){var check=this.values[this.curly-5];regex=check?!this.beforeFunctionExpression(check):true}break;default:break}return regex};Reader.prototype.push=function(token){if(token.type===7||token.type===4){if(token.value==="{"){this.curly=this.values.length}else if(token.value==="("){this.paren=this.values.length}this.values.push(token.value)}else{this.values.push(null)}};return Reader}();var Tokenizer=function(){function Tokenizer(code,config){this.errorHandler=new error_handler_1.ErrorHandler;this.errorHandler.tolerant=config?typeof config.tolerant==="boolean"&&config.tolerant:false;this.scanner=new scanner_1.Scanner(code,this.errorHandler);this.scanner.trackComment=config?typeof config.comment==="boolean"&&config.comment:false;this.trackRange=config?typeof config.range==="boolean"&&config.range:false;this.trackLoc=config?typeof config.loc==="boolean"&&config.loc:false;this.buffer=[];this.reader=new Reader}Tokenizer.prototype.errors=function(){return this.errorHandler.errors};Tokenizer.prototype.getNextToken=function(){if(this.buffer.length===0){var comments=this.scanner.scanComments();if(this.scanner.trackComment){for(var i=0;i<comments.length;++i){var e=comments[i];var value=this.scanner.source.slice(e.slice[0],e.slice[1]);var comment={type:e.multiLine?"BlockComment":"LineComment",value:value};if(this.trackRange){comment.range=e.range}if(this.trackLoc){comment.loc=e.loc}this.buffer.push(comment)}}if(!this.scanner.eof()){var loc=void 0;if(this.trackLoc){loc={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}}}var startRegex=this.scanner.source[this.scanner.index]==="/"&&this.reader.isRegexStart();var token=startRegex?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(token);var entry={type:token_1.TokenName[token.type],value:this.scanner.source.slice(token.start,token.end)};if(this.trackRange){entry.range=[token.start,token.end]}if(this.trackLoc){loc.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart};entry.loc=loc}if(token.type===9){var pattern=token.pattern;var flags=token.flags;entry.regex={pattern:pattern,flags:flags}}this.buffer.push(entry)}}return this.buffer.shift()};return Tokenizer}();exports.Tokenizer=Tokenizer}])}))},function(module,exports,__webpack_require__){"use strict";var common=__webpack_require__(45);var YAMLException=__webpack_require__(54);var DEFAULT_FULL_SCHEMA=__webpack_require__(71);var DEFAULT_SAFE_SCHEMA=__webpack_require__(55);var _toString=Object.prototype.toString;var _hasOwnProperty=Object.prototype.hasOwnProperty;var CHAR_TAB=9;var CHAR_LINE_FEED=10;var CHAR_CARRIAGE_RETURN=13;var CHAR_SPACE=32;var CHAR_EXCLAMATION=33;var CHAR_DOUBLE_QUOTE=34;var CHAR_SHARP=35;var CHAR_PERCENT=37;var CHAR_AMPERSAND=38;var CHAR_SINGLE_QUOTE=39;var CHAR_ASTERISK=42;var CHAR_COMMA=44;var CHAR_MINUS=45;var CHAR_COLON=58;var CHAR_EQUALS=61;var CHAR_GREATER_THAN=62;var CHAR_QUESTION=63;var CHAR_COMMERCIAL_AT=64;var CHAR_LEFT_SQUARE_BRACKET=91;var CHAR_RIGHT_SQUARE_BRACKET=93;var CHAR_GRAVE_ACCENT=96;var CHAR_LEFT_CURLY_BRACKET=123;var CHAR_VERTICAL_LINE=124;var CHAR_RIGHT_CURLY_BRACKET=125;var ESCAPE_SEQUENCES={};ESCAPE_SEQUENCES[0]="\\0";ESCAPE_SEQUENCES[7]="\\a";ESCAPE_SEQUENCES[8]="\\b";ESCAPE_SEQUENCES[9]="\\t";ESCAPE_SEQUENCES[10]="\\n";ESCAPE_SEQUENCES[11]="\\v";ESCAPE_SEQUENCES[12]="\\f";ESCAPE_SEQUENCES[13]="\\r";ESCAPE_SEQUENCES[27]="\\e";ESCAPE_SEQUENCES[34]='\\"';ESCAPE_SEQUENCES[92]="\\\\";ESCAPE_SEQUENCES[133]="\\N";ESCAPE_SEQUENCES[160]="\\_";ESCAPE_SEQUENCES[8232]="\\L";ESCAPE_SEQUENCES[8233]="\\P";var DEPRECATED_BOOLEANS_SYNTAX=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function compileStyleMap(schema,map){var result,keys,index,length,tag,style,type;if(map===null)return{};result={};keys=Object.keys(map);for(index=0,length=keys.length;index<length;index+=1){tag=keys[index];style=String(map[tag]);if(tag.slice(0,2)==="!!"){tag="tag:yaml.org,2002:"+tag.slice(2)}type=schema.compiledTypeMap["fallback"][tag];if(type&&_hasOwnProperty.call(type.styleAliases,style)){style=type.styleAliases[style]}result[tag]=style}return result}function encodeHex(character){var string,handle,length;string=character.toString(16).toUpperCase();if(character<=255){handle="x";length=2}else if(character<=65535){handle="u";length=4}else if(character<=4294967295){handle="U";length=8}else{throw new YAMLException("code point within a string may not be greater than 0xFFFFFFFF")}return"\\"+handle+common.repeat("0",length-string.length)+string}function State(options){this.schema=options["schema"]||DEFAULT_FULL_SCHEMA;this.indent=Math.max(1,options["indent"]||2);this.noArrayIndent=options["noArrayIndent"]||false;this.skipInvalid=options["skipInvalid"]||false;this.flowLevel=common.isNothing(options["flowLevel"])?-1:options["flowLevel"];this.styleMap=compileStyleMap(this.schema,options["styles"]||null);this.sortKeys=options["sortKeys"]||false;this.lineWidth=options["lineWidth"]||80;this.noRefs=options["noRefs"]||false;this.noCompatMode=options["noCompatMode"]||false;this.condenseFlow=options["condenseFlow"]||false;this.implicitTypes=this.schema.compiledImplicit;this.explicitTypes=this.schema.compiledExplicit;this.tag=null;this.result="";this.duplicates=[];this.usedDuplicates=null}function indentString(string,spaces){var ind=common.repeat(" ",spaces),position=0,next=-1,result="",line,length=string.length;while(position<length){next=string.indexOf("\n",position);if(next===-1){line=string.slice(position);position=length}else{line=string.slice(position,next+1);position=next+1}if(line.length&&line!=="\n")result+=ind;result+=line}return result}function generateNextLine(state,level){return"\n"+common.repeat(" ",state.indent*level)}function testImplicitResolving(state,str){var index,length,type;for(index=0,length=state.implicitTypes.length;index<length;index+=1){type=state.implicitTypes[index];if(type.resolve(str)){return true}}return false}function isWhitespace(c){return c===CHAR_SPACE||c===CHAR_TAB}function isPrintable(c){return 32<=c&&c<=126||161<=c&&c<=55295&&c!==8232&&c!==8233||57344<=c&&c<=65533&&c!==65279||65536<=c&&c<=1114111}function isNsChar(c){return isPrintable(c)&&!isWhitespace(c)&&c!==65279&&c!==CHAR_CARRIAGE_RETURN&&c!==CHAR_LINE_FEED}function isPlainSafe(c,prev){return isPrintable(c)&&c!==65279&&c!==CHAR_COMMA&&c!==CHAR_LEFT_SQUARE_BRACKET&&c!==CHAR_RIGHT_SQUARE_BRACKET&&c!==CHAR_LEFT_CURLY_BRACKET&&c!==CHAR_RIGHT_CURLY_BRACKET&&c!==CHAR_COLON&&(c!==CHAR_SHARP||prev&&isNsChar(prev))}function isPlainSafeFirst(c){return isPrintable(c)&&c!==65279&&!isWhitespace(c)&&c!==CHAR_MINUS&&c!==CHAR_QUESTION&&c!==CHAR_COLON&&c!==CHAR_COMMA&&c!==CHAR_LEFT_SQUARE_BRACKET&&c!==CHAR_RIGHT_SQUARE_BRACKET&&c!==CHAR_LEFT_CURLY_BRACKET&&c!==CHAR_RIGHT_CURLY_BRACKET&&c!==CHAR_SHARP&&c!==CHAR_AMPERSAND&&c!==CHAR_ASTERISK&&c!==CHAR_EXCLAMATION&&c!==CHAR_VERTICAL_LINE&&c!==CHAR_EQUALS&&c!==CHAR_GREATER_THAN&&c!==CHAR_SINGLE_QUOTE&&c!==CHAR_DOUBLE_QUOTE&&c!==CHAR_PERCENT&&c!==CHAR_COMMERCIAL_AT&&c!==CHAR_GRAVE_ACCENT}function needIndentIndicator(string){var leadingSpaceRe=/^\n* /;return leadingSpaceRe.test(string)}var STYLE_PLAIN=1,STYLE_SINGLE=2,STYLE_LITERAL=3,STYLE_FOLDED=4,STYLE_DOUBLE=5;function chooseScalarStyle(string,singleLineOnly,indentPerLevel,lineWidth,testAmbiguousType){var i;var char,prev_char;var hasLineBreak=false;var hasFoldableLine=false;var shouldTrackWidth=lineWidth!==-1;var previousLineBreak=-1;var plain=isPlainSafeFirst(string.charCodeAt(0))&&!isWhitespace(string.charCodeAt(string.length-1));if(singleLineOnly){for(i=0;i<string.length;i++){char=string.charCodeAt(i);if(!isPrintable(char)){return STYLE_DOUBLE}prev_char=i>0?string.charCodeAt(i-1):null;plain=plain&&isPlainSafe(char,prev_char)}}else{for(i=0;i<string.length;i++){char=string.charCodeAt(i);if(char===CHAR_LINE_FEED){hasLineBreak=true;if(shouldTrackWidth){hasFoldableLine=hasFoldableLine||i-previousLineBreak-1>lineWidth&&string[previousLineBreak+1]!==" ";previousLineBreak=i}}else if(!isPrintable(char)){return STYLE_DOUBLE}prev_char=i>0?string.charCodeAt(i-1):null;plain=plain&&isPlainSafe(char,prev_char)}hasFoldableLine=hasFoldableLine||shouldTrackWidth&&(i-previousLineBreak-1>lineWidth&&string[previousLineBreak+1]!==" ")}if(!hasLineBreak&&!hasFoldableLine){return plain&&!testAmbiguousType(string)?STYLE_PLAIN:STYLE_SINGLE}if(indentPerLevel>9&&needIndentIndicator(string)){return STYLE_DOUBLE}return hasFoldableLine?STYLE_FOLDED:STYLE_LITERAL}function writeScalar(state,string,level,iskey){state.dump=function(){if(string.length===0){return"''"}if(!state.noCompatMode&&DEPRECATED_BOOLEANS_SYNTAX.indexOf(string)!==-1){return"'"+string+"'"}var indent=state.indent*Math.max(1,level);var lineWidth=state.lineWidth===-1?-1:Math.max(Math.min(state.lineWidth,40),state.lineWidth-indent);var singleLineOnly=iskey||state.flowLevel>-1&&level>=state.flowLevel;function testAmbiguity(string){return testImplicitResolving(state,string)}switch(chooseScalarStyle(string,singleLineOnly,state.indent,lineWidth,testAmbiguity)){case STYLE_PLAIN:return string;case STYLE_SINGLE:return"'"+string.replace(/'/g,"''")+"'";case STYLE_LITERAL:return"|"+blockHeader(string,state.indent)+dropEndingNewline(indentString(string,indent));case STYLE_FOLDED:return">"+blockHeader(string,state.indent)+dropEndingNewline(indentString(foldString(string,lineWidth),indent));case STYLE_DOUBLE:return'"'+escapeString(string,lineWidth)+'"';default:throw new YAMLException("impossible error: invalid scalar style")}}()}function blockHeader(string,indentPerLevel){var indentIndicator=needIndentIndicator(string)?String(indentPerLevel):"";var clip=string[string.length-1]==="\n";var keep=clip&&(string[string.length-2]==="\n"||string==="\n");var chomp=keep?"+":clip?"":"-";return indentIndicator+chomp+"\n"}function dropEndingNewline(string){return string[string.length-1]==="\n"?string.slice(0,-1):string}function foldString(string,width){var lineRe=/(\n+)([^\n]*)/g;var result=function(){var nextLF=string.indexOf("\n");nextLF=nextLF!==-1?nextLF:string.length;lineRe.lastIndex=nextLF;return foldLine(string.slice(0,nextLF),width)}();var prevMoreIndented=string[0]==="\n"||string[0]===" ";var moreIndented;var match;while(match=lineRe.exec(string)){var prefix=match[1],line=match[2];moreIndented=line[0]===" ";result+=prefix+(!prevMoreIndented&&!moreIndented&&line!==""?"\n":"")+foldLine(line,width);prevMoreIndented=moreIndented}return result}function foldLine(line,width){if(line===""||line[0]===" ")return line;var breakRe=/ [^ ]/g;var match;var start=0,end,curr=0,next=0;var result="";while(match=breakRe.exec(line)){next=match.index;if(next-start>width){end=curr>start?curr:next;result+="\n"+line.slice(start,end);start=end+1}curr=next}result+="\n";if(line.length-start>width&&curr>start){result+=line.slice(start,curr)+"\n"+line.slice(curr+1)}else{result+=line.slice(start)}return result.slice(1)}function escapeString(string){var result="";var char,nextChar;var escapeSeq;for(var i=0;i<string.length;i++){char=string.charCodeAt(i);if(char>=55296&&char<=56319){nextChar=string.charCodeAt(i+1);if(nextChar>=56320&&nextChar<=57343){result+=encodeHex((char-55296)*1024+nextChar-56320+65536);i++;continue}}escapeSeq=ESCAPE_SEQUENCES[char];result+=!escapeSeq&&isPrintable(char)?string[i]:escapeSeq||encodeHex(char)}return result}function writeFlowSequence(state,level,object){var _result="",_tag=state.tag,index,length;for(index=0,length=object.length;index<length;index+=1){if(writeNode(state,level,object[index],false,false)){if(index!==0)_result+=","+(!state.condenseFlow?" ":"");_result+=state.dump}}state.tag=_tag;state.dump="["+_result+"]"}function writeBlockSequence(state,level,object,compact){var _result="",_tag=state.tag,index,length;for(index=0,length=object.length;index<length;index+=1){if(writeNode(state,level+1,object[index],true,true)){if(!compact||index!==0){_result+=generateNextLine(state,level)}if(state.dump&&CHAR_LINE_FEED===state.dump.charCodeAt(0)){_result+="-"}else{_result+="- "}_result+=state.dump}}state.tag=_tag;state.dump=_result||"[]"}function writeFlowMapping(state,level,object){var _result="",_tag=state.tag,objectKeyList=Object.keys(object),index,length,objectKey,objectValue,pairBuffer;for(index=0,length=objectKeyList.length;index<length;index+=1){pairBuffer="";if(index!==0)pairBuffer+=", ";if(state.condenseFlow)pairBuffer+='"';objectKey=objectKeyList[index];objectValue=object[objectKey];if(!writeNode(state,level,objectKey,false,false)){continue}if(state.dump.length>1024)pairBuffer+="? ";pairBuffer+=state.dump+(state.condenseFlow?'"':"")+":"+(state.condenseFlow?"":" ");if(!writeNode(state,level,objectValue,false,false)){continue}pairBuffer+=state.dump;_result+=pairBuffer}state.tag=_tag;state.dump="{"+_result+"}"}function writeBlockMapping(state,level,object,compact){var _result="",_tag=state.tag,objectKeyList=Object.keys(object),index,length,objectKey,objectValue,explicitPair,pairBuffer;if(state.sortKeys===true){objectKeyList.sort()}else if(typeof state.sortKeys==="function"){objectKeyList.sort(state.sortKeys)}else if(state.sortKeys){throw new YAMLException("sortKeys must be a boolean or a function")}for(index=0,length=objectKeyList.length;index<length;index+=1){pairBuffer="";if(!compact||index!==0){pairBuffer+=generateNextLine(state,level)}objectKey=objectKeyList[index];objectValue=object[objectKey];if(!writeNode(state,level+1,objectKey,true,true,true)){continue}explicitPair=state.tag!==null&&state.tag!=="?"||state.dump&&state.dump.length>1024;if(explicitPair){if(state.dump&&CHAR_LINE_FEED===state.dump.charCodeAt(0)){pairBuffer+="?"}else{pairBuffer+="? "}}pairBuffer+=state.dump;if(explicitPair){pairBuffer+=generateNextLine(state,level)}if(!writeNode(state,level+1,objectValue,true,explicitPair)){continue}if(state.dump&&CHAR_LINE_FEED===state.dump.charCodeAt(0)){pairBuffer+=":"}else{pairBuffer+=": "}pairBuffer+=state.dump;_result+=pairBuffer}state.tag=_tag;state.dump=_result||"{}"}function detectType(state,object,explicit){var _result,typeList,index,length,type,style;typeList=explicit?state.explicitTypes:state.implicitTypes;for(index=0,length=typeList.length;index<length;index+=1){type=typeList[index];if((type.instanceOf||type.predicate)&&(!type.instanceOf||typeof object==="object"&&object instanceof type.instanceOf)&&(!type.predicate||type.predicate(object))){state.tag=explicit?type.tag:"?";if(type.represent){style=state.styleMap[type.tag]||type.defaultStyle;if(_toString.call(type.represent)==="[object Function]"){_result=type.represent(object,style)}else if(_hasOwnProperty.call(type.represent,style)){_result=type.represent[style](object,style)}else{throw new YAMLException("!<"+type.tag+'> tag resolver accepts not "'+style+'" style')}state.dump=_result}return true}}return false}function writeNode(state,level,object,block,compact,iskey){state.tag=null;state.dump=object;if(!detectType(state,object,false)){detectType(state,object,true)}var type=_toString.call(state.dump);if(block){block=state.flowLevel<0||state.flowLevel>level}var objectOrArray=type==="[object Object]"||type==="[object Array]",duplicateIndex,duplicate;if(objectOrArray){duplicateIndex=state.duplicates.indexOf(object);duplicate=duplicateIndex!==-1}if(state.tag!==null&&state.tag!=="?"||duplicate||state.indent!==2&&level>0){compact=false}if(duplicate&&state.usedDuplicates[duplicateIndex]){state.dump="*ref_"+duplicateIndex}else{if(objectOrArray&&duplicate&&!state.usedDuplicates[duplicateIndex]){state.usedDuplicates[duplicateIndex]=true}if(type==="[object Object]"){if(block&&Object.keys(state.dump).length!==0){writeBlockMapping(state,level,state.dump,compact);if(duplicate){state.dump="&ref_"+duplicateIndex+state.dump}}else{writeFlowMapping(state,level,state.dump);if(duplicate){state.dump="&ref_"+duplicateIndex+" "+state.dump}}}else if(type==="[object Array]"){var arrayLevel=state.noArrayIndent&&level>0?level-1:level;if(block&&state.dump.length!==0){writeBlockSequence(state,arrayLevel,state.dump,compact);if(duplicate){state.dump="&ref_"+duplicateIndex+state.dump}}else{writeFlowSequence(state,arrayLevel,state.dump);if(duplicate){state.dump="&ref_"+duplicateIndex+" "+state.dump}}}else if(type==="[object String]"){if(state.tag!=="?"){writeScalar(state,state.dump,level,iskey)}}else{if(state.skipInvalid)return false;throw new YAMLException("unacceptable kind of an object to dump "+type)}if(state.tag!==null&&state.tag!=="?"){state.dump="!<"+state.tag+"> "+state.dump}}return true}function getDuplicateReferences(object,state){var objects=[],duplicatesIndexes=[],index,length;inspectNode(object,objects,duplicatesIndexes);for(index=0,length=duplicatesIndexes.length;index<length;index+=1){state.duplicates.push(objects[duplicatesIndexes[index]])}state.usedDuplicates=new Array(length)}function inspectNode(object,objects,duplicatesIndexes){var objectKeyList,index,length;if(object!==null&&typeof object==="object"){index=objects.indexOf(object);if(index!==-1){if(duplicatesIndexes.indexOf(index)===-1){duplicatesIndexes.push(index)}}else{objects.push(object);if(Array.isArray(object)){for(index=0,length=object.length;index<length;index+=1){inspectNode(object[index],objects,duplicatesIndexes)}}else{objectKeyList=Object.keys(object);for(index=0,length=objectKeyList.length;index<length;index+=1){inspectNode(object[objectKeyList[index]],objects,duplicatesIndexes)}}}}}function dump(input,options){options=options||{};var state=new State(options);if(!state.noRefs)getDuplicateReferences(input,state);if(writeNode(state,0,input,true,true))return state.dump+"\n";return""}function safeDump(input,options){return dump(input,common.extend({schema:DEFAULT_SAFE_SCHEMA},options))}module.exports.dump=dump;module.exports.safeDump=safeDump},function(module,exports,__webpack_require__){(function(global){var rng;var crypto=global.crypto||global.msCrypto;if(crypto&&crypto.getRandomValues){var _rnds8=new Uint8Array(16);rng=function whatwgRNG(){crypto.getRandomValues(_rnds8);return _rnds8}}if(!rng){var _rnds=new Array(16);rng=function(){for(var i=0,r;i<16;i++){if((i&3)===0)r=Math.random()*4294967296;_rnds[i]=r>>>((i&3)<<3)&255}return _rnds}}module.exports=rng}).call(this,__webpack_require__(35))},function(module,exports){function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}module.exports=_objectWithoutPropertiesLoose,module.exports.__esModule=true,module.exports["default"]=module.exports},function(module,exports,__webpack_require__){"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var r=e(__webpack_require__(481)),t=e(__webpack_require__(192)),n=__webpack_require__(0),i=e(__webpack_require__(484)),a=e(__webpack_require__(485)),o=e(__webpack_require__(196)),u=e(__webpack_require__(206)),s=e(__webpack_require__(539)),l=e(__webpack_require__(542));function c(){return(c=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function p(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r}function d(e,r){if(null==e)return{};var t,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r.indexOf(t=a[n])>=0||(i[t]=e[t]);return i}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var v=n.createContext(void 0);v.displayName="FormikContext";var h=v.Provider,m=v.Consumer;function y(){var e=n.useContext(v);return e||a(!1),e}var E=function(e){return Array.isArray(e)&&0===e.length},S=function(e){return"function"==typeof e},T=function(e){return null!==e&&"object"==typeof e},g=function(e){return String(Math.floor(Number(e)))===e},b=function(e){return"[object String]"===Object.prototype.toString.call(e)},F=function(e){return 0===n.Children.count(e)},k=function(e){return T(e)&&S(e.then)};function A(e,r,t,n){void 0===n&&(n=0);for(var i=u(r);e&&n<i.length;)e=e[i[n++]];return n===i.length||e?void 0===e?t:e:t}function _(e,r,t){for(var n=o(e),i=n,a=0,s=u(r);a<s.length-1;a++){var l=s[a],c=A(e,s.slice(0,a+1));if(c&&(T(c)||Array.isArray(c)))i=i[l]=o(c);else{var p=s[a+1];i=i[l]=g(p)&&Number(p)>=0?[]:{}}}return(0===a?e:i)[s[a]]===t?e:(void 0===t?delete i[s[a]]:i[s[a]]=t,0===a&&void 0===t&&delete n[s[a]],n)}function R(e,r,t,n){void 0===t&&(t=new WeakMap),void 0===n&&(n={});for(var i=0,a=Object.keys(e);i<a.length;i++){var o=a[i],u=e[o];T(u)?t.get(u)||(t.set(u,!0),n[o]=Array.isArray(u)?[]:{},R(u,r,t,n[o])):n[o]=r}return n}var O={},C={};function I(e){var t=e.validateOnChange,a=void 0===t||t,o=e.validateOnBlur,u=void 0===o||o,s=e.validateOnMount,l=void 0!==s&&s,p=e.isInitialValid,f=e.enableReinitialize,v=void 0!==f&&f,h=e.onSubmit,m=d(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),y=c({validateOnChange:a,validateOnBlur:u,validateOnMount:l,onSubmit:h},m),E=n.useRef(y.initialValues),g=n.useRef(y.initialErrors||O),F=n.useRef(y.initialTouched||C),I=n.useRef(y.initialStatus),P=n.useRef(!1),V=n.useRef({});n.useEffect((function(){return P.current=!0,function(){P.current=!1}}),[]);var M=n.useState(0)[1],L=n.useRef({values:y.initialValues,errors:y.initialErrors||O,touched:y.initialTouched||C,status:y.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),j=L.current,N=n.useCallback((function(e){var r=L.current;L.current=function(e,r){switch(r.type){case"SET_VALUES":return c({},e,{values:r.payload});case"SET_TOUCHED":return c({},e,{touched:r.payload});case"SET_ERRORS":return i(e.errors,r.payload)?e:c({},e,{errors:r.payload});case"SET_STATUS":return c({},e,{status:r.payload});case"SET_ISSUBMITTING":return c({},e,{isSubmitting:r.payload});case"SET_ISVALIDATING":return c({},e,{isValidating:r.payload});case"SET_FIELD_VALUE":return c({},e,{values:_(e.values,r.payload.field,r.payload.value)});case"SET_FIELD_TOUCHED":return c({},e,{touched:_(e.touched,r.payload.field,r.payload.value)});case"SET_FIELD_ERROR":return c({},e,{errors:_(e.errors,r.payload.field,r.payload.value)});case"RESET_FORM":return c({},e,r.payload);case"SET_FORMIK_STATE":return r.payload(e);case"SUBMIT_ATTEMPT":return c({},e,{touched:R(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":case"SUBMIT_SUCCESS":return c({},e,{isSubmitting:!1});default:return e}}(r,e),r!==L.current&&M((function(e){return e+1}))}),[]),B=n.useCallback((function(e,r){return new Promise((function(t,n){var i=y.validate(e,r);null==i?t(O):k(i)?i.then((function(e){t(e||O)}),(function(e){n(e)})):t(i)}))}),[y.validate]),q=n.useCallback((function(e,r){var t=y.validationSchema,n=S(t)?t(r):t,i=r&&n.validateAt?n.validateAt(r,e):U(e,n);return new Promise((function(e,r){i.then((function(){e(O)}),(function(t){"ValidationError"===t.name?e(x(t)):r(t)}))}))}),[y.validationSchema]),G=n.useCallback((function(e,r){return new Promise((function(t){return t(V.current[e].validate(r))}))}),[]),H=n.useCallback((function(e){var r=Object.keys(V.current).filter((function(e){return S(V.current[e].validate)})),t=r.length>0?r.map((function(r){return G(r,A(e,r))})):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(t).then((function(e){return e.reduce((function(e,t,n){return"DO_NOT_DELETE_YOU_WILL_BE_FIRED"===t?e:(t&&(e=_(e,r[n],t)),e)}),{})}))}),[G]),W=n.useCallback((function(e){return Promise.all([H(e),y.validationSchema?q(e):{},y.validate?B(e):{}]).then((function(e){return r.all([e[0],e[1],e[2]],{arrayMerge:D})}))}),[y.validate,y.validationSchema,H,B,q]),K=w((function(e){return void 0===e&&(e=j.values),N({type:"SET_ISVALIDATING",payload:!0}),W(e).then((function(e){return P.current&&(N({type:"SET_ISVALIDATING",payload:!1}),N({type:"SET_ERRORS",payload:e})),e}))}));n.useEffect((function(){l&&!0===P.current&&i(E.current,y.initialValues)&&K(E.current)}),[l,K]);var Y=n.useCallback((function(e){var r=e&&e.values?e.values:E.current,t=e&&e.errors?e.errors:g.current?g.current:y.initialErrors||{},n=e&&e.touched?e.touched:F.current?F.current:y.initialTouched||{},i=e&&e.status?e.status:I.current?I.current:y.initialStatus;E.current=r,g.current=t,F.current=n,I.current=i;var a=function(){N({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:t,touched:n,status:i,values:r,isValidating:!!e&&!!e.isValidating,submitCount:e&&e.submitCount&&"number"==typeof e.submitCount?e.submitCount:0}})};if(y.onReset){var o=y.onReset(j.values,de);k(o)?o.then(a):a()}else a()}),[y.initialErrors,y.initialStatus,y.initialTouched]);n.useEffect((function(){!0!==P.current||i(E.current,y.initialValues)||v&&(E.current=y.initialValues,Y(),l&&K(E.current))}),[v,y.initialValues,Y,l,K]),n.useEffect((function(){v&&!0===P.current&&!i(g.current,y.initialErrors)&&(g.current=y.initialErrors||O,N({type:"SET_ERRORS",payload:y.initialErrors||O}))}),[v,y.initialErrors]),n.useEffect((function(){v&&!0===P.current&&!i(F.current,y.initialTouched)&&(F.current=y.initialTouched||C,N({type:"SET_TOUCHED",payload:y.initialTouched||C}))}),[v,y.initialTouched]),n.useEffect((function(){v&&!0===P.current&&!i(I.current,y.initialStatus)&&(I.current=y.initialStatus,N({type:"SET_STATUS",payload:y.initialStatus}))}),[v,y.initialStatus,y.initialTouched]);var z=w((function(e){if(V.current[e]&&S(V.current[e].validate)){var r=A(j.values,e),t=V.current[e].validate(r);return k(t)?(N({type:"SET_ISVALIDATING",payload:!0}),t.then((function(e){return e})).then((function(r){N({type:"SET_FIELD_ERROR",payload:{field:e,value:r}}),N({type:"SET_ISVALIDATING",payload:!1})}))):(N({type:"SET_FIELD_ERROR",payload:{field:e,value:t}}),Promise.resolve(t))}return y.validationSchema?(N({type:"SET_ISVALIDATING",payload:!0}),q(j.values,e).then((function(e){return e})).then((function(r){N({type:"SET_FIELD_ERROR",payload:{field:e,value:A(r,e)}}),N({type:"SET_ISVALIDATING",payload:!1})}))):Promise.resolve()})),J=n.useCallback((function(e,r){V.current[e]={validate:r.validate}}),[]),Q=n.useCallback((function(e){delete V.current[e]}),[]),X=w((function(e,r){return N({type:"SET_TOUCHED",payload:e}),(void 0===r?u:r)?K(j.values):Promise.resolve()})),Z=n.useCallback((function(e){N({type:"SET_ERRORS",payload:e})}),[]),$=w((function(e,r){var t=S(e)?e(j.values):e;return N({type:"SET_VALUES",payload:t}),(void 0===r?a:r)?K(t):Promise.resolve()})),ee=n.useCallback((function(e,r){N({type:"SET_FIELD_ERROR",payload:{field:e,value:r}})}),[]),re=w((function(e,r,t){return N({type:"SET_FIELD_VALUE",payload:{field:e,value:r}}),(void 0===t?a:t)?K(_(j.values,e,r)):Promise.resolve()})),te=n.useCallback((function(e,r){var t,n=r,i=e;if(!b(e)){e.persist&&e.persist();var a=e.target?e.target:e.currentTarget,o=a.type,u=a.value,s=a.checked,l=a.options,c=a.multiple;n=r||a.name||a.id,i=/number|range/.test(o)?(t=parseFloat(u),isNaN(t)?"":t):/checkbox/.test(o)?function(e,r,t){if("boolean"==typeof e)return Boolean(r);var n=[],i=!1,a=-1;if(Array.isArray(e))n=e,i=(a=e.indexOf(t))>=0;else if(!t||"true"==t||"false"==t)return Boolean(r);return r&&t&&!i?n.concat(t):i?n.slice(0,a).concat(n.slice(a+1)):n}(A(j.values,n),s,u):l&&c?function(e){return Array.from(e).filter((function(e){return e.selected})).map((function(e){return e.value}))}(l):u}n&&re(n,i)}),[re,j.values]),ne=w((function(e){if(b(e))return function(r){return te(r,e)};te(e)})),ie=w((function(e,r,t){return void 0===r&&(r=!0),N({type:"SET_FIELD_TOUCHED",payload:{field:e,value:r}}),(void 0===t?u:t)?K(j.values):Promise.resolve()})),ae=n.useCallback((function(e,r){e.persist&&e.persist();var t=e.target;ie(r||t.name||t.id,!0)}),[ie]),oe=w((function(e){if(b(e))return function(r){return ae(r,e)};ae(e)})),ue=n.useCallback((function(e){S(e)?N({type:"SET_FORMIK_STATE",payload:e}):N({type:"SET_FORMIK_STATE",payload:function(){return e}})}),[]),se=n.useCallback((function(e){N({type:"SET_STATUS",payload:e})}),[]),le=n.useCallback((function(e){N({type:"SET_ISSUBMITTING",payload:e})}),[]),ce=w((function(){return N({type:"SUBMIT_ATTEMPT"}),K().then((function(e){var r=e instanceof Error;if(!r&&0===Object.keys(e).length){var t;try{if(void 0===(t=fe()))return}catch(e){throw e}return Promise.resolve(t).then((function(e){return P.current&&N({type:"SUBMIT_SUCCESS"}),e})).catch((function(e){if(P.current)throw N({type:"SUBMIT_FAILURE"}),e}))}if(P.current&&(N({type:"SUBMIT_FAILURE"}),r))throw e}))})),pe=w((function(e){e&&e.preventDefault&&S(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&S(e.stopPropagation)&&e.stopPropagation(),ce().catch((function(e){console.warn("Warning: An unhandled error was caught from submitForm()",e)}))})),de={resetForm:Y,validateForm:K,validateField:z,setErrors:Z,setFieldError:ee,setFieldTouched:ie,setFieldValue:re,setStatus:se,setSubmitting:le,setTouched:X,setValues:$,setFormikState:ue,submitForm:ce},fe=w((function(){return h(j.values,de)})),ve=w((function(e){e&&e.preventDefault&&S(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&S(e.stopPropagation)&&e.stopPropagation(),Y()})),he=n.useCallback((function(e){return{value:A(j.values,e),error:A(j.errors,e),touched:!!A(j.touched,e),initialValue:A(E.current,e),initialTouched:!!A(F.current,e),initialError:A(g.current,e)}}),[j.errors,j.touched,j.values]),me=n.useCallback((function(e){return{setValue:function(r,t){return re(e,r,t)},setTouched:function(r,t){return ie(e,r,t)},setError:function(r){return ee(e,r)}}}),[re,ie,ee]),ye=n.useCallback((function(e){var r=T(e),t=r?e.name:e,n=A(j.values,t),i={name:t,value:n,onChange:ne,onBlur:oe};if(r){var a=e.type,o=e.value,u=e.as,s=e.multiple;"checkbox"===a?void 0===o?i.checked=!!n:(i.checked=!(!Array.isArray(n)||!~n.indexOf(o)),i.value=o):"radio"===a?(i.checked=n===o,i.value=o):"select"===u&&s&&(i.value=i.value||[],i.multiple=!0)}return i}),[oe,ne,j.values]),Ee=n.useMemo((function(){return!i(E.current,j.values)}),[E.current,j.values]),Se=n.useMemo((function(){return void 0!==p?Ee?j.errors&&0===Object.keys(j.errors).length:!1!==p&&S(p)?p(y):p:j.errors&&0===Object.keys(j.errors).length}),[p,Ee,j.errors,y]);return c({},j,{initialValues:E.current,initialErrors:g.current,initialTouched:F.current,initialStatus:I.current,handleBlur:oe,handleChange:ne,handleReset:ve,handleSubmit:pe,resetForm:Y,setErrors:Z,setFormikState:ue,setFieldTouched:ie,setFieldValue:re,setFieldError:ee,setStatus:se,setSubmitting:le,setTouched:X,setValues:$,submitForm:ce,validateForm:K,validateField:z,isValid:Se,dirty:Ee,unregisterField:Q,registerField:J,getFieldProps:ye,getFieldMeta:he,getFieldHelpers:me,validateOnBlur:u,validateOnChange:a,validateOnMount:l})}function P(e){var r=I(e),t=e.component,i=e.children,a=e.render;return n.useImperativeHandle(e.innerRef,(function(){return r})),n.createElement(h,{value:r},t?n.createElement(t,r):a?a(r):i?S(i)?i(r):F(i)?null:n.Children.only(i):null)}function x(e){var r={};if(e.inner){if(0===e.inner.length)return _(r,e.path,e.message);var t=e.inner,n=Array.isArray(t),i=0;for(t=n?t:t[Symbol.iterator]();;){var a;if(n){if(i>=t.length)break;a=t[i++]}else{if((i=t.next()).done)break;a=i.value}var o=a;A(r,o.path)||(r=_(r,o.path,o.message))}}return r}function U(e,r,t,n){void 0===t&&(t=!1);var i=V(e);return r[t?"validateSync":"validate"](i,{abortEarly:!1,context:n||i})}function V(e){var r=Array.isArray(e)?[]:{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=String(n);r[i]=!0===Array.isArray(e[i])?e[i].map((function(e){return!0===Array.isArray(e)||t(e)?V(e):""!==e?e:void 0})):t(e[i])?V(e[i]):""!==e[i]?e[i]:void 0}return r}function D(e,t,n){var i=e.slice();return t.forEach((function(t,a){if(void 0===i[a]){var o=!1!==n.clone&&n.isMergeableObject(t);i[a]=o?r(Array.isArray(t)?[]:{},t,n):t}else n.isMergeableObject(t)?i[a]=r(e[a],t,n):-1===e.indexOf(t)&&i.push(t)})),i}var M="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?n.useLayoutEffect:n.useEffect;function w(e){var r=n.useRef(e);return M((function(){r.current=e})),n.useCallback((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.current.apply(void 0,t)}),[])}var L=n.forwardRef((function(e,r){var t=e.action,i=d(e,["action"]),a=null!=t?t:"#",o=y();return n.createElement("form",c({onSubmit:o.handleSubmit,ref:r,onReset:o.handleReset,action:a},i))}));function j(e){var r=function(r){return n.createElement(m,null,(function(t){return t||a(!1),n.createElement(e,c({},r,{formik:t}))}))},t=e.displayName||e.name||e.constructor&&e.constructor.name||"Component";return r.WrappedComponent=e,r.displayName="FormikConnect("+t+")",s(r,e)}L.displayName="Form";var N=function(e,r,t){var n=H(e),i=n[r];return n.splice(r,1),n.splice(t,0,i),n},B=function(e,r,t){var n=H(e),i=n[r];return n[r]=n[t],n[t]=i,n},q=function(e,r,t){var n=H(e);return n.splice(r,0,t),n},G=function(e,r,t){var n=H(e);return n[r]=t,n},H=function(e){if(e){if(Array.isArray(e))return[].concat(e);var r=Object.keys(e).map((function(e){return parseInt(e)})).reduce((function(e,r){return r>e?r:e}),0);return Array.from(c({},e,{length:r+1}))}return[]},W=function(e,r){var t="function"==typeof e?e:r;return function(e){if(Array.isArray(e)||T(e)){var r=H(e);return t(r)}return e}},K=function(e){function r(r){var t;return(t=e.call(this,r)||this).updateArrayField=function(e,r,n){var i=t.props,a=i.name;(0,i.formik.setFormikState)((function(t){var i=W(n,e),o=W(r,e),u=_(t.values,a,e(A(t.values,a))),s=n?i(A(t.errors,a)):void 0,l=r?o(A(t.touched,a)):void 0;return E(s)&&(s=void 0),E(l)&&(l=void 0),c({},t,{values:u,errors:n?_(t.errors,a,s):t.errors,touched:r?_(t.touched,a,l):t.touched})}))},t.push=function(e){return t.updateArrayField((function(r){return[].concat(H(r),[l(e)])}),!1,!1)},t.handlePush=function(e){return function(){return t.push(e)}},t.swap=function(e,r){return t.updateArrayField((function(t){return B(t,e,r)}),!0,!0)},t.handleSwap=function(e,r){return function(){return t.swap(e,r)}},t.move=function(e,r){return t.updateArrayField((function(t){return N(t,e,r)}),!0,!0)},t.handleMove=function(e,r){return function(){return t.move(e,r)}},t.insert=function(e,r){return t.updateArrayField((function(t){return q(t,e,r)}),(function(r){return q(r,e,null)}),(function(r){return q(r,e,null)}))},t.handleInsert=function(e,r){return function(){return t.insert(e,r)}},t.replace=function(e,r){return t.updateArrayField((function(t){return G(t,e,r)}),!1,!1)},t.handleReplace=function(e,r){return function(){return t.replace(e,r)}},t.unshift=function(e){var r=-1;return t.updateArrayField((function(t){var n=t?[e].concat(t):[e];return r=n.length,n}),(function(e){return e?[null].concat(e):[null]}),(function(e){return e?[null].concat(e):[null]})),r},t.handleUnshift=function(e){return function(){return t.unshift(e)}},t.handleRemove=function(e){return function(){return t.remove(e)}},t.handlePop=function(){return function(){return t.pop()}},t.remove=t.remove.bind(f(t)),t.pop=t.pop.bind(f(t)),t}p(r,e);var t=r.prototype;return t.componentDidUpdate=function(e){this.props.validateOnChange&&this.props.formik.validateOnChange&&!i(A(e.formik.values,e.name),A(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},t.remove=function(e){var r;return this.updateArrayField((function(t){var n=t?H(t):[];return r||(r=n[e]),S(n.splice)&&n.splice(e,1),S(n.every)&&n.every((function(e){return void 0===e}))?[]:n}),!0,!0),r},t.pop=function(){var e;return this.updateArrayField((function(r){var t=r.slice();return e||(e=t&&t.pop&&t.pop()),t}),!0,!0),e},t.render=function(){var e=this.props,r=e.component,t=e.render,i=e.children,a=e.name,o=c({},{push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},{form:d(e.formik,["validate","validationSchema"]),name:a});return r?n.createElement(r,o):t?t(o):i?"function"==typeof i?i(o):F(i)?null:n.Children.only(i):null},r}(n.Component);K.defaultProps={validateOnChange:!0};var Y=j(K),z=j(function(e){function r(){return e.apply(this,arguments)||this}p(r,e);var t=r.prototype;return t.shouldComponentUpdate=function(e){return A(this.props.formik.errors,this.props.name)!==A(e.formik.errors,this.props.name)||A(this.props.formik.touched,this.props.name)!==A(e.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(e).length},t.render=function(){var e=this.props,r=e.component,t=e.formik,i=e.render,a=e.children,o=e.name,u=d(e,["component","formik","render","children","name"]),s=A(t.touched,o),l=A(t.errors,o);return s&&l?i?S(i)?i(l):null:a?S(a)?a(l):null:r?n.createElement(r,u,l):l:null},r}(n.Component)),J=j(function(e){function r(r){var t;t=e.call(this,r)||this;var n=r.render,i=r.children,o=r.component,u=r.as;return n&&a(!1),o&&n&&a(!1),u&&i&&S(i)&&a(!1),o&&i&&S(i)&&a(!1),n&&i&&!F(i)&&a(!1),t}p(r,e);var t=r.prototype;return t.shouldComponentUpdate=function(e){return this.props.shouldUpdate?this.props.shouldUpdate(e,this.props):e.name!==this.props.name||A(e.formik.values,this.props.name)!==A(this.props.formik.values,this.props.name)||A(e.formik.errors,this.props.name)!==A(this.props.formik.errors,this.props.name)||A(e.formik.touched,this.props.name)!==A(this.props.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(e).length||e.formik.isSubmitting!==this.props.formik.isSubmitting},t.componentDidMount=function(){this.props.formik.registerField(this.props.name,{validate:this.props.validate})},t.componentDidUpdate=function(e){this.props.name!==e.name&&(this.props.formik.unregisterField(e.name),this.props.formik.registerField(this.props.name,{validate:this.props.validate})),this.props.validate!==e.validate&&this.props.formik.registerField(this.props.name,{validate:this.props.validate})},t.componentWillUnmount=function(){this.props.formik.unregisterField(this.props.name)},t.render=function(){var e=this.props,r=e.name,t=e.render,i=e.as,a=e.children,o=e.component,u=e.formik,s=d(e,["validate","name","render","as","children","component","shouldUpdate","formik"]),l=d(u,["validate","validationSchema"]),p=u.getFieldProps(c({name:r},s)),f={field:p,meta:{value:A(u.values,r),error:A(u.errors,r),touched:!!A(u.touched,r),initialValue:A(u.initialValues,r),initialTouched:!!A(u.initialTouched,r),initialError:A(u.initialErrors,r)},form:l};if(t)return t(f);if(S(a))return a(f);if(o){if("string"==typeof o){var v=s.innerRef,h=d(s,["innerRef"]);return n.createElement(o,c({ref:v},p,h),a)}return n.createElement(o,c({field:p,form:u},s),a)}var m=i||"input";if("string"==typeof m){var y=s.innerRef,E=d(s,["innerRef"]);return n.createElement(m,c({ref:y},p,E),a)}return n.createElement(m,c({},p,s),a)},r}(n.Component));exports.ErrorMessage=z,exports.FastField=J,exports.Field=function(e){var r=e.validate,t=e.name,i=e.render,a=e.children,o=e.as,u=e.component,s=d(e,["validate","name","render","children","as","component"]),l=d(y(),["validate","validationSchema"]),p=l.registerField,f=l.unregisterField;n.useEffect((function(){return p(t,{validate:r}),function(){f(t)}}),[p,f,t,r]);var v=l.getFieldProps(c({name:t},s)),h=l.getFieldMeta(t),m={field:v,form:l};if(i)return i(c({},m,{meta:h}));if(S(a))return a(c({},m,{meta:h}));if(u){if("string"==typeof u){var E=s.innerRef,T=d(s,["innerRef"]);return n.createElement(u,c({ref:E},v,T),a)}return n.createElement(u,c({field:v,form:l},s),a)}var g=o||"input";if("string"==typeof g){var b=s.innerRef,F=d(s,["innerRef"]);return n.createElement(g,c({ref:b},v,F),a)}return n.createElement(g,c({},v,s),a)},exports.FieldArray=Y,exports.Form=L,exports.Formik=P,exports.FormikConsumer=m,exports.FormikContext=v,exports.FormikProvider=h,exports.connect=j,exports.getActiveElement=function(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(r){return e.body}},exports.getIn=A,exports.insert=q,exports.isEmptyArray=E,exports.isEmptyChildren=F,exports.isFunction=S,exports.isInputEvent=function(e){return e&&T(e)&&T(e.target)},exports.isInteger=g,exports.isNaN=function(e){return e!=e},exports.isObject=T,exports.isPromise=k,exports.isString=b,exports.move=N,exports.prepareDataForValidation=V,exports.replace=G,exports.setIn=_,exports.setNestedObjectValues=R,exports.swap=B,exports.useField=function(e){var r=y(),t=r.getFieldProps,i=r.getFieldMeta,o=r.getFieldHelpers,u=r.registerField,s=r.unregisterField,l=T(e)?e:{name:e},c=l.name,p=l.validate;n.useEffect((function(){return c&&u(c,{validate:p}),function(){c&&s(c)}}),[u,s,c,p]),c||a(!1);var d=n.useMemo((function(){return o(c)}),[o,c]);return[t(l),i(c),d]},exports.useFormik=I,exports.useFormikContext=y,exports.validateYupSchema=U,exports.withFormik=function(e){var r=e.mapPropsToValues,t=void 0===r?function(e){var r={};for(var t in e)e.hasOwnProperty(t)&&"function"!=typeof e[t]&&(r[t]=e[t]);return r}:r,i=d(e,["mapPropsToValues"]);return function(e){var r=e.displayName||e.name||e.constructor&&e.constructor.name||"Component",a=function(r){function a(){for(var t,a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(t=r.call.apply(r,[this].concat(o))||this).validate=function(e){return i.validate(e,t.props)},t.validationSchema=function(){return S(i.validationSchema)?i.validationSchema(t.props):i.validationSchema},t.handleSubmit=function(e,r){return i.handleSubmit(e,c({},r,{props:t.props}))},t.renderFormComponent=function(r){return n.createElement(e,c({},t.props,r))},t}return p(a,r),a.prototype.render=function(){var e=d(this.props,["children"]);return n.createElement(P,c({},e,i,{validate:i.validate&&this.validate,validationSchema:i.validationSchema&&this.validationSchema,initialValues:t(this.props),initialStatus:i.mapPropsToStatus&&i.mapPropsToStatus(this.props),initialErrors:i.mapPropsToErrors&&i.mapPropsToErrors(this.props),initialTouched:i.mapPropsToTouched&&i.mapPropsToTouched(this.props),onSubmit:this.handleSubmit,children:this.renderFormComponent}))},a}(n.Component);return a.displayName="WithFormik("+r+")",s(a,e)}},exports.yupToFormErrors=x},function(module,exports,__webpack_require__){(function(global,factory){true?module.exports=factory():undefined})(this,(function(){"use strict";var isMergeableObject=function isMergeableObject(value){return isNonNullObject(value)&&!isSpecial(value)};function isNonNullObject(value){return!!value&&typeof value==="object"}function isSpecial(value){var stringValue=Object.prototype.toString.call(value);return stringValue==="[object RegExp]"||stringValue==="[object Date]"||isReactElement(value)}var canUseSymbol=typeof Symbol==="function"&&Symbol.for;var REACT_ELEMENT_TYPE=canUseSymbol?Symbol.for("react.element"):60103;function isReactElement(value){return value.$$typeof===REACT_ELEMENT_TYPE}function emptyTarget(val){return Array.isArray(val)?[]:{}}function cloneUnlessOtherwiseSpecified(value,options){return options.clone!==false&&options.isMergeableObject(value)?deepmerge(emptyTarget(value),value,options):value}function defaultArrayMerge(target,source,options){return target.concat(source).map((function(element){return cloneUnlessOtherwiseSpecified(element,options)}))}function mergeObject(target,source,options){var destination={};if(options.isMergeableObject(target)){Object.keys(target).forEach((function(key){destination[key]=cloneUnlessOtherwiseSpecified(target[key],options)}))}Object.keys(source).forEach((function(key){if(!options.isMergeableObject(source[key])||!target[key]){destination[key]=cloneUnlessOtherwiseSpecified(source[key],options)}else{destination[key]=deepmerge(target[key],source[key],options)}}));return destination}function deepmerge(target,source,options){options=options||{};options.arrayMerge=options.arrayMerge||defaultArrayMerge;options.isMergeableObject=options.isMergeableObject||isMergeableObject;var sourceIsArray=Array.isArray(source);var targetIsArray=Array.isArray(target);var sourceAndTargetTypesMatch=sourceIsArray===targetIsArray;if(!sourceAndTargetTypesMatch){return cloneUnlessOtherwiseSpecified(source,options)}else if(sourceIsArray){return options.arrayMerge(target,source,options)}else{return mergeObject(target,source,options)}}deepmerge.all=function deepmergeAll(array,options){if(!Array.isArray(array)){throw new Error("first argument should be an array")}return array.reduce((function(prev,next){return deepmerge(prev,next,options)}),{})};var deepmerge_1=deepmerge;return deepmerge_1}))},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(60);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var nativeObjectToString=objectProto.toString;var symToStringTag=Symbol?Symbol.toStringTag:undefined;function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=undefined;var unmasked=true}catch(e){}var result=nativeObjectToString.call(value);if(unmasked){if(isOwn){value[symToStringTag]=tag}else{delete value[symToStringTag]}}return result}module.exports=getRawTag},function(module,exports){var objectProto=Object.prototype;var nativeObjectToString=objectProto.toString;function objectToString(value){return nativeObjectToString.call(value)}module.exports=objectToString},function(module,exports,__webpack_require__){"use strict";var isArray=Array.isArray;var keyList=Object.keys;var hasProp=Object.prototype.hasOwnProperty;var hasElementType=typeof Element!=="undefined";function equal(a,b){if(a===b)return true;if(a&&b&&typeof a=="object"&&typeof b=="object"){var arrA=isArray(a),arrB=isArray(b),i,length,key;if(arrA&&arrB){length=a.length;if(length!=b.length)return false;for(i=length;i--!==0;)if(!equal(a[i],b[i]))return false;return true}if(arrA!=arrB)return false;var dateA=a instanceof Date,dateB=b instanceof Date;if(dateA!=dateB)return false;if(dateA&&dateB)return a.getTime()==b.getTime();var regexpA=a instanceof RegExp,regexpB=b instanceof RegExp;if(regexpA!=regexpB)return false;if(regexpA&&regexpB)return a.toString()==b.toString();var keys=keyList(a);length=keys.length;if(length!==keyList(b).length)return false;for(i=length;i--!==0;)if(!hasProp.call(b,keys[i]))return false;if(hasElementType&&a instanceof Element&&b instanceof Element)return a===b;for(i=length;i--!==0;){key=keys[i];if(key==="_owner"&&a.$$typeof){continue}else{if(!equal(a[key],b[key]))return false}}return true}return a!==a&&b!==b}module.exports=function exportedEqual(a,b){try{return equal(a,b)}catch(error){if(error.message&&error.message.match(/stack|recursion/i)||error.number===-2146828260){console.warn("Warning: react-fast-compare does not handle circular references.",error.name,error.message);return false}throw error}}},function(module,exports,__webpack_require__){"use strict";var isProduction="production"==="production";function warning(condition,message){if(!isProduction){if(condition){return}var text="Warning: "+message;if(typeof console!=="undefined"){console.warn(text)}try{throw Error(text)}catch(x){}}}module.exports=warning},function(module,exports){function listCacheClear(){this.__data__=[];this.size=0}module.exports=listCacheClear},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(73);var arrayProto=Array.prototype;var splice=arrayProto.splice;function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){return false}var lastIndex=data.length-1;if(index==lastIndex){data.pop()}else{splice.call(data,index,1)}--this.size;return true}module.exports=listCacheDelete},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(73);function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?undefined:data[index][1]}module.exports=listCacheGet},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(73);function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}module.exports=listCacheHas},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(73);function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){++this.size;data.push([key,value])}else{data[index][1]=value}return this}module.exports=listCacheSet},function(module,exports,__webpack_require__){var ListCache=__webpack_require__(72);function stackClear(){this.__data__=new ListCache;this.size=0}module.exports=stackClear},function(module,exports){function stackDelete(key){var data=this.__data__,result=data["delete"](key);this.size=data.size;return result}module.exports=stackDelete},function(module,exports){function stackGet(key){return this.__data__.get(key)}module.exports=stackGet},function(module,exports){function stackHas(key){return this.__data__.has(key)}module.exports=stackHas},function(module,exports,__webpack_require__){var ListCache=__webpack_require__(72),Map=__webpack_require__(113),MapCache=__webpack_require__(142);var LARGE_ARRAY_SIZE=200;function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1){pairs.push([key,value]);this.size=++data.size;return this}data=this.__data__=new MapCache(pairs)}data.set(key,value);this.size=data.size;return this}module.exports=stackSet},function(module,exports,__webpack_require__){var isFunction=__webpack_require__(135),isMasked=__webpack_require__(497),isObject=__webpack_require__(50),toSource=__webpack_require__(167);var reRegExpChar=/[\\^$.*+?()[\]{}|]/g;var reIsHostCtor=/^\[object .+?Constructor\]$/;var funcProto=Function.prototype,objectProto=Object.prototype;var funcToString=funcProto.toString;var hasOwnProperty=objectProto.hasOwnProperty;var reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(value){if(!isObject(value)||isMasked(value)){return false}var pattern=isFunction(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}module.exports=baseIsNative},function(module,exports,__webpack_require__){var coreJsData=__webpack_require__(498);var maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}();function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}module.exports=isMasked},function(module,exports,__webpack_require__){var root=__webpack_require__(33);var coreJsData=root["__core-js_shared__"];module.exports=coreJsData},function(module,exports){function getValue(object,key){return object==null?undefined:object[key]}module.exports=getValue},function(module,exports,__webpack_require__){var Hash=__webpack_require__(501),ListCache=__webpack_require__(72),Map=__webpack_require__(113);function mapCacheClear(){this.size=0;this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}module.exports=mapCacheClear},function(module,exports,__webpack_require__){var hashClear=__webpack_require__(502),hashDelete=__webpack_require__(503),hashGet=__webpack_require__(504),hashHas=__webpack_require__(505),hashSet=__webpack_require__(506);function Hash(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}Hash.prototype.clear=hashClear;Hash.prototype["delete"]=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;module.exports=Hash},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(74);function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{};this.size=0}module.exports=hashClear},function(module,exports){function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];this.size-=result?1:0;return result}module.exports=hashDelete},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(74);var HASH_UNDEFINED="__lodash_hash_undefined__";var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?undefined:result}return hasOwnProperty.call(data,key)?data[key]:undefined}module.exports=hashGet},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(74);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function hashHas(key){var data=this.__data__;return nativeCreate?data[key]!==undefined:hasOwnProperty.call(data,key)}module.exports=hashHas},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(74);var HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet(key,value){var data=this.__data__;this.size+=this.has(key)?0:1;data[key]=nativeCreate&&value===undefined?HASH_UNDEFINED:value;return this}module.exports=hashSet},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(75);function mapCacheDelete(key){var result=getMapData(this,key)["delete"](key);this.size-=result?1:0;return result}module.exports=mapCacheDelete},function(module,exports){function isKeyable(value){var type=typeof value;return type=="string"||type=="number"||type=="symbol"||type=="boolean"?value!=="__proto__":value===null}module.exports=isKeyable},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(75);function mapCacheGet(key){return getMapData(this,key).get(key)}module.exports=mapCacheGet},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(75);function mapCacheHas(key){return getMapData(this,key).has(key)}module.exports=mapCacheHas},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(75);function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;data.set(key,value);this.size+=data.size==size?0:1;return this}module.exports=mapCacheSet},function(module,exports){function baseTimes(n,iteratee){var index=-1,result=Array(n);while(++index<n){result[index]=iteratee(index)}return result}module.exports=baseTimes},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(43),isObjectLike=__webpack_require__(39);var argsTag="[object Arguments]";function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}module.exports=baseIsArguments},function(module,exports){function stubFalse(){return false}module.exports=stubFalse},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(43),isLength=__webpack_require__(144),isObjectLike=__webpack_require__(39);var argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]";var arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=false;function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}module.exports=baseIsTypedArray},function(module,exports,__webpack_require__){var overArg=__webpack_require__(166);var nativeKeys=overArg(Object.keys,Object);module.exports=nativeKeys},function(module,exports,__webpack_require__){var copyObject=__webpack_require__(61),keysIn=__webpack_require__(89);function baseAssignIn(object,source){return object&&copyObject(source,keysIn(source),object)}module.exports=baseAssignIn},function(module,exports,__webpack_require__){var isObject=__webpack_require__(50),isPrototype=__webpack_require__(115),nativeKeysIn=__webpack_require__(519);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function baseKeysIn(object){if(!isObject(object)){return nativeKeysIn(object)}var isProto=isPrototype(object),result=[];for(var key in object){if(!(key=="constructor"&&(isProto||!hasOwnProperty.call(object,key)))){result.push(key)}}return result}module.exports=baseKeysIn},function(module,exports){function nativeKeysIn(object){var result=[];if(object!=null){for(var key in Object(object)){result.push(key)}}return result}module.exports=nativeKeysIn},function(module,exports,__webpack_require__){var copyObject=__webpack_require__(61),getSymbols=__webpack_require__(116);function copySymbols(source,object){return copyObject(source,getSymbols(source),object)}module.exports=copySymbols},function(module,exports){function arrayFilter(array,predicate){var index=-1,length=array==null?0:array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(predicate(value,index,array)){result[resIndex++]=value}}return result}module.exports=arrayFilter},function(module,exports,__webpack_require__){var copyObject=__webpack_require__(61),getSymbolsIn=__webpack_require__(171);function copySymbolsIn(source,object){return copyObject(source,getSymbolsIn(source),object)}module.exports=copySymbolsIn},function(module,exports,__webpack_require__){var baseGetAllKeys=__webpack_require__(172),getSymbolsIn=__webpack_require__(171),keysIn=__webpack_require__(89);function getAllKeysIn(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}module.exports=getAllKeysIn},function(module,exports,__webpack_require__){var getNative=__webpack_require__(41),root=__webpack_require__(33);var DataView=getNative(root,"DataView");module.exports=DataView},function(module,exports,__webpack_require__){var getNative=__webpack_require__(41),root=__webpack_require__(33);var Promise=getNative(root,"Promise");module.exports=Promise},function(module,exports,__webpack_require__){var getNative=__webpack_require__(41),root=__webpack_require__(33);var Set=getNative(root,"Set");module.exports=Set},function(module,exports){var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function initCloneArray(array){var length=array.length,result=new array.constructor(length);if(length&&typeof array[0]=="string"&&hasOwnProperty.call(array,"index")){result.index=array.index;result.input=array.input}return result}module.exports=initCloneArray},function(module,exports,__webpack_require__){var cloneArrayBuffer=__webpack_require__(117),cloneDataView=__webpack_require__(529),cloneRegExp=__webpack_require__(530),cloneSymbol=__webpack_require__(531),cloneTypedArray=__webpack_require__(204);var boolTag="[object Boolean]",dateTag="[object Date]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]";var arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor(+object);case dataViewTag:return cloneDataView(object,isDeep);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return cloneTypedArray(object,isDeep);case mapTag:return new Ctor;case numberTag:case stringTag:return new Ctor(object);case regexpTag:return cloneRegExp(object);case setTag:return new Ctor;case symbolTag:return cloneSymbol(object)}}module.exports=initCloneByTag},function(module,exports,__webpack_require__){var cloneArrayBuffer=__webpack_require__(117);function cloneDataView(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}module.exports=cloneDataView},function(module,exports){var reFlags=/\w*$/;function cloneRegExp(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));result.lastIndex=regexp.lastIndex;return result}module.exports=cloneRegExp},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(60);var symbolProto=Symbol?Symbol.prototype:undefined,symbolValueOf=symbolProto?symbolProto.valueOf:undefined;function cloneSymbol(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}module.exports=cloneSymbol},function(module,exports,__webpack_require__){var baseIsMap=__webpack_require__(533),baseUnary=__webpack_require__(94),nodeUtil=__webpack_require__(114);var nodeIsMap=nodeUtil&&nodeUtil.isMap;var isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap;module.exports=isMap},function(module,exports,__webpack_require__){var getTag=__webpack_require__(90),isObjectLike=__webpack_require__(39);var mapTag="[object Map]";function baseIsMap(value){return isObjectLike(value)&&getTag(value)==mapTag}module.exports=baseIsMap},function(module,exports,__webpack_require__){var baseIsSet=__webpack_require__(535),baseUnary=__webpack_require__(94),nodeUtil=__webpack_require__(114);var nodeIsSet=nodeUtil&&nodeUtil.isSet;var isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet;module.exports=isSet},function(module,exports,__webpack_require__){var getTag=__webpack_require__(90),isObjectLike=__webpack_require__(39);var setTag="[object Set]";function baseIsSet(value){return isObjectLike(value)&&getTag(value)==setTag}module.exports=baseIsSet},function(module,exports,__webpack_require__){var memoize=__webpack_require__(537);var MAX_MEMOIZE_SIZE=500;function memoizeCapped(func){var result=memoize(func,(function(key){if(cache.size===MAX_MEMOIZE_SIZE){cache.clear()}return key}));var cache=result.cache;return result}module.exports=memoizeCapped},function(module,exports,__webpack_require__){var MapCache=__webpack_require__(142);var FUNC_ERROR_TEXT="Expected a function";function memoize(func,resolver){if(typeof func!="function"||resolver!=null&&typeof resolver!="function"){throw new TypeError(FUNC_ERROR_TEXT)}var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key)){return cache.get(key)}var result=func.apply(this,args);memoized.cache=cache.set(key,result)||cache;return result};memoized.cache=new(memoize.Cache||MapCache);return memoized}memoize.Cache=MapCache;module.exports=memoize},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(60),arrayMap=__webpack_require__(146),isArray=__webpack_require__(49),isSymbol=__webpack_require__(91);var INFINITY=1/0;var symbolProto=Symbol?Symbol.prototype:undefined,symbolToString=symbolProto?symbolProto.toString:undefined;function baseToString(value){if(typeof value=="string"){return value}if(isArray(value)){return arrayMap(value,baseToString)+""}if(isSymbol(value)){return symbolToString?symbolToString.call(value):""}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}module.exports=baseToString},function(module,exports,__webpack_require__){"use strict";var reactIs=__webpack_require__(540);var REACT_STATICS={childContextTypes:true,contextType:true,contextTypes:true,defaultProps:true,displayName:true,getDefaultProps:true,getDerivedStateFromError:true,getDerivedStateFromProps:true,mixins:true,propTypes:true,type:true};var KNOWN_STATICS={name:true,length:true,prototype:true,caller:true,callee:true,arguments:true,arity:true};var FORWARD_REF_STATICS={$$typeof:true,render:true,defaultProps:true,displayName:true,propTypes:true};var MEMO_STATICS={$$typeof:true,compare:true,defaultProps:true,displayName:true,propTypes:true,type:true};var TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;function getStatics(component){if(reactIs.isMemo(component)){return MEMO_STATICS}return TYPE_STATICS[component["$$typeof"]]||REACT_STATICS}var defineProperty=Object.defineProperty;var getOwnPropertyNames=Object.getOwnPropertyNames;var getOwnPropertySymbols=Object.getOwnPropertySymbols;var getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;var getPrototypeOf=Object.getPrototypeOf;var objectPrototype=Object.prototype;function hoistNonReactStatics(targetComponent,sourceComponent,blacklist){if(typeof sourceComponent!=="string"){if(objectPrototype){var inheritedComponent=getPrototypeOf(sourceComponent);if(inheritedComponent&&inheritedComponent!==objectPrototype){hoistNonReactStatics(targetComponent,inheritedComponent,blacklist)}}var keys=getOwnPropertyNames(sourceComponent);if(getOwnPropertySymbols){keys=keys.concat(getOwnPropertySymbols(sourceComponent))}var targetStatics=getStatics(targetComponent);var sourceStatics=getStatics(sourceComponent);for(var i=0;i<keys.length;++i){var key=keys[i];if(!KNOWN_STATICS[key]&&!(blacklist&&blacklist[key])&&!(sourceStatics&&sourceStatics[key])&&!(targetStatics&&targetStatics[key])){var descriptor=getOwnPropertyDescriptor(sourceComponent,key);try{defineProperty(targetComponent,key,descriptor)}catch(e){}}}}return targetComponent}module.exports=hoistNonReactStatics},function(module,exports,__webpack_require__){"use strict";if(true){module.exports=__webpack_require__(541)}else{}},function(module,exports,__webpack_require__){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b="function"===typeof Symbol&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e=b?Symbol.for("react.fragment"):60107,f=b?Symbol.for("react.strict_mode"):60108,g=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k=b?Symbol.for("react.context"):60110,l=b?Symbol.for("react.async_mode"):60111,m=b?Symbol.for("react.concurrent_mode"):60111,n=b?Symbol.for("react.forward_ref"):60112,p=b?Symbol.for("react.suspense"):60113,q=b?Symbol.for("react.suspense_list"):60120,r=b?Symbol.for("react.memo"):60115,t=b?Symbol.for("react.lazy"):60116,v=b?Symbol.for("react.block"):60121,w=b?Symbol.for("react.fundamental"):60117,x=b?Symbol.for("react.responder"):60118,y=b?Symbol.for("react.scope"):60119;function z(a){if("object"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}exports.AsyncMode=l;exports.ConcurrentMode=m;exports.ContextConsumer=k;exports.ContextProvider=h;exports.Element=c;exports.ForwardRef=n;exports.Fragment=e;exports.Lazy=t;exports.Memo=r;exports.Portal=d;exports.Profiler=g;exports.StrictMode=f;exports.Suspense=p;exports.isAsyncMode=function(a){return A(a)||z(a)===l};exports.isConcurrentMode=A;exports.isContextConsumer=function(a){return z(a)===k};exports.isContextProvider=function(a){return z(a)===h};exports.isElement=function(a){return"object"===typeof a&&null!==a&&a.$$typeof===c};exports.isForwardRef=function(a){return z(a)===n};exports.isFragment=function(a){return z(a)===e};exports.isLazy=function(a){return z(a)===t};exports.isMemo=function(a){return z(a)===r};exports.isPortal=function(a){return z(a)===d};exports.isProfiler=function(a){return z(a)===g};exports.isStrictMode=function(a){return z(a)===f};exports.isSuspense=function(a){return z(a)===p};exports.isValidElementType=function(a){return"string"===typeof a||"function"===typeof a||a===e||a===m||a===g||a===f||a===p||a===q||"object"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)};exports.typeOf=z},function(module,exports,__webpack_require__){var baseClone=__webpack_require__(141);var CLONE_DEEP_FLAG=1,CLONE_SYMBOLS_FLAG=4;function cloneDeep(value){return baseClone(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}module.exports=cloneDeep},function(module,exports,__webpack_require__){(function(global,factory){true?factory(exports):undefined})(this,(function(exports){"use strict";function accessor(fn,fields,name){fn.fields=fields||[];fn.fname=name;return fn}function accessorName(fn){return fn==null?null:fn.fname}function accessorFields(fn){return fn==null?null:fn.fields}function getter(path){return path.length===1?get1(path[0]):getN(path)}const get1=field=>function(obj){return obj[field]};const getN=path=>{const len=path.length;return function(obj){for(let i=0;i<len;++i){obj=obj[path[i]]}return obj}};function error(message){throw Error(message)}function splitAccessPath(p){const path=[],n=p.length;let q=null,b=0,s="",i,j,c;p=p+"";function push(){path.push(s+p.substring(i,j));s="";i=j+1}for(i=j=0;j<n;++j){c=p[j];if(c==="\\"){s+=p.substring(i,j);s+=p.substring(++j,++j);i=j}else if(c===q){push();q=null;b=-1}else if(q){continue}else if(i===b&&c==='"'){i=j+1;q=c}else if(i===b&&c==="'"){i=j+1;q=c}else if(c==="."&&!b){if(j>i){push()}else{i=j+1}}else if(c==="["){if(j>i)push();b=i=j+1}else if(c==="]"){if(!b)error("Access path missing open bracket: "+p);if(b>0)push();b=0;i=j+1}}if(b)error("Access path missing closing bracket: "+p);if(q)error("Access path missing closing quote: "+p);if(j>i){j++;push()}return path}function field(field,name,opt){const path=splitAccessPath(field);field=path.length===1?path[0]:field;return accessor((opt&&opt.get||getter)(path),[field],name||field)}const id=field("id");const identity=accessor(_=>_,[],"identity");const zero=accessor(()=>0,[],"zero");const one=accessor(()=>1,[],"one");const truthy=accessor(()=>true,[],"true");const falsy=accessor(()=>false,[],"false");function log$1(method,level,input){const args=[level].concat([].slice.call(input));console[method].apply(console,args)}const None=0;const Error$1=1;const Warn=2;const Info=3;const Debug=4;function logger(_,method,handler=log$1){let level=_||None;return{level(_){if(arguments.length){level=+_;return this}else{return level}},error(){if(level>=Error$1)handler(method||"error","ERROR",arguments);return this},warn(){if(level>=Warn)handler(method||"warn","WARN",arguments);return this},info(){if(level>=Info)handler(method||"log","INFO",arguments);return this},debug(){if(level>=Debug)handler(method||"log","DEBUG",arguments);return this}}}var isArray=Array.isArray;function isObject(_){return _===Object(_)}const isLegalKey=key=>key!=="__proto__";function mergeConfig(...configs){return configs.reduce((out,source)=>{for(const key in source){if(key==="signals"){out.signals=mergeNamed(out.signals,source.signals)}else{const r=key==="legend"?{layout:1}:key==="style"?true:null;writeConfig(out,key,source[key],r)}}return out},{})}function writeConfig(output,key,value,recurse){if(!isLegalKey(key))return;let k,o;if(isObject(value)&&!isArray(value)){o=isObject(output[key])?output[key]:output[key]={};for(k in value){if(recurse&&(recurse===true||recurse[k])){writeConfig(o,k,value[k])}else if(isLegalKey(k)){o[k]=value[k]}}}else{output[key]=value}}function mergeNamed(a,b){if(a==null)return b;const map={},out=[];function add(_){if(!map[_.name]){map[_.name]=1;out.push(_)}}b.forEach(add);a.forEach(add);return out}function peek(array){return array[array.length-1]}function toNumber(_){return _==null||_===""?null:+_}const exp=sign=>x=>sign*Math.exp(x);const log=sign=>x=>Math.log(sign*x);const symlog=c=>x=>Math.sign(x)*Math.log1p(Math.abs(x/c));const symexp=c=>x=>Math.sign(x)*Math.expm1(Math.abs(x))*c;const pow=exponent=>x=>x<0?-Math.pow(-x,exponent):Math.pow(x,exponent);function pan(domain,delta,lift,ground){const d0=lift(domain[0]),d1=lift(peek(domain)),dd=(d1-d0)*delta;return[ground(d0-dd),ground(d1-dd)]}function panLinear(domain,delta){return pan(domain,delta,toNumber,identity)}function panLog(domain,delta){var sign=Math.sign(domain[0]);return pan(domain,delta,log(sign),exp(sign))}function panPow(domain,delta,exponent){return pan(domain,delta,pow(exponent),pow(1/exponent))}function panSymlog(domain,delta,constant){return pan(domain,delta,symlog(constant),symexp(constant))}function zoom(domain,anchor,scale,lift,ground){const d0=lift(domain[0]),d1=lift(peek(domain)),da=anchor!=null?lift(anchor):(d0+d1)/2;return[ground(da+(d0-da)*scale),ground(da+(d1-da)*scale)]}function zoomLinear(domain,anchor,scale){return zoom(domain,anchor,scale,toNumber,identity)}function zoomLog(domain,anchor,scale){const sign=Math.sign(domain[0]);return zoom(domain,anchor,scale,log(sign),exp(sign))}function zoomPow(domain,anchor,scale,exponent){return zoom(domain,anchor,scale,pow(exponent),pow(1/exponent))}function zoomSymlog(domain,anchor,scale,constant){return zoom(domain,anchor,scale,symlog(constant),symexp(constant))}function quarter(date){return 1+~~(new Date(date).getMonth()/3)}function utcquarter(date){return 1+~~(new Date(date).getUTCMonth()/3)}function array(_){return _!=null?isArray(_)?_:[_]:[]}function clampRange(range,min,max){let lo=range[0],hi=range[1],span;if(hi<lo){span=hi;hi=lo;lo=span}span=hi-lo;return span>=max-min?[min,max]:[lo=Math.min(Math.max(lo,min),max-span),lo+span]}function isFunction(_){return typeof _==="function"}const DESCENDING="descending";function compare(fields,orders,opt){opt=opt||{};orders=array(orders)||[];const ord=[],get=[],fmap={},gen=opt.comparator||comparator;array(fields).forEach((f,i)=>{if(f==null)return;ord.push(orders[i]===DESCENDING?-1:1);get.push(f=isFunction(f)?f:field(f,null,opt));(accessorFields(f)||[]).forEach(_=>fmap[_]=1)});return get.length===0?null:accessor(gen(get,ord),Object.keys(fmap))}const ascending=(u,v)=>(u<v||u==null)&&v!=null?-1:(u>v||v==null)&&u!=null?1:(v=v instanceof Date?+v:v,u=u instanceof Date?+u:u)!==u&&v===v?-1:v!==v&&u===u?1:0;const comparator=(fields,orders)=>fields.length===1?compare1(fields[0],orders[0]):compareN(fields,orders,fields.length);const compare1=(field,order)=>function(a,b){return ascending(field(a),field(b))*order};const compareN=(fields,orders,n)=>{orders.push(0);return function(a,b){let f,c=0,i=-1;while(c===0&&++i<n){f=fields[i];c=ascending(f(a),f(b))}return c*orders[i]}};function constant(_){return isFunction(_)?_:()=>_}function debounce(delay,handler){let tid;return e=>{if(tid)clearTimeout(tid);tid=setTimeout(()=>(handler(e),tid=null),delay)}}function extend(_){for(let x,k,i=1,len=arguments.length;i<len;++i){x=arguments[i];for(k in x){_[k]=x[k]}}return _}function extent(array,f){let i=0,n,v,min,max;if(array&&(n=array.length)){if(f==null){for(v=array[i];i<n&&(v==null||v!==v);v=array[++i]);min=max=v;for(;i<n;++i){v=array[i];if(v!=null){if(v<min)min=v;if(v>max)max=v}}}else{for(v=f(array[i]);i<n&&(v==null||v!==v);v=f(array[++i]));min=max=v;for(;i<n;++i){v=f(array[i]);if(v!=null){if(v<min)min=v;if(v>max)max=v}}}}return[min,max]}function extentIndex(array,f){const n=array.length;let i=-1,a,b,c,u,v;if(f==null){while(++i<n){b=array[i];if(b!=null&&b>=b){a=c=b;break}}if(i===n)return[-1,-1];u=v=i;while(++i<n){b=array[i];if(b!=null){if(a>b){a=b;u=i}if(c<b){c=b;v=i}}}}else{while(++i<n){b=f(array[i],i,array);if(b!=null&&b>=b){a=c=b;break}}if(i===n)return[-1,-1];u=v=i;while(++i<n){b=f(array[i],i,array);if(b!=null){if(a>b){a=b;u=i}if(c<b){c=b;v=i}}}}return[u,v]}const hop=Object.prototype.hasOwnProperty;function has(object,property){return hop.call(object,property)}const NULL={};function fastmap(input){let obj={},test;function has$1(key){return has(obj,key)&&obj[key]!==NULL}const map={size:0,empty:0,object:obj,has:has$1,get(key){return has$1(key)?obj[key]:undefined},set(key,value){if(!has$1(key)){++map.size;if(obj[key]===NULL)--map.empty}obj[key]=value;return this},delete(key){if(has$1(key)){--map.size;++map.empty;obj[key]=NULL}return this},clear(){map.size=map.empty=0;map.object=obj={}},test(_){if(arguments.length){test=_;return map}else{return test}},clean(){const next={};let size=0;for(const key in obj){const value=obj[key];if(value!==NULL&&(!test||!test(value))){next[key]=value;++size}}map.size=size;map.empty=0;map.object=obj=next}};if(input)Object.keys(input).forEach(key=>{map.set(key,input[key])});return map}function flush(range,value,threshold,left,right,center){if(!threshold&&threshold!==0)return center;const t=+threshold;let a=range[0],b=peek(range),l;if(b<a){l=a;a=b;b=l}l=Math.abs(value-a);const r=Math.abs(b-value);return l<r&&l<=t?left:r<=t?right:center}function inherits(child,parent,members){const proto=child.prototype=Object.create(parent.prototype);Object.defineProperty(proto,"constructor",{value:child,writable:true,enumerable:true,configurable:true});return extend(proto,members)}function inrange(value,range,left,right){let r0=range[0],r1=range[range.length-1],t;if(r0>r1){t=r0;r0=r1;r1=t}left=left===undefined||left;right=right===undefined||right;return(left?r0<=value:r0<value)&&(right?value<=r1:value<r1)}function isBoolean(_){return typeof _==="boolean"}function isDate(_){return Object.prototype.toString.call(_)==="[object Date]"}function isIterable(_){return _&&isFunction(_[Symbol.iterator])}function isNumber(_){return typeof _==="number"}function isRegExp(_){return Object.prototype.toString.call(_)==="[object RegExp]"}function isString(_){return typeof _==="string"}function key(fields,flat,opt){if(fields){fields=flat?array(fields).map(f=>f.replace(/\\(.)/g,"$1")):array(fields)}const len=fields&&fields.length,gen=opt&&opt.get||getter,map=f=>gen(flat?[f]:splitAccessPath(f));let fn;if(!len){fn=function(){return""}}else if(len===1){const get=map(fields[0]);fn=function(_){return""+get(_)}}else{const get=fields.map(map);fn=function(_){let s=""+get[0](_),i=0;while(++i<len)s+="|"+get[i](_);return s}}return accessor(fn,fields,"key")}function lerp(array,frac){const lo=array[0],hi=peek(array),f=+frac;return!f?lo:f===1?hi:lo+f*(hi-lo)}const DEFAULT_MAX_SIZE=1e4;function lruCache(maxsize){maxsize=+maxsize||DEFAULT_MAX_SIZE;let curr,prev,size;const clear=()=>{curr={};prev={};size=0};const update=(key,value)=>{if(++size>maxsize){prev=curr;curr={};size=1}return curr[key]=value};clear();return{clear:clear,has:key=>has(curr,key)||has(prev,key),get:key=>has(curr,key)?curr[key]:has(prev,key)?update(key,prev[key]):undefined,set:(key,value)=>has(curr,key)?curr[key]=value:update(key,value)}}function merge(compare,array0,array1,output){const n0=array0.length,n1=array1.length;if(!n1)return array0;if(!n0)return array1;const merged=output||new array0.constructor(n0+n1);let i0=0,i1=0,i=0;for(;i0<n0&&i1<n1;++i){merged[i]=compare(array0[i0],array1[i1])>0?array1[i1++]:array0[i0++]}for(;i0<n0;++i0,++i){merged[i]=array0[i0]}for(;i1<n1;++i1,++i){merged[i]=array1[i1]}return merged}function repeat(str,reps){let s="";while(--reps>=0)s+=str;return s}function pad(str,length,padchar,align){const c=padchar||" ",s=str+"",n=length-s.length;return n<=0?s:align==="left"?repeat(c,n)+s:align==="center"?repeat(c,~~(n/2))+s+repeat(c,Math.ceil(n/2)):s+repeat(c,n)}function span(array){return array&&peek(array)-array[0]||0}function $(x){return isArray(x)?"["+x.map($)+"]":isObject(x)||isString(x)?JSON.stringify(x).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):x}function toBoolean(_){return _==null||_===""?null:!_||_==="false"||_==="0"?false:!!_}const defaultParser=_=>isNumber(_)?_:isDate(_)?_:Date.parse(_);function toDate(_,parser){parser=parser||defaultParser;return _==null||_===""?null:parser(_)}function toString(_){return _==null||_===""?null:_+""}function toSet(_){const s={},n=_.length;for(let i=0;i<n;++i)s[_[i]]=true;return s}function truncate(str,length,align,ellipsis){const e=ellipsis!=null?ellipsis:"",s=str+"",n=s.length,l=Math.max(0,length-e.length);return n<=length?s:align==="left"?e+s.slice(n-l):align==="center"?s.slice(0,Math.ceil(l/2))+e+s.slice(n-~~(l/2)):s.slice(0,l)+e}function visitArray(array,filter,visitor){if(array){if(filter){const n=array.length;for(let i=0;i<n;++i){const t=filter(array[i]);if(t)visitor(t,i,array)}}else{array.forEach(visitor)}}}exports.Debug=Debug;exports.Error=Error$1;exports.Info=Info;exports.None=None;exports.Warn=Warn;exports.accessor=accessor;exports.accessorFields=accessorFields;exports.accessorName=accessorName;exports.array=array;exports.ascending=ascending;exports.clampRange=clampRange;exports.compare=compare;exports.constant=constant;exports.debounce=debounce;exports.error=error;exports.extend=extend;exports.extent=extent;exports.extentIndex=extentIndex;exports.falsy=falsy;exports.fastmap=fastmap;exports.field=field;exports.flush=flush;exports.hasOwnProperty=has;exports.id=id;exports.identity=identity;exports.inherits=inherits;exports.inrange=inrange;exports.isArray=isArray;exports.isBoolean=isBoolean;exports.isDate=isDate;exports.isFunction=isFunction;exports.isIterable=isIterable;exports.isNumber=isNumber;exports.isObject=isObject;exports.isRegExp=isRegExp;exports.isString=isString;exports.key=key;exports.lerp=lerp;exports.logger=logger;exports.lruCache=lruCache;exports.merge=merge;exports.mergeConfig=mergeConfig;exports.one=one;exports.pad=pad;exports.panLinear=panLinear;exports.panLog=panLog;exports.panPow=panPow;exports.panSymlog=panSymlog;exports.peek=peek;exports.quarter=quarter;exports.repeat=repeat;exports.span=span;exports.splitAccessPath=splitAccessPath;exports.stringValue=$;exports.toBoolean=toBoolean;exports.toDate=toDate;exports.toNumber=toNumber;exports.toSet=toSet;exports.toString=toString;exports.truncate=truncate;exports.truthy=truthy;exports.utcquarter=utcquarter;exports.visitArray=visitArray;exports.writeConfig=writeConfig;exports.zero=zero;exports.zoomLinear=zoomLinear;exports.zoomLog=zoomLog;exports.zoomPow=zoomPow;exports.zoomSymlog=zoomSymlog}))},function(module,exports,__webpack_require__){(function(global,process){(function(global,undefined){"use strict";if(global.setImmediate){return}var nextHandle=1;var tasksByHandle={};var currentlyRunningATask=false;var doc=global.document;var registerImmediate;function setImmediate(callback){if(typeof callback!=="function"){callback=new Function(""+callback)}var args=new Array(arguments.length-1);for(var i=0;i<args.length;i++){args[i]=arguments[i+1]}var task={callback:callback,args:args};tasksByHandle[nextHandle]=task;registerImmediate(nextHandle);return nextHandle++}function clearImmediate(handle){delete tasksByHandle[handle]}function run(task){var callback=task.callback;var args=task.args;switch(args.length){case 0:callback();break;case 1:callback(args[0]);break;case 2:callback(args[0],args[1]);break;case 3:callback(args[0],args[1],args[2]);break;default:callback.apply(undefined,args);break}}function runIfPresent(handle){if(currentlyRunningATask){setTimeout(runIfPresent,0,handle)}else{var task=tasksByHandle[handle];if(task){currentlyRunningATask=true;try{run(task)}finally{clearImmediate(handle);currentlyRunningATask=false}}}}function installNextTickImplementation(){registerImmediate=function(handle){process.nextTick((function(){runIfPresent(handle)}))}}function canUsePostMessage(){if(global.postMessage&&!global.importScripts){var postMessageIsAsynchronous=true;var oldOnMessage=global.onmessage;global.onmessage=function(){postMessageIsAsynchronous=false};global.postMessage("","*");global.onmessage=oldOnMessage;return postMessageIsAsynchronous}}function installPostMessageImplementation(){var messagePrefix="setImmediate$"+Math.random()+"$";var onGlobalMessage=function(event){if(event.source===global&&typeof event.data==="string"&&event.data.indexOf(messagePrefix)===0){runIfPresent(+event.data.slice(messagePrefix.length))}};if(global.addEventListener){global.addEventListener("message",onGlobalMessage,false)}else{global.attachEvent("onmessage",onGlobalMessage)}registerImmediate=function(handle){global.postMessage(messagePrefix+handle,"*")}}function installMessageChannelImplementation(){var channel=new MessageChannel;channel.port1.onmessage=function(event){var handle=event.data;runIfPresent(handle)};registerImmediate=function(handle){channel.port2.postMessage(handle)}}function installReadyStateChangeImplementation(){var html=doc.documentElement;registerImmediate=function(handle){var script=doc.createElement("script");script.onreadystatechange=function(){runIfPresent(handle);script.onreadystatechange=null;html.removeChild(script);script=null};html.appendChild(script)}}function installSetTimeoutImplementation(){registerImmediate=function(handle){setTimeout(runIfPresent,0,handle)}}var attachTo=Object.getPrototypeOf&&Object.getPrototypeOf(global);attachTo=attachTo&&attachTo.setTimeout?attachTo:global;if({}.toString.call(global.process)==="[object process]"){installNextTickImplementation()}else if(canUsePostMessage()){installPostMessageImplementation()}else if(global.MessageChannel){installMessageChannelImplementation()}else if(doc&&"onreadystatechange"in doc.createElement("script")){installReadyStateChangeImplementation()}else{installSetTimeoutImplementation()}attachTo.setImmediate=setImmediate;attachTo.clearImmediate=clearImmediate})(typeof self==="undefined"?typeof global==="undefined"?this:global:self)}).call(this,__webpack_require__(35),__webpack_require__(59))},function(module,exports,__webpack_require__){const parse=__webpack_require__(47);const valid=(version,options)=>{const v=parse(version,options);return v?v.version:null};module.exports=valid},function(module,exports,__webpack_require__){const parse=__webpack_require__(47);const clean=(version,options)=>{const s=parse(version.trim().replace(/^[=v]+/,""),options);return s?s.version:null};module.exports=clean},function(module,exports,__webpack_require__){const SemVer=__webpack_require__(24);const inc=(version,release,options,identifier,identifierBase)=>{if(typeof options==="string"){identifierBase=identifier;identifier=options;options=undefined}try{return new SemVer(version instanceof SemVer?version.version:version,options).inc(release,identifier,identifierBase).version}catch(er){return null}};module.exports=inc},function(module,exports,__webpack_require__){const parse=__webpack_require__(47);const diff=(version1,version2)=>{const v1=parse(version1,null,true);const v2=parse(version2,null,true);const comparison=v1.compare(v2);if(comparison===0){return null}const v1Higher=comparison>0;const highVersion=v1Higher?v1:v2;const lowVersion=v1Higher?v2:v1;const highHasPre=!!highVersion.prerelease.length;const lowHasPre=!!lowVersion.prerelease.length;if(lowHasPre&&!highHasPre){if(!lowVersion.patch&&!lowVersion.minor){return"major"}if(highVersion.patch){return"patch"}if(highVersion.minor){return"minor"}return"major"}const prefix=highHasPre?"pre":"";if(v1.major!==v2.major){return prefix+"major"}if(v1.minor!==v2.minor){return prefix+"minor"}if(v1.patch!==v2.patch){return prefix+"patch"}return"prerelease"};module.exports=diff},function(module,exports,__webpack_require__){const SemVer=__webpack_require__(24);const major=(a,loose)=>new SemVer(a,loose).major;module.exports=major},function(module,exports,__webpack_require__){const SemVer=__webpack_require__(24);const minor=(a,loose)=>new SemVer(a,loose).minor;module.exports=minor},function(module,exports,__webpack_require__){const SemVer=__webpack_require__(24);const patch=(a,loose)=>new SemVer(a,loose).patch;module.exports=patch},function(module,exports,__webpack_require__){const parse=__webpack_require__(47);const prerelease=(version,options)=>{const parsed=parse(version,options);return parsed&&parsed.prerelease.length?parsed.prerelease:null};module.exports=prerelease},function(module,exports,__webpack_require__){const compare=__webpack_require__(30);const rcompare=(a,b,loose)=>compare(b,a,loose);module.exports=rcompare},function(module,exports,__webpack_require__){const compare=__webpack_require__(30);const compareLoose=(a,b)=>compare(a,b,true);module.exports=compareLoose},function(module,exports,__webpack_require__){const compareBuild=__webpack_require__(119);const sort=(list,loose)=>list.sort((a,b)=>compareBuild(a,b,loose));module.exports=sort},function(module,exports,__webpack_require__){const compareBuild=__webpack_require__(119);const rsort=(list,loose)=>list.sort((a,b)=>compareBuild(b,a,loose));module.exports=rsort},function(module,exports,__webpack_require__){const SemVer=__webpack_require__(24);const parse=__webpack_require__(47);const{safeRe:re,t:t}=__webpack_require__(56);const coerce=(version,options)=>{if(version instanceof SemVer){return version}if(typeof version==="number"){version=String(version)}if(typeof version!=="string"){return null}options=options||{};let match=null;if(!options.rtl){match=version.match(options.includePrerelease?re[t.COERCEFULL]:re[t.COERCE])}else{const coerceRtlRegex=options.includePrerelease?re[t.COERCERTLFULL]:re[t.COERCERTL];let next;while((next=coerceRtlRegex.exec(version))&&(!match||match.index+match[0].length!==version.length)){if(!match||next.index+next[0].length!==match.index+match[0].length){match=next}coerceRtlRegex.lastIndex=next.index+next[1].length+next[2].length}coerceRtlRegex.lastIndex=-1}if(match===null){return null}const major=match[2];const minor=match[3]||"0";const patch=match[4]||"0";const prerelease=options.includePrerelease&&match[5]?`-${match[5]}`:"";const build=options.includePrerelease&&match[6]?`+${match[6]}`:"";return parse(`${major}.${minor}.${patch}${prerelease}${build}`,options)};module.exports=coerce},function(module,exports,__webpack_require__){"use strict";const Yallist=__webpack_require__(559);const MAX=Symbol("max");const LENGTH=Symbol("length");const LENGTH_CALCULATOR=Symbol("lengthCalculator");const ALLOW_STALE=Symbol("allowStale");const MAX_AGE=Symbol("maxAge");const DISPOSE=Symbol("dispose");const NO_DISPOSE_ON_SET=Symbol("noDisposeOnSet");const LRU_LIST=Symbol("lruList");const CACHE=Symbol("cache");const UPDATE_AGE_ON_GET=Symbol("updateAgeOnGet");const naiveLength=()=>1;class LRUCache{constructor(options){if(typeof options==="number")options={max:options};if(!options)options={};if(options.max&&(typeof options.max!=="number"||options.max<0))throw new TypeError("max must be a non-negative number");const max=this[MAX]=options.max||Infinity;const lc=options.length||naiveLength;this[LENGTH_CALCULATOR]=typeof lc!=="function"?naiveLength:lc;this[ALLOW_STALE]=options.stale||false;if(options.maxAge&&typeof options.maxAge!=="number")throw new TypeError("maxAge must be a number");this[MAX_AGE]=options.maxAge||0;this[DISPOSE]=options.dispose;this[NO_DISPOSE_ON_SET]=options.noDisposeOnSet||false;this[UPDATE_AGE_ON_GET]=options.updateAgeOnGet||false;this.reset()}set max(mL){if(typeof mL!=="number"||mL<0)throw new TypeError("max must be a non-negative number");this[MAX]=mL||Infinity;trim(this)}get max(){return this[MAX]}set allowStale(allowStale){this[ALLOW_STALE]=!!allowStale}get allowStale(){return this[ALLOW_STALE]}set maxAge(mA){if(typeof mA!=="number")throw new TypeError("maxAge must be a non-negative number");this[MAX_AGE]=mA;trim(this)}get maxAge(){return this[MAX_AGE]}set lengthCalculator(lC){if(typeof lC!=="function")lC=naiveLength;if(lC!==this[LENGTH_CALCULATOR]){this[LENGTH_CALCULATOR]=lC;this[LENGTH]=0;this[LRU_LIST].forEach(hit=>{hit.length=this[LENGTH_CALCULATOR](hit.value,hit.key);this[LENGTH]+=hit.length})}trim(this)}get lengthCalculator(){return this[LENGTH_CALCULATOR]}get length(){return this[LENGTH]}get itemCount(){return this[LRU_LIST].length}rforEach(fn,thisp){thisp=thisp||this;for(let walker=this[LRU_LIST].tail;walker!==null;){const prev=walker.prev;forEachStep(this,fn,walker,thisp);walker=prev}}forEach(fn,thisp){thisp=thisp||this;for(let walker=this[LRU_LIST].head;walker!==null;){const next=walker.next;forEachStep(this,fn,walker,thisp);walker=next}}keys(){return this[LRU_LIST].toArray().map(k=>k.key)}values(){return this[LRU_LIST].toArray().map(k=>k.value)}reset(){if(this[DISPOSE]&&this[LRU_LIST]&&this[LRU_LIST].length){this[LRU_LIST].forEach(hit=>this[DISPOSE](hit.key,hit.value))}this[CACHE]=new Map;this[LRU_LIST]=new Yallist;this[LENGTH]=0}dump(){return this[LRU_LIST].map(hit=>isStale(this,hit)?false:{k:hit.key,v:hit.value,e:hit.now+(hit.maxAge||0)}).toArray().filter(h=>h)}dumpLru(){return this[LRU_LIST]}set(key,value,maxAge){maxAge=maxAge||this[MAX_AGE];if(maxAge&&typeof maxAge!=="number")throw new TypeError("maxAge must be a number");const now=maxAge?Date.now():0;const len=this[LENGTH_CALCULATOR](value,key);if(this[CACHE].has(key)){if(len>this[MAX]){del(this,this[CACHE].get(key));return false}const node=this[CACHE].get(key);const item=node.value;if(this[DISPOSE]){if(!this[NO_DISPOSE_ON_SET])this[DISPOSE](key,item.value)}item.now=now;item.maxAge=maxAge;item.value=value;this[LENGTH]+=len-item.length;item.length=len;this.get(key);trim(this);return true}const hit=new Entry(key,value,len,now,maxAge);if(hit.length>this[MAX]){if(this[DISPOSE])this[DISPOSE](key,value);return false}this[LENGTH]+=hit.length;this[LRU_LIST].unshift(hit);this[CACHE].set(key,this[LRU_LIST].head);trim(this);return true}has(key){if(!this[CACHE].has(key))return false;const hit=this[CACHE].get(key).value;return!isStale(this,hit)}get(key){return get(this,key,true)}peek(key){return get(this,key,false)}pop(){const node=this[LRU_LIST].tail;if(!node)return null;del(this,node);return node.value}del(key){del(this,this[CACHE].get(key))}load(arr){this.reset();const now=Date.now();for(let l=arr.length-1;l>=0;l--){const hit=arr[l];const expiresAt=hit.e||0;if(expiresAt===0)this.set(hit.k,hit.v);else{const maxAge=expiresAt-now;if(maxAge>0){this.set(hit.k,hit.v,maxAge)}}}}prune(){this[CACHE].forEach((value,key)=>get(this,key,false))}}const get=(self,key,doUse)=>{const node=self[CACHE].get(key);if(node){const hit=node.value;if(isStale(self,hit)){del(self,node);if(!self[ALLOW_STALE])return undefined}else{if(doUse){if(self[UPDATE_AGE_ON_GET])node.value.now=Date.now();self[LRU_LIST].unshiftNode(node)}}return hit.value}};const isStale=(self,hit)=>{if(!hit||!hit.maxAge&&!self[MAX_AGE])return false;const diff=Date.now()-hit.now;return hit.maxAge?diff>hit.maxAge:self[MAX_AGE]&&diff>self[MAX_AGE]};const trim=self=>{if(self[LENGTH]>self[MAX]){for(let walker=self[LRU_LIST].tail;self[LENGTH]>self[MAX]&&walker!==null;){const prev=walker.prev;del(self,walker);walker=prev}}};const del=(self,node)=>{if(node){const hit=node.value;if(self[DISPOSE])self[DISPOSE](hit.key,hit.value);self[LENGTH]-=hit.length;self[CACHE].delete(hit.key);self[LRU_LIST].removeNode(node)}};class Entry{constructor(key,value,length,now,maxAge){this.key=key;this.value=value;this.length=length;this.now=now;this.maxAge=maxAge||0}}const forEachStep=(self,fn,node,thisp)=>{let hit=node.value;if(isStale(self,hit)){del(self,node);if(!self[ALLOW_STALE])hit=undefined}if(hit)fn.call(thisp,hit.value,hit.key,self)};module.exports=LRUCache},function(module,exports,__webpack_require__){"use strict";module.exports=Yallist;Yallist.Node=Node;Yallist.create=Yallist;function Yallist(list){var self=this;if(!(self instanceof Yallist)){self=new Yallist}self.tail=null;self.head=null;self.length=0;if(list&&typeof list.forEach==="function"){list.forEach((function(item){self.push(item)}))}else if(arguments.length>0){for(var i=0,l=arguments.length;i<l;i++){self.push(arguments[i])}}return self}Yallist.prototype.removeNode=function(node){if(node.list!==this){throw new Error("removing node which does not belong to this list")}var next=node.next;var prev=node.prev;if(next){next.prev=prev}if(prev){prev.next=next}if(node===this.head){this.head=next}if(node===this.tail){this.tail=prev}node.list.length--;node.next=null;node.prev=null;node.list=null;return next};Yallist.prototype.unshiftNode=function(node){if(node===this.head){return}if(node.list){node.list.removeNode(node)}var head=this.head;node.list=this;node.next=head;if(head){head.prev=node}this.head=node;if(!this.tail){this.tail=node}this.length++};Yallist.prototype.pushNode=function(node){if(node===this.tail){return}if(node.list){node.list.removeNode(node)}var tail=this.tail;node.list=this;node.prev=tail;if(tail){tail.next=node}this.tail=node;if(!this.head){this.head=node}this.length++};Yallist.prototype.push=function(){for(var i=0,l=arguments.length;i<l;i++){push(this,arguments[i])}return this.length};Yallist.prototype.unshift=function(){for(var i=0,l=arguments.length;i<l;i++){unshift(this,arguments[i])}return this.length};Yallist.prototype.pop=function(){if(!this.tail){return undefined}var res=this.tail.value;this.tail=this.tail.prev;if(this.tail){this.tail.next=null}else{this.head=null}this.length--;return res};Yallist.prototype.shift=function(){if(!this.head){return undefined}var res=this.head.value;this.head=this.head.next;if(this.head){this.head.prev=null}else{this.tail=null}this.length--;return res};Yallist.prototype.forEach=function(fn,thisp){thisp=thisp||this;for(var walker=this.head,i=0;walker!==null;i++){fn.call(thisp,walker.value,i,this);walker=walker.next}};Yallist.prototype.forEachReverse=function(fn,thisp){thisp=thisp||this;for(var walker=this.tail,i=this.length-1;walker!==null;i--){fn.call(thisp,walker.value,i,this);walker=walker.prev}};Yallist.prototype.get=function(n){for(var i=0,walker=this.head;walker!==null&&i<n;i++){walker=walker.next}if(i===n&&walker!==null){return walker.value}};Yallist.prototype.getReverse=function(n){for(var i=0,walker=this.tail;walker!==null&&i<n;i++){walker=walker.prev}if(i===n&&walker!==null){return walker.value}};Yallist.prototype.map=function(fn,thisp){thisp=thisp||this;var res=new Yallist;for(var walker=this.head;walker!==null;){res.push(fn.call(thisp,walker.value,this));walker=walker.next}return res};Yallist.prototype.mapReverse=function(fn,thisp){thisp=thisp||this;var res=new Yallist;for(var walker=this.tail;walker!==null;){res.push(fn.call(thisp,walker.value,this));walker=walker.prev}return res};Yallist.prototype.reduce=function(fn,initial){var acc;var walker=this.head;if(arguments.length>1){acc=initial}else if(this.head){walker=this.head.next;acc=this.head.value}else{throw new TypeError("Reduce of empty list with no initial value")}for(var i=0;walker!==null;i++){acc=fn(acc,walker.value,i);walker=walker.next}return acc};Yallist.prototype.reduceReverse=function(fn,initial){var acc;var walker=this.tail;if(arguments.length>1){acc=initial}else if(this.tail){walker=this.tail.prev;acc=this.tail.value}else{throw new TypeError("Reduce of empty list with no initial value")}for(var i=this.length-1;walker!==null;i--){acc=fn(acc,walker.value,i);walker=walker.prev}return acc};Yallist.prototype.toArray=function(){var arr=new Array(this.length);for(var i=0,walker=this.head;walker!==null;i++){arr[i]=walker.value;walker=walker.next}return arr};Yallist.prototype.toArrayReverse=function(){var arr=new Array(this.length);for(var i=0,walker=this.tail;walker!==null;i++){arr[i]=walker.value;walker=walker.prev}return arr};Yallist.prototype.slice=function(from,to){to=to||this.length;if(to<0){to+=this.length}from=from||0;if(from<0){from+=this.length}var ret=new Yallist;if(to<from||to<0){return ret}if(from<0){from=0}if(to>this.length){to=this.length}for(var i=0,walker=this.head;walker!==null&&i<from;i++){walker=walker.next}for(;walker!==null&&i<to;i++,walker=walker.next){ret.push(walker.value)}return ret};Yallist.prototype.sliceReverse=function(from,to){to=to||this.length;if(to<0){to+=this.length}from=from||0;if(from<0){from+=this.length}var ret=new Yallist;if(to<from||to<0){return ret}if(from<0){from=0}if(to>this.length){to=this.length}for(var i=this.length,walker=this.tail;walker!==null&&i>to;i--){walker=walker.prev}for(;walker!==null&&i>from;i--,walker=walker.prev){ret.push(walker.value)}return ret};Yallist.prototype.splice=function(start,deleteCount,...nodes){if(start>this.length){start=this.length-1}if(start<0){start=this.length+start}for(var i=0,walker=this.head;walker!==null&&i<start;i++){walker=walker.next}var ret=[];for(var i=0;walker&&i<deleteCount;i++){ret.push(walker.value);walker=this.removeNode(walker)}if(walker===null){walker=this.tail}if(walker!==this.head&&walker!==this.tail){walker=walker.prev}for(var i=0;i<nodes.length;i++){walker=insert(this,walker,nodes[i])}return ret};Yallist.prototype.reverse=function(){var head=this.head;var tail=this.tail;for(var walker=head;walker!==null;walker=walker.prev){var p=walker.prev;walker.prev=walker.next;walker.next=p}this.head=tail;this.tail=head;return this};function insert(self,node,value){var inserted=node===self.head?new Node(value,null,node,self):new Node(value,node,node.next,self);if(inserted.next===null){self.tail=inserted}if(inserted.prev===null){self.head=inserted}self.length++;return inserted}function push(self,item){self.tail=new Node(item,self.tail,null,self);if(!self.head){self.head=self.tail}self.length++}function unshift(self,item){self.head=new Node(item,null,self.head,self);if(!self.tail){self.tail=self.head}self.length++}function Node(value,prev,next,list){if(!(this instanceof Node)){return new Node(value,prev,next,list)}this.list=list;this.value=value;if(prev){prev.next=this;this.prev=prev}else{this.prev=null}if(next){next.prev=this;this.next=next}else{this.next=null}}try{__webpack_require__(560)(Yallist)}catch(er){}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Yallist){Yallist.prototype[Symbol.iterator]=function*(){for(let walker=this.head;walker;walker=walker.next){yield walker.value}}}},function(module,exports,__webpack_require__){const Range=__webpack_require__(31);const toComparators=(range,options)=>new Range(range,options).set.map(comp=>comp.map(c=>c.value).join(" ").trim().split(" "));module.exports=toComparators},function(module,exports,__webpack_require__){const SemVer=__webpack_require__(24);const Range=__webpack_require__(31);const maxSatisfying=(versions,range,options)=>{let max=null;let maxSV=null;let rangeObj=null;try{rangeObj=new Range(range,options)}catch(er){return null}versions.forEach(v=>{if(rangeObj.test(v)){if(!max||maxSV.compare(v)===-1){max=v;maxSV=new SemVer(max,options)}}});return max};module.exports=maxSatisfying},function(module,exports,__webpack_require__){const SemVer=__webpack_require__(24);const Range=__webpack_require__(31);const minSatisfying=(versions,range,options)=>{let min=null;let minSV=null;let rangeObj=null;try{rangeObj=new Range(range,options)}catch(er){return null}versions.forEach(v=>{if(rangeObj.test(v)){if(!min||minSV.compare(v)===1){min=v;minSV=new SemVer(min,options)}}});return min};module.exports=minSatisfying},function(module,exports,__webpack_require__){const SemVer=__webpack_require__(24);const Range=__webpack_require__(31);const gt=__webpack_require__(78);const minVersion=(range,loose)=>{range=new Range(range,loose);let minver=new SemVer("0.0.0");if(range.test(minver)){return minver}minver=new SemVer("0.0.0-0");if(range.test(minver)){return minver}minver=null;for(let i=0;i<range.set.length;++i){const comparators=range.set[i];let setMin=null;comparators.forEach(comparator=>{const compver=new SemVer(comparator.semver.version);switch(comparator.operator){case">":if(compver.prerelease.length===0){compver.patch++}else{compver.prerelease.push(0)}compver.raw=compver.format();case"":case">=":if(!setMin||gt(compver,setMin)){setMin=compver}break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${comparator.operator}`)}});if(setMin&&(!minver||gt(minver,setMin))){minver=setMin}}if(minver&&range.test(minver)){return minver}return null};module.exports=minVersion},function(module,exports,__webpack_require__){const Range=__webpack_require__(31);const validRange=(range,options)=>{try{return new Range(range,options).range||"*"}catch(er){return null}};module.exports=validRange},function(module,exports,__webpack_require__){const outside=__webpack_require__(123);const gtr=(version,range,options)=>outside(version,range,">",options);module.exports=gtr},function(module,exports,__webpack_require__){const outside=__webpack_require__(123);const ltr=(version,range,options)=>outside(version,range,"<",options);module.exports=ltr},function(module,exports,__webpack_require__){const Range=__webpack_require__(31);const intersects=(r1,r2,options)=>{r1=new Range(r1,options);r2=new Range(r2,options);return r1.intersects(r2,options)};module.exports=intersects},function(module,exports,__webpack_require__){const satisfies=__webpack_require__(80);const compare=__webpack_require__(30);module.exports=(versions,range,options)=>{const set=[];let first=null;let prev=null;const v=versions.sort((a,b)=>compare(a,b,options));for(const version of v){const included=satisfies(version,range,options);if(included){prev=version;if(!first){first=version}}else{if(prev){set.push([first,prev])}prev=null;first=null}}if(first){set.push([first,null])}const ranges=[];for(const[min,max]of set){if(min===max){ranges.push(min)}else if(!max&&min===v[0]){ranges.push("*")}else if(!max){ranges.push(`>=${min}`)}else if(min===v[0]){ranges.push(`<=${max}`)}else{ranges.push(`${min} - ${max}`)}}const simplified=ranges.join(" || ");const original=typeof range.raw==="string"?range.raw:String(range);return simplified.length<original.length?simplified:range}},function(module,exports,__webpack_require__){const Range=__webpack_require__(31);const Comparator=__webpack_require__(79);const{ANY:ANY}=Comparator;const satisfies=__webpack_require__(80);const compare=__webpack_require__(30);const subset=(sub,dom,options={})=>{if(sub===dom){return true}sub=new Range(sub,options);dom=new Range(dom,options);let sawNonNull=false;OUTER:for(const simpleSub of sub.set){for(const simpleDom of dom.set){const isSub=simpleSubset(simpleSub,simpleDom,options);sawNonNull=sawNonNull||isSub!==null;if(isSub){continue OUTER}}if(sawNonNull){return false}}return true};const minimumVersionWithPreRelease=[new Comparator(">=0.0.0-0")];const minimumVersion=[new Comparator(">=0.0.0")];const simpleSubset=(sub,dom,options)=>{if(sub===dom){return true}if(sub.length===1&&sub[0].semver===ANY){if(dom.length===1&&dom[0].semver===ANY){return true}else if(options.includePrerelease){sub=minimumVersionWithPreRelease}else{sub=minimumVersion}}if(dom.length===1&&dom[0].semver===ANY){if(options.includePrerelease){return true}else{dom=minimumVersion}}const eqSet=new Set;let gt,lt;for(const c of sub){if(c.operator===">"||c.operator===">="){gt=higherGT(gt,c,options)}else if(c.operator==="<"||c.operator==="<="){lt=lowerLT(lt,c,options)}else{eqSet.add(c.semver)}}if(eqSet.size>1){return null}let gtltComp;if(gt&&lt){gtltComp=compare(gt.semver,lt.semver,options);if(gtltComp>0){return null}else if(gtltComp===0&&(gt.operator!==">="||lt.operator!=="<=")){return null}}for(const eq of eqSet){if(gt&&!satisfies(eq,String(gt),options)){return null}if(lt&&!satisfies(eq,String(lt),options)){return null}for(const c of dom){if(!satisfies(eq,String(c),options)){return false}}return true}let higher,lower;let hasDomLT,hasDomGT;let needDomLTPre=lt&&!options.includePrerelease&&lt.semver.prerelease.length?lt.semver:false;let needDomGTPre=gt&&!options.includePrerelease&&gt.semver.prerelease.length?gt.semver:false;if(needDomLTPre&&needDomLTPre.prerelease.length===1&&lt.operator==="<"&&needDomLTPre.prerelease[0]===0){needDomLTPre=false}for(const c of dom){hasDomGT=hasDomGT||c.operator===">"||c.operator===">=";hasDomLT=hasDomLT||c.operator==="<"||c.operator==="<=";if(gt){if(needDomGTPre){if(c.semver.prerelease&&c.semver.prerelease.length&&c.semver.major===needDomGTPre.major&&c.semver.minor===needDomGTPre.minor&&c.semver.patch===needDomGTPre.patch){needDomGTPre=false}}if(c.operator===">"||c.operator===">="){higher=higherGT(gt,c,options);if(higher===c&&higher!==gt){return false}}else if(gt.operator===">="&&!satisfies(gt.semver,String(c),options)){return false}}if(lt){if(needDomLTPre){if(c.semver.prerelease&&c.semver.prerelease.length&&c.semver.major===needDomLTPre.major&&c.semver.minor===needDomLTPre.minor&&c.semver.patch===needDomLTPre.patch){needDomLTPre=false}}if(c.operator==="<"||c.operator==="<="){lower=lowerLT(lt,c,options);if(lower===c&&lower!==lt){return false}}else if(lt.operator==="<="&&!satisfies(lt.semver,String(c),options)){return false}}if(!c.operator&&(lt||gt)&&gtltComp!==0){return false}}if(gt&&hasDomLT&&!lt&&gtltComp!==0){return false}if(lt&&hasDomGT&&!gt&&gtltComp!==0){return false}if(needDomGTPre||needDomLTPre){return false}return true};const higherGT=(a,b,options)=>{if(!a){return b}const comp=compare(a.semver,b.semver,options);return comp>0?a:comp<0?b:b.operator===">"&&a.operator===">="?b:a};const lowerLT=(a,b,options)=>{if(!a){return b}const comp=compare(a.semver,b.semver,options);return comp<0?a:comp>0?b:b.operator==="<"&&a.operator==="<="?b:a};module.exports=subset},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"plugin",(function(){return public_plugin}));var defineProperty=__webpack_require__(4);var defineProperty_default=__webpack_require__.n(defineProperty);var core_public=__webpack_require__(32);var constants=__webpack_require__(8);var helpers=__webpack_require__(42);var utils_constants=__webpack_require__(9);var utils_helpers=__webpack_require__(13);var external_osdSharedDeps_Rxjs_=__webpack_require__(6);class plugin_SecurityAnalyticsPlugin{constructor(initializerContext){this.initializerContext=initializerContext;defineProperty_default()(this,"updateDefaultRouteOfManagementApplications",()=>{var _dataSourceObservable;const dataSourceValue=(_dataSourceObservable=constants["D"].value)===null||_dataSourceObservable===void 0?void 0:_dataSourceObservable.id;let hash=`#/`;if(dataSourceValue!==undefined){hash=`#/?dataSourceId=${dataSourceValue}`}return{defaultPath:hash}});defineProperty_default()(this,"appStateUpdater",new external_osdSharedDeps_Rxjs_["BehaviorSubject"](this.updateDefaultRouteOfManagementApplications))}setup(core,_ref){let{dataSourceManagement:dataSourceManagement}=_ref;const mountWrapper=async(params,redirect)=>{const{renderApp:renderApp}=await Promise.all([__webpack_require__.e(0),__webpack_require__.e(1)]).then(__webpack_require__.bind(null,998));const[coreStart,depsStart]=await core.getStartServices();return renderApp(coreStart,params,redirect,depsStart,dataSourceManagement)};core.application.register({id:constants["y"],title:"Security Analytics",order:7e3,category:{id:"opensearch",label:"OpenSearch Plugins",order:2e3},mount:async params=>{const{renderApp:renderApp}=await Promise.all([__webpack_require__.e(0),__webpack_require__.e(1)]).then(__webpack_require__.bind(null,998));const[coreStart,depsStart]=await core.getStartServices();return renderApp(coreStart,params,constants["z"].LANDING_PAGE,depsStart,dataSourceManagement)}});if(core.chrome.navGroup.getNavGroupEnabled()){core.application.register({id:constants["x"],title:"Overview",order:0,updater$:this.appStateUpdater,mount:async params=>mountWrapper(params,constants["z"].LANDING_PAGE)});core.application.register({id:constants["s"],title:"Get started",order:1,updater$:this.appStateUpdater,mount:async params=>mountWrapper(params,constants["z"].GETTING_STARTED)});core.application.register({id:constants["B"],title:"Threat alerts",order:300,category:core_public["a"].investigate,updater$:this.appStateUpdater,mount:async params=>mountWrapper(params,constants["z"].ALERTS)});core.application.register({id:constants["q"],title:"Findings",order:400,category:core_public["a"].investigate,updater$:this.appStateUpdater,mount:async params=>mountWrapper(params,constants["z"].FINDINGS)});core.application.register({id:constants["f"],title:"Correlations",order:500,category:core_public["a"].investigate,updater$:this.appStateUpdater,mount:async params=>mountWrapper(params,constants["z"].CORRELATIONS)});core.application.register({id:constants["n"],title:"Threat detectors",order:600,category:core_public["a"].configure,updater$:this.appStateUpdater,mount:async params=>mountWrapper(params,constants["z"].DETECTORS)});core.application.register({id:constants["m"],title:"Detection rules",order:700,category:core_public["a"].configure,updater$:this.appStateUpdater,mount:async params=>mountWrapper(params,constants["z"].RULES)});core.application.register({id:constants["g"],title:"Correlation rules",order:800,category:core_public["a"].configure,updater$:this.appStateUpdater,mount:async params=>mountWrapper(params,constants["z"].CORRELATION_RULES)});core.application.register({id:constants["C"],title:"Threat intelligence",order:900,category:core_public["a"].configure,updater$:this.appStateUpdater,mount:async params=>mountWrapper(params,constants["z"].THREAT_INTEL_OVERVIEW)});core.application.register({id:constants["t"],title:"Log types",order:1e3,category:core_public["a"].configure,updater$:this.appStateUpdater,mount:async params=>mountWrapper(params,constants["z"].LOG_TYPES)});constants["D"].subscribe(dataSourceOption=>{if(dataSourceOption){this.appStateUpdater.next(this.updateDefaultRouteOfManagementApplications)}});const navlinks=[{id:constants["x"],showInAllNavGroup:true},{id:constants["s"],showInAllNavGroup:true},{id:constants["B"],showInAllNavGroup:true},{id:constants["q"],showInAllNavGroup:true},{id:constants["f"],showInAllNavGroup:true},{id:constants["y"],category:core_public["a"].configure,title:"Threat detection",showInAllNavGroup:true,order:600},{id:constants["n"],parentNavLinkId:constants["y"],showInAllNavGroup:true},{id:constants["m"],parentNavLinkId:constants["y"],showInAllNavGroup:true},{id:constants["g"],showInAllNavGroup:true},{id:constants["C"],showInAllNavGroup:true},{id:constants["t"],showInAllNavGroup:true}];core.chrome.navGroup.addNavLinksToGroup(core_public["b"]["security-analytics"],navlinks)}Object(constants["M"])(core.uiSettings.get("theme:darkMode"));const config=this.initializerContext.config.get();Object(helpers["d"])(config);Object(utils_constants["q"])(dataSourceManagement);return{config:config}}start(core,_ref2){let{navigation:navigation,contentManagement:contentManagement,data:data}=_ref2;Object(utils_constants["u"])(core.uiSettings);Object(utils_constants["r"])(navigation.ui);Object(utils_constants["l"])(core.application);Object(utils_constants["m"])(core.chrome.setBreadcrumbs);Object(utils_constants["o"])(core.chrome);Object(utils_constants["p"])(contentManagement);Object(utils_constants["s"])(core.notifications);Object(utils_constants["t"])(core.savedObjects.client);Object(utils_helpers["u"])(core,data.indexPatterns);Object(utils_helpers["x"])();return{}}}function public_plugin(initializerContext){return new plugin_SecurityAnalyticsPlugin(initializerContext)}},function(module,exports){module.exports=__osdSharedDeps__.ReactDomServer}]);