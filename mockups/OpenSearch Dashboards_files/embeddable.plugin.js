(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=21)})([function(module,exports){module.exports=__osdSharedDeps__.React},function(module,exports){module.exports=__osdSharedDeps__.ElasticEui},function(module,exports){module.exports=__osdSharedDeps__.OsdI18n},function(module,exports,__webpack_require__){"use strict";module.exports=function(cssWithMappingToString){var list=[];list.toString=function toString(){return this.map((function(item){var content=cssWithMappingToString(item);if(item[2]){return"@media ".concat(item[2]," {").concat(content,"}")}return content})).join("")};list.i=function(modules,mediaQuery,dedupe){if(typeof modules==="string"){modules=[[null,modules,""]]}var alreadyImportedModules={};if(dedupe){for(var i=0;i<this.length;i++){var id=this[i][0];if(id!=null){alreadyImportedModules[id]=true}}}for(var _i=0;_i<modules.length;_i++){var item=[].concat(modules[_i]);if(dedupe&&alreadyImportedModules[item[0]]){continue}if(mediaQuery){if(!item[2]){item[2]=mediaQuery}else{item[2]="".concat(mediaQuery," and ").concat(item[2])}}list.push(item)}};return list}},function(module,exports){module.exports=__osdSharedDeps__.Rxjs},function(module,exports){module.exports=__osdSharedDeps__.Lodash},function(module,exports){module.exports=__osdSharedDeps__.OsdI18nReact},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__osdBundles__.get("plugin/opensearchDashboardsReact/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports,__webpack_require__){"use strict";var isOldIE=function isOldIE(){var memo;return function memorize(){if(typeof memo==="undefined"){memo=Boolean(window&&document&&document.all&&!window.atob)}return memo}}();var getTarget=function getTarget(){var memo={};return function memorize(target){if(typeof memo[target]==="undefined"){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement){try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}}memo[target]=styleTarget}return memo[target]}}();var stylesInDom=[];function getIndexByIdentifier(identifier){var result=-1;for(var i=0;i<stylesInDom.length;i++){if(stylesInDom[i].identifier===identifier){result=i;break}}return result}function modulesToDom(list,options){var idCountMap={};var identifiers=[];for(var i=0;i<list.length;i++){var item=list[i];var id=options.base?item[0]+options.base:item[0];var count=idCountMap[id]||0;var identifier="".concat(id," ").concat(count);idCountMap[id]=count+1;var index=getIndexByIdentifier(identifier);var obj={css:item[1],media:item[2],sourceMap:item[3]};if(index!==-1){stylesInDom[index].references++;stylesInDom[index].updater(obj)}else{stylesInDom.push({identifier:identifier,updater:addStyle(obj,options),references:1})}identifiers.push(identifier)}return identifiers}function insertStyleElement(options){var style=document.createElement("style");var attributes=options.attributes||{};if(typeof attributes.nonce==="undefined"){var nonce=true?__webpack_require__.nc:undefined;if(nonce){attributes.nonce=nonce}}Object.keys(attributes).forEach((function(key){style.setAttribute(key,attributes[key])}));if(typeof options.insert==="function"){options.insert(style)}else{var target=getTarget(options.insert||"head");if(!target){throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.")}target.appendChild(style)}return style}function removeStyleElement(style){if(style.parentNode===null){return false}style.parentNode.removeChild(style)}var replaceText=function replaceText(){var textStore=[];return function replace(index,replacement){textStore[index]=replacement;return textStore.filter(Boolean).join("\n")}}();function applyToSingletonTag(style,index,remove,obj){var css=remove?"":obj.media?"@media ".concat(obj.media," {").concat(obj.css,"}"):obj.css;if(style.styleSheet){style.styleSheet.cssText=replaceText(index,css)}else{var cssNode=document.createTextNode(css);var childNodes=style.childNodes;if(childNodes[index]){style.removeChild(childNodes[index])}if(childNodes.length){style.insertBefore(cssNode,childNodes[index])}else{style.appendChild(cssNode)}}}function applyToTag(style,options,obj){var css=obj.css;var media=obj.media;var sourceMap=obj.sourceMap;if(media){style.setAttribute("media",media)}else{style.removeAttribute("media")}if(sourceMap&&typeof btoa!=="undefined"){css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")}if(style.styleSheet){style.styleSheet.cssText=css}else{while(style.firstChild){style.removeChild(style.firstChild)}style.appendChild(document.createTextNode(css))}}var singleton=null;var singletonCounter=0;function addStyle(obj,options){var style;var update;var remove;if(options.singleton){var styleIndex=singletonCounter++;style=singleton||(singleton=insertStyleElement(options));update=applyToSingletonTag.bind(null,style,styleIndex,false);remove=applyToSingletonTag.bind(null,style,styleIndex,true)}else{style=insertStyleElement(options);update=applyToTag.bind(null,style,options);remove=function remove(){removeStyleElement(style)}}update(obj);return function updateStyle(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap){return}update(obj=newObj)}else{remove()}}}module.exports=function(list,options){options=options||{};if(!options.singleton&&typeof options.singleton!=="boolean"){options.singleton=isOldIE()}list=list||[];var lastIdentifiers=modulesToDom(list,options);return function update(newList){newList=newList||[];if(Object.prototype.toString.call(newList)!=="[object Array]"){return}for(var i=0;i<lastIdentifiers.length;i++){var identifier=lastIdentifiers[i];var index=getIndexByIdentifier(identifier);stylesInDom[index].references--}var newLastIdentifiers=modulesToDom(newList,options);for(var _i=0;_i<lastIdentifiers.length;_i++){var _identifier=lastIdentifiers[_i];var _index=getIndexByIdentifier(_identifier);if(stylesInDom[_index].references===0){stylesInDom[_index].updater();stylesInDom.splice(_index,1)}}lastIdentifiers=newLastIdentifiers}}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){"use strict";var hasOwn={}.hasOwnProperty;function classNames(){var classes=[];for(var i=0;i<arguments.length;i++){var arg=arguments[i];if(!arg)continue;var argType=typeof arg;if(argType==="string"||argType==="number"){classes.push(arg)}else if(Array.isArray(arg)){if(arg.length){var inner=classNames.apply(null,arg);if(inner){classes.push(inner)}}}else if(argType==="object"){if(arg.toString===Object.prototype.toString){for(var key in arg){if(hasOwn.call(arg,key)&&arg[key]){classes.push(key)}}}else{classes.push(arg.toString())}}}return classes.join(" ")}if(true&&module.exports){classNames.default=classNames;module.exports=classNames}else if(true){!(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}else{}})()},function(module,exports){module.exports=__osdSharedDeps__.RxjsOperators},function(module,__webpack_exports__,__webpack_require__){"use strict";var _ui_actions_public__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(17);var _ui_actions_public__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_ui_actions_public__WEBPACK_IMPORTED_MODULE_0__);if(__webpack_require__.o(_ui_actions_public__WEBPACK_IMPORTED_MODULE_0__,"IncompatibleActionError"))__webpack_require__.d(__webpack_exports__,"IncompatibleActionError",(function(){return _ui_actions_public__WEBPACK_IMPORTED_MODULE_0__["IncompatibleActionError"]}));if(__webpack_require__.o(_ui_actions_public__WEBPACK_IMPORTED_MODULE_0__,"buildContextMenuForActions"))__webpack_require__.d(__webpack_exports__,"buildContextMenuForActions",(function(){return _ui_actions_public__WEBPACK_IMPORTED_MODULE_0__["buildContextMenuForActions"]}))},function(module,exports){module.exports=__osdSharedDeps__.ReactDom},function(module,__webpack_exports__,__webpack_require__){"use strict";var _inspector_public__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14);var _inspector_public__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_inspector_public__WEBPACK_IMPORTED_MODULE_0__);if(__webpack_require__.o(_inspector_public__WEBPACK_IMPORTED_MODULE_0__,"Adapters"))__webpack_require__.d(__webpack_exports__,"Adapters",(function(){return _inspector_public__WEBPACK_IMPORTED_MODULE_0__["Adapters"]}))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__osdBundles__.get("plugin/inspector/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){var getRandomValues=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(getRandomValues){var rnds8=new Uint8Array(16);module.exports=function whatwgRNG(){getRandomValues(rnds8);return rnds8}}else{var rnds=new Array(16);module.exports=function mathRNG(){for(var i=0,r;i<16;i++){if((i&3)===0)r=Math.random()*4294967296;rnds[i]=r>>>((i&3)<<3)&255}return rnds}}},function(module,exports){var byteToHex=[];for(var i=0;i<256;++i){byteToHex[i]=(i+256).toString(16).substr(1)}function bytesToUuid(buf,offset){var i=offset||0;var bth=byteToHex;return[bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]]].join("")}module.exports=bytesToUuid},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__osdBundles__.get("plugin/uiActions/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__osdBundles__.get("plugin/savedObjects/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__osdBundles__.get("plugin/opensearchDashboardsUtils/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports,__webpack_require__){var v1=__webpack_require__(36);var v4=__webpack_require__(37);var uuid=v4;uuid.v1=v1;uuid.v4=v4;module.exports=uuid},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_val_loader_dist_cjs_js_key_embeddable_osd_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(22);var _node_modules_val_loader_dist_cjs_js_key_embeddable_osd_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_val_loader_dist_cjs_js_key_embeddable_osd_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__);__osdBundles__.define("plugin/embeddable/public",__webpack_require__,38)},function(module,exports,__webpack_require__){__webpack_require__.p=window.__osdPublicPath__["embeddable"]},function(module,exports,__webpack_require__){switch(window.__osdThemeTag__){case"v7dark":return __webpack_require__(24);case"v7light":return __webpack_require__(26);case"v8dark":return __webpack_require__(28);case"v8light":return __webpack_require__(30);case"v9dark":return __webpack_require__(32);case"v9light":return __webpack_require__(34)}},function(module,exports,__webpack_require__){var api=__webpack_require__(8);var content=__webpack_require__(25);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.embPanel{z-index:auto;flex:1;display:flex;flex-direction:column;height:100%;min-height:26px;position:relative}.embPanel-isLoading{justify-content:center;align-items:center}.embPanel .embPanel__content{display:flex;flex:1 1 100%;z-index:1;min-height:0}.embPanel .embPanel__content--fullWidth{width:100%}.embPanel__header{flex:0 0 auto;display:flex;justify-content:flex-end}.embPanel__title{color:#dfe5ef;font-size:12px;font-size:0.75rem;line-height:1.5rem;font-weight:700;overflow:hidden;line-height:1.5;flex-grow:1;display:flex;flex-wrap:wrap;align-items:center}.embPanel__title:not(:empty){line-height:24px;padding-left:8px}.embPanel__title .embPanel__titleInner{overflow:hidden;display:flex;align-items:center;padding-right:8px}.embPanel__title .embPanel__titleTooltipAnchor{max-width:100%}.embPanel__title .embPanel__titleText{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important}.embPanel__title .embPanel__placeholderTitleText{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;font-weight:400;color:#535966}.embPanel__dragger:not(.embPanel__title){flex-grow:1}.embPanel__header--floater{position:absolute;right:0;top:0;left:0;z-index:1000}.embPanel__optionsMenuButton{background-color:rgba(212,218,229,.1);border-bottom-right-radius:0;border-top-left-radius:0}.embPanel__optionsMenuButton:focus{background-color:#093b56}.embPanel .embPanel__optionsMenuButton{opacity:0}.embPanel .embPanel__optionsMenuButton:focus{opacity:1}.embPanel:hover .embPanel__optionsMenuButton{opacity:1}.embPanel--editing{border-style:dashed;border-color:#535966;transition:all 150ms cubic-bezier(0.694, 0.0482, 0.335, 1)}.embPanel--editing:hover,.embPanel--editing:focus{box-shadow:0 4px 8px 0 rgba(0,0,0,.15),0 2px 2px -1px rgba(0,0,0,.3)}.embPanel--editing .embPanel__dragger{transition:background-color 150ms cubic-bezier(0.694, 0.0482, 0.335, 1)}.embPanel--editing .embPanel__dragger:hover{background-color:rgba(255,206,122,.3);cursor:move}.embPanel--editing .embPanel__optionsMenuButton{opacity:1}.embPanel--loading .embPanel__title{color:#7a7f89}.embPanel__error{text-align:center;justify-content:center;flex-direction:column;overflow:auto;padding:8px}.embPanel__label{position:absolute;padding-left:8px}.embPanel__content[data-error],.embPanel__content[data-loading]{pointer-events:none;filter:grayscale(100%);filter:gray}.embPanel__optionsMenuForm{padding:16px}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(8);var content=__webpack_require__(27);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.embPanel{z-index:auto;flex:1;display:flex;flex-direction:column;height:100%;min-height:26px;position:relative}.embPanel-isLoading{justify-content:center;align-items:center}.embPanel .embPanel__content{display:flex;flex:1 1 100%;z-index:1;min-height:0}.embPanel .embPanel__content--fullWidth{width:100%}.embPanel__header{flex:0 0 auto;display:flex;justify-content:flex-end}.embPanel__title{color:#1a1c21;font-size:12px;font-size:0.75rem;line-height:1.5rem;font-weight:700;overflow:hidden;line-height:1.5;flex-grow:1;display:flex;flex-wrap:wrap;align-items:center}.embPanel__title:not(:empty){line-height:24px;padding-left:8px}.embPanel__title .embPanel__titleInner{overflow:hidden;display:flex;align-items:center;padding-right:8px}.embPanel__title .embPanel__titleTooltipAnchor{max-width:100%}.embPanel__title .embPanel__titleText{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important}.embPanel__title .embPanel__placeholderTitleText{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;font-weight:400;color:#98a2b3}.embPanel__dragger:not(.embPanel__title){flex-grow:1}.embPanel__header--floater{position:absolute;right:0;top:0;left:0;z-index:1000}.embPanel__optionsMenuButton{background-color:rgba(52,55,65,.1);border-bottom-right-radius:0;border-top-left-radius:0}.embPanel__optionsMenuButton:focus{background-color:#e6f0f8}.embPanel .embPanel__optionsMenuButton{opacity:0}.embPanel .embPanel__optionsMenuButton:focus{opacity:1}.embPanel:hover .embPanel__optionsMenuButton{opacity:1}.embPanel--editing{border-style:dashed;border-color:#98a2b3;transition:all 150ms cubic-bezier(0.694, 0.0482, 0.335, 1)}.embPanel--editing:hover,.embPanel--editing:focus{box-shadow:0 4px 8px 0 rgba(152,162,179,.15),0 2px 2px -1px rgba(152,162,179,.3)}.embPanel--editing .embPanel__dragger{transition:background-color 150ms cubic-bezier(0.694, 0.0482, 0.335, 1)}.embPanel--editing .embPanel__dragger:hover{background-color:rgba(245,167,0,.1);cursor:move}.embPanel--editing .embPanel__optionsMenuButton{opacity:1}.embPanel--loading .embPanel__title{color:#6a717d}.embPanel__error{text-align:center;justify-content:center;flex-direction:column;overflow:auto;padding:8px}.embPanel__label{position:absolute;padding-left:8px}.embPanel__content[data-error],.embPanel__content[data-loading]{pointer-events:none;filter:grayscale(100%);filter:gray}.embPanel__optionsMenuForm{padding:16px}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(8);var content=__webpack_require__(29);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.embPanel{z-index:auto;flex:1;display:flex;flex-direction:column;height:100%;min-height:26px;position:relative}.embPanel-isLoading{justify-content:center;align-items:center}.embPanel .embPanel__content{display:flex;flex:1 1 100%;z-index:1;min-height:0}.embPanel .embPanel__content--fullWidth{width:100%}.embPanel__header{flex:0 0 auto;display:flex;justify-content:flex-end}.embPanel__title{color:#dfe5ef;font-size:13.5px;font-size:0.75rem;line-height:1.3333333333rem;font-weight:700;letter-spacing:-0.005em;overflow:hidden;line-height:1.5;flex-grow:1;display:flex;flex-wrap:wrap;align-items:center}.embPanel__title:not(:empty){line-height:24px;padding-left:8px}.embPanel__title .embPanel__titleInner{overflow:hidden;display:flex;align-items:center;padding-right:8px}.embPanel__title .embPanel__titleTooltipAnchor{max-width:100%}.embPanel__title .embPanel__titleText{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important}.embPanel__title .embPanel__placeholderTitleText{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;font-weight:400;color:#5b6875}.embPanel__dragger:not(.embPanel__title){flex-grow:1}.embPanel__header--floater{position:absolute;right:0;top:0;left:0;z-index:1000}.embPanel__optionsMenuButton{background-color:rgba(223,227,232,.1);border-bottom-right-radius:0;border-top-left-radius:0}.embPanel__optionsMenuButton:focus{background-color:#0e4342}.embPanel .embPanel__optionsMenuButton{opacity:0}.embPanel .embPanel__optionsMenuButton:focus{opacity:1}.embPanel:hover .embPanel__optionsMenuButton{opacity:1}.embPanel--editing{border-style:dashed;border-color:#5b6875;transition:all 150ms cubic-bezier(0.694, 0.0482, 0.335, 1)}.embPanel--editing:hover,.embPanel--editing:focus{box-shadow:0 4px 8px 0 rgba(0,0,0,.15),0 2px 2px -1px rgba(0,0,0,.3)}.embPanel--editing .embPanel__dragger{transition:background-color 150ms cubic-bezier(0.694, 0.0482, 0.335, 1)}.embPanel--editing .embPanel__dragger:hover{background-color:rgba(255,206,122,.3);cursor:move}.embPanel--editing .embPanel__optionsMenuButton{opacity:1}.embPanel--loading .embPanel__title{color:#9fa6af}.embPanel__error{text-align:center;justify-content:center;flex-direction:column;overflow:auto;padding:8px}.embPanel__label{position:absolute;padding-left:8px}.embPanel__content[data-error],.embPanel__content[data-loading]{pointer-events:none;filter:grayscale(100%);filter:gray}.embPanel__optionsMenuForm{padding:16px}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(8);var content=__webpack_require__(31);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.embPanel{z-index:auto;flex:1;display:flex;flex-direction:column;height:100%;min-height:26px;position:relative}.embPanel-isLoading{justify-content:center;align-items:center}.embPanel .embPanel__content{display:flex;flex:1 1 100%;z-index:1;min-height:0}.embPanel .embPanel__content--fullWidth{width:100%}.embPanel__header{flex:0 0 auto;display:flex;justify-content:flex-end}.embPanel__title{color:#1a2631;font-size:13.5px;font-size:0.75rem;line-height:1.3333333333rem;font-weight:700;letter-spacing:-0.005em;overflow:hidden;line-height:1.5;flex-grow:1;display:flex;flex-wrap:wrap;align-items:center}.embPanel__title:not(:empty){line-height:24px;padding-left:8px}.embPanel__title .embPanel__titleInner{overflow:hidden;display:flex;align-items:center;padding-right:8px}.embPanel__title .embPanel__titleTooltipAnchor{max-width:100%}.embPanel__title .embPanel__titleText{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important}.embPanel__title .embPanel__placeholderTitleText{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;font-weight:400;color:#adb4ba}.embPanel__dragger:not(.embPanel__title){flex-grow:1}.embPanel__header--floater{position:absolute;right:0;top:0;left:0;z-index:1000}.embPanel__optionsMenuButton{background-color:rgba(42,57,71,.1);border-bottom-right-radius:0;border-top-left-radius:0}.embPanel__optionsMenuButton:focus{background-color:#e4f2f2}.embPanel .embPanel__optionsMenuButton{opacity:0}.embPanel .embPanel__optionsMenuButton:focus{opacity:1}.embPanel:hover .embPanel__optionsMenuButton{opacity:1}.embPanel--editing{border-style:dashed;border-color:#adb4ba;transition:all 150ms cubic-bezier(0.694, 0.0482, 0.335, 1)}.embPanel--editing:hover,.embPanel--editing:focus{box-shadow:0 4px 8px 0 rgba(173,180,186,.15),0 2px 2px -1px rgba(173,180,186,.3)}.embPanel--editing .embPanel__dragger{transition:background-color 150ms cubic-bezier(0.694, 0.0482, 0.335, 1)}.embPanel--editing .embPanel__dragger:hover{background-color:rgba(245,167,0,.1);cursor:move}.embPanel--editing .embPanel__optionsMenuButton{opacity:1}.embPanel--loading .embPanel__title{color:#676e75}.embPanel__error{text-align:center;justify-content:center;flex-direction:column;overflow:auto;padding:8px}.embPanel__label{position:absolute;padding-left:8px}.embPanel__content[data-error],.embPanel__content[data-loading]{pointer-events:none;filter:grayscale(100%);filter:gray}.embPanel__optionsMenuForm{padding:16px}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(8);var content=__webpack_require__(33);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.embPanel{z-index:auto;flex:1;display:flex;flex-direction:column;height:100%;min-height:26px;position:relative}.embPanel-isLoading{justify-content:center;align-items:center}.embPanel .embPanel__content{display:flex;flex:1 1 100%;z-index:1;min-height:0}.embPanel .embPanel__content--fullWidth{width:100%}.embPanel__header{flex:0 0 auto;display:flex;justify-content:flex-end}.embPanel__title{color:#c6c9ce;font-size:14px;font-size:1rem;line-height:1.2143rem;font-weight:500;overflow:hidden;line-height:1.5;flex-grow:1;display:flex;flex-wrap:wrap;align-items:center}.embPanel__title:not(:empty){line-height:24px;padding-left:8px}.embPanel__title .embPanel__titleInner{overflow:hidden;display:flex;align-items:center;padding-right:8px}.embPanel__title .embPanel__titleTooltipAnchor{max-width:100%}.embPanel__title .embPanel__titleText{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important}.embPanel__title .embPanel__placeholderTitleText{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;font-weight:400;color:#5c666f}.embPanel__dragger:not(.embPanel__title){flex-grow:1}.embPanel__header--floater{position:absolute;right:0;top:0;left:0;z-index:1000}.embPanel__optionsMenuButton{background-color:rgba(227,229,233,.1);border-bottom-right-radius:0;border-top-left-radius:0}.embPanel__optionsMenuButton:focus{background-color:#013652}.embPanel .embPanel__optionsMenuButton{opacity:0}.embPanel .embPanel__optionsMenuButton:focus{opacity:1}.embPanel:hover .embPanel__optionsMenuButton{opacity:1}.embPanel--editing{border-style:dashed;border-color:#5c666f;transition:all 150ms cubic-bezier(0.694, 0.0482, 0.335, 1)}.embPanel--editing:hover,.embPanel--editing:focus{box-shadow:0 4px 8px 0 rgba(0,0,0,.15),0 2px 2px -1px rgba(0,0,0,.3)}.embPanel--editing .embPanel__dragger{transition:background-color 150ms cubic-bezier(0.694, 0.0482, 0.335, 1)}.embPanel--editing .embPanel__dragger:hover{background-color:rgba(244,174,39,.3);cursor:move}.embPanel--editing .embPanel__optionsMenuButton{opacity:1}.embPanel--loading .embPanel__title{color:#798189}.embPanel__error{text-align:center;justify-content:center;flex-direction:column;overflow:auto;padding:8px}.embPanel__label{position:absolute;padding-left:8px}.embPanel__content[data-error],.embPanel__content[data-loading]{pointer-events:none;filter:grayscale(100%);filter:gray}.embPanel__optionsMenuForm{padding:16px}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(8);var content=__webpack_require__(35);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.embPanel{z-index:auto;flex:1;display:flex;flex-direction:column;height:100%;min-height:26px;position:relative}.embPanel-isLoading{justify-content:center;align-items:center}.embPanel .embPanel__content{display:flex;flex:1 1 100%;z-index:1;min-height:0}.embPanel .embPanel__content--fullWidth{width:100%}.embPanel__header{flex:0 0 auto;display:flex;justify-content:flex-end}.embPanel__title{color:#161e2b;font-size:14px;font-size:1rem;line-height:1.2143rem;font-weight:500;overflow:hidden;line-height:1.5;flex-grow:1;display:flex;flex-wrap:wrap;align-items:center}.embPanel__title:not(:empty){line-height:24px;padding-left:8px}.embPanel__title .embPanel__titleInner{overflow:hidden;display:flex;align-items:center;padding-right:8px}.embPanel__title .embPanel__titleTooltipAnchor{max-width:100%}.embPanel__title .embPanel__titleText{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important}.embPanel__title .embPanel__placeholderTitleText{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;font-weight:400;color:#adb4ba}.embPanel__dragger:not(.embPanel__title){flex-grow:1}.embPanel__header--floater{position:absolute;right:0;top:0;left:0;z-index:1000}.embPanel__optionsMenuButton{background-color:rgba(42,57,71,.1);border-bottom-right-radius:0;border-top-left-radius:0}.embPanel__optionsMenuButton:focus{background-color:#e3eff8}.embPanel .embPanel__optionsMenuButton{opacity:0}.embPanel .embPanel__optionsMenuButton:focus{opacity:1}.embPanel:hover .embPanel__optionsMenuButton{opacity:1}.embPanel--editing{border-style:dashed;border-color:#adb4ba;transition:all 150ms cubic-bezier(0.694, 0.0482, 0.335, 1)}.embPanel--editing:hover,.embPanel--editing:focus{box-shadow:0 4px 8px 0 rgba(173,180,186,.15),0 2px 2px -1px rgba(173,180,186,.3)}.embPanel--editing .embPanel__dragger{transition:background-color 150ms cubic-bezier(0.694, 0.0482, 0.335, 1)}.embPanel--editing .embPanel__dragger:hover{background-color:rgba(224,161,48,.1);cursor:move}.embPanel--editing .embPanel__optionsMenuButton{opacity:1}.embPanel--loading .embPanel__title{color:#686c75}.embPanel__error{text-align:center;justify-content:center;flex-direction:column;overflow:auto;padding:8px}.embPanel__label{position:absolute;padding-left:8px}.embPanel__content[data-error],.embPanel__content[data-loading]{pointer-events:none;filter:grayscale(100%);filter:gray}.embPanel__optionsMenuForm{padding:16px}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var rng=__webpack_require__(15);var bytesToUuid=__webpack_require__(16);var _nodeId;var _clockseq;var _lastMSecs=0;var _lastNSecs=0;function v1(options,buf,offset){var i=buf&&offset||0;var b=buf||[];options=options||{};var node=options.node||_nodeId;var clockseq=options.clockseq!==undefined?options.clockseq:_clockseq;if(node==null||clockseq==null){var seedBytes=rng();if(node==null){node=_nodeId=[seedBytes[0]|1,seedBytes[1],seedBytes[2],seedBytes[3],seedBytes[4],seedBytes[5]]}if(clockseq==null){clockseq=_clockseq=(seedBytes[6]<<8|seedBytes[7])&16383}}var msecs=options.msecs!==undefined?options.msecs:(new Date).getTime();var nsecs=options.nsecs!==undefined?options.nsecs:_lastNSecs+1;var dt=msecs-_lastMSecs+(nsecs-_lastNSecs)/1e4;if(dt<0&&options.clockseq===undefined){clockseq=clockseq+1&16383}if((dt<0||msecs>_lastMSecs)&&options.nsecs===undefined){nsecs=0}if(nsecs>=1e4){throw new Error("uuid.v1(): Can't create more than 10M uuids/sec")}_lastMSecs=msecs;_lastNSecs=nsecs;_clockseq=clockseq;msecs+=122192928e5;var tl=((msecs&268435455)*1e4+nsecs)%4294967296;b[i++]=tl>>>24&255;b[i++]=tl>>>16&255;b[i++]=tl>>>8&255;b[i++]=tl&255;var tmh=msecs/4294967296*1e4&268435455;b[i++]=tmh>>>8&255;b[i++]=tmh&255;b[i++]=tmh>>>24&15|16;b[i++]=tmh>>>16&255;b[i++]=clockseq>>>8|128;b[i++]=clockseq&255;for(var n=0;n<6;++n){b[i+n]=node[n]}return buf?buf:bytesToUuid(b)}module.exports=v1},function(module,exports,__webpack_require__){var rng=__webpack_require__(15);var bytesToUuid=__webpack_require__(16);function v4(options,buf,offset){var i=buf&&offset||0;if(typeof options=="string"){buf=options==="binary"?new Array(16):null;options=null}options=options||{};var rnds=options.random||(options.rng||rng)();rnds[6]=rnds[6]&15|64;rnds[8]=rnds[8]&63|128;if(buf){for(var ii=0;ii<16;++ii){buf[i+ii]=rnds[ii]}}return buf||bytesToUuid(rnds)}module.exports=v4},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"ACTION_ADD_PANEL",(function(){return ACTION_ADD_PANEL}));__webpack_require__.d(__webpack_exports__,"ACTION_EDIT_PANEL",(function(){return ACTION_EDIT_PANEL}));__webpack_require__.d(__webpack_exports__,"Adapters",(function(){return lib_inspector["Adapters"]}));__webpack_require__.d(__webpack_exports__,"AddPanelAction",(function(){return add_panel_action_AddPanelAction}));__webpack_require__.d(__webpack_exports__,"ReferenceOrValueEmbeddable",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"isReferenceOrValueEmbeddable",(function(){return isReferenceOrValueEmbeddable}));__webpack_require__.d(__webpack_exports__,"ChartActionContext",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"Container",(function(){return container_Container}));__webpack_require__.d(__webpack_exports__,"ContainerInput",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"ContainerOutput",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"CONTEXT_MENU_TRIGGER",(function(){return CONTEXT_MENU_TRIGGER}));__webpack_require__.d(__webpack_exports__,"contextMenuTrigger",(function(){return contextMenuTrigger}));__webpack_require__.d(__webpack_exports__,"defaultEmbeddableFactoryProvider",(function(){return defaultEmbeddableFactoryProvider}));__webpack_require__.d(__webpack_exports__,"EditPanelAction",(function(){return edit_panel_action_EditPanelAction}));__webpack_require__.d(__webpack_exports__,"Embeddable",(function(){return embeddable_Embeddable}));__webpack_require__.d(__webpack_exports__,"EmbeddableChildPanel",(function(){return embeddable_child_panel_EmbeddableChildPanel}));__webpack_require__.d(__webpack_exports__,"EmbeddableChildPanelProps",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"EmbeddableContext",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"EmbeddableFactory",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"EmbeddableFactoryDefinition",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"EmbeddableFactoryNotFoundError",(function(){return errors_EmbeddableFactoryNotFoundError}));__webpack_require__.d(__webpack_exports__,"EmbeddableInput",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"EmbeddableInstanceConfiguration",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"EmbeddableOutput",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"EmbeddablePanel",(function(){return embeddable_panel_EmbeddablePanel}));__webpack_require__.d(__webpack_exports__,"EmbeddableRoot",(function(){return embeddable_root_EmbeddableRoot}));__webpack_require__.d(__webpack_exports__,"ValueClickContext",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"RangeSelectContext",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"ErrorEmbeddable",(function(){return error_embeddable_ErrorEmbeddable}));__webpack_require__.d(__webpack_exports__,"IContainer",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"IEmbeddable",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"isErrorEmbeddable",(function(){return isErrorEmbeddable}));__webpack_require__.d(__webpack_exports__,"openAddPanelFlyout",(function(){return openAddPanelFlyout}));__webpack_require__.d(__webpack_exports__,"OutputSpec",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"PANEL_BADGE_TRIGGER",(function(){return PANEL_BADGE_TRIGGER}));__webpack_require__.d(__webpack_exports__,"panelBadgeTrigger",(function(){return panelBadgeTrigger}));__webpack_require__.d(__webpack_exports__,"PANEL_NOTIFICATION_TRIGGER",(function(){return PANEL_NOTIFICATION_TRIGGER}));__webpack_require__.d(__webpack_exports__,"panelNotificationTrigger",(function(){return panelNotificationTrigger}));__webpack_require__.d(__webpack_exports__,"PanelNotFoundError",(function(){return errors_PanelNotFoundError}));__webpack_require__.d(__webpack_exports__,"PanelState",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"PropertySpec",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"ViewMode",(function(){return ViewMode}));__webpack_require__.d(__webpack_exports__,"withEmbeddableSubscription",(function(){return withEmbeddableSubscription}));__webpack_require__.d(__webpack_exports__,"SavedObjectEmbeddableInput",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"isSavedObjectEmbeddableInput",(function(){return isSavedObjectEmbeddableInput}));__webpack_require__.d(__webpack_exports__,"isRangeSelectTriggerContext",(function(){return isRangeSelectTriggerContext}));__webpack_require__.d(__webpack_exports__,"isValueClickTriggerContext",(function(){return isValueClickTriggerContext}));__webpack_require__.d(__webpack_exports__,"EmbeddableStateTransfer",(function(){return embeddable_state_transfer_EmbeddableStateTransfer}));__webpack_require__.d(__webpack_exports__,"EmbeddableEditorState",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"EmbeddablePackageState",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"EmbeddableRenderer",(function(){return EmbeddableRenderer}));__webpack_require__.d(__webpack_exports__,"EmbeddableRendererProps",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"EnhancementRegistryDefinition",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"plugin",(function(){return public_plugin}));__webpack_require__.d(__webpack_exports__,"EmbeddableSetup",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"EmbeddableStart",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"EmbeddableSetupDependencies",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"EmbeddableStartDependencies",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"EmbeddablePanelHOC",(function(){return undefined}));var public_0=__webpack_require__(23);var external_osdSharedDeps_React_=__webpack_require__(0);var external_osdSharedDeps_React_default=__webpack_require__.n(external_osdSharedDeps_React_);var external_osdSharedDeps_Lodash_=__webpack_require__(5);var public_=__webpack_require__(18);var external_osdSharedDeps_OsdI18n_=__webpack_require__(2);function _defineProperty(obj,key,value){key=_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function _toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}class errors_PanelNotFoundError extends Error{constructor(){super(external_osdSharedDeps_OsdI18n_["i18n"].translate("embeddableApi.errors.paneldoesNotExist",{defaultMessage:"Panel not found"}));_defineProperty(this,"code","PANEL_NOT_FOUND")}}class errors_EmbeddableFactoryNotFoundError extends Error{constructor(type){super(external_osdSharedDeps_OsdI18n_["i18n"].translate("embeddableApi.errors.embeddableFactoryNotFound",{defaultMessage:`OpenSearch Dashboards can't load "{type}" visualizations. Check for a missing plugin or an incompatible visualization type.`,values:{type:type}}));_defineProperty(this,"code","EMBEDDABLE_FACTORY_NOT_FOUND")}}let ViewMode=function(ViewMode){ViewMode["EDIT"]="edit";ViewMode["VIEW"]="view";return ViewMode}({});var external_osdSharedDeps_Rxjs_=__webpack_require__(4);var external_osdSharedDeps_RxjsOperators_=__webpack_require__(10);var opensearchDashboardsUtils_public_=__webpack_require__(19);function embeddable_defineProperty(obj,key,value){key=embeddable_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function embeddable_toPropertyKey(arg){var key=embeddable_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function embeddable_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}function getPanelTitle(input,output){return input.hidePanelTitles?"":input.title===undefined?output.defaultTitle:input.title}class embeddable_Embeddable{constructor(input,output,parent){embeddable_defineProperty(this,"runtimeId",embeddable_Embeddable.runtimeId++);embeddable_defineProperty(this,"parent",void 0);embeddable_defineProperty(this,"isContainer",false);embeddable_defineProperty(this,"type",void 0);embeddable_defineProperty(this,"id",void 0);embeddable_defineProperty(this,"fatalError",void 0);embeddable_defineProperty(this,"output",void 0);embeddable_defineProperty(this,"input",void 0);embeddable_defineProperty(this,"input$",void 0);embeddable_defineProperty(this,"output$",void 0);embeddable_defineProperty(this,"renderComplete",new opensearchDashboardsUtils_public_["RenderCompleteDispatcher"]);embeddable_defineProperty(this,"parentSubscription",void 0);embeddable_defineProperty(this,"destroyed",false);this.id=input.id;this.output={title:getPanelTitle(input,output),...output};this.input={viewMode:ViewMode.EDIT,...input};this.parent=parent;this.input$=new external_osdSharedDeps_Rxjs_["BehaviorSubject"](this.input);this.output$=new external_osdSharedDeps_Rxjs_["BehaviorSubject"](this.output);if(parent){this.parentSubscription=external_osdSharedDeps_Rxjs_["merge"](parent.getInput$(),parent.getOutput$()).subscribe(()=>{if(!parent.getInput().panels[this.id])return;const newInput=parent.getInputForChild(this.id);this.onResetInput(newInput)})}this.getOutput$().pipe(Object(external_osdSharedDeps_RxjsOperators_["map"])(_ref=>{let{title:title}=_ref;return title||""}),Object(external_osdSharedDeps_RxjsOperators_["distinctUntilChanged"])()).subscribe(title=>{this.renderComplete.setTitle(title)},()=>{})}getIsContainer(){return this.isContainer===true}getInput$(){return this.input$.asObservable()}getOutput$(){return this.output$.asObservable()}getOutput(){return this.output}getInput(){return this.input}getTitle(){return this.output.title||""}getRoot(){let root=this;while(root.parent){root=root.parent}return root}updateInput(changes){if(this.destroyed){throw new Error("Embeddable has been destroyed")}if(this.parent){this.parent.updateInputForChild(this.id,changes)}else{this.onInputChanged(changes)}}render(el){this.renderComplete.setEl(el);this.renderComplete.setTitle(this.output.title||"");if(this.destroyed){throw new Error("Embeddable has been destroyed")}return}getInspectorAdapters(){return undefined}destroy(){this.destroyed=true;this.input$.complete();this.output$.complete();if(this.parentSubscription){this.parentSubscription.unsubscribe()}return}updateOutput(outputChanges){const newOutput={...this.output,...outputChanges};if(!Object(external_osdSharedDeps_Lodash_["isEqual"])(this.output,newOutput)){this.output=newOutput;this.output$.next(this.output)}}onFatalError(e){this.fatalError=e;this.output$.error(e)}onResetInput(newInput){if(!Object(external_osdSharedDeps_Lodash_["isEqual"])(this.input,newInput)){if(this.input.lastReloadRequestTime!==newInput.lastReloadRequestTime){this.reload()}this.input=newInput;this.input$.next(newInput);this.updateOutput({title:getPanelTitle(this.input,this.output)})}}onInputChanged(changes){const newInput=Object(external_osdSharedDeps_Lodash_["cloneDeep"])({...this.input,...changes});this.onResetInput(newInput)}supportedTriggers(){return[]}}embeddable_defineProperty(embeddable_Embeddable,"runtimeId",0);const defaultEmbeddableFactoryProvider=def=>{var _def$isContainerType;const factory={isContainerType:(_def$isContainerType=def.isContainerType)!==null&&_def$isContainerType!==void 0?_def$isContainerType:false,canCreateNew:def.canCreateNew?def.canCreateNew.bind(def):()=>true,getDefaultInput:def.getDefaultInput?def.getDefaultInput.bind(def):()=>({}),getExplicitInput:def.getExplicitInput?def.getExplicitInput.bind(def):()=>Promise.resolve({}),createFromSavedObject:def.createFromSavedObject?def.createFromSavedObject.bind(def):(savedObjectId,input,parent)=>{throw new Error(`Creation from saved object not supported by type ${def.type}`)},create:def.create.bind(def),type:def.type,isEditable:def.isEditable.bind(def),getDisplayName:def.getDisplayName.bind(def),savedObjectMetaData:def.savedObjectMetaData,telemetry:def.telemetry||(()=>({})),inject:def.inject||(state=>state),extract:def.extract||(state=>({state:state,references:[]}))};return factory};var external_osdSharedDeps_ElasticEui_=__webpack_require__(1);var external_osdSharedDeps_ReactDom_=__webpack_require__(12);var external_osdSharedDeps_ReactDom_default=__webpack_require__.n(external_osdSharedDeps_ReactDom_);var opensearchDashboardsReact_public_=__webpack_require__(7);function error_embeddable_defineProperty(obj,key,value){key=error_embeddable_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function error_embeddable_toPropertyKey(arg){var key=error_embeddable_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function error_embeddable_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}const ERROR_EMBEDDABLE_TYPE="error";function isErrorEmbeddable(embeddable){return Boolean(embeddable.fatalError||embeddable.error!==undefined)}class error_embeddable_ErrorEmbeddable extends embeddable_Embeddable{constructor(error,input,parent){super(input,{},parent);error_embeddable_defineProperty(this,"type",ERROR_EMBEDDABLE_TYPE);error_embeddable_defineProperty(this,"error",void 0);error_embeddable_defineProperty(this,"dom",void 0);this.error=error}reload(){}render(dom){const title=typeof this.error==="string"?this.error:this.error.message;this.dom=dom;external_osdSharedDeps_ReactDom_default.a.render(external_osdSharedDeps_React_default.a.createElement("div",{className:"embPanel__error embPanel__content","data-test-subj":"embeddableStackError"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{color:"subdued",size:"xs"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiIcon"],{type:"alert",color:"danger"}),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_osdSharedDeps_React_default.a.createElement(opensearchDashboardsReact_public_["Markdown"],{markdown:title,openLinksInNewTab:true,"data-test-subj":"errorMessageMarkdown"}))),dom)}destroy(){if(this.dom){external_osdSharedDeps_ReactDom_default.a.unmountComponentAtNode(this.dom)}}}function _extends(){_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function with_subscription_defineProperty(obj,key,value){key=with_subscription_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function with_subscription_toPropertyKey(arg){var key=with_subscription_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function with_subscription_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}const withEmbeddableSubscription=WrappedComponent=>class WithEmbeddableSubscription extends external_osdSharedDeps_React_default.a.Component{constructor(props){super(props);with_subscription_defineProperty(this,"subscription",void 0);with_subscription_defineProperty(this,"mounted",false);this.state={input:this.props.embeddable.getInput(),output:this.props.embeddable.getOutput()}}componentDidMount(){this.mounted=true;this.subscription=external_osdSharedDeps_Rxjs_["merge"](this.props.embeddable.getOutput$(),this.props.embeddable.getInput$()).subscribe(()=>{if(this.mounted){this.setState({input:this.props.embeddable.getInput(),output:this.props.embeddable.getOutput()})}})}componentWillUnmount(){this.mounted=false;if(this.subscription){this.subscription.unsubscribe()}}render(){return external_osdSharedDeps_React_default.a.createElement(WrappedComponent,_extends({input:this.state.input,output:this.state.output},this.props))}};function embeddable_root_defineProperty(obj,key,value){key=embeddable_root_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function embeddable_root_toPropertyKey(arg){var key=embeddable_root_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function embeddable_root_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}class embeddable_root_EmbeddableRoot extends external_osdSharedDeps_React_default.a.Component{constructor(props){super(props);embeddable_root_defineProperty(this,"root",void 0);embeddable_root_defineProperty(this,"alreadyMounted",false);embeddable_root_defineProperty(this,"lastUsedInput",void 0);this.root=external_osdSharedDeps_React_default.a.createRef()}componentDidMount(){if(this.root&&this.root.current&&this.props.embeddable){this.alreadyMounted=true;this.props.embeddable.render(this.root.current);this.lastUsedInput=this.props.input}}componentDidUpdate(prevProps){let justRendered=false;if(this.root&&this.root.current&&this.props.embeddable&&!this.alreadyMounted){this.alreadyMounted=true;this.props.embeddable.render(this.root.current);if(this.lastUsedInput!==this.props.input&&this.props.input){this.props.embeddable.updateInput(this.props.input);this.lastUsedInput=this.props.input}justRendered=true}if(!justRendered&&this.root&&this.root.current&&this.props.embeddable&&this.alreadyMounted&&this.props.input&&this.lastUsedInput!==this.props.input){this.props.embeddable.updateInput(this.props.input);this.lastUsedInput=this.props.input}}shouldComponentUpdate(newProps){return Boolean(newProps.error!==this.props.error||newProps.loading!==this.props.loading||newProps.embeddable!==this.props.embeddable||this.root&&this.root.current&&newProps.embeddable&&!this.alreadyMounted||newProps.input!==this.props.input)}render(){return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,external_osdSharedDeps_React_default.a.createElement("div",{ref:this.root}),this.props.loading&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiLoadingSpinner"],{"data-test-subj":"embedSpinner"}),this.props.error&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s","data-test-subj":"embedError"},this.props.error))}}function isSavedObjectEmbeddableInput(input){return Boolean(input.savedObjectId)}function isWithEmbeddable(props){return"embeddable"in props}function isWithFactory(props){return"factory"in props}const EmbeddableRenderer=props=>{const{input:input,onInputUpdated:onInputUpdated}=props;const[embeddable,setEmbeddable]=Object(external_osdSharedDeps_React_["useState"])(isWithEmbeddable(props)?props.embeddable:undefined);const[loading,setLoading]=Object(external_osdSharedDeps_React_["useState"])(!isWithEmbeddable(props));const[error,setError]=Object(external_osdSharedDeps_React_["useState"])();const latestInput=external_osdSharedDeps_React_default.a.useRef(props.input);Object(external_osdSharedDeps_React_["useEffect"])(()=>{latestInput.current=input},[input]);const factoryFromProps=isWithFactory(props)?props.factory:undefined;const embeddableFromProps=isWithEmbeddable(props)?props.embeddable:undefined;Object(external_osdSharedDeps_React_["useEffect"])(()=>{let canceled=false;if(embeddableFromProps){setEmbeddable(embeddableFromProps);return}let createdEmbeddableRef;if(factoryFromProps){setEmbeddable(undefined);setLoading(true);factoryFromProps.create(latestInput.current).then(createdEmbeddable=>{if(canceled){if(createdEmbeddable){createdEmbeddable.destroy()}}else{createdEmbeddableRef=createdEmbeddable;setEmbeddable(createdEmbeddable)}}).catch(err=>{if(canceled)return;setError(err===null||err===void 0?void 0:err.message)}).finally(()=>{if(canceled)return;setLoading(false)})}return()=>{canceled=true;if(createdEmbeddableRef){createdEmbeddableRef.destroy()}}},[factoryFromProps,embeddableFromProps]);Object(external_osdSharedDeps_React_["useEffect"])(()=>{if(!embeddable)return;if(isErrorEmbeddable(embeddable))return;if(!onInputUpdated)return;const sub=embeddable.getInput$().subscribe(newInput=>{onInputUpdated(newInput)});return()=>{sub.unsubscribe()}},[embeddable,onInputUpdated]);return external_osdSharedDeps_React_default.a.createElement(embeddable_root_EmbeddableRoot,{embeddable:embeddable,loading:loading,error:error,input:input})};var lib_inspector=__webpack_require__(13);function edit_panel_action_defineProperty(obj,key,value){key=edit_panel_action_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function edit_panel_action_toPropertyKey(arg){var key=edit_panel_action_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function edit_panel_action_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}const ACTION_EDIT_PANEL="editPanel";class edit_panel_action_EditPanelAction{constructor(getEmbeddableFactory,application,stateTransfer){var _this$application;this.getEmbeddableFactory=getEmbeddableFactory;this.application=application;this.stateTransfer=stateTransfer;edit_panel_action_defineProperty(this,"type",ACTION_EDIT_PANEL);edit_panel_action_defineProperty(this,"id",ACTION_EDIT_PANEL);edit_panel_action_defineProperty(this,"order",50);edit_panel_action_defineProperty(this,"currentAppId",void 0);if((_this$application=this.application)!==null&&_this$application!==void 0&&_this$application.currentAppId$){this.application.currentAppId$.pipe(Object(external_osdSharedDeps_RxjsOperators_["take"])(1)).subscribe(appId=>this.currentAppId=appId)}}getDisplayName(_ref){let{embeddable:embeddable}=_ref;const factory=this.getEmbeddableFactory(embeddable.type);if(!factory){throw new errors_EmbeddableFactoryNotFoundError(embeddable.type)}return external_osdSharedDeps_OsdI18n_["i18n"].translate("embeddableApi.panel.editPanel.displayName",{defaultMessage:"Edit {value}",values:{value:factory.getDisplayName()}})}getIconType(){return"pencil"}async isCompatible(_ref2){let{embeddable:embeddable}=_ref2;const canEditEmbeddable=Boolean(embeddable&&embeddable.getOutput().editable&&(embeddable.getOutput().editUrl||embeddable.getOutput().editApp&&embeddable.getOutput().editPath));const inDashboardEditMode=embeddable.getInput().viewMode===ViewMode.EDIT;return Boolean(canEditEmbeddable&&inDashboardEditMode)}async execute(context){const appTarget=this.getAppTarget(context);if(appTarget){if(this.stateTransfer&&appTarget.state){await this.stateTransfer.navigateToEditor(appTarget.app,{path:appTarget.path,state:appTarget.state})}else{await this.application.navigateToApp(appTarget.app,{path:appTarget.path})}return}const href=await this.getHref(context);if(href){window.location.href=href;return}}getAppTarget(_ref3){let{embeddable:embeddable}=_ref3;const app=embeddable?embeddable.getOutput().editApp:undefined;const path=embeddable?embeddable.getOutput().editPath:undefined;if(app&&path){if(this.currentAppId){const byValueMode=!embeddable.getInput().savedObjectId;const state={originatingApp:this.currentAppId,valueInput:byValueMode?this.getExplicitInput({embeddable:embeddable}):undefined,embeddableId:embeddable.id};return{app:app,path:path,state:state}}return{app:app,path:path}}}async getHref(_ref4){let{embeddable:embeddable}=_ref4;const editUrl=embeddable?embeddable.getOutput().editUrl:undefined;return editUrl?editUrl:""}getExplicitInput(_ref5){var _getInput$panels$embe,_embeddable$getRoot;let{embeddable:embeddable}=_ref5;return(_getInput$panels$embe=(_embeddable$getRoot=embeddable.getRoot())===null||_embeddable$getRoot===void 0||(_embeddable$getRoot=_embeddable$getRoot.getInput())===null||_embeddable$getRoot===void 0||(_embeddable$getRoot=_embeddable$getRoot.panels)===null||_embeddable$getRoot===void 0||(_embeddable$getRoot=_embeddable$getRoot[embeddable.id])===null||_embeddable$getRoot===void 0?void 0:_embeddable$getRoot.explicitInput)!==null&&_getInput$panels$embe!==void 0?_getInput$panels$embe:embeddable.getInput()}}const isValueClickTriggerContext=context=>context.data&&"data"in context.data;const isRangeSelectTriggerContext=context=>context.data&&"range"in context.data;const CONTEXT_MENU_TRIGGER="CONTEXT_MENU_TRIGGER";const contextMenuTrigger={id:CONTEXT_MENU_TRIGGER,title:"Context menu",description:"Triggered on top-right corner context-menu select."};const PANEL_BADGE_TRIGGER="PANEL_BADGE_TRIGGER";const panelBadgeTrigger={id:PANEL_BADGE_TRIGGER,title:"Panel badges",description:"Actions appear in title bar when an embeddable loads in a panel."};const PANEL_NOTIFICATION_TRIGGER="PANEL_NOTIFICATION_TRIGGER";const panelNotificationTrigger={id:PANEL_NOTIFICATION_TRIGGER,title:"Panel notifications",description:"Actions appear in top-right corner of a panel."};var uuid=__webpack_require__(20);var uuid_default=__webpack_require__.n(uuid);function container_defineProperty(obj,key,value){key=container_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function container_toPropertyKey(arg){var key=container_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function container_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}const getKeys=o=>Object.keys(o);class container_Container extends embeddable_Embeddable{constructor(input,output,getFactory,parent){super(input,output,parent);this.getFactory=getFactory;container_defineProperty(this,"isContainer",true);container_defineProperty(this,"children",{});container_defineProperty(this,"subscription",void 0);this.subscription=this.getInput$().subscribe(()=>this.maybeUpdateChildren())}updateInputForChild(id,changes){if(!this.input.panels[id]){throw new errors_PanelNotFoundError}const panels={panels:{...this.input.panels,[id]:{...this.input.panels[id],explicitInput:{...this.input.panels[id].explicitInput,...changes}}}};this.updateInput(panels)}reload(){Object.values(this.children).forEach(child=>child.reload())}async addNewEmbeddable(type,explicitInput){const factory=this.getFactory(type);if(!factory){throw new errors_EmbeddableFactoryNotFoundError(type)}const panelState=this.createNewPanelState(factory,explicitInput);return this.createAndSaveEmbeddable(type,panelState)}removeEmbeddable(embeddableId){const panels={...this.input.panels};delete panels[embeddableId];this.updateInput({panels:panels})}getChildIds(){return Object.keys(this.children)}getChild(id){return this.children[id]}getInputForChild(embeddableId){const containerInput=this.getInheritedInput(embeddableId);const panelState=this.getPanelState(embeddableId);const explicitInput=panelState.explicitInput;const explicitFiltered={};const keys=getKeys(panelState.explicitInput);keys.forEach(key=>{if(explicitInput[key]===undefined&&containerInput[key]!==undefined){return}explicitFiltered[key]=explicitInput[key]});return{...containerInput,...explicitFiltered}}destroy(){super.destroy();Object.values(this.children).forEach(child=>child.destroy());this.subscription.unsubscribe()}async untilEmbeddableLoaded(id){if(!this.input.panels[id]){throw new errors_PanelNotFoundError}if(this.output.embeddableLoaded[id]){return this.children[id]}return new Promise((resolve,reject)=>{const subscription=Object(external_osdSharedDeps_Rxjs_["merge"])(this.getOutput$(),this.getInput$()).subscribe(()=>{if(this.output.embeddableLoaded[id]){subscription.unsubscribe();resolve(this.children[id])}if(this.input.panels[id]===undefined){subscription.unsubscribe();resolve(undefined)}})})}createNewPanelState(factory){let partial=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const embeddableId=partial.id||uuid_default.a.v4();const explicitInput=this.createNewExplicitEmbeddableInput(embeddableId,factory,partial);return{type:factory.type,explicitInput:{...explicitInput,id:embeddableId}}}getPanelState(embeddableId){if(this.input.panels[embeddableId]===undefined){throw new errors_PanelNotFoundError}const panelState=this.input.panels[embeddableId];return panelState}async createAndSaveEmbeddable(type,panelState){this.updateInput({panels:{...this.input.panels,[panelState.explicitInput.id]:panelState}});return await this.untilEmbeddableLoaded(panelState.explicitInput.id)}createNewExplicitEmbeddableInput(id,factory){let partial=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};const inheritedInput=this.getInheritedInput(id);const defaults=factory.getDefaultInput(partial);const explicitInput=partial;getKeys(defaults).forEach(key=>{const inheritedValue=inheritedInput[key];if(inheritedValue===undefined&&explicitInput[key]===undefined){explicitInput[key]=defaults[key]}});return explicitInput}onPanelRemoved(id){const embeddable=this.getChild(id);if(embeddable){embeddable.destroy();delete this.children[id]}this.updateOutput({embeddableLoaded:{...this.output.embeddableLoaded,[id]:undefined}})}async onPanelAdded(panel){this.updateOutput({embeddableLoaded:{...this.output.embeddableLoaded,[panel.explicitInput.id]:false}});let embeddable;const inputForChild=this.getInputForChild(panel.explicitInput.id);try{const factory=this.getFactory(panel.type);if(!factory){throw new errors_EmbeddableFactoryNotFoundError(panel.type)}embeddable=isSavedObjectEmbeddableInput(inputForChild)?await factory.createFromSavedObject(inputForChild.savedObjectId,inputForChild,this):await factory.create(inputForChild,this)}catch(e){embeddable=new error_embeddable_ErrorEmbeddable(e,{id:panel.explicitInput.id},this)}if(embeddable){if(!this.input.panels[panel.explicitInput.id]){embeddable.destroy();return}this.children[embeddable.id]=embeddable;this.updateOutput({embeddableLoaded:{...this.output.embeddableLoaded,[panel.explicitInput.id]:true}})}else if(embeddable===undefined){this.removeEmbeddable(panel.explicitInput.id)}return embeddable}maybeUpdateChildren(){const allIds=Object.keys({...this.input.panels,...this.output.embeddableLoaded});allIds.forEach(id=>{if(this.input.panels[id]!==undefined&&this.output.embeddableLoaded[id]===undefined){this.onPanelAdded(this.input.panels[id])}else if(this.input.panels[id]===undefined&&this.output.embeddableLoaded[id]!==undefined){this.onPanelRemoved(id)}})}}var classnames=__webpack_require__(9);var classnames_default=__webpack_require__.n(classnames);function embeddable_child_panel_defineProperty(obj,key,value){key=embeddable_child_panel_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function embeddable_child_panel_toPropertyKey(arg){var key=embeddable_child_panel_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function embeddable_child_panel_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}class embeddable_child_panel_EmbeddableChildPanel extends external_osdSharedDeps_React_default.a.Component{constructor(props){super(props);embeddable_child_panel_defineProperty(this,"mounted",void 0);embeddable_child_panel_defineProperty(this,"embeddable",void 0);embeddable_child_panel_defineProperty(this,"subscription",void 0);this.state={loading:true};this.mounted=false}async componentDidMount(){this.mounted=true;const{container:container}=this.props;this.embeddable=await container.untilEmbeddableLoaded(this.props.embeddableId);if(this.mounted){this.setState({loading:false})}}componentWillUnmount(){this.mounted=false;if(this.subscription){this.subscription.unsubscribe()}}render(){const{PanelComponent:PanelComponent}=this.props;const classes=classnames_default()("embPanel",{"embPanel-isLoading":this.state.loading});return external_osdSharedDeps_React_default.a.createElement("div",{className:classes},this.state.loading||!this.embeddable?external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiLoadingChart"],{size:"l",mono:true}):external_osdSharedDeps_React_default.a.createElement(PanelComponent,{embeddable:this.embeddable}))}}var ui_actions=__webpack_require__(11);function inspect_panel_action_defineProperty(obj,key,value){key=inspect_panel_action_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function inspect_panel_action_toPropertyKey(arg){var key=inspect_panel_action_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function inspect_panel_action_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}const ACTION_INSPECT_PANEL="openInspector";class inspect_panel_action_InspectPanelAction{constructor(inspector){this.inspector=inspector;inspect_panel_action_defineProperty(this,"type",ACTION_INSPECT_PANEL);inspect_panel_action_defineProperty(this,"id",ACTION_INSPECT_PANEL);inspect_panel_action_defineProperty(this,"order",20)}getDisplayName(){return external_osdSharedDeps_OsdI18n_["i18n"].translate("embeddableApi.panel.inspectPanel.displayName",{defaultMessage:"Inspect"})}getIconType(){return"inspect"}async isCompatible(_ref){let{embeddable:embeddable}=_ref;return this.inspector.isAvailable(embeddable.getInspectorAdapters())}async execute(_ref2){let{embeddable:embeddable}=_ref2;const adapters=embeddable.getInspectorAdapters();if(!await this.isCompatible({embeddable:embeddable})||adapters===undefined){throw new Error("Action not compatible with context")}const session=this.inspector.open(adapters,{title:embeddable.getTitle()});const originalDestroy=embeddable.destroy;embeddable.destroy=()=>{session.close();if(originalDestroy){originalDestroy.call(embeddable)}};session.onClose.finally(()=>{embeddable.destroy=originalDestroy})}}var external_osdSharedDeps_OsdI18nReact_=__webpack_require__(6);function SavedObjectFinderCreateNew(_ref){let{menuItems:menuItems}=_ref;const[isCreateMenuOpen,setCreateMenuOpen]=Object(external_osdSharedDeps_React_["useState"])(false);const toggleCreateMenu=()=>{setCreateMenuOpen(!isCreateMenuOpen)};const closeCreateMenu=()=>{setCreateMenuOpen(false)};return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPopover"],{id:"createNew",button:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSmallButton"],{"data-test-subj":"createNew",iconType:"plus",iconSide:"left",onClick:toggleCreateMenu,fill:true},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"embeddableApi.addPanel.createNewDefaultOption",defaultMessage:"Create new"})),isOpen:isCreateMenuOpen,closePopover:closeCreateMenu,panelPaddingSize:"none",anchorPosition:"downRight"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiContextMenuPanel"],{items:menuItems,size:"s"}))}function add_panel_flyout_defineProperty(obj,key,value){key=add_panel_flyout_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function add_panel_flyout_toPropertyKey(arg){var key=add_panel_flyout_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function add_panel_flyout_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}function capitalize(_ref){let[first,...letters]=_ref;return`${first.toUpperCase()}${letters.join("")}`}class add_panel_flyout_AddPanelFlyout extends external_osdSharedDeps_React_default.a.Component{constructor(props){super(props);add_panel_flyout_defineProperty(this,"lastToast",void 0);add_panel_flyout_defineProperty(this,"state",{isCreateMenuOpen:false});add_panel_flyout_defineProperty(this,"showToast",name=>{if(this.lastToast){this.props.notifications.toasts.remove(this.lastToast)}this.lastToast=this.props.notifications.toasts.addSuccess({title:external_osdSharedDeps_OsdI18n_["i18n"].translate("embeddableApi.addPanel.savedObjectAddedToContainerSuccessMessageTitle",{defaultMessage:"{savedObjectName} was added",values:{savedObjectName:name}}),"data-test-subj":"addObjectToContainerSuccess"})});add_panel_flyout_defineProperty(this,"createNewEmbeddable",async type=>{this.props.onClose();const factory=this.props.getFactory(type);if(!factory){throw new errors_EmbeddableFactoryNotFoundError(type)}const explicitInput=await factory.getExplicitInput();const embeddable=await this.props.container.addNewEmbeddable(type,explicitInput);if(embeddable){this.showToast(embeddable.getInput().title||"")}});add_panel_flyout_defineProperty(this,"onAddPanel",async(savedObjectId,savedObjectType,name)=>{const factoryForSavedObjectType=[...this.props.getAllFactories()].find(factory=>factory.savedObjectMetaData&&factory.savedObjectMetaData.type===savedObjectType);if(!factoryForSavedObjectType){throw new errors_EmbeddableFactoryNotFoundError(savedObjectType)}this.props.container.addNewEmbeddable(factoryForSavedObjectType.type,{savedObjectId:savedObjectId});this.showToast(name)})}getCreateMenuItems(){return[...this.props.getAllFactories()].filter(factory=>factory.isEditable()&&!factory.isContainerType&&factory.canCreateNew()).map(factory=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiContextMenuItem"],{key:factory.type,"data-test-subj":`createNew-${factory.type}`,onClick:()=>this.createNewEmbeddable(factory.type),className:"embPanel__addItem"},capitalize(factory.getDisplayName())))}render(){const SavedObjectFinder=this.props.SavedObjectFinder;const metaData=[...this.props.getAllFactories()].filter(embeddableFactory=>Boolean(embeddableFactory.savedObjectMetaData)&&!embeddableFactory.isContainerType).map(_ref2=>{let{savedObjectMetaData:savedObjectMetaData}=_ref2;return savedObjectMetaData});const savedObjectsFinder=external_osdSharedDeps_React_default.a.createElement(SavedObjectFinder,{onChoose:this.onAddPanel,savedObjectMetaData:metaData,showFilter:true,noItemsMessage:external_osdSharedDeps_OsdI18n_["i18n"].translate("embeddableApi.addPanel.noMatchingObjectsMessage",{defaultMessage:"No matching objects found."})},external_osdSharedDeps_React_default.a.createElement(SavedObjectFinderCreateNew,{menuItems:this.getCreateMenuItems()}));return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlyoutHeader"],{hasBorder:true},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_osdSharedDeps_React_default.a.createElement("h2",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"embeddableApi.addPanel.Title",defaultMessage:"Add panels"})))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlyoutBody"],null,savedObjectsFinder))}}async function openAddPanelFlyout(options){const{embeddable:embeddable,getFactory:getFactory,getAllFactories:getAllFactories,overlays:overlays,notifications:notifications,SavedObjectFinder:SavedObjectFinder}=options;const flyoutSession=overlays.openFlyout(Object(opensearchDashboardsReact_public_["toMountPoint"])(external_osdSharedDeps_React_default.a.createElement(add_panel_flyout_AddPanelFlyout,{container:embeddable,onClose:()=>{if(flyoutSession){flyoutSession.close()}},getFactory:getFactory,getAllFactories:getAllFactories,notifications:notifications,SavedObjectFinder:SavedObjectFinder})),{"data-test-subj":"dashboardAddPanel",ownFocus:true})}function add_panel_action_defineProperty(obj,key,value){key=add_panel_action_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function add_panel_action_toPropertyKey(arg){var key=add_panel_action_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function add_panel_action_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}const ACTION_ADD_PANEL="ACTION_ADD_PANEL";class add_panel_action_AddPanelAction{constructor(getFactory,getAllFactories,overlays,notifications,SavedObjectFinder){this.getFactory=getFactory;this.getAllFactories=getAllFactories;this.overlays=overlays;this.notifications=notifications;this.SavedObjectFinder=SavedObjectFinder;add_panel_action_defineProperty(this,"type",ACTION_ADD_PANEL);add_panel_action_defineProperty(this,"id",ACTION_ADD_PANEL)}getDisplayName(){return external_osdSharedDeps_OsdI18n_["i18n"].translate("embeddableApi.addPanel.displayName",{defaultMessage:"Add panel"})}getIconType(){return"plusInCircleFilled"}async isCompatible(context){const{embeddable:embeddable}=context;return embeddable.getIsContainer()&&embeddable.getInput().viewMode===ViewMode.EDIT}async execute(context){const{embeddable:embeddable}=context;if(!embeddable.getIsContainer()||!await this.isCompatible(context)){throw new Error("Context is incompatible")}openAddPanelFlyout({embeddable:embeddable,getFactory:this.getFactory,getAllFactories:this.getAllFactories,overlays:this.overlays,notifications:this.notifications,SavedObjectFinder:this.SavedObjectFinder})}}function remove_panel_action_defineProperty(obj,key,value){key=remove_panel_action_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function remove_panel_action_toPropertyKey(arg){var key=remove_panel_action_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function remove_panel_action_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}const REMOVE_PANEL_ACTION="deletePanel";function hasExpandedPanelInput(container){return container.getInput().expandedPanelId!==undefined}class remove_panel_action_RemovePanelAction{constructor(){remove_panel_action_defineProperty(this,"type",REMOVE_PANEL_ACTION);remove_panel_action_defineProperty(this,"id",REMOVE_PANEL_ACTION);remove_panel_action_defineProperty(this,"order",1)}getDisplayName(){return external_osdSharedDeps_OsdI18n_["i18n"].translate("embeddableApi.panel.removePanel.displayName",{defaultMessage:"Delete from dashboard"})}getIconType(){return"trash"}async isCompatible(_ref){let{embeddable:embeddable}=_ref;const isPanelExpanded=embeddable.parent&&hasExpandedPanelInput(embeddable.parent)&&embeddable.parent.getInput().expandedPanelId===embeddable.id;return Boolean(embeddable.parent&&embeddable.getInput().viewMode===ViewMode.EDIT&&!isPanelExpanded)}async execute(_ref2){let{embeddable:embeddable}=_ref2;if(!embeddable.parent||!await this.isCompatible({embeddable:embeddable})){throw new ui_actions["IncompatibleActionError"]}embeddable.parent.removeEmbeddable(embeddable.id)}}function customize_panel_action_defineProperty(obj,key,value){key=customize_panel_action_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function customize_panel_action_toPropertyKey(arg){var key=customize_panel_action_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function customize_panel_action_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}const ACTION_CUSTOMIZE_PANEL="ACTION_CUSTOMIZE_PANEL";class customize_panel_action_CustomizePanelTitleAction{constructor(getDataFromUser){this.getDataFromUser=getDataFromUser;customize_panel_action_defineProperty(this,"type",ACTION_CUSTOMIZE_PANEL);customize_panel_action_defineProperty(this,"id",ACTION_CUSTOMIZE_PANEL);customize_panel_action_defineProperty(this,"order",40)}getDisplayName(){return external_osdSharedDeps_OsdI18n_["i18n"].translate("embeddableApi.customizePanel.action.displayName",{defaultMessage:"Edit panel title"})}getIconType(){return"pencil"}async isCompatible(_ref){let{embeddable:embeddable}=_ref;return embeddable.getInput().viewMode===ViewMode.EDIT?true:false}async execute(_ref2){let{embeddable:embeddable}=_ref2;const data=await this.getDataFromUser({embeddable:embeddable});const{title:title,hideTitle:hideTitle}=data;embeddable.updateInput({title:title,hidePanelTitles:hideTitle})}}function panel_options_menu_defineProperty(obj,key,value){key=panel_options_menu_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function panel_options_menu_toPropertyKey(arg){var key=panel_options_menu_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function panel_options_menu_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}class panel_options_menu_PanelOptionsMenu extends external_osdSharedDeps_React_default.a.Component{static getDerivedStateFromProps(props,state){if(props.closeContextMenu){return{...state,isPopoverOpen:false}}else{return state}}constructor(props){super(props);panel_options_menu_defineProperty(this,"mounted",false);panel_options_menu_defineProperty(this,"closePopover",()=>{if(this.mounted){this.setState({isPopoverOpen:false})}});panel_options_menu_defineProperty(this,"toggleContextMenu",()=>{if(!this.mounted)return;const after=()=>{if(!this.state.isPopoverOpen)return;this.setState({actionContextMenuPanel:undefined});this.props.getActionContextMenuPanel().then(actionContextMenuPanel=>{if(!this.mounted)return;this.setState({actionContextMenuPanel:actionContextMenuPanel})}).catch(error=>console.error(error))};this.setState(_ref=>{let{isPopoverOpen:isPopoverOpen}=_ref;return{isPopoverOpen:!isPopoverOpen}},after)});this.state={actionContextMenuPanel:undefined,isPopoverOpen:false}}async componentDidMount(){this.mounted=true;this.setState({actionContextMenuPanel:undefined});const actionContextMenuPanel=await this.props.getActionContextMenuPanel();if(this.mounted){this.setState({actionContextMenuPanel:actionContextMenuPanel})}}componentWillUnmount(){this.mounted=false}render(){const{isViewMode:isViewMode,title:title}=this.props;const enhancedAriaLabel=external_osdSharedDeps_OsdI18n_["i18n"].translate("embeddableApi.panel.optionsMenu.panelOptionsButtonEnhancedAriaLabel",{defaultMessage:"Panel options for {title}",values:{title:title}});const ariaLabelWithoutTitle=external_osdSharedDeps_OsdI18n_["i18n"].translate("embeddableApi.panel.optionsMenu.panelOptionsButtonAriaLabel",{defaultMessage:"Panel options"});const button=external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiButtonIcon"],{iconType:isViewMode?"boxesHorizontal":"gear",color:"text",className:"embPanel__optionsMenuButton","aria-label":title?enhancedAriaLabel:ariaLabelWithoutTitle,"data-test-subj":"embeddablePanelToggleMenuIcon",onClick:this.toggleContextMenu});return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPopover"],{className:"embPanel__optionsMenuPopover",button:button,isOpen:this.state.isPopoverOpen,closePopover:this.closePopover,panelPaddingSize:"none",anchorPosition:"downRight","data-test-subj":this.state.isPopoverOpen?"embeddablePanelContextMenuOpen":"embeddablePanelContextMenuClosed"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiContextMenu"],{initialPanelId:"mainMenu",panels:this.state.actionContextMenuPanel||[],size:"s"}))}}function renderBadges(badges,embeddable){return badges.map(badge=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiBadge"],{key:badge.id,className:"embPanel__headerBadge",iconType:badge.getIconType({embeddable:embeddable,trigger:panelBadgeTrigger}),onClick:()=>badge.execute({embeddable:embeddable,trigger:panelBadgeTrigger}),onClickAriaLabel:badge.getDisplayName({embeddable:embeddable,trigger:panelBadgeTrigger})},badge.getDisplayName({embeddable:embeddable,trigger:panelBadgeTrigger})))}function renderNotifications(notifications,embeddable){return notifications.map(notification=>{const context={embeddable:embeddable};let badge=notification.MenuItem?external_osdSharedDeps_React_default.a.createElement(Object(opensearchDashboardsReact_public_["uiToReactComponent"])(notification.MenuItem)):external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiNotificationBadge"],{"data-test-subj":`embeddablePanelNotification-${notification.id}`,key:notification.id,style:{marginTop:"4px",marginRight:"4px"},onClick:()=>notification.execute({...context,trigger:panelNotificationTrigger})},notification.getDisplayName({...context,trigger:panelNotificationTrigger}));if(notification.getDisplayNameTooltip){const tooltip=notification.getDisplayNameTooltip({...context,trigger:panelNotificationTrigger});if(tooltip){badge=external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiToolTip"],{position:"top",delay:"regular",content:tooltip,key:notification.id},badge)}}return badge})}function getViewDescription(embeddable){if("getDescription"in embeddable){const description=embeddable.getDescription();if(description){return description}}return""}function PanelHeader(_ref){let{title:title,isViewMode:isViewMode,hidePanelTitle:hidePanelTitle,hidePanelAction:hidePanelAction,getActionContextMenuPanel:getActionContextMenuPanel,closeContextMenu:closeContextMenu,badges:badges,notifications:notifications,embeddable:embeddable,headerId:headerId}=_ref;const description=getViewDescription(embeddable);const showTitle=!hidePanelTitle&&(!isViewMode||title);const showPanelBar=!isViewMode||badges.length>0||notifications.length>0||showTitle||description;const classes=classnames_default()("embPanel__header",{"embPanel__header--floater":!showPanelBar});const placeholderTitle=external_osdSharedDeps_OsdI18n_["i18n"].translate("embeddableApi.panel.placeholderTitle",{defaultMessage:"[No Title]"});const getAriaLabel=()=>external_osdSharedDeps_React_default.a.createElement("span",{id:headerId},showPanelBar&&title?external_osdSharedDeps_OsdI18n_["i18n"].translate("embeddableApi.panel.enhancedDashboardPanelAriaLabel",{defaultMessage:"Dashboard panel: {title}",values:{title:title||placeholderTitle}}):external_osdSharedDeps_OsdI18n_["i18n"].translate("embeddableApi.panel.dashboardPanelAriaLabel",{defaultMessage:"Dashboard panel"}));if(!showPanelBar){return external_osdSharedDeps_React_default.a.createElement("div",{className:classes},!hidePanelAction&&external_osdSharedDeps_React_default.a.createElement(panel_options_menu_PanelOptionsMenu,{getActionContextMenuPanel:getActionContextMenuPanel,isViewMode:isViewMode,closeContextMenu:closeContextMenu,title:title}),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiScreenReaderOnly"],null,getAriaLabel()))}const renderTitle=()=>{const titleComponent=showTitle?external_osdSharedDeps_React_default.a.createElement("span",{className:title?"embPanel__titleText":"embPanel__placeholderTitleText"},title||placeholderTitle):undefined;return description?external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiToolTip"],{content:description,delay:"regular",position:"top",anchorClassName:"embPanel__titleTooltipAnchor"},external_osdSharedDeps_React_default.a.createElement("span",{className:"embPanel__titleInner"},titleComponent," ",external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiIcon"],{type:"iInCircle",color:"subdued"}))):external_osdSharedDeps_React_default.a.createElement("span",{className:"embPanel__titleInner"},titleComponent)};return external_osdSharedDeps_React_default.a.createElement("figcaption",{className:classes,"data-test-subj":`embeddablePanelHeading-${(title||"").replace(/\s/g,"")}`},external_osdSharedDeps_React_default.a.createElement("h2",{"data-test-subj":"dashboardPanelTitle",className:"embPanel__title embPanel__dragger"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiScreenReaderOnly"],null,getAriaLabel()),renderTitle(),renderBadges(badges,embeddable)),renderNotifications(notifications,embeddable),!hidePanelAction&&external_osdSharedDeps_React_default.a.createElement(panel_options_menu_PanelOptionsMenu,{isViewMode:isViewMode,getActionContextMenuPanel:getActionContextMenuPanel,closeContextMenu:closeContextMenu,title:title}))}function customize_panel_modal_defineProperty(obj,key,value){key=customize_panel_modal_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function customize_panel_modal_toPropertyKey(arg){var key=customize_panel_modal_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function customize_panel_modal_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}class customize_panel_modal_CustomizePanelModal extends external_osdSharedDeps_React_["Component"]{constructor(props){var _props$embeddable$get;super(props);customize_panel_modal_defineProperty(this,"reset",()=>{this.setState({title:this.props.embeddable.getOutput().defaultTitle})});customize_panel_modal_defineProperty(this,"onHideTitleToggle",()=>{this.setState(prevState=>({hideTitle:!prevState.hideTitle}))});customize_panel_modal_defineProperty(this,"save",()=>{const newTitle=this.state.title===this.props.embeddable.getOutput().defaultTitle?undefined:this.state.title;this.props.updateTitle(newTitle,this.state.hideTitle)});this.state={hideTitle:props.embeddable.getInput().hidePanelTitles,title:(_props$embeddable$get=props.embeddable.getInput().title)!==null&&_props$embeddable$get!==void 0?_props$embeddable$get:this.props.embeddable.getOutput().defaultTitle}}render(){return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiModalHeader"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiModalHeaderTitle"],{"data-test-subj":"customizePanelTitle"},"Customize panel")),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiModalBody"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCompressedFormRow"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCompressedSwitch"],{checked:!this.state.hideTitle,"data-test-subj":"customizePanelHideTitle",id:"hideTitle",label:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{defaultMessage:"Show panel title",id:"embeddableApi.customizePanel.modal.showTitle"}),onChange:this.onHideTitleToggle})),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCompressedFormRow"],{label:external_osdSharedDeps_OsdI18n_["i18n"].translate("embeddableApi.customizePanel.modal.optionsMenuForm.panelTitleFormRowLabel",{defaultMessage:"Panel title"})},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCompressedFieldText"],{id:"panelTitleInput","data-test-subj":"customEmbeddablePanelTitleInput",name:"min",type:"text",disabled:this.state.hideTitle,value:this.state.title||"",onChange:e=>this.setState({title:e.target.value}),"aria-label":external_osdSharedDeps_OsdI18n_["i18n"].translate("embeddableApi.customizePanel.modal.optionsMenuForm.panelTitleInputAriaLabel",{defaultMessage:"Enter a custom title for your panel"}),append:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSmallButtonEmpty"],{"data-test-subj":"resetCustomEmbeddablePanelTitle",onClick:this.reset,disabled:this.state.hideTitle},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"embeddableApi.customizePanel.modal.optionsMenuForm.resetCustomDashboardButtonLabel",defaultMessage:"Reset"}))}))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiModalFooter"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSmallButtonEmpty"],{onClick:()=>this.props.cancel()},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"embeddableApi.customizePanel.modal.cancel",defaultMessage:"Cancel"})),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSmallButton"],{"data-test-subj":"saveNewTitleButton",onClick:this.save,fill:true},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"embeddableApi.customizePanel.modal.saveButtonTitle",defaultMessage:"Save"}))))}}function EmbeddableErrorLabel(props){if(!props.error)return null;const labelText=props.error.name==="AbortError"?external_osdSharedDeps_OsdI18n_["i18n"].translate("embeddableApi.panel.labelAborted",{defaultMessage:"Aborted"}):external_osdSharedDeps_OsdI18n_["i18n"].translate("embeddableApi.panel.labelError",{defaultMessage:"Error"});return external_osdSharedDeps_React_default.a.createElement("div",{className:"embPanel__labelWrapper"},external_osdSharedDeps_React_default.a.createElement("div",{className:"embPanel__label"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiToolTip"],{"data-test-subj":"embeddableErrorMessage",content:props.error.message},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiBadge"],{"data-test-subj":"embeddableErrorLabel",color:"danger"},labelText))))}function embeddable_panel_extends(){embeddable_panel_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return embeddable_panel_extends.apply(this,arguments)}function embeddable_panel_defineProperty(obj,key,value){key=embeddable_panel_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function embeddable_panel_toPropertyKey(arg){var key=embeddable_panel_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function embeddable_panel_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}const sortByOrderField=(_ref,_ref2)=>{let{order:orderA}=_ref;let{order:orderB}=_ref2;return(orderB||0)-(orderA||0)};const removeById=disabledActions=>_ref3=>{let{id:id}=_ref3;return disabledActions.indexOf(id)===-1};class embeddable_panel_EmbeddablePanel extends external_osdSharedDeps_React_default.a.Component{constructor(props){var _embeddable$parent,_input$viewMode;super(props);embeddable_panel_defineProperty(this,"embeddableRoot",void 0);embeddable_panel_defineProperty(this,"parentSubscription",void 0);embeddable_panel_defineProperty(this,"subscription",new external_osdSharedDeps_Rxjs_["Subscription"]);embeddable_panel_defineProperty(this,"mounted",false);embeddable_panel_defineProperty(this,"generateId",Object(external_osdSharedDeps_ElasticEui_["htmlIdGenerator"])());embeddable_panel_defineProperty(this,"onFocus",focusedPanelIndex=>{this.setState({focusedPanelIndex:focusedPanelIndex})});embeddable_panel_defineProperty(this,"onBlur",blurredPanelIndex=>{if(this.state.focusedPanelIndex===blurredPanelIndex){this.setState({focusedPanelIndex:undefined})}});embeddable_panel_defineProperty(this,"closeMyContextMenuPanel",()=>{if(this.mounted){this.setState({closeContextMenu:true},()=>{if(this.mounted){this.setState({closeContextMenu:false})}})}});embeddable_panel_defineProperty(this,"getActionContextMenuPanel",async()=>{let regularActions=await this.props.getActions(CONTEXT_MENU_TRIGGER,{embeddable:this.props.embeddable});const{disabledActions:disabledActions}=this.props.embeddable.getInput();if(disabledActions){const removeDisabledActions=removeById(disabledActions);regularActions=regularActions.filter(removeDisabledActions)}const createGetUserData=overlays=>async function getUserData(context){return new Promise(resolve=>{const session=overlays.openModal(Object(opensearchDashboardsReact_public_["toMountPoint"])(external_osdSharedDeps_React_default.a.createElement(customize_panel_modal_CustomizePanelModal,{embeddable:context.embeddable,updateTitle:(title,hideTitle)=>{session.close();resolve({title:title,hideTitle:hideTitle})},cancel:()=>session.close()})),{"data-test-subj":"customizePanel"})})};const extraActions=[new customize_panel_action_CustomizePanelTitleAction(createGetUserData(this.props.overlays)),new add_panel_action_AddPanelAction(this.props.getEmbeddableFactory,this.props.getAllEmbeddableFactories,this.props.overlays,this.props.notifications,this.props.SavedObjectFinder),new inspect_panel_action_InspectPanelAction(this.props.inspector),new remove_panel_action_RemovePanelAction,new edit_panel_action_EditPanelAction(this.props.getEmbeddableFactory,this.props.application,this.props.stateTransfer)];const sortedActions=[...regularActions,...extraActions].sort(sortByOrderField);return await Object(ui_actions["buildContextMenuForActions"])({actions:sortedActions.map(action=>({action:action,context:{embeddable:this.props.embeddable},trigger:contextMenuTrigger})),closeMenu:this.closeMyContextMenuPanel})});const{embeddable:embeddable}=this.props;const input=embeddable.getInput();const parentInput=(_embeddable$parent=embeddable.parent)===null||_embeddable$parent===void 0?void 0:_embeddable$parent.getInput();const viewMode=(_input$viewMode=input===null||input===void 0?void 0:input.viewMode)!==null&&_input$viewMode!==void 0?_input$viewMode:ViewMode.EDIT;const hidePanelTitle=Boolean(parentInput===null||parentInput===void 0?void 0:parentInput.hidePanelTitles)||Boolean(input===null||input===void 0?void 0:input.hidePanelTitles);const hidePanelAction=Boolean(parentInput===null||parentInput===void 0?void 0:parentInput.hidePanelActions)||Boolean(input===null||input===void 0?void 0:input.hidePanelActions);this.state={panels:[],viewMode:viewMode,hidePanelTitle:hidePanelTitle,hidePanelAction:hidePanelAction,closeContextMenu:false,badges:[],notifications:[]};this.embeddableRoot=external_osdSharedDeps_React_default.a.createRef()}async refreshBadges(){let badges=await this.props.getActions(PANEL_BADGE_TRIGGER,{embeddable:this.props.embeddable});if(!this.mounted)return;const{disabledActions:disabledActions}=this.props.embeddable.getInput();if(disabledActions){badges=badges.filter(badge=>disabledActions.indexOf(badge.id)===-1)}this.setState({badges:badges})}async refreshNotifications(){let notifications=await this.props.getActions(PANEL_NOTIFICATION_TRIGGER,{embeddable:this.props.embeddable});if(!this.mounted)return;const{disabledActions:disabledActions}=this.props.embeddable.getInput();if(disabledActions){notifications=notifications.filter(badge=>disabledActions.indexOf(badge.id)===-1)}this.setState({notifications:notifications})}UNSAFE_componentWillMount(){this.mounted=true;const{embeddable:embeddable}=this.props;const{parent:parent}=embeddable;this.subscription.add(embeddable.getInput$().subscribe(async()=>{if(this.mounted){var _embeddable$getInput$;this.setState({viewMode:(_embeddable$getInput$=embeddable.getInput().viewMode)!==null&&_embeddable$getInput$!==void 0?_embeddable$getInput$:ViewMode.EDIT});this.refreshBadges();this.refreshNotifications()}}));if(parent){this.parentSubscription=parent.getInput$().subscribe(async()=>{if(this.mounted&&parent){const input=embeddable.getInput();const parentInput=parent.getInput();this.setState({hidePanelTitle:Boolean(parentInput===null||parentInput===void 0?void 0:parentInput.hidePanelTitles)||Boolean(input===null||input===void 0?void 0:input.hidePanelTitles)});this.setState({hidePanelAction:Boolean(parentInput===null||parentInput===void 0?void 0:parentInput.hidePanelActions)||Boolean(input===null||input===void 0?void 0:input.hidePanelActions)});this.refreshBadges();this.refreshNotifications()}})}}componentWillUnmount(){this.mounted=false;this.subscription.unsubscribe();if(this.parentSubscription){this.parentSubscription.unsubscribe()}if(this.state.errorEmbeddable){this.state.errorEmbeddable.destroy()}this.props.embeddable.destroy()}render(){const viewOnlyMode=this.state.viewMode===ViewMode.VIEW;const classes=classnames_default()("embPanel",{"embPanel--editing":!viewOnlyMode,"embPanel--loading":this.state.loading});const contentAttrs={};if(this.state.loading)contentAttrs["data-loading"]=true;if(this.state.error)contentAttrs["data-error"]=true;const title=this.props.embeddable.getTitle();const headerId=this.generateId();return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPanel"],{className:classes,"data-test-subj":"embeddablePanel","data-test-embeddable-id":this.props.embeddable.id,paddingSize:"none",role:"figure","aria-labelledby":headerId,hasBorder:this.props.hasBorder,hasShadow:this.props.hasShadow},!this.props.hideHeader&&external_osdSharedDeps_React_default.a.createElement(PanelHeader,{getActionContextMenuPanel:this.getActionContextMenuPanel,hidePanelTitle:this.state.hidePanelTitle,hidePanelAction:this.state.hidePanelAction,isViewMode:viewOnlyMode,closeContextMenu:this.state.closeContextMenu,title:title,badges:this.state.badges,notifications:this.state.notifications,embeddable:this.props.embeddable,headerId:headerId}),external_osdSharedDeps_React_default.a.createElement(EmbeddableErrorLabel,{error:this.state.error}),external_osdSharedDeps_React_default.a.createElement("div",embeddable_panel_extends({className:"embPanel__content",ref:this.embeddableRoot},contentAttrs)))}componentDidMount(){if(this.embeddableRoot.current){this.subscription.add(this.props.embeddable.getOutput$().subscribe(output=>{this.setState({error:output.error,loading:output.loading})},error=>{if(this.embeddableRoot.current){const errorEmbeddable=new error_embeddable_ErrorEmbeddable(error,{id:this.props.embeddable.id});errorEmbeddable.render(this.embeddableRoot.current);this.setState({errorEmbeddable:errorEmbeddable})}}));this.props.embeddable.render(this.embeddableRoot.current)}}}function isEmbeddableEditorState(state){return ensureFieldOfTypeExists("originatingApp",state,"string")}function isEmbeddablePackageState(state){return ensureFieldOfTypeExists("type",state,"string")&&ensureFieldOfTypeExists("input",state,"object")}function ensureFieldOfTypeExists(key,obj,type){return obj&&key in obj&&(!type||typeof obj[key]===type)}function embeddable_state_transfer_defineProperty(obj,key,value){key=embeddable_state_transfer_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function embeddable_state_transfer_toPropertyKey(arg){var key=embeddable_state_transfer_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function embeddable_state_transfer_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}class embeddable_state_transfer_EmbeddableStateTransfer{constructor(navigateToApp,scopedHistory,appList){this.navigateToApp=navigateToApp;this.scopedHistory=scopedHistory;this.appList=appList;embeddable_state_transfer_defineProperty(this,"getAppNameFromId",appId=>{var _this$appList;return(_this$appList=this.appList)===null||_this$appList===void 0||(_this$appList=_this$appList.get(appId))===null||_this$appList===void 0?void 0:_this$appList.title})}getIncomingEditorState(options){return this.getIncomingState(isEmbeddableEditorState,{keysToRemoveAfterFetch:options===null||options===void 0?void 0:options.keysToRemoveAfterFetch})}getIncomingEmbeddablePackage(options){return this.getIncomingState(isEmbeddablePackageState,{keysToRemoveAfterFetch:options===null||options===void 0?void 0:options.keysToRemoveAfterFetch})}async navigateToEditor(appId,options){await this.navigateToWithState(appId,options)}async navigateToWithEmbeddablePackage(appId,options){await this.navigateToWithState(appId,options)}getIncomingState(guard,options){var _this$scopedHistory$l;if(!this.scopedHistory){throw new TypeError("ScopedHistory is required to fetch incoming state")}const incomingState=(_this$scopedHistory$l=this.scopedHistory.location)===null||_this$scopedHistory$l===void 0?void 0:_this$scopedHistory$l.state;const castState=!guard||guard(incomingState)?Object(external_osdSharedDeps_Lodash_["cloneDeep"])(incomingState):undefined;if(castState&&options!==null&&options!==void 0&&options.keysToRemoveAfterFetch){const stateReplace={...this.scopedHistory.location.state};options.keysToRemoveAfterFetch.forEach(key=>{delete stateReplace[key]});this.scopedHistory.replace({...this.scopedHistory.location,state:stateReplace})}return castState}async navigateToWithState(appId,options){var _this$scopedHistory;const stateObject=options!==null&&options!==void 0&&options.appendToExistingState&&this.scopedHistory?{...(_this$scopedHistory=this.scopedHistory)===null||_this$scopedHistory===void 0?void 0:_this$scopedHistory.location.state,...options.state}:options===null||options===void 0?void 0:options.state;await this.navigateToApp(appId,{path:options===null||options===void 0?void 0:options.path,state:stateObject})}}function isReferenceOrValueEmbeddable(incoming){return!!incoming.inputIsRefType&&!!incoming.getInputAsValueType&&!!incoming.getInputAsRefType}const bootstrap=uiActions=>{uiActions.registerTrigger(contextMenuTrigger);uiActions.registerTrigger(panelBadgeTrigger);uiActions.registerTrigger(panelNotificationTrigger)};const telemetryBaseEmbeddableInput=(state,telemetryData)=>telemetryData;const extractBaseEmbeddableInput=state=>({state:state,references:[]});const injectBaseEmbeddableInput=(state,references)=>state;function plugin_defineProperty(obj,key,value){key=plugin_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function plugin_toPropertyKey(arg){var key=plugin_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function plugin_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}class plugin_EmbeddablePublicPlugin{constructor(initializerContext){var _this=this;plugin_defineProperty(this,"embeddableFactoryDefinitions",new Map);plugin_defineProperty(this,"embeddableFactories",new Map);plugin_defineProperty(this,"enhancements",new Map);plugin_defineProperty(this,"customEmbeddableFactoryProvider",void 0);plugin_defineProperty(this,"outgoingOnlyStateTransfer",{});plugin_defineProperty(this,"isRegistryReady",false);plugin_defineProperty(this,"appList",void 0);plugin_defineProperty(this,"appListSubscription",void 0);plugin_defineProperty(this,"telemetry",(function(state){let telemetryData=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const enhancements=state.enhancements||{};const factory=_this.getEmbeddableFactory(state.id);let telemetry=telemetryBaseEmbeddableInput(state,telemetryData);if(factory){telemetry=factory.telemetry(state,telemetry)}Object.keys(enhancements).map(key=>{if(!enhancements[key])return;telemetry=_this.getEnhancement(key).telemetry(enhancements[key],telemetry)});return telemetry}));plugin_defineProperty(this,"extract",state=>{const enhancements=state.enhancements||{};const factory=this.getEmbeddableFactory(state.id);const baseResponse=extractBaseEmbeddableInput(state);let updatedInput=baseResponse.state;const refs=baseResponse.references;if(factory){const factoryResponse=factory.extract(state);updatedInput=factoryResponse.state;refs.push(...factoryResponse.references)}updatedInput.enhancements={};Object.keys(enhancements).forEach(key=>{if(!enhancements[key])return;const enhancementResult=this.getEnhancement(key).extract(enhancements[key]);refs.push(...enhancementResult.references);updatedInput.enhancements[key]=enhancementResult.state});return{state:updatedInput,references:refs}});plugin_defineProperty(this,"inject",(state,references)=>{const enhancements=state.enhancements||{};const factory=this.getEmbeddableFactory(state.id);let updatedInput=injectBaseEmbeddableInput(state,references);if(factory){updatedInput=factory.inject(updatedInput,references)}updatedInput.enhancements={};Object.keys(enhancements).forEach(key=>{if(!enhancements[key])return;updatedInput.enhancements[key]=this.getEnhancement(key).inject(enhancements[key],references)});return updatedInput});plugin_defineProperty(this,"registerEnhancement",enhancement=>{if(this.enhancements.has(enhancement.id)){throw new Error(`enhancement with id ${enhancement.id} already exists in the registry`)}this.enhancements.set(enhancement.id,{id:enhancement.id,telemetry:enhancement.telemetry||(()=>({})),inject:enhancement.inject||external_osdSharedDeps_Lodash_["identity"],extract:enhancement.extract||(state=>({state:state,references:[]}))})});plugin_defineProperty(this,"getEnhancement",id=>this.enhancements.get(id)||{id:"unknown",telemetry:()=>({}),inject:external_osdSharedDeps_Lodash_["identity"],extract:state=>({state:state,references:[]})});plugin_defineProperty(this,"getEmbeddableFactories",()=>{this.ensureFactoriesExist();return this.embeddableFactories.values()});plugin_defineProperty(this,"registerEmbeddableFactory",(embeddableFactoryId,factory)=>{if(this.embeddableFactoryDefinitions.has(embeddableFactoryId)){throw new Error(`Embeddable factory [embeddableFactoryId = ${embeddableFactoryId}] already registered in Embeddables API.`)}this.embeddableFactoryDefinitions.set(embeddableFactoryId,factory);return()=>this.getEmbeddableFactory(embeddableFactoryId)});plugin_defineProperty(this,"getEmbeddableFactory",embeddableFactoryId=>{if(!this.isRegistryReady){throw new Error("Embeddable factories can only be retrieved after setup lifecycle.")}this.ensureFactoryExists(embeddableFactoryId);const factory=this.embeddableFactories.get(embeddableFactoryId);return factory});plugin_defineProperty(this,"ensureFactoriesExist",()=>{this.embeddableFactoryDefinitions.forEach(def=>this.ensureFactoryExists(def.type))});plugin_defineProperty(this,"ensureFactoryExists",type=>{if(!this.embeddableFactories.get(type)){const def=this.embeddableFactoryDefinitions.get(type);if(!def)return;this.embeddableFactories.set(type,this.customEmbeddableFactoryProvider?this.customEmbeddableFactoryProvider(def):defaultEmbeddableFactoryProvider(def))}})}setup(core,_ref){let{uiActions:uiActions}=_ref;bootstrap(uiActions);return{registerEmbeddableFactory:this.registerEmbeddableFactory,registerEnhancement:this.registerEnhancement,setCustomEmbeddableFactoryProvider:provider=>{if(this.customEmbeddableFactoryProvider){throw new Error("Custom embeddable factory provider is already set, and can only be set once")}this.customEmbeddableFactoryProvider=provider}}}start(core,_ref2){let{data:data,uiActions:uiActions,inspector:inspector}=_ref2;this.embeddableFactoryDefinitions.forEach(def=>{this.embeddableFactories.set(def.type,this.customEmbeddableFactoryProvider?this.customEmbeddableFactoryProvider(def):defaultEmbeddableFactoryProvider(def))});this.appListSubscription=core.application.applications$.subscribe(appList=>{this.appList=appList});this.outgoingOnlyStateTransfer=new embeddable_state_transfer_EmbeddableStateTransfer(core.application.navigateToApp,undefined,this.appList);this.isRegistryReady=true;const getEmbeddablePanelHoc=stateTransfer=>_ref3=>{let{embeddable:embeddable,hideHeader:hideHeader,hasBorder:hasBorder,hasShadow:hasShadow}=_ref3;return external_osdSharedDeps_React_default.a.createElement(embeddable_panel_EmbeddablePanel,{hideHeader:hideHeader,hasBorder:hasBorder,hasShadow:hasShadow,embeddable:embeddable,stateTransfer:stateTransfer?stateTransfer:this.outgoingOnlyStateTransfer,getActions:uiActions.getTriggerCompatibleActions,getEmbeddableFactory:this.getEmbeddableFactory,getAllEmbeddableFactories:this.getEmbeddableFactories,overlays:core.overlays,notifications:core.notifications,application:core.application,inspector:inspector,SavedObjectFinder:Object(public_["getSavedObjectFinder"])(core.savedObjects,core.uiSettings,data,core.application)})};return{getEmbeddableFactory:this.getEmbeddableFactory,getEmbeddableFactories:this.getEmbeddableFactories,getStateTransfer:history=>history?new embeddable_state_transfer_EmbeddableStateTransfer(core.application.navigateToApp,history,this.appList):this.outgoingOnlyStateTransfer,EmbeddablePanel:getEmbeddablePanelHoc(),getEmbeddablePanel:getEmbeddablePanelHoc,telemetry:this.telemetry,extract:this.extract,inject:this.inject}}stop(){if(this.appListSubscription){this.appListSubscription.unsubscribe()}}}function public_plugin(initializerContext){return new plugin_EmbeddablePublicPlugin(initializerContext)}}]);