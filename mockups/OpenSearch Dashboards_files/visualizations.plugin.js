(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=38)})([function(module,exports){module.exports=__osdSharedDeps__.React},function(module,exports){module.exports=__osdSharedDeps__.Lodash},function(module,exports){module.exports=__osdSharedDeps__.ElasticEui},function(module,exports){module.exports=__osdSharedDeps__.OsdI18n},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__osdBundles__.get("plugin/opensearchDashboardsUtils/common");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports,__webpack_require__){"use strict";module.exports=function(cssWithMappingToString){var list=[];list.toString=function toString(){return this.map((function(item){var content=cssWithMappingToString(item);if(item[2]){return"@media ".concat(item[2]," {").concat(content,"}")}return content})).join("")};list.i=function(modules,mediaQuery,dedupe){if(typeof modules==="string"){modules=[[null,modules,""]]}var alreadyImportedModules={};if(dedupe){for(var i=0;i<this.length;i++){var id=this[i][0];if(id!=null){alreadyImportedModules[id]=true}}}for(var _i=0;_i<modules.length;_i++){var item=[].concat(modules[_i]);if(dedupe&&alreadyImportedModules[item[0]]){continue}if(mediaQuery){if(!item[2]){item[2]=mediaQuery}else{item[2]="".concat(mediaQuery," and ").concat(item[2])}}list.push(item)}};return list}},function(module,exports){module.exports=__osdSharedDeps__.OsdI18nReact},function(module,exports,__webpack_require__){"use strict";var isOldIE=function isOldIE(){var memo;return function memorize(){if(typeof memo==="undefined"){memo=Boolean(window&&document&&document.all&&!window.atob)}return memo}}();var getTarget=function getTarget(){var memo={};return function memorize(target){if(typeof memo[target]==="undefined"){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement){try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}}memo[target]=styleTarget}return memo[target]}}();var stylesInDom=[];function getIndexByIdentifier(identifier){var result=-1;for(var i=0;i<stylesInDom.length;i++){if(stylesInDom[i].identifier===identifier){result=i;break}}return result}function modulesToDom(list,options){var idCountMap={};var identifiers=[];for(var i=0;i<list.length;i++){var item=list[i];var id=options.base?item[0]+options.base:item[0];var count=idCountMap[id]||0;var identifier="".concat(id," ").concat(count);idCountMap[id]=count+1;var index=getIndexByIdentifier(identifier);var obj={css:item[1],media:item[2],sourceMap:item[3]};if(index!==-1){stylesInDom[index].references++;stylesInDom[index].updater(obj)}else{stylesInDom.push({identifier:identifier,updater:addStyle(obj,options),references:1})}identifiers.push(identifier)}return identifiers}function insertStyleElement(options){var style=document.createElement("style");var attributes=options.attributes||{};if(typeof attributes.nonce==="undefined"){var nonce=true?__webpack_require__.nc:undefined;if(nonce){attributes.nonce=nonce}}Object.keys(attributes).forEach((function(key){style.setAttribute(key,attributes[key])}));if(typeof options.insert==="function"){options.insert(style)}else{var target=getTarget(options.insert||"head");if(!target){throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.")}target.appendChild(style)}return style}function removeStyleElement(style){if(style.parentNode===null){return false}style.parentNode.removeChild(style)}var replaceText=function replaceText(){var textStore=[];return function replace(index,replacement){textStore[index]=replacement;return textStore.filter(Boolean).join("\n")}}();function applyToSingletonTag(style,index,remove,obj){var css=remove?"":obj.media?"@media ".concat(obj.media," {").concat(obj.css,"}"):obj.css;if(style.styleSheet){style.styleSheet.cssText=replaceText(index,css)}else{var cssNode=document.createTextNode(css);var childNodes=style.childNodes;if(childNodes[index]){style.removeChild(childNodes[index])}if(childNodes.length){style.insertBefore(cssNode,childNodes[index])}else{style.appendChild(cssNode)}}}function applyToTag(style,options,obj){var css=obj.css;var media=obj.media;var sourceMap=obj.sourceMap;if(media){style.setAttribute("media",media)}else{style.removeAttribute("media")}if(sourceMap&&typeof btoa!=="undefined"){css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")}if(style.styleSheet){style.styleSheet.cssText=css}else{while(style.firstChild){style.removeChild(style.firstChild)}style.appendChild(document.createTextNode(css))}}var singleton=null;var singletonCounter=0;function addStyle(obj,options){var style;var update;var remove;if(options.singleton){var styleIndex=singletonCounter++;style=singleton||(singleton=insertStyleElement(options));update=applyToSingletonTag.bind(null,style,styleIndex,false);remove=applyToSingletonTag.bind(null,style,styleIndex,true)}else{style=insertStyleElement(options);update=applyToTag.bind(null,style,options);remove=function remove(){removeStyleElement(style)}}update(obj);return function updateStyle(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap){return}update(obj=newObj)}else{remove()}}}module.exports=function(list,options){options=options||{};if(!options.singleton&&typeof options.singleton!=="boolean"){options.singleton=isOldIE()}list=list||[];var lastIdentifiers=modulesToDom(list,options);return function update(newList){newList=newList||[];if(Object.prototype.toString.call(newList)!=="[object Array]"){return}for(var i=0;i<lastIdentifiers.length;i++){var identifier=lastIdentifiers[i];var index=getIndexByIdentifier(identifier);stylesInDom[index].references--}var newLastIdentifiers=modulesToDom(newList,options);for(var _i=0;_i<lastIdentifiers.length;_i++){var _identifier=lastIdentifiers[_i];var _index=getIndexByIdentifier(_identifier);if(stylesInDom[_index].references===0){stylesInDom[_index].updater();stylesInDom.splice(_index,1)}}lastIdentifiers=newLastIdentifiers}}},function(module,exports){module.exports=__osdSharedDeps__.ReactDom},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__osdBundles__.get("plugin/embeddable/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__osdBundles__.get("plugin/savedObjects/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__osdBundles__.get("plugin/visAugmenter/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports,__webpack_require__){exports.set=__webpack_require__(66);exports.setWith=__webpack_require__(110)},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__osdBundles__.get("plugin/data/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__osdSharedDeps__.RxjsOperators},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__osdBundles__.get("plugin/uiActions/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports,__webpack_require__){var getNative=__webpack_require__(24);var nativeCreate=getNative(Object,"create");module.exports=nativeCreate},function(module,exports,__webpack_require__){var eq=__webpack_require__(33);function assocIndexOf(array,key){var length=array.length;while(length--){if(eq(array[length][0],key)){return length}}return-1}module.exports=assocIndexOf},function(module,exports,__webpack_require__){var isKeyable=__webpack_require__(101);function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data[typeof key=="string"?"string":"hash"]:data.map}module.exports=getMapData},function(module,exports){module.exports=__osdSharedDeps__.Rxjs},function(module,exports,__webpack_require__){"use strict";var R=typeof Reflect==="object"?Reflect:null;var ReflectApply=R&&typeof R.apply==="function"?R.apply:function ReflectApply(target,receiver,args){return Function.prototype.apply.call(target,receiver,args)};var ReflectOwnKeys;if(R&&typeof R.ownKeys==="function"){ReflectOwnKeys=R.ownKeys}else if(Object.getOwnPropertySymbols){ReflectOwnKeys=function ReflectOwnKeys(target){return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target))}}else{ReflectOwnKeys=function ReflectOwnKeys(target){return Object.getOwnPropertyNames(target)}}function ProcessEmitWarning(warning){if(console&&console.warn)console.warn(warning)}var NumberIsNaN=Number.isNaN||function NumberIsNaN(value){return value!==value};function EventEmitter(){EventEmitter.init.call(this)}module.exports=EventEmitter;module.exports.once=once;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._eventsCount=0;EventEmitter.prototype._maxListeners=undefined;var defaultMaxListeners=10;function checkListener(listener){if(typeof listener!=="function"){throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof listener)}}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:true,get:function(){return defaultMaxListeners},set:function(arg){if(typeof arg!=="number"||arg<0||NumberIsNaN(arg)){throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+arg+".")}defaultMaxListeners=arg}});EventEmitter.init=function(){if(this._events===undefined||this._events===Object.getPrototypeOf(this)._events){this._events=Object.create(null);this._eventsCount=0}this._maxListeners=this._maxListeners||undefined};EventEmitter.prototype.setMaxListeners=function setMaxListeners(n){if(typeof n!=="number"||n<0||NumberIsNaN(n)){throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+n+".")}this._maxListeners=n;return this};function _getMaxListeners(that){if(that._maxListeners===undefined)return EventEmitter.defaultMaxListeners;return that._maxListeners}EventEmitter.prototype.getMaxListeners=function getMaxListeners(){return _getMaxListeners(this)};EventEmitter.prototype.emit=function emit(type){var args=[];for(var i=1;i<arguments.length;i++)args.push(arguments[i]);var doError=type==="error";var events=this._events;if(events!==undefined)doError=doError&&events.error===undefined;else if(!doError)return false;if(doError){var er;if(args.length>0)er=args[0];if(er instanceof Error){throw er}var err=new Error("Unhandled error."+(er?" ("+er.message+")":""));err.context=er;throw err}var handler=events[type];if(handler===undefined)return false;if(typeof handler==="function"){ReflectApply(handler,this,args)}else{var len=handler.length;var listeners=arrayClone(handler,len);for(var i=0;i<len;++i)ReflectApply(listeners[i],this,args)}return true};function _addListener(target,type,listener,prepend){var m;var events;var existing;checkListener(listener);events=target._events;if(events===undefined){events=target._events=Object.create(null);target._eventsCount=0}else{if(events.newListener!==undefined){target.emit("newListener",type,listener.listener?listener.listener:listener);events=target._events}existing=events[type]}if(existing===undefined){existing=events[type]=listener;++target._eventsCount}else{if(typeof existing==="function"){existing=events[type]=prepend?[listener,existing]:[existing,listener]}else if(prepend){existing.unshift(listener)}else{existing.push(listener)}m=_getMaxListeners(target);if(m>0&&existing.length>m&&!existing.warned){existing.warned=true;var w=new Error("Possible EventEmitter memory leak detected. "+existing.length+" "+String(type)+" listeners "+"added. Use emitter.setMaxListeners() to "+"increase limit");w.name="MaxListenersExceededWarning";w.emitter=target;w.type=type;w.count=existing.length;ProcessEmitWarning(w)}}return target}EventEmitter.prototype.addListener=function addListener(type,listener){return _addListener(this,type,listener,false)};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.prependListener=function prependListener(type,listener){return _addListener(this,type,listener,true)};function onceWrapper(){if(!this.fired){this.target.removeListener(this.type,this.wrapFn);this.fired=true;if(arguments.length===0)return this.listener.call(this.target);return this.listener.apply(this.target,arguments)}}function _onceWrap(target,type,listener){var state={fired:false,wrapFn:undefined,target:target,type:type,listener:listener};var wrapped=onceWrapper.bind(state);wrapped.listener=listener;state.wrapFn=wrapped;return wrapped}EventEmitter.prototype.once=function once(type,listener){checkListener(listener);this.on(type,_onceWrap(this,type,listener));return this};EventEmitter.prototype.prependOnceListener=function prependOnceListener(type,listener){checkListener(listener);this.prependListener(type,_onceWrap(this,type,listener));return this};EventEmitter.prototype.removeListener=function removeListener(type,listener){var list,events,position,i,originalListener;checkListener(listener);events=this._events;if(events===undefined)return this;list=events[type];if(list===undefined)return this;if(list===listener||list.listener===listener){if(--this._eventsCount===0)this._events=Object.create(null);else{delete events[type];if(events.removeListener)this.emit("removeListener",type,list.listener||listener)}}else if(typeof list!=="function"){position=-1;for(i=list.length-1;i>=0;i--){if(list[i]===listener||list[i].listener===listener){originalListener=list[i].listener;position=i;break}}if(position<0)return this;if(position===0)list.shift();else{spliceOne(list,position)}if(list.length===1)events[type]=list[0];if(events.removeListener!==undefined)this.emit("removeListener",type,originalListener||listener)}return this};EventEmitter.prototype.off=EventEmitter.prototype.removeListener;EventEmitter.prototype.removeAllListeners=function removeAllListeners(type){var listeners,events,i;events=this._events;if(events===undefined)return this;if(events.removeListener===undefined){if(arguments.length===0){this._events=Object.create(null);this._eventsCount=0}else if(events[type]!==undefined){if(--this._eventsCount===0)this._events=Object.create(null);else delete events[type]}return this}if(arguments.length===0){var keys=Object.keys(events);var key;for(i=0;i<keys.length;++i){key=keys[i];if(key==="removeListener")continue;this.removeAllListeners(key)}this.removeAllListeners("removeListener");this._events=Object.create(null);this._eventsCount=0;return this}listeners=events[type];if(typeof listeners==="function"){this.removeListener(type,listeners)}else if(listeners!==undefined){for(i=listeners.length-1;i>=0;i--){this.removeListener(type,listeners[i])}}return this};function _listeners(target,type,unwrap){var events=target._events;if(events===undefined)return[];var evlistener=events[type];if(evlistener===undefined)return[];if(typeof evlistener==="function")return unwrap?[evlistener.listener||evlistener]:[evlistener];return unwrap?unwrapListeners(evlistener):arrayClone(evlistener,evlistener.length)}EventEmitter.prototype.listeners=function listeners(type){return _listeners(this,type,true)};EventEmitter.prototype.rawListeners=function rawListeners(type){return _listeners(this,type,false)};EventEmitter.listenerCount=function(emitter,type){if(typeof emitter.listenerCount==="function"){return emitter.listenerCount(type)}else{return listenerCount.call(emitter,type)}};EventEmitter.prototype.listenerCount=listenerCount;function listenerCount(type){var events=this._events;if(events!==undefined){var evlistener=events[type];if(typeof evlistener==="function"){return 1}else if(evlistener!==undefined){return evlistener.length}}return 0}EventEmitter.prototype.eventNames=function eventNames(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(arr,n){var copy=new Array(n);for(var i=0;i<n;++i)copy[i]=arr[i];return copy}function spliceOne(list,index){for(;index+1<list.length;index++)list[index]=list[index+1];list.pop()}function unwrapListeners(arr){var ret=new Array(arr.length);for(var i=0;i<ret.length;++i){ret[i]=arr[i].listener||arr[i]}return ret}function once(emitter,name){return new Promise((function(resolve,reject){function errorListener(err){emitter.removeListener(name,resolver);reject(err)}function resolver(){if(typeof emitter.removeListener==="function"){emitter.removeListener("error",errorListener)}resolve([].slice.call(arguments))}eventTargetAgnosticAddListener(emitter,name,resolver,{once:true});if(name!=="error"){addErrorHandlerIfEventEmitter(emitter,errorListener,{once:true})}}))}function addErrorHandlerIfEventEmitter(emitter,handler,flags){if(typeof emitter.on==="function"){eventTargetAgnosticAddListener(emitter,"error",handler,flags)}}function eventTargetAgnosticAddListener(emitter,name,listener,flags){if(typeof emitter.on==="function"){if(flags.once){emitter.once(name,listener)}else{emitter.on(name,listener)}}else if(typeof emitter.addEventListener==="function"){emitter.addEventListener(name,(function wrapListener(arg){if(flags.once){emitter.removeEventListener(name,wrapListener)}listener(arg)}))}else{throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof emitter)}}},function(module,exports){module.exports=__osdSharedDeps__.MomentTimezone},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__osdBundles__.get("plugin/discover/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__osdBundles__.get("plugin/opensearchDashboardsUtils/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports,__webpack_require__){var baseIsNative=__webpack_require__(70),getValue=__webpack_require__(78);function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:undefined}module.exports=getNative},function(module,exports,__webpack_require__){var root=__webpack_require__(26);var Symbol=root.Symbol;module.exports=Symbol},function(module,exports,__webpack_require__){var freeGlobal=__webpack_require__(71);var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self;var root=freeGlobal||freeSelf||Function("return this")();module.exports=root},function(module,exports){function isObject(value){var type=typeof value;return value!=null&&(type=="object"||type=="function")}module.exports=isObject},function(module,exports){var isArray=Array.isArray;module.exports=isArray},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(32),isObjectLike=__webpack_require__(81);var symbolTag="[object Symbol]";function isSymbol(value){return typeof value=="symbol"||isObjectLike(value)&&baseGetTag(value)==symbolTag}module.exports=isSymbol},function(module,exports,__webpack_require__){var assignValue=__webpack_require__(67),castPath=__webpack_require__(79),isFunction=__webpack_require__(31),isIndex=__webpack_require__(108),isObject=__webpack_require__(27),toKey=__webpack_require__(109);function baseSet(object,path,value,customizer){if(!isObject(object)){return object}path=castPath(path,object);var index=-1,length=path.length,lastIndex=length-1,nested=object;while(nested!=null&&++index<length){var key=toKey(path[index]),newValue=value;if(key=="prototype"&&isFunction(nested)){throw new Error("Illegal access of function prototype")}if(index!=lastIndex){var objValue=hasOwnProperty.call(nested,key)?nested[key]:undefined;newValue=customizer?customizer(objValue,key,nested):undefined;if(newValue===undefined){newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{}}}assignValue(nested,key,newValue);nested=nested[key]}return object}module.exports=baseSet},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(32),isObject=__webpack_require__(27);var asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(value){if(!isObject(value)){return false}var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}module.exports=isFunction},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(25),getRawTag=__webpack_require__(73),objectToString=__webpack_require__(74);var nullTag="[object Null]",undefinedTag="[object Undefined]";var symToStringTag=Symbol?Symbol.toStringTag:undefined;function baseGetTag(value){if(value==null){return value===undefined?undefinedTag:nullTag}return symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}module.exports=baseGetTag},function(module,exports){function eq(value,other){return value===other||value!==value&&other!==other}module.exports=eq},function(module,exports){module.exports=__osdSharedDeps__.Moment},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__osdBundles__.get("plugin/expressions/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__osdBundles__.get("plugin/dashboard/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){"use strict";var hasOwn={}.hasOwnProperty;function classNames(){var classes=[];for(var i=0;i<arguments.length;i++){var arg=arguments[i];if(!arg)continue;var argType=typeof arg;if(argType==="string"||argType==="number"){classes.push(arg)}else if(Array.isArray(arg)){if(arg.length){var inner=classNames.apply(null,arg);if(inner){classes.push(inner)}}}else if(argType==="object"){if(arg.toString===Object.prototype.toString){for(var key in arg){if(hasOwn.call(arg,key)&&arg[key]){classes.push(key)}}}else{classes.push(arg.toString())}}}return classes.join(" ")}if(true&&module.exports){classNames.default=classNames;module.exports=classNames}else if(true){!(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}else{}})()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_val_loader_dist_cjs_js_key_visualizations_osd_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(39);var _node_modules_val_loader_dist_cjs_js_key_visualizations_osd_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_val_loader_dist_cjs_js_key_visualizations_osd_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__);__osdBundles__.define("plugin/visualizations/public",__webpack_require__,111)},function(module,exports,__webpack_require__){__webpack_require__.p=window.__osdPublicPath__["visualizations"]},function(module,exports,__webpack_require__){switch(window.__osdThemeTag__){case"v7dark":return __webpack_require__(41);case"v7light":return __webpack_require__(43);case"v8dark":return __webpack_require__(45);case"v8light":return __webpack_require__(47);case"v9dark":return __webpack_require__(49);case"v9light":return __webpack_require__(51)}},function(module,exports,__webpack_require__){var api=__webpack_require__(7);var content=__webpack_require__(42);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.visNewVisDialog{max-width:100vw;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='313' height='461' viewBox='0 0 313 461'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath fill='%2318191E' d='M294.009,184.137 C456.386,184.137 588.018,315.77 588.018,478.146 C588.018,640.523 456.386,772.156 294.009,772.156 C131.632,772.156 0,640.523 0,478.146 C0,315.77 131.632,184.137 294.009,184.137 Z M294.009,384.552 C242.318,384.552 200.415,426.456 200.415,478.146 C200.415,529.837 242.318,571.741 294.009,571.741 C345.7,571.741 387.604,529.837 387.604,478.146 C387.604,426.456 345.7,384.552 294.009,384.552 Z'/%3E%3Cpath fill='%2315161B' d='M202.958,365.731 L202.958,380.991 L187.698,380.991 L187.698,365.731 L202.958,365.731 Z M202.958,327.073 L202.958,342.333 L187.698,342.333 L187.698,327.073 L202.958,327.073 Z M243.651,325.038 L243.651,340.298 L228.391,340.298 L228.391,325.038 L243.651,325.038 Z M243.651,286.379 L243.651,301.639 L228.391,301.639 L228.391,286.379 L243.651,286.379 Z M202.958,285.362 L202.958,300.622 L187.698,300.622 L187.698,285.362 L202.958,285.362 Z M284.345,284.345 L284.345,299.605 L269.085,299.605 L269.085,284.345 L284.345,284.345 Z M284.345,245.686 L284.345,260.946 L269.085,260.946 L269.085,245.686 L284.345,245.686 Z M243.651,244.669 L243.651,259.929 L228.391,259.929 L228.391,244.669 L243.651,244.669 Z M202.958,243.651 L202.958,258.911 L187.698,258.911 L187.698,243.651 L202.958,243.651 Z M284.345,203.975 L284.345,219.235 L269.085,219.235 L269.085,203.975 L284.345,203.975 Z M202.958,203.975 L202.958,219.235 L187.698,219.235 L187.698,203.975 L202.958,203.975 Z M243.651,202.958 L243.651,218.218 L228.391,218.218 L228.391,202.958 L243.651,202.958 Z M243.651,163.282 L243.651,178.542 L228.391,178.542 L228.391,163.282 L243.651,163.282 Z M202.958,163.282 L202.958,178.542 L187.698,178.542 L187.698,163.282 L202.958,163.282 Z M284.345,162.265 L284.345,177.525 L269.085,177.525 L269.085,162.265 L284.345,162.265 Z M284.345,122.589 L284.345,137.849 L269.085,137.849 L269.085,122.589 L284.345,122.589 Z M243.651,122.589 L243.651,137.849 L228.391,137.849 L228.391,122.589 L243.651,122.589 Z M202.958,122.589 L202.958,137.849 L187.698,137.849 L187.698,122.589 L202.958,122.589 Z M284.345,81.8954 L284.345,97.1554 L269.085,97.1554 L269.085,81.8954 L284.345,81.8954 Z M243.651,81.8954 L243.651,97.1554 L228.391,97.1554 L228.391,81.8954 L243.651,81.8954 Z M202.958,81.8954 L202.958,97.1554 L187.698,97.1554 L187.698,81.8954 L202.958,81.8954 Z M284.345,41.202 L284.345,56.462 L269.085,56.462 L269.085,41.202 L284.345,41.202 Z M243.651,41.202 L243.651,56.462 L228.391,56.462 L228.391,41.202 L243.651,41.202 Z M284.345,0.508789 L284.345,15.7688 L269.085,15.7688 L269.085,0.508789 L284.345,0.508789 Z'/%3E%3C/g%3E%3C/svg%3E\");background-repeat:no-repeat;background-position:calc(100% + 1px) calc(100% + 1px);background-size:30%}.visNewVisSearchDialog{width:720px;min-height:600px}.visNewVisDialog__body{display:flex;padding:12px 24px 0;min-height:0}.visNewVisDialog__list{min-height:0}.visNewVisDialog__searchWrapper{flex-shrink:0}.visNewVisDialog__typesWrapper{mask-image:linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);contain:paint;max-width:400px;min-height:0;margin-top:2px;overflow:hidden}.visNewVisDialog__types{scrollbar-width:thin;width:auto;overflow-y:auto;padding-top:16px;justify-content:center;padding-bottom:16px}.visNewVisDialog__types::-webkit-scrollbar{width:16px;height:16px}.visNewVisDialog__types::-webkit-scrollbar-thumb{background-color:rgba(152,162,179,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.visNewVisDialog__types::-webkit-scrollbar-corner,.visNewVisDialog__types::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.visNewVisDialog__description{width:320px}.visNewVisDialog__type:disabled{opacity:.2;pointer-events:none}.visNewVisDialog__typeImage{width:24px;height:24px}@media only screen and (max-width: 574px){.visNewVisDialog{background-image:none}.visNewVisDialog__typesWrapper{max-width:none}.visNewVisDialog__types{justify-content:flex-start}.visNewVisDialog__description{display:none}}@media only screen and (min-width: 575px)and (max-width: 767px){.visNewVisDialog{background-image:none}.visNewVisDialog__typesWrapper{max-width:none}.visNewVisDialog__types{justify-content:flex-start}.visNewVisDialog__description{display:none}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.visNewVisDialog{width:820px}.visNewVisDialog__body{flex-basis:800px}}.visDisabledLabVisualization{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}.visDisabledLabVisualization__icon{font-size:28px}.embPanel .visualization{scrollbar-width:thin}.embPanel .visualization::-webkit-scrollbar{width:16px;height:16px}.embPanel .visualization::-webkit-scrollbar-thumb{background-color:rgba(152,162,179,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.embPanel .visualization::-webkit-scrollbar-corner,.embPanel .visualization::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.embPanel .visualization .visChart__container{overflow:visible}.embPanel .visLegend__toggle{border-bottom-right-radius:0;border-top-left-radius:0}.embPanel_optionsMenuPopover[class*=-isOpen] .visLegend__toggle,.embPanel:hover .visLegend__toggle{opacity:1}.embPanel .visLegend__toggle{opacity:0}.embPanel .visLegend__toggle:focus{opacity:1}.embPanel--editing .visLegend__toggle{opacity:1}.visualize{display:flex;flex:1 1 100%;overflow:hidden}.visualization{display:flex;flex-direction:column;width:100%;height:100%;overflow:auto;position:relative;padding:8px;flex:1 1 100%}.visualization .visChart__container{scrollbar-width:thin;min-height:0;flex:1 1 0;display:flex;flex-direction:row;overflow:auto;transition:opacity .01s}.visualization .visChart__container::-webkit-scrollbar{width:16px;height:16px}.visualization .visChart__container::-webkit-scrollbar-thumb{background-color:rgba(152,162,179,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.visualization .visChart__container::-webkit-scrollbar-corner,.visualization .visChart__container::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.visualization .visChart__container{flex:1 0}}.visualization .visChart__container:focus{box-shadow:none}.visualization .loading{opacity:.5}.visualization .spinner{position:absolute;top:40%;left:0;right:0;z-index:20;opacity:.5}.visChart{display:flex;flex:1 1 auto;min-height:0;min-width:0}.visChart--vertical{flex-direction:column}.visChart__spinner{display:flex;flex:1 1 auto;justify-content:center;align-items:center}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(7);var content=__webpack_require__(44);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.visNewVisDialog{max-width:100vw;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='313' height='461' viewBox='0 0 313 461'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath fill='%23F5F7FA' d='M294.009,184.137 C456.386,184.137 588.018,315.77 588.018,478.146 C588.018,640.523 456.386,772.156 294.009,772.156 C131.632,772.156 0,640.523 0,478.146 C0,315.77 131.632,184.137 294.009,184.137 Z M294.009,384.552 C242.318,384.552 200.415,426.456 200.415,478.146 C200.415,529.837 242.318,571.741 294.009,571.741 C345.7,571.741 387.604,529.837 387.604,478.146 C387.604,426.456 345.7,384.552 294.009,384.552 Z'/%3E%3Cpath fill='%23E6EBF2' d='M202.958,365.731 L202.958,380.991 L187.698,380.991 L187.698,365.731 L202.958,365.731 Z M202.958,327.073 L202.958,342.333 L187.698,342.333 L187.698,327.073 L202.958,327.073 Z M243.651,325.038 L243.651,340.298 L228.391,340.298 L228.391,325.038 L243.651,325.038 Z M243.651,286.379 L243.651,301.639 L228.391,301.639 L228.391,286.379 L243.651,286.379 Z M202.958,285.362 L202.958,300.622 L187.698,300.622 L187.698,285.362 L202.958,285.362 Z M284.345,284.345 L284.345,299.605 L269.085,299.605 L269.085,284.345 L284.345,284.345 Z M284.345,245.686 L284.345,260.946 L269.085,260.946 L269.085,245.686 L284.345,245.686 Z M243.651,244.669 L243.651,259.929 L228.391,259.929 L228.391,244.669 L243.651,244.669 Z M202.958,243.651 L202.958,258.911 L187.698,258.911 L187.698,243.651 L202.958,243.651 Z M284.345,203.975 L284.345,219.235 L269.085,219.235 L269.085,203.975 L284.345,203.975 Z M202.958,203.975 L202.958,219.235 L187.698,219.235 L187.698,203.975 L202.958,203.975 Z M243.651,202.958 L243.651,218.218 L228.391,218.218 L228.391,202.958 L243.651,202.958 Z M243.651,163.282 L243.651,178.542 L228.391,178.542 L228.391,163.282 L243.651,163.282 Z M202.958,163.282 L202.958,178.542 L187.698,178.542 L187.698,163.282 L202.958,163.282 Z M284.345,162.265 L284.345,177.525 L269.085,177.525 L269.085,162.265 L284.345,162.265 Z M284.345,122.589 L284.345,137.849 L269.085,137.849 L269.085,122.589 L284.345,122.589 Z M243.651,122.589 L243.651,137.849 L228.391,137.849 L228.391,122.589 L243.651,122.589 Z M202.958,122.589 L202.958,137.849 L187.698,137.849 L187.698,122.589 L202.958,122.589 Z M284.345,81.8954 L284.345,97.1554 L269.085,97.1554 L269.085,81.8954 L284.345,81.8954 Z M243.651,81.8954 L243.651,97.1554 L228.391,97.1554 L228.391,81.8954 L243.651,81.8954 Z M202.958,81.8954 L202.958,97.1554 L187.698,97.1554 L187.698,81.8954 L202.958,81.8954 Z M284.345,41.202 L284.345,56.462 L269.085,56.462 L269.085,41.202 L284.345,41.202 Z M243.651,41.202 L243.651,56.462 L228.391,56.462 L228.391,41.202 L243.651,41.202 Z M284.345,0.508789 L284.345,15.7688 L269.085,15.7688 L269.085,0.508789 L284.345,0.508789 Z'/%3E%3C/g%3E%3C/svg%3E\");background-repeat:no-repeat;background-position:calc(100% + 1px) calc(100% + 1px);background-size:30%}.visNewVisSearchDialog{width:720px;min-height:600px}.visNewVisDialog__body{display:flex;padding:12px 24px 0;min-height:0}.visNewVisDialog__list{min-height:0}.visNewVisDialog__searchWrapper{flex-shrink:0}.visNewVisDialog__typesWrapper{mask-image:linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);contain:paint;max-width:400px;min-height:0;margin-top:2px;overflow:hidden}.visNewVisDialog__types{scrollbar-width:thin;width:auto;overflow-y:auto;padding-top:16px;justify-content:center;padding-bottom:16px}.visNewVisDialog__types::-webkit-scrollbar{width:16px;height:16px}.visNewVisDialog__types::-webkit-scrollbar-thumb{background-color:rgba(105,112,125,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.visNewVisDialog__types::-webkit-scrollbar-corner,.visNewVisDialog__types::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.visNewVisDialog__description{width:320px}.visNewVisDialog__type:disabled{opacity:.2;pointer-events:none}.visNewVisDialog__typeImage{width:24px;height:24px}@media only screen and (max-width: 574px){.visNewVisDialog{background-image:none}.visNewVisDialog__typesWrapper{max-width:none}.visNewVisDialog__types{justify-content:flex-start}.visNewVisDialog__description{display:none}}@media only screen and (min-width: 575px)and (max-width: 767px){.visNewVisDialog{background-image:none}.visNewVisDialog__typesWrapper{max-width:none}.visNewVisDialog__types{justify-content:flex-start}.visNewVisDialog__description{display:none}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.visNewVisDialog{width:820px}.visNewVisDialog__body{flex-basis:800px}}.visDisabledLabVisualization{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}.visDisabledLabVisualization__icon{font-size:28px}.embPanel .visualization{scrollbar-width:thin}.embPanel .visualization::-webkit-scrollbar{width:16px;height:16px}.embPanel .visualization::-webkit-scrollbar-thumb{background-color:rgba(105,112,125,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.embPanel .visualization::-webkit-scrollbar-corner,.embPanel .visualization::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.embPanel .visualization .visChart__container{overflow:visible}.embPanel .visLegend__toggle{border-bottom-right-radius:0;border-top-left-radius:0}.embPanel_optionsMenuPopover[class*=-isOpen] .visLegend__toggle,.embPanel:hover .visLegend__toggle{opacity:1}.embPanel .visLegend__toggle{opacity:0}.embPanel .visLegend__toggle:focus{opacity:1}.embPanel--editing .visLegend__toggle{opacity:1}.visualize{display:flex;flex:1 1 100%;overflow:hidden}.visualization{display:flex;flex-direction:column;width:100%;height:100%;overflow:auto;position:relative;padding:8px;flex:1 1 100%}.visualization .visChart__container{scrollbar-width:thin;min-height:0;flex:1 1 0;display:flex;flex-direction:row;overflow:auto;transition:opacity .01s}.visualization .visChart__container::-webkit-scrollbar{width:16px;height:16px}.visualization .visChart__container::-webkit-scrollbar-thumb{background-color:rgba(105,112,125,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.visualization .visChart__container::-webkit-scrollbar-corner,.visualization .visChart__container::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.visualization .visChart__container{flex:1 0}}.visualization .visChart__container:focus{box-shadow:none}.visualization .loading{opacity:.5}.visualization .spinner{position:absolute;top:40%;left:0;right:0;z-index:20;opacity:.5}.visChart{display:flex;flex:1 1 auto;min-height:0;min-width:0}.visChart--vertical{flex-direction:column}.visChart__spinner{display:flex;flex:1 1 auto;justify-content:center;align-items:center}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(7);var content=__webpack_require__(46);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.visNewVisDialog{max-width:100vw;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='313' height='461' viewBox='0 0 313 461'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath fill='%2318191E' d='M294.009,184.137 C456.386,184.137 588.018,315.77 588.018,478.146 C588.018,640.523 456.386,772.156 294.009,772.156 C131.632,772.156 0,640.523 0,478.146 C0,315.77 131.632,184.137 294.009,184.137 Z M294.009,384.552 C242.318,384.552 200.415,426.456 200.415,478.146 C200.415,529.837 242.318,571.741 294.009,571.741 C345.7,571.741 387.604,529.837 387.604,478.146 C387.604,426.456 345.7,384.552 294.009,384.552 Z'/%3E%3Cpath fill='%2315161B' d='M202.958,365.731 L202.958,380.991 L187.698,380.991 L187.698,365.731 L202.958,365.731 Z M202.958,327.073 L202.958,342.333 L187.698,342.333 L187.698,327.073 L202.958,327.073 Z M243.651,325.038 L243.651,340.298 L228.391,340.298 L228.391,325.038 L243.651,325.038 Z M243.651,286.379 L243.651,301.639 L228.391,301.639 L228.391,286.379 L243.651,286.379 Z M202.958,285.362 L202.958,300.622 L187.698,300.622 L187.698,285.362 L202.958,285.362 Z M284.345,284.345 L284.345,299.605 L269.085,299.605 L269.085,284.345 L284.345,284.345 Z M284.345,245.686 L284.345,260.946 L269.085,260.946 L269.085,245.686 L284.345,245.686 Z M243.651,244.669 L243.651,259.929 L228.391,259.929 L228.391,244.669 L243.651,244.669 Z M202.958,243.651 L202.958,258.911 L187.698,258.911 L187.698,243.651 L202.958,243.651 Z M284.345,203.975 L284.345,219.235 L269.085,219.235 L269.085,203.975 L284.345,203.975 Z M202.958,203.975 L202.958,219.235 L187.698,219.235 L187.698,203.975 L202.958,203.975 Z M243.651,202.958 L243.651,218.218 L228.391,218.218 L228.391,202.958 L243.651,202.958 Z M243.651,163.282 L243.651,178.542 L228.391,178.542 L228.391,163.282 L243.651,163.282 Z M202.958,163.282 L202.958,178.542 L187.698,178.542 L187.698,163.282 L202.958,163.282 Z M284.345,162.265 L284.345,177.525 L269.085,177.525 L269.085,162.265 L284.345,162.265 Z M284.345,122.589 L284.345,137.849 L269.085,137.849 L269.085,122.589 L284.345,122.589 Z M243.651,122.589 L243.651,137.849 L228.391,137.849 L228.391,122.589 L243.651,122.589 Z M202.958,122.589 L202.958,137.849 L187.698,137.849 L187.698,122.589 L202.958,122.589 Z M284.345,81.8954 L284.345,97.1554 L269.085,97.1554 L269.085,81.8954 L284.345,81.8954 Z M243.651,81.8954 L243.651,97.1554 L228.391,97.1554 L228.391,81.8954 L243.651,81.8954 Z M202.958,81.8954 L202.958,97.1554 L187.698,97.1554 L187.698,81.8954 L202.958,81.8954 Z M284.345,41.202 L284.345,56.462 L269.085,56.462 L269.085,41.202 L284.345,41.202 Z M243.651,41.202 L243.651,56.462 L228.391,56.462 L228.391,41.202 L243.651,41.202 Z M284.345,0.508789 L284.345,15.7688 L269.085,15.7688 L269.085,0.508789 L284.345,0.508789 Z'/%3E%3C/g%3E%3C/svg%3E\");background-repeat:no-repeat;background-position:calc(100% + 1px) calc(100% + 1px);background-size:30%}.visNewVisSearchDialog{width:720px;min-height:600px}.visNewVisDialog__body{display:flex;padding:12px 24px 0;min-height:0}.visNewVisDialog__list{min-height:0}.visNewVisDialog__searchWrapper{flex-shrink:0}.visNewVisDialog__typesWrapper{mask-image:linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);contain:paint;max-width:400px;min-height:0;margin-top:2px;overflow:hidden}.visNewVisDialog__types{scrollbar-width:thin;width:auto;overflow-y:auto;padding-top:16px;justify-content:center;padding-bottom:16px}.visNewVisDialog__types::-webkit-scrollbar{width:16px;height:16px}.visNewVisDialog__types::-webkit-scrollbar-thumb{background-color:rgba(141,152,163,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.visNewVisDialog__types::-webkit-scrollbar-corner,.visNewVisDialog__types::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.visNewVisDialog__description{width:320px}.visNewVisDialog__type:disabled{opacity:.2;pointer-events:none}.visNewVisDialog__typeImage{width:24px;height:24px}@media only screen and (max-width: 574px){.visNewVisDialog{background-image:none}.visNewVisDialog__typesWrapper{max-width:none}.visNewVisDialog__types{justify-content:flex-start}.visNewVisDialog__description{display:none}}@media only screen and (min-width: 575px)and (max-width: 767px){.visNewVisDialog{background-image:none}.visNewVisDialog__typesWrapper{max-width:none}.visNewVisDialog__types{justify-content:flex-start}.visNewVisDialog__description{display:none}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.visNewVisDialog{width:820px}.visNewVisDialog__body{flex-basis:800px}}.visDisabledLabVisualization{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}.visDisabledLabVisualization__icon{font-size:31.5px}.embPanel .visualization{scrollbar-width:thin}.embPanel .visualization::-webkit-scrollbar{width:16px;height:16px}.embPanel .visualization::-webkit-scrollbar-thumb{background-color:rgba(141,152,163,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.embPanel .visualization::-webkit-scrollbar-corner,.embPanel .visualization::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.embPanel .visualization .visChart__container{overflow:visible}.embPanel .visLegend__toggle{border-bottom-right-radius:0;border-top-left-radius:0}.embPanel_optionsMenuPopover[class*=-isOpen] .visLegend__toggle,.embPanel:hover .visLegend__toggle{opacity:1}.embPanel .visLegend__toggle{opacity:0}.embPanel .visLegend__toggle:focus{opacity:1}.embPanel--editing .visLegend__toggle{opacity:1}.visualize{display:flex;flex:1 1 100%;overflow:hidden}.visualization{display:flex;flex-direction:column;width:100%;height:100%;overflow:auto;position:relative;padding:8px;flex:1 1 100%}.visualization .visChart__container{scrollbar-width:thin;min-height:0;flex:1 1 0;display:flex;flex-direction:row;overflow:auto;transition:opacity .01s}.visualization .visChart__container::-webkit-scrollbar{width:16px;height:16px}.visualization .visChart__container::-webkit-scrollbar-thumb{background-color:rgba(141,152,163,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.visualization .visChart__container::-webkit-scrollbar-corner,.visualization .visChart__container::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.visualization .visChart__container{flex:1 0}}.visualization .visChart__container:focus{box-shadow:none}.visualization .loading{opacity:.5}.visualization .spinner{position:absolute;top:40%;left:0;right:0;z-index:20;opacity:.5}.visChart{display:flex;flex:1 1 auto;min-height:0;min-width:0}.visChart--vertical{flex-direction:column}.visChart__spinner{display:flex;flex:1 1 auto;justify-content:center;align-items:center}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(7);var content=__webpack_require__(48);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.visNewVisDialog{max-width:100vw;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='313' height='461' viewBox='0 0 313 461'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath fill='%23F5F7FA' d='M294.009,184.137 C456.386,184.137 588.018,315.77 588.018,478.146 C588.018,640.523 456.386,772.156 294.009,772.156 C131.632,772.156 0,640.523 0,478.146 C0,315.77 131.632,184.137 294.009,184.137 Z M294.009,384.552 C242.318,384.552 200.415,426.456 200.415,478.146 C200.415,529.837 242.318,571.741 294.009,571.741 C345.7,571.741 387.604,529.837 387.604,478.146 C387.604,426.456 345.7,384.552 294.009,384.552 Z'/%3E%3Cpath fill='%23E6EBF2' d='M202.958,365.731 L202.958,380.991 L187.698,380.991 L187.698,365.731 L202.958,365.731 Z M202.958,327.073 L202.958,342.333 L187.698,342.333 L187.698,327.073 L202.958,327.073 Z M243.651,325.038 L243.651,340.298 L228.391,340.298 L228.391,325.038 L243.651,325.038 Z M243.651,286.379 L243.651,301.639 L228.391,301.639 L228.391,286.379 L243.651,286.379 Z M202.958,285.362 L202.958,300.622 L187.698,300.622 L187.698,285.362 L202.958,285.362 Z M284.345,284.345 L284.345,299.605 L269.085,299.605 L269.085,284.345 L284.345,284.345 Z M284.345,245.686 L284.345,260.946 L269.085,260.946 L269.085,245.686 L284.345,245.686 Z M243.651,244.669 L243.651,259.929 L228.391,259.929 L228.391,244.669 L243.651,244.669 Z M202.958,243.651 L202.958,258.911 L187.698,258.911 L187.698,243.651 L202.958,243.651 Z M284.345,203.975 L284.345,219.235 L269.085,219.235 L269.085,203.975 L284.345,203.975 Z M202.958,203.975 L202.958,219.235 L187.698,219.235 L187.698,203.975 L202.958,203.975 Z M243.651,202.958 L243.651,218.218 L228.391,218.218 L228.391,202.958 L243.651,202.958 Z M243.651,163.282 L243.651,178.542 L228.391,178.542 L228.391,163.282 L243.651,163.282 Z M202.958,163.282 L202.958,178.542 L187.698,178.542 L187.698,163.282 L202.958,163.282 Z M284.345,162.265 L284.345,177.525 L269.085,177.525 L269.085,162.265 L284.345,162.265 Z M284.345,122.589 L284.345,137.849 L269.085,137.849 L269.085,122.589 L284.345,122.589 Z M243.651,122.589 L243.651,137.849 L228.391,137.849 L228.391,122.589 L243.651,122.589 Z M202.958,122.589 L202.958,137.849 L187.698,137.849 L187.698,122.589 L202.958,122.589 Z M284.345,81.8954 L284.345,97.1554 L269.085,97.1554 L269.085,81.8954 L284.345,81.8954 Z M243.651,81.8954 L243.651,97.1554 L228.391,97.1554 L228.391,81.8954 L243.651,81.8954 Z M202.958,81.8954 L202.958,97.1554 L187.698,97.1554 L187.698,81.8954 L202.958,81.8954 Z M284.345,41.202 L284.345,56.462 L269.085,56.462 L269.085,41.202 L284.345,41.202 Z M243.651,41.202 L243.651,56.462 L228.391,56.462 L228.391,41.202 L243.651,41.202 Z M284.345,0.508789 L284.345,15.7688 L269.085,15.7688 L269.085,0.508789 L284.345,0.508789 Z'/%3E%3C/g%3E%3C/svg%3E\");background-repeat:no-repeat;background-position:calc(100% + 1px) calc(100% + 1px);background-size:30%}.visNewVisSearchDialog{width:720px;min-height:600px}.visNewVisDialog__body{display:flex;padding:12px 24px 0;min-height:0}.visNewVisDialog__list{min-height:0}.visNewVisDialog__searchWrapper{flex-shrink:0}.visNewVisDialog__typesWrapper{mask-image:linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);contain:paint;max-width:400px;min-height:0;margin-top:2px;overflow:hidden}.visNewVisDialog__types{scrollbar-width:thin;width:auto;overflow-y:auto;padding-top:16px;justify-content:center;padding-bottom:16px}.visNewVisDialog__types::-webkit-scrollbar{width:16px;height:16px}.visNewVisDialog__types::-webkit-scrollbar-thumb{background-color:rgba(90,104,117,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.visNewVisDialog__types::-webkit-scrollbar-corner,.visNewVisDialog__types::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.visNewVisDialog__description{width:320px}.visNewVisDialog__type:disabled{opacity:.2;pointer-events:none}.visNewVisDialog__typeImage{width:24px;height:24px}@media only screen and (max-width: 574px){.visNewVisDialog{background-image:none}.visNewVisDialog__typesWrapper{max-width:none}.visNewVisDialog__types{justify-content:flex-start}.visNewVisDialog__description{display:none}}@media only screen and (min-width: 575px)and (max-width: 767px){.visNewVisDialog{background-image:none}.visNewVisDialog__typesWrapper{max-width:none}.visNewVisDialog__types{justify-content:flex-start}.visNewVisDialog__description{display:none}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.visNewVisDialog{width:820px}.visNewVisDialog__body{flex-basis:800px}}.visDisabledLabVisualization{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}.visDisabledLabVisualization__icon{font-size:31.5px}.embPanel .visualization{scrollbar-width:thin}.embPanel .visualization::-webkit-scrollbar{width:16px;height:16px}.embPanel .visualization::-webkit-scrollbar-thumb{background-color:rgba(90,104,117,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.embPanel .visualization::-webkit-scrollbar-corner,.embPanel .visualization::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.embPanel .visualization .visChart__container{overflow:visible}.embPanel .visLegend__toggle{border-bottom-right-radius:0;border-top-left-radius:0}.embPanel_optionsMenuPopover[class*=-isOpen] .visLegend__toggle,.embPanel:hover .visLegend__toggle{opacity:1}.embPanel .visLegend__toggle{opacity:0}.embPanel .visLegend__toggle:focus{opacity:1}.embPanel--editing .visLegend__toggle{opacity:1}.visualize{display:flex;flex:1 1 100%;overflow:hidden}.visualization{display:flex;flex-direction:column;width:100%;height:100%;overflow:auto;position:relative;padding:8px;flex:1 1 100%}.visualization .visChart__container{scrollbar-width:thin;min-height:0;flex:1 1 0;display:flex;flex-direction:row;overflow:auto;transition:opacity .01s}.visualization .visChart__container::-webkit-scrollbar{width:16px;height:16px}.visualization .visChart__container::-webkit-scrollbar-thumb{background-color:rgba(90,104,117,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.visualization .visChart__container::-webkit-scrollbar-corner,.visualization .visChart__container::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.visualization .visChart__container{flex:1 0}}.visualization .visChart__container:focus{box-shadow:none}.visualization .loading{opacity:.5}.visualization .spinner{position:absolute;top:40%;left:0;right:0;z-index:20;opacity:.5}.visChart{display:flex;flex:1 1 auto;min-height:0;min-width:0}.visChart--vertical{flex-direction:column}.visChart__spinner{display:flex;flex:1 1 auto;justify-content:center;align-items:center}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(7);var content=__webpack_require__(50);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.visNewVisDialog{max-width:100vw;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='313' height='461' viewBox='0 0 313 461'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath fill='%2318191E' d='M294.009,184.137 C456.386,184.137 588.018,315.77 588.018,478.146 C588.018,640.523 456.386,772.156 294.009,772.156 C131.632,772.156 0,640.523 0,478.146 C0,315.77 131.632,184.137 294.009,184.137 Z M294.009,384.552 C242.318,384.552 200.415,426.456 200.415,478.146 C200.415,529.837 242.318,571.741 294.009,571.741 C345.7,571.741 387.604,529.837 387.604,478.146 C387.604,426.456 345.7,384.552 294.009,384.552 Z'/%3E%3Cpath fill='%2315161B' d='M202.958,365.731 L202.958,380.991 L187.698,380.991 L187.698,365.731 L202.958,365.731 Z M202.958,327.073 L202.958,342.333 L187.698,342.333 L187.698,327.073 L202.958,327.073 Z M243.651,325.038 L243.651,340.298 L228.391,340.298 L228.391,325.038 L243.651,325.038 Z M243.651,286.379 L243.651,301.639 L228.391,301.639 L228.391,286.379 L243.651,286.379 Z M202.958,285.362 L202.958,300.622 L187.698,300.622 L187.698,285.362 L202.958,285.362 Z M284.345,284.345 L284.345,299.605 L269.085,299.605 L269.085,284.345 L284.345,284.345 Z M284.345,245.686 L284.345,260.946 L269.085,260.946 L269.085,245.686 L284.345,245.686 Z M243.651,244.669 L243.651,259.929 L228.391,259.929 L228.391,244.669 L243.651,244.669 Z M202.958,243.651 L202.958,258.911 L187.698,258.911 L187.698,243.651 L202.958,243.651 Z M284.345,203.975 L284.345,219.235 L269.085,219.235 L269.085,203.975 L284.345,203.975 Z M202.958,203.975 L202.958,219.235 L187.698,219.235 L187.698,203.975 L202.958,203.975 Z M243.651,202.958 L243.651,218.218 L228.391,218.218 L228.391,202.958 L243.651,202.958 Z M243.651,163.282 L243.651,178.542 L228.391,178.542 L228.391,163.282 L243.651,163.282 Z M202.958,163.282 L202.958,178.542 L187.698,178.542 L187.698,163.282 L202.958,163.282 Z M284.345,162.265 L284.345,177.525 L269.085,177.525 L269.085,162.265 L284.345,162.265 Z M284.345,122.589 L284.345,137.849 L269.085,137.849 L269.085,122.589 L284.345,122.589 Z M243.651,122.589 L243.651,137.849 L228.391,137.849 L228.391,122.589 L243.651,122.589 Z M202.958,122.589 L202.958,137.849 L187.698,137.849 L187.698,122.589 L202.958,122.589 Z M284.345,81.8954 L284.345,97.1554 L269.085,97.1554 L269.085,81.8954 L284.345,81.8954 Z M243.651,81.8954 L243.651,97.1554 L228.391,97.1554 L228.391,81.8954 L243.651,81.8954 Z M202.958,81.8954 L202.958,97.1554 L187.698,97.1554 L187.698,81.8954 L202.958,81.8954 Z M284.345,41.202 L284.345,56.462 L269.085,56.462 L269.085,41.202 L284.345,41.202 Z M243.651,41.202 L243.651,56.462 L228.391,56.462 L228.391,41.202 L243.651,41.202 Z M284.345,0.508789 L284.345,15.7688 L269.085,15.7688 L269.085,0.508789 L284.345,0.508789 Z'/%3E%3C/g%3E%3C/svg%3E\");background-repeat:no-repeat;background-position:calc(100% + 1px) calc(100% + 1px);background-size:30%}.visNewVisSearchDialog{width:720px;min-height:600px}.visNewVisDialog__body{display:flex;padding:12px 24px 0;min-height:0}.visNewVisDialog__list{min-height:0}.visNewVisDialog__searchWrapper{flex-shrink:0}.visNewVisDialog__typesWrapper{mask-image:linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);contain:paint;max-width:400px;min-height:0;margin-top:2px;overflow:hidden}.visNewVisDialog__types{scrollbar-width:thin;width:auto;overflow-y:auto;padding-top:16px;justify-content:center;padding-bottom:16px}.visNewVisDialog__types::-webkit-scrollbar{width:16px;height:16px}.visNewVisDialog__types::-webkit-scrollbar-thumb{background-color:rgba(149,155,162,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.visNewVisDialog__types::-webkit-scrollbar-corner,.visNewVisDialog__types::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.visNewVisDialog__description{width:320px}.visNewVisDialog__type:disabled{opacity:.2;pointer-events:none}.visNewVisDialog__typeImage{width:24px;height:24px}@media only screen and (max-width: 574px){.visNewVisDialog{background-image:none}.visNewVisDialog__typesWrapper{max-width:none}.visNewVisDialog__types{justify-content:flex-start}.visNewVisDialog__description{display:none}}@media only screen and (min-width: 575px)and (max-width: 767px){.visNewVisDialog{background-image:none}.visNewVisDialog__typesWrapper{max-width:none}.visNewVisDialog__types{justify-content:flex-start}.visNewVisDialog__description{display:none}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.visNewVisDialog{width:820px}.visNewVisDialog__body{flex-basis:800px}}.visDisabledLabVisualization{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}.visDisabledLabVisualization__icon{font-size:24.000004px}.embPanel .visualization{scrollbar-width:thin}.embPanel .visualization::-webkit-scrollbar{width:16px;height:16px}.embPanel .visualization::-webkit-scrollbar-thumb{background-color:rgba(149,155,162,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.embPanel .visualization::-webkit-scrollbar-corner,.embPanel .visualization::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.embPanel .visualization .visChart__container{overflow:visible}.embPanel .visLegend__toggle{border-bottom-right-radius:0;border-top-left-radius:0}.embPanel_optionsMenuPopover[class*=-isOpen] .visLegend__toggle,.embPanel:hover .visLegend__toggle{opacity:1}.embPanel .visLegend__toggle{opacity:0}.embPanel .visLegend__toggle:focus{opacity:1}.embPanel--editing .visLegend__toggle{opacity:1}.visualize{display:flex;flex:1 1 100%;overflow:hidden}.visualization{display:flex;flex-direction:column;width:100%;height:100%;overflow:auto;position:relative;padding:8px;flex:1 1 100%}.visualization .visChart__container{scrollbar-width:thin;min-height:0;flex:1 1 0;display:flex;flex-direction:row;overflow:auto;transition:opacity .01s}.visualization .visChart__container::-webkit-scrollbar{width:16px;height:16px}.visualization .visChart__container::-webkit-scrollbar-thumb{background-color:rgba(149,155,162,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.visualization .visChart__container::-webkit-scrollbar-corner,.visualization .visChart__container::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.visualization .visChart__container{flex:1 0}}.visualization .visChart__container:focus{box-shadow:none}.visualization .loading{opacity:.5}.visualization .spinner{position:absolute;top:40%;left:0;right:0;z-index:20;opacity:.5}.visChart{display:flex;flex:1 1 auto;min-height:0;min-width:0}.visChart--vertical{flex-direction:column}.visChart__spinner{display:flex;flex:1 1 auto;justify-content:center;align-items:center}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(7);var content=__webpack_require__(52);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.visNewVisDialog{max-width:100vw;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='313' height='461' viewBox='0 0 313 461'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath fill='%23F5F7FA' d='M294.009,184.137 C456.386,184.137 588.018,315.77 588.018,478.146 C588.018,640.523 456.386,772.156 294.009,772.156 C131.632,772.156 0,640.523 0,478.146 C0,315.77 131.632,184.137 294.009,184.137 Z M294.009,384.552 C242.318,384.552 200.415,426.456 200.415,478.146 C200.415,529.837 242.318,571.741 294.009,571.741 C345.7,571.741 387.604,529.837 387.604,478.146 C387.604,426.456 345.7,384.552 294.009,384.552 Z'/%3E%3Cpath fill='%23E6EBF2' d='M202.958,365.731 L202.958,380.991 L187.698,380.991 L187.698,365.731 L202.958,365.731 Z M202.958,327.073 L202.958,342.333 L187.698,342.333 L187.698,327.073 L202.958,327.073 Z M243.651,325.038 L243.651,340.298 L228.391,340.298 L228.391,325.038 L243.651,325.038 Z M243.651,286.379 L243.651,301.639 L228.391,301.639 L228.391,286.379 L243.651,286.379 Z M202.958,285.362 L202.958,300.622 L187.698,300.622 L187.698,285.362 L202.958,285.362 Z M284.345,284.345 L284.345,299.605 L269.085,299.605 L269.085,284.345 L284.345,284.345 Z M284.345,245.686 L284.345,260.946 L269.085,260.946 L269.085,245.686 L284.345,245.686 Z M243.651,244.669 L243.651,259.929 L228.391,259.929 L228.391,244.669 L243.651,244.669 Z M202.958,243.651 L202.958,258.911 L187.698,258.911 L187.698,243.651 L202.958,243.651 Z M284.345,203.975 L284.345,219.235 L269.085,219.235 L269.085,203.975 L284.345,203.975 Z M202.958,203.975 L202.958,219.235 L187.698,219.235 L187.698,203.975 L202.958,203.975 Z M243.651,202.958 L243.651,218.218 L228.391,218.218 L228.391,202.958 L243.651,202.958 Z M243.651,163.282 L243.651,178.542 L228.391,178.542 L228.391,163.282 L243.651,163.282 Z M202.958,163.282 L202.958,178.542 L187.698,178.542 L187.698,163.282 L202.958,163.282 Z M284.345,162.265 L284.345,177.525 L269.085,177.525 L269.085,162.265 L284.345,162.265 Z M284.345,122.589 L284.345,137.849 L269.085,137.849 L269.085,122.589 L284.345,122.589 Z M243.651,122.589 L243.651,137.849 L228.391,137.849 L228.391,122.589 L243.651,122.589 Z M202.958,122.589 L202.958,137.849 L187.698,137.849 L187.698,122.589 L202.958,122.589 Z M284.345,81.8954 L284.345,97.1554 L269.085,97.1554 L269.085,81.8954 L284.345,81.8954 Z M243.651,81.8954 L243.651,97.1554 L228.391,97.1554 L228.391,81.8954 L243.651,81.8954 Z M202.958,81.8954 L202.958,97.1554 L187.698,97.1554 L187.698,81.8954 L202.958,81.8954 Z M284.345,41.202 L284.345,56.462 L269.085,56.462 L269.085,41.202 L284.345,41.202 Z M243.651,41.202 L243.651,56.462 L228.391,56.462 L228.391,41.202 L243.651,41.202 Z M284.345,0.508789 L284.345,15.7688 L269.085,15.7688 L269.085,0.508789 L284.345,0.508789 Z'/%3E%3C/g%3E%3C/svg%3E\");background-repeat:no-repeat;background-position:calc(100% + 1px) calc(100% + 1px);background-size:30%}.visNewVisSearchDialog{width:720px;min-height:600px}.visNewVisDialog__body{display:flex;padding:12px 24px 0;min-height:0}.visNewVisDialog__list{min-height:0}.visNewVisDialog__searchWrapper{flex-shrink:0}.visNewVisDialog__typesWrapper{mask-image:linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);contain:paint;max-width:400px;min-height:0;margin-top:2px;overflow:hidden}.visNewVisDialog__types{scrollbar-width:thin;width:auto;overflow-y:auto;padding-top:16px;justify-content:center;padding-bottom:16px}.visNewVisDialog__types::-webkit-scrollbar{width:16px;height:16px}.visNewVisDialog__types::-webkit-scrollbar-thumb{background-color:rgba(90,104,117,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.visNewVisDialog__types::-webkit-scrollbar-corner,.visNewVisDialog__types::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.visNewVisDialog__description{width:320px}.visNewVisDialog__type:disabled{opacity:.2;pointer-events:none}.visNewVisDialog__typeImage{width:24px;height:24px}@media only screen and (max-width: 574px){.visNewVisDialog{background-image:none}.visNewVisDialog__typesWrapper{max-width:none}.visNewVisDialog__types{justify-content:flex-start}.visNewVisDialog__description{display:none}}@media only screen and (min-width: 575px)and (max-width: 767px){.visNewVisDialog{background-image:none}.visNewVisDialog__typesWrapper{max-width:none}.visNewVisDialog__types{justify-content:flex-start}.visNewVisDialog__description{display:none}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.visNewVisDialog{width:820px}.visNewVisDialog__body{flex-basis:800px}}.visDisabledLabVisualization{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}.visDisabledLabVisualization__icon{font-size:24.000004px}.embPanel .visualization{scrollbar-width:thin}.embPanel .visualization::-webkit-scrollbar{width:16px;height:16px}.embPanel .visualization::-webkit-scrollbar-thumb{background-color:rgba(90,104,117,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.embPanel .visualization::-webkit-scrollbar-corner,.embPanel .visualization::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.embPanel .visualization .visChart__container{overflow:visible}.embPanel .visLegend__toggle{border-bottom-right-radius:0;border-top-left-radius:0}.embPanel_optionsMenuPopover[class*=-isOpen] .visLegend__toggle,.embPanel:hover .visLegend__toggle{opacity:1}.embPanel .visLegend__toggle{opacity:0}.embPanel .visLegend__toggle:focus{opacity:1}.embPanel--editing .visLegend__toggle{opacity:1}.visualize{display:flex;flex:1 1 100%;overflow:hidden}.visualization{display:flex;flex-direction:column;width:100%;height:100%;overflow:auto;position:relative;padding:8px;flex:1 1 100%}.visualization .visChart__container{scrollbar-width:thin;min-height:0;flex:1 1 0;display:flex;flex-direction:row;overflow:auto;transition:opacity .01s}.visualization .visChart__container::-webkit-scrollbar{width:16px;height:16px}.visualization .visChart__container::-webkit-scrollbar-thumb{background-color:rgba(90,104,117,.5);border:6px solid rgba(0,0,0,0);background-clip:content-box}.visualization .visChart__container::-webkit-scrollbar-corner,.visualization .visChart__container::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.visualization .visChart__container{flex:1 0}}.visualization .visChart__container:focus{box-shadow:none}.visualization .loading{opacity:.5}.visualization .spinner{position:absolute;top:40%;left:0;right:0;z-index:20;opacity:.5}.visChart{display:flex;flex:1 1 auto;min-height:0;min-width:0}.visChart--vertical{flex-direction:column}.visChart__spinner{display:flex;flex:1 1 auto;justify-content:center;align-items:center}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){switch(window.__osdThemeTag__){case"v7dark":return __webpack_require__(54);case"v7light":return __webpack_require__(56);case"v8dark":return __webpack_require__(58);case"v8light":return __webpack_require__(60);case"v9dark":return __webpack_require__(62);case"v9light":return __webpack_require__(64)}},function(module,exports,__webpack_require__){var api=__webpack_require__(7);var content=__webpack_require__(55);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.visDisabledLabVisualization{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}.visDisabledLabVisualization__icon{font-size:28px}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(7);var content=__webpack_require__(57);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.visDisabledLabVisualization{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}.visDisabledLabVisualization__icon{font-size:28px}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(7);var content=__webpack_require__(59);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.visDisabledLabVisualization{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}.visDisabledLabVisualization__icon{font-size:31.5px}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(7);var content=__webpack_require__(61);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.visDisabledLabVisualization{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}.visDisabledLabVisualization__icon{font-size:31.5px}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(7);var content=__webpack_require__(63);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.visDisabledLabVisualization{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}.visDisabledLabVisualization__icon{font-size:24.000004px}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(7);var content=__webpack_require__(65);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.visDisabledLabVisualization{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}.visDisabledLabVisualization__icon{font-size:24.000004px}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var baseSet=__webpack_require__(30);function set(object,path,value){return object==null?object:baseSet(object,path,value)}module.exports=set},function(module,exports,__webpack_require__){var baseAssignValue=__webpack_require__(68),eq=__webpack_require__(33);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function assignValue(object,key,value){var objValue=object[key];if(!(hasOwnProperty.call(object,key)&&eq(objValue,value))||value===undefined&&!(key in object)){baseAssignValue(object,key,value)}}module.exports=assignValue},function(module,exports,__webpack_require__){var defineProperty=__webpack_require__(69);function baseAssignValue(object,key,value){if(key=="__proto__"&&defineProperty){defineProperty(object,key,{configurable:true,enumerable:true,value:value,writable:true})}else{object[key]=value}}module.exports=baseAssignValue},function(module,exports,__webpack_require__){var getNative=__webpack_require__(24);var defineProperty=function(){try{var func=getNative(Object,"defineProperty");func({},"",{});return func}catch(e){}}();module.exports=defineProperty},function(module,exports,__webpack_require__){var isFunction=__webpack_require__(31),isMasked=__webpack_require__(75),isObject=__webpack_require__(27),toSource=__webpack_require__(77);var reRegExpChar=/[\\^$.*+?()[\]{}|]/g;var reIsHostCtor=/^\[object .+?Constructor\]$/;var funcProto=Function.prototype,objectProto=Object.prototype;var funcToString=funcProto.toString;var hasOwnProperty=objectProto.hasOwnProperty;var reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(value){if(!isObject(value)||isMasked(value)){return false}var pattern=isFunction(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}module.exports=baseIsNative},function(module,exports,__webpack_require__){(function(global){var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;module.exports=freeGlobal}).call(this,__webpack_require__(72))},function(module,exports){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch(e){if(typeof window==="object")g=window}module.exports=g},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(25);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var nativeObjectToString=objectProto.toString;var symToStringTag=Symbol?Symbol.toStringTag:undefined;function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=undefined;var unmasked=true}catch(e){}var result=nativeObjectToString.call(value);if(unmasked){if(isOwn){value[symToStringTag]=tag}else{delete value[symToStringTag]}}return result}module.exports=getRawTag},function(module,exports){var objectProto=Object.prototype;var nativeObjectToString=objectProto.toString;function objectToString(value){return nativeObjectToString.call(value)}module.exports=objectToString},function(module,exports,__webpack_require__){var coreJsData=__webpack_require__(76);var maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}();function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}module.exports=isMasked},function(module,exports,__webpack_require__){var root=__webpack_require__(26);var coreJsData=root["__core-js_shared__"];module.exports=coreJsData},function(module,exports){var funcProto=Function.prototype;var funcToString=funcProto.toString;function toSource(func){if(func!=null){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}module.exports=toSource},function(module,exports){function getValue(object,key){return object==null?undefined:object[key]}module.exports=getValue},function(module,exports,__webpack_require__){var isArray=__webpack_require__(28),isKey=__webpack_require__(80),stringToPath=__webpack_require__(82),toString=__webpack_require__(105);function castPath(value,object){if(isArray(value)){return value}return isKey(value,object)?[value]:stringToPath(toString(value))}module.exports=castPath},function(module,exports,__webpack_require__){var isArray=__webpack_require__(28),isSymbol=__webpack_require__(29);var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(value,object){if(isArray(value)){return false}var type=typeof value;if(type=="number"||type=="symbol"||type=="boolean"||value==null||isSymbol(value)){return true}return reIsPlainProp.test(value)||!reIsDeepProp.test(value)||object!=null&&value in Object(object)}module.exports=isKey},function(module,exports){function isObjectLike(value){return value!=null&&typeof value=="object"}module.exports=isObjectLike},function(module,exports,__webpack_require__){var memoizeCapped=__webpack_require__(83);var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var reEscapeChar=/\\(\\)?/g;var stringToPath=memoizeCapped((function(string){var result=[];if(string.charCodeAt(0)===46){result.push("")}string.replace(rePropName,(function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)}));return result}));module.exports=stringToPath},function(module,exports,__webpack_require__){var memoize=__webpack_require__(84);var MAX_MEMOIZE_SIZE=500;function memoizeCapped(func){var result=memoize(func,(function(key){if(cache.size===MAX_MEMOIZE_SIZE){cache.clear()}return key}));var cache=result.cache;return result}module.exports=memoizeCapped},function(module,exports,__webpack_require__){var MapCache=__webpack_require__(85);var FUNC_ERROR_TEXT="Expected a function";function memoize(func,resolver){if(typeof func!="function"||resolver!=null&&typeof resolver!="function"){throw new TypeError(FUNC_ERROR_TEXT)}var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key)){return cache.get(key)}var result=func.apply(this,args);memoized.cache=cache.set(key,result)||cache;return result};memoized.cache=new(memoize.Cache||MapCache);return memoized}memoize.Cache=MapCache;module.exports=memoize},function(module,exports,__webpack_require__){var mapCacheClear=__webpack_require__(86),mapCacheDelete=__webpack_require__(100),mapCacheGet=__webpack_require__(102),mapCacheHas=__webpack_require__(103),mapCacheSet=__webpack_require__(104);function MapCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype["delete"]=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;module.exports=MapCache},function(module,exports,__webpack_require__){var Hash=__webpack_require__(87),ListCache=__webpack_require__(93),Map=__webpack_require__(99);function mapCacheClear(){this.size=0;this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}module.exports=mapCacheClear},function(module,exports,__webpack_require__){var hashClear=__webpack_require__(88),hashDelete=__webpack_require__(89),hashGet=__webpack_require__(90),hashHas=__webpack_require__(91),hashSet=__webpack_require__(92);function Hash(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}Hash.prototype.clear=hashClear;Hash.prototype["delete"]=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;module.exports=Hash},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(16);function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{};this.size=0}module.exports=hashClear},function(module,exports){function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];this.size-=result?1:0;return result}module.exports=hashDelete},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(16);var HASH_UNDEFINED="__lodash_hash_undefined__";var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?undefined:result}return hasOwnProperty.call(data,key)?data[key]:undefined}module.exports=hashGet},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(16);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function hashHas(key){var data=this.__data__;return nativeCreate?data[key]!==undefined:hasOwnProperty.call(data,key)}module.exports=hashHas},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(16);var HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet(key,value){var data=this.__data__;this.size+=this.has(key)?0:1;data[key]=nativeCreate&&value===undefined?HASH_UNDEFINED:value;return this}module.exports=hashSet},function(module,exports,__webpack_require__){var listCacheClear=__webpack_require__(94),listCacheDelete=__webpack_require__(95),listCacheGet=__webpack_require__(96),listCacheHas=__webpack_require__(97),listCacheSet=__webpack_require__(98);function ListCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype["delete"]=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;module.exports=ListCache},function(module,exports){function listCacheClear(){this.__data__=[];this.size=0}module.exports=listCacheClear},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(17);var arrayProto=Array.prototype;var splice=arrayProto.splice;function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){return false}var lastIndex=data.length-1;if(index==lastIndex){data.pop()}else{splice.call(data,index,1)}--this.size;return true}module.exports=listCacheDelete},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(17);function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?undefined:data[index][1]}module.exports=listCacheGet},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(17);function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}module.exports=listCacheHas},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(17);function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){++this.size;data.push([key,value])}else{data[index][1]=value}return this}module.exports=listCacheSet},function(module,exports,__webpack_require__){var getNative=__webpack_require__(24),root=__webpack_require__(26);var Map=getNative(root,"Map");module.exports=Map},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(18);function mapCacheDelete(key){var result=getMapData(this,key)["delete"](key);this.size-=result?1:0;return result}module.exports=mapCacheDelete},function(module,exports){function isKeyable(value){var type=typeof value;return type=="string"||type=="number"||type=="symbol"||type=="boolean"?value!=="__proto__":value===null}module.exports=isKeyable},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(18);function mapCacheGet(key){return getMapData(this,key).get(key)}module.exports=mapCacheGet},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(18);function mapCacheHas(key){return getMapData(this,key).has(key)}module.exports=mapCacheHas},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(18);function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;data.set(key,value);this.size+=data.size==size?0:1;return this}module.exports=mapCacheSet},function(module,exports,__webpack_require__){var baseToString=__webpack_require__(106);function toString(value){return value==null?"":baseToString(value)}module.exports=toString},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(25),arrayMap=__webpack_require__(107),isArray=__webpack_require__(28),isSymbol=__webpack_require__(29);var INFINITY=1/0;var symbolProto=Symbol?Symbol.prototype:undefined,symbolToString=symbolProto?symbolProto.toString:undefined;function baseToString(value){if(typeof value=="string"){return value}if(isArray(value)){return arrayMap(value,baseToString)+""}if(isSymbol(value)){return symbolToString?symbolToString.call(value):""}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}module.exports=baseToString},function(module,exports){function arrayMap(array,iteratee){var index=-1,length=array==null?0:array.length,result=Array(length);while(++index<length){result[index]=iteratee(array[index],index,array)}return result}module.exports=arrayMap},function(module,exports){var MAX_SAFE_INTEGER=9007199254740991;var reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(value,length){var type=typeof value;length=length==null?MAX_SAFE_INTEGER:length;return!!length&&(type=="number"||type!="symbol"&&reIsUint.test(value))&&(value>-1&&value%1==0&&value<length)}module.exports=isIndex},function(module,exports,__webpack_require__){var isSymbol=__webpack_require__(29);var INFINITY=1/0;function toKey(value){if(typeof value=="string"||isSymbol(value)){return value}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}module.exports=toKey},function(module,exports,__webpack_require__){var baseSet=__webpack_require__(30);function setWith(object,path,value,customizer){customizer=typeof customizer=="function"?customizer:undefined;return object==null?object:baseSet(object,path,value,customizer)}module.exports=setWith},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"plugin",(function(){return public_plugin}));__webpack_require__.d(__webpack_exports__,"Vis",(function(){return vis_Vis}));__webpack_require__.d(__webpack_exports__,"TypesService",(function(){return types_service_TypesService}));__webpack_require__.d(__webpack_exports__,"VISUALIZE_EMBEDDABLE_TYPE",(function(){return VISUALIZE_EMBEDDABLE_TYPE}));__webpack_require__.d(__webpack_exports__,"VIS_EVENT_TO_TRIGGER",(function(){return VIS_EVENT_TO_TRIGGER}));__webpack_require__.d(__webpack_exports__,"VisualizeEmbeddable",(function(){return visualize_embeddable_VisualizeEmbeddable}));__webpack_require__.d(__webpack_exports__,"DisabledLabEmbeddable",(function(){return disabled_lab_embeddable_DisabledLabEmbeddable}));__webpack_require__.d(__webpack_exports__,"VisualizationContainer",(function(){return VisualizationContainer}));__webpack_require__.d(__webpack_exports__,"VisualizationNoResults",(function(){return visualization_noresults_VisualizationNoResults}));__webpack_require__.d(__webpack_exports__,"getVisSchemas",(function(){return getSchemas}));__webpack_require__.d(__webpack_exports__,"buildVislibDimensions",(function(){return buildVislibDimensions}));__webpack_require__.d(__webpack_exports__,"VislibDimensions",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"VisualizationsSetup",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"VisualizationsStart",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"VisTypeAlias",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"VisType",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"BaseVisTypeOptions",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"ReactVisTypeOptions",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"VisParams",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"SerializedVis",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"SerializedVisData",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"VisData",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"VisualizeInput",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"SchemaConfig",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"BuildPipelineParams",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"updateOldState",(function(){return updateOldState}));__webpack_require__.d(__webpack_exports__,"PersistedState",(function(){return persisted_state_PersistedState}));__webpack_require__.d(__webpack_exports__,"VisualizationController",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"SavedVisState",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"ISavedVis",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"VisSavedObject",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"VisResponseValue",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"ExprVisAPIEvents",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"VisualizationListItem",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"VISUALIZE_ENABLE_LABS_SETTING",(function(){return VISUALIZE_ENABLE_LABS_SETTING}));__webpack_require__.d(__webpack_exports__,"createSavedVisLoader",(function(){return createSavedVisLoader}));__webpack_require__.d(__webpack_exports__,"prepareJson",(function(){return prepareJson}));__webpack_require__.d(__webpack_exports__,"buildPipeline",(function(){return buildPipeline}));var public_0=__webpack_require__(40);const registry=[];const visTypeAliasRegistry={get:()=>[...registry],add:newVisTypeAlias=>{if(registry.find(visTypeAlias=>visTypeAlias.name===newVisTypeAlias.name)){throw new Error(`${newVisTypeAlias.name} already registered`)}registry.push(newVisTypeAlias)}};var external_osdSharedDeps_Lodash_=__webpack_require__(1);var external_osdSharedDeps_Lodash_default=__webpack_require__.n(external_osdSharedDeps_Lodash_);function _defineProperty(obj,key,value){key=_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function _toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}const defaultOptions={showTimePicker:true,showQueryBar:true,showFilterBar:true,showIndexSelection:true,hierarchicalData:false};class base_vis_type_BaseVisType{constructor(opts){var _opts$description,_opts$stage,_opts$hidden,_opts$requestHandler,_opts$responseHandler,_opts$hierarchicalDat,_opts$useCustomNoData;_defineProperty(this,"name",void 0);_defineProperty(this,"title",void 0);_defineProperty(this,"description",void 0);_defineProperty(this,"getSupportedTriggers",void 0);_defineProperty(this,"icon",void 0);_defineProperty(this,"image",void 0);_defineProperty(this,"stage",void 0);_defineProperty(this,"options",void 0);_defineProperty(this,"visualization",void 0);_defineProperty(this,"visConfig",void 0);_defineProperty(this,"editor",void 0);_defineProperty(this,"editorConfig",void 0);_defineProperty(this,"hidden",void 0);_defineProperty(this,"requestHandler",void 0);_defineProperty(this,"responseHandler",void 0);_defineProperty(this,"hierarchicalData",void 0);_defineProperty(this,"setup",void 0);_defineProperty(this,"getUsedIndexPattern",void 0);_defineProperty(this,"useCustomNoDataScreen",void 0);_defineProperty(this,"inspectorAdapters",void 0);_defineProperty(this,"toExpressionAst",void 0);_defineProperty(this,"getInfoMessage",void 0);if(!opts.icon&&!opts.image){throw new Error("vis_type must define its icon or image")}this.name=opts.name;this.description=(_opts$description=opts.description)!==null&&_opts$description!==void 0?_opts$description:"";this.getSupportedTriggers=opts.getSupportedTriggers;this.title=opts.title;this.icon=opts.icon;this.image=opts.image;this.visualization=opts.visualization;this.visConfig=Object(external_osdSharedDeps_Lodash_["defaultsDeep"])({},opts.visConfig,{defaults:{}});this.editor=opts.editor;this.editorConfig=Object(external_osdSharedDeps_Lodash_["defaultsDeep"])({},opts.editorConfig,{collections:{}});this.options=Object(external_osdSharedDeps_Lodash_["defaultsDeep"])({},opts.options,defaultOptions);this.stage=(_opts$stage=opts.stage)!==null&&_opts$stage!==void 0?_opts$stage:"production";this.hidden=(_opts$hidden=opts.hidden)!==null&&_opts$hidden!==void 0?_opts$hidden:false;this.requestHandler=(_opts$requestHandler=opts.requestHandler)!==null&&_opts$requestHandler!==void 0?_opts$requestHandler:"courier";this.responseHandler=(_opts$responseHandler=opts.responseHandler)!==null&&_opts$responseHandler!==void 0?_opts$responseHandler:"none";this.setup=opts.setup;this.hierarchicalData=(_opts$hierarchicalDat=opts.hierarchicalData)!==null&&_opts$hierarchicalDat!==void 0?_opts$hierarchicalDat:false;this.getUsedIndexPattern=opts.getUsedIndexPattern;this.useCustomNoDataScreen=(_opts$useCustomNoData=opts.useCustomNoDataScreen)!==null&&_opts$useCustomNoData!==void 0?_opts$useCustomNoData:false;this.inspectorAdapters=opts.inspectorAdapters;this.toExpressionAst=opts.toExpressionAst;this.getInfoMessage=opts.getInfoMessage}get schemas(){var _this$editorConfig$sc,_this$editorConfig;return(_this$editorConfig$sc=(_this$editorConfig=this.editorConfig)===null||_this$editorConfig===void 0?void 0:_this$editorConfig.schemas)!==null&&_this$editorConfig$sc!==void 0?_this$editorConfig$sc:[]}get requiresSearch(){return this.requestHandler!=="none"}}var external_osdSharedDeps_React_=__webpack_require__(0);var external_osdSharedDeps_React_default=__webpack_require__.n(external_osdSharedDeps_React_);var external_osdSharedDeps_ReactDom_=__webpack_require__(8);var external_osdSharedDeps_ReactDom_default=__webpack_require__.n(external_osdSharedDeps_ReactDom_);var common_=__webpack_require__(4);const[getUISettings,setUISettings]=Object(common_["createGetterSetter"])("UISettings");const[getCapabilities,setCapabilities]=Object(common_["createGetterSetter"])("Capabilities");const[getHttp,setHttp]=Object(common_["createGetterSetter"])("Http");const[getApplication,setApplication]=Object(common_["createGetterSetter"])("Application");const[getEmbeddable,setEmbeddable]=Object(common_["createGetterSetter"])("Embeddable");const[getSavedObjects,setSavedObjects]=Object(common_["createGetterSetter"])("SavedObjects");const[getTypes,setTypes]=Object(common_["createGetterSetter"])("Types");const[getI18n,setI18n]=Object(common_["createGetterSetter"])("I18n");const[getFilterManager,setFilterManager]=Object(common_["createGetterSetter"])("FilterManager");const[getTimeFilter,setTimeFilter]=Object(common_["createGetterSetter"])("TimeFilter");const[getIndexPatterns,setIndexPatterns]=Object(common_["createGetterSetter"])("IndexPatterns");const[getSearch,setSearch]=Object(common_["createGetterSetter"])("Search");const[getUsageCollector,setUsageCollector]=Object(common_["createGetterSetter"])("UsageCollection");const[getExpressions,setExpressions]=Object(common_["createGetterSetter"])("Expressions");const[getUiActions,setUiActions]=Object(common_["createGetterSetter"])("UiActions");const[getSavedVisualizationsLoader,setSavedVisualizationsLoader]=Object(common_["createGetterSetter"])("SavedVisualisationsLoader");const[getAggs,setAggs]=Object(common_["createGetterSetter"])("AggConfigs");const[getOverlays,setOverlays]=Object(common_["createGetterSetter"])("Overlays");const[getChrome,setChrome]=Object(common_["createGetterSetter"])("Chrome");const[getSavedSearchLoader,setSavedSearchLoader]=Object(common_["createGetterSetter"])("savedSearchLoader");const[getNotifications,setNotifications]=Object(common_["createGetterSetter"])("Notifications");const[getSavedAugmentVisLoader,setSavedAugmentVisLoader]=Object(common_["createGetterSetter"])("savedAugmentVisLoader");const[getDocLinks,setDocLinks]=Object(common_["createGetterSetter"])("docLinks");const[getDataStart,setDataStart]=Object(common_["createGetterSetter"])("DataStart");class react_vis_controller_ReactVisController{constructor(element,vis){this.element=element;this.vis=vis}render(visData,visParams){const I18nContext=getI18n().Context;return new Promise((resolve,reject)=>{if(!this.vis.type||!this.vis.type.visConfig||!this.vis.type.visConfig.component){reject("Missing component for ReactVisType")}const Component=this.vis.type.visConfig.component;const config=getUISettings();Object(external_osdSharedDeps_ReactDom_["render"])(external_osdSharedDeps_React_default.a.createElement(I18nContext,null,external_osdSharedDeps_React_default.a.createElement(Component,{config:config,vis:this.vis,visData:visData,visParams:visParams,renderComplete:resolve})),this.element)})}destroy(){Object(external_osdSharedDeps_ReactDom_["unmountComponentAtNode"])(this.element)}}class react_vis_type_ReactVisType extends base_vis_type_BaseVisType{constructor(opts){super({...opts,visualization:react_vis_controller_ReactVisController});if(!this.visConfig.component){throw new Error("Missing component for ReactVisType")}}}function types_service_defineProperty(obj,key,value){key=types_service_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function types_service_toPropertyKey(arg){var key=types_service_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function types_service_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}class types_service_TypesService{constructor(){types_service_defineProperty(this,"types",{});types_service_defineProperty(this,"unregisteredHiddenTypes",[])}registerVisualization(visDefinition){if(this.unregisteredHiddenTypes.includes(visDefinition.name)){visDefinition.hidden=true}if(this.types[visDefinition.name]){throw new Error("type already exists!")}this.types[visDefinition.name]=visDefinition}setup(){return{createBaseVisualization:config=>{const vis=new base_vis_type_BaseVisType(config);this.registerVisualization(vis)},createReactVisualization:config=>{const vis=new react_vis_type_ReactVisType(config);this.registerVisualization(vis)},registerAlias:visTypeAliasRegistry.add,hideTypes:typeNames=>{typeNames.forEach(name=>{if(this.types[name]){this.types[name].hidden=true}else{this.unregisteredHiddenTypes.push(name)}})}}}start(){return{get:visualization=>this.types[visualization],all:()=>[...Object.values(this.types)],getAliases:visTypeAliasRegistry.get}}stop(){}}var public_=__webpack_require__(9);var external_osdSharedDeps_OsdI18nReact_=__webpack_require__(6);var external_osdSharedDeps_ElasticEui_=__webpack_require__(2);var _visualize_lab_disabled=__webpack_require__(53);function DisabledLabVisualization(_ref){let{title:title}=_ref;const docLinks=getDocLinks();const advancedSettingsLink=docLinks.links.opensearchDashboards.management.advancedSettings;return external_osdSharedDeps_React_default.a.createElement("div",{className:"visDisabledLabVisualization"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiEmptyPrompt"],{iconType:"beaker",titleSize:"xs","data-test-subj":"visDisabledLabVisualization",title:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"visualizations.disabledLabVisualizationTitle",defaultMessage:"{title} is an experimental visualization.",values:{title:external_osdSharedDeps_React_default.a.createElement("em",{className:"visDisabledLabVisualizationtitle"},title)}}),body:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_["Fragment"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s",color:"subdued"},external_osdSharedDeps_React_default.a.createElement("p",null,"Enable experimental visualizations within"," ",external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiLink"],{href:advancedSettingsLink},"Advanced Settings"),".")))}))}const VISUALIZE_EMBEDDABLE_TYPE="visualization";function disabled_lab_embeddable_defineProperty(obj,key,value){key=disabled_lab_embeddable_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function disabled_lab_embeddable_toPropertyKey(arg){var key=disabled_lab_embeddable_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function disabled_lab_embeddable_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}class disabled_lab_embeddable_DisabledLabEmbeddable extends public_["Embeddable"]{constructor(title,initialInput){super(initialInput,{title:title});this.title=title;disabled_lab_embeddable_defineProperty(this,"domNode",void 0);disabled_lab_embeddable_defineProperty(this,"type",VISUALIZE_EMBEDDABLE_TYPE)}reload(){}render(domNode){if(this.title){this.domNode=domNode;external_osdSharedDeps_ReactDom_default.a.render(external_osdSharedDeps_React_default.a.createElement(DisabledLabVisualization,{title:this.title}),domNode)}}destroy(){if(this.domNode){external_osdSharedDeps_ReactDom_default.a.unmountComponentAtNode(this.domNode)}}}var external_osdSharedDeps_Rxjs_=__webpack_require__(19);var external_osdSharedDeps_OsdI18n_=__webpack_require__(3);var data_public_=__webpack_require__(13);var external_osdSharedDeps_Moment_=__webpack_require__(34);var external_osdSharedDeps_Moment_default=__webpack_require__.n(external_osdSharedDeps_Moment_);var expressions_public_=__webpack_require__(35);const{isDateHistogramBucketAggConfig:isDateHistogramBucketAggConfig}=data_public_["search"].aggs;const vislibCharts=["area","gauge","goal","heatmap","histogram","horizontal_bar","line"];const getSchemas=(vis,_ref)=>{let{timeRange:timeRange,timefilter:timefilter}=_ref;const createSchemaConfig=(accessor,agg)=>{if(isDateHistogramBucketAggConfig(agg)){agg.params.timeRange=timeRange;const bounds=agg.params.timeRange&&agg.fieldIsTimeField()?timefilter.calculateBounds(agg.params.timeRange):undefined;agg.buckets.setBounds(bounds);agg.buckets.setInterval(agg.params.interval)}const hasSubAgg=["derivative","moving_avg","serial_diff","cumulative_sum","sum_bucket","avg_bucket","min_bucket","max_bucket"].includes(agg.type.name);const formatAgg=hasSubAgg?agg.params.customMetric||agg.aggConfigs.getRequestAggById(agg.params.metricAgg):agg;const params={};if(agg.type.name==="geohash_grid"){params.precision=agg.params.precision;params.useGeocentroid=agg.params.useGeocentroid}const label=agg.makeLabel&&agg.makeLabel();return{accessor:accessor,format:formatAgg.toSerializedFieldFormat(),params:params,label:label,aggType:agg.type.name}};let cnt=0;const schemas={metric:[]};if(!vis.data.aggs){return schemas}const responseAggs=vis.data.aggs.getResponseAggs().filter(agg=>agg.enabled);const isHierarchical=vis.isHierarchical();const metrics=responseAggs.filter(agg=>agg.type.type==="metrics");responseAggs.forEach(agg=>{let skipMetrics=false;let schemaName=agg.schema;if(!schemaName){if(agg.type.name==="geo_centroid"){schemaName="geo_centroid"}else{cnt++;return}}if(schemaName==="split"){schemaName=`split_${vis.params.row?"row":"column"}`;skipMetrics=responseAggs.length-metrics.length>1}if(!schemas[schemaName]){schemas[schemaName]=[]}if(!isHierarchical||agg.type.type!=="metrics"){schemas[schemaName].push(createSchemaConfig(cnt++,agg))}if(isHierarchical&&(agg.type.type!=="metrics"||metrics.length===responseAggs.length)){metrics.forEach(metric=>{const schemaConfig=createSchemaConfig(cnt++,metric);if(!skipMetrics){schemas.metric.push(schemaConfig)}})}});return schemas};const prepareJson=(variable,data)=>{if(data===undefined){return""}return`${variable}='${JSON.stringify(data).replace(/\\/g,`\\\\`).replace(/'/g,`\\'`)}' `};const escapeString=data=>data.replace(/\\/g,`\\\\`).replace(/'/g,`\\'`);const prepareString=(variable,data)=>{if(data===undefined){return""}return`${variable}='${escapeString(data)}' `};const prepareValue=function(variable,data){let raw=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(data===undefined){return""}if(raw){return`${variable}=${data} `}switch(typeof data){case"string":return prepareString(variable,data);case"object":return prepareJson(variable,data);default:return`${variable}=${data} `}};const prepareDimension=(variable,data)=>{if(data===undefined){return""}let expr=`${variable}={visdimension ${data.accessor} `;if(data.format){expr+=prepareValue("format",data.format.id);expr+=prepareJson("formatParams",data.format.params)}expr+="} ";return expr};const adjustVislibDimensionFormmaters=(vis,dimensions)=>{const visConfig=vis.params;const responseAggs=vis.data.aggs.getResponseAggs().filter(agg=>agg.enabled);(dimensions.y||[]).forEach(yDimension=>{const yAgg=responseAggs[yDimension.accessor];const seriesParam=(visConfig.seriesParams||[]).find(param=>param.data.id===yAgg.id);if(seriesParam){const usedValueAxis=(visConfig.valueAxes||[]).find(valueAxis=>valueAxis.id===seriesParam.valueAxis);if(Object(external_osdSharedDeps_Lodash_["get"])(usedValueAxis,"scale.mode")==="percentage"){yDimension.format={id:"percent"}}}if(Object(external_osdSharedDeps_Lodash_["get"])(visConfig,"gauge.percentageMode")===true){yDimension.format={id:"percent"}}})};const buildPipelineVisFunction={vega:params=>`vega ${prepareString("spec",params.spec)}`,input_control_vis:params=>`input_control_vis ${prepareJson("visConfig",params)}`,metrics:function(_ref2,schemas){let{title:title,...params}=_ref2;let uiState=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};const paramsJson=prepareJson("params",params);const uiStateJson=prepareJson("uiState",uiState);const paramsArray=[paramsJson,uiStateJson].filter(param=>Boolean(param));return`tsvb ${paramsArray.join(" ")}`},region_map:(params,schemas)=>{const visConfig={...params,...buildVisConfig.region_map(schemas)};return`regionmap ${prepareJson("visConfig",visConfig)}`},tile_map:(params,schemas)=>{const visConfig={...params,...buildVisConfig.tile_map(schemas)};return`tilemap ${prepareJson("visConfig",visConfig)}`},pie:(params,schemas)=>{const visConfig={...params,...buildVisConfig.pie(schemas)};return`opensearch_dashboards_pie ${prepareJson("visConfig",visConfig)}`}};const buildVisConfig={region_map:schemas=>{const visConfig={};visConfig.metric=schemas.metric[0];if(schemas.segment){visConfig.bucket=schemas.segment[0]}return visConfig},tile_map:schemas=>{const visConfig={};visConfig.dimensions={metric:schemas.metric[0],geohash:schemas.segment?schemas.segment[0]:null,geocentroid:schemas.geo_centroid?schemas.geo_centroid[0]:null};return visConfig},pie:schemas=>{const visConfig={};visConfig.dimensions={metric:schemas.metric[0],buckets:schemas.segment,splitRow:schemas.split_row,splitColumn:schemas.split_column};return visConfig}};const buildVislibDimensions=async(vis,params)=>{const schemas=getSchemas(vis,{timeRange:params.timeRange,timefilter:params.timefilter});const dimensions={x:schemas.segment?schemas.segment[0]:null,y:schemas.metric,z:schemas.radius,width:schemas.width,series:schemas.group,splitRow:schemas.split_row,splitColumn:schemas.split_column};if(schemas.segment){const a=vis.data.aggs.getResponseAggs();const xAgg=a[dimensions.x.accessor];if(xAgg.type.name==="date_histogram"){dimensions.x.params.date=true;const{opensearchUnit:opensearchUnit,opensearchValue:opensearchValue}=xAgg.buckets.getInterval();dimensions.x.params.interval=external_osdSharedDeps_Moment_default.a.duration(opensearchValue,opensearchUnit);dimensions.x.params.intervalESValue=opensearchValue;dimensions.x.params.intervalESUnit=opensearchUnit;dimensions.x.params.format=xAgg.buckets.getScaledDateFormat();dimensions.x.params.bounds=xAgg.buckets.getBounds()}else if(xAgg.type.name==="histogram"){const intervalParam=xAgg.type.paramByName("interval");const output={params:{}};await intervalParam.modifyAggConfigOnSearchRequestStart(xAgg,vis.data.searchSource,{abortSignal:params.abortSignal});intervalParam.write(xAgg,output);dimensions.x.params.interval=output.params.interval}}adjustVislibDimensionFormmaters(vis,dimensions);return dimensions};const buildPipeline=async(vis,params)=>{const{indexPattern:indexPattern,searchSource:searchSource}=vis.data;const query=searchSource===null||searchSource===void 0?void 0:searchSource.getField("query");const filters=searchSource===null||searchSource===void 0?void 0:searchSource.getField("filter");const{uiState:uiState,title:title}=vis;let pipeline=`opensearchDashboards | opensearch_dashboards_context `;if(query){pipeline+=prepareJson("query",query)}if(filters){pipeline+=prepareJson("filters",filters)}if(vis.data.savedSearchId){pipeline+=prepareString("savedSearchId",vis.data.savedSearchId)}pipeline+="| ";if(vis.type.toExpressionAst){const visAst=await vis.type.toExpressionAst(vis,params);pipeline+=Object(expressions_public_["formatExpression"])(visAst)}else{if(vis.type.requestHandler==="courier"){pipeline+=`opensearchaggs\n        ${prepareString("index",indexPattern.id)}\n        metricsAtAllLevels=${vis.isHierarchical()}\n        partialRows=${vis.params.showPartialRows||false}\n        ${prepareJson("aggConfigs",vis.data.aggs.aggs)} | `}const schemas=getSchemas(vis,params);if(buildPipelineVisFunction[vis.type.name]){pipeline+=buildPipelineVisFunction[vis.type.name]({title:title,...vis.params},schemas,uiState)}else if(vislibCharts.includes(vis.type.name)){const visConfig={...vis.params};visConfig.dimensions=await buildVislibDimensions(vis,params);pipeline+=`vislib type='${vis.type.name}' ${prepareJson("visConfig",visConfig)}`}else{const visConfig={...vis.params};visConfig.dimensions=schemas;visConfig.title=title;pipeline+=`visualization type='${vis.type.name}'\n    ${prepareJson("visConfig",visConfig)}\n    ${prepareJson("uiState",uiState)}\n    metricsAtAllLevels=${vis.isHierarchical()}\n    partialRows=${vis.params.showPartialRows||false} `;if(indexPattern){pipeline+=`${prepareString("index",indexPattern.id)} `;if(vis.data.aggs){pipeline+=`${prepareJson("aggConfigs",vis.data.aggs.aggs)}`}}}}return pipeline};var uiActions_public_=__webpack_require__(15);const VIS_EVENT_TO_TRIGGER={applyFilter:uiActions_public_["APPLY_FILTER_TRIGGER"],brush:uiActions_public_["SELECT_RANGE_TRIGGER"],filter:uiActions_public_["VALUE_CLICK_TRIGGER"],externalAction:uiActions_public_["EXTERNAL_ACTION_TRIGGER"]};var dashboard_public_=__webpack_require__(36);var visAugmenter_public_=__webpack_require__(11);function visualize_embeddable_defineProperty(obj,key,value){key=visualize_embeddable_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function visualize_embeddable_toPropertyKey(arg){var key=visualize_embeddable_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function visualize_embeddable_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}const getKeys=o=>Object.keys(o);class visualize_embeddable_VisualizeEmbeddable extends public_["Embeddable"]{constructor(timefilter,_ref,initialInput,attributeService,savedVisualizationsLoader,savedAugmentVisLoader,parent){let{vis:vis,editPath:editPath,editUrl:editUrl,indexPatterns:indexPatterns,editable:editable,deps:deps}=_ref;super(initialInput,{defaultTitle:vis.title,editPath:editPath,editApp:"visualize",editUrl:editUrl,indexPatterns:indexPatterns,editable:editable,visTypeName:vis.type.name},parent);visualize_embeddable_defineProperty(this,"handler",void 0);visualize_embeddable_defineProperty(this,"timefilter",void 0);visualize_embeddable_defineProperty(this,"timeRange",void 0);visualize_embeddable_defineProperty(this,"query",void 0);visualize_embeddable_defineProperty(this,"filters",void 0);visualize_embeddable_defineProperty(this,"visCustomizations",void 0);visualize_embeddable_defineProperty(this,"subscriptions",[]);visualize_embeddable_defineProperty(this,"expression","");visualize_embeddable_defineProperty(this,"vis",void 0);visualize_embeddable_defineProperty(this,"domNode",void 0);visualize_embeddable_defineProperty(this,"type",VISUALIZE_EMBEDDABLE_TYPE);visualize_embeddable_defineProperty(this,"autoRefreshFetchSubscription",void 0);visualize_embeddable_defineProperty(this,"abortController",void 0);visualize_embeddable_defineProperty(this,"deps",void 0);visualize_embeddable_defineProperty(this,"inspectorAdapters",void 0);visualize_embeddable_defineProperty(this,"attributeService",void 0);visualize_embeddable_defineProperty(this,"savedVisualizationsLoader",void 0);visualize_embeddable_defineProperty(this,"savedAugmentVisLoader",void 0);visualize_embeddable_defineProperty(this,"visLayers",void 0);visualize_embeddable_defineProperty(this,"visAugmenterConfig",void 0);visualize_embeddable_defineProperty(this,"getInspectorAdapters",()=>{if(!this.handler||this.inspectorAdapters&&!Object.keys(this.inspectorAdapters).length){return undefined}return this.handler.inspect()});visualize_embeddable_defineProperty(this,"openInspector",()=>{if(!this.handler)return;const adapters=this.handler.inspect();if(!adapters)return;return this.deps.start().plugins.inspector.open(adapters,{title:this.getTitle()})});visualize_embeddable_defineProperty(this,"hasInspector",()=>Boolean(this.getInspectorAdapters()));visualize_embeddable_defineProperty(this,"onContainerLoading",()=>{this.renderComplete.dispatchInProgress();this.updateOutput({loading:true,error:undefined})});visualize_embeddable_defineProperty(this,"onContainerRender",()=>{this.renderComplete.dispatchComplete();this.updateOutput({loading:false,error:undefined})});visualize_embeddable_defineProperty(this,"onContainerError",error=>{if(this.abortController){this.abortController.abort()}this.renderComplete.dispatchError();this.updateOutput({loading:false,error:error})});visualize_embeddable_defineProperty(this,"reload",()=>{this.handleVisUpdate()});visualize_embeddable_defineProperty(this,"handleVisUpdate",async()=>{this.updateHandler()});visualize_embeddable_defineProperty(this,"uiStateChangeHandler",()=>{this.updateInput({...this.vis.uiState.toJSON()})});visualize_embeddable_defineProperty(this,"inputIsRefType",input=>{if(!this.attributeService){throw new Error("AttributeService must be defined for getInputAsRefType")}return this.attributeService.inputIsRefType(input)});visualize_embeddable_defineProperty(this,"getInputAsValueType",async()=>{const input={savedVis:this.vis.serialize()};if(this.getTitle()){input.savedVis.title=this.getTitle()}delete input.savedVis.id;return new Promise(resolve=>{resolve({...input})})});visualize_embeddable_defineProperty(this,"getInputAsRefType",async()=>{var _this$savedVisualizat;const savedVis=await((_this$savedVisualizat=this.savedVisualizationsLoader)===null||_this$savedVisualizat===void 0?void 0:_this$savedVisualizat.get({}));if(!savedVis){throw new Error("Error creating a saved vis object")}if(!this.attributeService){throw new Error("AttributeService must be defined for getInputAsRefType")}const saveModalTitle=this.getTitle()?this.getTitle():external_osdSharedDeps_OsdI18n_["i18n"].translate("visualizations.embeddable.placeholderTitle",{defaultMessage:"Placeholder Title"});const attributes={savedVis:savedVis,vis:this.vis,title:this.vis.title};return this.attributeService.getInputAsRefType({id:this.id,attributes:attributes},{showSaveModal:true,saveModalTitle:saveModalTitle})});visualize_embeddable_defineProperty(this,"fetchVisLayers",async()=>{try{var _this$visAugmenterCon;const expressionParams={searchContext:{timeRange:this.timeRange,query:this.input.query,filters:this.input.filters},uiState:this.vis.uiState,inspectorAdapters:this.inspectorAdapters};const aborted=Object(external_osdSharedDeps_Lodash_["get"])(this.abortController,"signal.aborted",false);const augmentVisSavedObjs=await Object(visAugmenter_public_["getAugmentVisSavedObjs"])(this.vis.id,this.savedAugmentVisLoader,undefined,(_this$visAugmenterCon=this.visAugmenterConfig)===null||_this$visAugmenterCon===void 0?void 0:_this$visAugmenterCon.visLayerResourceIds);if(!Object(external_osdSharedDeps_Lodash_["isEmpty"])(augmentVisSavedObjs)&&!aborted&&Object(visAugmenter_public_["isEligibleForVisLayers"])(this.vis)){const visLayersPipeline=Object(visAugmenter_public_["buildPipelineFromAugmentVisSavedObjs"])(augmentVisSavedObjs);const visLayersPipelineInput={type:"vis_layers",layers:[]};const exprVisLayers=await getExpressions().run(visLayersPipeline,visLayersPipelineInput,expressionParams);const visLayers=exprVisLayers.layers;getUiActions().getTrigger(visAugmenter_public_["PLUGIN_RESOURCE_DELETE_TRIGGER"]).exec({savedObjs:augmentVisSavedObjs,visLayers:visLayers});const err=Object(visAugmenter_public_["getAnyErrors"])(visLayers,this.vis.title);if(err!==undefined){const{toasts:toasts}=getNotifications();toasts.addError(err,{title:external_osdSharedDeps_OsdI18n_["i18n"].translate("visualizations.renderVisTitle",{defaultMessage:"Error loading data on the {visTitle} chart",values:{visTitle:this.vis.title}}),toastMessage:" ",id:this.id})}return visLayers}}catch{return[]}return[]});this.deps=deps;this.timefilter=timefilter;this.vis=vis;this.vis.uiState.on("change",this.uiStateChangeHandler);this.vis.uiState.on("reload",this.reload);this.attributeService=attributeService;this.savedVisualizationsLoader=savedVisualizationsLoader;this.savedAugmentVisLoader=savedAugmentVisLoader;this.visAugmenterConfig=initialInput.visAugmenterConfig;this.autoRefreshFetchSubscription=timefilter.getAutoRefreshFetch$().subscribe(this.updateHandler.bind(this));this.subscriptions.push(external_osdSharedDeps_Rxjs_["merge"](this.getOutput$(),this.getInput$()).subscribe(()=>{this.handleChanges()}));const inspectorAdapters=this.vis.type.inspectorAdapters;if(inspectorAdapters){this.inspectorAdapters=typeof inspectorAdapters==="function"?inspectorAdapters():inspectorAdapters}}getDescription(){return this.vis.description}transferCustomizationsToUiState(){const visCustomizations={vis:this.input.vis,table:this.input.table};if(visCustomizations.vis||visCustomizations.table){if(!external_osdSharedDeps_Lodash_default.a.isEqual(visCustomizations,this.visCustomizations)){this.visCustomizations=visCustomizations;this.vis.uiState.off("change",this.uiStateChangeHandler);this.vis.uiState.clearAllKeys();if(visCustomizations.vis){this.vis.uiState.set("vis",visCustomizations.vis);getKeys(visCustomizations).forEach(key=>{this.vis.uiState.set(key,visCustomizations[key])})}if(visCustomizations.table){this.vis.uiState.set("table",visCustomizations.table)}this.vis.uiState.on("change",this.uiStateChangeHandler)}}else if(this.parent){this.vis.uiState.clearAllKeys()}}async handleChanges(){this.transferCustomizationsToUiState();let dirty=false;if(!external_osdSharedDeps_Lodash_default.a.isEqual(this.input.timeRange,this.timeRange)){this.timeRange=external_osdSharedDeps_Lodash_default.a.cloneDeep(this.input.timeRange);dirty=true}if(!data_public_["opensearchFilters"].onlyDisabledFiltersChanged(this.input.filters,this.filters)){this.filters=this.input.filters;dirty=true}if(!external_osdSharedDeps_Lodash_default.a.isEqual(this.input.query,this.query)){this.query=this.input.query;dirty=true}if(this.vis.description&&this.domNode){this.domNode.setAttribute("data-description",this.vis.description)}if(this.handler&&dirty){this.updateHandler()}}async render(domNode){this.timeRange=external_osdSharedDeps_Lodash_default.a.cloneDeep(this.input.timeRange);this.transferCustomizationsToUiState();const div=document.createElement("div");div.className=`visualize panel-content panel-content--fullWidth`;domNode.appendChild(div);this.domNode=div;super.render(this.domNode);const expressions=getExpressions();this.handler=new expressions.ExpressionLoader(this.domNode,undefined,{onRenderError:(element,error)=>{this.onContainerError(error)}});this.subscriptions.push(this.handler.events$.subscribe(async event=>{if(event.name==="bounds"){const agg=this.vis.data.aggs.aggs.find(a=>Object(external_osdSharedDeps_Lodash_["get"])(a,"type.dslName")==="geohash_grid");if(agg&&agg.params.precision!==event.data.precision||agg&&!external_osdSharedDeps_Lodash_default.a.isEqual(agg.params.boundingBox,event.data.boundingBox)){agg.params.boundingBox=event.data.boundingBox;agg.params.precision=event.data.precision;this.reload()}return}if(!this.input.disableTriggers){const triggerId=Object(external_osdSharedDeps_Lodash_["get"])(VIS_EVENT_TO_TRIGGER,event.name,VIS_EVENT_TO_TRIGGER.filter);let context;if(triggerId===VIS_EVENT_TO_TRIGGER.applyFilter){var _this$vis$data$indexP;context={embeddable:this,timeFieldName:(_this$vis$data$indexP=this.vis.data.indexPattern)===null||_this$vis$data$indexP===void 0?void 0:_this$vis$data$indexP.timeFieldName,...event.data}}else if(triggerId===VIS_EVENT_TO_TRIGGER.externalAction){context={savedObjectId:this.vis.id}}else{var _this$vis$data$indexP2;context={embeddable:this,data:{timeFieldName:(_this$vis$data$indexP2=this.vis.data.indexPattern)===null||_this$vis$data$indexP2===void 0?void 0:_this$vis$data$indexP2.timeFieldName,...event.data}}}getUiActions().getTrigger(triggerId).exec(context)}}));if(this.vis.description){div.setAttribute("data-description",this.vis.description)}div.setAttribute("data-test-subj","visualizationLoader");div.setAttribute("data-shared-item","");this.subscriptions.push(this.handler.loading$.subscribe(this.onContainerLoading));this.subscriptions.push(this.handler.render$.subscribe(this.onContainerRender));this.updateHandler()}destroy(){super.destroy();this.subscriptions.forEach(s=>s.unsubscribe());this.vis.uiState.off("change",this.uiStateChangeHandler);this.vis.uiState.off("reload",this.reload);if(this.handler){this.handler.destroy();this.handler.getElement().remove()}this.autoRefreshFetchSubscription.unsubscribe()}async updateHandler(){var _this$parent,_this$visAugmenterCon2;const expressionParams={searchContext:{timeRange:this.timeRange,query:this.input.query,filters:this.input.filters},uiState:this.vis.uiState,inspectorAdapters:this.inspectorAdapters};if(this.abortController){this.abortController.abort()}this.abortController=new AbortController;const abortController=this.abortController;const shouldFetchVisLayers=((_this$parent=this.parent)===null||_this$parent===void 0?void 0:_this$parent.type)===dashboard_public_["DASHBOARD_CONTAINER_TYPE"]||((_this$visAugmenterCon2=this.visAugmenterConfig)===null||_this$visAugmenterCon2===void 0?void 0:_this$visAugmenterCon2.inFlyout);if(shouldFetchVisLayers){await this.populateVisLayers()}this.expression=await buildPipeline(this.vis,{timefilter:this.timefilter,timeRange:this.timeRange,abortSignal:this.abortController.signal,visLayers:this.visLayers,visAugmenterConfig:this.visAugmenterConfig});if(this.handler&&!abortController.signal.aborted){this.handler.update(this.expression,expressionParams)}}supportedTriggers(){var _this$vis$type$getSup,_this$vis$type$getSup2,_this$vis$type;return(_this$vis$type$getSup=(_this$vis$type$getSup2=(_this$vis$type=this.vis.type).getSupportedTriggers)===null||_this$vis$type$getSup2===void 0?void 0:_this$vis$type$getSup2.call(_this$vis$type))!==null&&_this$vis$type$getSup!==void 0?_this$vis$type$getSup:[]}async populateVisLayers(){this.visLayers=await this.fetchVisLayers()}}var external_osdSharedDeps_RxjsOperators_=__webpack_require__(14);var events=__webpack_require__(20);var opensearch_safer_lodash_set=__webpack_require__(12);function persisted_state_defineProperty(obj,key,value){key=persisted_state_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function persisted_state_toPropertyKey(arg){var key=persisted_state_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function persisted_state_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}function prepSetParams(key,value,path){if(value===undefined&&(Object(external_osdSharedDeps_Lodash_["isPlainObject"])(key)||path.length>0)){value=key;key=undefined}return{value:Object(external_osdSharedDeps_Lodash_["cloneDeep"])(value),key:key}}class persisted_state_PersistedState extends events["EventEmitter"]{constructor(value,path){super();persisted_state_defineProperty(this,"_path",void 0);persisted_state_defineProperty(this,"_initialized",void 0);persisted_state_defineProperty(this,"_changedState",void 0);persisted_state_defineProperty(this,"_defaultState",void 0);persisted_state_defineProperty(this,"_mergedState",void 0);this._path=this.setPath(path);if(!this._path.length&&value&&!Object(external_osdSharedDeps_Lodash_["isPlainObject"])(value)){throw new Error("State value must be a plain object")}value=value||this.getDefault();this.set(value);this._initialized=true}get(key,defaultValue){if(!this.hasPath()&&key===undefined){return this._mergedState}return Object(external_osdSharedDeps_Lodash_["cloneDeep"])(Object(external_osdSharedDeps_Lodash_["get"])(this._mergedState,this.getIndex(key||""),defaultValue))}set(key,value){const params=prepSetParams(key,value,this._path);const val=this.setValue(params.key,params.value);this.emit("set");return val}setSilent(key,value){const params=prepSetParams(key,value,this._path);if(params.key||params.value){return this.setValue(params.key,params.value,true)}}clearAllKeys(){Object.getOwnPropertyNames(this._changedState).forEach(key=>{this.set(key,null)})}reset(path){const keyPath=this.getIndex(path);const origValue=Object(external_osdSharedDeps_Lodash_["get"])(this._defaultState,keyPath);const currentValue=Object(external_osdSharedDeps_Lodash_["get"])(this._mergedState,keyPath);if(origValue===undefined){this.cleanPath(path,this._mergedState)}else{Object(opensearch_safer_lodash_set["set"])(this._mergedState,keyPath,origValue)}this.cleanPath(path,this._changedState);if(!Object(external_osdSharedDeps_Lodash_["isEqual"])(currentValue,origValue))this.emit("change")}getChanges(){return Object(external_osdSharedDeps_Lodash_["cloneDeep"])(this._changedState)}toJSON(){return this.get()}toString(){return JSON.stringify(this.toJSON())}fromString(input){return this.set(JSON.parse(input))}getIndex(key){if(key===undefined)return this._path;return[...this._path||[],...Object(external_osdSharedDeps_Lodash_["toPath"])(key)]}getPartialIndex(key){const keyPath=this.getIndex(key);return keyPath.slice(this._path.length)}cleanPath(path,stateTree){const partialPath=this.getPartialIndex(path);let remove=true;if(Array.isArray(partialPath)){while(partialPath.length>0){const lastKey=partialPath.splice(partialPath.length-1,1)[0];const statePath=[...this._path,partialPath];const stateVal=statePath.length>0?Object(external_osdSharedDeps_Lodash_["get"])(stateTree,statePath):stateTree;if(!Object(external_osdSharedDeps_Lodash_["isPlainObject"])(stateVal))return;if(remove)delete stateVal[lastKey];if(Object.keys(stateVal).length>0)remove=false}}}getDefault(){return this.hasPath()?undefined:{}}setPath(path){if(Array.isArray(path)){return path}if(Object(external_osdSharedDeps_Lodash_["isString"])(path)){return[...this.getIndex(path)]}return[]}hasPath(){return this._path.length>0}setValue(key,value){let silent=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const self=this;let stateChanged=false;const initialState=!this._initialized;const keyPath=this.getIndex(key);const hasKeyPath=keyPath.length>0;if(initialState){this._changedState={};if(!this.hasPath()&&key===undefined)this._defaultState=value;else this._defaultState=Object(opensearch_safer_lodash_set["set"])({},keyPath,value)}if(!initialState){if(!this.hasPath()&&key===undefined){stateChanged=!Object(external_osdSharedDeps_Lodash_["isEqual"])(this._changedState,value);this._changedState=value;this._mergedState=Object(external_osdSharedDeps_Lodash_["cloneDeep"])(value)}else{const curVal=hasKeyPath?this.get(keyPath):this._mergedState;stateChanged=!Object(external_osdSharedDeps_Lodash_["isEqual"])(curVal,value);if(Array.isArray(Object(external_osdSharedDeps_Lodash_["get"])(this._mergedState,keyPath))){if(hasKeyPath){Object(opensearch_safer_lodash_set["set"])(this._mergedState,keyPath,undefined)}else{this._mergedState=undefined}}if(hasKeyPath){Object(opensearch_safer_lodash_set["set"])(this._changedState,keyPath,value)}else{this._changedState=Object(external_osdSharedDeps_Lodash_["isPlainObject"])(value)?value:{}}}}const targetObj=Object(external_osdSharedDeps_Lodash_["cloneDeep"])(this._mergedState)||Object(external_osdSharedDeps_Lodash_["cloneDeep"])(this._defaultState);const sourceObj=Object(external_osdSharedDeps_Lodash_["merge"])({},this._changedState);const mergeMethod=function(targetValue,sourceValue,mergeKey){if(!initialState&&Object(external_osdSharedDeps_Lodash_["isEqual"])(keyPath,self.getIndex(mergeKey))){return sourceValue===undefined?targetValue:sourceValue}};this._mergedState=Object(external_osdSharedDeps_Lodash_["mergeWith"])(targetObj,sourceObj,mergeMethod);if(Object(external_osdSharedDeps_Lodash_["isEqual"])(this._mergedState,this._defaultState))this._changedState={};if(!silent&&stateChanged)this.emit("change",key);return this}}function vis_defineProperty(obj,key,value){key=vis_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function vis_toPropertyKey(arg){var key=vis_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function vis_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}const getSearchSource=async(inputSearchSource,savedSearchId)=>{const searchSource=inputSearchSource.createCopy();if(savedSearchId){const savedSearch=await getSavedSearchLoader().get(savedSearchId);searchSource.setParent(savedSearch.searchSource)}searchSource.setField("size",0);return searchSource};class vis_Vis{constructor(visType){let visState=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};vis_defineProperty(this,"type",void 0);vis_defineProperty(this,"id",void 0);vis_defineProperty(this,"title","");vis_defineProperty(this,"description","");vis_defineProperty(this,"params",void 0);vis_defineProperty(this,"sessionState",{});vis_defineProperty(this,"data",{});vis_defineProperty(this,"uiState",void 0);this.type=this.getType(visType);this.params=this.getParams(visState.params);this.uiState=new persisted_state_PersistedState(visState.uiState);this.id=visState.id}getType(visType){const type=getTypes().get(visType);if(!type){const errorMessage=external_osdSharedDeps_OsdI18n_["i18n"].translate("visualizations.visualizationTypeInvalidMessage",{defaultMessage:'Invalid visualization type "{visType}"',values:{visType:visType}});throw new Error(errorMessage)}return type}getParams(params){var _this$type$visConfig$,_this$type$visConfig;return Object(external_osdSharedDeps_Lodash_["defaults"])({},Object(external_osdSharedDeps_Lodash_["cloneDeep"])(params!==null&&params!==void 0?params:{}),Object(external_osdSharedDeps_Lodash_["cloneDeep"])((_this$type$visConfig$=(_this$type$visConfig=this.type.visConfig)===null||_this$type$visConfig===void 0?void 0:_this$type$visConfig.defaults)!==null&&_this$type$visConfig$!==void 0?_this$type$visConfig$:{}))}async setState(state){let typeChanged=false;if(state.type&&this.type.name!==state.type){this.type=this.getType(state.type);typeChanged=true}if(state.title!==undefined){this.title=state.title}if(state.description!==undefined){this.description=state.description}if(state.params||typeChanged){this.params=this.getParams(state.params)}if(state.data&&state.data.searchSource){this.data.searchSource=await getSearch().searchSource.create(state.data.searchSource);this.data.indexPattern=this.data.searchSource.getField("index")}if(state.data&&state.data.savedSearchId){this.data.savedSearchId=state.data.savedSearchId;if(this.data.searchSource){this.data.searchSource=await getSearchSource(this.data.searchSource,this.data.savedSearchId);this.data.indexPattern=this.data.searchSource.getField("index")}}if(state.data&&(state.data.aggs||!this.data.aggs)){const aggs=state.data.aggs?Object(external_osdSharedDeps_Lodash_["cloneDeep"])(state.data.aggs):[];const configStates=this.initializeDefaultsFromSchemas(aggs,this.type.schemas.all||[]);if(!this.data.indexPattern){if(aggs.length){const errorMessage=external_osdSharedDeps_OsdI18n_["i18n"].translate("visualizations.initializeWithoutIndexPatternErrorMessage",{defaultMessage:"Trying to initialize aggs without index pattern"});throw new Error(errorMessage)}return}this.data.aggs=getAggs().createAggConfigs(this.data.indexPattern,configStates)}}clone(){const{data:data,...restOfSerialized}=this.serialize();const vis=new vis_Vis(this.type.name,restOfSerialized);vis.setState({...restOfSerialized,data:{}});const aggs=this.data.indexPattern?getAggs().createAggConfigs(this.data.indexPattern,data.aggs):undefined;vis.data={...this.data,aggs:aggs};return vis}serialize(){const aggs=this.data.aggs?this.data.aggs.aggs.map(agg=>agg.toJSON()):[];return{id:this.id,title:this.title,description:this.description,type:this.type.name,params:Object(external_osdSharedDeps_Lodash_["cloneDeep"])(this.params),uiState:this.uiState.toJSON(),data:{aggs:aggs,searchSource:this.data.searchSource?this.data.searchSource.getSerializedFields():{},savedSearchId:this.data.savedSearchId}}}isHierarchical(){if(Object(external_osdSharedDeps_Lodash_["isFunction"])(this.type.hierarchicalData)){return!!this.type.hierarchicalData(this)}else{return!!this.type.hierarchicalData}}initializeDefaultsFromSchemas(configStates,schemas){const newConfigs=[...configStates];schemas.filter(schema=>Array.isArray(schema.defaults)&&schema.defaults.length>0).filter(schema=>!configStates.find(agg=>agg.schema&&agg.schema===schema.name)).forEach(schema=>{const defaultSchemaConfig=schema.defaults.slice(0,schema.max);defaultSchemaConfig.forEach(d=>newConfigs.push(d))});return newConfigs}}function wrapArray(subj){return Array.isArray(subj)?subj:[subj]}class UnreachableCaseError extends Error{constructor(val){super(`Unreachable case: ${val}`)}}function createUiStatsMetric(_ref){let{type:type,appName:appName,eventName:eventName,count:count=1}=_ref;return{type:type,appName:appName,eventName:eventName,count:count}}function trackUsageAgent(appName){const userAgent=window&&window.navigator&&window.navigator.userAgent||"";return{type:METRIC_TYPE.USER_AGENT,appName:appName,userAgent:userAgent}}var external_osdSharedDeps_MomentTimezone_=__webpack_require__(21);var external_osdSharedDeps_MomentTimezone_default=__webpack_require__.n(external_osdSharedDeps_MomentTimezone_);function application_usage_defineProperty(obj,key,value){key=application_usage_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function application_usage_toPropertyKey(arg){var key=application_usage_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function application_usage_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}class application_usage_ApplicationUsage{constructor(){application_usage_defineProperty(this,"currentUsage",void 0)}start(){if(window)window.addEventListener("click",()=>this.currentUsage&&this.currentUsage.numberOfClicks++)}appChanged(appId){const currentUsage=this.currentUsage;if(appId){this.currentUsage={type:METRIC_TYPE.APPLICATION_USAGE,appId:appId,startTime:external_osdSharedDeps_MomentTimezone_default()(),numberOfClicks:0}}else{this.currentUsage=void 0}return currentUsage}}let METRIC_TYPE=function(METRIC_TYPE){METRIC_TYPE["COUNT"]="count";METRIC_TYPE["LOADED"]="loaded";METRIC_TYPE["CLICK"]="click";METRIC_TYPE["USER_AGENT"]="user_agent";METRIC_TYPE["APPLICATION_USAGE"]="application_usage";return METRIC_TYPE}({});function storage_defineProperty(obj,key,value){key=storage_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function storage_toPropertyKey(arg){var key=storage_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function storage_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}class ReportStorageManager{constructor(storageKey,storage){storage_defineProperty(this,"storageKey",void 0);storage_defineProperty(this,"storage",void 0);this.storageKey=storageKey;this.storage=storage}get(){if(!this.storage)return;return this.storage.get(this.storageKey)}store(report){if(!this.storage)return;this.storage.set(this.storageKey,report)}}function report_defineProperty(obj,key,value){key=report_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function report_toPropertyKey(arg){var key=report_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function report_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}const REPORT_VERSION=1;class report_ReportManager{constructor(report){report_defineProperty(this,"report",void 0);this.report=report||report_ReportManager.createReport()}static createReport(){return{reportVersion:REPORT_VERSION}}clearReport(){this.report=report_ReportManager.createReport()}isReportEmpty(){const{uiStatsMetrics:uiStatsMetrics,userAgent:userAgent,application_usage:appUsage}=this.report;const noUiStats=!uiStatsMetrics||Object.keys(uiStatsMetrics).length===0;const noUserAgent=!userAgent||Object.keys(userAgent).length===0;const noAppUsage=!appUsage||Object.keys(appUsage).length===0;return noUiStats&&noUserAgent&&noAppUsage}incrementStats(count,stats){const{min:min=0,max:max=0,sum:sum=0}=stats||{};const newMin=Math.min(min,count);const newMax=Math.max(max,count);const newAvg=newMin+newMax/2;const newSum=sum+count;return{min:newMin,max:newMax,avg:newAvg,sum:newSum}}assignReports(newMetrics){wrapArray(newMetrics).forEach(newMetric=>this.assignReport(this.report,newMetric));return{report:this.report}}static createMetricKey(metric){switch(metric.type){case METRIC_TYPE.USER_AGENT:{const{appName:appName,type:type}=metric;return`${appName}-${type}`}case METRIC_TYPE.CLICK:case METRIC_TYPE.LOADED:case METRIC_TYPE.COUNT:{const{appName:appName,eventName:eventName,type:type}=metric;return`${appName}-${type}-${eventName}`}case METRIC_TYPE.APPLICATION_USAGE:return metric.appId;default:throw new UnreachableCaseError(metric)}}assignReport(report,metric){const key=report_ReportManager.createMetricKey(metric);switch(metric.type){case METRIC_TYPE.USER_AGENT:{const{appName:appName,type:type,userAgent:userAgent}=metric;if(userAgent){report.userAgent={[key]:{key:key,appName:appName,type:type,userAgent:metric.userAgent}}}return}case METRIC_TYPE.CLICK:case METRIC_TYPE.LOADED:case METRIC_TYPE.COUNT:{const{appName:appName,type:type,eventName:eventName,count:count}=metric;report.uiStatsMetrics=report.uiStatsMetrics||{};const existingStats=(report.uiStatsMetrics[key]||{}).stats;report.uiStatsMetrics[key]={key:key,appName:appName,eventName:eventName,type:type,stats:this.incrementStats(count,existingStats)};return}case METRIC_TYPE.APPLICATION_USAGE:const{numberOfClicks:numberOfClicks,startTime:startTime}=metric;const minutesOnScreen=external_osdSharedDeps_MomentTimezone_default()().diff(startTime,"minutes",true);report.application_usage=report.application_usage||{};const appExistingData=report.application_usage[key]||{minutesOnScreen:0,numberOfClicks:0};report.application_usage[key]={minutesOnScreen:appExistingData.minutesOnScreen+minutesOnScreen,numberOfClicks:appExistingData.numberOfClicks+numberOfClicks};break;default:throw new UnreachableCaseError(metric)}}}report_defineProperty(report_ReportManager,"REPORT_VERSION",REPORT_VERSION);function reporter_defineProperty(obj,key,value){key=reporter_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function reporter_toPropertyKey(arg){var key=reporter_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function reporter_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}class reporter_Reporter{constructor(config){reporter_defineProperty(this,"checkInterval",void 0);reporter_defineProperty(this,"interval",void 0);reporter_defineProperty(this,"lastAppId",void 0);reporter_defineProperty(this,"http",void 0);reporter_defineProperty(this,"reportManager",void 0);reporter_defineProperty(this,"storageManager",void 0);reporter_defineProperty(this,"applicationUsage",void 0);reporter_defineProperty(this,"debug",void 0);reporter_defineProperty(this,"retryCount",0);reporter_defineProperty(this,"maxRetries",3);reporter_defineProperty(this,"started",false);reporter_defineProperty(this,"start",()=>{if(!this.interval){this.interval=setTimeout(()=>{this.interval=undefined;this.sendReports()},this.checkInterval)}if(this.started){return}if(window&&document){window.addEventListener("beforeunload",()=>this.reportApplicationUsage());document.addEventListener("visibilitychange",()=>{if(document.visibilityState==="visible"&&this.lastAppId){this.reportApplicationUsage(this.lastAppId)}else if(document.visibilityState==="hidden"){this.reportApplicationUsage();this.sendReports()}})}this.started=true;this.applicationUsage.start()});reporter_defineProperty(this,"reportUiStats",(appName,type,eventNames,count)=>{const metrics=wrapArray(eventNames).map(eventName=>{this.log(`${type} Metric -> (${appName}:${eventName}):`);const report=createUiStatsMetric({type:type,appName:appName,eventName:eventName,count:count});this.log(report);return report});this.saveToReport(metrics)});reporter_defineProperty(this,"reportUserAgent",appName=>{this.log(`Reporting user-agent.`);const report=trackUsageAgent(appName);this.saveToReport([report])});reporter_defineProperty(this,"sendReports",async()=>{if(!this.reportManager.isReportEmpty()){try{await this.http(this.reportManager.report);this.flushReport()}catch(err){this.log(`Error Sending Metrics Report ${err}`);this.retryCount=this.retryCount+1;const versionMismatch=this.reportManager.report.reportVersion!==report_ReportManager.REPORT_VERSION;if(versionMismatch||this.retryCount>this.maxRetries){this.flushReport()}}}this.start()});const{http:http,storage:storage,debug:debug,checkInterval:checkInterval=9e4,storageKey:storageKey="analytics"}=config;this.http=http;this.checkInterval=checkInterval;this.applicationUsage=new application_usage_ApplicationUsage;this.storageManager=new ReportStorageManager(storageKey,storage);const storedReport=this.storageManager.get();this.reportManager=new report_ReportManager(storedReport);this.debug=!!debug}saveToReport(newMetrics){this.reportManager.assignReports(newMetrics);this.storageManager.store(this.reportManager.report)}flushReport(){this.retryCount=0;this.reportManager.clearReport();this.storageManager.store(this.reportManager.report)}log(message){if(this.debug){console.debug(message)}}reportApplicationUsage(appId){this.log(`Reporting application changed to ${appId}`);this.lastAppId=appId||this.lastAppId;const appChangedReport=this.applicationUsage.appChanged(appId);if(appChangedReport)this.saveToReport([appChangedReport])}}var savedObjects_public_=__webpack_require__(10);function search_selection_defineProperty(obj,key,value){key=search_selection_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function search_selection_toPropertyKey(arg){var key=search_selection_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function search_selection_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}class search_selection_SearchSelection extends external_osdSharedDeps_React_default.a.Component{constructor(){super(...arguments);search_selection_defineProperty(this,"fixedPageSize",8)}render(){return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiModalHeader"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiModalHeaderTitle"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"visualizations.newVisWizard.newVisTypeTitle",defaultMessage:"New {visTypeName}",values:{visTypeName:this.props.visType.title}})," ","/"," ",external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"visualizations.newVisWizard.chooseSourceTitle",defaultMessage:"Choose a source"}))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiModalBody"],null,external_osdSharedDeps_React_default.a.createElement(savedObjects_public_["SavedObjectFinderUi"],{key:"searchSavedObjectFinder",onChoose:this.props.onSearchSelected,showFilter:true,noItemsMessage:external_osdSharedDeps_OsdI18n_["i18n"].translate("visualizations.newVisWizard.searchSelection.notFoundLabel",{defaultMessage:"No matching indices or saved searches found."}),savedObjectMetaData:[{type:"search",getIconForSavedObject:()=>"search",name:external_osdSharedDeps_OsdI18n_["i18n"].translate("visualizations.newVisWizard.searchSelection.savedObjectType.search",{defaultMessage:"Saved search"}),includeFields:["kibanaSavedObjectMeta"]},{type:"index-pattern",getIconForSavedObject:()=>"indexPatternApp",name:external_osdSharedDeps_OsdI18n_["i18n"].translate("visualizations.newVisWizard.searchSelection.savedObjectType.indexPattern",{defaultMessage:"Index pattern"})}],fixedPageSize:this.fixedPageSize,uiSettings:this.props.uiSettings,savedObjects:this.props.savedObjects,application:this.props.application,data:this.props.data})))}}const neverCalled=Symbol();function memoizeLast(func){let prevCall=neverCalled;const memoizedFunction=function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}if(prevCall!==neverCalled&&prevCall.this===this&&prevCall.args.length===args.length&&prevCall.args.every((arg,index)=>arg===args[index])){return prevCall.returnValue}prevCall={args:args,this:this,returnValue:func.apply(this,args)};return prevCall.returnValue};return memoizedFunction}function NewVisHelp(props){return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_osdSharedDeps_React_default.a.createElement("p",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"visualizations.newVisWizard.helpText",defaultMessage:"Start creating your visualization by selecting a type for that visualization."})),props.promotedTypes.map(t=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_["Fragment"],{key:t.name},external_osdSharedDeps_React_default.a.createElement("p",null,external_osdSharedDeps_React_default.a.createElement("strong",null,t.promotion.description)),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiButton"],{onClick:()=>props.onPromotionClicked(t),fill:true,size:"s",iconType:"popout",iconSide:"right"},t.promotion.buttonText))))}const VisHelpText=_ref=>{let{name:name,title:title,description:description,highlightMsg:highlightMsg}=_ref;return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_osdSharedDeps_React_default.a.createElement("h2",null,title)),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_osdSharedDeps_React_default.a.createElement("div",{id:`visTypeDescription-${name}`},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s"},highlightMsg&&external_osdSharedDeps_React_default.a.createElement("p",null,external_osdSharedDeps_React_default.a.createElement("em",null,highlightMsg)),external_osdSharedDeps_React_default.a.createElement("p",null,description))))};const VisTypeIcon=_ref=>{let{icon:icon,image:image}=_ref;return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,image&&external_osdSharedDeps_React_default.a.createElement("img",{src:image,alt:"",className:"visNewVisDialog__typeImage"}),!image&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiIcon"],{type:icon||"empty",size:"l",color:"secondary"}))};function _extends(){_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function type_selection_defineProperty(obj,key,value){key=type_selection_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function type_selection_toPropertyKey(arg){var key=type_selection_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function type_selection_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}function isVisTypeAlias(type){return"aliasPath"in type}class type_selection_TypeSelection extends external_osdSharedDeps_React_default.a.Component{constructor(){super(...arguments);type_selection_defineProperty(this,"state",{highlightedType:null,query:""});type_selection_defineProperty(this,"getFilteredVisTypes",memoizeLast(this.filteredVisTypes));type_selection_defineProperty(this,"renderVisType",visType=>{let stage={};let highlightMsg;if(visType.type.stage==="experimental"){stage={betaBadgeLabel:external_osdSharedDeps_OsdI18n_["i18n"].translate("visualizations.newVisWizard.experimentalTitle",{defaultMessage:"Experimental"}),betaBadgeTooltipContent:external_osdSharedDeps_OsdI18n_["i18n"].translate("visualizations.newVisWizard.experimentalTooltip",{defaultMessage:"This visualization might be changed or removed in a future release and is not subject to the support SLA."})};highlightMsg=external_osdSharedDeps_OsdI18n_["i18n"].translate("visualizations.newVisWizard.experimentalDescription",{defaultMessage:"This visualization is experimental. The design and implementation are less mature than stable visualizations and might be subject to change."})}else if(isVisTypeAlias(visType.type)&&visType.type.stage==="beta"){const aliasDescription=external_osdSharedDeps_OsdI18n_["i18n"].translate("visualizations.newVisWizard.betaDescription",{defaultMessage:"This visualization is in beta and is subject to change. The design and code is less mature than official GA features and is being provided as-is with no warranties. Beta features are not subject to the support SLA of official GA features"});stage={betaBadgeLabel:external_osdSharedDeps_OsdI18n_["i18n"].translate("visualizations.newVisWizard.betaTitle",{defaultMessage:"Beta"}),betaBadgeTooltipContent:aliasDescription};highlightMsg=aliasDescription}const isDisabled=this.state.query!==""&&!visType.highlighted;const onClick=()=>this.props.onVisTypeSelected(visType.type);const highlightedType={title:visType.type.title,name:visType.type.name,description:visType.type.description,highlightMsg:highlightMsg};return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiKeyPadMenuItem"],_extends({key:visType.type.name,label:external_osdSharedDeps_React_default.a.createElement("span",{"data-test-subj":"visTypeTitle"},visType.type.title),onClick:onClick,onFocus:()=>this.setHighlightType(highlightedType),onMouseEnter:()=>this.setHighlightType(highlightedType),onMouseLeave:()=>this.setHighlightType(null),onBlur:()=>this.setHighlightType(null),className:"visNewVisDialog__type","data-test-subj":`visType-${visType.type.name}`,"data-vis-stage":!isVisTypeAlias(visType.type)?visType.type.stage:"alias",disabled:isDisabled,"aria-describedby":`visTypeDescription-${visType.type.name}`},stage),external_osdSharedDeps_React_default.a.createElement(VisTypeIcon,{icon:visType.type.icon,image:"image"in visType.type?visType.type.image:undefined}))});type_selection_defineProperty(this,"onQueryChange",ev=>{this.setState({query:ev.target.value})})}render(){const{query:query,highlightedType:highlightedType}=this.state;const visTypes=this.getFilteredVisTypes(this.props.visTypesRegistry,query);return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiModalHeader"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiModalHeaderTitle"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_osdSharedDeps_React_default.a.createElement("h2",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"visualizations.newVisWizard.title",defaultMessage:"New Visualization"}))))),external_osdSharedDeps_React_default.a.createElement("div",{className:"visNewVisDialog__body"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"xl"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{className:"visNewVisDialog__list",direction:"column",gutterSize:"none",responsive:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false,className:"visNewVisDialog__searchWrapper"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCompressedFieldSearch"],{placeholder:"Filter",value:query,onChange:this.onQueryChange,fullWidth:true,"data-test-subj":"filterVisType","aria-label":external_osdSharedDeps_OsdI18n_["i18n"].translate("visualizations.newVisWizard.filterVisTypeAriaLabel",{defaultMessage:"Filter for a visualization type"})})),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:1,className:"visNewVisDialog__typesWrapper"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiScreenReaderOnly"],null,external_osdSharedDeps_React_default.a.createElement("span",{"aria-live":"polite"},query&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"visualizations.newVisWizard.resultsFound",defaultMessage:"{resultCount} {resultCount, plural, one {type} other {types} } found",values:{resultCount:visTypes.filter(type=>type.highlighted).length}}))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiKeyPadMenu"],{className:"visNewVisDialog__types","data-test-subj":"visNewDialogTypes"},visTypes.map(this.renderVisType))))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{className:"visNewVisDialog__description",grow:false},highlightedType?external_osdSharedDeps_React_default.a.createElement(VisHelpText,highlightedType):external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_osdSharedDeps_React_default.a.createElement("h2",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"visualizations.newVisWizard.selectVisType",defaultMessage:"Select a visualization type"}))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_osdSharedDeps_React_default.a.createElement(NewVisHelp,{promotedTypes:visTypes.map(t=>t.type).filter(t=>isVisTypeAlias(t)&&Boolean(t.promotion)),onPromotionClicked:this.props.onVisTypeSelected}))))))}filteredVisTypes(visTypes,query){const filterExperimental=type=>{if(!this.props.showExperimental&&type.stage==="experimental"){return false}return true};const types=visTypes.all().filter(filterExperimental).filter(type=>!type.hidden);const aliasedTypes=visTypes.getAliases().filter(filterExperimental);const allTypes=[...types,...aliasedTypes];let entries;if(!query){entries=allTypes.map(type=>({type:type,highlighted:false}))}else{const q=query.toLowerCase();entries=allTypes.map(type=>{const matchesQuery=type.name.toLowerCase().includes(q)||type.title.toLowerCase().includes(q)||typeof type.description==="string"&&type.description.toLowerCase().includes(q);return{type:type,highlighted:matchesQuery}})}return Object(external_osdSharedDeps_Lodash_["orderBy"])(entries,["highlighted","type.promotion","type.title"],["desc","asc","asc"])}setHighlightType(highlightedType){this.setState({highlightedType:highlightedType})}}const VISUALIZE_ENABLE_LABS_SETTING="visualize:enableLabs";const VISUALIZE_DISABLE_BUCKET_AGG_SETTING="visualize:disableBucketAgg";function new_vis_modal_defineProperty(obj,key,value){key=new_vis_modal_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function new_vis_modal_toPropertyKey(arg){var key=new_vis_modal_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function new_vis_modal_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}const basePath=`/create?`;const baseUrl=`/app/visualize#${basePath}`;class new_vis_modal_NewVisModal extends external_osdSharedDeps_React_default.a.Component{constructor(props){var _this$props$usageColl;super(props);new_vis_modal_defineProperty(this,"isLabsEnabled",void 0);new_vis_modal_defineProperty(this,"trackUiMetric",void 0);new_vis_modal_defineProperty(this,"onCloseModal",()=>{this.setState({showSearchVisModal:false});this.props.onClose()});new_vis_modal_defineProperty(this,"onVisTypeSelected",visType=>{if(!("aliasPath"in visType)&&visType.requiresSearch&&visType.options.showIndexSelection){this.setState({showSearchVisModal:true,visType:visType})}else{this.redirectToVis(visType)}});new_vis_modal_defineProperty(this,"onSearchSelected",(searchId,searchType)=>{this.redirectToVis(this.state.visType,searchType,searchId)});this.isLabsEnabled=props.uiSettings.get(VISUALIZE_ENABLE_LABS_SETTING);this.state={showSearchVisModal:false};this.trackUiMetric=(_this$props$usageColl=this.props.usageCollection)===null||_this$props$usageColl===void 0?void 0:_this$props$usageColl.reportUiStats.bind(this.props.usageCollection,"visualize")}render(){if(!this.props.isOpen){return null}const visNewVisDialogAriaLabel=external_osdSharedDeps_OsdI18n_["i18n"].translate("visualizations.newVisWizard.helpTextAriaLabel",{defaultMessage:"Start creating your visualization by selecting a type for that visualization. Hit escape to close this modal. Hit Tab key to go further."});const selectionModal=this.state.showSearchVisModal&&this.state.visType?external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiModal"],{onClose:this.onCloseModal,className:"visNewVisSearchDialog"},external_osdSharedDeps_React_default.a.createElement(search_selection_SearchSelection,{onSearchSelected:this.onSearchSelected,visType:this.state.visType,uiSettings:this.props.uiSettings,savedObjects:this.props.savedObjects,application:this.props.application,data:this.props.data})):external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiModal"],{onClose:this.onCloseModal,className:"visNewVisDialog","aria-label":visNewVisDialogAriaLabel},external_osdSharedDeps_React_default.a.createElement(type_selection_TypeSelection,{showExperimental:this.isLabsEnabled,onVisTypeSelected:this.onVisTypeSelected,visTypesRegistry:this.props.visTypesRegistry,addBasePath:this.props.addBasePath}));return selectionModal}redirectToVis(visType,searchType,searchId){if(this.trackUiMetric){this.trackUiMetric(METRIC_TYPE.CLICK,visType.name)}let params;if("aliasPath"in visType){params=visType.aliasPath;this.props.onClose();this.navigate(visType.aliasApp,visType.aliasPath);return}params=[`type=${encodeURIComponent(visType.name)}`];if(searchType){params.push(`${searchType==="search"?"savedSearchId":"indexPattern"}=${searchId}`)}params=params.concat(this.props.editorParams);this.props.onClose();if(this.props.outsideVisualizeApp){this.navigate("visualize",`#${basePath}${params.join("&")}`)}else{location.assign(this.props.addBasePath(`${baseUrl}${params.join("&")}`))}}navigate(appId,params){if(this.props.stateTransfer&&this.props.originatingApp){this.props.stateTransfer.navigateToEditor(appId,{path:params,state:{originatingApp:this.props.originatingApp}})}else{this.props.application.navigateToApp(appId,{path:params})}}}new_vis_modal_defineProperty(new_vis_modal_NewVisModal,"defaultProps",{editorParams:[]});function showNewVisModal(){let{editorParams:editorParams=[],onClose:onClose,originatingApp:originatingApp,outsideVisualizeApp:outsideVisualizeApp}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const container=document.createElement("div");let isClosed=false;const handleClose=()=>{if(isClosed)return;external_osdSharedDeps_ReactDom_default.a.unmountComponentAtNode(container);document.body.removeChild(container);if(onClose){onClose()}isClosed=true};document.body.appendChild(container);const element=external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["I18nProvider"],null,external_osdSharedDeps_React_default.a.createElement(new_vis_modal_NewVisModal,{isOpen:true,onClose:handleClose,originatingApp:originatingApp,stateTransfer:getEmbeddable().getStateTransfer(),outsideVisualizeApp:outsideVisualizeApp,editorParams:editorParams,visTypesRegistry:getTypes(),addBasePath:getHttp().basePath.prepend,uiSettings:getUISettings(),savedObjects:getSavedObjects(),usageCollection:getUsageCollector(),application:getApplication(),data:getDataStart()}));external_osdSharedDeps_ReactDom_default.a.render(element,container);return()=>handleClose()}function convertHeatmapLabelColor(visState){const hasOverwriteColorParam=external_osdSharedDeps_Lodash_default.a.get(visState,"params.valueAxes[0].labels.overwriteColor")!==undefined;if(visState.type==="heatmap"&&visState.params&&!hasOverwriteColorParam){const showLabels=external_osdSharedDeps_Lodash_default.a.get(visState,"params.valueAxes[0].labels.show",false);const color=external_osdSharedDeps_Lodash_default.a.get(visState,"params.valueAxes[0].labels.color","#555");Object(opensearch_safer_lodash_set["set"])(visState,"params.valueAxes[0].labels.overwriteColor",showLabels&&color!=="#555")}}function convertTermAggregation(visState){if(visState.aggs){visState.aggs.forEach(agg=>{if(agg.type==="terms"&&agg.params&&agg.params.orderBy==="_term"){agg.params.orderBy="_key"}})}}function convertPropertyNames(visState){if(typeof external_osdSharedDeps_Lodash_default.a.get(visState,"params.showMeticsAtAllLevels")==="boolean"){visState.params.showMetricsAtAllLevels=visState.params.showMeticsAtAllLevels;delete visState.params.showMeticsAtAllLevels}}function convertDateHistogramScaleMetrics(visState){if(visState.aggs){visState.aggs.forEach(agg=>{if(agg.type==="date_histogram"&&agg.params&&agg.params.interval!=="auto"&&agg.params.scaleMetricValues===undefined){agg.params.scaleMetricValues=true}})}}function convertSeriesParams(visState){if(visState.params.seriesParams){return}const isUserDefinedYAxis=visState.params.setYExtents;const defaultYExtents=visState.params.defaultYExtents;const mode=["stacked","overlap"].includes(visState.params.mode)?"normal":visState.params.mode||"normal";if(!visState.params.valueAxes||!visState.params.valueAxes.length){visState.params.valueAxes=[{id:"ValueAxis-1",name:"LeftAxis-1",type:"value",position:"left",show:true,style:{},scale:{type:"linear",mode:"normal"},labels:{show:true,rotate:0,filter:false,truncate:100},title:{text:"Count"}}]}visState.params.valueAxes[0].scale={...visState.params.valueAxes[0].scale,type:visState.params.scale||"linear",setYExtents:visState.params.setYExtents||false,defaultYExtents:visState.params.defaultYExtents||false,boundsMargin:defaultYExtents?visState.params.boundsMargin:0,min:isUserDefinedYAxis?visState.params.yAxis.min:undefined,max:isUserDefinedYAxis?visState.params.yAxis.max:undefined,mode:mode};const interpolate=visState.params.smoothLines?"cardinal":visState.params.interpolate;const stacked=["stacked","percentage","wiggle","silhouette"].includes(visState.params.mode);visState.params.seriesParams=[{show:true,type:visState.params.type||"line",mode:stacked?"stacked":"normal",interpolate:interpolate,drawLinesBetweenPoints:visState.params.drawLinesBetweenPoints,showCircles:visState.params.showCircles,radiusRatio:visState.params.radiusRatio,data:{label:"Count",id:"1"},lineWidth:2,valueAxis:"ValueAxis-1"}]}const updateOldState=visState=>{if(!visState)return visState;const newState=external_osdSharedDeps_Lodash_default.a.cloneDeep(visState);convertTermAggregation(newState);convertPropertyNames(newState);convertDateHistogramScaleMetrics(newState);if(visState.params&&["line","area","histogram"].includes(visState.params.type)){convertSeriesParams(newState)}if(visState.type==="gauge"&&visState.fontSize){delete newState.fontSize;Object(opensearch_safer_lodash_set["set"])(newState,"gauge.style.fontSize",visState.fontSize)}if(["gauge","metric"].includes(visState.type)&&external_osdSharedDeps_Lodash_default.a.get(visState.params,"gauge.gaugeType",null)==="Metric"){newState.type="metric";newState.params.addLegend=false;newState.params.type="metric";newState.params.metric=newState.params.gauge;delete newState.params.gauge;delete newState.params.metric.gaugeType;delete newState.params.metric.gaugeStyle;delete newState.params.metric.backStyle;delete newState.params.metric.scale;delete newState.params.metric.type;delete newState.params.metric.orientation;delete newState.params.metric.verticalSplit;delete newState.params.metric.autoExtend;newState.params.metric.metricColorMode=newState.params.metric.gaugeColorMode;delete newState.params.metric.gaugeColorMode}else if(visState.type==="metric"&&external_osdSharedDeps_Lodash_default.a.get(visState.params,"gauge.gaugeType","Metric")!=="Metric"){newState.type="gauge";newState.params.type="gauge"}convertHeatmapLabelColor(newState);return newState};function extractReferences(_ref){let{attributes:attributes,references:references=[]}=_ref;const updatedAttributes={...attributes};const updatedReferences=[...references];if(updatedAttributes.searchSourceFields){const[searchSource,searchSourceReferences]=Object(data_public_["extractSearchSourceReferences"])(updatedAttributes.searchSourceFields);updatedAttributes.searchSourceFields=searchSource;searchSourceReferences.forEach(r=>updatedReferences.push(r))}if(updatedAttributes.savedSearchId){updatedReferences.push({name:"search_0",type:"search",id:String(updatedAttributes.savedSearchId)});delete updatedAttributes.savedSearchId;updatedAttributes.savedSearchRefName="search_0"}if(updatedAttributes.visState){const visState=JSON.parse(String(updatedAttributes.visState));const controls=visState.params&&visState.params.controls||[];controls.forEach((control,i)=>{if(!control.indexPattern){return}control.indexPatternRefName=`control_${i}_index_pattern`;updatedReferences.push({name:control.indexPatternRefName,type:"index-pattern",id:control.indexPattern});delete control.indexPattern});updatedAttributes.visState=JSON.stringify(visState)}return{references:updatedReferences,attributes:updatedAttributes}}function injectReferences(savedObject,references){if(savedObject.searchSourceFields){savedObject.searchSourceFields=Object(data_public_["injectSearchSourceReferences"])(savedObject.searchSourceFields,references)}if(savedObject.savedSearchRefName){const savedSearchReference=references.find(reference=>reference.name===savedObject.savedSearchRefName);if(!savedSearchReference){throw new Error(`Could not find saved search reference "${savedObject.savedSearchRefName}"`)}savedObject.savedSearchId=savedSearchReference.id;delete savedObject.savedSearchRefName}if(savedObject.visState){const controls=savedObject.visState.params&&savedObject.visState.params.controls||[];controls.forEach(control=>{if(!control.indexPatternRefName){return}const reference=references.find(ref=>ref.name===control.indexPatternRefName);if(!reference){throw new Error(`Could not find index pattern reference "${control.indexPatternRefName}"`)}control.indexPattern=reference.id;delete control.indexPatternRefName})}}var discover_public_=__webpack_require__(22);function _saved_vis_defineProperty(obj,key,value){key=_saved_vis_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _saved_vis_toPropertyKey(arg){var key=_saved_vis_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function _saved_vis_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}const convertToSerializedVis=savedVis=>{const{id:id,title:title,description:description,visState:visState,uiStateJSON:uiStateJSON,searchSourceFields:searchSourceFields}=savedVis;const aggs=searchSourceFields&&searchSourceFields.index?visState.aggs||[]:visState.aggs;return{id:id,title:title,type:visState.type,description:description,params:visState.params,uiState:JSON.parse(uiStateJSON||"{}"),data:{aggs:aggs,searchSource:searchSourceFields,savedSearchId:savedVis.savedSearchId}}};const convertFromSerializedVis=vis=>({id:vis.id,title:vis.title,description:vis.description,visState:{title:vis.title,type:vis.type,aggs:vis.data.aggs,params:vis.params},uiStateJSON:JSON.stringify(vis.uiState),searchSourceFields:vis.data.searchSource,savedSearchId:vis.data.savedSearchId});function createSavedVisClass(services){const SavedObjectClass=Object(savedObjects_public_["createSavedObjectClass"])(services);const savedSearch=Object(discover_public_["createSavedSearchesLoader"])(services);class SavedVis extends SavedObjectClass{constructor(){let opts=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(typeof opts!=="object"){opts={id:opts}}const visState=!opts.type?null:{type:opts.type};super({type:SavedVis.type,mapping:SavedVis.mapping,extractReferences:extractReferences,injectReferences:injectReferences,id:opts.id||"",indexPattern:opts.indexPattern,defaults:{title:"",visState:visState,uiStateJSON:"{}",description:"",savedSearchId:opts.savedSearchId,version:1},afterOpenSearchResp:async savedObject=>{var _savedVis$searchSourc;const savedVis=savedObject;savedVis.visState=await updateOldState(savedVis.visState);if((_savedVis$searchSourc=savedVis.searchSourceFields)!==null&&_savedVis$searchSourc!==void 0&&_savedVis$searchSourc.index){await services.indexPatterns.get(savedVis.searchSourceFields.index)}if(savedVis.savedSearchId){await savedSearch.get(savedVis.savedSearchId)}return savedVis}});this.showInRecentlyAccessed=true;this.getFullPath=()=>`/app/visualize#/edit/${this.id}`}}_saved_vis_defineProperty(SavedVis,"type","visualization");_saved_vis_defineProperty(SavedVis,"mapping",{title:"text",visState:"json",uiStateJSON:"text",description:"text",savedSearchId:"keyword",version:"integer"});_saved_vis_defineProperty(SavedVis,"fieldOrder",["title","description"]);return SavedVis}const createVisEmbeddableFromObject=deps=>async(vis,input,savedVisualizationsLoader,attributeService,parent)=>{const savedVisualizations=getSavedVisualizationsLoader();try{const visId=vis.id;const editPath=visId?savedVisualizations.urlFor(visId):"#/edit_by_value";const editUrl=visId?getHttp().basePath.prepend(`/app/visualize${savedVisualizations.urlFor(visId)}`):"";const isLabsEnabled=getUISettings().get(VISUALIZE_ENABLE_LABS_SETTING);if(!isLabsEnabled&&vis.type.stage==="experimental"){return new disabled_lab_embeddable_DisabledLabEmbeddable(vis.title,input)}let indexPatterns=[];if(vis.type.getUsedIndexPattern){indexPatterns=await vis.type.getUsedIndexPattern(vis.params)}else if(vis.data.indexPattern){indexPatterns=[vis.data.indexPattern]}const editable=getCapabilities().visualize.save;const savedAugmentVisLoader=getSavedAugmentVisLoader();return new visualize_embeddable_VisualizeEmbeddable(getTimeFilter(),{vis:vis,indexPatterns:indexPatterns,editPath:editPath,editUrl:editUrl,editable:editable,deps:deps},input,attributeService,savedVisualizationsLoader,savedAugmentVisLoader,parent)}catch(e){console.error(e);return new public_["ErrorEmbeddable"](e,input,parent)}};function visualize_embeddable_factory_defineProperty(obj,key,value){key=visualize_embeddable_factory_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function visualize_embeddable_factory_toPropertyKey(arg){var key=visualize_embeddable_factory_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function visualize_embeddable_factory_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}class visualize_embeddable_factory_VisualizeEmbeddableFactory{constructor(deps){this.deps=deps;visualize_embeddable_factory_defineProperty(this,"type",VISUALIZE_EMBEDDABLE_TYPE);visualize_embeddable_factory_defineProperty(this,"attributeService",void 0);visualize_embeddable_factory_defineProperty(this,"savedObjectMetaData",{name:external_osdSharedDeps_OsdI18n_["i18n"].translate("visualizations.savedObjectName",{defaultMessage:"Visualization"}),includeFields:["visState"],type:"visualization",getIconForSavedObject:savedObject=>getTypes().get(JSON.parse(savedObject.attributes.visState).type).icon||"visualizeApp",getTooltipForSavedObject:savedObject=>`${savedObject.attributes.title} (${getTypes().get(JSON.parse(savedObject.attributes.visState).type).title})`,showSavedObject:savedObject=>{const typeName=JSON.parse(savedObject.attributes.visState).type;const visType=getTypes().get(typeName);if(!visType){return false}if(getUISettings().get(VISUALIZE_ENABLE_LABS_SETTING)){return true}return visType.stage!=="experimental"}})}async isEditable(){return getCapabilities().visualize.save}getDisplayName(){return external_osdSharedDeps_OsdI18n_["i18n"].translate("visualizations.displayName",{defaultMessage:"visualization"})}async getCurrentAppId(){return await this.deps.start().core.application.currentAppId$.pipe(Object(external_osdSharedDeps_RxjsOperators_["first"])()).toPromise()}async getAttributeService(){if(!this.attributeService){this.attributeService=await this.deps.start().plugins.dashboard.getAttributeService(this.type,{saveMethod:this.saveMethod.bind(this),checkForDuplicateTitle:this.checkTitle.bind(this)})}return this.attributeService}async createFromSavedObject(savedObjectId,input,parent){const savedVisualizations=getSavedVisualizationsLoader();try{const savedObject=await savedVisualizations.get(savedObjectId);const visState=convertToSerializedVis(savedObject);const vis=new vis_Vis(savedObject.visState.type,visState);await vis.setState(visState);return createVisEmbeddableFromObject(this.deps)(vis,input,savedVisualizations,await this.getAttributeService(),parent)}catch(e){console.error(e);return new public_["ErrorEmbeddable"](e,input,parent)}}async create(input,parent){if(input.savedVis){const visState=input.savedVis;const vis=new vis_Vis(visState.type,visState);await vis.setState(visState);const savedVisualizations=getSavedVisualizationsLoader();return createVisEmbeddableFromObject(this.deps)(vis,input,savedVisualizations,await this.getAttributeService(),parent)}else{showNewVisModal({originatingApp:await this.getCurrentAppId(),outsideVisualizeApp:true});return undefined}}async saveMethod(attributes){try{var _visObj$data$searchSo;const{title:title,savedVis:savedVis}=attributes;const visObj=attributes.vis;if(!savedVis){throw new Error("No Saved Vis")}const saveOptions={confirmOverwrite:false,returnToOrigin:true};savedVis.title=title;savedVis.copyOnSave=false;savedVis.description="";savedVis.searchSourceFields=visObj===null||visObj===void 0||(_visObj$data$searchSo=visObj.data.searchSource)===null||_visObj$data$searchSo===void 0?void 0:_visObj$data$searchSo.getSerializedFields();const serializedVis=visObj.serialize();const{params:params,data:data}=serializedVis;savedVis.visState={title:title,type:serializedVis.type,params:params,aggs:data.aggs};if(visObj){savedVis.uiStateJSON=visObj===null||visObj===void 0?void 0:visObj.uiState.toString()}const id=await savedVis.save(saveOptions);if(!id||id===""){throw new Error(external_osdSharedDeps_OsdI18n_["i18n"].translate("visualizations.savingVisualizationFailed.errorMsg",{defaultMessage:"Saving a visualization failed"}))}return{id:id}}catch(error){throw error}}async checkTitle(props){const savedObjectsClient=await this.deps.start().core.savedObjects.client;const overlays=await this.deps.start().core.overlays;return Object(savedObjects_public_["checkForDuplicateTitle"])({title:props.newTitle,copyOnSave:false,lastSavedTitle:"",getOpenSearchType:()=>this.type,getDisplayName:this.getDisplayName||(()=>this.type)},props.isTitleDuplicateConfirmed,props.onTitleDuplicate,{savedObjectsClient:savedObjectsClient,overlays:overlays})}}const visualization=()=>({name:"visualization",type:"render",help:external_osdSharedDeps_OsdI18n_["i18n"].translate("visualizations.functions.visualization.help",{defaultMessage:"A simple visualization"}),args:{index:{types:["string","null"],default:null,help:"Index"},metricsAtAllLevels:{types:["boolean"],default:false,help:"Metrics levels"},partialRows:{types:["boolean"],default:false,help:"Partial rows"},type:{types:["string"],default:"",help:"Type"},schemas:{types:["string"],default:'"{}"',help:"Schemas"},visConfig:{types:["string"],default:'"{}"',help:"Visualization configuration"},uiState:{types:["string"],default:'"{}"',help:"User interface state"},aggConfigs:{types:["string"],default:'"{}"',help:"Aggregation configurations"}},async fn(input,args,_ref){let{inspectorAdapters:inspectorAdapters}=_ref;const visConfigParams=args.visConfig?JSON.parse(args.visConfig):{};const schemas=args.schemas?JSON.parse(args.schemas):{};const visType=getTypes().get(args.type||"histogram");const indexPattern=args.index?await getIndexPatterns().get(args.index):null;const uiStateParams=args.uiState?JSON.parse(args.uiState):{};const uiState=new persisted_state_PersistedState(uiStateParams);const aggConfigsState=args.aggConfigs?JSON.parse(args.aggConfigs):[];const aggs=indexPattern?getSearch().aggs.createAggConfigs(indexPattern,aggConfigsState):undefined;if(typeof visType.requestHandler==="function"){input=await visType.requestHandler({partialRows:args.partialRows,metricsAtAllLevels:args.metricsAtAllLevels,index:indexPattern,visParams:visConfigParams,timeRange:Object(external_osdSharedDeps_Lodash_["get"])(input,"timeRange",null),query:Object(external_osdSharedDeps_Lodash_["get"])(input,"query",null),filters:Object(external_osdSharedDeps_Lodash_["get"])(input,"filters",null),uiState:uiState,inspectorAdapters:inspectorAdapters,queryFilter:getFilterManager(),aggs:aggs})}if(typeof visType.responseHandler==="function"){if(input.columns){input.columns.forEach(column=>{if(column.aggConfig){column.aggConfig.aggConfigs.schemas=visType.schemas.all}});Object.keys(schemas).forEach(key=>{schemas[key].forEach(i=>{if(input.columns[i]&&input.columns[i].aggConfig){input.columns[i].aggConfig.schema=key}})})}input=await visType.responseHandler(input,visConfigParams.dimensions)}return{type:"render",as:"visualization",value:{visData:input,visType:args.type||"",visConfig:visConfigParams}}}});function expressions_vis_defineProperty(obj,key,value){key=expressions_vis_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function expressions_vis_toPropertyKey(arg){var key=expressions_vis_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function expressions_vis_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}class vis_ExprVis extends events["EventEmitter"]{constructor(){let visState=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{type:"histogram"};super();expressions_vis_defineProperty(this,"title","");expressions_vis_defineProperty(this,"type",void 0);expressions_vis_defineProperty(this,"params",{});expressions_vis_defineProperty(this,"sessionState",{});expressions_vis_defineProperty(this,"API",void 0);expressions_vis_defineProperty(this,"eventsSubject",void 0);expressions_vis_defineProperty(this,"uiState",void 0);this.type=this.getType(visState.type);this.uiState=new persisted_state_PersistedState;this.setState(visState);this.API={events:{filter:data=>{if(!this.eventsSubject)return;this.eventsSubject.next({name:"filterBucket",data:data.data?{data:data.data,negate:data.negate}:{data:[data]}})},brush:data=>{if(!this.eventsSubject)return;this.eventsSubject.next({name:"brush",data:data})},applyFilter:data=>{if(!this.eventsSubject)return;this.eventsSubject.next({name:"applyFilter",data:data})},externalAction:data=>{if(!this.eventsSubject)return;this.eventsSubject.next({name:"externalAction",data:data})}}}}getType(type){if(external_osdSharedDeps_Lodash_default.a.isString(type)){const newType=getTypes().get(type);if(!newType){throw new Error(`Invalid type "${type}"`)}return newType}else{return type}}setState(state){this.title=state.title||"";if(state.type){this.type=this.getType(state.type)}this.params=external_osdSharedDeps_Lodash_default.a.defaultsDeep({},external_osdSharedDeps_Lodash_default.a.cloneDeep(state.params||{}),external_osdSharedDeps_Lodash_default.a.cloneDeep(this.type.visConfig.defaults||{}))}getState(){return{title:this.title,type:this.type.name,params:external_osdSharedDeps_Lodash_default.a.cloneDeep(this.params)}}updateState(){this.emit("update")}forceReload(){this.emit("reload")}isHierarchical(){if(external_osdSharedDeps_Lodash_default.a.isFunction(this.type.hierarchicalData)){return!!this.type.hierarchicalData(this)}else{return!!this.type.hierarchicalData}}hasUiState(){return!!this.uiState}getUiState(){return this.uiState}setUiState(state){this.uiState=state}uiStateVal(key,val){if(this.hasUiState()){if(external_osdSharedDeps_Lodash_default.a.isUndefined(val)){return this.uiState.get(key)}return this.uiState.set(key,val)}return val}}var opensearchDashboardsUtils_public_=__webpack_require__(23);function visualization_chart_defineProperty(obj,key,value){key=visualization_chart_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function visualization_chart_toPropertyKey(arg){var key=visualization_chart_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function visualization_chart_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}class visualization_chart_VisualizationChart extends external_osdSharedDeps_React_default.a.Component{constructor(props){super(props);visualization_chart_defineProperty(this,"resizeChecker",void 0);visualization_chart_defineProperty(this,"visualization",void 0);visualization_chart_defineProperty(this,"chartDiv",external_osdSharedDeps_React_default.a.createRef());visualization_chart_defineProperty(this,"containerDiv",external_osdSharedDeps_React_default.a.createRef());visualization_chart_defineProperty(this,"renderSubject",void 0);visualization_chart_defineProperty(this,"renderSubscription",void 0);visualization_chart_defineProperty(this,"onUiStateChanged",()=>{this.startRenderVisualization()});this.renderSubject=new external_osdSharedDeps_Rxjs_["Subject"];const render$=this.renderSubject.asObservable().pipe(Object(external_osdSharedDeps_RxjsOperators_["share"])());const success$=render$.pipe(Object(external_osdSharedDeps_RxjsOperators_["filter"])(_ref=>{let{vis:vis,visData:visData}=_ref;return vis&&(!vis.type.requiresSearch||visData)}),Object(external_osdSharedDeps_RxjsOperators_["debounceTime"])(100),Object(external_osdSharedDeps_RxjsOperators_["switchMap"])(async _ref2=>{let{vis:vis,visData:visData,visParams:visParams}=_ref2;if(!this.visualization){throw new Error("Visualization implementation was not initialized on first render.")}return this.visualization.render(visData,visParams)}));this.renderSubscription=success$.subscribe(()=>{if(this.props.onInit){this.props.onInit()}})}render(){return external_osdSharedDeps_React_default.a.createElement("div",{className:"visChart__container osd-resetFocusState",tabIndex:0,ref:this.containerDiv},external_osdSharedDeps_React_default.a.createElement("div",{className:"visChart",ref:this.chartDiv}))}componentDidMount(){if(!this.chartDiv.current||!this.containerDiv.current){throw new Error("chartDiv and currentDiv reference should always be present.")}const{vis:vis}=this.props;const Visualization=vis.type.visualization;if(!Visualization){throw new Error("Tried to use VisualizationChart component with a vis without visualization property.")}this.visualization=new Visualization(this.chartDiv.current,vis);this.resizeChecker=new opensearchDashboardsUtils_public_["ResizeChecker"](this.containerDiv.current);this.resizeChecker.on("resize",()=>this.startRenderVisualization());if(this.props.listenOnChange){this.props.uiState.on("change",this.onUiStateChanged)}this.startRenderVisualization()}componentDidUpdate(){this.startRenderVisualization()}componentWillUnmount(){if(this.renderSubscription){this.renderSubscription.unsubscribe()}if(this.resizeChecker){this.resizeChecker.destroy()}if(this.visualization){this.visualization.destroy()}}startRenderVisualization(){if(this.containerDiv.current&&this.chartDiv.current){this.renderSubject.next({vis:this.props.vis,visData:this.props.visData,visParams:this.props.visParams})}}}function visualization_noresults_defineProperty(obj,key,value){key=visualization_noresults_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function visualization_noresults_toPropertyKey(arg){var key=visualization_noresults_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function visualization_noresults_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}class visualization_noresults_VisualizationNoResults extends external_osdSharedDeps_React_default.a.Component{constructor(){super(...arguments);visualization_noresults_defineProperty(this,"containerDiv",external_osdSharedDeps_React_default.a.createRef())}render(){return external_osdSharedDeps_React_default.a.createElement("div",{className:"visError",ref:this.containerDiv},external_osdSharedDeps_React_default.a.createElement("div",{className:"item top"}),external_osdSharedDeps_React_default.a.createElement("div",{className:"item"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"xs",color:"subdued"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiIcon"],{type:"visualizeApp",size:"m",color:"subdued"}),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_osdSharedDeps_React_default.a.createElement("p",null,external_osdSharedDeps_OsdI18n_["i18n"].translate("visualizations.noResultsFoundTitle",{defaultMessage:"No results found"})))),external_osdSharedDeps_React_default.a.createElement("div",{className:"item bottom"}))}componentDidMount(){this.afterRender()}componentDidUpdate(){this.afterRender()}afterRender(){if(this.props.onInit){this.props.onInit()}}}function visualization_defineProperty(obj,key,value){key=visualization_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function visualization_toPropertyKey(arg){var key=visualization_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function visualization_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}function shouldShowNoResultsMessage(vis,visData){const requiresSearch=Object(external_osdSharedDeps_Lodash_["get"])(vis,"type.requiresSearch");const rows=Object(external_osdSharedDeps_Lodash_["get"])(visData,"rows");const isZeroHits=Object(external_osdSharedDeps_Lodash_["get"])(visData,"hits")===0||rows&&!rows.length;const shouldShowMessage=!Object(external_osdSharedDeps_Lodash_["get"])(vis,"type.useCustomNoDataScreen");return Boolean(requiresSearch&&isZeroHits&&shouldShowMessage)}class visualization_Visualization extends external_osdSharedDeps_React_default.a.Component{constructor(props){super(props);visualization_defineProperty(this,"showNoResultsMessage",memoizeLast(shouldShowNoResultsMessage));props.vis.setUiState(props.uiState)}render(){const{vis:vis,visData:visData,visParams:visParams,onInit:onInit,uiState:uiState,listenOnChange:listenOnChange}=this.props;const noResults=this.showNoResultsMessage(vis,visData);return external_osdSharedDeps_React_default.a.createElement("div",{className:"visualization"},noResults?external_osdSharedDeps_React_default.a.createElement(visualization_noresults_VisualizationNoResults,{onInit:onInit}):external_osdSharedDeps_React_default.a.createElement(visualization_chart_VisualizationChart,{vis:vis,visData:visData,visParams:visParams,onInit:onInit,uiState:uiState,listenOnChange:listenOnChange}))}shouldComponentUpdate(nextProps){if(nextProps.uiState!==this.props.uiState){throw new Error("Changing uiState on <Visualization/> is not supported!")}return true}}var classnames=__webpack_require__(37);var classnames_default=__webpack_require__.n(classnames);const VisualizationContainer=_ref=>{let{className:className,children:children,showNoResult:showNoResult=false}=_ref;const classes=classnames_default()("visualization",className);const fallBack=external_osdSharedDeps_React_default.a.createElement("div",{className:"visChart__spinner"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiLoadingChart"],{mono:true,size:"l"}));return external_osdSharedDeps_React_default.a.createElement("div",{className:classes},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_["Suspense"],{fallback:fallBack},showNoResult?external_osdSharedDeps_React_default.a.createElement(visualization_noresults_VisualizationNoResults,null):children))};const visualization_renderer_visualization=()=>({name:"visualization",displayName:"visualization",reuseDomNode:true,render:async(domNode,config,handlers)=>{const{visData:visData,visConfig:visConfig,params:params}=config;const visType=config.visType||visConfig.type;const vis=new vis_ExprVis({title:config.title,type:visType,params:visConfig});vis.eventsSubject={next:handlers.event};const uiState=handlers.uiState||vis.getUiState();handlers.onDestroy(()=>{Object(external_osdSharedDeps_ReactDom_["unmountComponentAtNode"])(domNode)});const listenOnChange=params?params.listenOnChange:false;Object(external_osdSharedDeps_ReactDom_["render"])(external_osdSharedDeps_React_default.a.createElement(visualization_Visualization,{vis:vis,visData:visData,visParams:vis.params,uiState:uiState,listenOnChange:listenOnChange,onInit:handlers.done}),domNode)}});const range=()=>({name:"range",help:external_osdSharedDeps_OsdI18n_["i18n"].translate("visualizations.function.range.help",{defaultMessage:"Generates range object"}),type:"range",args:{from:{types:["number"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("visualizations.function.range.from.help",{defaultMessage:"Start of range"}),required:true},to:{types:["number"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("visualizations.function.range.to.help",{defaultMessage:"End of range"}),required:true}},fn:(context,args)=>({type:"range",from:args.from,to:args.to})});const visDimension=()=>({name:"visdimension",help:external_osdSharedDeps_OsdI18n_["i18n"].translate("visualizations.function.visDimension.help",{defaultMessage:"Generates visConfig dimension object"}),type:"vis_dimension",inputTypes:["opensearch_dashboards_datatable"],args:{accessor:{types:["string","number"],aliases:["_"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("visualizations.function.visDimension.accessor.help",{defaultMessage:"Column in your dataset to use (either column index or column name)"})},format:{types:["string"],default:"string",help:external_osdSharedDeps_OsdI18n_["i18n"].translate("visualizations.function.visDimension.format.help",{defaultMessage:"Format"})},formatParams:{types:["string"],default:'"{}"',help:external_osdSharedDeps_OsdI18n_["i18n"].translate("visualizations.function.visDimension.formatParams.help",{defaultMessage:"Format params"})}},fn:(input,args)=>{const accessor=typeof args.accessor==="number"?args.accessor:input.columns.find(c=>c.id===args.accessor);if(accessor===undefined){throw new Error(external_osdSharedDeps_OsdI18n_["i18n"].translate("visualizations.function.visDimension.error.accessor",{defaultMessage:"Column name provided is invalid"}))}return{type:"vis_dimension",accessor:accessor,format:{id:args.format,params:JSON.parse(args.formatParams)}}}});async function findListItems(_ref){let{visTypes:visTypes,search:search,size:size,savedObjectsClient:savedObjectsClient,mapSavedObjectApiHits:mapSavedObjectApiHits}=_ref;const extensions=visTypes.map(v=>{var _v$appExtensions;return(_v$appExtensions=v.appExtensions)===null||_v$appExtensions===void 0?void 0:_v$appExtensions.visualizations}).filter(Boolean);const extensionByType=extensions.reduce((acc,m)=>m.docTypes.reduce((_acc,type)=>{acc[type]=m;return acc},acc),{});const searchOption=function(field){for(var _len=arguments.length,defaults=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){defaults[_key-1]=arguments[_key]}return external_osdSharedDeps_Lodash_default()(extensions).map(field).concat(defaults).compact().flatten().uniq().value()};const searchOptions={type:searchOption("docTypes","visualization"),searchFields:searchOption("searchFields","title^3","description"),search:search?`${search}*`:undefined,perPage:size,page:1,defaultSearchOperator:"AND"};const{total:total,savedObjects:savedObjects}=await savedObjectsClient.find(searchOptions);return{total:total,hits:savedObjects.map(savedObject=>{const config=extensionByType[savedObject.type];if(config){return config.toListItem(savedObject)}else{return mapSavedObjectApiHits(savedObject)}})}}function saved_visualizations_defineProperty(obj,key,value){key=saved_visualizations_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function saved_visualizations_toPropertyKey(arg){var key=saved_visualizations_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function saved_visualizations_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}function createSavedVisLoader(services){const{savedObjectsClient:savedObjectsClient,visualizationTypes:visualizationTypes}=services;class SavedObjectLoaderVisualize extends savedObjects_public_["SavedObjectLoader"]{constructor(){super(...arguments);saved_visualizations_defineProperty(this,"mapHitSource",(source,id)=>{const visTypes=visualizationTypes;source.id=id;source.url=this.urlFor(id);let typeName=source.typeName;if(source.visState){try{typeName=JSON.parse(String(source.visState)).type}catch(e){}}if(!typeName||!visTypes.get(typeName)){source.error="Unknown visualization type";return source}source.type=visTypes.get(typeName);source.savedObjectType="visualization";source.icon=source.type.icon;source.image=source.type.image;source.typeTitle=source.type.title;source.editUrl=`/edit/${id}`;return source})}urlFor(id){return`#/edit/${encodeURIComponent(id)}`}findListItems(){let search=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";let size=arguments.length>1&&arguments[1]!==undefined?arguments[1]:100;return findListItems({search:search,size:size,mapSavedObjectApiHits:this.mapSavedObjectApiHits.bind(this),savedObjectsClient:savedObjectsClient,visTypes:visualizationTypes.getAliases()})}}const SavedVis=createSavedVisClass(services);return new SavedObjectLoaderVisualize(SavedVis,savedObjectsClient)}function plugin_defineProperty(obj,key,value){key=plugin_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function plugin_toPropertyKey(arg){var key=plugin_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function plugin_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}class plugin_VisualizationsPlugin{constructor(initializerContext){plugin_defineProperty(this,"types",new types_service_TypesService);plugin_defineProperty(this,"getStartServicesOrDie",void 0)}setup(core,_ref){let{expressions:expressions,embeddable:embeddable,usageCollection:usageCollection,data:data}=_ref;const start=this.getStartServicesOrDie=Object(opensearchDashboardsUtils_public_["createStartServicesGetter"])(core.getStartServices);setUISettings(core.uiSettings);setUsageCollector(usageCollection);expressions.registerFunction(visualization);expressions.registerRenderer(visualization_renderer_visualization);expressions.registerFunction(range);expressions.registerFunction(visDimension);const embeddableFactory=new visualize_embeddable_factory_VisualizeEmbeddableFactory({start:start});embeddable.registerEmbeddableFactory(VISUALIZE_EMBEDDABLE_TYPE,embeddableFactory);return{...this.types.setup()}}start(core,_ref2){let{data:data,expressions:expressions,uiActions:uiActions,embeddable:embeddable,dashboard:dashboard}=_ref2;const types=this.types.start();const savedAugmentVisLoader=Object(visAugmenter_public_["createSavedAugmentVisLoader"])({savedObjectsClient:core.savedObjects.client,indexPatterns:data.indexPatterns,search:data.search,chrome:core.chrome,overlays:core.overlays});setDataStart(data);setSavedAugmentVisLoader(savedAugmentVisLoader);setI18n(core.i18n);setTypes(types);setEmbeddable(embeddable);setApplication(core.application);setCapabilities(core.application.capabilities);setHttp(core.http);setSavedObjects(core.savedObjects);setIndexPatterns(data.indexPatterns);setSearch(data.search);setFilterManager(data.query.filterManager);setExpressions(expressions);setUiActions(uiActions);setTimeFilter(data.query.timefilter.timefilter);setAggs(data.search.aggs);setOverlays(core.overlays);setChrome(core.chrome);const savedVisualizationsLoader=createSavedVisLoader({savedObjectsClient:core.savedObjects.client,indexPatterns:data.indexPatterns,search:data.search,chrome:core.chrome,overlays:core.overlays,visualizationTypes:types});setSavedVisualizationsLoader(savedVisualizationsLoader);const savedSearchLoader=Object(discover_public_["createSavedSearchesLoader"])({savedObjectsClient:core.savedObjects.client,indexPatterns:data.indexPatterns,search:data.search,chrome:core.chrome,overlays:core.overlays});setSavedSearchLoader(savedSearchLoader);setNotifications(core.notifications);setDocLinks(core.docLinks);return{...types,showNewVisModal:showNewVisModal,createVis:async(visType,visState)=>{const vis=new vis_Vis(visType);await vis.setState(visState);return vis},convertToSerializedVis:convertToSerializedVis,convertFromSerializedVis:convertFromSerializedVis,savedVisualizationsLoader:savedVisualizationsLoader,__LEGACY:{createVisEmbeddableFromObject:createVisEmbeddableFromObject({start:this.getStartServicesOrDie})}}}stop(){this.types.stop()}}function public_plugin(initializerContext){return new plugin_VisualizationsPlugin(initializerContext)}}]);