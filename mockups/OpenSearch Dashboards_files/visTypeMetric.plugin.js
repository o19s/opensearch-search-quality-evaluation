(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=15)})([function(module,exports){module.exports=__osdSharedDeps__.React},function(module,exports){module.exports=__osdSharedDeps__.OsdI18n},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__osdBundles__.get("plugin/charts/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__osdSharedDeps__.ElasticEui},function(module,exports,__webpack_require__){"use strict";module.exports=function(cssWithMappingToString){var list=[];list.toString=function toString(){return this.map((function(item){var content=cssWithMappingToString(item);if(item[2]){return"@media ".concat(item[2]," {").concat(content,"}")}return content})).join("")};list.i=function(modules,mediaQuery,dedupe){if(typeof modules==="string"){modules=[[null,modules,""]]}var alreadyImportedModules={};if(dedupe){for(var i=0;i<this.length;i++){var id=this[i][0];if(id!=null){alreadyImportedModules[id]=true}}}for(var _i=0;_i<modules.length;_i++){var item=[].concat(modules[_i]);if(dedupe&&alreadyImportedModules[item[0]]){continue}if(mediaQuery){if(!item[2]){item[2]=mediaQuery}else{item[2]="".concat(mediaQuery," and ").concat(item[2])}}list.push(item)}};return list}},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__osdBundles__.get("plugin/expressions/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__osdSharedDeps__.Lodash},function(module,exports,__webpack_require__){"use strict";var isOldIE=function isOldIE(){var memo;return function memorize(){if(typeof memo==="undefined"){memo=Boolean(window&&document&&document.all&&!window.atob)}return memo}}();var getTarget=function getTarget(){var memo={};return function memorize(target){if(typeof memo[target]==="undefined"){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement){try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}}memo[target]=styleTarget}return memo[target]}}();var stylesInDom=[];function getIndexByIdentifier(identifier){var result=-1;for(var i=0;i<stylesInDom.length;i++){if(stylesInDom[i].identifier===identifier){result=i;break}}return result}function modulesToDom(list,options){var idCountMap={};var identifiers=[];for(var i=0;i<list.length;i++){var item=list[i];var id=options.base?item[0]+options.base:item[0];var count=idCountMap[id]||0;var identifier="".concat(id," ").concat(count);idCountMap[id]=count+1;var index=getIndexByIdentifier(identifier);var obj={css:item[1],media:item[2],sourceMap:item[3]};if(index!==-1){stylesInDom[index].references++;stylesInDom[index].updater(obj)}else{stylesInDom.push({identifier:identifier,updater:addStyle(obj,options),references:1})}identifiers.push(identifier)}return identifiers}function insertStyleElement(options){var style=document.createElement("style");var attributes=options.attributes||{};if(typeof attributes.nonce==="undefined"){var nonce=true?__webpack_require__.nc:undefined;if(nonce){attributes.nonce=nonce}}Object.keys(attributes).forEach((function(key){style.setAttribute(key,attributes[key])}));if(typeof options.insert==="function"){options.insert(style)}else{var target=getTarget(options.insert||"head");if(!target){throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.")}target.appendChild(style)}return style}function removeStyleElement(style){if(style.parentNode===null){return false}style.parentNode.removeChild(style)}var replaceText=function replaceText(){var textStore=[];return function replace(index,replacement){textStore[index]=replacement;return textStore.filter(Boolean).join("\n")}}();function applyToSingletonTag(style,index,remove,obj){var css=remove?"":obj.media?"@media ".concat(obj.media," {").concat(obj.css,"}"):obj.css;if(style.styleSheet){style.styleSheet.cssText=replaceText(index,css)}else{var cssNode=document.createTextNode(css);var childNodes=style.childNodes;if(childNodes[index]){style.removeChild(childNodes[index])}if(childNodes.length){style.insertBefore(cssNode,childNodes[index])}else{style.appendChild(cssNode)}}}function applyToTag(style,options,obj){var css=obj.css;var media=obj.media;var sourceMap=obj.sourceMap;if(media){style.setAttribute("media",media)}else{style.removeAttribute("media")}if(sourceMap&&typeof btoa!=="undefined"){css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")}if(style.styleSheet){style.styleSheet.cssText=css}else{while(style.firstChild){style.removeChild(style.firstChild)}style.appendChild(document.createTextNode(css))}}var singleton=null;var singletonCounter=0;function addStyle(obj,options){var style;var update;var remove;if(options.singleton){var styleIndex=singletonCounter++;style=singleton||(singleton=insertStyleElement(options));update=applyToSingletonTag.bind(null,style,styleIndex,false);remove=applyToSingletonTag.bind(null,style,styleIndex,true)}else{style=insertStyleElement(options);update=applyToTag.bind(null,style,options);remove=function remove(){removeStyleElement(style)}}update(obj);return function updateStyle(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap){return}update(obj=newObj)}else{remove()}}}module.exports=function(list,options){options=options||{};if(!options.singleton&&typeof options.singleton!=="boolean"){options.singleton=isOldIE()}list=list||[];var lastIdentifiers=modulesToDom(list,options);return function update(newList){newList=newList||[];if(Object.prototype.toString.call(newList)!=="[object Array]"){return}for(var i=0;i<lastIdentifiers.length;i++){var identifier=lastIdentifiers[i];var index=getIndexByIdentifier(identifier);stylesInDom[index].references--}var newLastIdentifiers=modulesToDom(newList,options);for(var _i=0;_i<lastIdentifiers.length;_i++){var _identifier=lastIdentifiers[_i];var _index=getIndexByIdentifier(_identifier);if(stylesInDom[_index].references===0){stylesInDom[_index].updater();stylesInDom.splice(_index,1)}}lastIdentifiers=newLastIdentifiers}}},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__osdBundles__.get("plugin/visualizations/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__osdSharedDeps__.OsdI18nReact},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__osdBundles__.get("plugin/data/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__osdSharedDeps__.ReactDom},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__osdBundles__.get("plugin/visDefaultEditor/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__osdBundles__.get("plugin/opensearchDashboardsUtils/common");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){"use strict";var hasOwn={}.hasOwnProperty;function classNames(){var classes=[];for(var i=0;i<arguments.length;i++){var arg=arguments[i];if(!arg)continue;var argType=typeof arg;if(argType==="string"||argType==="number"){classes.push(arg)}else if(Array.isArray(arg)){if(arg.length){var inner=classNames.apply(null,arg);if(inner){classes.push(inner)}}}else if(argType==="object"){if(arg.toString===Object.prototype.toString){for(var key in arg){if(hasOwn.call(arg,key)&&arg[key]){classes.push(key)}}}else{classes.push(arg.toString())}}}return classes.join(" ")}if(true&&module.exports){classNames.default=classNames;module.exports=classNames}else if(true){!(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}else{}})()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_val_loader_dist_cjs_js_key_visTypeMetric_osd_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(16);var _node_modules_val_loader_dist_cjs_js_key_visTypeMetric_osd_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_val_loader_dist_cjs_js_key_visTypeMetric_osd_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__);__osdBundles__.define("plugin/visTypeMetric/public",__webpack_require__,30)},function(module,exports,__webpack_require__){__webpack_require__.p=window.__osdPublicPath__["visTypeMetric"]},function(module,exports,__webpack_require__){switch(window.__osdThemeTag__){case"v7dark":return __webpack_require__(18);case"v7light":return __webpack_require__(20);case"v8dark":return __webpack_require__(22);case"v8light":return __webpack_require__(24);case"v9dark":return __webpack_require__(26);case"v9light":return __webpack_require__(28)}},function(module,exports,__webpack_require__){var api=__webpack_require__(7);var content=__webpack_require__(19);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.mtrVis{width:100%;display:flex;flex-flow:row wrap;justify-content:center;align-items:center}.mtrVis__value{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;font-weight:700}.mtrVis__container{line-height:normal;max-width:100%;padding:16px;text-align:center}.mtrVis__container--light{color:#1d1e24}.mtrVis__container-isFilterable{cursor:pointer;transition:transform 250ms cubic-bezier(0.694, 0.0482, 0.335, 1);transform:translate(0, 0)}.mtrVis__container-isFilterable:hover,.mtrVis__container-isFilterable:focus{box-shadow:none;transform:translate(0, -2px)}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(7);var content=__webpack_require__(21);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.mtrVis{width:100%;display:flex;flex-flow:row wrap;justify-content:center;align-items:center}.mtrVis__value{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;font-weight:700}.mtrVis__container{line-height:normal;max-width:100%;padding:16px;text-align:center}.mtrVis__container--light{color:#fff}.mtrVis__container-isFilterable{cursor:pointer;transition:transform 250ms cubic-bezier(0.694, 0.0482, 0.335, 1);transform:translate(0, 0)}.mtrVis__container-isFilterable:hover,.mtrVis__container-isFilterable:focus{box-shadow:none;transform:translate(0, -2px)}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(7);var content=__webpack_require__(23);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.mtrVis{width:100%;display:flex;flex-flow:row wrap;justify-content:center;align-items:center}.mtrVis__value{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;font-weight:700}.mtrVis__container{line-height:normal;max-width:100%;padding:16px;text-align:center}.mtrVis__container--light{color:#0a121a}.mtrVis__container-isFilterable{cursor:pointer;transition:transform 250ms cubic-bezier(0.694, 0.0482, 0.335, 1);transform:translate(0, 0)}.mtrVis__container-isFilterable:hover,.mtrVis__container-isFilterable:focus{box-shadow:none;transform:translate(0, -2px)}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(7);var content=__webpack_require__(25);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.mtrVis{width:100%;display:flex;flex-flow:row wrap;justify-content:center;align-items:center}.mtrVis__value{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;font-weight:700}.mtrVis__container{line-height:normal;max-width:100%;padding:16px;text-align:center}.mtrVis__container--light{color:#fcfeff}.mtrVis__container-isFilterable{cursor:pointer;transition:transform 250ms cubic-bezier(0.694, 0.0482, 0.335, 1);transform:translate(0, 0)}.mtrVis__container-isFilterable:hover,.mtrVis__container-isFilterable:focus{box-shadow:none;transform:translate(0, -2px)}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(7);var content=__webpack_require__(27);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.mtrVis{width:100%;display:flex;flex-flow:row wrap;justify-content:center;align-items:center}.mtrVis__value{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;font-weight:500}.mtrVis__container{line-height:normal;max-width:100%;padding:16px;text-align:center}.mtrVis__container--light{color:#0f171f}.mtrVis__container-isFilterable{cursor:pointer;transition:transform 250ms cubic-bezier(0.694, 0.0482, 0.335, 1);transform:translate(0, 0)}.mtrVis__container-isFilterable:hover,.mtrVis__container-isFilterable:focus{box-shadow:none;transform:translate(0, -2px)}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(7);var content=__webpack_require__(29);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.mtrVis{width:100%;display:flex;flex-flow:row wrap;justify-content:center;align-items:center}.mtrVis__value{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;font-weight:500}.mtrVis__container{line-height:normal;max-width:100%;padding:16px;text-align:center}.mtrVis__container--light{color:#fcfeff}.mtrVis__container-isFilterable{cursor:pointer;transition:transform 250ms cubic-bezier(0.694, 0.0482, 0.335, 1);transform:translate(0, 0)}.mtrVis__container-isFilterable:hover,.mtrVis__container-isFilterable:focus{box-shadow:none;transform:translate(0, -2px)}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"plugin",(function(){return public_plugin}));__webpack_require__.d(__webpack_exports__,"MetricVisExpressionFunctionDefinition",(function(){return undefined}));var external_osdSharedDeps_OsdI18n_=__webpack_require__(1);const visType="metric";var public_=__webpack_require__(2);const createMetricVisFn=()=>({name:"metricVis",type:"render",inputTypes:["opensearch_dashboards_datatable"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("visTypeMetric.function.help",{defaultMessage:"Metric visualization"}),args:{percentageMode:{types:["boolean"],default:false,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("visTypeMetric.function.percentageMode.help",{defaultMessage:"Shows metric in percentage mode. Requires colorRange to be set."})},colorSchema:{types:["string"],default:'"Green to Red"',options:Object.values(public_["vislibColorMaps"]).map(value=>value.id),help:external_osdSharedDeps_OsdI18n_["i18n"].translate("visTypeMetric.function.colorSchema.help",{defaultMessage:"Color schema to use"})},colorMode:{types:["string"],default:'"None"',options:[public_["ColorModes"].NONE,public_["ColorModes"].LABELS,public_["ColorModes"].BACKGROUND],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("visTypeMetric.function.colorMode.help",{defaultMessage:"Which part of metric to color"})},colorRange:{types:["range"],multi:true,default:"{range from=0 to=10000}",help:external_osdSharedDeps_OsdI18n_["i18n"].translate("visTypeMetric.function.colorRange.help",{defaultMessage:"A range object specifying groups of values to which different colors should be applied."})},useRanges:{types:["boolean"],default:false,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("visTypeMetric.function.useRanges.help",{defaultMessage:"Enabled color ranges."})},invertColors:{types:["boolean"],default:false,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("visTypeMetric.function.invertColors.help",{defaultMessage:"Inverts the color ranges"})},showLabels:{types:["boolean"],default:true,help:external_osdSharedDeps_OsdI18n_["i18n"].translate("visTypeMetric.function.showLabels.help",{defaultMessage:"Shows labels under the metric values."})},bgFill:{types:["string"],default:'"#000"',aliases:["backgroundFill","bgColor","backgroundColor"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("visTypeMetric.function.bgFill.help",{defaultMessage:"Color as html hex code (#123456), html color (red, blue) or rgba value (rgba(255,255,255,1))."})},font:{types:["style"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("visTypeMetric.function.font.help",{defaultMessage:"Font settings."}),default:"{font size=60}"},subText:{types:["string"],aliases:["label","text","description"],default:'""',help:external_osdSharedDeps_OsdI18n_["i18n"].translate("visTypeMetric.function.subText.help",{defaultMessage:"Custom text to show under the metric"})},metric:{types:["vis_dimension"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("visTypeMetric.function.metric.help",{defaultMessage:"metric dimension configuration"}),required:true,multi:true},bucket:{types:["vis_dimension"],help:external_osdSharedDeps_OsdI18n_["i18n"].translate("visTypeMetric.function.bucket.help",{defaultMessage:"bucket dimension configuration"})}},fn(input,args){const dimensions={metrics:args.metric};if(args.bucket){dimensions.bucket=args.bucket}if(args.percentageMode&&(!args.colorRange||args.colorRange.length===0)){throw new Error("colorRange must be provided when using percentageMode")}const fontSize=Number.parseInt(args.font.spec.fontSize||"",10);return{type:"render",as:"metric_vis",value:{visData:input,visType:visType,visConfig:{metric:{percentageMode:args.percentageMode,useRanges:args.useRanges,colorSchema:args.colorSchema,metricColorMode:args.colorMode,colorsRange:args.colorRange,labels:{show:args.showLabels},invertColors:args.invertColors,style:{bgFill:args.bgFill,bgColor:args.colorMode===public_["ColorModes"].BACKGROUND,labelColor:args.colorMode===public_["ColorModes"].LABELS,subText:args.subText,fontSize:fontSize}},dimensions:dimensions},params:{listenOnChange:true}}}}});var external_osdSharedDeps_React_=__webpack_require__(0);var external_osdSharedDeps_React_default=__webpack_require__.n(external_osdSharedDeps_React_);var external_osdSharedDeps_ElasticEui_=__webpack_require__(3);var external_osdSharedDeps_OsdI18nReact_=__webpack_require__(9);function MetricVisOptions(_ref){let{stateParams:stateParams,setValue:setValue,setValidity:setValidity,setTouched:setTouched,vis:vis,uiState:uiState}=_ref;const setMetricValue=Object(external_osdSharedDeps_React_["useCallback"])((paramName,value)=>setValue("metric",{...stateParams.metric,[paramName]:value}),[setValue,stateParams.metric]);const setMetricLabels=Object(external_osdSharedDeps_React_["useCallback"])((paramName,value)=>setMetricValue("labels",{...stateParams.metric.labels,[paramName]:value}),[setMetricValue,stateParams.metric.labels]);const setMetricStyle=Object(external_osdSharedDeps_React_["useCallback"])((paramName,value)=>setMetricValue("style",{...stateParams.metric.style,[paramName]:value}),[setMetricValue,stateParams.metric.style]);const setColorMode=Object(external_osdSharedDeps_React_["useCallback"])(id=>setMetricValue("metricColorMode",id),[setMetricValue]);const metricColorModeLabel=external_osdSharedDeps_OsdI18n_["i18n"].translate("visTypeMetric.params.color.useForLabel",{defaultMessage:"Use color for"});return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPanel"],{paddingSize:"s"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_osdSharedDeps_React_default.a.createElement("h3",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"visTypeMetric.params.settingsTitle",defaultMessage:"Settings"}))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_osdSharedDeps_React_default.a.createElement(public_["SwitchOption"],{label:external_osdSharedDeps_OsdI18n_["i18n"].translate("visTypeMetric.params.percentageModeLabel",{defaultMessage:"Percentage mode"}),paramName:"percentageMode",value:stateParams.metric.percentageMode,setValue:setMetricValue}),external_osdSharedDeps_React_default.a.createElement(public_["SwitchOption"],{label:external_osdSharedDeps_OsdI18n_["i18n"].translate("visTypeMetric.params.showTitleLabel",{defaultMessage:"Show title"}),paramName:"show",value:stateParams.metric.labels.show,setValue:setMetricLabels})),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPanel"],{paddingSize:"s"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_osdSharedDeps_React_default.a.createElement("h3",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"visTypeMetric.params.rangesTitle",defaultMessage:"Ranges"}))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_osdSharedDeps_React_default.a.createElement(public_["ColorRanges"],{"data-test-subj":"metricColorRange",colorsRange:stateParams.metric.colorsRange,setValue:setMetricValue,setTouched:setTouched,setValidity:setValidity}),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFormRow"],{fullWidth:true,display:"rowCompressed",label:metricColorModeLabel},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiButtonGroup"],{buttonSize:"compressed",idSelected:stateParams.metric.metricColorMode,isDisabled:stateParams.metric.colorsRange.length===1,isFullWidth:true,legend:metricColorModeLabel,options:vis.type.editorConfig.collections.metricColorMode,onChange:setColorMode})),external_osdSharedDeps_React_default.a.createElement(public_["ColorSchemaOptions"],{colorSchema:stateParams.metric.colorSchema,colorSchemas:vis.type.editorConfig.collections.colorSchemas,disabled:stateParams.metric.colorsRange.length===1||stateParams.metric.metricColorMode===public_["ColorModes"].NONE,invertColors:stateParams.metric.invertColors,setValue:setMetricValue,showHelpText:false,uiState:uiState})),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPanel"],{paddingSize:"s"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_osdSharedDeps_React_default.a.createElement("h3",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"visTypeMetric.params.style.styleTitle",defaultMessage:"Style"}))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_osdSharedDeps_React_default.a.createElement(public_["RangeOption"],{label:external_osdSharedDeps_OsdI18n_["i18n"].translate("visTypeMetric.params.style.fontSizeLabel",{defaultMessage:"Metric font size in points"}),min:12,max:120,paramName:"fontSize",value:stateParams.metric.style.fontSize,setValue:setMetricStyle,showInput:true,showLabels:true,showValue:false})))}var data_public_=__webpack_require__(10);var visDefaultEditor_public_=__webpack_require__(12);var external_osdSharedDeps_Lodash_=__webpack_require__(6);var visualizations_public_=__webpack_require__(8);var expressions_public_=__webpack_require__(5);const prepareDimension=params=>{const visdimension=Object(expressions_public_["buildExpressionFunction"])("visdimension",{accessor:params.accessor});if(params.format){visdimension.addArgument("format",params.format.id);visdimension.addArgument("formatParams",JSON.stringify(params.format.params))}return Object(expressions_public_["buildExpression"])([visdimension])};const toExpressionAst=(vis,params)=>{const opensearchaggs=Object(expressions_public_["buildExpressionFunction"])("opensearchaggs",{index:vis.data.indexPattern.id,metricsAtAllLevels:vis.isHierarchical(),partialRows:vis.params.showPartialRows||false,aggConfigs:JSON.stringify(vis.data.aggs.aggs),includeFormatHints:false});const schemas=Object(visualizations_public_["getVisSchemas"])(vis,params);const{percentageMode:percentageMode,useRanges:useRanges,colorSchema:colorSchema,metricColorMode:metricColorMode,colorsRange:colorsRange,labels:labels,invertColors:invertColors,style:style}=vis.params.metric;if(Object(external_osdSharedDeps_Lodash_["get"])(vis.params,"metric.percentageMode")===true){schemas.metric.forEach(metric=>{metric.format={id:"percent"}})}const metricVis=Object(expressions_public_["buildExpressionFunction"])("metricVis",{percentageMode:percentageMode,colorSchema:colorSchema,colorMode:metricColorMode,useRanges:useRanges,invertColors:invertColors,showLabels:labels&&labels.show});if(style){metricVis.addArgument("bgFill",style.bgFill);metricVis.addArgument("font",Object(expressions_public_["buildExpression"])(`font size=${style.fontSize}`));metricVis.addArgument("subText",style.subText)}if(colorsRange){colorsRange.forEach(range=>{metricVis.addArgument("colorRange",Object(expressions_public_["buildExpression"])(`range from=${range.from} to=${range.to}`))})}if(schemas.group){metricVis.addArgument("bucket",prepareDimension(schemas.group[0]))}schemas.metric.forEach(metric=>{metricVis.addArgument("metric",prepareDimension(metric))});const ast=Object(expressions_public_["buildExpression"])([opensearchaggs,metricVis]);return ast.toAst()};const createMetricVisTypeDefinition=()=>({name:"metric",title:external_osdSharedDeps_OsdI18n_["i18n"].translate("visTypeMetric.metricTitle",{defaultMessage:"Metric"}),icon:"visMetric",description:external_osdSharedDeps_OsdI18n_["i18n"].translate("visTypeMetric.metricDescription",{defaultMessage:"Display a calculation as a single number"}),toExpressionAst:toExpressionAst,visConfig:{defaults:{addTooltip:true,addLegend:false,type:"metric",metric:{percentageMode:false,useRanges:false,colorSchema:public_["ColorSchemas"].GreenToRed,metricColorMode:public_["ColorModes"].NONE,colorsRange:[{from:0,to:1e4}],labels:{show:true},invertColors:false,style:{bgFill:"#000",bgColor:false,labelColor:false,subText:"",fontSize:60}}}},editorConfig:{collections:{metricColorMode:[{id:public_["ColorModes"].NONE,label:external_osdSharedDeps_OsdI18n_["i18n"].translate("visTypeMetric.colorModes.noneOptionLabel",{defaultMessage:"None"})},{id:public_["ColorModes"].LABELS,label:external_osdSharedDeps_OsdI18n_["i18n"].translate("visTypeMetric.colorModes.labelsOptionLabel",{defaultMessage:"Labels"})},{id:public_["ColorModes"].BACKGROUND,label:external_osdSharedDeps_OsdI18n_["i18n"].translate("visTypeMetric.colorModes.backgroundOptionLabel",{defaultMessage:"Background"})}],colorSchemas:public_["colorSchemas"]},optionsTemplate:MetricVisOptions,schemas:new visDefaultEditor_public_["Schemas"]([{group:data_public_["AggGroupNames"].Metrics,name:"metric",title:external_osdSharedDeps_OsdI18n_["i18n"].translate("visTypeMetric.schemas.metricTitle",{defaultMessage:"Metric"}),min:1,aggFilter:["!std_dev","!geo_centroid","!derivative","!serial_diff","!moving_avg","!cumulative_sum","!geo_bounds"],aggSettings:{top_hits:{allowStrings:true}},defaults:[{type:"count",schema:"metric"}]},{group:data_public_["AggGroupNames"].Buckets,name:"group",title:external_osdSharedDeps_OsdI18n_["i18n"].translate("visTypeMetric.schemas.splitGroupTitle",{defaultMessage:"Split group"}),min:0,max:1,aggFilter:["!geohash_grid","!geotile_grid","!filter"]}])}});var common_=__webpack_require__(13);const[getFormatService,setFormatService]=Object(common_["createGetterSetter"])("metric data.fieldFormats");var external_osdSharedDeps_ReactDom_=__webpack_require__(11);var classnames=__webpack_require__(14);var classnames_default=__webpack_require__.n(classnames);function _defineProperty(obj,key,value){key=_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function _toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}class metric_vis_value_MetricVisValue extends external_osdSharedDeps_React_["Component"]{constructor(){super(...arguments);_defineProperty(this,"onClick",()=>{if(this.props.onFilter){this.props.onFilter(this.props.metric)}});_defineProperty(this,"onKeyPress",event=>{if(event.key===external_osdSharedDeps_ElasticEui_["keys"].ENTER){this.onClick()}})}render(){const{fontSize:fontSize,metric:metric,onFilter:onFilter,showLabel:showLabel}=this.props;const hasFilter=Boolean(onFilter);const metricValueStyle={fontSize:`${fontSize}pt`,color:metric.color};const containerClassName=classnames_default()("mtrVis__container",{"mtrVis__container--light":metric.lightText,"mtrVis__container-isfilterable":hasFilter});const metricComponent=external_osdSharedDeps_React_default.a.createElement("div",{className:containerClassName,style:{backgroundColor:metric.bgColor},onClick:hasFilter?this.onClick:undefined,onKeyPress:hasFilter?this.onKeyPress:undefined,tabIndex:hasFilter?0:undefined,role:hasFilter?"button":undefined},external_osdSharedDeps_React_default.a.createElement("div",{className:"mtrVis__value",style:metricValueStyle,dangerouslySetInnerHTML:{__html:metric.value}}),showLabel&&external_osdSharedDeps_React_default.a.createElement("div",null,metric.label));if(hasFilter){return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiKeyboardAccessible"],null,metricComponent)}return metricComponent}}var metric_vis=__webpack_require__(17);function metric_vis_component_defineProperty(obj,key,value){key=metric_vis_component_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function metric_vis_component_toPropertyKey(arg){var key=metric_vis_component_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function metric_vis_component_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}class metric_vis_component_MetricVisComponent extends external_osdSharedDeps_React_["Component"]{constructor(){super(...arguments);metric_vis_component_defineProperty(this,"getFormattedValue",(function(fieldFormatter,value){let format=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"text";if(Object(external_osdSharedDeps_Lodash_["isNaN"])(value))return"-";return fieldFormatter.convert(value,format)}));metric_vis_component_defineProperty(this,"filterBucket",metric=>{const dimensions=this.props.visParams.dimensions;if(!dimensions.bucket){return}const table=this.props.visData;this.props.fireEvent({name:"filterBucket",data:{data:[{table:table,column:dimensions.bucket.accessor,row:metric.rowIndex}]}})});metric_vis_component_defineProperty(this,"renderMetric",(metric,index)=>external_osdSharedDeps_React_default.a.createElement(metric_vis_value_MetricVisValue,{key:index,metric:metric,fontSize:this.props.visParams.metric.style.fontSize,onFilter:this.props.visParams.dimensions.bucket?this.filterBucket:undefined,showLabel:this.props.visParams.metric.labels.show}))}getLabels(){const config=this.props.visParams.metric;const isPercentageMode=config.percentageMode;const colorsRange=config.colorsRange;const max=Object(external_osdSharedDeps_Lodash_["last"])(colorsRange).to;const labels=[];colorsRange.forEach(range=>{const from=isPercentageMode?Math.round(100*range.from/max):range.from;const to=isPercentageMode?Math.round(100*range.to/max):range.to;labels.push(`${from} - ${to}`)});return labels}getColors(){const config=this.props.visParams.metric;const invertColors=config.invertColors;const colorSchema=config.colorSchema;const colorsRange=config.colorsRange;const labels=this.getLabels();const colors={};for(let i=0;i<labels.length;i+=1){const divider=Math.max(colorsRange.length-1,1);const val=invertColors?1-i/divider:i/divider;colors[labels[i]]=Object(public_["getHeatmapColors"])(val,colorSchema)}return colors}getBucket(val){const config=this.props.visParams.metric;let bucket=Object(external_osdSharedDeps_Lodash_["findIndex"])(config.colorsRange,range=>range.from<=val&&range.to>val);if(bucket===-1){if(val<config.colorsRange[0].from)bucket=0;else bucket=config.colorsRange.length-1}return bucket}getColor(val,labels,colors){const bucket=this.getBucket(val);const label=labels[bucket];return colors[label]}needsLightText(bgColor){const colors=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(bgColor);if(!colors){return false}const[red,green,blue]=colors.slice(1).map(c=>parseInt(c,10));return Object(external_osdSharedDeps_ElasticEui_["isColorDark"])(red,green,blue)}processTableGroups(table){const config=this.props.visParams.metric;const dimensions=this.props.visParams.dimensions;const isPercentageMode=config.percentageMode;const min=config.colorsRange[0].from;const max=Object(external_osdSharedDeps_Lodash_["last"])(config.colorsRange).to;const colors=this.getColors();const labels=this.getLabels();const metrics=[];let bucketColumnId;let bucketFormatter;if(dimensions.bucket){bucketColumnId=table.columns[dimensions.bucket.accessor].id;bucketFormatter=getFormatService().deserialize(dimensions.bucket.format)}dimensions.metrics.forEach(metric=>{const columnIndex=metric.accessor;const column=table===null||table===void 0?void 0:table.columns[columnIndex];const formatter=getFormatService().deserialize(metric.format);table.rows.forEach((row,rowIndex)=>{let title=column.name;let value=row[column.id];const color=this.getColor(value,labels,colors);if(isPercentageMode){value=(value-min)/(max-min)}value=this.getFormattedValue(formatter,value,"html");if(bucketColumnId){const bucketValue=this.getFormattedValue(bucketFormatter,row[bucketColumnId]);title=`${bucketValue} - ${title}`}const shouldColor=config.colorsRange.length>1;metrics.push({label:title,value:value,color:shouldColor&&config.style.labelColor?color:undefined,bgColor:shouldColor&&config.style.bgColor?color:undefined,lightText:shouldColor&&config.style.bgColor&&this.needsLightText(color),rowIndex:rowIndex})})});return metrics}componentDidMount(){this.props.renderComplete()}componentDidUpdate(){this.props.renderComplete()}render(){const metrics=this.props.visData.rows?this.processTableGroups(this.props.visData):[];return external_osdSharedDeps_React_default.a.createElement(visualizations_public_["VisualizationContainer"],{className:"mtrVis",showNoResult:metrics.length===0},metrics.length>0?metrics.map(this.renderMetric):null)}}const metricVisRenderer=()=>({name:"metric_vis",displayName:"metric visualization",reuseDomNode:true,render:async(domNode,_ref,handlers)=>{let{visData:visData,visConfig:visConfig}=_ref;handlers.onDestroy(()=>{Object(external_osdSharedDeps_ReactDom_["unmountComponentAtNode"])(domNode)});Object(external_osdSharedDeps_ReactDom_["render"])(external_osdSharedDeps_React_default.a.createElement(metric_vis_component_MetricVisComponent,{visData:visData,visParams:visConfig,renderComplete:handlers.done,fireEvent:handlers.event}),domNode)}});function plugin_defineProperty(obj,key,value){key=plugin_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function plugin_toPropertyKey(arg){var key=plugin_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function plugin_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}class plugin_MetricVisPlugin{constructor(initializerContext){plugin_defineProperty(this,"initializerContext",void 0);this.initializerContext=initializerContext}setup(core,_ref){let{expressions:expressions,visualizations:visualizations,charts:charts}=_ref;expressions.registerFunction(createMetricVisFn);expressions.registerRenderer(metricVisRenderer);visualizations.createBaseVisualization(createMetricVisTypeDefinition())}start(core,_ref2){let{data:data}=_ref2;setFormatService(data.fieldFormats)}}function public_plugin(initializerContext){return new plugin_MetricVisPlugin(initializerContext)}}]);