(function(modules){function webpackJsonpCallback(data){var chunkIds=data[0];var moreModules=data[1];var moduleId,chunkId,i=0,resolves=[];for(;i<chunkIds.length;i++){chunkId=chunkIds[i];if(Object.prototype.hasOwnProperty.call(installedChunks,chunkId)&&installedChunks[chunkId]){resolves.push(installedChunks[chunkId][0])}installedChunks[chunkId]=0}for(moduleId in moreModules){if(Object.prototype.hasOwnProperty.call(moreModules,moduleId)){modules[moduleId]=moreModules[moduleId]}}if(parentJsonpFunction)parentJsonpFunction(data);while(resolves.length){resolves.shift()()}}var installedModules={};var installedChunks={0:0};function jsonpScriptSrc(chunkId){return __webpack_require__.p+"savedObjectsManagement.chunk."+chunkId+".js"}function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.e=function requireEnsure(chunkId){var promises=[];var installedChunkData=installedChunks[chunkId];if(installedChunkData!==0){if(installedChunkData){promises.push(installedChunkData[2])}else{var promise=new Promise((function(resolve,reject){installedChunkData=installedChunks[chunkId]=[resolve,reject]}));promises.push(installedChunkData[2]=promise);var script=document.createElement("script");var onScriptComplete;script.charset="utf-8";script.timeout=120;if(__webpack_require__.nc){script.setAttribute("nonce",__webpack_require__.nc)}script.src=jsonpScriptSrc(chunkId);var error=new Error;onScriptComplete=function(event){script.onerror=script.onload=null;clearTimeout(timeout);var chunk=installedChunks[chunkId];if(chunk!==0){if(chunk){var errorType=event&&(event.type==="load"?"missing":event.type);var realSrc=event&&event.target&&event.target.src;error.message="Loading chunk "+chunkId+" failed.\n("+errorType+": "+realSrc+")";error.name="ChunkLoadError";error.type=errorType;error.request=realSrc;chunk[1](error)}installedChunks[chunkId]=undefined}};var timeout=setTimeout((function(){onScriptComplete({type:"timeout",target:script})}),12e4);script.onerror=script.onload=onScriptComplete;document.head.appendChild(script)}}return Promise.all(promises)};__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";__webpack_require__.oe=function(err){console.error(err);throw err};var jsonpArray=window["savedObjectsManagement_bundle_jsonpfunction"]=window["savedObjectsManagement_bundle_jsonpfunction"]||[];var oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback;jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;return __webpack_require__(__webpack_require__.s=55)})([function(module,exports){module.exports=__osdSharedDeps__.React},function(module,exports){module.exports=__osdSharedDeps__.ElasticEui},function(module,exports){module.exports=__osdSharedDeps__.OsdI18n},function(module,exports){module.exports=__osdSharedDeps__.OsdI18nReact},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"fetchExportByTypeAndSearch",(function(){return fetchExportByTypeAndSearch}));__webpack_require__.d(__webpack_exports__,"fetchExportObjects",(function(){return fetchExportObjects}));__webpack_require__.d(__webpack_exports__,"canViewInApp",(function(){return canViewInApp}));__webpack_require__.d(__webpack_exports__,"getRelationships",(function(){return getRelationships}));__webpack_require__.d(__webpack_exports__,"getSavedObjectCounts",(function(){return getSavedObjectCounts}));__webpack_require__.d(__webpack_exports__,"SavedObjectCountOptions",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"getSavedObjectLabel",(function(){return getSavedObjectLabel}));__webpack_require__.d(__webpack_exports__,"importFile",(function(){return importFile}));__webpack_require__.d(__webpack_exports__,"importLegacyFile",(function(){return importLegacyFile}));__webpack_require__.d(__webpack_exports__,"parseQuery",(function(){return parseQuery}));__webpack_require__.d(__webpack_exports__,"resolveImportErrors",(function(){return resolveImportErrors}));__webpack_require__.d(__webpack_exports__,"resolveIndexPatternConflicts",(function(){return resolve_saved_objects["a"]}));__webpack_require__.d(__webpack_exports__,"resolveSavedObjects",(function(){return resolve_saved_objects["b"]}));__webpack_require__.d(__webpack_exports__,"resolveSavedSearches",(function(){return resolve_saved_objects["c"]}));__webpack_require__.d(__webpack_exports__,"saveObject",(function(){return resolve_saved_objects["d"]}));__webpack_require__.d(__webpack_exports__,"saveObjects",(function(){return resolve_saved_objects["e"]}));__webpack_require__.d(__webpack_exports__,"logLegacyImport",(function(){return logLegacyImport}));__webpack_require__.d(__webpack_exports__,"processImportResponse",(function(){return processImportResponse}));__webpack_require__.d(__webpack_exports__,"ProcessedImportResponse",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"FailedImport",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"getDefaultTitle",(function(){return getDefaultTitle}));__webpack_require__.d(__webpack_exports__,"findObjects",(function(){return findObjects}));__webpack_require__.d(__webpack_exports__,"findObject",(function(){return findObject}));__webpack_require__.d(__webpack_exports__,"extractExportDetails",(function(){return extractExportDetails}));__webpack_require__.d(__webpack_exports__,"SavedObjectsExportResultDetails",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"createFieldList",(function(){return createFieldList}));__webpack_require__.d(__webpack_exports__,"getAllowedTypes",(function(){return getAllowedTypes}));__webpack_require__.d(__webpack_exports__,"filterQuery",(function(){return filterQuery}));var utils=__webpack_require__(15);async function fetchExportByTypeAndSearch(http,types,search){let includeReferencesDeep=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let workspaces=arguments.length>4?arguments[4]:undefined;return http.post("/api/saved_objects/_export",{body:JSON.stringify(Object(utils["b"])({workspaces:workspaces,type:types,search:search,includeReferencesDeep:includeReferencesDeep}))})}async function fetchExportObjects(http,objects){let includeReferencesDeep=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return http.post("/api/saved_objects/_export",{body:JSON.stringify({objects:objects,includeReferencesDeep:includeReferencesDeep})})}function canViewInApp(uiCapabilities,type){switch(type){case"search":case"searches":return uiCapabilities.discover.show;case"visualization":case"visualizations":return uiCapabilities.visualize.show;case"augment-vis":return uiCapabilities.visAugmenter.show;case"index-pattern":case"index-patterns":case"indexPatterns":return uiCapabilities.management.opensearchDashboards.indexPatterns;case"dashboard":case"dashboards":return uiCapabilities.dashboard.show;case"homepage":return uiCapabilities.home.show;default:return uiCapabilities[type].show}}var external_osdSharedDeps_Lodash_=__webpack_require__(6);async function getRelationships(http,type,id,savedObjectTypes){const url=`/api/opensearch-dashboards/management/saved_objects/relationships/${encodeURIComponent(type)}/${encodeURIComponent(id)}`;try{return await http.get(url,{query:{savedObjectTypes:savedObjectTypes}})}catch(respError){const respBody=Object(external_osdSharedDeps_Lodash_["get"])(respError,"data",{});const err=new Error(respBody.message||respBody.error||`${respError.status} Response`);err.statusCode=respBody.statusCode||respError.status;err.body=respBody;throw err}}async function getSavedObjectCounts(http,options){return await http.post(`/api/opensearch-dashboards/management/saved_objects/scroll/counts`,{body:JSON.stringify(options)})}function getSavedObjectLabel(type){switch(type){case"index-pattern":case"index-patterns":case"indexPatterns":return"index patterns";default:return type}}async function importFile(http,file,_ref,selectedDataSourceId,dataSourceEnabled){let{createNewCopies:createNewCopies,overwrite:overwrite}=_ref;const formData=new FormData;formData.append("file",file);const query=createNewCopies?{createNewCopies:createNewCopies}:{overwrite:overwrite};if(selectedDataSourceId){query.dataSourceId=selectedDataSourceId}if(dataSourceEnabled){query.dataSourceEnabled=dataSourceEnabled}return await http.post("/api/saved_objects/_import",{body:formData,headers:{"Content-Type":undefined},query:query})}async function importLegacyFile(file){return new Promise((resolve,reject)=>{const fr=new FileReader;fr.onload=event=>{const result=event.target.result;try{resolve(JSON.parse(result))}catch(e){reject(e)}};fr.readAsText(file)})}function parseQuery(query){let queryText;let visibleTypes;let visibleNamespaces;let visibleWorkspaces;if(query){if(query.ast.getTermClauses().length){queryText=query.ast.getTermClauses().map(clause=>clause.value).join(" ")}if(query.ast.getFieldClauses("type")){visibleTypes=query.ast.getFieldClauses("type")[0].value}if(query.ast.getFieldClauses("namespaces")){visibleNamespaces=query.ast.getFieldClauses("namespaces")[0].value}if(query.ast.getFieldClauses("workspaces")){visibleWorkspaces=query.ast.getFieldClauses("workspaces")[0].value}}return{queryText:queryText,visibleTypes:visibleTypes,visibleNamespaces:visibleNamespaces,visibleWorkspaces:visibleWorkspaces}}const RESOLVABLE_ERRORS=["conflict","ambiguous_conflict","missing_references"];const isConflict=failure=>failure.error.type==="conflict";const isAmbiguousConflict=failure=>failure.error.type==="ambiguous_conflict";const isAnyConflict=failure=>isConflict(failure)||isAmbiguousConflict(failure);const filterFailedImports=failures=>{const missingReferences=failures.filter(_ref=>{let{error:{type:type}}=_ref;return type==="missing_references"}).reduce((acc,_ref2)=>{let{obj:{type:type,id:id}}=_ref2;return acc.add(`${type}:${id}`)},new Set);return failures.filter(failure=>!isAnyConflict(failure)||isAnyConflict(failure)&&!missingReferences.has(`${failure.obj.type}:${failure.obj.id}`))};async function callResolveImportErrorsApi(http,file,retries,createNewCopies,selectedDataSourceId){const formData=new FormData;formData.append("file",file);formData.append("retries",JSON.stringify(retries));const query=createNewCopies?{createNewCopies:createNewCopies}:{};if(selectedDataSourceId){query.dataSourceId=selectedDataSourceId}return http.post("/api/saved_objects/_resolve_import_errors",{headers:{"Content-Type":undefined},body:formData,query:query})}function mapImportFailureToRetryObject(_ref3){let{failure:failure,retryDecisionCache:retryDecisionCache,replaceReferencesCache:replaceReferencesCache,state:state}=_ref3;const{unmatchedReferences:unmatchedReferences=[]}=state;const retryDecision=retryDecisionCache.get(`${failure.obj.type}:${failure.obj.id}`);if(!(retryDecision!==null&&retryDecision!==void 0&&retryDecision.retry)&&(failure.error.type==="conflict"||failure.error.type==="ambiguous_conflict")){return}if(failure.error.type==="missing_references"){const objReplaceReferences=replaceReferencesCache.get(`${failure.obj.type}:${failure.obj.id}`)||[];const indexPatternRefs=failure.error.references.filter(obj=>obj.type==="index-pattern");for(const reference of indexPatternRefs){for(const{existingIndexPatternId:from,newIndexPatternId:to}of unmatchedReferences){const matchesIndexPatternId=from===reference.id;if(!to||!matchesIndexPatternId){continue}const type="index-pattern";if(!objReplaceReferences.some(ref=>ref.type===type&&ref.from===from&&ref.to===to)){objReplaceReferences.push({type:type,from:from,to:to})}}}replaceReferencesCache.set(`${failure.obj.type}:${failure.obj.id}`,objReplaceReferences);if(objReplaceReferences.length===0){return}}return{id:failure.obj.id,type:failure.obj.type,...(retryDecision===null||retryDecision===void 0?void 0:retryDecision.retry)&&retryDecision.options,replaceReferences:replaceReferencesCache.get(`${failure.obj.type}:${failure.obj.id}`)}}async function resolveImportErrors(_ref4){let{http:http,getConflictResolutions:getConflictResolutions,state:state,selectedDataSourceId:selectedDataSourceId}=_ref4;const retryDecisionCache=new Map;const replaceReferencesCache=new Map;let{importCount:importCount,failedImports:failedImports=[],successfulImports:successfulImports=[]}=state;const{file:file,importMode:{createNewCopies:createNewCopies,overwrite:isOverwriteAllChecked}}=state;const doesntHaveRetryDecision=_ref5=>{let{obj:obj}=_ref5;return!retryDecisionCache.has(`${obj.type}:${obj.id}`)};const getRetryDecision=_ref6=>{let{obj:obj}=_ref6;return retryDecisionCache.get(`${obj.type}:${obj.id}`)};const callMapImportFailure=failure=>mapImportFailureToRetryObject({failure:failure,retryDecisionCache:retryDecisionCache,replaceReferencesCache:replaceReferencesCache,state:state});const isNotSkipped=failure=>{var _getRetryDecision;const{type:type}=failure.error;return!RESOLVABLE_ERRORS.includes(type)||((_getRetryDecision=getRetryDecision(failure))===null||_getRetryDecision===void 0?void 0:_getRetryDecision.retry)};while(failedImports.some(failure=>RESOLVABLE_ERRORS.includes(failure.error.type))){const filteredFailures=filterFailedImports(failedImports);if(isOverwriteAllChecked){filteredFailures.filter(isConflict).forEach(_ref7=>{let{obj:{type:type,id:id},error:{destinationId:destinationId}}=_ref7;return retryDecisionCache.set(`${type}:${id}`,{retry:true,options:{overwrite:true,...destinationId&&{destinationId:destinationId}}})})}const result=await getConflictResolutions(isOverwriteAllChecked?filteredFailures.filter(isAmbiguousConflict).filter(doesntHaveRetryDecision):filteredFailures.filter(isAnyConflict).filter(doesntHaveRetryDecision));for(const key of Object.keys(result)){retryDecisionCache.set(key,result[key])}const failRetries=filteredFailures.map(callMapImportFailure).filter(obj=>!!obj);const successRetries=successfulImports.map(_ref8=>{let{type:type,id:id,overwrite:overwrite,destinationId:destinationId,createNewCopy:createNewCopy}=_ref8;const replaceReferences=replaceReferencesCache.get(`${type}:${id}`);return{type:type,id:id,...overwrite&&{overwrite:overwrite},...replaceReferences&&{replaceReferences:replaceReferences},destinationId:destinationId,createNewCopy:createNewCopy}});const retries=[...failRetries,...successRetries];if(retries.length===0){failedImports=filteredFailures.filter(isNotSkipped);break}const response=await callResolveImportErrorsApi(http,file,retries,createNewCopies,selectedDataSourceId);importCount=response.successCount;failedImports=[];for(const{error:error,...obj}of response.errors||[]){failedImports.push({error:error,obj:obj})}successfulImports=response.successResults||[]}return{status:"success",importCount:importCount,failedImports:failedImports,successfulImports:successfulImports}}var resolve_saved_objects=__webpack_require__(8);async function logLegacyImport(http){return http.post("/api/saved_objects/_log_legacy_import")}const process_import_response_isAnyConflict=_ref=>{let{type:type}=_ref;return type==="conflict"||type==="ambiguous_conflict"};function processImportResponse(response){var _response$successResu;const failedImports=[];const unmatchedReferences=new Map;for(const{error:error,...obj}of response.errors||[]){failedImports.push({obj:obj,error:error});if(error.type!=="missing_references"){continue}const indexPatternRefs=error.references.filter(ref=>ref.type==="index-pattern");for(const missingReference of indexPatternRefs){const conflict=unmatchedReferences.get(`${missingReference.type}:${missingReference.id}`)||{existingIndexPatternId:missingReference.id,list:[],newIndexPatternId:undefined};if(!conflict.list.some(_ref2=>{let{type:type,id:id}=_ref2;return type===obj.type&&id===obj.id})){conflict.list.push(obj);unmatchedReferences.set(`${missingReference.type}:${missingReference.id}`,conflict)}}}return{failedImports:failedImports,successfulImports:(_response$successResu=response.successResults)!==null&&_response$successResu!==void 0?_response$successResu:[],unmatchedReferences:Array.from(unmatchedReferences.values()),status:unmatchedReferences.size===0&&!failedImports.some(issue=>process_import_response_isAnyConflict(issue.error))?"success":"idle",importCount:response.successCount,conflictedSavedObjectsLinkedToSavedSearches:undefined,conflictedSearchDocs:undefined}}function getDefaultTitle(object){return`${object.type} [id=${object.id}]`}function keysToCamelCaseShallow(object){return Object(external_osdSharedDeps_Lodash_["mapKeys"])(object,(value,key)=>Object(external_osdSharedDeps_Lodash_["camelCase"])(key))}async function findObjects(http,findOptions){const response=await http.get("/api/opensearch-dashboards/management/saved_objects/_find",{query:findOptions});return keysToCamelCaseShallow(response)}async function findObject(http,type,id){return await http.get(`/api/opensearch-dashboards/management/saved_objects/${encodeURIComponent(type)}/${encodeURIComponent(id)}`)}async function extractExportDetails(blob){const reader=new FileReader;const content=await new Promise((resolve,reject)=>{reader.addEventListener("loadend",e=>{resolve(e.target.result)});reader.addEventListener("error",e=>{reject(e)});reader.readAsText(blob,"utf-8")});const lines=content.split("\n").filter(l=>l.length>0);const maybeDetails=JSON.parse(lines[lines.length-1]);if(isExportDetails(maybeDetails)){return maybeDetails}}function isExportDetails(object){return"exportedCount"in object&&"missingRefCount"in object&&"missingReferences"in object}var public_=__webpack_require__(16);const maxRecursiveIterations=20;function createFieldList(object,service){let fields=Object.entries(object.attributes).reduce((objFields,_ref)=>{let[key,value]=_ref;return[...objFields,...createFields(key,value)]},[]);fields=[...fields,...createFields("references",object.references)];if(service&&service.Class){addFieldsFromClass(service.Class,fields)}return fields}const createFields=function(key,value){let parents=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];const path=[...parents,key];if(path.length>maxRecursiveIterations){return[]}const field={type:"text",name:path.join("."),value:value};if(Object(external_osdSharedDeps_Lodash_["isString"])(field.value)){try{field.value=JSON.stringify(JSON.parse(field.value),undefined,2);field.type="json"}catch(err){field.type="text"}}else if(Object(external_osdSharedDeps_Lodash_["isNumber"])(field.value)){field.type="number"}else if(Array.isArray(field.value)){field.type="array";field.value=JSON.stringify(field.value,undefined,2)}else if(Object(external_osdSharedDeps_Lodash_["isBoolean"])(field.value)){field.type="boolean"}else if(Object(external_osdSharedDeps_Lodash_["isPlainObject"])(field.value)){let fields=[];Object(external_osdSharedDeps_Lodash_["forOwn"])(field.value,(childValue,childKey)=>{fields=[...fields,...createFields(childKey,childValue,path)]});return fields}return[field]};const addFieldsFromClass=function(Class,fields){const fieldMap=Object(external_osdSharedDeps_Lodash_["keyBy"])(fields,"name");Object(external_osdSharedDeps_Lodash_["forOwn"])(Class.mapping,(opensearchType,name)=>{if(!name||fieldMap[name]){return}const getFieldTypeFromOpenSearchType=()=>{switch(Object(public_["castOpenSearchToOsdFieldTypeName"])(opensearchType)){case"string":return"text";case"number":return"number";case"boolean":return"boolean";default:return"json"}};fields.push({name:name,type:getFieldTypeFromOpenSearchType(),value:undefined})});if(Class.searchSource&&!fieldMap["kibanaSavedObjectMeta.searchSourceJSON"]){fields.push({name:"kibanaSavedObjectMeta.searchSourceJSON",type:"json",value:"{}"})}if(!fieldMap.references){fields.push({name:"references",type:"array",value:"[]"})}};async function getAllowedTypes(http){const response=await http.get("/api/opensearch-dashboards/management/saved_objects/_allowed_types");return response.types}function filterQuery(allowedVals,requestedVals){const filteredVals=requestedVals?allowedVals.filter(val=>requestedVals.includes(val)):allowedVals;return filteredVals}},function(module,exports){module.exports=__osdSharedDeps__.TsLib},function(module,exports){module.exports=__osdSharedDeps__.Lodash},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isClient=typeof window==="object";exports.on=function(obj){var args=[];for(var _i=1;_i<arguments.length;_i++){args[_i-1]=arguments[_i]}return obj.addEventListener.apply(obj,args)};exports.off=function(obj){var args=[];for(var _i=1;_i<arguments.length;_i++){args[_i-1]=arguments[_i]}return obj.removeEventListener.apply(obj,args)};exports.isDeepEqual=__webpack_require__(65)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return resolveIndexPatternConflicts}));__webpack_require__.d(__webpack_exports__,"e",(function(){return saveObjects}));__webpack_require__.d(__webpack_exports__,"d",(function(){return saveObject}));__webpack_require__.d(__webpack_exports__,"c",(function(){return resolveSavedSearches}));__webpack_require__.d(__webpack_exports__,"b",(function(){return resolveSavedObjects}));var _osd_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2);var _osd_i18n__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_osd_i18n__WEBPACK_IMPORTED_MODULE_0__);var lodash__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6);var lodash__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);var _data_public__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(16);var _data_public__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_data_public__WEBPACK_IMPORTED_MODULE_2__);async function getSavedObject(doc,services){const service=services.find(s=>s.type===doc._type);if(!service){return}const obj=await service.get();obj.id=doc._id;obj.migrationVersion=doc._migrationVersion;return obj}function addJsonFieldToIndexPattern(target,sourceString,fieldName,indexName){if(sourceString){try{target[fieldName]=JSON.parse(sourceString)}catch(error){throw new Error(_osd_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("savedObjectsManagement.parsingFieldErrorMessage",{defaultMessage:"Error encountered parsing {fieldName} for index pattern {indexName}: {errorMessage}",values:{fieldName:fieldName,indexName:indexName,errorMessage:error.message}}))}}}async function importIndexPattern(doc,indexPatterns){let overwriteAll=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let openConfirm=arguments.length>3?arguments[3]:undefined;const{title:title,timeFieldName:timeFieldName,fields:fields,fieldFormatMap:fieldFormatMap,sourceFilters:sourceFilters,type:type,typeMeta:typeMeta}=doc._source;const indexPatternSpec={id:doc._id,title:title,timeFieldName:timeFieldName};let emptyPattern;if(type){indexPatternSpec.type=type}addJsonFieldToIndexPattern(indexPatternSpec,fields,"fields",title);addJsonFieldToIndexPattern(indexPatternSpec,fieldFormatMap,"fieldFormatMap",title);addJsonFieldToIndexPattern(indexPatternSpec,sourceFilters,"sourceFilters",title);addJsonFieldToIndexPattern(indexPatternSpec,typeMeta,"typeMeta",title);try{emptyPattern=await indexPatterns.createAndSave(indexPatternSpec,overwriteAll,true)}catch(err){if(err instanceof _data_public__WEBPACK_IMPORTED_MODULE_2__["DuplicateIndexPatternError"]){const isConfirmed=await openConfirm(_osd_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("savedObjectsManagement.indexPattern.confirmOverwriteLabel",{values:{title:title},defaultMessage:"Are you sure you want to overwrite '{title}'?"}),{title:_osd_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("savedObjectsManagement.indexPattern.confirmOverwriteTitle",{defaultMessage:"Overwrite {type}?",values:{type:type}}),confirmButtonText:_osd_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("savedObjectsManagement.indexPattern.confirmOverwriteButton",{defaultMessage:"Overwrite"})});if(isConfirmed){emptyPattern=await indexPatterns.createAndSave(indexPatternSpec,true,true)}else{return}}}indexPatterns.clearCache(emptyPattern.id);return emptyPattern.id}async function importDocument(obj,doc,overwriteAll){await obj.applyOpenSearchResp({references:doc._references||[],...Object(lodash__WEBPACK_IMPORTED_MODULE_1__["cloneDeep"])(doc)});return await obj.save({confirmOverwrite:!overwriteAll})}function groupByType(docs){const defaultDocTypes={searches:[],indexPatterns:[],other:[]};return docs.reduce((types,doc)=>{switch(doc._type){case"search":types.searches.push(doc);break;case"index-pattern":types.indexPatterns.push(doc);break;default:types.other.push(doc)}return types},defaultDocTypes)}async function resolveIndexPatternConflicts(resolutions,conflictedIndexPatterns,overwriteAll,dependencies){let importCount=0;for(const{obj:obj,doc:doc}of conflictedIndexPatterns){var _doc$_source$kibanaSa;const serializedSearchSource=JSON.parse(((_doc$_source$kibanaSa=doc._source.kibanaSavedObjectMeta)===null||_doc$_source$kibanaSa===void 0?void 0:_doc$_source$kibanaSa.searchSourceJSON)||"{}");const oldIndexId=serializedSearchSource.index;let allResolved=true;const inlineResolution=resolutions.find(_ref=>{let{oldId:oldId}=_ref;return oldId===oldIndexId});if(inlineResolution){serializedSearchSource.index=inlineResolution.newId}else{allResolved=false}const filter=(serializedSearchSource.filter||[]).map(f=>{if(!(f.meta&&f.meta.index)){return f}const resolution=resolutions.find(_ref2=>{let{oldId:oldId}=_ref2;return oldId===f.meta.index});return resolution?{...f,...{meta:{...f.meta,index:resolution.newId}}}:f});if(filter.length>0){serializedSearchSource.filter=filter}const replacedReferences=(doc._references||[]).map(reference=>{const resolution=resolutions.find(_ref3=>{let{oldId:oldId}=_ref3;return oldId===reference.id});if(resolution){return{...reference,id:resolution.newId}}else{allResolved=false}return reference});const serializedSearchSourceWithInjectedReferences=Object(_data_public__WEBPACK_IMPORTED_MODULE_2__["injectSearchSourceReferences"])(serializedSearchSource,replacedReferences);if(!allResolved){continue}obj.searchSource=await dependencies.search.searchSource.create(serializedSearchSourceWithInjectedReferences);if(await saveObject(obj,overwriteAll)){importCount++}}return importCount}async function saveObjects(objs,overwriteAll){let importCount=0;for(const obj of objs){if(await saveObject(obj,overwriteAll)){importCount++}}return importCount}async function saveObject(obj,overwriteAll){return await obj.save({confirmOverwrite:!overwriteAll})}async function resolveSavedSearches(savedSearches,services,indexPatterns,overwriteAll){let importCount=0;for(const searchDoc of savedSearches){const obj=await getSavedObject(searchDoc,services);if(!obj){continue}if(await importDocument(obj,searchDoc,overwriteAll)){importCount++}}return importCount}async function resolveSavedObjects(savedObjects,overwriteAll,services,indexPatterns,confirmModalPromise){const docTypes=groupByType(savedObjects);let importedObjectCount=0;const failedImports=[];for(const indexPatternDoc of docTypes.indexPatterns){try{const importedIndexPatternId=await importIndexPattern(indexPatternDoc,indexPatterns,overwriteAll,confirmModalPromise);if(importedIndexPatternId){importedObjectCount++}}catch(error){failedImports.push({obj:indexPatternDoc,error:error})}}const conflictedSearchDocs=[];const conflictedIndexPatterns=[];const conflictedSavedObjectsLinkedToSavedSearches=[];for(const searchDoc of docTypes.searches){const obj=await getSavedObject(searchDoc,services);try{if(await importDocument(obj,searchDoc,overwriteAll)){importedObjectCount++}}catch(error){if(error.constructor.name==="SavedObjectNotFound"){if(error.savedObjectType==="index-pattern"){conflictedIndexPatterns.push({obj:obj,doc:searchDoc})}else{conflictedSearchDocs.push(searchDoc)}}else{failedImports.push({obj:obj,error:error})}}}for(const otherDoc of docTypes.other){const obj=await getSavedObject(otherDoc,services);try{if(await importDocument(obj,otherDoc,overwriteAll)){importedObjectCount++}}catch(error){const isIndexPatternNotFound=error.constructor.name==="SavedObjectNotFound"&&error.savedObjectType==="index-pattern";if(isIndexPatternNotFound&&obj.savedSearchId){conflictedSavedObjectsLinkedToSavedSearches.push(obj)}else if(isIndexPatternNotFound){conflictedIndexPatterns.push({obj:obj,doc:otherDoc})}else{failedImports.push({obj:obj,error:error})}}}return{conflictedIndexPatterns:conflictedIndexPatterns,conflictedSavedObjectsLinkedToSavedSearches:conflictedSavedObjectsLinkedToSavedSearches,conflictedSearchDocs:conflictedSearchDocs,importedObjectCount:importedObjectCount,failedImports:failedImports}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(cssWithMappingToString){var list=[];list.toString=function toString(){return this.map((function(item){var content=cssWithMappingToString(item);if(item[2]){return"@media ".concat(item[2]," {").concat(content,"}")}return content})).join("")};list.i=function(modules,mediaQuery,dedupe){if(typeof modules==="string"){modules=[[null,modules,""]]}var alreadyImportedModules={};if(dedupe){for(var i=0;i<this.length;i++){var id=this[i][0];if(id!=null){alreadyImportedModules[id]=true}}}for(var _i=0;_i<modules.length;_i++){var item=[].concat(modules[_i]);if(dedupe&&alreadyImportedModules[item[0]]){continue}if(mediaQuery){if(!item[2]){item[2]=mediaQuery}else{item[2]="".concat(mediaQuery," and ").concat(item[2])}}list.push(item)}};return list}},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__osdBundles__.get("entry/core/public/utils");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__osdSharedDeps__.Moment},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);function useMountedState(){var mountedRef=react_1.useRef(false);var get=react_1.useCallback((function(){return mountedRef.current}),[]);react_1.useEffect((function(){mountedRef.current=true;return function(){mountedRef.current=false}}));return get}exports.default=useMountedState},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var incrementParameter=function(num){return++num%1e6};var useUpdate=function(){var _a=react_1.useState(0),setState=_a[1];return react_1.useCallback((function(){return setState(incrementParameter)}),[])};exports.default=useUpdate},function(module,exports,__webpack_require__){"use strict";var isOldIE=function isOldIE(){var memo;return function memorize(){if(typeof memo==="undefined"){memo=Boolean(window&&document&&document.all&&!window.atob)}return memo}}();var getTarget=function getTarget(){var memo={};return function memorize(target){if(typeof memo[target]==="undefined"){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement){try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}}memo[target]=styleTarget}return memo[target]}}();var stylesInDom=[];function getIndexByIdentifier(identifier){var result=-1;for(var i=0;i<stylesInDom.length;i++){if(stylesInDom[i].identifier===identifier){result=i;break}}return result}function modulesToDom(list,options){var idCountMap={};var identifiers=[];for(var i=0;i<list.length;i++){var item=list[i];var id=options.base?item[0]+options.base:item[0];var count=idCountMap[id]||0;var identifier="".concat(id," ").concat(count);idCountMap[id]=count+1;var index=getIndexByIdentifier(identifier);var obj={css:item[1],media:item[2],sourceMap:item[3]};if(index!==-1){stylesInDom[index].references++;stylesInDom[index].updater(obj)}else{stylesInDom.push({identifier:identifier,updater:addStyle(obj,options),references:1})}identifiers.push(identifier)}return identifiers}function insertStyleElement(options){var style=document.createElement("style");var attributes=options.attributes||{};if(typeof attributes.nonce==="undefined"){var nonce=true?__webpack_require__.nc:undefined;if(nonce){attributes.nonce=nonce}}Object.keys(attributes).forEach((function(key){style.setAttribute(key,attributes[key])}));if(typeof options.insert==="function"){options.insert(style)}else{var target=getTarget(options.insert||"head");if(!target){throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.")}target.appendChild(style)}return style}function removeStyleElement(style){if(style.parentNode===null){return false}style.parentNode.removeChild(style)}var replaceText=function replaceText(){var textStore=[];return function replace(index,replacement){textStore[index]=replacement;return textStore.filter(Boolean).join("\n")}}();function applyToSingletonTag(style,index,remove,obj){var css=remove?"":obj.media?"@media ".concat(obj.media," {").concat(obj.css,"}"):obj.css;if(style.styleSheet){style.styleSheet.cssText=replaceText(index,css)}else{var cssNode=document.createTextNode(css);var childNodes=style.childNodes;if(childNodes[index]){style.removeChild(childNodes[index])}if(childNodes.length){style.insertBefore(cssNode,childNodes[index])}else{style.appendChild(cssNode)}}}function applyToTag(style,options,obj){var css=obj.css;var media=obj.media;var sourceMap=obj.sourceMap;if(media){style.setAttribute("media",media)}else{style.removeAttribute("media")}if(sourceMap&&typeof btoa!=="undefined"){css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")}if(style.styleSheet){style.styleSheet.cssText=css}else{while(style.firstChild){style.removeChild(style.firstChild)}style.appendChild(document.createTextNode(css))}}var singleton=null;var singletonCounter=0;function addStyle(obj,options){var style;var update;var remove;if(options.singleton){var styleIndex=singletonCounter++;style=singleton||(singleton=insertStyleElement(options));update=applyToSingletonTag.bind(null,style,styleIndex,false);remove=applyToSingletonTag.bind(null,style,styleIndex,true)}else{style=insertStyleElement(options);update=applyToTag.bind(null,style,options);remove=function remove(){removeStyleElement(style)}}update(obj);return function updateStyle(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap){return}update(obj=newObj)}else{remove()}}}module.exports=function(list,options){options=options||{};if(!options.singleton&&typeof options.singleton!=="boolean"){options.singleton=isOldIE()}list=list||[];var lastIdentifiers=modulesToDom(list,options);return function update(newList){newList=newList||[];if(Object.prototype.toString.call(newList)!=="[object Array]"){return}for(var i=0;i<lastIdentifiers.length;i++){var identifier=lastIdentifiers[i];var index=getIndexByIdentifier(identifier);stylesInDom[index].references--}var newLastIdentifiers=modulesToDom(newList,options);for(var _i=0;_i<lastIdentifiers.length;_i++){var _identifier=lastIdentifiers[_i];var _index=getIndexByIdentifier(_identifier);if(stylesInDom[_index].references===0){stylesInDom[_index].updater();stylesInDom.splice(_index,1)}}lastIdentifiers=newLastIdentifiers}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return formatWorkspaceIdParams}));__webpack_require__.d(__webpack_exports__,"a",(function(){return formatInspectUrl}));var _core_public_utils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10);var _core_public_utils__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_core_public_utils__WEBPACK_IMPORTED_MODULE_0__);function formatWorkspaceIdParams(obj){const{workspaces:workspaces,availableWorkspaces:availableWorkspaces,...others}=obj;if(workspaces||availableWorkspaces&&availableWorkspaces.length){return obj}return others}function formatInspectUrl(savedObject,coreStart){const{editUrl:editUrl}=savedObject.meta;const useUpdatedUX=!!coreStart.uiSettings.get("home:useNewHomePage");let finalEditUrl=editUrl;if(useUpdatedUX&&finalEditUrl){finalEditUrl=finalEditUrl.replace(/^\/management\/opensearch-dashboards/,"")}if(finalEditUrl){finalEditUrl=`/app${finalEditUrl}`;const basePath=coreStart.http.basePath;let inAppUrl=basePath.prepend(finalEditUrl);const workspaceEnabled=coreStart.application.capabilities.workspaces.enabled;if(workspaceEnabled){const currentWorkspace=coreStart.workspaces.currentWorkspace$.value;if(currentWorkspace){inAppUrl=Object(_core_public_utils__WEBPACK_IMPORTED_MODULE_0__["formatUrlWithWorkspaceId"])(finalEditUrl,currentWorkspace.id,basePath)}else{var _coreStart$workspaces,_savedObject$workspac;const visibleWsIds=((_coreStart$workspaces=coreStart.workspaces.workspaceList$.value)===null||_coreStart$workspaces===void 0?void 0:_coreStart$workspaces.map(ws=>ws.id))||[];const workspaceId=savedObject===null||savedObject===void 0||(_savedObject$workspac=savedObject.workspaces)===null||_savedObject$workspac===void 0?void 0:_savedObject$workspac.find(wsId=>visibleWsIds.includes(wsId));if(workspaceId){inAppUrl=Object(_core_public_utils__WEBPACK_IMPORTED_MODULE_0__["formatUrlWithWorkspaceId"])(finalEditUrl,workspaceId,basePath)}}}return inAppUrl}}},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__osdBundles__.get("plugin/data/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var useFirstMountState_1=__webpack_require__(23);var useUpdateEffect=function(effect,deps){var isFirstMount=useFirstMountState_1.useFirstMountState();react_1.useEffect((function(){if(!isFirstMount){return effect()}}),deps)};exports.default=useUpdateEffect},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var useSetState=function(initialState){if(initialState===void 0){initialState={}}var _a=react_1.useState(initialState),state=_a[0],set=_a[1];var setState=react_1.useCallback((function(patch){set((function(prevState){return Object.assign({},prevState,patch instanceof Function?patch(prevState):patch)}))}),[set]);return[state,setState]};exports.default=useSetState},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var useEffectOnce=function(effect){react_1.useEffect(effect,[])};exports.default=useEffectOnce},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(0);var useUnmount_1=tslib_1.__importDefault(__webpack_require__(25));var useRafState=function(initialState){var frame=react_1.useRef(0);var _a=react_1.useState(initialState),state=_a[0],setState=_a[1];var setRafState=react_1.useCallback((function(value){cancelAnimationFrame(frame.current);frame.current=requestAnimationFrame((function(){setState(value)}))}),[]);useUnmount_1.default((function(){cancelAnimationFrame(frame.current)}));return[state,setRafState]};exports.default=useRafState},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SAVED_OBJECT_DELETE_TRIGGER}));__webpack_require__.d(__webpack_exports__,"b",(function(){return savedObjectDeleteTrigger}));var external_osdSharedDeps_OsdI18n_=__webpack_require__(2);const SAVED_OBJECT_DELETE_TRIGGER="SAVED_OBJECT_DELETE_TRIGGER";const savedObjectDeleteTrigger={id:SAVED_OBJECT_DELETE_TRIGGER,title:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.triggers.savedObjectDeleteTitle",{defaultMessage:"Saved object delete"}),description:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.triggers.savedObjectDeleteDescription",{defaultMessage:"Perform additional actions after deleting a saved object"})}},function(module,exports){module.exports=__osdSharedDeps__.ReactRouterDom},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);function useFirstMountState(){var isFirst=react_1.useRef(true);if(isFirst.current){isFirst.current=false;return true}return isFirst.current}exports.useFirstMountState=useFirstMountState},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function resolveHookState(newState,currentState){if(typeof newState==="function"){return newState(currentState)}return newState}exports.resolveHookState=resolveHookState},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(0);var useEffectOnce_1=tslib_1.__importDefault(__webpack_require__(19));var useUnmount=function(fn){var fnRef=react_1.useRef(fn);fnRef.current=fn;useEffectOnce_1.default((function(){return function(){return fnRef.current()}}))};exports.default=useUnmount},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var createMemo_1=__webpack_require__(57);exports.createMemo=createMemo_1.default;var createReducerContext_1=__webpack_require__(58);exports.createReducerContext=createReducerContext_1.default;var createReducer_1=__webpack_require__(59);exports.createReducer=createReducer_1.default;var createStateContext_1=__webpack_require__(60);exports.createStateContext=createStateContext_1.default;var useAsync_1=__webpack_require__(35);exports.useAsync=useAsync_1.default;var useAsyncFn_1=__webpack_require__(36);exports.useAsyncFn=useAsyncFn_1.default;var useAsyncRetry_1=__webpack_require__(61);exports.useAsyncRetry=useAsyncRetry_1.default;var useAudio_1=__webpack_require__(62);exports.useAudio=useAudio_1.default;var useBattery_1=__webpack_require__(64);exports.useBattery=useBattery_1.default;var useBeforeUnload_1=__webpack_require__(66);exports.useBeforeUnload=useBeforeUnload_1.default;var useBoolean_1=__webpack_require__(67);exports.useBoolean=useBoolean_1.default;var useClickAway_1=__webpack_require__(68);exports.useClickAway=useClickAway_1.default;var useCookie_1=__webpack_require__(69);exports.useCookie=useCookie_1.default;var useCopyToClipboard_1=__webpack_require__(71);exports.useCopyToClipboard=useCopyToClipboard_1.default;var useCounter_1=__webpack_require__(39);exports.useCounter=useCounter_1.default;var useCss_1=__webpack_require__(74);exports.useCss=useCss_1.default;var useCustomCompareEffect_1=__webpack_require__(30);exports.useCustomCompareEffect=useCustomCompareEffect_1.default;var useDebounce_1=__webpack_require__(80);exports.useDebounce=useDebounce_1.default;var useDeepCompareEffect_1=__webpack_require__(81);exports.useDeepCompareEffect=useDeepCompareEffect_1.default;var useDefault_1=__webpack_require__(82);exports.useDefault=useDefault_1.default;var useDrop_1=__webpack_require__(83);exports.useDrop=useDrop_1.default;var useDropArea_1=__webpack_require__(84);exports.useDropArea=useDropArea_1.default;var useEffectOnce_1=__webpack_require__(19);exports.useEffectOnce=useEffectOnce_1.default;var useEnsuredForwardedRef_1=__webpack_require__(85);exports.useEnsuredForwardedRef=useEnsuredForwardedRef_1.default;exports.ensuredForwardRef=useEnsuredForwardedRef_1.ensuredForwardRef;var useEvent_1=__webpack_require__(41);exports.useEvent=useEvent_1.default;var useError_1=__webpack_require__(86);exports.useError=useError_1.default;var useFavicon_1=__webpack_require__(87);exports.useFavicon=useFavicon_1.default;var useFullscreen_1=__webpack_require__(88);exports.useFullscreen=useFullscreen_1.default;var useGeolocation_1=__webpack_require__(90);exports.useGeolocation=useGeolocation_1.default;var useGetSet_1=__webpack_require__(40);exports.useGetSet=useGetSet_1.default;var useGetSetState_1=__webpack_require__(91);exports.useGetSetState=useGetSetState_1.default;var useHarmonicIntervalFn_1=__webpack_require__(92);exports.useHarmonicIntervalFn=useHarmonicIntervalFn_1.default;var useHover_1=__webpack_require__(94);exports.useHover=useHover_1.default;var useHoverDirty_1=__webpack_require__(42);exports.useHoverDirty=useHoverDirty_1.default;var useIdle_1=__webpack_require__(95);exports.useIdle=useIdle_1.default;var useIntersection_1=__webpack_require__(97);exports.useIntersection=useIntersection_1.default;var useInterval_1=__webpack_require__(98);exports.useInterval=useInterval_1.default;var useIsomorphicLayoutEffect_1=__webpack_require__(43);exports.useIsomorphicLayoutEffect=useIsomorphicLayoutEffect_1.default;var useKey_1=__webpack_require__(44);exports.useKey=useKey_1.default;var createBreakpoint_1=__webpack_require__(99);exports.createBreakpoint=createBreakpoint_1.default;var useKeyPress_1=__webpack_require__(45);exports.useKeyPress=useKeyPress_1.default;var useKeyPressEvent_1=__webpack_require__(100);exports.useKeyPressEvent=useKeyPressEvent_1.default;var useLifecycles_1=__webpack_require__(101);exports.useLifecycles=useLifecycles_1.default;var useList_1=__webpack_require__(46);exports.useList=useList_1.default;var useLocalStorage_1=__webpack_require__(102);exports.useLocalStorage=useLocalStorage_1.default;var useLocation_1=__webpack_require__(103);exports.useLocation=useLocation_1.default;var useLockBodyScroll_1=__webpack_require__(104);exports.useLockBodyScroll=useLockBodyScroll_1.default;var useLogger_1=__webpack_require__(105);exports.useLogger=useLogger_1.default;var useLongPress_1=__webpack_require__(106);exports.useLongPress=useLongPress_1.default;var useMap_1=__webpack_require__(107);exports.useMap=useMap_1.default;var useMedia_1=__webpack_require__(108);exports.useMedia=useMedia_1.default;var useMediaDevices_1=__webpack_require__(109);exports.useMediaDevices=useMediaDevices_1.default;var useMediatedState_1=__webpack_require__(110);exports.useMediatedState=useMediatedState_1.useMediatedState;var useMethods_1=__webpack_require__(111);exports.useMethods=useMethods_1.default;var useMotion_1=__webpack_require__(112);exports.useMotion=useMotion_1.default;var useMount_1=__webpack_require__(47);exports.useMount=useMount_1.default;var useMountedState_1=__webpack_require__(12);exports.useMountedState=useMountedState_1.default;var useMouse_1=__webpack_require__(48);exports.useMouse=useMouse_1.default;var useMouseHovered_1=__webpack_require__(113);exports.useMouseHovered=useMouseHovered_1.default;var useNetwork_1=__webpack_require__(114);exports.useNetwork=useNetwork_1.default;var useNumber_1=__webpack_require__(115);exports.useNumber=useNumber_1.default;var useObservable_1=__webpack_require__(116);exports.useObservable=useObservable_1.default;var useOrientation_1=__webpack_require__(117);exports.useOrientation=useOrientation_1.default;var usePageLeave_1=__webpack_require__(118);exports.usePageLeave=usePageLeave_1.default;var usePermission_1=__webpack_require__(119);exports.usePermission=usePermission_1.default;var usePrevious_1=__webpack_require__(120);exports.usePrevious=usePrevious_1.default;var usePreviousDistinct_1=__webpack_require__(121);exports.usePreviousDistinct=usePreviousDistinct_1.default;var usePromise_1=__webpack_require__(122);exports.usePromise=usePromise_1.default;var useQueue_1=__webpack_require__(123);exports.useQueue=useQueue_1.default;var useRaf_1=__webpack_require__(49);exports.useRaf=useRaf_1.default;var useRafLoop_1=__webpack_require__(124);exports.useRafLoop=useRafLoop_1.default;var useRafState_1=__webpack_require__(20);exports.useRafState=useRafState_1.default;var useSearchParam_1=__webpack_require__(125);exports.useSearchParam=useSearchParam_1.default;var useScroll_1=__webpack_require__(126);exports.useScroll=useScroll_1.default;var useScrolling_1=__webpack_require__(127);exports.useScrolling=useScrolling_1.default;var useSessionStorage_1=__webpack_require__(128);exports.useSessionStorage=useSessionStorage_1.default;var useSetState_1=__webpack_require__(18);exports.useSetState=useSetState_1.default;var useShallowCompareEffect_1=__webpack_require__(129);exports.useShallowCompareEffect=useShallowCompareEffect_1.default;var useSize_1=__webpack_require__(131);exports.useSize=useSize_1.default;var useSlider_1=__webpack_require__(132);exports.useSlider=useSlider_1.default;var useSpeech_1=__webpack_require__(133);exports.useSpeech=useSpeech_1.default;var useStartTyping_1=__webpack_require__(134);exports.useStartTyping=useStartTyping_1.default;var useStateWithHistory_1=__webpack_require__(135);exports.useStateWithHistory=useStateWithHistory_1.useStateWithHistory;var useStateList_1=__webpack_require__(136);exports.useStateList=useStateList_1.default;var useThrottle_1=__webpack_require__(137);exports.useThrottle=useThrottle_1.default;var useThrottleFn_1=__webpack_require__(138);exports.useThrottleFn=useThrottleFn_1.default;var useTimeout_1=__webpack_require__(139);exports.useTimeout=useTimeout_1.default;var useTimeoutFn_1=__webpack_require__(31);exports.useTimeoutFn=useTimeoutFn_1.default;var useTitle_1=__webpack_require__(140);exports.useTitle=useTitle_1.default;var useToggle_1=__webpack_require__(38);exports.useToggle=useToggle_1.default;var useTween_1=__webpack_require__(141);exports.useTween=useTween_1.default;var useUnmount_1=__webpack_require__(25);exports.useUnmount=useUnmount_1.default;var useUnmountPromise_1=__webpack_require__(143);exports.useUnmountPromise=useUnmountPromise_1.default;var useUpdate_1=__webpack_require__(13);exports.useUpdate=useUpdate_1.default;var useUpdateEffect_1=__webpack_require__(17);exports.useUpdateEffect=useUpdateEffect_1.default;var useUpsert_1=__webpack_require__(144);exports.useUpsert=useUpsert_1.default;var useVibrate_1=__webpack_require__(145);exports.useVibrate=useVibrate_1.default;var useVideo_1=__webpack_require__(146);exports.useVideo=useVideo_1.default;var useStateValidator_1=__webpack_require__(147);exports.useStateValidator=useStateValidator_1.default;var useScrollbarWidth_1=__webpack_require__(148);exports.useScrollbarWidth=useScrollbarWidth_1.useScrollbarWidth;var useMultiStateValidator_1=__webpack_require__(150);exports.useMultiStateValidator=useMultiStateValidator_1.useMultiStateValidator;var useWindowScroll_1=__webpack_require__(151);exports.useWindowScroll=useWindowScroll_1.default;var useWindowSize_1=__webpack_require__(152);exports.useWindowSize=useWindowSize_1.default;var useMeasure_1=__webpack_require__(153);exports.useMeasure=useMeasure_1.default;var useRendersCount_1=__webpack_require__(155);exports.useRendersCount=useRendersCount_1.useRendersCount;var useFirstMountState_1=__webpack_require__(23);exports.useFirstMountState=useFirstMountState_1.useFirstMountState;var useSet_1=__webpack_require__(156);exports.useSet=useSet_1.default;var createGlobalState_1=__webpack_require__(157);exports.createGlobalState=createGlobalState_1.createGlobalState},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__osdBundles__.get("plugin/opensearchDashboardsReact/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"SavedObjectsManagementPluginSetup",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"SavedObjectsManagementPluginStart",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"SavedObjectsManagementActionServiceSetup",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"SavedObjectsManagementActionServiceStart",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"SavedObjectsManagementAction",(function(){return SavedObjectsManagementAction}));__webpack_require__.d(__webpack_exports__,"SavedObjectsManagementColumnServiceSetup",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"SavedObjectsManagementColumnServiceStart",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"SavedObjectsManagementColumn",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"SavedObjectsManagementNamespaceServiceSetup",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"SavedObjectsManagementNamespaceServiceStart",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"SavedObjectsManagementNamespace",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"SavedObjectsManagementRecord",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"ISavedObjectsManagementServiceRegistry",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"SavedObjectsManagementServiceRegistryEntry",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"ProcessedImportResponse",(function(){return public_lib["ProcessedImportResponse"]}));__webpack_require__.d(__webpack_exports__,"processImportResponse",(function(){return public_lib["processImportResponse"]}));__webpack_require__.d(__webpack_exports__,"FailedImport",(function(){return public_lib["FailedImport"]}));__webpack_require__.d(__webpack_exports__,"getSavedObjectLabel",(function(){return public_lib["getSavedObjectLabel"]}));__webpack_require__.d(__webpack_exports__,"SavedObjectRelation",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"SavedObjectWithMetadata",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"SavedObjectMetadata",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"SAVED_OBJECT_DELETE_TRIGGER",(function(){return triggers["a"]}));__webpack_require__.d(__webpack_exports__,"savedObjectDeleteTrigger",(function(){return triggers["b"]}));__webpack_require__.d(__webpack_exports__,"SavedObjectDeleteContext",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"SavedObjectsDuplicateModal",(function(){return management_section["SavedObjectsDuplicateModal"]}));__webpack_require__.d(__webpack_exports__,"plugin",(function(){return public_plugin}));var external_osdSharedDeps_React_=__webpack_require__(0);var external_osdSharedDeps_React_default=__webpack_require__.n(external_osdSharedDeps_React_);var external_osdSharedDeps_OsdI18n_=__webpack_require__(2);var public_=__webpack_require__(52);function _defineProperty(obj,key,value){key=_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function _toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}class SavedObjectsManagementActionService{constructor(){_defineProperty(this,"actions",new Map)}setup(){return{register:action=>{if(this.actions.has(action.id)){throw new Error(`Saved Objects Management Action with id '${action.id}' already exists`)}this.actions.set(action.id,action)}}}start(){return{has:actionId=>this.actions.has(actionId),getAll:()=>[...this.actions.values()]}}}function column_service_defineProperty(obj,key,value){key=column_service_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function column_service_toPropertyKey(arg){var key=column_service_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function column_service_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}class SavedObjectsManagementColumnService{constructor(){column_service_defineProperty(this,"columns",new Map)}setup(){return{register:column=>{if(this.columns.has(column.id)){throw new Error(`Saved Objects Management Column with id '${column.id}' already exists`)}this.columns.set(column.id,column)}}}start(){return{getAll:()=>[...this.columns.values()]}}}function namespace_service_defineProperty(obj,key,value){key=namespace_service_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function namespace_service_toPropertyKey(arg){var key=namespace_service_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function namespace_service_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}class SavedObjectsManagementNamespaceService{constructor(){namespace_service_defineProperty(this,"namespaces",new Map);namespace_service_defineProperty(this,"alias",void 0)}setup(){return{register:ns=>{if(this.namespaces.has(ns.id)){throw new Error(`Saved Objects Management Namespace with id '${ns.id}' already exists`)}this.namespaces.set(ns.id,ns)},registerAlias:alias=>{if(!!this.alias){throw new Error(`An alias has already been registered. Cannot register more than one alias.`)}this.alias=alias}}}start(){return{getAll:()=>[...this.namespaces.values()],getAlias:()=>this.alias}}}function service_registry_defineProperty(obj,key,value){key=service_registry_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function service_registry_toPropertyKey(arg){var key=service_registry_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function service_registry_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}class SavedObjectsManagementServiceRegistry{constructor(){service_registry_defineProperty(this,"registry",new Map)}register(entry){if(this.registry.has(entry.id)){throw new Error("")}this.registry.set(entry.id,entry)}all(){return[...this.registry.values()]}get(id){return this.registry.get(id)}}function action_defineProperty(obj,key,value){key=action_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function action_toPropertyKey(arg){var key=action_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function action_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}class SavedObjectsManagementAction{constructor(){action_defineProperty(this,"render",void 0);action_defineProperty(this,"id",void 0);action_defineProperty(this,"euiAction",void 0);action_defineProperty(this,"refreshOnFinish",void 0);action_defineProperty(this,"callbacks",[]);action_defineProperty(this,"record",null)}registerOnFinishCallback(callback){this.callbacks.push(callback)}start(record){this.record=record}finish(){this.record=null;this.callbacks.forEach(callback=>callback())}}const registerServices=async(registry,getStartServices)=>{const[,{home:home,dashboard:dashboard,visualizations:visualizations,visAugmenter:visAugmenter,discover:discover,visBuilder:visBuilder}]=await getStartServices();if(home){registry.register({id:"savedHomepage",title:"homepage",service:home.getSavedHomepageLoader()})}if(dashboard){registry.register({id:"savedDashboards",title:"dashboards",service:dashboard.getSavedDashboardLoader()})}if(visualizations){registry.register({id:"savedVisualizations",title:"visualizations",service:visualizations.savedVisualizationsLoader})}if(visAugmenter){registry.register({id:"savedAugmentVis",title:"augmentVis",service:visAugmenter.savedAugmentVisLoader})}if(discover){registry.register({id:"savedSearches",title:"searches",service:discover.savedSearchLoader})}if(visBuilder){registry.register({id:"savedVisBuilder",title:"visBuilder",service:visBuilder.savedVisBuilderLoader})}};var triggers=__webpack_require__(21);const bootstrap=uiActions=>{uiActions.registerTrigger(triggers["b"])};var core_public_=__webpack_require__(53);var external_osdSharedDeps_Moment_=__webpack_require__(11);var external_osdSharedDeps_Moment_default=__webpack_require__.n(external_osdSharedDeps_Moment_);var external_osdSharedDeps_ElasticEui_=__webpack_require__(1);var lib=__webpack_require__(26);var utils_=__webpack_require__(10);var public_lib=__webpack_require__(4);const allOption=external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.recentWorkSection.all.items",{defaultMessage:"All items"});const recentlyViewed=external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.recentWorkSection.recentlyViewed",{defaultMessage:"Recently viewed"});const recentlyUpdated=external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.recentWorkSection.recentlyUpdated",{defaultMessage:"Recently updated"});const sortKeyMap={[recentlyViewed]:"lastAccessedTime",[recentlyUpdated]:"updatedAt"};function sortBy(key){return(a,b)=>a[key]>b[key]?-1:b[key]>a[key]?1:0}const bulkGetDetail=(savedObjects,http)=>Promise.all(savedObjects.map(obj=>http.get(`/api/opensearch-dashboards/management/saved_objects/${encodeURIComponent(obj.type)}/${encodeURIComponent(obj.id)}`).catch(error=>({id:obj.id,type:obj.type,error:error,attributes:{},references:[],meta:{},updated_at:""}))));const widthForTypeSelector=220;const widthForRightMargin=4;const MAX_ITEMS_DISPLAY=6;const RecentWork=props=>{const{core:core,workspaceEnabled:workspaceEnabled}=props;const recently$Ref=Object(external_osdSharedDeps_React_["useRef"])(core.chrome.recentlyAccessed.get$());const recentAccessed=Object(lib["useObservable"])(recently$Ref.current,[]);const workspaceList=Object(lib["useObservable"])(core.workspaces.workspaceList$,[]);const currentWorkspace=Object(lib["useObservable"])(core.workspaces.currentWorkspace$,null);const[selectedType,setSelectedType]=Object(external_osdSharedDeps_React_["useState"])(allOption);const[selectedSort,setSelectedSort]=Object(external_osdSharedDeps_React_["useState"])(recentlyViewed);const[detailedSavedObjects,setDetailedSavedObjects]=Object(external_osdSharedDeps_React_["useState"])([]);const[isLoading,setIsLoading]=Object(external_osdSharedDeps_React_["useState"])(false);const useUpdatedUX=core.chrome.navGroup.getNavGroupEnabled();const allOptions=Object(external_osdSharedDeps_React_["useMemo"])(()=>{const options=[allOption];detailedSavedObjects.filter(item=>!item.error).forEach(recentAccessItem=>{if(recentAccessItem!==null&&recentAccessItem!==void 0&&recentAccessItem.type&&options.indexOf(recentAccessItem===null||recentAccessItem===void 0?void 0:recentAccessItem.type)===-1){options.push(recentAccessItem===null||recentAccessItem===void 0?void 0:recentAccessItem.type)}});return options.map(option=>({label:option,value:option}))},[detailedSavedObjects]);const capitalTheFirstLetter=function(str){return str?str.charAt(0).toUpperCase()+str.slice(1):""};const itemsForDisplay=Object(external_osdSharedDeps_React_["useMemo"])(()=>[...detailedSavedObjects].filter(item=>{if(item.error)return false;if(selectedType===allOption)return true;return item.type===selectedType}),[detailedSavedObjects,selectedType]);const constructInAppUrl=Object(external_osdSharedDeps_React_["useCallback"])(object=>{var _object$workspaces;const{path:path=""}=object.meta.inAppUrl||{};let finalPath=path;if(useUpdatedUX&&finalPath){finalPath=finalPath.replace(/^\/app\/management\/opensearch-dashboards/,"/app")}const basePath=core.http.basePath;let inAppUrl=basePath.prepend(finalPath);if((_object$workspaces=object.workspaces)!==null&&_object$workspaces!==void 0&&_object$workspaces.length){if(currentWorkspace){inAppUrl=Object(utils_["formatUrlWithWorkspaceId"])(finalPath,currentWorkspace.id,basePath)}else{const workspace=workspaceList.find(item=>{var _object$workspaces2;return(_object$workspaces2=object.workspaces)===null||_object$workspaces2===void 0?void 0:_object$workspaces2.includes(item.id)});if(workspace){inAppUrl=Object(utils_["formatUrlWithWorkspaceId"])(finalPath,workspace.id,basePath)}}}return inAppUrl},[core.http.basePath,currentWorkspace,useUpdatedUX,workspaceList]);const getRecentlyUpdated=Object(external_osdSharedDeps_React_["useCallback"])(async()=>{try{const allowedTypes=["dashboard","visualization","search","query","index-pattern","visualization-visbuilder"];const findOptions={type:allowedTypes,sortField:"updated_at",sortOrder:"desc",workspaces:currentWorkspace?[currentWorkspace.id]:undefined,page:1};const res=await Object(public_lib["findObjects"])(core.http,findOptions);const savedObjects=res.savedObjects.map(obj=>{const findWorkspace=workspaceList.find(workspace=>{var _obj$workspaces;return(_obj$workspaces=obj.workspaces)===null||_obj$workspaces===void 0?void 0:_obj$workspaces.includes(workspace.id)});return{...obj,updatedAt:external_osdSharedDeps_Moment_default()(obj===null||obj===void 0?void 0:obj.updated_at).valueOf(),lastAccessedTime:external_osdSharedDeps_Moment_default()(obj===null||obj===void 0?void 0:obj.updated_at).valueOf(),workspaceName:findWorkspace===null||findWorkspace===void 0?void 0:findWorkspace.name,label:obj.meta.title,link:constructInAppUrl(obj)}}).sort(sortBy(sortKeyMap[recentlyUpdated]));setDetailedSavedObjects(savedObjects)}finally{setIsLoading(false)}},[constructInAppUrl,core.http,currentWorkspace,workspaceList]);const getRecentAccessed=Object(external_osdSharedDeps_React_["useCallback"])(()=>{setIsLoading(true);try{const savedObjects=recentAccessed.filter(item=>{var _item$meta;return((_item$meta=item.meta)===null||_item$meta===void 0?void 0:_item$meta.type)&&(!currentWorkspace||currentWorkspace&&item.workspaceId===currentWorkspace.id)}).map(item=>{var _item$meta2;return{type:((_item$meta2=item.meta)===null||_item$meta2===void 0?void 0:_item$meta2.type)||"",id:item.id}});if(savedObjects.length){bulkGetDetail(savedObjects,core.http).then(res=>{const formatDetailedSavedObjects=res.map(obj=>{const recentAccessItem=recentAccessed.find(item=>item.id===obj.id);const findWorkspace=workspaceList.find(workspace=>workspace.id===recentAccessItem.workspaceId);const{link:link,label:label,workspaceId:workspaceId}=recentAccessItem;const basePath=core.http.basePath;const href=Object(utils_["formatUrlWithWorkspaceId"])(link,workspaceId||"",basePath);return{...recentAccessItem,...obj,...recentAccessItem.meta,workspaceName:findWorkspace===null||findWorkspace===void 0?void 0:findWorkspace.name,updatedAt:external_osdSharedDeps_Moment_default()(obj===null||obj===void 0?void 0:obj.updated_at).valueOf(),link:workspaceEnabled?href:link,label:label||obj.meta.title}}).sort(sortBy(sortKeyMap[recentlyViewed]));setDetailedSavedObjects(formatDetailedSavedObjects)})}else{setDetailedSavedObjects([])}}finally{setIsLoading(false)}},[core.http,currentWorkspace,recentAccessed,workspaceList,workspaceEnabled]);Object(external_osdSharedDeps_React_["useEffect"])(()=>{setSelectedType(allOption);if(selectedSort===recentlyUpdated){getRecentlyUpdated()}else{getRecentAccessed()}},[getRecentlyUpdated,getRecentAccessed,selectedSort]);return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPanel"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexStart",alignItems:"center",gutterSize:"xs"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_osdSharedDeps_React_default.a.createElement("h2",null,external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.recentWorkSection.title",{defaultMessage:"Assets"})))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiToolTip"],{display:"inlineBlock",position:"right",content:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.recentWorkSection.assetsInfo",{defaultMessage:"Dashboards, visualizations, saved queries, and other assets within your Workspaces."}),"data-test-subj":"assetsTooltip"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiIcon"],{type:"iInCircle"}))))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFilterGroup"],null,[recentlyViewed,recentlyUpdated].map(item=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFilterButton"],{hasActiveFilters:selectedSort===item,key:item,onClick:()=>setSelectedSort(item),"data-test-subj":`filterButton-${encodeURIComponent(item)}`},item)))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiComboBox"],{style:{width:widthForTypeSelector},isClearable:false,options:allOptions,singleSelection:{asPlainText:true},onChange:options=>setSelectedType(options[0].value||""),selectedOptions:[{label:selectedType,value:selectedType}]}))))),itemsForDisplay.length?external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],null,Array.from({length:MAX_ITEMS_DISPLAY}).map((item,itemIndexInRow)=>{const recentAccessItem=itemsForDisplay[itemIndexInRow];let content=null;if(recentAccessItem){content=external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCard"],{title:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexStart",alignItems:"center",gutterSize:"none"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiIcon"],{style:{marginRight:widthForRightMargin},type:recentAccessItem.meta.icon||"apps",color:"subdued"})),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"xs",color:"subdued"},capitalTheFirstLetter(recentAccessItem.type)))),"data-test-subj":"recentlyCard",description:external_osdSharedDeps_React_default.a.createElement("h3",{className:"eui-textBreakAll"},recentAccessItem.label),textAlign:"left",href:recentAccessItem.link,footer:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween",direction:"column",gutterSize:"none"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGrid"],{columns:2,gutterSize:"s"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"xs",color:"default"},selectedSort===recentlyViewed?external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.recentWorkSection.viewedAt",{defaultMessage:"Viewed"}):external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.recentWorkSection.updatedAt",{defaultMessage:"Updated"}),":"," ")),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:1,className:"eui-textRight"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"xs",color:"default"},external_osdSharedDeps_React_default.a.createElement("b",null,selectedSort===recentlyViewed?external_osdSharedDeps_Moment_default()(recentAccessItem===null||recentAccessItem===void 0?void 0:recentAccessItem.lastAccessedTime).fromNow():external_osdSharedDeps_Moment_default()(recentAccessItem===null||recentAccessItem===void 0?void 0:recentAccessItem.updatedAt).fromNow()))))),workspaceEnabled&&!currentWorkspace&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGrid"],{columns:2,gutterSize:"s"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"xs",color:"default"},external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.recentWorkSection.workspace",{defaultMessage:"Workspace"}),":")),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:1,className:"eui-textRight"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"xs",color:"default"},external_osdSharedDeps_React_default.a.createElement("b",null,recentAccessItem.workspaceName||"N/A"," "))))))})}return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{key:(recentAccessItem===null||recentAccessItem===void 0?void 0:recentAccessItem.id)||itemIndexInRow},content)})):isLoading?external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiEmptyPrompt"],{icon:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiLoadingLogo"],{logo:"savedObjectsApp",size:"xl"}),title:external_osdSharedDeps_React_default.a.createElement("h3",null,"Loading Assets")}):external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiEmptyPrompt"],{title:external_osdSharedDeps_React_default.a.createElement("h3",null,external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.recentWorkSection.empty.title",{defaultMessage:"No assets to display"})),body:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"s",justifyContent:"spaceBetween",alignItems:"center",direction:"column"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{color:"subdued",size:"s"},external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.recentWorkSection.empty.body",{defaultMessage:"The recent assets will appear here."}))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSmallButton"],{iconType:"popout",iconSide:"right",iconGap:"none",target:"_blank",href:core.application.getUrlForApp(APP_ID)},external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.recentWorkSection.empty.manageAssets",{defaultMessage:"Manage assets"}))))}),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiLink"],{target:"_blank",onClick:()=>core.application.navigateToApp(APP_ID)},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s",className:"eui-displayInline"},external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.recentWorkSection.view_all",{defaultMessage:"View all"}))))};var contentManagement_public_=__webpack_require__(29);var opensearchDashboardsReact_public_=__webpack_require__(27);function plugin_defineProperty(obj,key,value){key=plugin_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function plugin_toPropertyKey(arg){var key=plugin_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function plugin_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}const APP_ID="objects";class plugin_SavedObjectsManagementPlugin{constructor(){plugin_defineProperty(this,"actionService",new SavedObjectsManagementActionService);plugin_defineProperty(this,"columnService",new SavedObjectsManagementColumnService);plugin_defineProperty(this,"namespaceService",new SavedObjectsManagementNamespaceService);plugin_defineProperty(this,"serviceRegistry",new SavedObjectsManagementServiceRegistry)}setup(core,_ref){let{home:home,management:management,uiActions:uiActions,dataSource:dataSource,dataSourceManagement:dataSourceManagement}=_ref;const actionSetup=this.actionService.setup();const columnSetup=this.columnService.setup();const namespaceSetup=this.namespaceService.setup();if(home){home.featureCatalogue.register({id:"saved_objects",title:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objects.savedObjectsTitle",{defaultMessage:"Saved Objects"}),description:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objects.savedObjectsDescription",{defaultMessage:"Import, export, and manage your saved searches, visualizations, and dashboards."}),icon:"savedObjectsApp",path:"/app/management/opensearch-dashboards/objects",showOnHomePage:false,category:public_["FeatureCatalogueCategory"].ADMIN})}const opensearchDashboardsSection=management.sections.section.opensearchDashboards;opensearchDashboardsSection.registerApp({id:APP_ID,title:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.managementSectionLabel",{defaultMessage:"Saved objects"}),order:1,mount:async mountParams=>{const{mountManagementSection:mountManagementSection}=await Promise.resolve().then(__webpack_require__.bind(null,51));return mountManagementSection({core:core,serviceRegistry:this.serviceRegistry,mountParams:mountParams,dataSourceEnabled:!!dataSource,dataSourceManagement:dataSourceManagement})}});if(core.chrome.navGroup.getNavGroupEnabled()){core.application.register({id:APP_ID,title:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.assets.label",{defaultMessage:"Assets"}),description:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.assets.description",{defaultMessage:"Manage and share your global assets."}),mount:async params=>{const{mountManagementSection:mountManagementSection}=await Promise.resolve().then(__webpack_require__.bind(null,51));const[coreStart]=await core.getStartServices();return mountManagementSection({core:core,serviceRegistry:this.serviceRegistry,mountParams:{...params,basePath:core.http.basePath.get(),setBreadcrumbs:breadCrumbs=>coreStart.chrome.setBreadcrumbs(Object(opensearchDashboardsReact_public_["getScopedBreadcrumbs"])(breadCrumbs,params.history)),wrapInPage:true},dataSourceEnabled:!!dataSource,dataSourceManagement:dataSourceManagement})}})}core.chrome.navGroup.addNavLinksToGroup(core_public_["DEFAULT_NAV_GROUPS"].settingsAndSetup,[{id:APP_ID,order:400}]);bootstrap(uiActions);registerServices(this.serviceRegistry,core.getStartServices);return{actions:actionSetup,columns:columnSetup,namespaces:namespaceSetup,serviceRegistry:this.serviceRegistry}}start(core,_ref2){let{data:data,uiActions:uiActions,contentManagement:contentManagement}=_ref2;const actionStart=this.actionService.start();const columnStart=this.columnService.start();const namespaceStart=this.namespaceService.start();const workspaceEnabled=core.application.capabilities.workspaces.enabled;contentManagement===null||contentManagement===void 0||contentManagement.registerContentProvider({id:"recent",getContent:()=>({order:1,id:"recent",kind:"custom",render:()=>external_osdSharedDeps_React_default.a.createElement(RecentWork,{core:core,workspaceEnabled:workspaceEnabled})}),getTargetArea:()=>[contentManagement_public_["HOME_CONTENT_AREAS"].RECENTLY_VIEWED,contentManagement_public_["ESSENTIAL_OVERVIEW_CONTENT_AREAS"].RECENTLY_VIEWED,contentManagement_public_["ANALYTICS_ALL_OVERVIEW_CONTENT_AREAS"].RECENTLY_VIEWED]});return{actions:actionStart,columns:columnStart,namespaces:namespaceStart}}}var management_section=__webpack_require__(51);function public_plugin(initializerContext){return new plugin_SavedObjectsManagementPlugin}},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__osdBundles__.get("plugin/contentManagement/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var isPrimitive=function(val){return val!==Object(val)};var useCustomCompareEffect=function(effect,deps,depsEqual){if(false){}var ref=react_1.useRef(undefined);if(!ref.current||!depsEqual(deps,ref.current)){ref.current=deps}react_1.useEffect(effect,ref.current)};exports.default=useCustomCompareEffect},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);function useTimeoutFn(fn,ms){if(ms===void 0){ms=0}var ready=react_1.useRef(false);var timeout=react_1.useRef();var callback=react_1.useRef(fn);var isReady=react_1.useCallback((function(){return ready.current}),[]);var set=react_1.useCallback((function(){ready.current=false;timeout.current&&clearTimeout(timeout.current);timeout.current=setTimeout((function(){ready.current=true;callback.current()}),ms)}),[ms]);var clear=react_1.useCallback((function(){ready.current=null;timeout.current&&clearTimeout(timeout.current)}),[]);react_1.useEffect((function(){callback.current=fn}),[fn]);react_1.useEffect((function(){set();return clear}),[ms]);return[isReady,clear,set]}exports.default=useTimeoutFn},function(module,exports){module.exports=__osdSharedDeps__.ReactDom},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */var saveAs=saveAs||function(view){"use strict";if(typeof navigator!=="undefined"&&/MSIE [1-9]\./.test(navigator.userAgent)){return}var doc=view.document,get_URL=function(){return view.URL||view.webkitURL||view},save_link=doc.createElementNS("http://www.w3.org/1999/xhtml","a"),can_use_save_link="download"in save_link,click=function(node){var event=new MouseEvent("click");node.dispatchEvent(event)},webkit_req_fs=view.webkitRequestFileSystem,req_fs=view.requestFileSystem||webkit_req_fs||view.mozRequestFileSystem,throw_outside=function(ex){(view.setImmediate||view.setTimeout)((function(){throw ex}),0)},force_saveable_type="application/octet-stream",fs_min_size=0,arbitrary_revoke_timeout=500,revoke=function(file){var revoker=function(){if(typeof file==="string"){get_URL().revokeObjectURL(file)}else{file.remove()}};if(view.chrome){revoker()}else{setTimeout(revoker,arbitrary_revoke_timeout)}},dispatch=function(filesaver,event_types,event){event_types=[].concat(event_types);var i=event_types.length;while(i--){var listener=filesaver["on"+event_types[i]];if(typeof listener==="function"){try{listener.call(filesaver,event||filesaver)}catch(ex){throw_outside(ex)}}}},auto_bom=function(blob){if(/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(blob.type)){return new Blob(["\ufeff",blob],{type:blob.type})}return blob},FileSaver=function(blob,name,no_auto_bom){if(!no_auto_bom){blob=auto_bom(blob)}var filesaver=this,type=blob.type,blob_changed=false,object_url,target_view,dispatch_all=function(){dispatch(filesaver,"writestart progress write writeend".split(" "))},fs_error=function(){if(blob_changed||!object_url){object_url=get_URL().createObjectURL(blob)}if(target_view){target_view.location.href=object_url}else{var new_tab=view.open(object_url,"_blank");if(new_tab==undefined&&typeof safari!=="undefined"){view.location.href=object_url}}filesaver.readyState=filesaver.DONE;dispatch_all();revoke(object_url)},abortable=function(func){return function(){if(filesaver.readyState!==filesaver.DONE){return func.apply(this,arguments)}}},create_if_not_found={create:true,exclusive:false},slice;filesaver.readyState=filesaver.INIT;if(!name){name="download"}if(can_use_save_link){object_url=get_URL().createObjectURL(blob);save_link.href=object_url;save_link.download=name;setTimeout((function(){click(save_link);dispatch_all();revoke(object_url);filesaver.readyState=filesaver.DONE}));return}if(view.chrome&&type&&type!==force_saveable_type){slice=blob.slice||blob.webkitSlice;blob=slice.call(blob,0,blob.size,force_saveable_type);blob_changed=true}if(webkit_req_fs&&name!=="download"){name+=".download"}if(type===force_saveable_type||webkit_req_fs){target_view=view}if(!req_fs){fs_error();return}fs_min_size+=blob.size;req_fs(view.TEMPORARY,fs_min_size,abortable((function(fs){fs.root.getDirectory("saved",create_if_not_found,abortable((function(dir){var save=function(){dir.getFile(name,create_if_not_found,abortable((function(file){file.createWriter(abortable((function(writer){writer.onwriteend=function(event){target_view.location.href=file.toURL();filesaver.readyState=filesaver.DONE;dispatch(filesaver,"writeend",event);revoke(file)};writer.onerror=function(){var error=writer.error;if(error.code!==error.ABORT_ERR){fs_error()}};"writestart progress write abort".split(" ").forEach((function(event){writer["on"+event]=filesaver["on"+event]}));writer.write(blob);filesaver.abort=function(){writer.abort();filesaver.readyState=filesaver.DONE};filesaver.readyState=filesaver.WRITING})),fs_error)})),fs_error)};dir.getFile(name,{create:false},abortable((function(file){file.remove();save()})),abortable((function(ex){if(ex.code===ex.NOT_FOUND_ERR){save()}else{fs_error()}})))})),fs_error)})),fs_error)},FS_proto=FileSaver.prototype,saveAs=function(blob,name,no_auto_bom){return new FileSaver(blob,name,no_auto_bom)};if(typeof navigator!=="undefined"&&navigator.msSaveOrOpenBlob){return function(blob,name,no_auto_bom){if(!no_auto_bom){blob=auto_bom(blob)}return navigator.msSaveOrOpenBlob(blob,name||"download")}}FS_proto.abort=function(){var filesaver=this;filesaver.readyState=filesaver.DONE;dispatch(filesaver,"abort")};FS_proto.readyState=FS_proto.INIT=0;FS_proto.WRITING=1;FS_proto.DONE=2;FS_proto.error=FS_proto.onwritestart=FS_proto.onprogress=FS_proto.onwrite=FS_proto.onabort=FS_proto.onerror=FS_proto.onwriteend=null;return saveAs}(typeof self!=="undefined"&&self||typeof window!=="undefined"&&window||this.content);if(true&&module.exports){module.exports.saveAs=saveAs}else if(true&&__webpack_require__(158)!==null&&__webpack_require__(159)!=null){!(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return saveAs}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return saved_objects_table_SavedObjectsTable}));__webpack_require__.d(__webpack_exports__,"a",(function(){return duplicate_modal_SavedObjectsDuplicateModal}));var external_osdSharedDeps_React_=__webpack_require__(0);var external_osdSharedDeps_React_default=__webpack_require__.n(external_osdSharedDeps_React_);var external_osdSharedDeps_Lodash_=__webpack_require__(6);var external_osdSharedDeps_Lodash_default=__webpack_require__.n(external_osdSharedDeps_Lodash_);var file_saver=__webpack_require__(33);var external_osdSharedDeps_ElasticEui_=__webpack_require__(1);var external_osdSharedDeps_OsdI18n_=__webpack_require__(2);var external_osdSharedDeps_OsdI18nReact_=__webpack_require__(3);var utils_=__webpack_require__(10);var public_=__webpack_require__(27);var lib=__webpack_require__(4);const Header=_ref=>{let{onExportAll:onExportAll,onImport:onImport,onDuplicate:onDuplicate,onRefresh:onRefresh,objectCount:objectCount,showDuplicateAll:showDuplicateAll=false,useUpdatedUX:useUpdatedUX,navigationUI:{HeaderControl:HeaderControl},applications:applications,currentWorkspaceName:currentWorkspaceName,showImportButton:showImportButton}=_ref;const title=useUpdatedUX?null:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_osdSharedDeps_React_default.a.createElement("h1",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.header.savedObjectsTitle",defaultMessage:"Saved Objects"}))));const description=useUpdatedUX?external_osdSharedDeps_React_default.a.createElement(HeaderControl,{controls:[currentWorkspaceName?{description:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.workspace.objectsTable.table.description",{defaultMessage:"Manage and share assets for {workspace}.",values:{workspace:currentWorkspaceName}})}:{description:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.description",{defaultMessage:"Manage and share your assets."})}],setMountPoint:applications.setAppDescriptionControls}):external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_osdSharedDeps_React_default.a.createElement("p",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTextColor"],{color:"subdued"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.howToDeleteSavedObjectsDescription",defaultMessage:"Manage and share your saved objects. To edit the underlying data of an object, go to its associated application."}))));const rightControls=useUpdatedUX?external_osdSharedDeps_React_default.a.createElement(HeaderControl,{controls:[...showDuplicateAll?[{testId:"duplicateObjects",run:onDuplicate,controlType:"button",isDisabled:objectCount===0,iconType:"copy",label:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.header.duplicateAllAssetsButtonLabel",{defaultMessage:"Copy all assets to..."})}]:[],{testId:"exportAllObjects",run:onExportAll,controlType:"button",iconType:"exportAction",label:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.header.exportAssetsButtonLabel",{defaultMessage:"Export all assets"})},...showImportButton?[{testId:"importObjects",run:onImport,controlType:"button",iconType:"importAction",label:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.header.importButtonLabel",{defaultMessage:"Import"})}]:[]],setMountPoint:applications.setAppRightControls}):external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"baseline",gutterSize:"m",responsive:false},showDuplicateAll&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiButtonEmpty"],{size:"s","data-test-subj":"duplicateObjects",onClick:onDuplicate,disabled:objectCount===0,iconType:"copy"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.header.duplicateAllButtonLabel",defaultMessage:"Copy all objects to..."}))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiButtonEmpty"],{size:"s",iconType:"exportAction","data-test-subj":"exportAllObjects",onClick:onExportAll},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.header.exportButtonLabel",defaultMessage:"Export all objects"}))),showImportButton&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiButtonEmpty"],{size:"s",iconType:"importAction","data-test-subj":"importObjects",onClick:onImport},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.header.importButtonLabel",defaultMessage:"Import"}))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiButtonEmpty"],{size:"s",iconType:"refresh",onClick:onRefresh},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.header.refreshButtonLabel",defaultMessage:"Refresh"})))));return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_["Fragment"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween",alignItems:"baseline"},title,rightControls),!useUpdatedUX?external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}):external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}),description,!useUpdatedUX&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}))};var external_osdSharedDeps_Moment_=__webpack_require__(11);var external_osdSharedDeps_Moment_default=__webpack_require__.n(external_osdSharedDeps_Moment_);function _defineProperty(obj,key,value){key=_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function _toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}class table_Table extends external_osdSharedDeps_React_["PureComponent"]{constructor(props){super(props);_defineProperty(this,"state",{isSearchTextValid:true,parseErrorMessage:null,isExportPopoverOpen:false,isIncludeReferencesDeepChecked:true,activeAction:undefined,isColumnDataLoaded:false});_defineProperty(this,"loadColumnData",async()=>{await Promise.all(this.props.columnRegistry.getAll().map(column=>column.loadData()));this.setState({isColumnDataLoaded:true})});_defineProperty(this,"onChange",_ref=>{let{query:query,error:error}=_ref;if(error){this.setState({isSearchTextValid:false,parseErrorMessage:error.message});return}this.setState({isSearchTextValid:true,parseErrorMessage:null});this.props.onQueryChange({query:query})});_defineProperty(this,"closeExportPopover",()=>{this.setState({isExportPopoverOpen:false})});_defineProperty(this,"toggleExportPopoverVisibility",()=>{this.setState(state=>({isExportPopoverOpen:!state.isExportPopoverOpen}))});_defineProperty(this,"toggleIsIncludeReferencesDeepChecked",()=>{this.setState(state=>({isIncludeReferencesDeepChecked:!state.isIncludeReferencesDeepChecked}))});_defineProperty(this,"onExportClick",()=>{const{onExport:onExport}=this.props;const{isIncludeReferencesDeepChecked:isIncludeReferencesDeepChecked}=this.state;onExport(isIncludeReferencesDeepChecked);this.setState({isExportPopoverOpen:false})})}componentDidMount(){this.loadColumnData()}render(){var _this$state$activeAct,_this$state$activeAct2;const{pageIndex:pageIndex,pageSize:pageSize,itemId:itemId,items:items,totalItemCount:totalItemCount,isSearching:isSearching,columnRegistry:columnRegistry,filters:filters,selectionConfig:selection,onDelete:onDelete,onDuplicate:onDuplicate,onDuplicateSingle:onDuplicateSingle,onActionRefresh:onActionRefresh,selectedSavedObjects:selectedSavedObjects,onTableChange:onTableChange,goInspectObject:goInspectObject,onShowRelationships:onShowRelationships,basePath:basePath,actionRegistry:actionRegistry,dateFormat:dateFormat,availableWorkspaces:availableWorkspaces,currentWorkspaceId:currentWorkspaceId,showDuplicate:showDuplicate,useUpdatedUX:useUpdatedUX,onRefresh:onRefresh}=this.props;const visibleWsIds=(availableWorkspaces===null||availableWorkspaces===void 0?void 0:availableWorkspaces.map(ws=>ws.id))||[];const pagination={pageIndex:pageIndex,pageSize:pageSize,totalItemCount:totalItemCount,pageSizeOptions:[5,10,20,50]};const columns=[{field:"type",name:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.columnTypeName",{defaultMessage:"Type"}),width:"50px",align:"center",description:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.columnTypeDescription",{defaultMessage:"Type of the saved object"}),sortable:false,"data-test-subj":"savedObjectsTableRowType",render:(type,object)=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiToolTip"],{position:"top",content:Object(lib["getSavedObjectLabel"])(type)},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiIcon"],{"aria-label":Object(lib["getSavedObjectLabel"])(type),type:object.meta.icon||"apps",size:"s","data-test-subj":"objectType"}))},{field:"meta.title",name:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.columnTitleName",{defaultMessage:"Title"}),description:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.columnTitleDescription",{defaultMessage:"Title of the saved object"}),dataType:"string",sortable:false,"data-test-subj":"savedObjectsTableRowTitle",render:(title,object)=>{var _object$workspaces;const{path:path=""}=object.meta.inAppUrl||{};const canGoInApp=this.props.canGoInApp(object);if(!canGoInApp){return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s"},title||Object(lib["getDefaultTitle"])(object))}let finalPath=path;if(this.props.useUpdatedUX&&finalPath){finalPath=finalPath.replace(/^\/app\/management\/opensearch-dashboards/,"/app")}let inAppUrl=basePath.prepend(finalPath);if((_object$workspaces=object.workspaces)!==null&&_object$workspaces!==void 0&&_object$workspaces.length){if(currentWorkspaceId){inAppUrl=Object(utils_["formatUrlWithWorkspaceId"])(finalPath,currentWorkspaceId,basePath)}else{const workspaceId=object.workspaces.find(wsId=>visibleWsIds.includes(wsId));if(workspaceId){inAppUrl=Object(utils_["formatUrlWithWorkspaceId"])(finalPath,workspaceId,basePath)}}}return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiLink"],{href:inAppUrl},title||Object(lib["getDefaultTitle"])(object))}},{field:`updated_at`,name:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.columnUpdatedAtName",{defaultMessage:"Last updated"}),dataType:"date",sortable:true,description:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.columnUpdatedAtDescription",{defaultMessage:"Last update of the saved object"}),"data-test-subj":"updated-at",render:updatedAt=>updatedAt&&external_osdSharedDeps_Moment_default()(updatedAt).format(dateFormat)},...columnRegistry.getAll().map(column=>({...column.euiColumn,sortable:false,"data-test-subj":`savedObjectsTableColumn-${column.id}`})),{name:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.columnActionsName",{defaultMessage:"Actions"}),width:"80px",actions:[{name:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.columnActions.inspectActionName",{defaultMessage:"Inspect"}),description:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.columnActions.inspectActionDescription",{defaultMessage:"Inspect this saved object"}),type:"icon",icon:"inspect",onClick:object=>goInspectObject(object),available:object=>!!object.meta.editUrl,"data-test-subj":"savedObjectsTableAction-inspect"},{name:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.columnActions.viewRelationshipsActionName",{defaultMessage:"Relationships"}),description:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.columnActions.viewRelationshipsActionDescription",{defaultMessage:"View the relationships this saved object has to other saved objects"}),type:"icon",icon:"kqlSelector",onClick:object=>onShowRelationships(object),"data-test-subj":"savedObjectsTableAction-relationships"},...showDuplicate?[{name:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.columnActions.duplicateActionName",{defaultMessage:"Copy to..."}),description:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.columnActions.duplicateActionDescription",{defaultMessage:"Copy this saved object"}),type:"icon",icon:"copy",onClick:object=>onDuplicateSingle(object),available:object=>object.type!=="config","data-test-subj":"savedObjectsTableAction-duplicate"}]:[],...actionRegistry.getAll().map(action=>({...action.euiAction,"data-test-subj":`savedObjectsTableAction-${action.id}`,onClick:object=>{this.setState({activeAction:action});action.registerOnFinishCallback(()=>{this.setState({activeAction:undefined});const{refreshOnFinish:refreshOnFinish=(()=>false)}=action;if(refreshOnFinish()){onActionRefresh(object)}});if(action.euiAction.onClick){action.euiAction.onClick(object)}}}))]}];let queryParseError;if(!this.state.isSearchTextValid){const parseErrorMsg=external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.searchBar.unableToParseQueryErrorMessage",{defaultMessage:"Unable to parse query"});queryParseError=external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFormErrorText"],null,`${parseErrorMsg}. ${this.state.parseErrorMessage}`)}const button=external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSmallButton"],{iconType:"arrowDown",iconSide:"right",onClick:this.toggleExportPopoverVisibility,isDisabled:selectedSavedObjects.length===0},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.table.exportPopoverButtonLabel",defaultMessage:"Export"}));const activeActionContents=(_this$state$activeAct=(_this$state$activeAct2=this.state.activeAction)===null||_this$state$activeAct2===void 0?void 0:_this$state$activeAct2.render())!==null&&_this$state$activeAct!==void 0?_this$state$activeAct:null;const duplicateButton=external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSmallButton"],{key:"duplicateSO",iconType:"copy",onClick:onDuplicate,isDisabled:selectedSavedObjects.length===0,"data-test-subj":"savedObjectsManagementDuplicate"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.table.duplicateSOButtonLabel",defaultMessage:"Copy to..."}));return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_["Fragment"],null,activeActionContents,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSearchBar"],{box:{"data-test-subj":"savedObjectSearchBar"},compressed:true,filters:filters,onChange:this.onChange,toolsRight:[external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,useUpdatedUX&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiToolTip"],{content:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.refreshButtonTooltip",{defaultMessage:"Refresh"})},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiButtonIcon"],{iconType:"refresh",size:"s",display:"base",type:"base",onClick:onRefresh}))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,showDuplicate&&duplicateButton),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSmallButton"],{key:"deleteSO",iconType:"trash",color:"danger",onClick:onDelete,isDisabled:selectedSavedObjects.length===0||!this.props.canDelete,title:this.props.canDelete?undefined:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.deleteButtonTitle",{defaultMessage:"Unable to delete saved objects"}),"data-test-subj":"savedObjectsManagementDelete"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.table.deleteButtonLabel",defaultMessage:"Delete"})),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPopover"],{key:"exportSOOptions",button:button,isOpen:this.state.isExportPopoverOpen,closePopover:this.closeExportPopover,panelPaddingSize:"s"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCompressedFormRow"],{label:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.exportObjectsConfirmModal.exportOptionsLabel",defaultMessage:"Options"})},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCompressedSwitch"],{name:"includeReferencesDeep",label:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.exportObjectsConfirmModal.includeReferencesDeepLabel",defaultMessage:"Include related {useUpdatedUX, select, true {assets} other {objects}}",values:{useUpdatedUX:this.props.useUpdatedUX}}),checked:this.state.isIncludeReferencesDeepChecked,onChange:this.toggleIsIncludeReferencesDeepChecked})),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCompressedFormRow"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSmallButton"],{key:"exportSO",iconType:"exportAction",onClick:this.onExportClick,fill:true},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.table.exportButtonLabel",defaultMessage:"Export"}))))]}),queryParseError,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:useUpdatedUX?"m":"s"}),external_osdSharedDeps_React_default.a.createElement("div",{"data-test-subj":"savedObjectsTable"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiBasicTable"],{loading:isSearching,itemId:itemId,items:items,columns:columns,pagination:pagination,selection:selection,onChange:onTableChange,rowProps:item=>({"data-test-subj":`savedObjectsTableRow row-${item.id}`})})))}}var resolve_saved_objects=__webpack_require__(8);const OverwriteModal=_ref=>{let{conflict:conflict,onFinish:onFinish}=_ref;const{obj:obj,error:error}=conflict;let initialDestinationId;let selectControl=null;if(error.type==="conflict"){initialDestinationId=error.destinationId}else{initialDestinationId=error.destinations[0].id}const[destinationId,setDestinationId]=Object(external_osdSharedDeps_React_["useState"])(initialDestinationId);if(error.type==="ambiguous_conflict"){const selectProps={options:error.destinations.map(destination=>{var _destination$title;const header=(_destination$title=destination.title)!==null&&_destination$title!==void 0?_destination$title:`${type} [id=${destination.id}]`;const lastUpdated=destination.updatedAt?external_osdSharedDeps_Moment_default()(destination.updatedAt).fromNow():"never";const idText=`ID: ${destination.id}`;const lastUpdatedText=`Last updated: ${lastUpdated}`;return{value:destination.id,inputDisplay:destination.id,dropdownDisplay:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_["Fragment"],null,external_osdSharedDeps_React_default.a.createElement("strong",null,header),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s",color:"subdued"},external_osdSharedDeps_React_default.a.createElement("p",{className:"euiTextColor--subdued"},idText,external_osdSharedDeps_React_default.a.createElement("br",null),lastUpdatedText)))}}),onChange:value=>{setDestinationId(value)}};selectControl=external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSuperSelect"],{options:selectProps.options,valueOfSelected:destinationId,onChange:selectProps.onChange,prepend:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.overwriteModal.selectControlLabel",{defaultMessage:"Object ID"}),hasDividers:true,fullWidth:true,compressed:true})}const{type:type,meta:meta}=obj;const title=meta.title||Object(lib["getDefaultTitle"])(obj);const bodyText=error.type==="conflict"?external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.overwriteModal.body.conflict",{defaultMessage:'"{title}" conflicts with an existing object. Overwrite it?',values:{title:title}}):external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.overwriteModal.body.ambiguousConflict",{defaultMessage:'"{title}" conflicts with multiple existing objects. Overwrite one?',values:{title:title}});return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiConfirmModal"],{title:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.overwriteModal.title",{defaultMessage:"Overwrite {type}?",values:{type:type}}),cancelButtonText:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.overwriteModal.cancelButtonText",{defaultMessage:"Skip"}),confirmButtonText:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.overwriteModal.overwriteButtonText",{defaultMessage:"Overwrite"}),buttonColor:"danger",onCancel:()=>onFinish(false),onConfirm:()=>onFinish(true,destinationId),defaultFocusedButton:external_osdSharedDeps_ElasticEui_["EUI_MODAL_CONFIRM_BUTTON"],maxWidth:"500px"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_osdSharedDeps_React_default.a.createElement("p",null,bodyText)),selectControl)};const generateCreateNewCopiesDisabled=useUpdatedUX=>({id:"createNewCopiesDisabled",text:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.importModeControl.createNewCopies.disabledTitle",{defaultMessage:"Check for existing {useUpdatedUX, select, true {assets} other {objects}}",values:{useUpdatedUX:useUpdatedUX}}),tooltip:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.importModeControl.createNewCopies.disabledText",{defaultMessage:"Check if {useUpdatedUX, select, true {assets} other {objects}} were previously copied or imported.",values:{useUpdatedUX:useUpdatedUX}})});const generateCreateNewCopiesEnabled=useUpdatedUX=>({id:"createNewCopiesEnabled",text:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.importModeControl.createNewCopies.enabledTitle",{defaultMessage:"Create new {useUpdatedUX, select, true {assets} other {objects}} with unique IDs",values:{useUpdatedUX:useUpdatedUX}}),tooltip:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.importModeControl.createNewCopies.enabledText",{defaultMessage:"Use this option to create one or more copies of the {useUpdatedUX, select, true {asset} other {object}}.",values:{useUpdatedUX:useUpdatedUX}})});const overwriteEnabled={id:"overwriteEnabled",label:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.importModeControl.overwrite.enabledLabel",{defaultMessage:"Automatically overwrite conflicts"})};const overwriteDisabled={id:"overwriteDisabled",label:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.importModeControl.overwrite.disabledLabel",{defaultMessage:"Request action on conflict"})};const createLabel=_ref=>{let{text:text,tooltip:tooltip}=_ref;return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],null,text)),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiIconTip"],{content:tooltip,position:"left",type:"iInCircle"})))};const overwriteRadio=(disabled,overwrite,onChange)=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCompressedRadioGroup"],{options:[overwriteEnabled,overwriteDisabled],idSelected:overwrite?overwriteEnabled.id:overwriteDisabled.id,onChange:id=>onChange({overwrite:id===overwriteEnabled.id}),disabled:disabled,"data-test-subj":"savedObjectsManagement-importModeControl-overwriteRadioGroup"});const ImportModeControl=_ref2=>{let{initialValues:initialValues,isLegacyFile:isLegacyFile,updateSelection:updateSelection,optionLabel:optionLabel,useUpdatedUX:useUpdatedUX}=_ref2;const[createNewCopies,setCreateNewCopies]=Object(external_osdSharedDeps_React_["useState"])(initialValues.createNewCopies);const[overwrite,setOverwrite]=Object(external_osdSharedDeps_React_["useState"])(initialValues.overwrite);const createNewCopiesEnabled=generateCreateNewCopiesEnabled(useUpdatedUX);const createNewCopiesDisabled=generateCreateNewCopiesDisabled(useUpdatedUX);const onChange=partial=>{if(partial.createNewCopies!==undefined){setCreateNewCopies(partial.createNewCopies)}else if(partial.overwrite!==undefined){setOverwrite(partial.overwrite)}updateSelection({createNewCopies:createNewCopies,overwrite:overwrite,...partial})};if(isLegacyFile){return overwriteRadio(false,overwrite,onChange)}return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFormFieldset"],{legend:{children:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_osdSharedDeps_React_default.a.createElement("span",null,optionLabel))}},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCheckableCard"],{id:createNewCopiesEnabled.id,label:createLabel(createNewCopiesEnabled),checked:createNewCopies,onChange:()=>onChange({createNewCopies:true}),"data-test-subj":"savedObjectsManagement-importModeControl-createNewCopiesEnabled"}),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCheckableCard"],{id:createNewCopiesDisabled.id,label:createLabel(createNewCopiesDisabled),checked:!createNewCopies,onChange:()=>onChange({createNewCopies:false}),"data-test-subj":"savedObjectsManagement-importModeControl-createNewCopiesDisabled"},overwriteRadio(createNewCopies,overwrite,onChange)))};var import_summary=__webpack_require__(50);const DEFAULT_ICON="apps";const unsupportedTypeErrorMessage=external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.importSummary.unsupportedTypeError",{defaultMessage:"Unsupported object type"});const getErrorMessage=_ref=>{let{error:error}=_ref;if(error.type==="unknown"){return error.message}else if(error.type==="unsupported_type"){return unsupportedTypeErrorMessage}};const mapFailedImport=failure=>{const{obj:obj}=failure;const{type:type,id:id,meta:meta}=obj;const title=meta.title||Object(lib["getDefaultTitle"])(obj);const icon=meta.icon||DEFAULT_ICON;const errorMessage=getErrorMessage(failure);return{type:type,id:id,title:title,icon:icon,outcome:"error",errorMessage:errorMessage}};const mapImportSuccess=obj=>{const{type:type,id:id,meta:meta,overwrite:overwrite}=obj;const title=meta.title||Object(lib["getDefaultTitle"])(obj);const icon=meta.icon||DEFAULT_ICON;const outcome=overwrite?"overwritten":"created";return{type:type,id:id,title:title,icon:icon,outcome:outcome}};const getCountIndicators=importItems=>{if(!importItems.length){return null}const outcomeCounts=importItems.reduce((acc,_ref2)=>{var _acc$get;let{outcome:outcome}=_ref2;return acc.set(outcome,((_acc$get=acc.get(outcome))!==null&&_acc$get!==void 0?_acc$get:0)+1)},new Map);const createdCount=outcomeCounts.get("created");const overwrittenCount=outcomeCounts.get("overwritten");const errorCount=outcomeCounts.get("error");return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],null,createdCount&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_osdSharedDeps_React_default.a.createElement("h4",{className:"savedObjectsManagementImportSummary__createdCount"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.importSummary.createdCountHeader",defaultMessage:"{createdCount} new",values:{createdCount:createdCount}})))),overwrittenCount&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_osdSharedDeps_React_default.a.createElement("h4",{className:"savedObjectsManagementImportSummary__overwrittenCount"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.importSummary.overwrittenCountHeader",defaultMessage:"{overwrittenCount} overwritten",values:{overwrittenCount:overwrittenCount}})))),errorCount&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_osdSharedDeps_React_default.a.createElement("h4",{className:"savedObjectsManagementImportSummary__errorCount"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.importSummary.errorCountHeader",defaultMessage:"{errorCount} error",values:{errorCount:errorCount}})))))};const getStatusIndicator=_ref3=>{let{outcome:outcome,errorMessage:errorMessage="Error"}=_ref3;switch(outcome){case"created":return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiIconTip"],{type:"checkInCircleFilled",color:"success",content:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.importSummary.createdOutcomeLabel",{defaultMessage:"Created"})});case"overwritten":return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiIconTip"],{type:"check",content:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.importSummary.overwrittenOutcomeLabel",{defaultMessage:"Overwritten"})});case"error":return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiIconTip"],{type:"alert",color:"danger",content:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.importSummary.errorOutcomeLabel",{defaultMessage:"{errorMessage}",values:{errorMessage:errorMessage}})})}};const ImportSummary=_ref4=>{let{failedImports:failedImports,successfulImports:successfulImports,useUpdatedUX:useUpdatedUX}=_ref4;const importItems=external_osdSharedDeps_Lodash_default.a.sortBy([...failedImports.map(x=>mapFailedImport(x)),...successfulImports.map(x=>mapImportSuccess(x))],["type","title"]);return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_["Fragment"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTitle"],{size:"s","data-test-subj":importItems.length?"importSavedObjectsSuccess":"importSavedObjectsSuccessNoneImported"},external_osdSharedDeps_React_default.a.createElement("h3",null,importItems.length===1?external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.importSummary.headerLabelSingular",defaultMessage:"1 {useUpdatedUX, select, true {asset} other {object}} imported",values:{useUpdatedUX:useUpdatedUX}}):external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.importSummary.headerLabelPlural",defaultMessage:"{importCount} {useUpdatedUX, select, true {assets} other {objects}} imported",values:{importCount:importItems.length,useUpdatedUX:useUpdatedUX}}))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),getCountIndicators(importItems),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHorizontalRule"],null),importItems.map((item,index)=>{const{type:type,title:title,icon:icon}=item;return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{responsive:false,key:index,alignItems:"center",gutterSize:"s",className:"savedObjectsManagementImportSummary__row"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiToolTip"],{position:"top",content:Object(lib["getSavedObjectLabel"])(type)},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiIcon"],{"aria-label":Object(lib["getSavedObjectLabel"])(type),type:icon,size:"s"}))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{className:"savedObjectsManagementImportSummary__title"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_osdSharedDeps_React_default.a.createElement("p",{className:"eui-textTruncate",title:title},title))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement("div",{className:"eui-textRight"},getStatusIndicator(item))))}))};function flyout_defineProperty(obj,key,value){key=flyout_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function flyout_toPropertyKey(arg){var key=flyout_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function flyout_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}const CREATE_NEW_COPIES_DEFAULT=true;const OVERWRITE_ALL_DEFAULT=true;const flyout_getErrorMessage=e=>{var _e$body,_e$body2;const errorMessage=(_e$body=e.body)!==null&&_e$body!==void 0&&_e$body.error&&(_e$body2=e.body)!==null&&_e$body2!==void 0&&_e$body2.message?`${e.body.error}: ${e.body.message}`:e.message;return external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.importFileErrorMessage",{defaultMessage:'The file could not be processed due to error: "{error}"',values:{error:errorMessage}})};class flyout_Flyout extends external_osdSharedDeps_React_["Component"]{constructor(props){super(props);flyout_defineProperty(this,"fetchIndexPatterns",async()=>{var _await$this$props$ind;const indexPatterns=(_await$this$props$ind=await this.props.indexPatterns.getCache())===null||_await$this$props$ind===void 0?void 0:_await$this$props$ind.map(savedObject=>({id:savedObject.id,title:savedObject.attributes.title}));this.setState({indexPatterns:indexPatterns})});flyout_defineProperty(this,"changeImportMode",importMode=>{this.setState(()=>({importMode:importMode}))});flyout_defineProperty(this,"setImportFile",files=>{if(!files||!files[0]){this.setState({file:undefined,isLegacyFile:false});return}const file=files[0];this.setState({file:file,isLegacyFile:/\.json$/i.test(file.name)||file.type==="application/json"})});flyout_defineProperty(this,"import",async()=>{const{http:http,dataSourceEnabled:dataSourceEnabled}=this.props;const{file:file,importMode:importMode,selectedDataSourceId:selectedDataSourceId}=this.state;this.setState({status:"loading",error:undefined});try{const response=await Object(lib["importFile"])(http,file,importMode,selectedDataSourceId,dataSourceEnabled);this.setState(Object(lib["processImportResponse"])(response),()=>{var _this$state$unmatched;if(((_this$state$unmatched=this.state.unmatchedReferences)===null||_this$state$unmatched===void 0?void 0:_this$state$unmatched.length)===0){this.resolveImportErrors()}})}catch(e){this.setState({status:"error",error:flyout_getErrorMessage(e)});return}});flyout_defineProperty(this,"getConflictResolutions",async failures=>{const resolutions={};for(const conflict of failures){const[overwrite,destinationId]=await new Promise(done=>{this.setState({conflictingRecord:{conflict:conflict,done:done}})});if(overwrite){const{type:type,id:id}=conflict.obj;resolutions[`${type}:${id}`]={retry:true,options:{overwrite:true,...destinationId&&{destinationId:destinationId}}}}this.setState({conflictingRecord:undefined})}return resolutions});flyout_defineProperty(this,"resolveImportErrors",async()=>{this.setState({error:undefined,status:"loading",loadingMessage:undefined});try{const updatedState=await Object(lib["resolveImportErrors"])({http:this.props.http,state:this.state,getConflictResolutions:this.getConflictResolutions,selectedDataSourceId:this.state.selectedDataSourceId});this.setState(updatedState)}catch(e){this.setState({status:"error",error:flyout_getErrorMessage(e)})}});flyout_defineProperty(this,"legacyImport",async()=>{const{serviceRegistry:serviceRegistry,indexPatterns:indexPatterns,overlays:overlays,http:http,allowedTypes:allowedTypes,useUpdatedUX:useUpdatedUX}=this.props;const{file:file,importMode:importMode}=this.state;this.setState({status:"loading",error:undefined});Object(lib["logLegacyImport"])(http);let contents;try{contents=await Object(lib["importLegacyFile"])(file)}catch(e){this.setState({status:"error",error:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.importLegacyFileErrorMessage",{defaultMessage:"The file could not be processed."})});return}if(!Array.isArray(contents)){this.setState({status:"error",error:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.invalidFormatOfImportedFileErrorMessage",{defaultMessage:"{useUpdatedUX, select, true {Assets} other {Saved objects}} file format is invalid and cannot be imported.",values:{useUpdatedUX:useUpdatedUX}})});return}contents=contents.filter(content=>allowedTypes.includes(content._type)).map(doc=>({...doc,_migrationVersion:doc._migrationVersion||{}}));const{conflictedIndexPatterns:conflictedIndexPatterns,conflictedSavedObjectsLinkedToSavedSearches:conflictedSavedObjectsLinkedToSavedSearches,conflictedSearchDocs:conflictedSearchDocs,importedObjectCount:importedObjectCount,failedImports:failedImports}=await Object(resolve_saved_objects["b"])(contents,importMode.overwrite,serviceRegistry.all().map(e=>e.service),indexPatterns,overlays.openConfirm);const byId={};conflictedIndexPatterns.map(_ref=>{let{doc:doc,obj:obj}=_ref;return{doc:doc,obj:obj._serialize()}}).forEach(_ref2=>{let{doc:doc,obj:obj}=_ref2;return obj.references.forEach(ref=>{byId[ref.id]=byId[ref.id]!=null?byId[ref.id].concat({doc:doc,obj:obj}):[{doc:doc,obj:obj}]})});const unmatchedReferences=Object.entries(byId).reduce((accum,_ref3)=>{let[existingIndexPatternId,list]=_ref3;accum.push({existingIndexPatternId:existingIndexPatternId,newIndexPatternId:undefined,list:list.map(_ref4=>{let{doc:doc}=_ref4;return{id:existingIndexPatternId,type:doc._type,title:doc._source.title}})});return accum},[]);this.setState({conflictedIndexPatterns:conflictedIndexPatterns,conflictedSavedObjectsLinkedToSavedSearches:conflictedSavedObjectsLinkedToSavedSearches,conflictedSearchDocs:conflictedSearchDocs,failedImports:failedImports,unmatchedReferences:unmatchedReferences,importCount:importedObjectCount,status:unmatchedReferences.length===0?"success":"idle"})});flyout_defineProperty(this,"confirmLegacyImport",async()=>{const{conflictedIndexPatterns:conflictedIndexPatterns,importMode:importMode,conflictedSavedObjectsLinkedToSavedSearches:conflictedSavedObjectsLinkedToSavedSearches,conflictedSearchDocs:conflictedSearchDocs,failedImports:failedImports}=this.state;const{serviceRegistry:serviceRegistry,indexPatterns:indexPatterns,search:search,useUpdatedUX:useUpdatedUX}=this.props;this.setState({error:undefined,status:"loading",loadingMessage:undefined});let importCount=this.state.importCount;if(this.hasUnmatchedReferences){try{const resolutions=this.resolutions;this.setState({loadingMessage:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.confirmLegacyImport.resolvingConflictsLoadingMessage",{defaultMessage:"Resolving conflicts…"})});if(resolutions.length){importCount+=await Object(resolve_saved_objects["a"])(resolutions,conflictedIndexPatterns,importMode.overwrite,{indexPatterns:indexPatterns,search:search})}this.setState({loadingMessage:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.confirmLegacyImport.savingConflictsLoadingMessage",{defaultMessage:"Saving conflicts…"})});importCount+=await Object(resolve_saved_objects["e"])(conflictedSavedObjectsLinkedToSavedSearches,importMode.overwrite);this.setState({loadingMessage:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.confirmLegacyImport.savedSearchAreLinkedProperlyLoadingMessage",{defaultMessage:"Ensure saved searches are linked properly…"})});importCount+=await Object(resolve_saved_objects["c"])(conflictedSearchDocs,serviceRegistry.all().map(e=>e.service),indexPatterns,importMode.overwrite);this.setState({loadingMessage:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.confirmLegacyImport.retryingFailedObjectsLoadingMessage",{defaultMessage:"Retrying failed {useUpdatedUX, select, true {assets} other {objects}}…",values:{useUpdatedUX:useUpdatedUX}})});importCount+=await Object(resolve_saved_objects["e"])(failedImports.map(_ref5=>{let{obj:obj}=_ref5;return obj}),importMode.overwrite)}catch(e){this.setState({status:"error",error:flyout_getErrorMessage(e),loadingMessage:undefined});return}}this.setState({status:"success",importCount:importCount})});flyout_defineProperty(this,"onIndexChanged",(id,e)=>{const value=e.target.value;this.setState(state=>{var _state$unmatchedRefer;const conflictIndex=(_state$unmatchedRefer=state.unmatchedReferences)===null||_state$unmatchedRefer===void 0?void 0:_state$unmatchedRefer.findIndex(conflict=>conflict.existingIndexPatternId===id);if(conflictIndex===undefined||conflictIndex===-1){return state}return{unmatchedReferences:[...state.unmatchedReferences.slice(0,conflictIndex),{...state.unmatchedReferences[conflictIndex],newIndexPatternId:value},...state.unmatchedReferences.slice(conflictIndex+1)]}})});flyout_defineProperty(this,"onSelectedDataSourceChange",e=>{const dataSourceId=e[0]?e[0].id:undefined;this.setState({selectedDataSourceId:dataSourceId})});this.state={conflictedIndexPatterns:undefined,conflictedSavedObjectsLinkedToSavedSearches:undefined,conflictedSearchDocs:undefined,unmatchedReferences:undefined,conflictingRecord:undefined,error:undefined,file:undefined,importCount:0,indexPatterns:undefined,importMode:{createNewCopies:CREATE_NEW_COPIES_DEFAULT,overwrite:OVERWRITE_ALL_DEFAULT},loadingMessage:undefined,isLegacyFile:false,status:"idle"}}componentDidMount(){this.fetchIndexPatterns()}get hasUnmatchedReferences(){return this.state.unmatchedReferences&&this.state.unmatchedReferences.length>0}get resolutions(){return this.state.unmatchedReferences.reduce((accum,_ref6)=>{let{existingIndexPatternId:existingIndexPatternId,newIndexPatternId:newIndexPatternId}=_ref6;if(newIndexPatternId){accum.push({oldId:existingIndexPatternId,newId:newIndexPatternId})}return accum},[])}renderUnmatchedReferences(){const{unmatchedReferences:unmatchedReferences}=this.state;if(!unmatchedReferences){return null}const columns=[{field:"existingIndexPatternId",name:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.renderConflicts.columnIdName",{defaultMessage:"ID"}),description:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.renderConflicts.columnIdDescription",{defaultMessage:"ID of the index pattern"}),sortable:true},{field:"list",name:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.renderConflicts.columnCountName",{defaultMessage:"Count"}),description:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.renderConflicts.columnCountDescription",{defaultMessage:"How many affected {useUpdatedUX, select, true {assets} other {objects}}",values:{useUpdatedUX:this.props.useUpdatedUX}}),render:list=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_["Fragment"],null,list.length)},{field:"list",name:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.renderConflicts.columnSampleOfAffectedObjectsName",{defaultMessage:"Sample of affected {useUpdatedUX, select, true {assets} other {objects}}",values:{useUpdatedUX:this.props.useUpdatedUX}}),description:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.renderConflicts.columnSampleOfAffectedObjectsDescription",{defaultMessage:"Sample of affected {useUpdatedUX, select, true {assets} other {objects}}",values:{useUpdatedUX:this.props.useUpdatedUX}}),render:list=>external_osdSharedDeps_React_default.a.createElement("ul",{style:{listStyle:"none"}},Object(external_osdSharedDeps_Lodash_["take"])(list,3).map((obj,key)=>external_osdSharedDeps_React_default.a.createElement("li",{key:key},obj.title)))},{field:"existingIndexPatternId",name:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.renderConflicts.columnNewIndexPatternName",{defaultMessage:"New index pattern"}),render:id=>{const options=this.state.indexPatterns.map(indexPattern=>({text:indexPattern.title,value:indexPattern.id,"data-test-subj":`indexPatternOption-${indexPattern.title}`}));options.unshift({text:"-- Skip Import --",value:""});return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCompressedSelect"],{"data-test-subj":`managementChangeIndexSelection-${id}`,onChange:e=>this.onIndexChanged(id,e),options:options})}}];const pagination={pageSizeOptions:[5,10,25]};return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiInMemoryTable"],{items:unmatchedReferences,columns:columns,pagination:pagination})}renderError(){const{error:error,status:status}=this.state;if(status!=="error"){return null}return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_["Fragment"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCallOut"],{title:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.errorCalloutTitle",defaultMessage:"Sorry, there was an error"}),color:"danger"},external_osdSharedDeps_React_default.a.createElement("p",{"data-test-subj":"importSavedObjectsErrorText"},error)),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}))}renderBody(){const{status:status,loadingMessage:loadingMessage,importCount:importCount,failedImports:failedImports=[],successfulImports:successfulImports=[],isLegacyFile:isLegacyFile,importMode:importMode}=this.state;const{dataSourceEnabled:dataSourceEnabled,useUpdatedUX:useUpdatedUX}=this.props;if(status==="loading"){return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceAround"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiLoadingSpinner"],{size:"xl"}),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_osdSharedDeps_React_default.a.createElement("p",null,loadingMessage))))}if(isLegacyFile===false&&status==="success"){return external_osdSharedDeps_React_default.a.createElement(ImportSummary,{failedImports:failedImports,successfulImports:successfulImports,useUpdatedUX:useUpdatedUX})}if(failedImports.length&&!this.hasUnmatchedReferences){return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCallOut"],{"data-test-subj":"importSavedObjectsFailedWarning",title:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.importFailedTitle",defaultMessage:"Import failed"}),color:"warning",iconType:"help"},external_osdSharedDeps_React_default.a.createElement("p",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.importFailedDescription",defaultMessage:"Failed to import {failedImportCount} of {totalImportCount} {useUpdatedUX, select, true {assets} other {objects}}. Import failed",values:{failedImportCount:failedImports.length,totalImportCount:importCount+failedImports.length,useUpdatedUX:useUpdatedUX}})),external_osdSharedDeps_React_default.a.createElement("p",null,failedImports.map(_ref7=>{var _message;let{error:error,obj:obj}=_ref7;if(error.type==="missing_references"){return error.references.map(reference=>external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.importFailedMissingReference",{defaultMessage:"{type} [id={id}] could not locate {refType} [id={refId}]",values:{id:obj.id,type:obj.type,refId:reference.id,refType:reference.type}}))}else if(error.type==="unsupported_type"){return external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.importFailedUnsupportedType",{defaultMessage:"{type} [id={id}] unsupported type",values:{id:obj.id,type:obj.type}})}return Object(external_osdSharedDeps_Lodash_["get"])(error,"body.message",(_message=error.message)!==null&&_message!==void 0?_message:"")}).join(" ")))}if(status==="success"){if(importCount===0){return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCallOut"],{"data-test-subj":"importSavedObjectsSuccessNoneImported",title:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.importSuccessfulCallout.noObjectsImportedTitle",defaultMessage:"No {useUpdatedUX, select, true {assets} other {objects}} imported",values:{useUpdatedUX:useUpdatedUX}}),color:"primary"})}return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCallOut"],{"data-test-subj":"importSavedObjectsSuccess",title:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.importSuccessfulTitle",defaultMessage:"Import successful"}),color:"success",iconType:"check"},external_osdSharedDeps_React_default.a.createElement("p",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.importSuccessfulDescription",defaultMessage:"Successfully imported {importCount} {useUpdatedUX, select, true {assets} other {objects}}.",values:{importCount:importCount,useUpdatedUX:useUpdatedUX}})))}if(this.hasUnmatchedReferences){return this.renderUnmatchedReferences()}return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiForm"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCompressedFormRow"],{fullWidth:true,label:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.selectFileToImportFormRowLabel",defaultMessage:"Select file"})},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCompressedFilePicker"],{accept:".ndjson, .json",fullWidth:true,initialPromptText:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.importPromptText",defaultMessage:"Import"}),onChange:this.setImportFile})),this.renderImportControl(importMode,isLegacyFile,dataSourceEnabled))}renderImportControl(importMode,isLegacyFile,dataSourceEnabled){if(dataSourceEnabled){return this.renderImportControlForDataSource(importMode,isLegacyFile)}return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCompressedFormRow"],{fullWidth:true},external_osdSharedDeps_React_default.a.createElement(ImportModeControl,{initialValues:importMode,isLegacyFile:isLegacyFile,updateSelection:newValues=>this.changeImportMode(newValues),optionLabel:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.importModeControl.importOptionsTitle",{defaultMessage:"Import options"})}))}renderImportControlForDataSource(importMode,isLegacyFile){const DataSourceSelector=this.props.dataSourceManagement.ui.DataSourceSelector;return external_osdSharedDeps_React_default.a.createElement("div",{className:"savedObjectImportControlForDataSource"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],null),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFormFieldset"],{legend:{children:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_osdSharedDeps_React_default.a.createElement("span",null,"Import options"))}},external_osdSharedDeps_React_default.a.createElement(DataSourceSelector,{savedObjectsClient:this.props.savedObjects,notifications:this.props.notifications.toasts,onSelectedDataSource:this.onSelectedDataSourceChange,disabled:!this.props.dataSourceEnabled,fullWidth:true,isClearable:false,compressed:true})),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],null),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCompressedFormRow"],{fullWidth:true},external_osdSharedDeps_React_default.a.createElement(ImportModeControl,{initialValues:importMode,isLegacyFile:isLegacyFile,updateSelection:newValues=>this.changeImportMode(newValues),optionLabel:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.importModeControl.conflictManagementTitle",{defaultMessage:"Conflict management"}),useUpdatedUX:this.props.useUpdatedUX})))}renderFooter(){const{isLegacyFile:isLegacyFile,status:status,selectedDataSourceId:selectedDataSourceId}=this.state;const{done:done,close:close}=this.props;let confirmButton;let importButtonDisabled=false;if(this.props.dataSourceEnabled&&selectedDataSourceId===undefined){importButtonDisabled=true}if(status==="success"){confirmButton=external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiButton"],{onClick:done,size:"s",fill:true,"data-test-subj":"importSavedObjectsDoneBtn"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.importSuccessful.confirmButtonLabel",defaultMessage:"Done"}))}else if(this.hasUnmatchedReferences){confirmButton=external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiButton"],{onClick:isLegacyFile?this.confirmLegacyImport:this.resolveImportErrors,size:"s",fill:true,isLoading:status==="loading","data-test-subj":"importSavedObjectsConfirmBtn"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.importSuccessful.confirmAllChangesButtonLabel",defaultMessage:"Confirm all changes"}))}else{confirmButton=external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiButton"],{onClick:isLegacyFile?this.legacyImport:this.import,size:"s",fill:true,isLoading:status==="loading",disabled:importButtonDisabled,"data-test-subj":"importSavedObjectsImportBtn"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.import.confirmButtonLabel",defaultMessage:"Import"}))}return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiButtonEmpty"],{onClick:close,size:"s",disabled:status==="loading"||isLegacyFile===false&&status==="success","data-test-subj":"importSavedObjectsCancelBtn"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.import.cancelButtonLabel",defaultMessage:"Cancel"}))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},confirmButton))}renderSubheader(){if(this.state.status==="loading"||this.state.status==="success"){return null}let legacyFileWarning;if(this.state.isLegacyFile){legacyFileWarning=external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCallOut"],{"data-test-subj":"importSavedObjectsLegacyWarning",title:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.legacyFileUsedTitle",defaultMessage:"Support for JSON files is going away"}),color:"warning",iconType:"help"},external_osdSharedDeps_React_default.a.createElement("p",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.legacyFileUsedBody",defaultMessage:"Use our updated export to generate NDJSON files, and you'll be all set."}))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}))}let indexPatternConflictsWarning;if(this.hasUnmatchedReferences){indexPatternConflictsWarning=external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCallOut"],{"data-test-subj":"importSavedObjectsConflictsWarning",title:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.indexPatternConflictsTitle",defaultMessage:"Index Pattern Conflicts"}),color:"warning",iconType:"help"},external_osdSharedDeps_React_default.a.createElement("p",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.indexPatternConflictsDescription",defaultMessage:"The following {useUpdatedUX, select, true {assets} other {saved objects}} use index patterns that do not exist. Please select the index patterns you'd like re-associated with them. You can {indexPatternLink} if necessary.",values:{indexPatternLink:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiLink"],{href:this.props.newIndexPatternUrl},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.indexPatternConflictsCalloutLinkText",defaultMessage:"create a new index pattern"})),useUpdatedUX:this.props.useUpdatedUX}})))}if(!legacyFileWarning&&!indexPatternConflictsWarning){return null}return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_["Fragment"],null,legacyFileWarning&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),legacyFileWarning,indexPatternConflictsWarning&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),indexPatternConflictsWarning)}render(){const{close:close,useUpdatedUX:useUpdatedUX}=this.props;let confirmOverwriteModal;const{conflictingRecord:conflictingRecord}=this.state;if(conflictingRecord){const{conflict:conflict}=conflictingRecord;const onFinish=(overwrite,destinationId)=>conflictingRecord.done([overwrite,destinationId]);confirmOverwriteModal=external_osdSharedDeps_React_default.a.createElement(OverwriteModal,{conflict:conflict,onFinish:onFinish})}return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlyout"],{onClose:close,size:"s"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlyoutHeader"],{hasBorder:true},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_osdSharedDeps_React_default.a.createElement("h2",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.importSavedObjectTitle",defaultMessage:"Import {useUpdatedUX, select, true {assets} other {saved objects}}",values:{useUpdatedUX:useUpdatedUX}})))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlyoutBody"],null,this.renderSubheader(),this.renderError(),this.renderBody()),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlyoutFooter"],null,this.renderFooter()),confirmOverwriteModal)}}class relationships_Relationships extends external_osdSharedDeps_React_["Component"]{constructor(props){super(props);this.state={relationships:[],isLoading:false,error:undefined}}UNSAFE_componentWillMount(){this.getRelationshipData()}UNSAFE_componentWillReceiveProps(nextProps){if(nextProps.savedObject.id!==this.props.savedObject.id){this.getRelationshipData()}}async getRelationshipData(){const{savedObject:savedObject,getRelationships:getRelationships}=this.props;this.setState({isLoading:true});try{const relationships=await getRelationships(savedObject.type,savedObject.id);this.setState({relationships:relationships,isLoading:false,error:undefined})}catch(err){this.setState({error:err.message,isLoading:false})}}renderError(){const{error:error}=this.state;if(!error){return null}return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCallOut"],{title:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.relationships.renderErrorMessage",defaultMessage:"Error"}),color:"danger"},external_osdSharedDeps_React_default.a.createElement("p",null,error))}renderRelationships(){const{goInspectObject:goInspectObject,savedObject:savedObject,basePath:basePath}=this.props;const{relationships:relationships,isLoading:isLoading,error:error}=this.state;if(error){return this.renderError()}if(isLoading){return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiLoadingSpinner"],{size:"xl"})}const columns=[{field:"type",name:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.columnTypeName",{defaultMessage:"Type"}),width:"50px",align:"center",description:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.columnTypeDescription",{defaultMessage:"Type of the saved object"}),sortable:false,render:(type,object)=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiToolTip"],{position:"top",content:Object(lib["getSavedObjectLabel"])(type)},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiIcon"],{"aria-label":Object(lib["getSavedObjectLabel"])(type),type:object.meta.icon||"apps",size:"s","data-test-subj":"relationshipsObjectType"}))},{field:"relationship",name:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.columnRelationshipName",{defaultMessage:"Direct relationship"}),dataType:"string",sortable:false,width:"125px","data-test-subj":"directRelationship",render:relationship=>{if(relationship==="parent"){return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.relationships.columnRelationship.parentAsValue",defaultMessage:"Parent"}))}if(relationship==="child"){return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.relationships.columnRelationship.childAsValue",defaultMessage:"Child"}))}}},{field:"meta.title",name:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.columnTitleName",{defaultMessage:"Title"}),description:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.columnTitleDescription",{defaultMessage:"Title of the saved object"}),dataType:"string",sortable:false,render:(title,object)=>{const{path:path=""}=object.meta.inAppUrl||{};const canGoInApp=this.props.canGoInApp(object);let finalPath=path;if(this.props.useUpdatedUX&&finalPath){finalPath=finalPath.replace(/^\/app\/management\/opensearch-dashboards/,"/app")}if(!canGoInApp){return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s","data-test-subj":"relationshipsTitle"},title||Object(lib["getDefaultTitle"])(object))}return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiLink"],{href:basePath.prepend(finalPath),"data-test-subj":"relationshipsTitle"},title||Object(lib["getDefaultTitle"])(object))}},{name:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.columnActionsName",{defaultMessage:"Actions"}),actions:[{name:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.columnActions.inspectActionName",{defaultMessage:"Inspect"}),description:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.columnActions.inspectActionDescription",{defaultMessage:"Inspect this saved object"}),type:"icon",icon:"inspect","data-test-subj":"relationshipsTableAction-inspect",onClick:object=>goInspectObject(object),available:object=>!!object.meta.editUrl}]}];const filterTypesMap=new Map(relationships.map(relationship=>[relationship.type,{value:relationship.type,name:relationship.type,view:relationship.type}]));const search={filters:[{type:"field_value_selection",field:"relationship",name:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.search.filters.relationship.name",{defaultMessage:"Direct relationship"}),multiSelect:"or",options:[{value:"parent",name:"parent",view:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.search.filters.relationship.parentAsValue.view",{defaultMessage:"Parent"})},{value:"child",name:"child",view:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.search.filters.relationship.childAsValue.view",{defaultMessage:"Child"})}]},{type:"field_value_selection",field:"type",name:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.search.filters.type.name",{defaultMessage:"Type"}),multiSelect:"or",options:[...filterTypesMap.values()]}]};return external_osdSharedDeps_React_default.a.createElement("div",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCallOut"],null,external_osdSharedDeps_React_default.a.createElement("p",null,external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.relationshipsTitle",{defaultMessage:"Here are the saved objects related to {title}. "+"Deleting this {type} affects its parent objects, but not its children.",values:{type:savedObject.type,title:savedObject.meta.title||Object(lib["getDefaultTitle"])(savedObject)}}))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],null),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiInMemoryTable"],{items:relationships,columns:columns,pagination:true,search:search,rowProps:()=>({"data-test-subj":`relationshipsTableRow`})}))}render(){const{close:close,savedObject:savedObject}=this.props;return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlyout"],{onClose:close},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlyoutHeader"],{hasBorder:true},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s",className:"eui-textBreakWord"},external_osdSharedDeps_React_default.a.createElement("h2",null,savedObject.meta.title||Object(lib["getDefaultTitle"])(savedObject)))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlyoutBody"],null,this.renderRelationships()))}}function workspaceToOption(workspace,currentWorkspaceId){let workspaceName=workspace.name;if(workspace.id===currentWorkspaceId){workspaceName+=" (current)"}return{label:workspaceName,key:workspace.id,value:workspace}}function getTargetWorkspacesOptions(workspaces,currentWorkspace){const currentWorkspaceId=currentWorkspace===null||currentWorkspace===void 0?void 0:currentWorkspace.id;const workspaceList=workspaces.workspaceList$.value;const targetWorkspaces=workspaceList.filter(workspace=>workspace.id!==currentWorkspaceId&&!workspace.readonly);if(currentWorkspace&&!currentWorkspace.readonly)targetWorkspaces.unshift(currentWorkspace);return targetWorkspaces.map(workspace=>workspaceToOption(workspace,currentWorkspaceId))}function duplicate_modal_defineProperty(obj,key,value){key=duplicate_modal_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function duplicate_modal_toPropertyKey(arg){var key=duplicate_modal_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function duplicate_modal_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}class duplicate_modal_SavedObjectsDuplicateModal extends external_osdSharedDeps_React_default.a.Component{constructor(props){super(props);duplicate_modal_defineProperty(this,"isMounted",false);duplicate_modal_defineProperty(this,"duplicateSavedObjects",async savedObjects=>{const selectedWorkspace=this.state.targetWorkspaceOption[0];if(!selectedWorkspace){return}const targetWorkspace=selectedWorkspace.key;const targetWorkspaceName=selectedWorkspace.label;this.setState({isLoading:true});await this.props.onDuplicate(savedObjects,this.state.isIncludeReferencesDeepChecked,targetWorkspace,targetWorkspaceName);if(this.isMounted){this.setState({isLoading:false})}});duplicate_modal_defineProperty(this,"onTargetWorkspaceChange",targetWorkspaceOption=>{this.setState({targetWorkspaceOption:targetWorkspaceOption})});duplicate_modal_defineProperty(this,"changeIncludeReferencesDeep",e=>{this.setState({isIncludeReferencesDeepChecked:e.target.checked})});const{workspaces:workspaces}=props;const currentWorkspace=workspaces.currentWorkspace$.value;const targetWorkspacesOptions=getTargetWorkspacesOptions(workspaces,currentWorkspace);this.state={allSelectedObjects:props.selectedSavedObjects,workspaceOptions:targetWorkspacesOptions,targetWorkspaceOption:[],isLoading:false,isIncludeReferencesDeepChecked:true};this.isMounted=true}componentWillUnmount(){this.isMounted=false}render(){var _targetWorkspaceOptio,_allSelectedObjects$;const{workspaceOptions:workspaceOptions,targetWorkspaceOption:targetWorkspaceOption,isIncludeReferencesDeepChecked:isIncludeReferencesDeepChecked,allSelectedObjects:allSelectedObjects}=this.state;const{onClose:onClose}=this.props;const targetWorkspaceId=targetWorkspaceOption===null||targetWorkspaceOption===void 0||(_targetWorkspaceOptio=targetWorkspaceOption.at(0))===null||_targetWorkspaceOptio===void 0?void 0:_targetWorkspaceOptio.key;return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiModal"],{"data-test-subj":"savedObjectsDuplicateModal",className:"savedObjectsModal",onClose:onClose},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiModalHeader"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiModalHeaderTitle"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.duplicateModal.title",defaultMessage:"Copy {objectCount, plural, =1 {{objectName}} other {# {useUpdatedUX, select, true {assets} other {objects}}}} to another workspace?",values:{objectName:(_allSelectedObjects$=allSelectedObjects[0])===null||_allSelectedObjects$===void 0?void 0:_allSelectedObjects$.meta.title,objectCount:allSelectedObjects.length,useUpdatedUX:this.props.useUpdatedUX}}))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiModalBody"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFormRow"],{fullWidth:true,label:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.duplicateModal.targetWorkspaceLabel",{defaultMessage:"Target workspace"})},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiComboBox"],{options:workspaceOptions,onChange:this.onTargetWorkspaceChange,selectedOptions:targetWorkspaceOption,singleSelection:{asPlainText:true},isClearable:false,isInvalid:!targetWorkspaceId,placeholder:"Select a workspace"}))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],null),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFormRow"],{fullWidth:true,label:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.duplicateModal.relatedObjects",{defaultMessage:"Copy related {useUpdatedUX, select, true {assets} other {objects}}",values:{useUpdatedUX:this.props.useUpdatedUX}})},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCheckbox"],{id:"includeReferencesDeep",label:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.duplicateModal.includeReferencesDeepLabel",{defaultMessage:"Copy the selected {useUpdatedUX, select, true {asset} other {object}} and any related {useUpdatedUX, select, true {assets} other {objects}} (recommended).",values:{useUpdatedUX:this.props.useUpdatedUX}}),checked:isIncludeReferencesDeepChecked,onChange:this.changeIncludeReferencesDeep})))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiModalFooter"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiButtonEmpty"],{"data-test-subj":"duplicateCancelButton",onClick:this.props.onClose},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.duplicateModal.duplicateCancelButton",defaultMessage:"Cancel"})),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiButton"],{fill:true,"data-test-subj":"duplicateConfirmButton",onClick:()=>this.duplicateSavedObjects(allSelectedObjects),isLoading:this.state.isLoading,disabled:!targetWorkspaceId},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.duplicateModal.confirmButtonLabel",defaultMessage:"Copy"}))))}}var public_0=__webpack_require__(28);function duplicate_result_flyout_defineProperty(obj,key,value){key=duplicate_result_flyout_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function duplicate_result_flyout_toPropertyKey(arg){var key=duplicate_result_flyout_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function duplicate_result_flyout_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}const duplicate_result_flyout_DEFAULT_ICON="apps";const duplicate_result_flyout_unsupportedTypeErrorMessage=external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.copyResult.unsupportedTypeError",{defaultMessage:"Unsupported object type"});const duplicate_result_flyout_getErrorMessage=_ref=>{let{error:error}=_ref;if(error.type==="unknown"){return error.message}else if(error.type==="unsupported_type"){return duplicate_result_flyout_unsupportedTypeErrorMessage}else if(error.type==="missing_data_source"){return external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.copyResult.missingDataSourceError",{defaultMessage:"Missing data source: {ds}",values:{ds:error.dataSource}})}else if(error.type==="missing_references"){return external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.copyResult.missingReferencesError",{defaultMessage:"Missing references."})}};class duplicate_result_flyout_DuplicateResultFlyout extends external_osdSharedDeps_React_default.a.Component{constructor(props){super(props);duplicate_result_flyout_defineProperty(this,"indexPatternConflictsWarning",external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCallOut"],{"data-test-subj":"importSavedObjectsConflictsWarning",title:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.copyResult.indexPatternConflictsTitle",defaultMessage:"Index Pattern Conflicts"}),color:"danger",iconType:"alert"},external_osdSharedDeps_React_default.a.createElement("p",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.copyResult.indexPatternConflictsDescription",defaultMessage:"The following {useUpdatedUX, select, true {assets} other {saved objects}} use index patterns that do not exist. Please select the index patterns you'd like re-associated with them. You can create a new index pattern if necessary.",values:{useUpdatedUX:this.props.useUpdatedUX}}))));duplicate_result_flyout_defineProperty(this,"missingDataSourceWarning",external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCallOut"],{"data-test-subj":"missingDataSourceWarning",title:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.copyResult.missingDataSourceTitle",defaultMessage:"Missing Data Source"}),color:"danger",iconType:"alert"},external_osdSharedDeps_React_default.a.createElement("p",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.copyResult.missingDataSourceDescription",defaultMessage:"The following {useUpdatedUX, select, true {assets} other {saved objects}} can not be copied, some of the data sources they use are not associated with {targetWorkspaceDataSourceLink}.",values:{useUpdatedUX:this.props.useUpdatedUX,targetWorkspaceDataSourceLink:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiLink"],{href:this.props.dataSourceUrlForTargetWorkspace,target:"_blank"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.copyResult.missingDataSourceCalloutLinkText",defaultMessage:"{targetWorkspace}",values:{targetWorkspace:this.props.workspaceName}}))}}))));duplicate_result_flyout_defineProperty(this,"duplicateSavedObjects",async()=>{const{successfulCopies:successfulCopies,workspaceName:workspaceName,onCopy:onCopy,targetWorkspace:targetWorkspace}=this.props;const savedObjects=successfulCopies.map(_ref2=>{let{id:id,meta:meta,type:type}=_ref2;return{id:id,meta:meta,type:type}});this.setState({isLoading:true});await onCopy(savedObjects,false,targetWorkspace,workspaceName);this.setState({isLoading:false})});this.state={isLoading:false}}get isShowRemainingButton(){return this.props.successfulCopies.length>0&&!!this.props.failedCopies.find(_ref3=>{let{error:error}=_ref3;return error.type==="missing_references"||error.type==="missing_data_source"})}getCountIndicators(copyItems){if(!copyItems.length){return null}const outcomeCounts=copyItems.reduce((acc,_ref4)=>{var _acc$get;let{outcome:outcome}=_ref4;return acc.set(outcome,((_acc$get=acc.get(outcome))!==null&&_acc$get!==void 0?_acc$get:0)+1)},new Map);const copiedCount=outcomeCounts.get("copied");const errorCount=outcomeCounts.get("error");return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],null,copiedCount&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_osdSharedDeps_React_default.a.createElement("h4",{className:"savedObjectsManagementImportSummary__createdCount"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.copyResult.copiedCountHeader",defaultMessage:"{copiedCount} Successful",values:{copiedCount:copiedCount}})))),errorCount&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_osdSharedDeps_React_default.a.createElement("h4",{className:"savedObjectsManagementImportSummary__errorCount"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.copyResult.errorCountHeader",defaultMessage:"{errorCount} Error copying file",values:{errorCount:errorCount}})))))}getStatusIndicator(_ref5){let{outcome:outcome,errorMessage:errorMessage="Error"}=_ref5;switch(outcome){case"copied":return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiIconTip"],{type:"checkInCircleFilled",color:"success",content:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.copyResult.copiedOutcomeLabel",{defaultMessage:"copied"})});case"error":return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiIconTip"],{type:"alert",color:"danger",content:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.copyResult.errorOutcomeLabel",{defaultMessage:"{errorMessage}",values:{errorMessage:errorMessage}})})}}mapFailedCopy(failure){const{type:type,id:id,meta:meta}=failure;const title=meta.title||Object(lib["getDefaultTitle"])({type:type,id:id});const icon=meta.icon||duplicate_result_flyout_DEFAULT_ICON;const errorMessage=duplicate_result_flyout_getErrorMessage(failure);return{type:type,id:id,title:title,icon:icon,outcome:"error",errorMessage:errorMessage}}mapCopySuccess(obj){const{type:type,id:id,meta:meta}=obj;const title=meta.title||Object(lib["getDefaultTitle"])(obj);const icon=meta.icon||duplicate_result_flyout_DEFAULT_ICON;return{type:type,id:id,title:title,icon:icon,outcome:"copied"}}renderItems(items){return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_["Fragment"],null,items.map((item,index)=>{const{type:type,title:title,icon:icon}=item;return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{responsive:false,key:index,alignItems:"center",gutterSize:"s",className:"savedObjectsManagementImportSummary__row"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiToolTip"],{position:"top",content:Object(public_0["getSavedObjectLabel"])(type)},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiIcon"],{"aria-label":Object(public_0["getSavedObjectLabel"])(type),type:icon,size:"s"}))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{className:"savedObjectsManagementImportSummary__title"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_osdSharedDeps_React_default.a.createElement("p",{className:"eui-textTruncate",title:title},title))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement("div",{className:"eui-textRight"},this.getStatusIndicator(item))))}))}copyResult(_ref6){let{failedCopies:failedCopies,successfulCopies:successfulCopies}=_ref6;const missingDataSourceItems=failedCopies.filter(_ref7=>{let{error:error}=_ref7;return error.type==="missing_data_source"}).map(object=>this.mapFailedCopy(object));const missingReferencesItems=failedCopies.filter(_ref8=>{let{error:error}=_ref8;return error.type==="missing_references"}).map(object=>this.mapFailedCopy(object));if(missingReferencesItems.length>0||missingDataSourceItems.length>0){return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_["Fragment"],null,missingReferencesItems.length>0&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,this.indexPatternConflictsWarning,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),this.renderItems(missingReferencesItems),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHorizontalRule"],null)),missingDataSourceItems.length>0&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_default.a.Fragment,null,this.missingDataSourceWarning,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),this.renderItems(missingDataSourceItems)))}const copyItems=external_osdSharedDeps_Lodash_default.a.sortBy([...failedCopies.map(object=>this.mapFailedCopy(object)),...successfulCopies.map(object=>this.mapCopySuccess(object))],["type","title"]);return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_["Fragment"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTitle"],{size:"s","data-test-subj":"copySavedObjectsSuccess"},external_osdSharedDeps_React_default.a.createElement("h3",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.copyResult.headerLabelPlural",defaultMessage:"{itemsCount, plural, one {# {useUpdatedUX, select, true {asset} other {saved object}}}  other {# {useUpdatedUX, select, true {assets} other {saved objects}}}} copied",values:{itemsCount:copyItems.length,useUpdatedUX:this.props.useUpdatedUX}}))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),this.getCountIndicators(copyItems),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiHorizontalRule"],null),this.renderItems(copyItems))}render(){const{onClose:onClose,failedCopies:failedCopies,successfulCopies:successfulCopies,workspaceName:workspaceName,useUpdatedUX:useUpdatedUX}=this.props;const{isLoading:isLoading}=this.state;return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlyout"],{ownFocus:true,onClose:onClose,size:"s"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlyoutHeader"],{hasBorder:true},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_osdSharedDeps_React_default.a.createElement("h2",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.copyResult.title",defaultMessage:"Copy {useUpdatedUX, select, true {assets} other {saved objects}} to {workspaceName}",values:{workspaceName:workspaceName,useUpdatedUX:useUpdatedUX}})))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlyoutBody"],null,this.copyResult({failedCopies:failedCopies,successfulCopies:successfulCopies})),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlyoutFooter"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSmallButtonEmpty"],{onClick:onClose,flush:"left"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.copyResult.closeButton",defaultMessage:"Close"}))),this.isShowRemainingButton&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSmallButton"],{fill:true,onClick:()=>this.duplicateSavedObjects(),isLoading:isLoading},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.copyResult.copyRemainingButton",defaultMessage:"Copy remaining {itemsCount, plural, one {# {useUpdatedUX, select, true {asset} other {saved object}}}  other {# {useUpdatedUX, select, true {assets} other {saved objects}}}}",values:{useUpdatedUX:useUpdatedUX,itemsCount:successfulCopies.length}}))))))}}var utils=__webpack_require__(15);function saved_objects_table_defineProperty(obj,key,value){key=saved_objects_table_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function saved_objects_table_toPropertyKey(arg){var key=saved_objects_table_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function saved_objects_table_toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}class saved_objects_table_SavedObjectsTable extends external_osdSharedDeps_React_["Component"]{constructor(props){super(props);saved_objects_table_defineProperty(this,"_isMounted",false);saved_objects_table_defineProperty(this,"currentWorkspaceSubscription",void 0);saved_objects_table_defineProperty(this,"workspacesSubscription",void 0);saved_objects_table_defineProperty(this,"fetchCounts",async()=>{var _namespaceRegistry$ge,_this$state$available,_this$state$available2;const{allowedTypes:allowedTypes,namespaceRegistry:namespaceRegistry}=this.props;const{queryText:queryText,visibleTypes:visibleTypes,visibleNamespaces:visibleNamespaces,visibleWorkspaces:visibleWorkspaces}=Object(lib["parseQuery"])(this.state.activeQuery);const filteredTypes=Object(lib["filterQuery"])(allowedTypes,visibleTypes);const availableNamespaces=((_namespaceRegistry$ge=namespaceRegistry.getAll())===null||_namespaceRegistry$ge===void 0?void 0:_namespaceRegistry$ge.map(ns=>ns.id))||[];const filteredCountOptions=Object(utils["b"])({typesToInclude:filteredTypes,searchString:queryText,workspaces:this.workspaceIdQuery,availableWorkspaces:(_this$state$available=this.state.availableWorkspaces)===null||_this$state$available===void 0?void 0:_this$state$available.map(ws=>ws.id)});if(availableNamespaces.length){const filteredNamespaces=Object(lib["filterQuery"])(availableNamespaces,visibleNamespaces);filteredCountOptions.namespacesToInclude=filteredNamespaces}if(visibleWorkspaces!==null&&visibleWorkspaces!==void 0&&visibleWorkspaces.length){filteredCountOptions.workspaces=this.workspaceNamesToIds(visibleWorkspaces)}const filteredSavedObjectCounts=await Object(lib["getSavedObjectCounts"])(this.props.http,filteredCountOptions);const exportAllOptions=[];const exportAllSelectedOptions={};const filteredTypeCounts=filteredSavedObjectCounts.type||{};Object.keys(filteredTypeCounts).forEach(id=>{exportAllOptions.push({id:id,label:`${id} (${filteredTypeCounts[id]||0})`});exportAllSelectedOptions[id]=true});const countOptions=Object(utils["b"])({typesToInclude:allowedTypes,searchString:queryText,workspaces:this.workspaceIdQuery,availableWorkspaces:(_this$state$available2=this.state.availableWorkspaces)===null||_this$state$available2===void 0?void 0:_this$state$available2.map(ws=>ws.id)});if(availableNamespaces.length){countOptions.namespacesToInclude=availableNamespaces}const savedObjectCounts=await Object(lib["getSavedObjectCounts"])(this.props.http,countOptions);this.setState(state=>({...state,savedObjectCounts:savedObjectCounts,exportAllOptions:exportAllOptions,exportAllSelectedOptions:exportAllSelectedOptions}))});saved_objects_table_defineProperty(this,"fetchSavedObjects",()=>{this.setState({isSearching:true},this.debouncedFetchObjects)});saved_objects_table_defineProperty(this,"subscribeWorkspace",()=>{const workspace=this.props.workspaces;this.currentWorkspaceSubscription=workspace.currentWorkspace$.subscribe(newValue=>this.setState({currentWorkspace:newValue}));this.workspacesSubscription=workspace.workspaceList$.subscribe(workspaceList=>{this.setState({availableWorkspaces:workspaceList})})});saved_objects_table_defineProperty(this,"unSubscribeWorkspace",()=>{var _this$currentWorkspac,_this$workspacesSubsc;(_this$currentWorkspac=this.currentWorkspaceSubscription)===null||_this$currentWorkspac===void 0||_this$currentWorkspac.unsubscribe();(_this$workspacesSubsc=this.workspacesSubscription)===null||_this$workspacesSubsc===void 0||_this$workspacesSubsc.unsubscribe()});saved_objects_table_defineProperty(this,"fetchSavedObject",(type,id)=>{this.setState({isSearching:true},()=>this.debouncedFetchObject(type,id))});saved_objects_table_defineProperty(this,"debouncedFetchObjects",Object(external_osdSharedDeps_Lodash_["debounce"])(async()=>{const{activeQuery:query}=this.state;const{notifications:notifications,http:http,useUpdatedUX:useUpdatedUX}=this.props;try{const resp=await Object(lib["findObjects"])(http,this.findOptions);if(!this._isMounted){return}this.setState(_ref=>{let{activeQuery:activeQuery}=_ref;if(activeQuery.text!==query.text){return null}return{savedObjects:resp.savedObjects,filteredItemCount:resp.total,isSearching:false}})}catch(error){if(this._isMounted){this.setState({isSearching:false})}notifications.toasts.addDanger({title:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.unableFindSavedObjectsNotificationMessage",{defaultMessage:"Unable find {useUpdatedUX, select, true {assets} other {saved objects}}",values:{useUpdatedUX:useUpdatedUX}}),text:`${error}`})}},300));saved_objects_table_defineProperty(this,"debouncedFetchObject",Object(external_osdSharedDeps_Lodash_["debounce"])(async(type,id)=>{const{notifications:notifications,http:http,useUpdatedUX:useUpdatedUX}=this.props;try{const resp=await Object(lib["findObject"])(http,type,id);if(!this._isMounted){return}this.setState(_ref2=>{let{savedObjects:savedObjects,filteredItemCount:filteredItemCount}=_ref2;const refreshedSavedObjects=savedObjects.map(object=>object.type===type&&object.id===id?resp:object);return{savedObjects:refreshedSavedObjects,filteredItemCount:filteredItemCount,isSearching:false}})}catch(error){if(this._isMounted){this.setState({isSearching:false})}notifications.toasts.addDanger({title:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.unableFindSavedObjectNotificationMessage",{defaultMessage:"Unable to find {useUpdatedUX, select, true {asset} other {saved object}}",values:{useUpdatedUX:useUpdatedUX}}),text:`${error}`})}},300));saved_objects_table_defineProperty(this,"refreshObjects",async()=>{await Promise.all([this.fetchSavedObjects(),this.fetchCounts()])});saved_objects_table_defineProperty(this,"refreshObject",async _ref3=>{let{type:type,id:id}=_ref3;await this.fetchSavedObject(type,id)});saved_objects_table_defineProperty(this,"onSelectionChanged",selection=>{this.setState({selectedSavedObjects:selection})});saved_objects_table_defineProperty(this,"onQueryChange",_ref4=>{let{query:query}=_ref4;this.setState({activeQuery:query,page:0,selectedSavedObjects:[]},()=>{this.fetchSavedObjects();this.fetchCounts()})});saved_objects_table_defineProperty(this,"onTableChange",async table=>{const{index:page,size:perPage}=table.page||{};this.setState({page:page,perPage:perPage,selectedSavedObjects:[]},this.fetchSavedObjects)});saved_objects_table_defineProperty(this,"onShowRelationships",object=>{this.setState({isShowingRelationships:true,relationshipObject:object})});saved_objects_table_defineProperty(this,"onHideRelationships",()=>{this.setState({isShowingRelationships:false,relationshipObject:undefined})});saved_objects_table_defineProperty(this,"onExport",async includeReferencesDeep=>{const{selectedSavedObjects:selectedSavedObjects}=this.state;const{notifications:notifications,http:http}=this.props;const objectsToExport=selectedSavedObjects.map(obj=>({id:obj.id,type:obj.type}));let blob;try{blob=await Object(lib["fetchExportObjects"])(http,objectsToExport,includeReferencesDeep)}catch(e){notifications.toasts.addDanger({title:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.export.dangerNotification",{defaultMessage:"Unable to generate export"})});throw e}Object(file_saver["saveAs"])(blob,"export.ndjson");const exportDetails=await Object(lib["extractExportDetails"])(blob);this.showExportSuccessMessage(exportDetails)});saved_objects_table_defineProperty(this,"onExportAll",async()=>{const{exportAllSelectedOptions:exportAllSelectedOptions,isIncludeReferencesDeepChecked:isIncludeReferencesDeepChecked,activeQuery:activeQuery}=this.state;const{notifications:notifications,http:http}=this.props;const{queryText:queryText,visibleWorkspaces:visibleWorkspaces}=Object(lib["parseQuery"])(activeQuery);const exportTypes=Object.entries(exportAllSelectedOptions).reduce((accum,_ref5)=>{let[id,selected]=_ref5;if(selected){accum.push(id)}return accum},[]);const filteredWorkspaceIds=this.workspaceNamesToIds(visibleWorkspaces);const workspaces=filteredWorkspaceIds||this.workspaceIdQuery;let blob;try{blob=await Object(lib["fetchExportByTypeAndSearch"])(http,exportTypes,queryText?`${queryText}*`:undefined,isIncludeReferencesDeepChecked,workspaces)}catch(e){notifications.toasts.addDanger({title:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.export.dangerNotification",{defaultMessage:"Unable to generate export"})});throw e}Object(file_saver["saveAs"])(blob,"export.ndjson");const exportDetails=await Object(lib["extractExportDetails"])(blob);this.showExportSuccessMessage(exportDetails);this.setState({isShowingExportAllOptionsModal:false})});saved_objects_table_defineProperty(this,"showExportSuccessMessage",exportDetails=>{const{notifications:notifications,useUpdatedUX:useUpdatedUX}=this.props;if(exportDetails&&exportDetails.missingReferences.length>0){notifications.toasts.addWarning({title:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.export.successWithMissingRefsNotification",{defaultMessage:"Your file is downloading in the background. "+"Some related {useUpdatedUX, select, true {assets} other {objects}} could not be found. "+"Please see the last line in the exported file for a list of missing objects.",values:{useUpdatedUX:useUpdatedUX}})})}else{notifications.toasts.addSuccess({title:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.export.successNotification",{defaultMessage:"Your file is downloading in the background"})})}});saved_objects_table_defineProperty(this,"finishImport",()=>{this.hideImportFlyout();this.fetchSavedObjects();this.fetchCounts()});saved_objects_table_defineProperty(this,"showImportFlyout",()=>{this.setState({isShowingImportFlyout:true})});saved_objects_table_defineProperty(this,"hideImportFlyout",()=>{this.setState({isShowingImportFlyout:false})});saved_objects_table_defineProperty(this,"onDelete",()=>{this.setState({isShowingDeleteConfirmModal:true})});saved_objects_table_defineProperty(this,"delete",async()=>{const{savedObjectsClient:savedObjectsClient,notifications:notifications,useUpdatedUX:useUpdatedUX}=this.props;const{selectedSavedObjects:selectedSavedObjects,isDeleting:isDeleting}=this.state;if(isDeleting){return}this.setState({isDeleting:true});const indexPatterns=selectedSavedObjects.filter(object=>object.type==="index-pattern");try{if(indexPatterns.length){await this.props.indexPatterns.clearCache()}const objects=await savedObjectsClient.bulkGet(selectedSavedObjects);const deletes=objects.savedObjects.map(object=>savedObjectsClient.delete(object.type,object.id,{force:true}));await Promise.all(deletes);this.setState({selectedSavedObjects:[]});await this.fetchSavedObjects();await this.fetchCounts();this.setState({isShowingDeleteConfirmModal:false})}catch(error){notifications.toasts.addDanger({title:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.unableDeleteSavedObjectsNotificationMessage",{defaultMessage:"Unable to delete {useUpdatedUX, select, true {assets} other {saved objects}}",values:{useUpdatedUX:useUpdatedUX}}),text:`${error}`})}this.setState({isDeleting:false})});saved_objects_table_defineProperty(this,"getRelationships",async(type,id)=>{const{allowedTypes:allowedTypes,http:http}=this.props;return await Object(lib["getRelationships"])(http,type,id,allowedTypes)});saved_objects_table_defineProperty(this,"hideDuplicateModal",()=>{this.setState({isShowingDuplicateModal:false})});saved_objects_table_defineProperty(this,"onDuplicateAll",async()=>{const{notifications:notifications,http:http,useUpdatedUX:useUpdatedUX}=this.props;const findOptions=this.findOptions;findOptions.perPage=9999;findOptions.page=1;try{const resp=await Object(lib["findObjects"])(http,findOptions);const duplicateObjects=resp.savedObjects.map(obj=>({id:obj.id,type:obj.type,meta:obj.meta,workspaces:obj.workspaces}));this.setState({duplicateSelectedSavedObjects:duplicateObjects,isShowingDuplicateModal:true})}catch(error){notifications.toasts.addDanger({title:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.unableFindSavedObjectsNotificationMessage",{defaultMessage:"Unable find {useUpdatedUX, select, true {assets} other {saved objects}}",values:{useUpdatedUX:useUpdatedUX}}),text:`${error}`})}});saved_objects_table_defineProperty(this,"onDuplicate",async(savedObjects,includeReferencesDeep,targetWorkspace,targetWorkspaceName)=>{const{notifications:notifications,workspaces:workspaces,useUpdatedUX:useUpdatedUX}=this.props;const workspaceClient=workspaces.client$.getValue();const showErrorNotification=()=>{notifications.toasts.addDanger({title:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.duplicate.dangerNotification",{defaultMessage:"Unable to copy {useUpdatedUX, select, true {{errorCount, plural, one {# asset} other {# assets}}} other {{errorCount, plural, one {# saved object} other {# saved objects}}}}.",values:{errorCount:savedObjects.length,useUpdatedUX:useUpdatedUX}})})};if(!workspaceClient){showErrorNotification();return}const objectsToDuplicate=savedObjects.map(obj=>({id:obj.id,type:obj.type}));try{const result=await workspaceClient.copy(objectsToDuplicate,targetWorkspace,includeReferencesDeep);this.setState({isShowingDuplicateResultFlyout:true,failedCopies:(result===null||result===void 0?void 0:result.errors)||[],successfulCopies:(result===null||result===void 0?void 0:result.successResults)||[],targetWorkspace:targetWorkspace,targetWorkspaceName:targetWorkspaceName})}catch(e){showErrorNotification()}finally{this.hideDuplicateModal();await this.refreshObjects()}});saved_objects_table_defineProperty(this,"hideDuplicateResultFlyout",()=>{this.setState({isShowingDuplicateResultFlyout:false})});saved_objects_table_defineProperty(this,"changeIncludeReferencesDeep",()=>{this.setState(state=>({isIncludeReferencesDeepChecked:!state.isIncludeReferencesDeepChecked}))});saved_objects_table_defineProperty(this,"closeExportAllModal",()=>{this.setState({isShowingExportAllOptionsModal:false})});const typeCounts=props.allowedTypes.reduce((typeToCountMap,type)=>{typeToCountMap[type]=0;return typeToCountMap},{});this.state={totalCount:0,page:0,perPage:props.perPageConfig||50,savedObjects:[],savedObjectCounts:{type:typeCounts},activeQuery:external_osdSharedDeps_ElasticEui_["Query"].parse(""),selectedSavedObjects:[],duplicateSelectedSavedObjects:[],isShowingImportFlyout:false,isShowingDuplicateModal:false,isSearching:false,filteredItemCount:0,isShowingRelationships:false,relationshipObject:undefined,isShowingDeleteConfirmModal:false,isShowingExportAllOptionsModal:false,isDeleting:false,exportAllOptions:[],exportAllSelectedOptions:{},isIncludeReferencesDeepChecked:true,currentWorkspace:this.props.workspaces.currentWorkspace$.getValue(),availableWorkspaces:this.props.workspaces.workspaceList$.getValue(),workspaceEnabled:this.props.applications.capabilities.workspaces.enabled,isShowingDuplicateResultFlyout:false,failedCopies:[],successfulCopies:[],targetWorkspaceName:"",targetWorkspace:""}}get findOptions(){var _namespaceRegistry$ge2;const{activeQuery:query,page:page,perPage:perPage}=this.state;const{allowedTypes:allowedTypes,namespaceRegistry:namespaceRegistry}=this.props;const{queryText:queryText,visibleTypes:visibleTypes,visibleNamespaces:visibleNamespaces,visibleWorkspaces:visibleWorkspaces}=Object(lib["parseQuery"])(query);const filteredTypes=Object(lib["filterQuery"])(allowedTypes,visibleTypes);const findOptions=Object(utils["b"])({search:queryText?`${queryText}*`:undefined,perPage:perPage,page:page+1,fields:["id"],type:filteredTypes,workspaces:this.workspaceIdQuery});const availableNamespaces=((_namespaceRegistry$ge2=namespaceRegistry.getAll())===null||_namespaceRegistry$ge2===void 0?void 0:_namespaceRegistry$ge2.map(ns=>ns.id))||[];if(availableNamespaces.length){const filteredNamespaces=Object(lib["filterQuery"])(availableNamespaces,visibleNamespaces);findOptions.namespaces=filteredNamespaces}if(visibleWorkspaces!==null&&visibleWorkspaces!==void 0&&visibleWorkspaces.length){findOptions.workspaces=this.workspaceNamesToIds(visibleWorkspaces)}if(findOptions.type.length>1){findOptions.sortField="type"}return findOptions}get workspaceIdQuery(){const{currentWorkspace:currentWorkspace,workspaceEnabled:workspaceEnabled}=this.state;if(!workspaceEnabled){return undefined}else{if(!currentWorkspace){return undefined}else{return[currentWorkspace.id]}}}get workspaceNameIdLookup(){const{availableWorkspaces:availableWorkspaces}=this.state;const workspaceNameIdMap=new Map;availableWorkspaces===null||availableWorkspaces===void 0||availableWorkspaces.forEach(workspace=>{workspaceNameIdMap.set(workspace.name,workspace.id)});return workspaceNameIdMap}workspaceNamesToIds(workspaceNames){return workspaceNames===null||workspaceNames===void 0?void 0:workspaceNames.map(wsName=>this.workspaceNameIdLookup.get(wsName)||"").filter(wsId=>!!wsId)}componentDidMount(){this._isMounted=true;this.subscribeWorkspace();this.fetchSavedObjects();this.fetchCounts()}componentWillUnmount(){this._isMounted=false;this.debouncedFetchObjects.cancel();this.unSubscribeWorkspace()}renderFlyout(){if(!this.state.isShowingImportFlyout){return null}const{applications:applications}=this.props;const newIndexPatternUrl=applications.getUrlForApp("management",{path:"opensearch-dashboards/indexPatterns"});return external_osdSharedDeps_React_default.a.createElement(flyout_Flyout,{close:this.hideImportFlyout,done:this.finishImport,http:this.props.http,serviceRegistry:this.props.serviceRegistry,indexPatterns:this.props.indexPatterns,newIndexPatternUrl:newIndexPatternUrl,allowedTypes:this.props.allowedTypes,overlays:this.props.overlays,search:this.props.search,dataSourceEnabled:this.props.dataSourceEnabled,savedObjects:this.props.savedObjectsClient,notifications:this.props.notifications,dataSourceManagement:this.props.dataSourceManagement,useUpdatedUX:this.props.useUpdatedUX})}renderDuplicateModal(){const{isShowingDuplicateModal:isShowingDuplicateModal,duplicateSelectedSavedObjects:duplicateSelectedSavedObjects}=this.state;if(!isShowingDuplicateModal){return null}return external_osdSharedDeps_React_default.a.createElement(duplicate_modal_SavedObjectsDuplicateModal,{http:this.props.http,workspaces:this.props.workspaces,onDuplicate:this.onDuplicate,notifications:this.props.notifications,onClose:this.hideDuplicateModal,selectedSavedObjects:duplicateSelectedSavedObjects,useUpdatedUX:this.props.useUpdatedUX})}renderDuplicateResultFlyout(){const{isShowingDuplicateResultFlyout:isShowingDuplicateResultFlyout,targetWorkspaceName:targetWorkspaceName,failedCopies:failedCopies,successfulCopies:successfulCopies,targetWorkspace:targetWorkspace}=this.state;const{applications:applications,http:http}=this.props;if(!isShowingDuplicateResultFlyout){return null}const dataSourceUrlForTargetWorkspace=Object(utils_["formatUrlWithWorkspaceId"])(applications.getUrlForApp("dataSources",{absolute:false}),targetWorkspace,http.basePath);return external_osdSharedDeps_React_default.a.createElement(duplicate_result_flyout_DuplicateResultFlyout,{workspaceName:targetWorkspaceName,failedCopies:failedCopies,successfulCopies:successfulCopies,onClose:this.hideDuplicateResultFlyout,onCopy:this.onDuplicate,targetWorkspace:targetWorkspace,useUpdatedUX:this.props.useUpdatedUX,dataSourceUrlForTargetWorkspace:dataSourceUrlForTargetWorkspace})}renderRelationships(){if(!this.state.isShowingRelationships){return null}return external_osdSharedDeps_React_default.a.createElement(relationships_Relationships,{basePath:this.props.http.basePath,savedObject:this.state.relationshipObject,getRelationships:this.getRelationships,close:this.onHideRelationships,goInspectObject:this.props.goInspectObject,canGoInApp:this.props.canGoInApp,useUpdatedUX:this.props.useUpdatedUX})}renderDeleteConfirmModal(){const{isShowingDeleteConfirmModal:isShowingDeleteConfirmModal,isDeleting:isDeleting,selectedSavedObjects:selectedSavedObjects}=this.state;if(!isShowingDeleteConfirmModal){return null}let modal;if(isDeleting){modal=external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiOverlayMask"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiLoadingSpinner"],{size:"xl"}))}else{const onCancel=()=>{this.setState({isShowingDeleteConfirmModal:false})};const onConfirm=()=>{this.delete()};modal=external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiModal"],{onClose:onCancel,maxWidth:"50vw"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiModalHeader"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiModalHeaderTitle"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.deleteSavedObjectsConfirmModalTitle",defaultMessage:"Delete assets"}))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiModalBody"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_osdSharedDeps_React_default.a.createElement("p",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.deleteSavedObjectsConfirmModalDescription",defaultMessage:"This action will delete the following assets:"}))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiInMemoryTable"],{items:selectedSavedObjects,columns:[{field:"type",name:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.deleteSavedObjectsConfirmModal.typeColumnName",{defaultMessage:"Type"}),width:"50px",render:(type,object)=>external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiToolTip"],{position:"top",content:Object(lib["getSavedObjectLabel"])(type)},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiIcon"],{type:object.meta.icon||"apps"}))},{field:"meta.title",name:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.deleteSavedObjectsConfirmModal.titleColumnName",{defaultMessage:"Title"})},{field:"id",name:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.deleteSavedObjectsConfirmModal.idColumnName",{defaultMessage:"ID"})}],pagination:true,sorting:false})),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiModalFooter"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiButtonEmpty"],{onClick:onCancel},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.deleteSavedObjectsConfirmModal.cancelButtonLabel",defaultMessage:"Cancel"})),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiButton"],{type:"submit",onClick:onConfirm,fill:true,color:"danger","data-test-subj":"confirmModalConfirmButton",disabled:!!isDeleting},isDeleting?external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.deleteSavedObjectsConfirmModal.deleteProcessButtonLabel",defaultMessage:"Deleting…"}):external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.deleteSavedObjectsConfirmModal.deleteButtonLabel",defaultMessage:"Delete"}))))}return modal}renderExportAllOptionsModal(){const{isShowingExportAllOptionsModal:isShowingExportAllOptionsModal,filteredItemCount:filteredItemCount,exportAllOptions:exportAllOptions,exportAllSelectedOptions:exportAllSelectedOptions,isIncludeReferencesDeepChecked:isIncludeReferencesDeepChecked}=this.state;if(!isShowingExportAllOptionsModal){return null}return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiModal"],{onClose:this.closeExportAllModal},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiModalHeader"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiModalHeaderTitle"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_osdSharedDeps_React_default.a.createElement("h2",null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.exportObjectsConfirmModalTitle",defaultMessage:"Export {useUpdatedUX, select, true {{filteredItemCount, plural, one{# asset} other {# assets}}} other {{filteredItemCount, plural, one{# object} other {# objects}}}}",values:{useUpdatedUX:this.props.useUpdatedUX,filteredItemCount:filteredItemCount}}))))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiModalBody"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCompressedFormRow"],{label:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.exportObjectsConfirmModalDescription",defaultMessage:"Select which types to export"}),labelType:"legend"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCompressedCheckboxGroup"],{options:exportAllOptions,idToSelectedMap:exportAllSelectedOptions,onChange:optionId=>{const newExportAllSelectedOptions={...exportAllSelectedOptions,...{[optionId]:!exportAllSelectedOptions[optionId]}};this.setState({exportAllSelectedOptions:newExportAllSelectedOptions})}})),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiCompressedSwitch"],{name:"includeReferencesDeep",label:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.exportObjectsConfirmModal.includeReferencesDeepLabel",defaultMessage:"Include related {useUpdatedUX, select, true {assets} other {objects}}",values:{useUpdatedUX:this.props.useUpdatedUX}}),checked:isIncludeReferencesDeepChecked,onChange:this.changeIncludeReferencesDeep})),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiModalFooter"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexEnd"},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSmallButtonEmpty"],{onClick:this.closeExportAllModal},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.exportObjectsConfirmModal.cancelButtonLabel",defaultMessage:"Cancel"}))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSmallButton"],{fill:true,onClick:this.onExportAll},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.exportObjectsConfirmModal.exportAllButtonLabel",defaultMessage:"Export all"}))))))))}render(){const{selectedSavedObjects:selectedSavedObjects,page:page,perPage:perPage,savedObjects:savedObjects,filteredItemCount:filteredItemCount,isSearching:isSearching,savedObjectCounts:savedObjectCounts,availableWorkspaces:availableWorkspaces,workspaceEnabled:workspaceEnabled,currentWorkspace:currentWorkspace}=this.state;const{http:http,allowedTypes:allowedTypes,applications:applications,namespaceRegistry:namespaceRegistry,useUpdatedUX:useUpdatedUX,navigationUI:navigationUI}=this.props;const selectionConfig={onSelectionChange:this.onSelectionChanged};const typeCounts=savedObjectCounts.type||{};const filterOptions=allowedTypes.map(type=>({value:type,name:type,view:`${type} (${typeCounts[type]||0})`}));const filters=[{type:"field_value_selection",field:"type",name:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.typeFilterName",{defaultMessage:"Type"}),multiSelect:"or",options:filterOptions,searchThreshold:1}];const availableNamespaces=namespaceRegistry.getAll()||[];if(availableNamespaces.length){const nsCounts=savedObjectCounts.namespaces||{};const nsFilterOptions=availableNamespaces.map(ns=>({name:ns.name,value:ns.id,view:`${ns.name} (${nsCounts[ns.id]||0})`}));filters.push({type:"field_value_selection",field:"namespaces",name:namespaceRegistry.getAlias()||external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.namespaceFilterName",{defaultMessage:"Namespaces"}),multiSelect:"or",options:nsFilterOptions})}if(workspaceEnabled&&availableWorkspaces!==null&&availableWorkspaces!==void 0&&availableWorkspaces.length&&!currentWorkspace){const wsCounts=savedObjectCounts.workspaces||{};const wsFilterOptions=availableWorkspaces.map(ws=>({name:ws.name,value:ws.name,view:`${ws.name} (${wsCounts[ws.id]||0})`}));filters.push({type:"field_value_selection",field:"workspaces",name:external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.workspaceFilterName",{defaultMessage:"Workspace"}),multiSelect:"or",options:wsFilterOptions,searchThreshold:1})}return external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPageContent"],{horizontalPosition:"center",paddingSize:useUpdatedUX?"m":undefined},this.renderFlyout(),this.renderRelationships(),this.renderDeleteConfirmModal(),this.renderExportAllOptionsModal(),this.renderDuplicateModal(),this.renderDuplicateResultFlyout(),external_osdSharedDeps_React_default.a.createElement(Header,{onExportAll:()=>this.setState({isShowingExportAllOptionsModal:true}),onImport:this.showImportFlyout,showDuplicateAll:this.state.workspaceEnabled,onDuplicate:this.onDuplicateAll,onRefresh:this.refreshObjects,objectCount:savedObjects.length,useUpdatedUX:useUpdatedUX,navigationUI:navigationUI,applications:applications,currentWorkspaceName:currentWorkspace===null||currentWorkspace===void 0?void 0:currentWorkspace.name,showImportButton:!workspaceEnabled||!!currentWorkspace}),!useUpdatedUX&&external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiSpacer"],{size:"xs"}),external_osdSharedDeps_React_default.a.createElement(public_["RedirectAppLinks"],{application:applications},external_osdSharedDeps_React_default.a.createElement(table_Table,{basePath:http.basePath,itemId:"id",actionRegistry:this.props.actionRegistry,columnRegistry:this.props.columnRegistry,selectionConfig:selectionConfig,selectedSavedObjects:selectedSavedObjects,onQueryChange:this.onQueryChange,onTableChange:this.onTableChange,filters:filters,onExport:this.onExport,canDelete:applications.capabilities.savedObjectsManagement.delete,onDelete:this.onDelete,onDuplicate:()=>this.setState({isShowingDuplicateModal:true,duplicateSelectedSavedObjects:selectedSavedObjects}),onDuplicateSingle:object=>this.setState({duplicateSelectedSavedObjects:[object],isShowingDuplicateModal:true}),onActionRefresh:this.refreshObject,goInspectObject:this.props.goInspectObject,pageIndex:page,pageSize:perPage,items:savedObjects,totalItemCount:filteredItemCount,isSearching:isSearching,onShowRelationships:this.onShowRelationships,canGoInApp:this.props.canGoInApp,dateFormat:this.props.dateFormat,availableWorkspaces:availableWorkspaces,currentWorkspaceId:currentWorkspace===null||currentWorkspace===void 0?void 0:currentWorkspace.id,showDuplicate:this.state.workspaceEnabled,onRefresh:this.refreshObjects,useUpdatedUX:useUpdatedUX})))}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(0);var useAsyncFn_1=tslib_1.__importDefault(__webpack_require__(36));function useAsync(fn,deps){if(deps===void 0){deps=[]}var _a=useAsyncFn_1.default(fn,deps,{loading:true}),state=_a[0],callback=_a[1];react_1.useEffect((function(){callback()}),[callback]);return state}exports.default=useAsync},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(0);var useMountedState_1=tslib_1.__importDefault(__webpack_require__(12));function useAsyncFn(fn,deps,initialState){if(deps===void 0){deps=[]}if(initialState===void 0){initialState={loading:false}}var lastCallId=react_1.useRef(0);var _a=react_1.useState(initialState),state=_a[0],set=_a[1];var isMounted=useMountedState_1.default();var callback=react_1.useCallback((function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}var callId=++lastCallId.current;set({loading:true});return fn.apply(void 0,args).then((function(value){isMounted()&&callId===lastCallId.current&&set({value:value,loading:false});return value}),(function(error){isMounted()&&callId===lastCallId.current&&set({error:error,loading:false});return error}))}),deps);return[state,callback]}exports.default=useAsyncFn},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var React=tslib_1.__importStar(__webpack_require__(0));var react_1=__webpack_require__(0);var useSetState_1=tslib_1.__importDefault(__webpack_require__(18));var parseTimeRanges_1=tslib_1.__importDefault(__webpack_require__(63));var createHTMLMediaHook=function(tag){var hook=function(elOrProps){var element;var props;if(React.isValidElement(elOrProps)){element=elOrProps;props=element.props}else{props=elOrProps}var _a=useSetState_1.default({buffered:[],time:0,duration:0,paused:true,muted:false,volume:1}),state=_a[0],setState=_a[1];var ref=react_1.useRef(null);var wrapEvent=function(userEvent,proxyEvent){return function(event){try{proxyEvent&&proxyEvent(event)}finally{userEvent&&userEvent(event)}}};var onPlay=function(){return setState({paused:false})};var onPause=function(){return setState({paused:true})};var onVolumeChange=function(){var el=ref.current;if(!el){return}setState({muted:el.muted,volume:el.volume})};var onDurationChange=function(){var el=ref.current;if(!el){return}var duration=el.duration,buffered=el.buffered;setState({duration:duration,buffered:parseTimeRanges_1.default(buffered)})};var onTimeUpdate=function(){var el=ref.current;if(!el){return}setState({time:el.currentTime})};var onProgress=function(){var el=ref.current;if(!el){return}setState({buffered:parseTimeRanges_1.default(el.buffered)})};if(element){element=React.cloneElement(element,tslib_1.__assign(tslib_1.__assign({controls:false},props),{ref:ref,onPlay:wrapEvent(props.onPlay,onPlay),onPause:wrapEvent(props.onPause,onPause),onVolumeChange:wrapEvent(props.onVolumeChange,onVolumeChange),onDurationChange:wrapEvent(props.onDurationChange,onDurationChange),onTimeUpdate:wrapEvent(props.onTimeUpdate,onTimeUpdate),onProgress:wrapEvent(props.onProgress,onProgress)}))}else{element=React.createElement(tag,tslib_1.__assign(tslib_1.__assign({controls:false},props),{ref:ref,onPlay:wrapEvent(props.onPlay,onPlay),onPause:wrapEvent(props.onPause,onPause),onVolumeChange:wrapEvent(props.onVolumeChange,onVolumeChange),onDurationChange:wrapEvent(props.onDurationChange,onDurationChange),onTimeUpdate:wrapEvent(props.onTimeUpdate,onTimeUpdate),onProgress:wrapEvent(props.onProgress,onProgress)}))}var lockPlay=false;var controls={play:function(){var el=ref.current;if(!el){return undefined}if(!lockPlay){var promise=el.play();var isPromise=typeof promise==="object";if(isPromise){lockPlay=true;var resetLock=function(){lockPlay=false};promise.then(resetLock,resetLock)}return promise}return undefined},pause:function(){var el=ref.current;if(el&&!lockPlay){return el.pause()}},seek:function(time){var el=ref.current;if(!el||state.duration===undefined){return}time=Math.min(state.duration,Math.max(0,time));el.currentTime=time},volume:function(volume){var el=ref.current;if(!el){return}volume=Math.min(1,Math.max(0,volume));el.volume=volume;setState({volume:volume})},mute:function(){var el=ref.current;if(!el){return}el.muted=true},unmute:function(){var el=ref.current;if(!el){return}el.muted=false}};react_1.useEffect((function(){var el=ref.current;if(!el){if(false){}return}setState({volume:el.volume,muted:el.muted,paused:el.paused});if(props.autoPlay&&el.paused){controls.play()}}),[props.src]);return[element,state,controls,ref]};return hook};exports.default=createHTMLMediaHook},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var useToggle=function(initialValue){var _a=react_1.useState(initialValue),value=_a[0],setValue=_a[1];var toggle=react_1.useCallback((function(nextValue){if(typeof nextValue==="boolean"){setValue(nextValue)}else{setValue((function(currentValue){return!currentValue}))}}),[setValue]);return[value,toggle]};exports.default=useToggle},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(0);var useGetSet_1=tslib_1.__importDefault(__webpack_require__(40));var resolveHookState_1=__webpack_require__(24);function useCounter(initialValue,max,min){if(initialValue===void 0){initialValue=0}if(max===void 0){max=null}if(min===void 0){min=null}var init=resolveHookState_1.resolveHookState(initialValue);typeof init!=="number"&&console.error("initialValue has to be a number, got "+typeof initialValue);if(typeof min==="number"){init=Math.max(init,min)}else if(min!==null){console.error("min has to be a number, got "+typeof min)}if(typeof max==="number"){init=Math.min(init,max)}else if(max!==null){console.error("max has to be a number, got "+typeof max)}var _a=useGetSet_1.default(init),get=_a[0],setInternal=_a[1];return[get(),react_1.useMemo((function(){var set=function(newState){var prevState=get();var rState=resolveHookState_1.resolveHookState(newState,prevState);if(prevState!==rState){if(typeof min==="number"){rState=Math.max(rState,min)}if(typeof max==="number"){rState=Math.min(rState,max)}prevState!==rState&&setInternal(rState)}};return{get:get,set:set,inc:function(delta){if(delta===void 0){delta=1}var rDelta=resolveHookState_1.resolveHookState(delta,get());if(typeof rDelta!=="number"){console.error("delta has to be a number or function returning a number, got "+typeof rDelta)}set((function(num){return num+rDelta}))},dec:function(delta){if(delta===void 0){delta=1}var rDelta=resolveHookState_1.resolveHookState(delta,get());if(typeof rDelta!=="number"){console.error("delta has to be a number or function returning a number, got "+typeof rDelta)}set((function(num){return num-rDelta}))},reset:function(value){if(value===void 0){value=init}var rValue=resolveHookState_1.resolveHookState(value,get());if(typeof rValue!=="number"){console.error("value has to be a number or function returning a number, got "+typeof rValue)}init=rValue;set(rValue)}}}),[init,min,max])]}exports.default=useCounter},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(0);var useUpdate_1=tslib_1.__importDefault(__webpack_require__(13));var resolveHookState_1=__webpack_require__(24);function useGetSet(initialState){var state=react_1.useRef(resolveHookState_1.resolveHookState(initialState));var update=useUpdate_1.default();return react_1.useMemo((function(){return[function(){return state.current},function(newState){state.current=resolveHookState_1.resolveHookState(newState,state.current);update()}]}),[])}exports.default=useGetSet},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var util_1=__webpack_require__(7);var defaultTarget=util_1.isClient?window:null;var isListenerType1=function(target){return!!target.addEventListener};var isListenerType2=function(target){return!!target.on};var useEvent=function(name,handler,target,options){if(target===void 0){target=defaultTarget}react_1.useEffect((function(){if(!handler){return}if(!target){return}if(isListenerType1(target)){target.addEventListener(name,handler,options)}else if(isListenerType2(target)){target.on(name,handler,options)}return function(){if(isListenerType1(target)){target.removeEventListener(name,handler,options)}else if(isListenerType2(target)){target.off(name,handler,options)}}}),[name,handler,target,JSON.stringify(options)])};exports.default=useEvent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var useHoverDirty=function(ref,enabled){if(enabled===void 0){enabled=true}if(false){}var _a=react_1.useState(false),value=_a[0],setValue=_a[1];react_1.useEffect((function(){var onMouseOver=function(){return setValue(true)};var onMouseOut=function(){return setValue(false)};if(enabled&&ref&&ref.current){ref.current.addEventListener("mouseover",onMouseOver);ref.current.addEventListener("mouseout",onMouseOut)}var current=ref.current;return function(){if(enabled&&current){current.removeEventListener("mouseover",onMouseOver);current.removeEventListener("mouseout",onMouseOut)}}}),[enabled,ref]);return value};exports.default=useHoverDirty},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var useIsomorphicLayoutEffect=typeof window!=="undefined"?react_1.useLayoutEffect:react_1.useEffect;exports.default=useIsomorphicLayoutEffect},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(0);var useEvent_1=tslib_1.__importDefault(__webpack_require__(41));var noop=function(){};var createKeyPredicate=function(keyFilter){return typeof keyFilter==="function"?keyFilter:typeof keyFilter==="string"?function(event){return event.key===keyFilter}:keyFilter?function(){return true}:function(){return false}};var useKey=function(key,fn,opts,deps){if(fn===void 0){fn=noop}if(opts===void 0){opts={}}if(deps===void 0){deps=[key]}var _a=opts.event,event=_a===void 0?"keydown":_a,target=opts.target,options=opts.options;var useMemoHandler=react_1.useMemo((function(){var predicate=createKeyPredicate(key);var handler=function(handlerEvent){if(predicate(handlerEvent)){return fn(handlerEvent)}};return handler}),deps);useEvent_1.default(event,useMemoHandler,target,options)};exports.default=useKey},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(0);var useKey_1=tslib_1.__importDefault(__webpack_require__(44));var useKeyPress=function(keyFilter){var _a=react_1.useState([false,null]),state=_a[0],set=_a[1];useKey_1.default(keyFilter,(function(event){return set([true,event])}),{event:"keydown"},[state]);useKey_1.default(keyFilter,(function(event){return set([false,event])}),{event:"keyup"},[state]);return state};exports.default=useKeyPress},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(0);var useUpdate_1=tslib_1.__importDefault(__webpack_require__(13));var resolveHookState_1=__webpack_require__(24);function useList(initialList){if(initialList===void 0){initialList=[]}var list=react_1.useRef(resolveHookState_1.resolveHookState(initialList));var update=useUpdate_1.default();var actions=react_1.useMemo((function(){var a={set:function(newList){list.current=resolveHookState_1.resolveHookState(newList,list.current);update()},push:function(){var items=[];for(var _i=0;_i<arguments.length;_i++){items[_i]=arguments[_i]}items.length&&actions.set((function(curr){return curr.concat(items)}))},updateAt:function(index,item){actions.set((function(curr){var arr=curr.slice();arr[index]=item;return arr}))},insertAt:function(index,item){actions.set((function(curr){var arr=curr.slice();index>arr.length?arr[index]=item:arr.splice(index,0,item);return arr}))},update:function(predicate,newItem){actions.set((function(curr){return curr.map((function(item){return predicate(item,newItem)?newItem:item}))}))},updateFirst:function(predicate,newItem){var index=list.current.findIndex((function(item){return predicate(item,newItem)}));index>=0&&actions.updateAt(index,newItem)},upsert:function(predicate,newItem){var index=list.current.findIndex((function(item){return predicate(item,newItem)}));index>=0?actions.updateAt(index,newItem):actions.push(newItem)},sort:function(compareFn){actions.set((function(curr){return curr.slice().sort(compareFn)}))},filter:function(callbackFn,thisArg){actions.set((function(curr){return curr.slice().filter(callbackFn,thisArg)}))},removeAt:function(index){actions.set((function(curr){var arr=curr.slice();arr.splice(index,1);return arr}))},clear:function(){actions.set([])},reset:function(){actions.set(resolveHookState_1.resolveHookState(initialList).slice())}};a.remove=a.removeAt;return a}),[]);return[list.current,actions]}exports.default=useList},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var useEffectOnce_1=tslib_1.__importDefault(__webpack_require__(19));var useMount=function(fn){useEffectOnce_1.default((function(){fn()}))};exports.default=useMount},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(0);var useRafState_1=tslib_1.__importDefault(__webpack_require__(20));var useMouse=function(ref){if(false){}var _a=useRafState_1.default({docX:0,docY:0,posX:0,posY:0,elX:0,elY:0,elH:0,elW:0}),state=_a[0],setState=_a[1];react_1.useEffect((function(){var moveHandler=function(event){if(ref&&ref.current){var _a=ref.current.getBoundingClientRect(),left=_a.left,top_1=_a.top,elW=_a.width,elH=_a.height;var posX=left+window.pageXOffset;var posY=top_1+window.pageYOffset;var elX=event.pageX-posX;var elY=event.pageY-posY;setState({docX:event.pageX,docY:event.pageY,posX:posX,posY:posY,elX:elX,elY:elY,elH:elH,elW:elW})}};document.addEventListener("mousemove",moveHandler);return function(){document.removeEventListener("mousemove",moveHandler)}}),[ref]);return state};exports.default=useMouse},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var useRaf=function(ms,delay){if(ms===void 0){ms=1e12}if(delay===void 0){delay=0}var _a=react_1.useState(0),elapsed=_a[0],set=_a[1];react_1.useLayoutEffect((function(){var raf;var timerStop;var start;var onFrame=function(){var time=Math.min(1,(Date.now()-start)/ms);set(time);loop()};var loop=function(){raf=requestAnimationFrame(onFrame)};var onStart=function(){timerStop=setTimeout((function(){cancelAnimationFrame(raf);set(1)}),ms);start=Date.now();loop()};var timerDelay=setTimeout(onStart,delay);return function(){clearTimeout(timerStop);clearTimeout(timerDelay);cancelAnimationFrame(raf)}}),[ms,delay]);return elapsed};exports.default=useRaf},function(module,exports,__webpack_require__){switch(window.__osdThemeTag__){case"v7dark":return __webpack_require__(160);case"v7light":return __webpack_require__(162);case"v8dark":return __webpack_require__(164);case"v8light":return __webpack_require__(166);case"v9dark":return __webpack_require__(168);case"v9light":return __webpack_require__(170)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"mountManagementSection",(function(){return mountManagementSection}));__webpack_require__.d(__webpack_exports__,"SavedObjectsDuplicateModal",(function(){return objects_table["a"]}));var external_osdSharedDeps_React_=__webpack_require__(0);var external_osdSharedDeps_React_default=__webpack_require__.n(external_osdSharedDeps_React_);var external_osdSharedDeps_ReactDom_=__webpack_require__(32);var external_osdSharedDeps_ReactDom_default=__webpack_require__.n(external_osdSharedDeps_ReactDom_);var external_osdSharedDeps_ReactRouterDom_=__webpack_require__(22);var external_osdSharedDeps_OsdI18nReact_=__webpack_require__(3);var external_osdSharedDeps_OsdI18n_=__webpack_require__(2);var external_osdSharedDeps_ElasticEui_=__webpack_require__(1);var lib=__webpack_require__(4);function _extends(){_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}let allowedObjectTypes;const savedObjectsTitle=external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objects.savedObjectsTitle",{defaultMessage:"Saved Objects"});const workspaceAssetsTitle=external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objects.workspaceAssetsTitle",{defaultMessage:"Workspace assets"});const assetsTitle=external_osdSharedDeps_OsdI18n_["i18n"].translate("savedObjectsManagement.objects.assetsTitle",{defaultMessage:"Assets"});const SavedObjectsEditionPage=Object(external_osdSharedDeps_React_["lazy"])(()=>Promise.all([__webpack_require__.e(1),__webpack_require__.e(2)]).then(__webpack_require__.bind(null,236)));const SavedObjectsTablePage=Object(external_osdSharedDeps_React_["lazy"])(()=>__webpack_require__.e(3).then(__webpack_require__.bind(null,235)));const mountManagementSection=async _ref=>{var _coreStart$applicatio;let{core:core,mountParams:mountParams,serviceRegistry:serviceRegistry,dataSourceEnabled:dataSourceEnabled,dataSourceManagement:dataSourceManagement}=_ref;const[coreStart,{data:data,uiActions:uiActions,navigation:navigation},pluginStart]=await core.getStartServices();const{element:element,history:history,setBreadcrumbs:setBreadcrumbs}=mountParams;if(allowedObjectTypes===undefined){allowedObjectTypes=await Object(lib["getAllowedTypes"])(coreStart.http)}const showDataSource=!!((_coreStart$applicatio=coreStart.application.capabilities)!==null&&_coreStart$applicatio!==void 0&&(_coreStart$applicatio=_coreStart$applicatio.dataSource)!==null&&_coreStart$applicatio!==void 0&&_coreStart$applicatio.canManage);allowedObjectTypes=showDataSource?allowedObjectTypes:allowedObjectTypes.filter(type=>type!=="data-source");const useUpdatedUX=coreStart.uiSettings.get("home:useNewHomePage");const currentWorkspaceId=coreStart.workspaces.currentWorkspaceId$.getValue();const getDocTitle=()=>{if(currentWorkspaceId){return workspaceAssetsTitle}if(useUpdatedUX){return assetsTitle}return savedObjectsTitle};coreStart.chrome.docTitle.change(getDocTitle());const capabilities=coreStart.application.capabilities;const RedirectToHomeIfUnauthorized=_ref2=>{var _capabilities$managem,_capabilities$managem2;let{children:children}=_ref2;const allowed=(_capabilities$managem=capabilities===null||capabilities===void 0||(_capabilities$managem2=capabilities.management)===null||_capabilities$managem2===void 0||(_capabilities$managem2=_capabilities$managem2.opensearchDashboards)===null||_capabilities$managem2===void 0?void 0:_capabilities$managem2.objects)!==null&&_capabilities$managem!==void 0?_capabilities$managem:false;if(!allowed){coreStart.application.navigateToApp("home");return null}return children};const content=external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ReactRouterDom_["Router"],{history:history},external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ReactRouterDom_["Switch"],null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ReactRouterDom_["Route"],{path:"/:service/:id",exact:true},external_osdSharedDeps_React_default.a.createElement(RedirectToHomeIfUnauthorized,null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_["Suspense"],{fallback:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiLoadingSpinner"],null)},external_osdSharedDeps_React_default.a.createElement(SavedObjectsEditionPage,{coreStart:coreStart,uiActionsStart:uiActions,serviceRegistry:serviceRegistry,setBreadcrumbs:setBreadcrumbs,history:history,useUpdatedUX:useUpdatedUX,navigation:navigation})))),external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ReactRouterDom_["Route"],{path:"/",exact:false},external_osdSharedDeps_React_default.a.createElement(RedirectToHomeIfUnauthorized,null,external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_React_["Suspense"],{fallback:external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiLoadingSpinner"],null)},external_osdSharedDeps_React_default.a.createElement(SavedObjectsTablePage,{coreStart:coreStart,dataStart:data,serviceRegistry:serviceRegistry,actionRegistry:pluginStart.actions,columnRegistry:pluginStart.columns,namespaceRegistry:pluginStart.namespaces,allowedTypes:allowedObjectTypes,setBreadcrumbs:setBreadcrumbs,dataSourceEnabled:dataSourceEnabled,dataSourceManagement:dataSourceManagement,navigation:navigation,useUpdatedUX:useUpdatedUX}))))));const pageContentPaddingSize=useUpdatedUX?{paddingSize:"m"}:{};external_osdSharedDeps_ReactDom_default.a.render(external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_OsdI18nReact_["I18nProvider"],null,mountParams.wrapInPage?external_osdSharedDeps_React_default.a.createElement(external_osdSharedDeps_ElasticEui_["EuiPageContent"],_extends({hasShadow:false,hasBorder:false,color:"transparent"},pageContentPaddingSize),content):content),element);return()=>{external_osdSharedDeps_ReactDom_default.a.unmountComponentAtNode(element)}};var objects_table=__webpack_require__(34)},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__osdBundles__.get("plugin/home/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__osdBundles__.get("entry/core/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch(e){if(typeof window==="object")g=window}module.exports=g},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_val_loader_dist_cjs_js_key_savedObjectsManagement_osd_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(56);var _node_modules_val_loader_dist_cjs_js_key_savedObjectsManagement_osd_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_val_loader_dist_cjs_js_key_savedObjectsManagement_osd_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__);__osdBundles__.define("plugin/savedObjectsManagement/public",__webpack_require__,28);__osdBundles__.define("plugin/savedObjectsManagement/public/lib",__webpack_require__,4)},function(module,exports,__webpack_require__){__webpack_require__.p=window.__osdPublicPath__["savedObjectsManagement"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var createMemo=function(fn){return function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}return react_1.useMemo((function(){return fn.apply(void 0,args)}),args)}};exports.default=createMemo},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var createReducerContext=function(reducer,defaultInitialState){var context=react_1.createContext(undefined);var providerFactory=react_1.createFactory(context.Provider);var ReducerProvider=function(_a){var children=_a.children,initialState=_a.initialState;var state=react_1.useReducer(reducer,initialState!==undefined?initialState:defaultInitialState);return providerFactory({value:state},children)};var useReducerContext=function(){var state=react_1.useContext(context);if(state==null){throw new Error("useReducerContext must be used inside a ReducerProvider.")}return state};return[useReducerContext,ReducerProvider,context]};exports.default=createReducerContext},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(0);var useUpdateEffect_1=tslib_1.__importDefault(__webpack_require__(17));function composeMiddleware(chain){return function(context,dispatch){return chain.reduceRight((function(res,middleware){return middleware(context)(res)}),dispatch)}}var createReducer=function(){var middlewares=[];for(var _i=0;_i<arguments.length;_i++){middlewares[_i]=arguments[_i]}var composedMiddleware=composeMiddleware(middlewares);return function(reducer,initialState,initializer){if(initializer===void 0){initializer=function(value){return value}}var ref=react_1.useRef(initializer(initialState));var _a=react_1.useState(ref.current),setState=_a[1];var dispatch=react_1.useCallback((function(action){ref.current=reducer(ref.current,action);setState(ref.current);return action}),[reducer]);var dispatchRef=react_1.useRef(composedMiddleware({getState:function(){return ref.current},dispatch:function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}return dispatchRef.current.apply(dispatchRef,args)}},dispatch));useUpdateEffect_1.default((function(){dispatchRef.current=composedMiddleware({getState:function(){return ref.current},dispatch:function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}return dispatchRef.current.apply(dispatchRef,args)}},dispatch)}),[dispatch]);return[ref.current,dispatchRef.current]}};exports.default=createReducer},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var createStateContext=function(defaultInitialValue){var context=react_1.createContext(undefined);var providerFactory=react_1.createFactory(context.Provider);var StateProvider=function(_a){var children=_a.children,initialValue=_a.initialValue;var state=react_1.useState(initialValue!==undefined?initialValue:defaultInitialValue);return providerFactory({value:state},children)};var useStateContext=function(){var state=react_1.useContext(context);if(state==null){throw new Error("useStateContext must be used inside a StateProvider.")}return state};return[useStateContext,StateProvider,context]};exports.default=createStateContext},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(0);var useAsync_1=tslib_1.__importDefault(__webpack_require__(35));var useAsyncRetry=function(fn,deps){if(deps===void 0){deps=[]}var _a=react_1.useState(0),attempt=_a[0],setAttempt=_a[1];var state=useAsync_1.default(fn,tslib_1.__spreadArrays(deps,[attempt]));var stateLoading=state.loading;var retry=react_1.useCallback((function(){if(stateLoading){if(false){}return}setAttempt((function(currentAttempt){return currentAttempt+1}))}),tslib_1.__spreadArrays(deps,[stateLoading]));return tslib_1.__assign(tslib_1.__assign({},state),{retry:retry})};exports.default=useAsyncRetry},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var createHTMLMediaHook_1=tslib_1.__importDefault(__webpack_require__(37));var useAudio=createHTMLMediaHook_1.default("audio");exports.default=useAudio},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var parseTimeRanges=function(ranges){var result=[];for(var i=0;i<ranges.length;i++){result.push({start:ranges.start(i),end:ranges.end(i)})}return result};exports.default=parseTimeRanges},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var React=tslib_1.__importStar(__webpack_require__(0));var util_1=__webpack_require__(7);var useState=React.useState,useEffect=React.useEffect;var nav=typeof navigator==="object"?navigator:undefined;var isBatteryApiSupported=nav&&typeof nav.getBattery==="function";function useBatteryMock(){return{isSupported:false}}function useBattery(){var _a=useState({isSupported:true,fetched:false}),state=_a[0],setState=_a[1];useEffect((function(){var isMounted=true;var battery=null;var handleChange=function(){if(!isMounted||!battery){return}var newState={isSupported:true,fetched:true,level:battery.level,charging:battery.charging,dischargingTime:battery.dischargingTime,chargingTime:battery.chargingTime};!util_1.isDeepEqual(state,newState)&&setState(newState)};nav.getBattery().then((function(bat){if(!isMounted){return}battery=bat;util_1.on(battery,"chargingchange",handleChange);util_1.on(battery,"chargingtimechange",handleChange);util_1.on(battery,"dischargingtimechange",handleChange);util_1.on(battery,"levelchange",handleChange);handleChange()}));return function(){isMounted=false;if(battery){util_1.off(battery,"chargingchange",handleChange);util_1.off(battery,"chargingtimechange",handleChange);util_1.off(battery,"dischargingtimechange",handleChange);util_1.off(battery,"levelchange",handleChange)}}}),[]);return state}exports.default=isBatteryApiSupported?useBattery:useBatteryMock},function(module,exports,__webpack_require__){"use strict";module.exports=function equal(a,b){if(a===b)return true;if(a&&b&&typeof a=="object"&&typeof b=="object"){if(a.constructor!==b.constructor)return false;var length,i,keys;if(Array.isArray(a)){length=a.length;if(length!=b.length)return false;for(i=length;i--!==0;)if(!equal(a[i],b[i]))return false;return true}if(a.constructor===RegExp)return a.source===b.source&&a.flags===b.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===b.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===b.toString();keys=Object.keys(a);length=keys.length;if(length!==Object.keys(b).length)return false;for(i=length;i--!==0;)if(!Object.prototype.hasOwnProperty.call(b,keys[i]))return false;for(i=length;i--!==0;){var key=keys[i];if(key==="_owner"&&a.$$typeof){continue}if(!equal(a[key],b[key]))return false}return true}return a!==a&&b!==b}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var useBeforeUnload=function(enabled,message){if(enabled===void 0){enabled=true}var handler=react_1.useCallback((function(event){var finalEnabled=typeof enabled==="function"?enabled():true;if(!finalEnabled){return}event.preventDefault();if(message){event.returnValue=message}return message}),[enabled,message]);react_1.useEffect((function(){if(!enabled){return}window.addEventListener("beforeunload",handler);return function(){return window.removeEventListener("beforeunload",handler)}}),[enabled,handler])};exports.default=useBeforeUnload},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var useToggle_1=tslib_1.__importDefault(__webpack_require__(38));exports.default=useToggle_1.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var util_1=__webpack_require__(7);var defaultEvents=["mousedown","touchstart"];var useClickAway=function(ref,onClickAway,events){if(events===void 0){events=defaultEvents}var savedCallback=react_1.useRef(onClickAway);react_1.useEffect((function(){savedCallback.current=onClickAway}),[onClickAway]);react_1.useEffect((function(){var handler=function(event){var el=ref.current;el&&!el.contains(event.target)&&savedCallback.current(event)};for(var _i=0,events_1=events;_i<events_1.length;_i++){var eventName=events_1[_i];util_1.on(document,eventName,handler)}return function(){for(var _i=0,events_2=events;_i<events_2.length;_i++){var eventName=events_2[_i];util_1.off(document,eventName,handler)}}}),[events,ref])};exports.default=useClickAway},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(0);var js_cookie_1=tslib_1.__importDefault(__webpack_require__(70));var useCookie=function(cookieName){var _a=react_1.useState((function(){return js_cookie_1.default.get(cookieName)||null})),value=_a[0],setValue=_a[1];var updateCookie=react_1.useCallback((function(newValue,options){js_cookie_1.default.set(cookieName,newValue,options);setValue(newValue)}),[cookieName]);var deleteCookie=react_1.useCallback((function(){js_cookie_1.default.remove(cookieName);setValue(null)}),[cookieName]);return[value,updateCookie,deleteCookie]};exports.default=useCookie},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */(function(factory){var registeredInModuleLoader;if(true){!(__WEBPACK_AMD_DEFINE_FACTORY__=factory,__WEBPACK_AMD_DEFINE_RESULT__=typeof __WEBPACK_AMD_DEFINE_FACTORY__==="function"?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));registeredInModuleLoader=true}if(true){module.exports=factory();registeredInModuleLoader=true}if(!registeredInModuleLoader){var OldCookies=window.Cookies;var api=window.Cookies=factory();api.noConflict=function(){window.Cookies=OldCookies;return api}}})((function(){function extend(){var i=0;var result={};for(;i<arguments.length;i++){var attributes=arguments[i];for(var key in attributes){result[key]=attributes[key]}}return result}function decode(s){return s.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function init(converter){function api(){}function set(key,value,attributes){if(typeof document==="undefined"){return}attributes=extend({path:"/"},api.defaults,attributes);if(typeof attributes.expires==="number"){attributes.expires=new Date(new Date*1+attributes.expires*864e5)}attributes.expires=attributes.expires?attributes.expires.toUTCString():"";try{var result=JSON.stringify(value);if(/^[\{\[]/.test(result)){value=result}}catch(e){}value=converter.write?converter.write(value,key):encodeURIComponent(String(value)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent);key=encodeURIComponent(String(key)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var stringifiedAttributes="";for(var attributeName in attributes){if(!attributes[attributeName]){continue}stringifiedAttributes+="; "+attributeName;if(attributes[attributeName]===true){continue}stringifiedAttributes+="="+attributes[attributeName].split(";")[0]}return document.cookie=key+"="+value+stringifiedAttributes}function get(key,json){if(typeof document==="undefined"){return}var jar={};var cookies=document.cookie?document.cookie.split("; "):[];var i=0;for(;i<cookies.length;i++){var parts=cookies[i].split("=");var cookie=parts.slice(1).join("=");if(!json&&cookie.charAt(0)==='"'){cookie=cookie.slice(1,-1)}try{var name=decode(parts[0]);cookie=(converter.read||converter)(cookie,name)||decode(cookie);if(json){try{cookie=JSON.parse(cookie)}catch(e){}}jar[name]=cookie;if(key===name){break}}catch(e){}}return key?jar[key]:jar}api.set=set;api.get=function(key){return get(key,false)};api.getJSON=function(key){return get(key,true)};api.remove=function(key,attributes){set(key,"",extend(attributes,{expires:-1}))};api.defaults={};api.withConverter=init;return api}return init((function(){}))}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var copy_to_clipboard_1=tslib_1.__importDefault(__webpack_require__(72));var react_1=__webpack_require__(0);var useMountedState_1=tslib_1.__importDefault(__webpack_require__(12));var useSetState_1=tslib_1.__importDefault(__webpack_require__(18));var useCopyToClipboard=function(){var isMounted=useMountedState_1.default();var _a=useSetState_1.default({value:undefined,error:undefined,noUserInteraction:true}),state=_a[0],setState=_a[1];var copyToClipboard=react_1.useCallback((function(value){try{if(false){}var noUserInteraction=copy_to_clipboard_1.default(value);if(!isMounted()){return}setState({value:value,error:undefined,noUserInteraction:noUserInteraction})}catch(error){if(!isMounted()){return}setState({value:undefined,error:error,noUserInteraction:true})}}),[]);return[state,copyToClipboard]};exports.default=useCopyToClipboard},function(module,exports,__webpack_require__){"use strict";var deselectCurrent=__webpack_require__(73);var clipboardToIE11Formatting={"text/plain":"Text","text/html":"Url",default:"Text"};var defaultMessage="Copy to clipboard: #{key}, Enter";function format(message){var copyKey=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return message.replace(/#{\s*key\s*}/g,copyKey)}function copy(text,options){var debug,message,reselectPrevious,range,selection,mark,success=false;if(!options){options={}}debug=options.debug||false;try{reselectPrevious=deselectCurrent();range=document.createRange();selection=document.getSelection();mark=document.createElement("span");mark.textContent=text;mark.style.all="unset";mark.style.position="fixed";mark.style.top=0;mark.style.clip="rect(0, 0, 0, 0)";mark.style.whiteSpace="pre";mark.style.webkitUserSelect="text";mark.style.MozUserSelect="text";mark.style.msUserSelect="text";mark.style.userSelect="text";mark.addEventListener("copy",(function(e){e.stopPropagation();if(options.format){e.preventDefault();if(typeof e.clipboardData==="undefined"){debug&&console.warn("unable to use e.clipboardData");debug&&console.warn("trying IE specific stuff");window.clipboardData.clearData();var format=clipboardToIE11Formatting[options.format]||clipboardToIE11Formatting["default"];window.clipboardData.setData(format,text)}else{e.clipboardData.clearData();e.clipboardData.setData(options.format,text)}}if(options.onCopy){e.preventDefault();options.onCopy(e.clipboardData)}}));document.body.appendChild(mark);range.selectNodeContents(mark);selection.addRange(range);var successful=document.execCommand("copy");if(!successful){throw new Error("copy command was unsuccessful")}success=true}catch(err){debug&&console.error("unable to copy using execCommand: ",err);debug&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(options.format||"text",text);options.onCopy&&options.onCopy(window.clipboardData);success=true}catch(err){debug&&console.error("unable to copy using clipboardData: ",err);debug&&console.error("falling back to prompt");message=format("message"in options?options.message:defaultMessage);window.prompt(message,text)}}finally{if(selection){if(typeof selection.removeRange=="function"){selection.removeRange(range)}else{selection.removeAllRanges()}}if(mark){document.body.removeChild(mark)}reselectPrevious()}return success}module.exports=copy},function(module,exports){module.exports=function(){var selection=document.getSelection();if(!selection.rangeCount){return function(){}}var active=document.activeElement;var ranges=[];for(var i=0;i<selection.rangeCount;i++){ranges.push(selection.getRangeAt(i))}switch(active.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":active.blur();break;default:active=null;break}selection.removeAllRanges();return function(){selection.type==="Caret"&&selection.removeAllRanges();if(!selection.rangeCount){ranges.forEach((function(range){selection.addRange(range)}))}active&&active.focus()}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var nano_css_1=__webpack_require__(75);var cssom_1=__webpack_require__(76);var vcssom_1=__webpack_require__(77);var cssToTree_1=__webpack_require__(79);var react_1=__webpack_require__(0);var nano=nano_css_1.create();cssom_1.addon(nano);vcssom_1.addon(nano);var counter=0;var useCss=function(css){var className=react_1.useMemo((function(){return"react-use-css-"+(counter++).toString(36)}),[]);var sheet=react_1.useMemo((function(){return new nano.VSheet}),[]);react_1.useLayoutEffect((function(){var tree={};cssToTree_1.cssToTree(tree,css,"."+className,"");sheet.diff(tree);return function(){sheet.diff({})}}));return className};exports.default=useCss},function(module,exports,__webpack_require__){"use strict";var KEBAB_REGEX=/[A-Z]/g;var hash=function(str){var h=5381,i=str.length;while(i)h=h*33^str.charCodeAt(--i);return"_"+(h>>>0).toString(36)};exports.create=function(config){config=config||{};var assign=config.assign||Object.assign;var client=typeof window==="object";if(false){}var renderer=assign({raw:"",pfx:"_",client:client,assign:assign,stringify:JSON.stringify,kebab:function(prop){return prop.replace(KEBAB_REGEX,"-$&").toLowerCase()},decl:function(key,value){key=renderer.kebab(key);return key+":"+value+";"},hash:function(obj){return hash(renderer.stringify(obj))},selector:function(parent,selector){return parent+(selector[0]===":"?"":" ")+selector},putRaw:function(rawCssRule){renderer.raw+=rawCssRule}},config);if(renderer.client){if(!renderer.sh)document.head.appendChild(renderer.sh=document.createElement("style"));if(false){}renderer.putRaw=function(rawCssRule){if(true){var sheet=renderer.sh.sheet;try{sheet.insertRule(rawCssRule,sheet.cssRules.length)}catch(error){}}else{}}}renderer.put=function(selector,decls,atrule){var str="";var prop,value;var postponed=[];for(prop in decls){value=decls[prop];if(value instanceof Object&&!(value instanceof Array)){postponed.push(prop)}else{if(false){}else{str+=renderer.decl(prop,value,selector,atrule)}}}if(str){if(false){}else{str=selector+"{"+str+"}"}renderer.putRaw(atrule?atrule+"{"+str+"}":str)}for(var i=0;i<postponed.length;i++){prop=postponed[i];if(prop[0]==="@"&&prop!=="@font-face"){renderer.putAt(selector,decls[prop],prop)}else{renderer.put(renderer.selector(selector,prop),decls[prop],atrule)}}};renderer.putAt=renderer.put;return renderer}},function(module,exports,__webpack_require__){"use strict";exports.addon=function(renderer){if(!renderer.client)return;if(false){}document.head.appendChild(renderer.msh=document.createElement("style"));renderer.createRule=function(selector,prelude){var rawCss=selector+"{}";if(prelude)rawCss=prelude+"{"+rawCss+"}";var sheet=prelude?renderer.msh.sheet:renderer.sh.sheet;var index=sheet.insertRule(rawCss,sheet.cssRules.length);var rule=(sheet.cssRules||sheet.rules)[index];rule.index=index;if(prelude){var selectorRule=(rule.cssRules||rule.rules)[0];rule.style=selectorRule.style;rule.styleMap=selectorRule.styleMap}return rule}}},function(module,exports,__webpack_require__){"use strict";var removeRule=__webpack_require__(78).removeRule;exports.addon=function(renderer){if(!renderer.client)return;if(false){}var kebab=renderer.kebab;function VRule(selector,prelude){this.rule=renderer.createRule(selector,prelude);this.decl={}}VRule.prototype.diff=function(newDecl){var oldDecl=this.decl;var style=this.rule.style;var property;for(property in oldDecl)if(newDecl[property]===undefined)style.removeProperty(property);for(property in newDecl)if(newDecl[property]!==oldDecl[property])style.setProperty(kebab(property),newDecl[property]);this.decl=newDecl};VRule.prototype.del=function(){removeRule(this.rule)};function VSheet(){this.tree={}}VSheet.prototype.diff=function(newTree){var oldTree=this.tree;for(var prelude in oldTree){if(newTree[prelude]===undefined){var rules=oldTree[prelude];for(var selector in rules)rules[selector].del()}}for(var prelude in newTree){if(oldTree[prelude]===undefined){for(var selector in newTree[prelude]){var rule=new VRule(selector,prelude);rule.diff(newTree[prelude][selector]);newTree[prelude][selector]=rule}}else{var oldRules=oldTree[prelude];var newRules=newTree[prelude];for(var selector in oldRules)if(!newRules[selector])oldRules[selector].del();for(var selector in newRules){var rule=oldRules[selector];if(rule){rule.diff(newRules[selector]);newRules[selector]=rule}else{rule=new VRule(selector,prelude);rule.diff(newRules[selector]);newRules[selector]=rule}}}}this.tree=newTree};renderer.VRule=VRule;renderer.VSheet=VSheet}},function(module,exports){function removeRule(rule){var maxIndex=rule.index;var sh=rule.parentStyleSheet;var rules=sh.cssRules||sh.rules;maxIndex=Math.max(maxIndex,rules.length-1);while(maxIndex>=0){if(rules[maxIndex]===rule){sh.deleteRule(maxIndex);break}maxIndex--}}exports.removeRule=removeRule},function(module,exports){function cssToTree(tree,css,selector,prelude){var declarations={};var hasDeclarations=false;var key,value;for(key in css){value=css[key];if(typeof value!=="object"){hasDeclarations=true;declarations[key]=value}}if(hasDeclarations){if(!tree[prelude])tree[prelude]={};tree[prelude][selector]=declarations}for(key in css){value=css[key];if(typeof value==="object"){if(key[0]==="@"){cssToTree(tree,value,selector,key)}else{var hasCurrentSymbol=key.indexOf("&")>-1;var selectorParts=selector.split(",");if(hasCurrentSymbol){for(var i=0;i<selectorParts.length;i++){selectorParts[i]=key.replace(/&/g,selectorParts[i])}}else{for(var i=0;i<selectorParts.length;i++){selectorParts[i]=selectorParts[i]+" "+key}}cssToTree(tree,value,selectorParts.join(","),prelude)}}}}exports.cssToTree=cssToTree},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(0);var useTimeoutFn_1=tslib_1.__importDefault(__webpack_require__(31));function useDebounce(fn,ms,deps){if(ms===void 0){ms=0}if(deps===void 0){deps=[]}var _a=useTimeoutFn_1.default(fn,ms),isReady=_a[0],cancel=_a[1],reset=_a[2];react_1.useEffect(reset,deps);return[isReady,cancel]}exports.default=useDebounce},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var util_1=__webpack_require__(7);var useCustomCompareEffect_1=tslib_1.__importDefault(__webpack_require__(30));var isPrimitive=function(val){return val!==Object(val)};var useDeepCompareEffect=function(effect,deps){if(false){}useCustomCompareEffect_1.default(effect,deps,util_1.isDeepEqual)};exports.default=useDeepCompareEffect},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var useDefault=function(defaultValue,initialValue){var _a=react_1.useState(initialValue),value=_a[0],setValue=_a[1];if(value===undefined||value===null){return[defaultValue,setValue]}return[value,setValue]};exports.default=useDefault},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var React=tslib_1.__importStar(__webpack_require__(0));var useMountedState_1=tslib_1.__importDefault(__webpack_require__(12));var useState=React.useState,useMemo=React.useMemo,useCallback=React.useCallback,useEffect=React.useEffect;var noop=function(){};var createProcess=function(options,mounted){return function(dataTransfer,event){var uri=dataTransfer.getData("text/uri-list");if(uri){(options.onUri||noop)(uri,event);return}if(dataTransfer.files&&dataTransfer.files.length){(options.onFiles||noop)(Array.from(dataTransfer.files),event);return}if(dataTransfer.items&&dataTransfer.items.length){dataTransfer.items[0].getAsString((function(text){if(mounted){(options.onText||noop)(text,event)}}))}}};var useDrop=function(options,args){if(options===void 0){options={}}if(args===void 0){args=[]}var onFiles=options.onFiles,onText=options.onText,onUri=options.onUri;var isMounted=useMountedState_1.default();var _a=useState(false),over=_a[0],setOverRaw=_a[1];var setOver=useCallback(setOverRaw,[]);var process=useMemo((function(){return createProcess(options,isMounted())}),[onFiles,onText,onUri]);useEffect((function(){var onDragOver=function(event){event.preventDefault();setOver(true)};var onDragEnter=function(event){event.preventDefault();setOver(true)};var onDragLeave=function(){setOver(false)};var onDragExit=function(){setOver(false)};var onDrop=function(event){event.preventDefault();setOver(false);process(event.dataTransfer,event)};var onPaste=function(event){process(event.clipboardData,event)};document.addEventListener("dragover",onDragOver);document.addEventListener("dragenter",onDragEnter);document.addEventListener("dragleave",onDragLeave);document.addEventListener("dragexit",onDragExit);document.addEventListener("drop",onDrop);if(onText){document.addEventListener("paste",onPaste)}return function(){document.removeEventListener("dragover",onDragOver);document.removeEventListener("dragenter",onDragEnter);document.removeEventListener("dragleave",onDragLeave);document.removeEventListener("dragexit",onDragExit);document.removeEventListener("drop",onDrop);document.removeEventListener("paste",onPaste)}}),tslib_1.__spreadArrays([process],args));return{over:over}};exports.default=useDrop},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(0);var useMountedState_1=tslib_1.__importDefault(__webpack_require__(12));var noop=function(){};var createProcess=function(options,mounted){return function(dataTransfer,event){var uri=dataTransfer.getData("text/uri-list");if(uri){(options.onUri||noop)(uri,event);return}if(dataTransfer.files&&dataTransfer.files.length){(options.onFiles||noop)(Array.from(dataTransfer.files),event);return}if(dataTransfer.items&&dataTransfer.items.length){dataTransfer.items[0].getAsString((function(text){if(mounted){(options.onText||noop)(text,event)}}))}}};var createBond=function(process,setOver){return{onDragOver:function(event){event.preventDefault()},onDragEnter:function(event){event.preventDefault();setOver(true)},onDragLeave:function(){setOver(false)},onDrop:function(event){event.preventDefault();event.persist();setOver(false);process(event.dataTransfer,event)},onPaste:function(event){event.persist();process(event.clipboardData,event)}}};var useDropArea=function(options){if(options===void 0){options={}}var onFiles=options.onFiles,onText=options.onText,onUri=options.onUri;var isMounted=useMountedState_1.default();var _a=react_1.useState(false),over=_a[0],setOver=_a[1];var process=react_1.useMemo((function(){return createProcess(options,isMounted())}),[onFiles,onText,onUri]);var bond=react_1.useMemo((function(){return createBond(process,setOver)}),[process,setOver]);return[bond,{over:over}]};exports.default=useDropArea},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);function useEnsuredForwardedRef(forwardedRef){var ensuredRef=react_1.useRef(forwardedRef&&forwardedRef.current);react_1.useEffect((function(){if(!forwardedRef){return}forwardedRef.current=ensuredRef.current}),[forwardedRef]);return ensuredRef}exports.default=useEnsuredForwardedRef;function ensuredForwardRef(Component){return react_1.forwardRef((function(props,ref){var ensuredRef=useEnsuredForwardedRef(ref);return Component(props,ensuredRef)}))}exports.ensuredForwardRef=ensuredForwardRef},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var useError=function(){var _a=react_1.useState(null),error=_a[0],setError=_a[1];react_1.useEffect((function(){if(error){throw error}}),[error]);var dispatchError=react_1.useCallback((function(err){setError(err)}),[]);return dispatchError};exports.default=useError},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var useFavicon=function(href){react_1.useEffect((function(){var link=document.querySelector("link[rel*='icon']")||document.createElement("link");link.type="image/x-icon";link.rel="shortcut icon";link.href=href;document.getElementsByTagName("head")[0].appendChild(link)}),[href])};exports.default=useFavicon},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(0);var screenfull_1=tslib_1.__importDefault(__webpack_require__(89));var noop=function(){};var useFullscreen=function(ref,on,options){if(options===void 0){options={}}var video=options.video,_a=options.onClose,onClose=_a===void 0?noop:_a;var _b=react_1.useState(on),isFullscreen=_b[0],setIsFullscreen=_b[1];react_1.useLayoutEffect((function(){if(!on){return}if(!ref.current){return}var onWebkitEndFullscreen=function(){video.current.removeEventListener("webkitendfullscreen",onWebkitEndFullscreen);onClose()};var onChange=function(){if(screenfull_1.default.isEnabled){var isScreenfullFullscreen=screenfull_1.default.isFullscreen;setIsFullscreen(isScreenfullFullscreen);if(!isScreenfullFullscreen){onClose()}}};if(screenfull_1.default.isEnabled){try{screenfull_1.default.request(ref.current);setIsFullscreen(true)}catch(error){onClose(error);setIsFullscreen(false)}screenfull_1.default.on("change",onChange)}else if(video&&video.current&&video.current.webkitEnterFullscreen){video.current.webkitEnterFullscreen();video.current.addEventListener("webkitendfullscreen",onWebkitEndFullscreen);setIsFullscreen(true)}else{onClose();setIsFullscreen(false)}return function(){setIsFullscreen(false);if(screenfull_1.default.isEnabled){try{screenfull_1.default.off("change",onChange);screenfull_1.default.exit()}catch(_a){}}else if(video&&video.current&&video.current.webkitExitFullscreen){video.current.removeEventListener("webkitendfullscreen",onWebkitEndFullscreen);video.current.webkitExitFullscreen()}}}),[on,video,ref]);return isFullscreen};exports.default=useFullscreen},function(module,exports,__webpack_require__){
/*!
* screenfull
* v5.2.0 - 2021-11-03
* (c) Sindre Sorhus; MIT License
*/
(function(){"use strict";var document=typeof window!=="undefined"&&typeof window.document!=="undefined"?window.document:{};var isCommonjs=true&&module.exports;var fn=function(){var val;var fnMap=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];var i=0;var l=fnMap.length;var ret={};for(;i<l;i++){val=fnMap[i];if(val&&val[1]in document){for(i=0;i<val.length;i++){ret[fnMap[0][i]]=val[i]}return ret}}return false}();var eventNameMap={change:fn.fullscreenchange,error:fn.fullscreenerror};var screenfull={request:function(element,options){return new Promise(function(resolve,reject){var onFullScreenEntered=function(){this.off("change",onFullScreenEntered);resolve()}.bind(this);this.on("change",onFullScreenEntered);element=element||document.documentElement;var returnPromise=element[fn.requestFullscreen](options);if(returnPromise instanceof Promise){returnPromise.then(onFullScreenEntered).catch(reject)}}.bind(this))},exit:function(){return new Promise(function(resolve,reject){if(!this.isFullscreen){resolve();return}var onFullScreenExit=function(){this.off("change",onFullScreenExit);resolve()}.bind(this);this.on("change",onFullScreenExit);var returnPromise=document[fn.exitFullscreen]();if(returnPromise instanceof Promise){returnPromise.then(onFullScreenExit).catch(reject)}}.bind(this))},toggle:function(element,options){return this.isFullscreen?this.exit():this.request(element,options)},onchange:function(callback){this.on("change",callback)},onerror:function(callback){this.on("error",callback)},on:function(event,callback){var eventName=eventNameMap[event];if(eventName){document.addEventListener(eventName,callback,false)}},off:function(event,callback){var eventName=eventNameMap[event];if(eventName){document.removeEventListener(eventName,callback,false)}},raw:fn};if(!fn){if(isCommonjs){module.exports={isEnabled:false}}else{window.screenfull={isEnabled:false}}return}Object.defineProperties(screenfull,{isFullscreen:{get:function(){return Boolean(document[fn.fullscreenElement])}},element:{enumerable:true,get:function(){return document[fn.fullscreenElement]}},isEnabled:{enumerable:true,get:function(){return Boolean(document[fn.fullscreenEnabled])}}});if(isCommonjs){module.exports=screenfull}else{window.screenfull=screenfull}})()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(0);var useGeolocation=function(options){var _a=react_1.useState({loading:true,accuracy:null,altitude:null,altitudeAccuracy:null,heading:null,latitude:null,longitude:null,speed:null,timestamp:Date.now()}),state=_a[0],setState=_a[1];var mounted=true;var watchId;var onEvent=function(event){if(mounted){setState({loading:false,accuracy:event.coords.accuracy,altitude:event.coords.altitude,altitudeAccuracy:event.coords.altitudeAccuracy,heading:event.coords.heading,latitude:event.coords.latitude,longitude:event.coords.longitude,speed:event.coords.speed,timestamp:event.timestamp})}};var onEventError=function(error){return mounted&&setState((function(oldState){return tslib_1.__assign(tslib_1.__assign({},oldState),{loading:false,error:error})}))};react_1.useEffect((function(){navigator.geolocation.getCurrentPosition(onEvent,onEventError,options);watchId=navigator.geolocation.watchPosition(onEvent,onEventError,options);return function(){mounted=false;navigator.geolocation.clearWatch(watchId)}}),[]);return state};exports.default=useGeolocation},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(0);var useUpdate_1=tslib_1.__importDefault(__webpack_require__(13));var useGetSetState=function(initialState){if(initialState===void 0){initialState={}}if(false){}var update=useUpdate_1.default();var state=react_1.useRef(tslib_1.__assign({},initialState));var get=react_1.useCallback((function(){return state.current}),[]);var set=react_1.useCallback((function(patch){if(!patch){return}if(false){}Object.assign(state.current,patch);update()}),[]);return[get,set]};exports.default=useGetSetState},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var set_harmonic_interval_1=__webpack_require__(93);var useHarmonicIntervalFn=function(fn,delay){if(delay===void 0){delay=0}var latestCallback=react_1.useRef((function(){}));react_1.useEffect((function(){latestCallback.current=fn}));react_1.useEffect((function(){if(delay!==null){var interval_1=set_harmonic_interval_1.setHarmonicInterval((function(){return latestCallback.current()}),delay);return function(){return set_harmonic_interval_1.clearHarmonicInterval(interval_1)}}return undefined}),[delay])};exports.default=useHarmonicIntervalFn},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var counter=0;var buckets={};var setHarmonicInterval=function(fn,ms){var _a;var id=counter++;if(buckets[ms]){buckets[ms].listeners[id]=fn}else{var timer=setInterval((function(){var listeners=buckets[ms].listeners;var didThrow=false;var lastError;for(var _i=0,_a=Object.values(listeners);_i<_a.length;_i++){var listener=_a[_i];try{listener()}catch(error){didThrow=true;lastError=error}}if(didThrow)throw lastError}),ms);buckets[ms]={ms:ms,timer:timer,listeners:(_a={},_a[id]=fn,_a)}}return{bucket:buckets[ms],id:id}};var clearHarmonicInterval=function(_a){var bucket=_a.bucket,id=_a.id;delete bucket.listeners[id];var hasListeners=false;for(var listener in bucket.listeners){hasListeners=true;break}if(!hasListeners){clearInterval(bucket.timer);delete buckets[bucket.ms]}};exports.clearHarmonicInterval=clearHarmonicInterval;exports.setHarmonicInterval=setHarmonicInterval},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var React=tslib_1.__importStar(__webpack_require__(0));var useState=React.useState;var noop=function(){};var useHover=function(element){var _a=useState(false),state=_a[0],setState=_a[1];var onMouseEnter=function(originalOnMouseEnter){return function(event){(originalOnMouseEnter||noop)(event);setState(true)}};var onMouseLeave=function(originalOnMouseLeave){return function(event){(originalOnMouseLeave||noop)(event);setState(false)}};if(typeof element==="function"){element=element(state)}var el=React.cloneElement(element,{onMouseEnter:onMouseEnter(element.props.onMouseEnter),onMouseLeave:onMouseLeave(element.props.onMouseLeave)});return[el,state]};exports.default=useHover},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var throttle_debounce_1=__webpack_require__(96);var util_1=__webpack_require__(7);var defaultEvents=["mousemove","mousedown","resize","keydown","touchstart","wheel"];var oneMinute=6e4;var useIdle=function(ms,initialState,events){if(ms===void 0){ms=oneMinute}if(initialState===void 0){initialState=false}if(events===void 0){events=defaultEvents}var _a=react_1.useState(initialState),state=_a[0],setState=_a[1];react_1.useEffect((function(){var mounted=true;var timeout;var localState=state;var set=function(newState){if(mounted){localState=newState;setState(newState)}};var onEvent=throttle_debounce_1.throttle(50,(function(){if(localState){set(false)}clearTimeout(timeout);timeout=setTimeout((function(){return set(true)}),ms)}));var onVisibility=function(){if(!document.hidden){onEvent()}};for(var i=0;i<events.length;i++){util_1.on(window,events[i],onEvent)}util_1.on(document,"visibilitychange",onVisibility);timeout=setTimeout((function(){return set(true)}),ms);return function(){mounted=false;for(var i=0;i<events.length;i++){util_1.off(window,events[i],onEvent)}util_1.off(document,"visibilitychange",onVisibility)}}),[ms,events]);return state};exports.default=useIdle},function(module,exports,__webpack_require__){(function(global,factory){true?factory(exports):undefined})(this,(function(exports){"use strict";function throttle(delay,noTrailing,callback,debounceMode){var timeoutID;var cancelled=false;var lastExec=0;function clearExistingTimeout(){if(timeoutID){clearTimeout(timeoutID)}}function cancel(){clearExistingTimeout();cancelled=true}if(typeof noTrailing!=="boolean"){debounceMode=callback;callback=noTrailing;noTrailing=undefined}function wrapper(){for(var _len=arguments.length,arguments_=new Array(_len),_key=0;_key<_len;_key++){arguments_[_key]=arguments[_key]}var self=this;var elapsed=Date.now()-lastExec;if(cancelled){return}function exec(){lastExec=Date.now();callback.apply(self,arguments_)}function clear(){timeoutID=undefined}if(debounceMode&&!timeoutID){exec()}clearExistingTimeout();if(debounceMode===undefined&&elapsed>delay){exec()}else if(noTrailing!==true){timeoutID=setTimeout(debounceMode?clear:exec,debounceMode===undefined?delay-elapsed:delay)}}wrapper.cancel=cancel;return wrapper}function debounce(delay,atBegin,callback){return callback===undefined?throttle(delay,atBegin,false):throttle(delay,callback,atBegin!==false)}exports.debounce=debounce;exports.throttle=throttle;Object.defineProperty(exports,"__esModule",{value:true})}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var useIntersection=function(ref,options){var _a=react_1.useState(null),intersectionObserverEntry=_a[0],setIntersectionObserverEntry=_a[1];react_1.useEffect((function(){if(ref.current&&typeof IntersectionObserver==="function"){var handler=function(entries){setIntersectionObserverEntry(entries[0])};var observer_1=new IntersectionObserver(handler,options);observer_1.observe(ref.current);return function(){setIntersectionObserverEntry(null);observer_1.disconnect()}}return function(){}}),[ref.current,options.threshold,options.root,options.rootMargin]);return intersectionObserverEntry};exports.default=useIntersection},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var useInterval=function(callback,delay){var savedCallback=react_1.useRef((function(){}));react_1.useEffect((function(){savedCallback.current=callback}));react_1.useEffect((function(){if(delay!==null){var interval_1=setInterval((function(){return savedCallback.current()}),delay||0);return function(){return clearInterval(interval_1)}}return undefined}),[delay])};exports.default=useInterval},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var createBreakpoint=function(breakpoints){if(breakpoints===void 0){breakpoints={laptopL:1440,laptop:1024,tablet:768}}return function(){var _a=react_1.useState(0),screen=_a[0],setScreen=_a[1];react_1.useEffect((function(){var setSideScreen=function(){setScreen(window.innerWidth)};setSideScreen();window.addEventListener("resize",setSideScreen);return function(){window.removeEventListener("resize",setSideScreen)}}));var sortedBreakpoints=react_1.useMemo((function(){return Object.entries(breakpoints).sort((function(a,b){return a[1]>=b[1]?1:-1}))}),[breakpoints]);var result=sortedBreakpoints.reduce((function(acc,_a){var name=_a[0],width=_a[1];if(screen>=width){return name}else{return acc}}),sortedBreakpoints[0][0]);return result}};exports.default=createBreakpoint},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var useKeyPress_1=tslib_1.__importDefault(__webpack_require__(45));var useUpdateEffect_1=tslib_1.__importDefault(__webpack_require__(17));var useKeyPressEvent=function(key,keydown,keyup,useKeyPress){if(useKeyPress===void 0){useKeyPress=useKeyPress_1.default}var _a=useKeyPress(key),pressed=_a[0],event=_a[1];useUpdateEffect_1.default((function(){if(!pressed&&keyup){keyup(event)}else if(pressed&&keydown){keydown(event)}}),[pressed])};exports.default=useKeyPressEvent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var useLifecycles=function(mount,unmount){react_1.useEffect((function(){if(mount){mount()}return function(){if(unmount){unmount()}}}),[])};exports.default=useLifecycles},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var util_1=__webpack_require__(7);var useLocalStorage=function(key,initialValue,options){if(!util_1.isClient){return[initialValue,function(){}]}var serializer=options?options.raw?String:options.serializer:JSON.stringify;var deserializer=options?options.raw?String:options.deserializer:JSON.parse;var _a=react_1.useState((function(){try{var localStorageValue=localStorage.getItem(key);if(localStorageValue!==null){return deserializer(localStorageValue)}else{initialValue&&localStorage.setItem(key,serializer(initialValue));return initialValue}}catch(_a){return initialValue}})),state=_a[0],setState=_a[1];react_1.useEffect((function(){try{localStorage.setItem(key,serializer(state))}catch(_a){}}),[state]);return[state,setState]};exports.default=useLocalStorage},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var util_1=__webpack_require__(7);var patchHistoryMethod=function(method){var original=history[method];history[method]=function(state){var result=original.apply(this,arguments);var event=new Event(method.toLowerCase());event.state=state;window.dispatchEvent(event);return result}};if(util_1.isClient){patchHistoryMethod("pushState");patchHistoryMethod("replaceState")}var useLocationServer=function(){return{trigger:"load",length:1}};var buildState=function(trigger){var state=history.state,length=history.length;var hash=location.hash,host=location.host,hostname=location.hostname,href=location.href,origin=location.origin,pathname=location.pathname,port=location.port,protocol=location.protocol,search=location.search;return{trigger:trigger,state:state,length:length,hash:hash,host:host,hostname:hostname,href:href,origin:origin,pathname:pathname,port:port,protocol:protocol,search:search}};var useLocationBrowser=function(){var _a=react_1.useState(buildState("load")),state=_a[0],setState=_a[1];react_1.useEffect((function(){var onPopstate=function(){return setState(buildState("popstate"))};var onPushstate=function(){return setState(buildState("pushstate"))};var onReplacestate=function(){return setState(buildState("replacestate"))};util_1.on(window,"popstate",onPopstate);util_1.on(window,"pushstate",onPushstate);util_1.on(window,"replacestate",onReplacestate);return function(){util_1.off(window,"popstate",onPopstate);util_1.off(window,"pushstate",onPushstate);util_1.off(window,"replacestate",onReplacestate)}}),[]);return state};var hasEventConstructor=typeof Event==="function";exports.default=util_1.isClient&&hasEventConstructor?useLocationBrowser:useLocationServer},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);function getClosestBody(el){if(!el){return null}else if(el.tagName==="BODY"){return el}else if(el.tagName==="IFRAME"){var document_1=el.contentDocument;return document_1?document_1.body:null}else if(!el.offsetParent){return null}return getClosestBody(el.offsetParent)}exports.getClosestBody=getClosestBody;function preventDefault(rawEvent){var e=rawEvent||window.event;if(e.touches.length>1)return true;if(e.preventDefault)e.preventDefault();return false}var isIosDevice=typeof window!=="undefined"&&window.navigator&&window.navigator.platform&&/iP(ad|hone|od)/.test(window.navigator.platform);var bodies=new Map;var doc=typeof document==="object"?document:undefined;var documentListenerAdded=false;exports.default=!doc?function useLockBodyMock(_locked,_elementRef){if(_locked===void 0){_locked=true}}:function useLockBody(locked,elementRef){if(locked===void 0){locked=true}elementRef=elementRef||react_1.useRef(doc.body);react_1.useEffect((function(){var body=getClosestBody(elementRef.current);if(!body){return}var bodyInfo=bodies.get(body);if(locked){if(!bodyInfo){bodies.set(body,{counter:1,initialOverflow:body.style.overflow});if(isIosDevice){if(!documentListenerAdded){document.addEventListener("touchmove",preventDefault,{passive:false});documentListenerAdded=true}}else{body.style.overflow="hidden"}}else{bodies.set(body,{counter:bodyInfo.counter+1,initialOverflow:bodyInfo.initialOverflow})}}else{if(bodyInfo){if(bodyInfo.counter===1){bodies.delete(body);if(isIosDevice){body.ontouchmove=null;if(documentListenerAdded){document.removeEventListener("touchmove",preventDefault);documentListenerAdded=false}}else{body.style.overflow=bodyInfo.initialOverflow}}else{bodies.set(body,{counter:bodyInfo.counter-1,initialOverflow:bodyInfo.initialOverflow})}}}}),[locked,elementRef.current])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var useEffectOnce_1=tslib_1.__importDefault(__webpack_require__(19));var useUpdateEffect_1=tslib_1.__importDefault(__webpack_require__(17));var useLogger=function(componentName){var rest=[];for(var _i=1;_i<arguments.length;_i++){rest[_i-1]=arguments[_i]}useEffectOnce_1.default((function(){console.log.apply(console,tslib_1.__spreadArrays([componentName+" mounted"],rest));return function(){return console.log(componentName+" unmounted")}}));useUpdateEffect_1.default((function(){console.log.apply(console,tslib_1.__spreadArrays([componentName+" updated"],rest))}))};exports.default=useLogger},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var isTouchEvent=function(event){return"touches"in event};var preventDefault=function(event){if(!isTouchEvent(event))return;if(event.touches.length<2&&event.preventDefault){event.preventDefault()}};var useLongPress=function(callback,_a){var _b=_a===void 0?{}:_a,_c=_b.isPreventDefault,isPreventDefault=_c===void 0?true:_c,_d=_b.delay,delay=_d===void 0?300:_d;var timeout=react_1.useRef();var target=react_1.useRef();var start=react_1.useCallback((function(event){if(isPreventDefault&&event.target){event.target.addEventListener("touchend",preventDefault,{passive:false});target.current=event.target}timeout.current=setTimeout((function(){return callback(event)}),delay)}),[callback,delay]);var clear=react_1.useCallback((function(){timeout.current&&clearTimeout(timeout.current);if(isPreventDefault&&target.current){target.current.removeEventListener("touchend",preventDefault)}}),[]);return{onMouseDown:function(e){return start(e)},onTouchStart:function(e){return start(e)},onMouseUp:clear,onMouseLeave:clear,onTouchEnd:clear}};exports.default=useLongPress},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(0);var useMap=function(initialMap){if(initialMap===void 0){initialMap={}}var _a=react_1.useState(initialMap),map=_a[0],set=_a[1];var stableActions=react_1.useMemo((function(){return{set:function(key,entry){set((function(prevMap){var _a;return tslib_1.__assign(tslib_1.__assign({},prevMap),(_a={},_a[key]=entry,_a))}))},setAll:function(newMap){set(newMap)},remove:function(key){set((function(prevMap){var _a=prevMap,_b=key,omit=_a[_b],rest=tslib_1.__rest(_a,[typeof _b==="symbol"?_b:_b+""]);return rest}))},reset:function(){return set(initialMap)}}}),[set]);var utils=tslib_1.__assign({get:react_1.useCallback((function(key){return map[key]}),[map])},stableActions);return[map,utils]};exports.default=useMap},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var util_1=__webpack_require__(7);var useMedia=function(query,defaultState){if(defaultState===void 0){defaultState=false}var _a=react_1.useState(util_1.isClient?function(){return window.matchMedia(query).matches}:defaultState),state=_a[0],setState=_a[1];react_1.useEffect((function(){var mounted=true;var mql=window.matchMedia(query);var onChange=function(){if(!mounted){return}setState(!!mql.matches)};mql.addListener(onChange);setState(mql.matches);return function(){mounted=false;mql.removeListener(onChange)}}),[query]);return state};exports.default=useMedia},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var util_1=__webpack_require__(7);var noop=function(){};var useMediaDevices=function(){var _a=react_1.useState({}),state=_a[0],setState=_a[1];react_1.useEffect((function(){var mounted=true;var onChange=function(){navigator.mediaDevices.enumerateDevices().then((function(devices){if(mounted){setState({devices:devices.map((function(_a){var deviceId=_a.deviceId,groupId=_a.groupId,kind=_a.kind,label=_a.label;return{deviceId:deviceId,groupId:groupId,kind:kind,label:label}}))})}})).catch(noop)};util_1.on(navigator.mediaDevices,"devicechange",onChange);onChange();return function(){mounted=false;util_1.off(navigator.mediaDevices,"devicechange",onChange)}}),[]);return state};var useMediaDevicesMock=function(){return{}};exports.default=typeof navigator==="object"&&!!navigator.mediaDevices?useMediaDevices:useMediaDevicesMock},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);function useMediatedState(mediator,initialState){var mediatorFn=react_1.useRef(mediator);var _a=react_1.useState(initialState),state=_a[0],setMediatedState=_a[1];var setState=react_1.useCallback((function(newState){if(mediatorFn.current.length===2){mediatorFn.current(newState,setMediatedState)}else{setMediatedState(mediatorFn.current(newState))}}),[state]);return[state,setState]}exports.useMediatedState=useMediatedState},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var useMethods=function(createMethods,initialState){var reducer=react_1.useMemo((function(){return function(reducerState,action){var _a;return(_a=createMethods(reducerState))[action.type].apply(_a,action.payload)}}),[createMethods]);var _a=react_1.useReducer(reducer,initialState),state=_a[0],dispatch=_a[1];var wrappedMethods=react_1.useMemo((function(){var actionTypes=Object.keys(createMethods(initialState));return actionTypes.reduce((function(acc,type){acc[type]=function(){var payload=[];for(var _i=0;_i<arguments.length;_i++){payload[_i]=arguments[_i]}return dispatch({type:type,payload:payload})};return acc}),{})}),[createMethods,initialState]);return[state,wrappedMethods]};exports.default=useMethods},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var util_1=__webpack_require__(7);var defaultState={acceleration:{x:null,y:null,z:null},accelerationIncludingGravity:{x:null,y:null,z:null},rotationRate:{alpha:null,beta:null,gamma:null},interval:16};var useMotion=function(initialState){if(initialState===void 0){initialState=defaultState}var _a=react_1.useState(initialState),state=_a[0],setState=_a[1];react_1.useEffect((function(){var handler=function(event){var acceleration=event.acceleration,accelerationIncludingGravity=event.accelerationIncludingGravity,rotationRate=event.rotationRate,interval=event.interval;setState({acceleration:{x:acceleration.x,y:acceleration.y,z:acceleration.z},accelerationIncludingGravity:{x:accelerationIncludingGravity.x,y:accelerationIncludingGravity.y,z:accelerationIncludingGravity.z},rotationRate:{alpha:rotationRate.alpha,beta:rotationRate.beta,gamma:rotationRate.gamma},interval:interval})};util_1.on(window,"devicemotion",handler);return function(){util_1.off(window,"devicemotion",handler)}}),[]);return state};exports.default=useMotion},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var useHoverDirty_1=tslib_1.__importDefault(__webpack_require__(42));var useMouse_1=tslib_1.__importDefault(__webpack_require__(48));var nullRef={current:null};var useMouseHovered=function(ref,options){if(options===void 0){options={}}var whenHovered=!!options.whenHovered;var bound=!!options.bound;var isHovered=useHoverDirty_1.default(ref,whenHovered);var state=useMouse_1.default(whenHovered&&!isHovered?nullRef:ref);if(bound){state.elX=Math.max(0,Math.min(state.elX,state.elW));state.elY=Math.max(0,Math.min(state.elY,state.elH))}return state};exports.default=useMouseHovered},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(0);var util_1=__webpack_require__(7);var getConnection=function(){if(typeof navigator!=="object"){return null}var nav=navigator;return nav.connection||nav.mozConnection||nav.webkitConnection};var getConnectionState=function(){var connection=getConnection();if(!connection){return{}}var downlink=connection.downlink,downlinkMax=connection.downlinkMax,effectiveType=connection.effectiveType,type=connection.type,rtt=connection.rtt;return{downlink:downlink,downlinkMax:downlinkMax,effectiveType:effectiveType,type:type,rtt:rtt}};var useNetwork=function(initialState){if(initialState===void 0){initialState={}}var _a=react_1.useState(initialState),state=_a[0],setState=_a[1];react_1.useEffect((function(){var localState=state;var localSetState=function(patch){localState=tslib_1.__assign(tslib_1.__assign({},localState),patch);setState(localState)};var connection=getConnection();var onOnline=function(){localSetState({online:true,since:new Date})};var onOffline=function(){localSetState({online:false,since:new Date})};var onConnectionChange=function(){localSetState(getConnectionState())};util_1.on(window,"online",onOnline);util_1.on(window,"offline",onOffline);if(connection){util_1.on(connection,"change",onConnectionChange);localSetState(tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({},state),{online:navigator.onLine,since:undefined}),getConnectionState()))}return function(){util_1.off(window,"online",onOnline);util_1.off(window,"offline",onOffline);if(connection){util_1.off(connection,"change",onConnectionChange)}}}),[]);return state};exports.default=useNetwork},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var useCounter_1=tslib_1.__importDefault(__webpack_require__(39));exports.default=useCounter_1.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(0);var useIsomorphicLayoutEffect_1=tslib_1.__importDefault(__webpack_require__(43));function useObservable(observable$,initialValue){var _a=react_1.useState(initialValue),value=_a[0],update=_a[1];useIsomorphicLayoutEffect_1.default((function(){var s=observable$.subscribe(update);return function(){return s.unsubscribe()}}),[observable$]);return value}exports.default=useObservable},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var util_1=__webpack_require__(7);var defaultState={angle:0,type:"landscape-primary"};var useOrientation=function(initialState){if(initialState===void 0){initialState=defaultState}var _a=react_1.useState(initialState),state=_a[0],setState=_a[1];react_1.useEffect((function(){var mounted=true;var onChange=function(){if(mounted){var orientation_1=screen.orientation;if(orientation_1){var angle=orientation_1.angle,type=orientation_1.type;setState({angle:angle,type:type})}else if(window.orientation){setState({angle:typeof window.orientation==="number"?window.orientation:0,type:""})}else{setState(initialState)}}};util_1.on(window,"orientationchange",onChange);onChange();return function(){mounted=false;util_1.off(window,"orientationchange",onChange)}}),[]);return state};exports.default=useOrientation},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var usePageLeave=function(onPageLeave,args){if(args===void 0){args=[]}react_1.useEffect((function(){if(!onPageLeave){return}var handler=function(event){event=event?event:window.event;var from=event.relatedTarget||event.toElement;if(!from||from.nodeName==="HTML"){onPageLeave()}};document.addEventListener("mouseout",handler);return function(){document.removeEventListener("mouseout",handler)}}),args)};exports.default=usePageLeave},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var util_1=__webpack_require__(7);var noop=function(){};var usePermission=function(permissionDesc){var mounted=true;var permissionStatus=null;var _a=react_1.useState(""),state=_a[0],setState=_a[1];var onChange=function(){if(mounted&&permissionStatus){setState(permissionStatus.state)}};var changeState=function(){onChange();util_1.on(permissionStatus,"change",onChange)};react_1.useEffect((function(){navigator.permissions.query(permissionDesc).then((function(status){permissionStatus=status;changeState()})).catch(noop);return function(){mounted=false;permissionStatus&&util_1.off(permissionStatus,"change",onChange)}}),[]);return state};exports.default=usePermission},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var usePrevious=function(state){var ref=react_1.useRef();react_1.useEffect((function(){ref.current=state}));return ref.current};exports.default=usePrevious},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var useFirstMountState_1=__webpack_require__(23);var strictEquals=function(prev,next){return prev===next};function usePreviousDistinct(value,compare){if(compare===void 0){compare=strictEquals}var prevRef=react_1.useRef();var curRef=react_1.useRef(value);var isFirstMount=useFirstMountState_1.useFirstMountState();if(!isFirstMount&&!compare(curRef.current,value)){prevRef.current=curRef.current;curRef.current=value}return prevRef.current}exports.default=usePreviousDistinct},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(0);var useMountedState_1=tslib_1.__importDefault(__webpack_require__(12));var usePromise=function(){var isMounted=useMountedState_1.default();return react_1.useCallback((function(promise){return new Promise((function(resolve,reject){var onValue=function(value){isMounted()&&resolve(value)};var onError=function(error){isMounted()&&reject(error)};promise.then(onValue,onError)}))}),[])};exports.default=usePromise},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(0);var useQueue=function(initialValue){if(initialValue===void 0){initialValue=[]}var _a=react_1.useState(initialValue),state=_a[0],set=_a[1];return{add:function(value){set((function(queue){return tslib_1.__spreadArrays(queue,[value])}))},remove:function(){var result;set((function(_a){var first=_a[0],rest=_a.slice(1);result=first;return rest}));return result},get first(){return state[0]},get last(){return state[state.length-1]},get size(){return state.length}}};exports.default=useQueue},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);function useRafLoop(callback){var raf=react_1.useRef(null);var _a=react_1.useState(true),isActive=_a[0],setIsActive=_a[1];function loopStep(){callback();raf.current=requestAnimationFrame(loopStep)}function loopStop(){setIsActive(false)}function loopStart(){setIsActive(true)}function clearCurrentLoop(){raf.current&&cancelAnimationFrame(raf.current)}react_1.useEffect((function(){return clearCurrentLoop}),[]);react_1.useEffect((function(){clearCurrentLoop();isActive&&(raf.current=requestAnimationFrame(loopStep));return clearCurrentLoop}),[isActive,callback]);return[loopStop,isActive,loopStart]}exports.default=useRafLoop},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var getValue=function(search,param){return new URLSearchParams(search).get(param)};var useSearchParam=function(param){var _a=react_1.useState((function(){return getValue(location.search,param)})),value=_a[0],setValue=_a[1];react_1.useEffect((function(){var onChange=function(){setValue(getValue(location.search,param))};window.addEventListener("popstate",onChange);window.addEventListener("pushstate",onChange);window.addEventListener("replacestate",onChange);return function(){window.removeEventListener("popstate",onChange);window.removeEventListener("pushstate",onChange);window.removeEventListener("replacestate",onChange)}}),[]);return value};var useSearchParamServer=function(){return null};exports.default=typeof window==="object"?useSearchParam:useSearchParamServer},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(0);var useRafState_1=tslib_1.__importDefault(__webpack_require__(20));var useScroll=function(ref){if(false){}var _a=useRafState_1.default({x:0,y:0}),state=_a[0],setState=_a[1];react_1.useEffect((function(){var handler=function(){if(ref.current){setState({x:ref.current.scrollLeft,y:ref.current.scrollTop})}};if(ref.current){ref.current.addEventListener("scroll",handler,{capture:false,passive:true})}return function(){if(ref.current){ref.current.removeEventListener("scroll",handler)}}}),[ref]);return state};exports.default=useScroll},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var useScrolling=function(ref){var _a=react_1.useState(false),scrolling=_a[0],setScrolling=_a[1];react_1.useEffect((function(){if(ref.current){var scrollingTimeout_1;var handleScrollEnd_1=function(){setScrolling(false)};var handleScroll_1=function(){setScrolling(true);clearTimeout(scrollingTimeout_1);scrollingTimeout_1=setTimeout((function(){return handleScrollEnd_1()}),150)};ref.current.addEventListener("scroll",handleScroll_1,false);return function(){if(ref.current){ref.current.removeEventListener("scroll",handleScroll_1,false)}}}return function(){}}),[ref]);return scrolling};exports.default=useScrolling},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var util_1=__webpack_require__(7);var useSessionStorage=function(key,initialValue,raw){if(!util_1.isClient){return[initialValue,function(){}]}var _a=react_1.useState((function(){try{var sessionStorageValue=sessionStorage.getItem(key);if(typeof sessionStorageValue!=="string"){sessionStorage.setItem(key,raw?String(initialValue):JSON.stringify(initialValue));return initialValue}else{return raw?sessionStorageValue:JSON.parse(sessionStorageValue||"null")}}catch(_a){return initialValue}})),state=_a[0],setState=_a[1];react_1.useEffect((function(){try{var serializedState=raw?String(state):JSON.stringify(state);sessionStorage.setItem(key,serializedState)}catch(_a){}}));return[state,setState]};exports.default=useSessionStorage},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var fast_shallow_equal_1=__webpack_require__(130);var useCustomCompareEffect_1=tslib_1.__importDefault(__webpack_require__(30));var isPrimitive=function(val){return val!==Object(val)};var shallowEqualDepsList=function(prevDeps,nextDeps){return prevDeps.every((function(dep,index){return fast_shallow_equal_1.equal(dep,nextDeps[index])}))};var useShallowCompareEffect=function(effect,deps){if(false){}useCustomCompareEffect_1.default(effect,deps,shallowEqualDepsList)};exports.default=useShallowCompareEffect},function(module,exports){var keyList=Object.keys;exports.equal=function equal(a,b){if(a===b)return true;if(!(a instanceof Object)||!(b instanceof Object))return false;var keys=keyList(a);var length=keys.length;for(var i=0;i<length;i++)if(!(keys[i]in b))return false;for(var i=0;i<length;i++)if(a[keys[i]]!==b[keys[i]])return false;return length===keyList(b).length}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var React=tslib_1.__importStar(__webpack_require__(0));var util_1=__webpack_require__(7);var useState=React.useState,useEffect=React.useEffect,useRef=React.useRef;var DRAF=function(callback){return setTimeout(callback,35)};var useSize=function(element,_a){var _b=_a===void 0?{}:_a,_c=_b.width,width=_c===void 0?Infinity:_c,_d=_b.height,height=_d===void 0?Infinity:_d;if(!util_1.isClient){return[typeof element==="function"?element({width:width,height:height}):element,{width:width,height:height}]}var _e=useState({width:width,height:height}),state=_e[0],setState=_e[1];if(typeof element==="function"){element=element(state)}var style=element.props.style||{};var ref=useRef(null);var window=null;var setSize=function(){var iframe=ref.current;var size=iframe?{width:iframe.offsetWidth,height:iframe.offsetHeight}:{width:width,height:height};setState(size)};var onWindow=function(windowToListenOn){windowToListenOn.addEventListener("resize",setSize);DRAF(setSize)};useEffect((function(){var iframe=ref.current;if(!iframe){return}if(iframe.contentWindow){window=iframe.contentWindow;onWindow(window)}else{var onLoad_1=function(){iframe.removeEventListener("load",onLoad_1);window=iframe.contentWindow;onWindow(window)};iframe.addEventListener("load",onLoad_1)}return function(){if(window&&window.removeEventListener){window.removeEventListener("resize",setSize)}}}),[]);style.position="relative";var sized=React.cloneElement.apply(React,tslib_1.__spreadArrays([element,{style:style}],tslib_1.__spreadArrays([React.createElement("iframe",{ref:ref,style:{background:"transparent",border:"none",height:"100%",left:0,position:"absolute",top:0,width:"100%",zIndex:-1}})],React.Children.toArray(element.props.children))));return[sized,state]};exports.default=useSize},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(0);var util_1=__webpack_require__(7);var useMountedState_1=tslib_1.__importDefault(__webpack_require__(12));var useSetState_1=tslib_1.__importDefault(__webpack_require__(18));var noop=function(){};var useSlider=function(ref,options){if(options===void 0){options={}}var isMounted=useMountedState_1.default();var isSliding=react_1.useRef(false);var frame=react_1.useRef(0);var _a=useSetState_1.default({isSliding:false,value:0}),state=_a[0],setState=_a[1];react_1.useEffect((function(){if(util_1.isClient){var styles=options.styles===undefined?true:options.styles;var reverse_1=options.reverse===undefined?false:options.reverse;if(ref.current&&styles){ref.current.style.userSelect="none"}var startScrubbing_1=function(){if(!isSliding.current&&isMounted()){(options.onScrubStart||noop)();isSliding.current=true;setState({isSliding:true});bindEvents_1()}};var stopScrubbing_1=function(){if(isSliding.current&&isMounted()){(options.onScrubStop||noop)();isSliding.current=false;setState({isSliding:false});unbindEvents_1()}};var onMouseDown_1=function(event){startScrubbing_1();onMouseMove_1(event)};var onMouseMove_1=options.vertical?function(event){return onScrub_1(event.clientY)}:function(event){return onScrub_1(event.clientX)};var onTouchStart_1=function(event){startScrubbing_1();onTouchMove_1(event)};var onTouchMove_1=options.vertical?function(event){return onScrub_1(event.changedTouches[0].clientY)}:function(event){return onScrub_1(event.changedTouches[0].clientX)};var bindEvents_1=function(){util_1.on(document,"mousemove",onMouseMove_1);util_1.on(document,"mouseup",stopScrubbing_1);util_1.on(document,"touchmove",onTouchMove_1);util_1.on(document,"touchend",stopScrubbing_1)};var unbindEvents_1=function(){util_1.off(document,"mousemove",onMouseMove_1);util_1.off(document,"mouseup",stopScrubbing_1);util_1.off(document,"touchmove",onTouchMove_1);util_1.off(document,"touchend",stopScrubbing_1)};var onScrub_1=function(clientXY){cancelAnimationFrame(frame.current);frame.current=requestAnimationFrame((function(){if(isMounted()&&ref.current){var rect=ref.current.getBoundingClientRect();var pos=options.vertical?rect.top:rect.left;var length_1=options.vertical?rect.height:rect.width;if(!length_1){return}var value=(clientXY-pos)/length_1;if(value>1){value=1}else if(value<0){value=0}if(reverse_1){value=1-value}setState({value:value});(options.onScrub||noop)(value)}}))};util_1.on(ref.current,"mousedown",onMouseDown_1);util_1.on(ref.current,"touchstart",onTouchStart_1);return function(){util_1.off(ref.current,"mousedown",onMouseDown_1);util_1.off(ref.current,"touchstart",onTouchStart_1)}}else{return undefined}}),[ref,options.vertical]);return state};exports.default=useSlider},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(0);var useMount_1=tslib_1.__importDefault(__webpack_require__(47));var useSetState_1=tslib_1.__importDefault(__webpack_require__(18));var voices=typeof window==="object"&&typeof window.speechSynthesis==="object"?window.speechSynthesis.getVoices():[];var useSpeech=function(text,opts){if(opts===void 0){opts={}}var _a=useSetState_1.default({isPlaying:false,lang:opts.lang||"default",voice:opts.voice||voices[0],rate:opts.rate||1,pitch:opts.pitch||1,volume:opts.volume||1}),state=_a[0],setState=_a[1];var uterranceRef=react_1.useRef(null);useMount_1.default((function(){var utterance=new SpeechSynthesisUtterance(text);opts.lang&&(utterance.lang=opts.lang);opts.voice&&(utterance.voice=opts.voice);utterance.rate=opts.rate||1;utterance.pitch=opts.pitch||1;utterance.volume=opts.volume||1;utterance.onstart=function(){return setState({isPlaying:true})};utterance.onresume=function(){return setState({isPlaying:true})};utterance.onend=function(){return setState({isPlaying:false})};utterance.onpause=function(){return setState({isPlaying:false})};uterranceRef.current=utterance;window.speechSynthesis.speak(uterranceRef.current)}));return state};exports.default=useSpeech},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var isFocusedElementEditable=function(){var activeElement=document.activeElement,body=document.body;if(!activeElement){return false}if(activeElement===body){return false}switch(activeElement.tagName){case"INPUT":case"TEXTAREA":return true}return activeElement.hasAttribute("contenteditable")};var isTypedCharGood=function(_a){var keyCode=_a.keyCode,metaKey=_a.metaKey,ctrlKey=_a.ctrlKey,altKey=_a.altKey;if(metaKey||ctrlKey||altKey){return false}if(keyCode>=48&&keyCode<=57){return true}if(keyCode>=65&&keyCode<=90){return true}return false};var useStartTyping=function(onStartTyping){react_1.useLayoutEffect((function(){var keydown=function(event){!isFocusedElementEditable()&&isTypedCharGood(event)&&onStartTyping(event)};document.addEventListener("keydown",keydown);return function(){document.removeEventListener("keydown",keydown)}}),[])};exports.default=useStartTyping},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var useFirstMountState_1=__webpack_require__(23);var resolveHookState_1=__webpack_require__(24);function useStateWithHistory(initialState,capacity,initialHistory){if(capacity===void 0){capacity=10}if(capacity<1){throw new Error("Capacity has to be greater than 1, got '"+capacity+"'")}var isFirstMount=useFirstMountState_1.useFirstMountState();var _a=react_1.useState(initialState),state=_a[0],innerSetState=_a[1];var history=react_1.useRef(initialHistory!==null&&initialHistory!==void 0?initialHistory:[]);var historyPosition=react_1.useRef(0);if(isFirstMount){if(history.current.length){if(history.current[history.current.length-1]!==initialState){history.current.push(initialState)}if(history.current.length>capacity){history.current=history.current.slice(history.current.length-capacity)}}else{history.current.push(initialState)}historyPosition.current=history.current.length&&history.current.length-1}var setState=react_1.useCallback((function(newState){innerSetState((function(currentState){newState=resolveHookState_1.resolveHookState(newState);if(newState!==currentState){if(historyPosition.current<history.current.length-1){history.current=history.current.slice(0,historyPosition.current+1)}historyPosition.current=history.current.push(newState)-1;if(history.current.length>capacity){history.current=history.current.slice(history.current.length-capacity)}}return newState}))}),[state,capacity]);var historyState=react_1.useMemo((function(){return{history:history.current,position:historyPosition.current,capacity:capacity,back:function(amount){if(amount===void 0){amount=1}if(!historyPosition.current){return}innerSetState((function(){historyPosition.current-=Math.min(amount,historyPosition.current);return history.current[historyPosition.current]}))},forward:function(amount){if(amount===void 0){amount=1}if(historyPosition.current===history.current.length-1){return}innerSetState((function(){historyPosition.current=Math.min(historyPosition.current+amount,history.current.length-1);return history.current[historyPosition.current]}))},go:function(position){if(position===historyPosition.current){return}innerSetState((function(){historyPosition.current=position<0?Math.max(history.current.length+position,0):Math.min(history.current.length-1,position);return history.current[historyPosition.current]}))}}}),[state]);return[state,setState,historyState]}exports.useStateWithHistory=useStateWithHistory},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(0);var useMountedState_1=tslib_1.__importDefault(__webpack_require__(12));var useUpdate_1=tslib_1.__importDefault(__webpack_require__(13));var useUpdateEffect_1=tslib_1.__importDefault(__webpack_require__(17));function useStateList(stateSet){if(stateSet===void 0){stateSet=[]}var isMounted=useMountedState_1.default();var update=useUpdate_1.default();var index=react_1.useRef(0);useUpdateEffect_1.default((function(){if(stateSet.length<=index.current){index.current=stateSet.length-1;update()}}),[stateSet.length]);var actions=react_1.useMemo((function(){return{next:function(){return actions.setStateAt(index.current+1)},prev:function(){return actions.setStateAt(index.current-1)},setStateAt:function(newIndex){if(!isMounted())return;if(!stateSet.length)return;if(newIndex===index.current)return;index.current=newIndex>=0?newIndex%stateSet.length:stateSet.length+newIndex%stateSet.length;update()},setState:function(state){if(!isMounted())return;var newIndex=stateSet.length?stateSet.indexOf(state):-1;if(newIndex===-1){throw new Error("State '"+state+"' is not a valid state (does not exist in state list)")}index.current=newIndex;update()}}}),[stateSet]);return tslib_1.__assign({state:stateSet[index.current],currentIndex:index.current},actions)}exports.default=useStateList},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(0);var useUnmount_1=tslib_1.__importDefault(__webpack_require__(25));var useThrottle=function(value,ms){if(ms===void 0){ms=200}var _a=react_1.useState(value),state=_a[0],setState=_a[1];var timeout=react_1.useRef();var nextValue=react_1.useRef(null);var hasNextValue=react_1.useRef(0);react_1.useEffect((function(){if(!timeout.current){setState(value);var timeoutCallback_1=function(){if(hasNextValue.current){hasNextValue.current=false;setState(nextValue.current);timeout.current=setTimeout(timeoutCallback_1,ms)}else{timeout.current=undefined}};timeout.current=setTimeout(timeoutCallback_1,ms)}else{nextValue.current=value;hasNextValue.current=true}}),[value]);useUnmount_1.default((function(){timeout.current&&clearTimeout(timeout.current)}));return state};exports.default=useThrottle},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(0);var useUnmount_1=tslib_1.__importDefault(__webpack_require__(25));var useThrottleFn=function(fn,ms,args){if(ms===void 0){ms=200}var _a=react_1.useState(null),state=_a[0],setState=_a[1];var timeout=react_1.useRef();var nextArgs=react_1.useRef();react_1.useEffect((function(){if(!timeout.current){setState(fn.apply(void 0,args));var timeoutCallback_1=function(){if(nextArgs.current){setState(fn.apply(void 0,nextArgs.current));nextArgs.current=undefined;timeout.current=setTimeout(timeoutCallback_1,ms)}else{timeout.current=undefined}};timeout.current=setTimeout(timeoutCallback_1,ms)}else{nextArgs.current=args}}),args);useUnmount_1.default((function(){timeout.current&&clearTimeout(timeout.current)}));return state};exports.default=useThrottleFn},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var useTimeoutFn_1=tslib_1.__importDefault(__webpack_require__(31));var useUpdate_1=tslib_1.__importDefault(__webpack_require__(13));function useTimeout(ms){if(ms===void 0){ms=0}var update=useUpdate_1.default();return useTimeoutFn_1.default(update,ms)}exports.default=useTimeout},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var DEFAULT_USE_TITLE_OPTIONS={restoreOnUnmount:false};function useTitle(title,options){if(options===void 0){options=DEFAULT_USE_TITLE_OPTIONS}var prevTitleRef=react_1.useRef(document.title);document.title=title;react_1.useEffect((function(){if(options&&options.restoreOnUnmount){return function(){document.title=prevTitleRef.current}}else{return}}),[])}exports.default=typeof document!=="undefined"?useTitle:function(_title){}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var ts_easing_1=__webpack_require__(142);var useRaf_1=tslib_1.__importDefault(__webpack_require__(49));var useTween=function(easingName,ms,delay){if(easingName===void 0){easingName="inCirc"}if(ms===void 0){ms=200}if(delay===void 0){delay=0}var fn=ts_easing_1.easing[easingName];var t=useRaf_1.default(ms,delay);if(false){}return fn(t)};exports.default=useTween},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.easing={linear:function(t){return t},quadratic:function(t){return t*(-(t*t)*t+4*t*t-6*t+4)},cubic:function(t){return t*(4*t*t-9*t+6)},elastic:function(t){return t*(33*t*t*t*t-106*t*t*t+126*t*t-67*t+15)},inQuad:function(t){return t*t},outQuad:function(t){return t*(2-t)},inOutQuad:function(t){return t<.5?2*t*t:-1+(4-2*t)*t},inCubic:function(t){return t*t*t},outCubic:function(t){return--t*t*t+1},inOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},inQuart:function(t){return t*t*t*t},outQuart:function(t){return 1- --t*t*t*t},inOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},inQuint:function(t){return t*t*t*t*t},outQuint:function(t){return 1+--t*t*t*t*t},inOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},inSine:function(t){return-Math.cos(t*(Math.PI/2))+1},outSine:function(t){return Math.sin(t*(Math.PI/2))},inOutSine:function(t){return-(Math.cos(Math.PI*t)-1)/2},inExpo:function(t){return Math.pow(2,10*(t-1))},outExpo:function(t){return-Math.pow(2,-10*t)+1},inOutExpo:function(t){t/=.5;if(t<1)return Math.pow(2,10*(t-1))/2;t--;return(-Math.pow(2,-10*t)+2)/2},inCirc:function(t){return-Math.sqrt(1-t*t)+1},outCirc:function(t){return Math.sqrt(1-(t=t-1)*t)},inOutCirc:function(t){t/=.5;if(t<1)return-(Math.sqrt(1-t*t)-1)/2;t-=2;return(Math.sqrt(1-t*t)+1)/2}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var useUnmountPromise=function(){var refUnmounted=react_1.useRef(false);react_1.useEffect((function(){return function(){refUnmounted.current=true}}));var wrapper=react_1.useMemo((function(){var race=function(promise,onError){var newPromise=new Promise((function(resolve,reject){promise.then((function(result){if(!refUnmounted.current)resolve(result)}),(function(error){if(!refUnmounted.current)reject(error);else if(onError)onError(error);else console.error("useUnmountPromise",error)}))}));return newPromise};return race}),[]);return wrapper};exports.default=useUnmountPromise},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var useList_1=tslib_1.__importDefault(__webpack_require__(46));function useUpsert(predicate,initialList){if(initialList===void 0){initialList=[]}var _a=useList_1.default(initialList),list=_a[0],listActions=_a[1];return[list,tslib_1.__assign(tslib_1.__assign({},listActions),{upsert:function(newItem){listActions.upsert(predicate,newItem)}})]}exports.default=useUpsert},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);var isVibrationApiSupported=typeof navigator==="object"&&"vibrate"in navigator;var useVibrateMock=function(){};function useVibrate(enabled,pattern,loop){if(enabled===void 0){enabled=true}if(pattern===void 0){pattern=[1e3,1e3]}if(loop===void 0){loop=true}react_1.useEffect((function(){var interval;if(enabled){navigator.vibrate(pattern);if(loop){var duration=pattern instanceof Array?pattern.reduce((function(a,b){return a+b})):pattern;interval=setInterval((function(){navigator.vibrate(pattern)}),duration)}}return function(){if(enabled){navigator.vibrate(0);if(loop){clearInterval(interval)}}}}),[enabled])}exports.default=isVibrationApiSupported?useVibrate:useVibrateMock},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var createHTMLMediaHook_1=tslib_1.__importDefault(__webpack_require__(37));var useVideo=createHTMLMediaHook_1.default("video");exports.default=useVideo},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);function useStateValidator(state,validator,initialState){if(initialState===void 0){initialState=[undefined]}var validatorInner=react_1.useRef(validator);var stateInner=react_1.useRef(state);validatorInner.current=validator;stateInner.current=state;var _a=react_1.useState(initialState),validity=_a[0],setValidity=_a[1];var validate=react_1.useCallback((function(){if(validatorInner.current.length>=2){validatorInner.current(stateInner.current,setValidity)}else{setValidity(validatorInner.current(stateInner.current))}}),[setValidity]);react_1.useEffect((function(){validate()}),[state]);return[validity,validate]}exports.default=useStateValidator},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var scrollbar_width_1=__webpack_require__(149);var react_1=__webpack_require__(0);function useScrollbarWidth(){var _a=react_1.useState(scrollbar_width_1.scrollbarWidth()),sbw=_a[0],setSbw=_a[1];react_1.useEffect((function(){if(typeof sbw!=="undefined"){return}var raf=requestAnimationFrame((function(){setSbw(scrollbar_width_1.scrollbarWidth())}));return function(){return cancelAnimationFrame(raf)}}),[]);return sbw}exports.useScrollbarWidth=useScrollbarWidth},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(t){if("undefined"==typeof document)return 0;if(document.body&&(!document.readyState||"loading"!==document.readyState)){if(!0!==t&&"number"==typeof e.__cache)return e.__cache;var o=document.createElement("div"),d=o.style;d.display="block",d.position="absolute",d.width="100px",d.height="100px",d.left="-999px",d.top="-999px",d.overflow="scroll",document.body.insertBefore(o,null);var r=o.clientWidth;if(0!==r)return e.__cache=100-r,document.body.removeChild(o),e.__cache;document.body.removeChild(o)}};exports.scrollbarWidth=e},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);function useMultiStateValidator(states,validator,initialValidity){if(initialValidity===void 0){initialValidity=[undefined]}if(typeof states!=="object"){throw new Error("states expected to be an object or array, got "+typeof states)}var validatorInner=react_1.useRef(validator);var statesInner=react_1.useRef(states);validatorInner.current=validator;statesInner.current=states;var _a=react_1.useState(initialValidity),validity=_a[0],setValidity=_a[1];var validate=react_1.useCallback((function(){if(validatorInner.current.length>=2){validatorInner.current(statesInner.current,setValidity)}else{setValidity(validatorInner.current(statesInner.current))}}),[setValidity]);react_1.useEffect((function(){validate()}),Object.values(states));return[validity,validate]}exports.useMultiStateValidator=useMultiStateValidator},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(0);var util_1=__webpack_require__(7);var useRafState_1=tslib_1.__importDefault(__webpack_require__(20));var useWindowScroll=function(){var _a=useRafState_1.default({x:util_1.isClient?window.pageXOffset:0,y:util_1.isClient?window.pageYOffset:0}),state=_a[0],setState=_a[1];react_1.useEffect((function(){var handler=function(){setState({x:window.pageXOffset,y:window.pageYOffset})};window.addEventListener("scroll",handler,{capture:false,passive:true});return function(){window.removeEventListener("scroll",handler)}}),[]);return state};exports.default=useWindowScroll},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(0);var useRafState_1=tslib_1.__importDefault(__webpack_require__(20));var util_1=__webpack_require__(7);var useWindowSize=function(initialWidth,initialHeight){if(initialWidth===void 0){initialWidth=Infinity}if(initialHeight===void 0){initialHeight=Infinity}var _a=useRafState_1.default({width:util_1.isClient?window.innerWidth:initialWidth,height:util_1.isClient?window.innerHeight:initialHeight}),state=_a[0],setState=_a[1];react_1.useEffect((function(){if(util_1.isClient){var handler_1=function(){setState({width:window.innerWidth,height:window.innerHeight})};window.addEventListener("resize",handler_1);return function(){window.removeEventListener("resize",handler_1)}}}),[]);return state};exports.default=useWindowSize},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(0);var resize_observer_polyfill_1=tslib_1.__importDefault(__webpack_require__(154));var useMeasure=function(){var _a=react_1.useState({x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0}),rect=_a[0],set=_a[1];var observer=react_1.useState((function(){return new resize_observer_polyfill_1.default((function(entries){var entry=entries[0];if(entry){set(entry.contentRect)}}))}))[0];var ref=react_1.useCallback((function(node){observer.disconnect();if(node){observer.observe(node)}}),[observer]);return[ref,rect]};exports.default=useMeasure},function(module,exports,__webpack_require__){(function(global){(function(global,factory){true?module.exports=factory():undefined})(this,(function(){"use strict";var MapShim=function(){if(typeof Map!=="undefined"){return Map}function getIndex(arr,key){var result=-1;arr.some((function(entry,index){if(entry[0]===key){result=index;return true}return false}));return result}return function(){function class_1(){this.__entries__=[]}Object.defineProperty(class_1.prototype,"size",{get:function(){return this.__entries__.length},enumerable:true,configurable:true});class_1.prototype.get=function(key){var index=getIndex(this.__entries__,key);var entry=this.__entries__[index];return entry&&entry[1]};class_1.prototype.set=function(key,value){var index=getIndex(this.__entries__,key);if(~index){this.__entries__[index][1]=value}else{this.__entries__.push([key,value])}};class_1.prototype.delete=function(key){var entries=this.__entries__;var index=getIndex(entries,key);if(~index){entries.splice(index,1)}};class_1.prototype.has=function(key){return!!~getIndex(this.__entries__,key)};class_1.prototype.clear=function(){this.__entries__.splice(0)};class_1.prototype.forEach=function(callback,ctx){if(ctx===void 0){ctx=null}for(var _i=0,_a=this.__entries__;_i<_a.length;_i++){var entry=_a[_i];callback.call(ctx,entry[1],entry[0])}};return class_1}()}();var isBrowser=typeof window!=="undefined"&&typeof document!=="undefined"&&window.document===document;var global$1=function(){if(typeof global!=="undefined"&&global.Math===Math){return global}if(typeof self!=="undefined"&&self.Math===Math){return self}if(typeof window!=="undefined"&&window.Math===Math){return window}return Function("return this")()}();var requestAnimationFrame$1=function(){if(typeof requestAnimationFrame==="function"){return requestAnimationFrame.bind(global$1)}return function(callback){return setTimeout((function(){return callback(Date.now())}),1e3/60)}}();var trailingTimeout=2;function throttle(callback,delay){var leadingCall=false,trailingCall=false,lastCallTime=0;function resolvePending(){if(leadingCall){leadingCall=false;callback()}if(trailingCall){proxy()}}function timeoutCallback(){requestAnimationFrame$1(resolvePending)}function proxy(){var timeStamp=Date.now();if(leadingCall){if(timeStamp-lastCallTime<trailingTimeout){return}trailingCall=true}else{leadingCall=true;trailingCall=false;setTimeout(timeoutCallback,delay)}lastCallTime=timeStamp}return proxy}var REFRESH_DELAY=20;var transitionKeys=["top","right","bottom","left","width","height","size","weight"];var mutationObserverSupported=typeof MutationObserver!=="undefined";var ResizeObserverController=function(){function ResizeObserverController(){this.connected_=false;this.mutationEventsAdded_=false;this.mutationsObserver_=null;this.observers_=[];this.onTransitionEnd_=this.onTransitionEnd_.bind(this);this.refresh=throttle(this.refresh.bind(this),REFRESH_DELAY)}ResizeObserverController.prototype.addObserver=function(observer){if(!~this.observers_.indexOf(observer)){this.observers_.push(observer)}if(!this.connected_){this.connect_()}};ResizeObserverController.prototype.removeObserver=function(observer){var observers=this.observers_;var index=observers.indexOf(observer);if(~index){observers.splice(index,1)}if(!observers.length&&this.connected_){this.disconnect_()}};ResizeObserverController.prototype.refresh=function(){var changesDetected=this.updateObservers_();if(changesDetected){this.refresh()}};ResizeObserverController.prototype.updateObservers_=function(){var activeObservers=this.observers_.filter((function(observer){return observer.gatherActive(),observer.hasActive()}));activeObservers.forEach((function(observer){return observer.broadcastActive()}));return activeObservers.length>0};ResizeObserverController.prototype.connect_=function(){if(!isBrowser||this.connected_){return}document.addEventListener("transitionend",this.onTransitionEnd_);window.addEventListener("resize",this.refresh);if(mutationObserverSupported){this.mutationsObserver_=new MutationObserver(this.refresh);this.mutationsObserver_.observe(document,{attributes:true,childList:true,characterData:true,subtree:true})}else{document.addEventListener("DOMSubtreeModified",this.refresh);this.mutationEventsAdded_=true}this.connected_=true};ResizeObserverController.prototype.disconnect_=function(){if(!isBrowser||!this.connected_){return}document.removeEventListener("transitionend",this.onTransitionEnd_);window.removeEventListener("resize",this.refresh);if(this.mutationsObserver_){this.mutationsObserver_.disconnect()}if(this.mutationEventsAdded_){document.removeEventListener("DOMSubtreeModified",this.refresh)}this.mutationsObserver_=null;this.mutationEventsAdded_=false;this.connected_=false};ResizeObserverController.prototype.onTransitionEnd_=function(_a){var _b=_a.propertyName,propertyName=_b===void 0?"":_b;var isReflowProperty=transitionKeys.some((function(key){return!!~propertyName.indexOf(key)}));if(isReflowProperty){this.refresh()}};ResizeObserverController.getInstance=function(){if(!this.instance_){this.instance_=new ResizeObserverController}return this.instance_};ResizeObserverController.instance_=null;return ResizeObserverController}();var defineConfigurable=function(target,props){for(var _i=0,_a=Object.keys(props);_i<_a.length;_i++){var key=_a[_i];Object.defineProperty(target,key,{value:props[key],enumerable:false,writable:false,configurable:true})}return target};var getWindowOf=function(target){var ownerGlobal=target&&target.ownerDocument&&target.ownerDocument.defaultView;return ownerGlobal||global$1};var emptyRect=createRectInit(0,0,0,0);function toFloat(value){return parseFloat(value)||0}function getBordersSize(styles){var positions=[];for(var _i=1;_i<arguments.length;_i++){positions[_i-1]=arguments[_i]}return positions.reduce((function(size,position){var value=styles["border-"+position+"-width"];return size+toFloat(value)}),0)}function getPaddings(styles){var positions=["top","right","bottom","left"];var paddings={};for(var _i=0,positions_1=positions;_i<positions_1.length;_i++){var position=positions_1[_i];var value=styles["padding-"+position];paddings[position]=toFloat(value)}return paddings}function getSVGContentRect(target){var bbox=target.getBBox();return createRectInit(0,0,bbox.width,bbox.height)}function getHTMLElementContentRect(target){var clientWidth=target.clientWidth,clientHeight=target.clientHeight;if(!clientWidth&&!clientHeight){return emptyRect}var styles=getWindowOf(target).getComputedStyle(target);var paddings=getPaddings(styles);var horizPad=paddings.left+paddings.right;var vertPad=paddings.top+paddings.bottom;var width=toFloat(styles.width),height=toFloat(styles.height);if(styles.boxSizing==="border-box"){if(Math.round(width+horizPad)!==clientWidth){width-=getBordersSize(styles,"left","right")+horizPad}if(Math.round(height+vertPad)!==clientHeight){height-=getBordersSize(styles,"top","bottom")+vertPad}}if(!isDocumentElement(target)){var vertScrollbar=Math.round(width+horizPad)-clientWidth;var horizScrollbar=Math.round(height+vertPad)-clientHeight;if(Math.abs(vertScrollbar)!==1){width-=vertScrollbar}if(Math.abs(horizScrollbar)!==1){height-=horizScrollbar}}return createRectInit(paddings.left,paddings.top,width,height)}var isSVGGraphicsElement=function(){if(typeof SVGGraphicsElement!=="undefined"){return function(target){return target instanceof getWindowOf(target).SVGGraphicsElement}}return function(target){return target instanceof getWindowOf(target).SVGElement&&typeof target.getBBox==="function"}}();function isDocumentElement(target){return target===getWindowOf(target).document.documentElement}function getContentRect(target){if(!isBrowser){return emptyRect}if(isSVGGraphicsElement(target)){return getSVGContentRect(target)}return getHTMLElementContentRect(target)}function createReadOnlyRect(_a){var x=_a.x,y=_a.y,width=_a.width,height=_a.height;var Constr=typeof DOMRectReadOnly!=="undefined"?DOMRectReadOnly:Object;var rect=Object.create(Constr.prototype);defineConfigurable(rect,{x:x,y:y,width:width,height:height,top:y,right:x+width,bottom:height+y,left:x});return rect}function createRectInit(x,y,width,height){return{x:x,y:y,width:width,height:height}}var ResizeObservation=function(){function ResizeObservation(target){this.broadcastWidth=0;this.broadcastHeight=0;this.contentRect_=createRectInit(0,0,0,0);this.target=target}ResizeObservation.prototype.isActive=function(){var rect=getContentRect(this.target);this.contentRect_=rect;return rect.width!==this.broadcastWidth||rect.height!==this.broadcastHeight};ResizeObservation.prototype.broadcastRect=function(){var rect=this.contentRect_;this.broadcastWidth=rect.width;this.broadcastHeight=rect.height;return rect};return ResizeObservation}();var ResizeObserverEntry=function(){function ResizeObserverEntry(target,rectInit){var contentRect=createReadOnlyRect(rectInit);defineConfigurable(this,{target:target,contentRect:contentRect})}return ResizeObserverEntry}();var ResizeObserverSPI=function(){function ResizeObserverSPI(callback,controller,callbackCtx){this.activeObservations_=[];this.observations_=new MapShim;if(typeof callback!=="function"){throw new TypeError("The callback provided as parameter 1 is not a function.")}this.callback_=callback;this.controller_=controller;this.callbackCtx_=callbackCtx}ResizeObserverSPI.prototype.observe=function(target){if(!arguments.length){throw new TypeError("1 argument required, but only 0 present.")}if(typeof Element==="undefined"||!(Element instanceof Object)){return}if(!(target instanceof getWindowOf(target).Element)){throw new TypeError('parameter 1 is not of type "Element".')}var observations=this.observations_;if(observations.has(target)){return}observations.set(target,new ResizeObservation(target));this.controller_.addObserver(this);this.controller_.refresh()};ResizeObserverSPI.prototype.unobserve=function(target){if(!arguments.length){throw new TypeError("1 argument required, but only 0 present.")}if(typeof Element==="undefined"||!(Element instanceof Object)){return}if(!(target instanceof getWindowOf(target).Element)){throw new TypeError('parameter 1 is not of type "Element".')}var observations=this.observations_;if(!observations.has(target)){return}observations.delete(target);if(!observations.size){this.controller_.removeObserver(this)}};ResizeObserverSPI.prototype.disconnect=function(){this.clearActive();this.observations_.clear();this.controller_.removeObserver(this)};ResizeObserverSPI.prototype.gatherActive=function(){var _this=this;this.clearActive();this.observations_.forEach((function(observation){if(observation.isActive()){_this.activeObservations_.push(observation)}}))};ResizeObserverSPI.prototype.broadcastActive=function(){if(!this.hasActive()){return}var ctx=this.callbackCtx_;var entries=this.activeObservations_.map((function(observation){return new ResizeObserverEntry(observation.target,observation.broadcastRect())}));this.callback_.call(ctx,entries,ctx);this.clearActive()};ResizeObserverSPI.prototype.clearActive=function(){this.activeObservations_.splice(0)};ResizeObserverSPI.prototype.hasActive=function(){return this.activeObservations_.length>0};return ResizeObserverSPI}();var observers=typeof WeakMap!=="undefined"?new WeakMap:new MapShim;var ResizeObserver=function(){function ResizeObserver(callback){if(!(this instanceof ResizeObserver)){throw new TypeError("Cannot call a class as a function.")}if(!arguments.length){throw new TypeError("1 argument required, but only 0 present.")}var controller=ResizeObserverController.getInstance();var observer=new ResizeObserverSPI(callback,controller,this);observers.set(this,observer)}return ResizeObserver}();["observe","unobserve","disconnect"].forEach((function(method){ResizeObserver.prototype[method]=function(){var _a;return(_a=observers.get(this))[method].apply(_a,arguments)}}));var index=function(){if(typeof global$1.ResizeObserver!=="undefined"){return global$1.ResizeObserver}return ResizeObserver}();return index}))}).call(this,__webpack_require__(54))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(0);function useRendersCount(){return++react_1.useRef(0).current}exports.useRendersCount=useRendersCount},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(0);var useSet=function(initialSet){if(initialSet===void 0){initialSet=new Set}var _a=react_1.useState(initialSet),set=_a[0],setSet=_a[1];var stableActions=react_1.useMemo((function(){var add=function(item){return setSet((function(prevSet){return new Set(tslib_1.__spreadArrays(Array.from(prevSet),[item]))}))};var remove=function(item){return setSet((function(prevSet){return new Set(Array.from(prevSet).filter((function(i){return i!==item})))}))};var toggle=function(item){return setSet((function(prevSet){return prevSet.has(item)?new Set(Array.from(prevSet).filter((function(i){return i!==item}))):new Set(tslib_1.__spreadArrays(Array.from(prevSet),[item]))}))};return{add:add,remove:remove,toggle:toggle,reset:function(){return setSet(initialSet)}}}),[setSet]);var utils=tslib_1.__assign({has:react_1.useCallback((function(item){return set.has(item)}),[set])},stableActions);return[set,utils]};exports.default=useSet},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(0);var useEffectOnce_1=tslib_1.__importDefault(__webpack_require__(19));function createGlobalState(initialState){var store={state:initialState,setState:function(state){store.state=state;store.setters.forEach((function(setter){return setter(store.state)}))},setters:[]};return function(){var _a=react_1.useState(store.state),globalState=_a[0],stateSetter=_a[1];useEffectOnce_1.default((function(){return function(){store.setters=store.setters.filter((function(setter){return setter!==stateSetter}))}}));react_1.useLayoutEffect((function(){if(!store.setters.includes(stateSetter)){store.setters.push(stateSetter)}}));return[globalState,store.setState]}}exports.createGlobalState=createGlobalState;exports.default=createGlobalState},function(module,exports){module.exports=function(){throw new Error("define cannot be used indirect")}},function(module,exports){(function(__webpack_amd_options__){module.exports=__webpack_amd_options__}).call(this,{})},function(module,exports,__webpack_require__){var api=__webpack_require__(14);var content=__webpack_require__(161);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.savedObjectsManagementImportSummary__row{margin-bottom:4px}.savedObjectsManagementImportSummary__title{min-width:0}.savedObjectsManagementImportSummary__createdCount{color:#7de2d1}.savedObjectsManagementImportSummary__errorCount{color:#f66}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(14);var content=__webpack_require__(163);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.savedObjectsManagementImportSummary__row{margin-bottom:4px}.savedObjectsManagementImportSummary__title{min-width:0}.savedObjectsManagementImportSummary__createdCount{color:#017d73}.savedObjectsManagementImportSummary__errorCount{color:#bd271e}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(14);var content=__webpack_require__(165);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.savedObjectsManagementImportSummary__row{margin-bottom:4px}.savedObjectsManagementImportSummary__title{min-width:0}.savedObjectsManagementImportSummary__createdCount{color:#7de2d1}.savedObjectsManagementImportSummary__errorCount{color:#f66}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(14);var content=__webpack_require__(167);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.savedObjectsManagementImportSummary__row{margin-bottom:4px}.savedObjectsManagementImportSummary__title{min-width:0}.savedObjectsManagementImportSummary__createdCount{color:#01786f}.savedObjectsManagementImportSummary__errorCount{color:#bd271e}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(14);var content=__webpack_require__(169);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.savedObjectsManagementImportSummary__row{margin-bottom:4px}.savedObjectsManagementImportSummary__title{min-width:0}.savedObjectsManagementImportSummary__createdCount{color:#129079}.savedObjectsManagementImportSummary__errorCount{color:#cd5d56}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___},function(module,exports,__webpack_require__){var api=__webpack_require__(14);var content=__webpack_require__(171);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);var ___CSS_LOADER_EXPORT___=_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()((function(i){return i[1]}));___CSS_LOADER_EXPORT___.push([module.i,"/*!\n * SPDX-License-Identifier: Apache-2.0\n *\n * The OpenSearch Contributors require contributions made to\n * this file be licensed under the Apache-2.0 license or a\n * compatible open source license.\n *\n * Modifications Copyright OpenSearch Contributors. See\n * GitHub history for details.\n */\n\n.savedObjectsManagementImportSummary__row{margin-bottom:4px}.savedObjectsManagementImportSummary__title{min-width:0}.savedObjectsManagementImportSummary__createdCount{color:#0f7b68}.savedObjectsManagementImportSummary__errorCount{color:#c43d35}\n",""]);__webpack_exports__["default"]=___CSS_LOADER_EXPORT___}]);